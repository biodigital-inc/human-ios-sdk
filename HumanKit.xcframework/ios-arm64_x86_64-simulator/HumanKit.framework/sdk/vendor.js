(self.webpackChunkhuman_studio_next=self.webpackChunkhuman_studio_next||[]).push([[502,449,76],{65763:(en,Ve,E)=>{"use strict";E.d(Ve,{rc:()=>ur,En:()=>Gn,rK:()=>ar,l6:()=>No,MD:()=>Ks,Um:()=>qo,Uw:()=>jr,il:()=>zo,Mz:()=>Ms,rM:()=>hi,xi:()=>dr});var i=E(54438),u=E(60391);let f=(()=>{class ot{constructor(){this.bootstrap$=new u.m(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return ot.\u0275fac=function(Wt){return new(Wt||ot)},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();function C(ot,xn){return ot===xn}function w(ot,xn=C){let Wt=null,hn=null;function $e(){return function x(ot,xn,Wt){if(null===xn||null===Wt||xn.length!==Wt.length)return!1;const hn=xn.length;for(let $e=0;$e<hn;$e++)if(!ot(xn[$e],Wt[$e]))return!1;return!0}(xn,Wt,arguments)||(hn=ot.apply(null,arguments)),Wt=arguments,hn}return $e.reset=function(){Wt=null,hn=null},$e}let d=(()=>{class ot{static set(Wt){this._value=Wt}static pop(){const Wt=this._value;return this._value={},Wt}}return ot._value={},ot})();const k=new i.nKC("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>d.pop()}),S=new i.nKC("\u0275NGXS_STATE_FACTORY"),U=new i.nKC("\u0275NGXS_STATE_CONTEXT_FACTORY");var P=E(60177),y=E(2573),v=E(85052),M=E(29160),G=E(15877),K=E(46104),V=E(45326),Z=E(2515),J=E(21472),te=E(28454),ae=E(14264),Y=E(36110),$=E(20075),H=E(49784),me=E(17365),B=E(81954),ce=E(15210),Oe=E(66196);function Ue(ot,xn){return xn?Wt=>Wt.pipe(Ue((hn,$e)=>(0,B.Tg)(ot(hn,$e)).pipe((0,Y.T)((Nt,nn)=>xn(hn,Nt,$e,nn))))):(0,ce.N)((Wt,hn)=>{let $e=0,Nt=null,nn=!1;Wt.subscribe((0,Oe._)(hn,Zn=>{Nt||(Nt=(0,Oe._)(hn,void 0,()=>{Nt=null,nn&&hn.complete()}),(0,B.Tg)(ot(Zn,$e++)).subscribe(Nt))},()=>{nn=!0,!Nt&&hn.complete()}))})}var qe=E(11756),_e=E(47369),ht=E(28577),Bt=E(37925),de=E(21082),R=E(39705),j=E(35160),he=E(1670);function z(ot){return ot.constructor&&ot.constructor.type?ot.constructor.type:ot.type}const I=(ot,xn,Wt)=>{ot=Object.assign({},ot);const hn=xn.split("."),$e=hn.length-1;return hn.reduce((Nt,nn,Zn)=>(Nt[nn]=Zn===$e?Wt:Array.isArray(Nt[nn])?Nt[nn].slice():Object.assign({},Nt[nn]),Nt&&Nt[nn]),ot),ot},Ae=(ot,xn)=>xn.split(".").reduce((Wt,hn)=>Wt&&Wt[hn],ot),se=ot=>ot&&"object"==typeof ot&&!Array.isArray(ot),L=(ot,...xn)=>{if(!xn.length)return ot;const Wt=xn.shift();if(se(ot)&&se(Wt))for(const hn in Wt)se(Wt[hn])?(ot[hn]||Object.assign(ot,{[hn]:{}}),L(ot[hn],Wt[hn])):Object.assign(ot,{[hn]:Wt[hn]});return L(ot,...xn)};let lt=(()=>{class ot{constructor(Wt,hn){this._ngZone=Wt,this._platformId=hn}enter(Wt){return(0,P.Vy)(this._platformId)?this.runInsideAngular(Wt):this.runOutsideAngular(Wt)}leave(Wt){return this.runInsideAngular(Wt)}runInsideAngular(Wt){return i.SKi.isInAngularZone()?Wt():this._ngZone.run(Wt)}runOutsideAngular(Wt){return i.SKi.isInAngularZone()?this._ngZone.runOutsideAngular(Wt):Wt()}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(i.SKi),i.KVO(i.Agw))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();const He=new i.nKC("ROOT_OPTIONS"),ye=new i.nKC("ROOT_STATE_TOKEN"),mt=new i.nKC("FEATURE_STATE_TOKEN"),rt=new i.nKC("NGXS_PLUGINS"),Kt="NGXS_META",Dn="NGXS_OPTIONS_META",Jn="NGXS_SELECTOR_META";let lr=(()=>{class ot{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=lt}}return ot.\u0275fac=function(Wt){return new(Wt||ot)},ot.\u0275prov=i.jDH({token:ot,factory:function(Wt){let hn=null;return Wt?hn=new Wt:($e=i.KVO(He),hn=L(new ot,$e)),hn;var $e},providedIn:"root"}),ot})();class an{constructor(xn,Wt,hn){this.previousValue=xn,this.currentValue=Wt,this.firstChange=hn}}let At=(()=>{class ot{enter(Wt){return Wt()}leave(Wt){return Wt()}}return ot.\u0275fac=function(Wt){return new(Wt||ot)},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();const Et=new i.nKC("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),xt=new i.nKC("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const ot=(0,i.WQX)(i.duS),xn=ot.get(Et);return ot.get(xn||(typeof i.JZv.Zone<"u"?lt:At))}});function gt(ot){if(!ot.hasOwnProperty(Kt)){const xn={name:null,actions:{},defaults:{},path:null,makeRootSelector:Wt=>Wt.getStateGetter(xn.name),children:[]};Object.defineProperty(ot,Kt,{value:xn})}return tn(ot)}function tn(ot){return ot[Kt]}function Ye(ot){return ot[Jn]}function it(ot,xn){return xn&&xn.compatibility&&xn.compatibility.strictContentSecurityPolicy?function Vt(ot){const xn=ot.slice();return Wt=>xn.reduce((hn,$e)=>hn&&hn[$e],Wt)}(ot):function En(ot){const xn=ot;let Wt="store."+xn[0],hn=0;const $e=xn.length;let Nt=Wt;for(;++hn<$e;)Nt=Nt+" && "+(Wt=Wt+"."+xn[hn]);return new Function("store","return "+Nt+";")}(ot)}function dr(...ot){return fi(ot,["DISPATCHED"])}function hi(...ot){return fi(ot,["SUCCESSFUL","CANCELED","ERRORED"],uo)}function fi(ot,xn,Wt=Pi){const hn=function ti(ot){return ot.reduce((xn,Wt)=>(xn[z(Wt)]=!0,xn),{})}(ot),$e=xn&&function mr(ot){return ot.reduce((xn,Wt)=>(xn[Wt]=!0,xn),{})}(xn);return function(Nt){return Nt.pipe(function co(ot,xn){return(0,ae.p)(Wt=>{const hn=z(Wt.action);return ot[hn]&&(!xn||xn[Wt.status])})}(hn,$e),Wt())}}function uo(){return(0,Y.T)(({action:ot,status:xn,error:Wt})=>({action:ot,result:{successful:"SUCCESSFUL"===xn,canceled:"CANCELED"===xn,error:Wt}}))}function Pi(){return(0,Y.T)(ot=>ot.action)}function Li(ot){return xn=>new y.c(Wt=>xn.subscribe({next(hn){ot.leave(()=>Wt.next(hn))},error(hn){ot.leave(()=>Wt.error(hn))},complete(){ot.leave(()=>Wt.complete())}}))}let ro=(()=>{class ot{constructor(Wt){this._executionStrategy=Wt}enter(Wt){return this._executionStrategy.enter(Wt)}leave(Wt){return this._executionStrategy.leave(Wt)}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(xt))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();function Pe(ot){const xn=[];let Wt=!1;return function(...$e){if(Wt)xn.unshift($e);else{for(Wt=!0,ot(...$e);xn.length>0;){const Nt=xn.pop();Nt&&ot(...Nt)}Wt=!1}}}class dt extends v.B{constructor(){super(...arguments),this._orderedNext=Pe(xn=>super.next(xn))}next(xn){this._orderedNext(xn)}}class vn extends M.t{constructor(xn){super(xn),this._orderedNext=Pe(Wt=>super.next(Wt)),this._currentValue=xn}getValue(){return this._currentValue}next(xn){this._currentValue=xn,this._orderedNext(xn)}}let bn=(()=>{class ot extends dt{ngOnDestroy(){this.complete()}}return ot.\u0275fac=(()=>{let xn;return function(hn){return(xn||(xn=i.xGo(ot)))(hn||ot)}})(),ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),Gn=(()=>{class ot extends y.c{constructor(Wt,hn){const $e=Wt.pipe(Li(hn),(0,$.u)());super(Nt=>{const nn=$e.subscribe({next:Zn=>Nt.next(Zn),error:Zn=>Nt.error(Zn),complete:()=>Nt.complete()});Nt.add(nn)})}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(bn),i.KVO(ro))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();const nr=ot=>(...xn)=>ot.shift()(...xn,(...hn)=>nr(ot)(...hn));let Be=(()=>{class ot{constructor(Wt){this._injector=Wt,this._errorHandler=null}reportErrorSafely(Wt){null===this._errorHandler&&(this._errorHandler=this._injector.get(i.zcH));try{this._errorHandler.handleError(Wt)}catch{}}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(i.zZn))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),tt=(()=>{class ot extends vn{constructor(){super({})}ngOnDestroy(){this.complete()}}return ot.\u0275fac=function(Wt){return new(Wt||ot)},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),un=(()=>{class ot{constructor(Wt,hn){this._parentManager=Wt,this._pluginHandlers=hn,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const Wt=this.getPluginHandlers();this.rootPlugins.push(...Wt)}getPluginHandlers(){return(this._pluginHandlers||[]).map(hn=>hn.handle?hn.handle.bind(hn):hn)}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(ot,12),i.KVO(rt,8))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac}),ot})(),fr=(()=>{class ot extends v.B{}return ot.\u0275fac=(()=>{let xn;return function(hn){return(xn||(xn=i.xGo(ot)))(hn||ot)}})(),ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),Ar=(()=>{class ot{constructor(Wt,hn,$e,Nt,nn,Zn){this._actions=Wt,this._actionResults=hn,this._pluginManager=$e,this._stateStream=Nt,this._ngxsExecutionStrategy=nn,this._internalErrorReporter=Zn}dispatch(Wt){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(Wt)).pipe(function er(ot,xn){return Wt=>{let hn=!1;return Wt.subscribe({error:$e=>{xn.enter(()=>Promise.resolve().then(()=>{hn||xn.leave(()=>ot.reportErrorSafely($e))}))}}),new y.c($e=>(hn=!0,Wt.pipe(Li(xn)).subscribe($e)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(Wt){return Array.isArray(Wt)?0===Wt.length?(0,G.of)(this._stateStream.getValue()):(0,K.p)(Wt.map(hn=>this.dispatchSingle(hn))):this.dispatchSingle(Wt)}dispatchSingle(Wt){const hn=this._stateStream.getValue();return nr([...this._pluginManager.plugins,(Nt,nn)=>{Nt!==hn&&this._stateStream.next(Nt);const Zn=this.getActionResultStream(nn);return Zn.subscribe(Er=>this._actions.next(Er)),this._actions.next({action:nn,status:"DISPATCHED"}),this.createDispatchObservable(Zn)}])(hn,Wt).pipe((0,H.t)())}getActionResultStream(Wt){return this._actionResults.pipe((0,ae.p)(hn=>hn.action===Wt&&"DISPATCHED"!==hn.status),(0,me.s)(1),(0,H.t)())}createDispatchObservable(Wt){return Wt.pipe(Ue(hn=>{switch(hn.status){case"SUCCESSFUL":return(0,G.of)(this._stateStream.getValue());case"ERRORED":return(0,V.$)(hn.error);default:return Z.w}})).pipe((0,H.t)())}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(bn),i.KVO(fr),i.KVO(un),i.KVO(tt),i.KVO(ro),i.KVO(Be))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),si=(()=>{class ot{constructor(Wt,hn,$e){this._stateStream=Wt,this._dispatcher=hn,this._config=$e}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:hn=>this._stateStream.next(hn),dispatch:hn=>this._dispatcher.dispatch(hn)}}setStateToTheCurrentWithNew(Wt){const hn=this.getRootStateOperations(),$e=hn.getState();hn.setState(Object.assign(Object.assign({},$e),Wt.defaults))}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(tt),i.KVO(Ar),i.KVO(lr))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),ai=(()=>{class ot{constructor(Wt){this._internalStateOperations=Wt}createStateContext(Wt){const hn=this._internalStateOperations.getRootStateOperations();return{getState:()=>wo(hn.getState(),Wt.path),patchState($e){const Nt=hn.getState(),nn=function ni(ot){return xn=>{const Wt=Object.assign({},xn);for(const hn in ot)Wt[hn]=ot[hn];return Wt}}($e);return so(hn,Nt,nn,Wt.path)},setState($e){const Nt=hn.getState();return function pt(ot){return"function"==typeof ot}($e)?so(hn,Nt,$e,Wt.path):Oi(hn,Nt,$e,Wt.path)},dispatch:$e=>hn.dispatch($e)}}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(si))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();function Oi(ot,xn,Wt,hn){const $e=I(xn,hn,Wt);return ot.setState($e),$e}function so(ot,xn,Wt,hn){return Oi(ot,xn,Wt(wo(xn,hn)),hn)}function wo(ot,xn){return Ae(ot,xn)}new RegExp("^[a-zA-Z0-9_]+$");let Wn=(()=>{class ot{}return ot.type="@@INIT",ot})(),Ir=(()=>{class ot{constructor(Wt){this.addedStates=Wt}}return ot.type="@@UPDATE_STATE",ot})();new i.nKC("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let _o=(()=>{class ot{constructor(Wt,hn,$e,Nt,nn,Zn,Er){this._injector=Wt,this._config=hn,this._parentFactory=$e,this._actions=Nt,this._actionResults=nn,this._stateContextFactory=Zn,this._initialState=Er,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=w(()=>{const Cr=this;function Kr(pi){const ri=Cr.statePaths[pi];return ri?it(ri.split("."),Cr._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(pi){let ri=Kr(pi);return ri||((...Xi)=>(ri||(ri=Kr(pi)),ri?ri(...Xi):void 0))},getSelectorOptions:pi=>Object.assign(Object.assign({},Cr._config.selectorOptions),pi||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(Wt){let hn=Wt;return Array.isArray(Wt)?hn=Wt.slice():function wn(ot){return"object"==typeof ot&&null!==ot||"function"==typeof ot}(Wt)?hn=Object.assign({},Wt):void 0===Wt&&(hn={}),hn}ngOnDestroy(){var Wt;null===(Wt=this._actionsSubscription)||void 0===Wt||Wt.unsubscribe()}add(Wt){const{newStates:hn}=this.addToStatesMap(Wt);if(!hn.length)return[];const $e=function ke(ot){const xn=Wt=>ot.find($e=>$e===Wt)[Kt].name;return ot.reduce((Wt,hn)=>{const{name:$e,children:Nt}=hn[Kt];return Wt[$e]=(Nt||[]).map(xn),Wt},{})}(hn),Nt=function Tt(ot){const xn=[],Wt={},hn=($e,Nt=[])=>{Array.isArray(Nt)||(Nt=[]),Nt.push($e),Wt[$e]=!0,ot[$e].forEach(nn=>{Wt[nn]||hn(nn,Nt.slice(0))}),xn.indexOf($e)<0&&xn.push($e)};return Object.keys(ot).forEach($e=>hn($e)),xn.reverse()}($e),nn=function We(ot,xn={}){const Wt=(hn,$e)=>{for(const Nt in hn)if(hn.hasOwnProperty(Nt)&&hn[Nt].indexOf($e)>=0){const nn=Wt(hn,Nt);return null!==nn?`${nn}.${Nt}`:Nt}return null};for(const hn in ot)if(ot.hasOwnProperty(hn)){const $e=Wt(ot,hn);xn[hn]=$e?`${$e}.${hn}`:hn}return xn}($e),Zn=function Jt(ot){return ot.reduce((xn,Wt)=>(xn[Wt[Kt].name]=Wt,xn),{})}(hn),Er=[];for(const Cr of Nt){const Kr=Zn[Cr],$r=nn[Cr],pi=Kr[Kt];this.addRuntimeInfoToMeta(pi,$r);const ri={name:Cr,path:$r,isInitialised:!1,actions:pi.actions,instance:this._injector.get(Kr),defaults:ot._cloneDefaults(pi.defaults)};this.hasBeenMountedAndBootstrapped(Cr,$r)||Er.push(ri),this.states.push(ri)}return Er}addAndReturnDefaults(Wt){const $e=this.add(Wt||[]);return{defaults:$e.reduce((nn,Zn)=>I(nn,Zn.path,Zn.defaults),{}),states:$e}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const Wt=new v.B;this._actionsSubscription=this._actions.pipe((0,ae.p)(hn=>"DISPATCHED"===hn.status),(0,qe.Z)(hn=>{Wt.next(hn);const $e=hn.action;return this.invokeActions(Wt,$e).pipe((0,Y.T)(()=>({action:$e,status:"SUCCESSFUL"})),(0,_e.U)({action:$e,status:"CANCELED"}),(0,ht.W)(Nt=>(0,G.of)({action:$e,status:"ERRORED",error:Nt})))})).subscribe(hn=>this._actionResults.next(hn))}invokeActions(Wt,hn){const $e=z(hn),Nt=[];let nn=!1;for(const Zn of this.states){const Er=Zn.actions[$e];if(Er)for(const Cr of Er){const Kr=this._stateContextFactory.createStateContext(Zn);try{let $r=Zn.instance[Cr.fn](Kr,hn);$r instanceof Promise&&($r=(0,J.H)($r)),(0,te.A)($r)?($r=$r.pipe((0,qe.Z)(pi=>pi instanceof Promise?(0,J.H)(pi):(0,te.A)(pi)?pi:(0,G.of)(pi)),(0,_e.U)({})),Cr.options.cancelUncompleted&&($r=$r.pipe((0,Bt.Q)(Wt.pipe(dr(hn)))))):$r=(0,G.of)({}).pipe((0,H.t)()),Nt.push($r)}catch($r){Nt.push((0,V.$)($r))}nn=!0}}return Nt.length||Nt.push((0,G.of)({})),(0,K.p)(Nt)}addToStatesMap(Wt){const hn=[],$e=this.statesByName;for(const Nt of Wt){const nn=tn(Nt).name;!$e[nn]&&(hn.push(Nt),$e[nn]=Nt)}return{newStates:hn}}addRuntimeInfoToMeta(Wt,hn){this.statePaths[Wt.name]=hn,Wt.path=hn}hasBeenMountedAndBootstrapped(Wt,hn){const $e=void 0!==Ae(this._initialState,hn);return this.statesByName[Wt]&&$e}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(i.zZn),i.KVO(lr),i.KVO(ot,12),i.KVO(bn),i.KVO(fr),i.KVO(ai),i.KVO(k,8))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac}),ot})();function ms(ot){const xn=Ye(ot)||tn(ot);return xn&&xn.makeRootSelector||(()=>ot)}let zo=(()=>{class ot{constructor(Wt,hn,$e,Nt,nn,Zn){this._stateStream=Wt,this._internalStateOperations=hn,this._config=$e,this._internalExecutionStrategy=Nt,this._stateFactory=nn,this._selectableStateStream=this._stateStream.pipe(Li(this._internalExecutionStrategy),(0,H.t)({bufferSize:1,refCount:!0})),this.initStateStream(Zn)}dispatch(Wt){return this._internalStateOperations.getRootStateOperations().dispatch(Wt)}select(Wt){const hn=this.getStoreBoundSelectorFn(Wt);return this._selectableStateStream.pipe((0,Y.T)(hn),(0,ht.W)($e=>{const{suppressErrors:Nt}=this._config.selectorOptions;return $e instanceof TypeError&&Nt?(0,G.of)(void 0):(0,V.$)($e)}),(0,de.F)(),Li(this._internalExecutionStrategy))}selectOnce(Wt){return this.select(Wt).pipe((0,me.s)(1))}selectSnapshot(Wt){return this.getStoreBoundSelectorFn(Wt)(this._stateStream.getValue())}subscribe(Wt){return this._selectableStateStream.pipe(Li(this._internalExecutionStrategy)).subscribe(Wt)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(Wt){return this._internalStateOperations.getRootStateOperations().setState(Wt)}getStoreBoundSelectorFn(Wt){return ms(Wt)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(Wt){const hn=this._stateStream.value;if(!hn||0===Object.keys(hn).length){const nn=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),Wt):Wt;this._stateStream.next(nn)}}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(tt),i.KVO(si),i.KVO(lr),i.KVO(ro),i.KVO(_o),i.KVO(k,8))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),Zo=(()=>{class ot{constructor(Wt,hn){ot.store=Wt,ot.config=hn}ngOnDestroy(){ot.store=null,ot.config=null}}return ot.store=null,ot.config=null,ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(zo),i.KVO(lr))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),os=(()=>{class ot{constructor(Wt,hn,$e,Nt,nn){this._store=Wt,this._internalErrorReporter=hn,this._internalStateOperations=$e,this._stateContextFactory=Nt,this._bootstrapper=nn,this._destroy$=new v.B}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(Wt,hn){this._internalStateOperations.getRootStateOperations().dispatch(Wt).pipe((0,ae.p)(()=>!!hn),(0,R.M)(()=>this._invokeInitOnStates(hn.states)),(0,qe.Z)(()=>this._bootstrapper.appBootstrapped$),(0,ae.p)($e=>!!$e),(0,ht.W)($e=>(this._internalErrorReporter.reportErrorSafely($e),Z.w)),(0,Bt.Q)(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(hn.states))}_invokeInitOnStates(Wt){for(const hn of Wt){const $e=hn.instance;$e.ngxsOnChanges&&this._store.select(Nt=>Ae(Nt,hn.path)).pipe((0,j.Z)(void 0),(0,he.J)(),(0,Bt.Q)(this._destroy$)).subscribe(([Nt,nn])=>{const Zn=new an(Nt,nn,!hn.isInitialised);$e.ngxsOnChanges(Zn)}),$e.ngxsOnInit&&$e.ngxsOnInit(this._getStateContext(hn)),hn.isInitialised=!0}}_invokeBootstrapOnStates(Wt){for(const hn of Wt){const $e=hn.instance;$e.ngxsAfterBootstrap&&$e.ngxsAfterBootstrap(this._getStateContext(hn))}}_getStateContext(Wt){return this._stateContextFactory.createStateContext(Wt)}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(zo),i.KVO(Be),i.KVO(si),i.KVO(ai),i.KVO(f))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),ns=(()=>{class ot{constructor(Wt,hn,$e,Nt,nn=[],Zn){const Er=Wt.addAndReturnDefaults(nn);hn.setStateToTheCurrentWithNew(Er),Wt.connectActionHandlers(),Zn.ngxsBootstrap(new Wn,Er)}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(_o),i.KVO(si),i.KVO(zo),i.KVO(Zo),i.KVO(ye,8),i.KVO(os))},ot.\u0275mod=i.$C({type:ot}),ot.\u0275inj=i.G2t({}),ot})(),Rs=(()=>{class ot{constructor(Wt,hn,$e,Nt=[],nn){const Zn=ot.flattenStates(Nt),Er=$e.addAndReturnDefaults(Zn);Er.states.length&&(hn.setStateToTheCurrentWithNew(Er),nn.ngxsBootstrap(new Ir(Er.defaults),Er))}static flattenStates(Wt=[]){return Wt.reduce((hn,$e)=>hn.concat($e),[])}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(i.KVO(zo),i.KVO(si),i.KVO(_o),i.KVO(mt,8),i.KVO(os))},ot.\u0275mod=i.$C({type:ot}),ot.\u0275inj=i.G2t({}),ot})(),ar=(()=>{class ot{static forRoot(Wt=[],hn={}){return{ngModule:ns,providers:[_o,un,...Wt,...ot.ngxsTokenProviders(Wt,hn)]}}static forFeature(Wt=[]){return{ngModule:Rs,providers:[_o,un,...Wt,{provide:mt,multi:!0,useValue:Wt}]}}static ngxsTokenProviders(Wt,hn){return[{provide:Et,useValue:hn.executionStrategy},{provide:ye,useValue:Wt},{provide:He,useValue:hn},{provide:i.iLQ,useFactory:ot.appBootstrapListenerFactory,multi:!0,deps:[f]},{provide:U,useExisting:ai},{provide:S,useExisting:_o}]}static appBootstrapListenerFactory(Wt){return()=>Wt.bootstrap()}}return ot.\u0275fac=function(Wt){return new(Wt||ot)},ot.\u0275mod=i.$C({type:ot}),ot.\u0275inj=i.G2t({}),ot})();function ur(ot,xn){return(Wt,hn)=>{const $e=gt(Wt.constructor);Array.isArray(ot)||(ot=[ot]);for(const Nt of ot){const nn=Nt.type;$e.actions[nn]||($e.actions[nn]=[]),$e.actions[nn].push({fn:hn,options:xn||{},type:nn})}}}function jr(ot){return xn=>{const Wt=xn,hn=gt(Wt),$e=Object.getPrototypeOf(Wt),Nt=function Mi(ot,xn){return Object.assign(Object.assign({},ot[Dn]||{}),xn)}($e,ot);(function Ri(ot){const{meta:xn,inheritedStateClass:Wt,optionsWithInheritance:hn}=ot,{children:$e,defaults:Nt,name:nn}=hn,Zn="string"==typeof nn?nn:nn&&nn.getName()||null;if(Wt.hasOwnProperty(Kt)){const Er=Wt[Kt]||{};xn.actions=Object.assign(Object.assign({},xn.actions),Er.actions)}xn.children=$e,xn.defaults=Nt,xn.name=Zn})({meta:hn,inheritedStateClass:$e,optionsWithInheritance:Nt}),Wt[Dn]=Nt}}const zi=36;function No(ot,...xn){return function(Wt,hn){const $e=hn.toString(),Nt=`__${$e}__selector`,nn=function xo(ot,xn,Wt=[]){return xn=xn||function $i(ot){const xn=ot.length-1;return ot.charCodeAt(xn)===zi?ot.slice(0,xn):ot}(ot),"string"==typeof xn?it(Wt.length?[xn,...Wt]:xn.split("."),Zo.config):xn}($e,ot,xn);Object.defineProperties(Wt,{[Nt]:{writable:!0,enumerable:!1,configurable:!0},[$e]:{enumerable:!0,configurable:!0,get(){return this[Nt]||(this[Nt]=function to(ot){return Zo.store||function ut(){throw new Error("You have forgotten to import the NGXS module!")}(),Zo.store.select(ot)}(nn))}}})}}const ls="NGXS_SELECTOR_OPTIONS_META",Ns={getOptions:ot=>ot&&ot[ls]||{},defineOptions:(ot,xn)=>{ot&&(ot[ls]=xn)}};function ys(ot,xn){const Wt=function Xt(ot){return ot.hasOwnProperty(Jn)||Object.defineProperty(ot,Jn,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),Ye(ot)}(ot);Wt.originalFn=ot;let hn=()=>({});xn&&(Wt.containerClass=xn.containerClass,Wt.selectorName=xn.selectorName||null,hn=xn.getSelectorOptions||hn);const $e=Object.assign({},Wt);return Wt.getSelectorOptions=()=>function Os(ot,xn){return Object.assign(Object.assign(Object.assign(Object.assign({},Ns.getOptions(ot.containerClass)||{}),Ns.getOptions(ot.originalFn)||{}),ot.getSelectorOptions()||{}),xn)}($e,hn()),Wt}function qo(ot){return function(Wt,hn,$e){if(hn){$e||($e=Object.getOwnPropertyDescriptor(Wt,hn));const Nt=$e.value||$e.originalFn;Nt&&Ns.defineOptions(Nt,ot)}else Ns.defineOptions(Wt,ot)}}function Ms(ot,xn,Wt){const hn=function Ro(ot,xn){const Wt=xn&&xn.containerClass,$e=w(function(...nn){const Zn=ot.apply(Wt,nn);return Zn instanceof Function?w.apply(null,[Zn]):Zn});return Object.setPrototypeOf($e,ot),$e}(xn,Wt),$e=ys(xn,Wt);return $e.makeRootSelector=function Co(ot,xn,Wt){return hn=>{const{argumentSelectorFunctions:$e,selectorOptions:Nt}=function Is(ot,xn,Wt=[]){const hn=xn.getSelectorOptions(),$e=ot.getSelectorOptions(hn),nn=function Ws(ot=[],xn,Wt){const hn=[];return Wt&&(0===ot.length||xn.injectContainerState)&&tn(Wt)&&hn.push(Wt),ot&&hn.push(...ot),hn}(Wt,$e,xn.containerClass).map(Zn=>ms(Zn)(ot));return{selectorOptions:$e,argumentSelectorFunctions:nn}}(hn,ot,xn);return function(Zn){const Er=$e.map(Cr=>Cr(Zn));try{return Wt(...Er)}catch(Cr){if(Cr instanceof TypeError&&Nt.suppressErrors)return;throw Cr}}}}($e,ot,hn),hn}function Ks(ot){return(xn,Wt,hn)=>{hn||(hn=Object.getOwnPropertyDescriptor(xn,Wt));const $e=hn?.value,Nt=Ms(ot,$e,{containerClass:xn,selectorName:Wt.toString(),getSelectorOptions:()=>({})}),nn={configurable:!0,get:()=>Nt};return nn.originalFn=$e,nn}}},28638:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{Constants:()=>u,MotionController:()=>v,fetchProfile:()=>d,fetchProfilesList:()=>x});var i=E(28407);const u={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};function f(M){return C.apply(this,arguments)}function C(){return(C=(0,i.A)(function*(M){const G=yield fetch(M);if(G.ok)return G.json();throw new Error(G.statusText)})).apply(this,arguments)}function x(M){return w.apply(this,arguments)}function w(){return(w=(0,i.A)(function*(M){if(!M)throw new Error("No basePath supplied");return yield f(`${M}/profilesList.json`)})).apply(this,arguments)}function d(M,G){return k.apply(this,arguments)}function k(){return(k=(0,i.A)(function*(M,G,K=null,V=!0){if(!M)throw new Error("No xrInputSource supplied");if(!G)throw new Error("No basePath supplied");const Z=yield x(G);let J;if(M.profiles.some(Y=>{const $=Z[Y];return $&&(J={profileId:Y,profilePath:`${G}/${$.path}`,deprecated:!!$.deprecated}),!!J}),!J){if(!K)throw new Error("No matching profile name found");const Y=Z[K];if(!Y)throw new Error(`No matching profile name found and default profile "${K}" missing.`);J={profileId:K,profilePath:`${G}/${Y.path}`,deprecated:!!Y.deprecated}}const te=yield f(J.profilePath);let ae;if(V){let Y;if(Y="any"===M.handedness?te.layouts[Object.keys(te.layouts)[0]]:te.layouts[M.handedness],!Y)throw new Error(`No matching handedness, ${M.handedness}, in profile ${J.profileId}`);Y.assetPath&&(ae=J.profilePath.replace("profile.json",Y.assetPath))}return{profile:te,assetPath:ae}})).apply(this,arguments)}const S={xAxis:0,yAxis:0,button:0,state:u.ComponentState.DEFAULT};class P{constructor(G){this.componentProperty=G.componentProperty,this.states=G.states,this.valueNodeName=G.valueNodeName,this.valueNodeProperty=G.valueNodeProperty,this.valueNodeProperty===u.VisualResponseProperty.TRANSFORM&&(this.minNodeName=G.minNodeName,this.maxNodeName=G.maxNodeName),this.value=0,this.updateFromComponent(S)}updateFromComponent({xAxis:G,yAxis:K,button:V,state:Z}){const{normalizedXAxis:J,normalizedYAxis:te}=function U(M=0,G=0){let K=M,V=G;if(Math.sqrt(M*M+G*G)>1){const te=Math.atan2(G,M);K=Math.cos(te),V=Math.sin(te)}return{normalizedXAxis:.5*K+.5,normalizedYAxis:.5*V+.5}}(G,K);switch(this.componentProperty){case u.ComponentProperty.X_AXIS:this.value=this.states.includes(Z)?J:.5;break;case u.ComponentProperty.Y_AXIS:this.value=this.states.includes(Z)?te:.5;break;case u.ComponentProperty.BUTTON:this.value=this.states.includes(Z)?V:0;break;case u.ComponentProperty.STATE:this.value=this.valueNodeProperty===u.VisualResponseProperty.VISIBILITY?this.states.includes(Z):this.states.includes(Z)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class y{constructor(G,K){if(!(G&&K&&K.visualResponses&&K.gamepadIndices&&0!==Object.keys(K.gamepadIndices).length))throw new Error("Invalid arguments supplied");this.id=G,this.type=K.type,this.rootNodeName=K.rootNodeName,this.touchPointNodeName=K.touchPointNodeName,this.visualResponses={},Object.keys(K.visualResponses).forEach(V=>{const Z=new P(K.visualResponses[V]);this.visualResponses[V]=Z}),this.gamepadIndices=Object.assign({},K.gamepadIndices),this.values={state:u.ComponentState.DEFAULT,button:void 0!==this.gamepadIndices.button?0:void 0,xAxis:void 0!==this.gamepadIndices.xAxis?0:void 0,yAxis:void 0!==this.gamepadIndices.yAxis?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(G){if(this.values.state=u.ComponentState.DEFAULT,void 0!==this.gamepadIndices.button&&G.buttons.length>this.gamepadIndices.button){const K=G.buttons[this.gamepadIndices.button];this.values.button=K.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,K.pressed||1===this.values.button?this.values.state=u.ComponentState.PRESSED:(K.touched||this.values.button>u.ButtonTouchThreshold)&&(this.values.state=u.ComponentState.TOUCHED)}void 0!==this.gamepadIndices.xAxis&&G.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=G.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===u.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>u.AxisTouchThreshold&&(this.values.state=u.ComponentState.TOUCHED)),void 0!==this.gamepadIndices.yAxis&&G.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=G.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===u.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>u.AxisTouchThreshold&&(this.values.state=u.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(K=>{K.updateFromComponent(this.values)})}}class v{constructor(G,K,V){if(!G)throw new Error("No xrInputSource supplied");if(!K)throw new Error("No profile supplied");this.xrInputSource=G,this.assetUrl=V,this.id=K.profileId,this.layoutDescription=K.layouts[G.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(Z=>{this.components[Z]=new y(Z,this.layoutDescription.components[Z])}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const G=[];return Object.values(this.components).forEach(K=>{G.push(K.data)}),G}updateFromGamepad(){Object.values(this.components).forEach(G=>{G.updateFromGamepad(this.xrInputSource.gamepad)})}}},46733:(en,Ve,E)=>{"use strict";var i=E(20741);function u(){var f={},C=0,x=0,w=0;return{add:function d(U,P){P||(P=U,U=0),U>x?x=U:U<w&&(w=U),f[U]||(f[U]=[]),f[U].push(P),C++},process:function k(){for(var U=w;U<=x;U++)for(var P=f[U],y=0;y<P.length;y++)(0,P[y])()},size:function S(){return C}}}en.exports=function(C){var x=(C=C||{}).reporter,w=i.getOption(C,"async",!0),d=i.getOption(C,"auto",!0);d&&!w&&(x&&x.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),w=!0);var S,k=u(),U=!1;function y(){for(U=!0;k.size();){var Z=k;k=u(),Z.process()}U=!1}function M(){S=function V(Z){return setTimeout(Z,0)}(y)}return{add:function P(Z,J){!U&&d&&w&&0===k.size()&&M(),k.add(Z,J)},force:function v(Z){U||(void 0===Z&&(Z=w),S&&(function K(Z){clearTimeout(Z)}(S),S=null),Z?M():y())}}}},20741:en=>{"use strict";(en.exports={}).getOption=function E(i,u,f){var C=i[u];return null==C&&void 0!==f?f:C}},64680:(en,Ve,E)=>{"use strict";var i=E(89222),u=E(85924),f=u(i("String.prototype.indexOf"));en.exports=function(x,w){var d=i(x,!!w);return"function"==typeof d&&f(x,".prototype.")>-1?u(d):d}},85924:(en,Ve,E)=>{"use strict";var i=E(82988),u=E(89222),f=E(93330),C=E(63698),x=u("%Function.prototype.apply%"),w=u("%Function.prototype.call%"),d=u("%Reflect.apply%",!0)||i.call(w,x),k=E(82182),S=u("%Math.max%");en.exports=function(y){if("function"!=typeof y)throw new C("a function is required");var v=d(i,w,arguments);return f(v,1+S(0,y.length-(arguments.length-1)),!0)};var U=function(){return d(i,x,arguments)};k?k(en.exports,"apply",{value:U}):en.exports.apply=U},67092:(en,Ve)=>{"use strict";Ve.r=function M(J,te){var ae=J.slice(0,33);return new Promise(function(Y,$){var H=new FileReader;H.onload=function(){var me=new Uint8Array(H.result),B=J.slice(33),ce=function Z(J,te,ae,Y){if(ae===w)return J[13]=1,J[14]=te>>8,J[15]=255&te,J[16]=te>>8,J[17]=255&te,J;if(ae===x){var $=new Uint8Array(13);te*=39.3701,$[0]=U,$[1]=P,$[2]=y,$[3]=v,$[4]=te>>>24,$[5]=te>>>16,$[6]=te>>>8,$[7]=255&te,$[8]=$[4],$[9]=$[5],$[10]=$[6],$[11]=$[7],$[12]=1;var H=function f(J){var te=-1;C||(C=function u(){for(var J=new Int32Array(256),te=0;te<256;te++){for(var ae=te,Y=0;Y<8;Y++)ae=1&ae?3988292384^ae>>>1:ae>>>1;J[te]=ae}return J}());for(var ae=0;ae<J.length;ae++)te=C[255&(te^J[ae])]^te>>>8;return~te}($),me=new Uint8Array(4);if(me[0]=H>>>24,me[1]=H>>>16,me[2]=H>>>8,me[3]=255&H,Y){var B=function V(J){for(var ae=J.length-1;ae>=4;ae--)if(9===J[ae-4]&&J[ae-3]===U&&J[ae-2]===P&&J[ae-1]===y&&J[ae]===v)return ae-3}(J);return J.set($,B),J.set(me,B+13),J}var ce=new Uint8Array(4);ce[0]=0,ce[1]=0,ce[2]=0,ce[3]=9;var Oe=new Uint8Array(54);return Oe.set(J,0),Oe.set(ce,33),Oe.set($,37),Oe.set(me,50),Oe}}(me,te,J.type);Y(new Blob([ce,B],{type:J.type}))},H.readAsArrayBuffer(ae)})};var C=void 0,x="image/png",w="image/jpeg",U=112,P=72,y=89,v=115},16938:(en,Ve,E)=>{"use strict";E.d(Ve,{Z:()=>u});var i=E(49727);function u(f,C={}){return function(x,w){const d=Reflect.getMetadata("design:type",x,w);i.s.addTypeMetadata({target:x.constructor,propertyName:w,reflectedType:d,typeFunction:f,options:C})}}},55460:(en,Ve,E)=>{"use strict";E.d(Ve,{_:()=>i});var i=function(u){return u[u.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",u[u.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",u[u.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",u}(i||{})},40470:(en,Ve,E)=>{"use strict";E.d(Ve,{uK:()=>K,bj:()=>M});var i=E(49727),u=E(55460);class w{constructor(Y,$){this.transformationType=Y,this.options=$,this.recursionStack=new Set}transform(Y,$,H,me,B,ce=0){if(Array.isArray($)||$ instanceof Set){const Oe=me&&this.transformationType===u._.PLAIN_TO_CLASS?function x(ae){const Y=new ae;return Y instanceof Set||"push"in Y?Y:[]}(me):[];return $.forEach((Ue,qe)=>{const _e=Y?Y[qe]:void 0;if(this.options.enableCircularCheck&&this.isCircular(Ue))this.transformationType===u._.CLASS_TO_CLASS&&(Oe instanceof Set?Oe.add(Ue):Oe.push(Ue));else{let ht;if("function"!=typeof H&&H&&H.options&&H.options.discriminator&&H.options.discriminator.property&&H.options.discriminator.subTypes){if(this.transformationType===u._.PLAIN_TO_CLASS){ht=H.options.discriminator.subTypes.find(j=>j.name===Ue[H.options.discriminator.property]);const R=H.typeFunction({newObject:Oe,object:Ue,property:void 0});ht=void 0===ht?R:ht.value,H.options.keepDiscriminatorProperty||delete Ue[H.options.discriminator.property]}this.transformationType===u._.CLASS_TO_CLASS&&(ht=Ue.constructor),this.transformationType===u._.CLASS_TO_PLAIN&&(Ue[H.options.discriminator.property]=H.options.discriminator.subTypes.find(de=>de.value===Ue.constructor).name)}else ht=H;const Bt=this.transform(_e,Ue,ht,void 0,Ue instanceof Map,ce+1);Oe instanceof Set?Oe.add(Bt):Oe.push(Bt)}}),Oe}if(H===String&&!B)return null==$?$:String($);if(H===Number&&!B)return null==$?$:Number($);if(H===Boolean&&!B)return null==$?$:!!$;if((H===Date||$ instanceof Date)&&!B)return $ instanceof Date?new Date($.valueOf()):null==$?$:new Date($);if(function f(){return typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:void 0}().Buffer&&(H===Buffer||$ instanceof Buffer)&&!B)return null==$?$:Buffer.from($);if(function C(ae){return null!==ae&&"object"==typeof ae&&"function"==typeof ae.then}($)&&!B)return new Promise((Oe,Ue)=>{$.then(qe=>Oe(this.transform(void 0,qe,H,void 0,void 0,ce+1)),Ue)});if(!B&&null!==$&&"object"==typeof $&&"function"==typeof $.then)return $;if("object"==typeof $&&null!==$){!H&&$.constructor!==Object&&(!Array.isArray($)&&$.constructor===Array||(H=$.constructor)),!H&&Y&&(H=Y.constructor),this.options.enableCircularCheck&&this.recursionStack.add($);const Oe=this.getKeys(H,$,B);let Ue=Y||{};!Y&&(this.transformationType===u._.PLAIN_TO_CLASS||this.transformationType===u._.CLASS_TO_CLASS)&&(Ue=B?new Map:H?new H:{});for(const qe of Oe){if("__proto__"===qe||"constructor"===qe)continue;const _e=qe;let de,ht=qe,Bt=qe;if(!this.options.ignoreDecorators&&H)if(this.transformationType===u._.PLAIN_TO_CLASS){const Re=i.s.findExposeMetadataByCustomName(H,qe);Re&&(Bt=Re.propertyName,ht=Re.propertyName)}else if(this.transformationType===u._.CLASS_TO_PLAIN||this.transformationType===u._.CLASS_TO_CLASS){const Re=i.s.findExposeMetadata(H,qe);Re&&Re.options&&Re.options.name&&(ht=Re.options.name)}de=this.transformationType===u._.PLAIN_TO_CLASS?$[_e]:$ instanceof Map?$.get(_e):$[_e]instanceof Function?$[_e]():$[_e];let R,j=de instanceof Map;if(H&&B)R=H;else if(H){const Re=i.s.findTypeMetadata(H,Bt);if(Re){const zt=Re.typeFunction?Re.typeFunction({newObject:Ue,object:$,property:Bt}):Re.reflectedType;Re.options&&Re.options.discriminator&&Re.options.discriminator.property&&Re.options.discriminator.subTypes?$[_e]instanceof Array?R=Re:(this.transformationType===u._.PLAIN_TO_CLASS&&(R=Re.options.discriminator.subTypes.find(Mn=>{if(de&&de instanceof Object&&Re.options.discriminator.property in de)return Mn.name===de[Re.options.discriminator.property]}),R=void 0===R?zt:R.value,Re.options.keepDiscriminatorProperty||de&&de instanceof Object&&Re.options.discriminator.property in de&&delete de[Re.options.discriminator.property]),this.transformationType===u._.CLASS_TO_CLASS&&(R=de.constructor),this.transformationType===u._.CLASS_TO_PLAIN&&de&&(de[Re.options.discriminator.property]=Re.options.discriminator.subTypes.find(Mn=>Mn.value===de.constructor).name)):R=zt,j=j||Re.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(pt=>pt.target===H&&!!pt.properties[Bt]).forEach(pt=>R=pt.properties[Bt]);else if(this.options.enableImplicitConversion&&this.transformationType===u._.PLAIN_TO_CLASS){const pt=Reflect.getMetadata("design:type",H.prototype,Bt);pt&&(R=pt)}}const he=Array.isArray($[_e])?this.getReflectedType(H,Bt):void 0,Ce=Y?Y[_e]:void 0;if(Ue.constructor.prototype){const Re=Object.getOwnPropertyDescriptor(Ue.constructor.prototype,ht);if((this.transformationType===u._.PLAIN_TO_CLASS||this.transformationType===u._.CLASS_TO_CLASS)&&(Re&&!Re.set||Ue[ht]instanceof Function))continue}if(this.options.enableCircularCheck&&this.isCircular(de)){if(this.transformationType===u._.CLASS_TO_CLASS){let Re=de;Re=this.applyCustomTransformations(Re,H,qe,$,this.transformationType),(void 0!==Re||this.options.exposeUnsetFields)&&(Ue instanceof Map?Ue.set(ht,Re):Ue[ht]=Re)}}else{const Re=this.transformationType===u._.PLAIN_TO_CLASS?ht:qe;let pt;this.transformationType===u._.CLASS_TO_PLAIN?(pt=$[Re],pt=this.applyCustomTransformations(pt,H,Re,$,this.transformationType),pt=$[Re]===pt?de:pt,pt=this.transform(Ce,pt,R,he,j,ce+1)):void 0===de&&this.options.exposeDefaultValues?pt=Ue[ht]:(pt=this.transform(Ce,de,R,he,j,ce+1),pt=this.applyCustomTransformations(pt,H,Re,$,this.transformationType)),(void 0!==pt||this.options.exposeUnsetFields)&&(Ue instanceof Map?Ue.set(ht,pt):Ue[ht]=pt)}}return this.options.enableCircularCheck&&this.recursionStack.delete($),Ue}return $}applyCustomTransformations(Y,$,H,me,B){let ce=i.s.findTransformMetadatas($,H,this.transformationType);return void 0!==this.options.version&&(ce=ce.filter(Oe=>!Oe.options||this.checkVersion(Oe.options.since,Oe.options.until))),ce=ce.filter(this.options.groups&&this.options.groups.length?Oe=>!Oe.options||this.checkGroups(Oe.options.groups):Oe=>!Oe.options||!Oe.options.groups||!Oe.options.groups.length),ce.forEach(Oe=>{Y=Oe.transformFn({value:Y,key:H,obj:me,type:B,options:this.options})}),Y}isCircular(Y){return this.recursionStack.has(Y)}getReflectedType(Y,$){if(!Y)return;const H=i.s.findTypeMetadata(Y,$);return H?H.reflectedType:void 0}getKeys(Y,$,H){let me=i.s.getStrategy(Y);"none"===me&&(me=this.options.strategy||"exposeAll");let B=[];if(("exposeAll"===me||H)&&(B=$ instanceof Map?Array.from($.keys()):Object.keys($)),H)return B;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&Y&&(B=[...i.s.getExposedProperties(Y,this.transformationType),...i.s.getExcludedProperties(Y,this.transformationType)]),!this.options.ignoreDecorators&&Y){let ce=i.s.getExposedProperties(Y,this.transformationType);this.transformationType===u._.PLAIN_TO_CLASS&&(ce=ce.map(Ue=>{const qe=i.s.findExposeMetadata(Y,Ue);return qe&&qe.options&&qe.options.name?qe.options.name:Ue})),B=this.options.excludeExtraneousValues?ce:B.concat(ce);const Oe=i.s.getExcludedProperties(Y,this.transformationType);Oe.length>0&&(B=B.filter(Ue=>!Oe.includes(Ue))),void 0!==this.options.version&&(B=B.filter(Ue=>{const qe=i.s.findExposeMetadata(Y,Ue);return!qe||!qe.options||this.checkVersion(qe.options.since,qe.options.until)})),B=B.filter(this.options.groups&&this.options.groups.length?Ue=>{const qe=i.s.findExposeMetadata(Y,Ue);return!qe||!qe.options||this.checkGroups(qe.options.groups)}:Ue=>{const qe=i.s.findExposeMetadata(Y,Ue);return!(qe&&qe.options&&qe.options.groups&&qe.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(B=B.filter(ce=>this.options.excludePrefixes.every(Oe=>ce.substr(0,Oe.length)!==Oe))),B=B.filter((ce,Oe,Ue)=>Ue.indexOf(ce)===Oe),B}checkVersion(Y,$){let H=!0;return H&&Y&&(H=this.options.version>=Y),H&&$&&(H=this.options.version<$),H}checkGroups(Y){return!Y||this.options.groups.some($=>Y.includes($))}}const d={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},S=new class k{instanceToPlain(Y,$){return new w(u._.CLASS_TO_PLAIN,{...d,...$}).transform(void 0,Y,void 0,void 0,void 0,void 0)}classToPlainFromExist(Y,$,H){return new w(u._.CLASS_TO_PLAIN,{...d,...H}).transform($,Y,void 0,void 0,void 0,void 0)}plainToInstance(Y,$,H){return new w(u._.PLAIN_TO_CLASS,{...d,...H}).transform(void 0,$,Y,void 0,void 0,void 0)}plainToClassFromExist(Y,$,H){return new w(u._.PLAIN_TO_CLASS,{...d,...H}).transform(Y,$,void 0,void 0,void 0,void 0)}instanceToInstance(Y,$){return new w(u._.CLASS_TO_CLASS,{...d,...$}).transform(void 0,Y,void 0,void 0,void 0,void 0)}classToClassFromExist(Y,$,H){return new w(u._.CLASS_TO_CLASS,{...d,...H}).transform($,Y,void 0,void 0,void 0,void 0)}serialize(Y,$){return JSON.stringify(this.instanceToPlain(Y,$))}deserialize(Y,$,H){const me=JSON.parse($);return this.plainToInstance(Y,me,H)}deserializeArray(Y,$,H){const me=JSON.parse($);return this.plainToInstance(Y,me,H)}};function M(ae,Y,$){return S.plainToInstance(ae,Y,$)}function K(ae,Y){return S.instanceToInstance(ae,Y)}},49727:(en,Ve,E)=>{"use strict";E.d(Ve,{s:()=>f});var i=E(55460);const f=new class u{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(x){this._typeMetadatas.has(x.target)||this._typeMetadatas.set(x.target,new Map),this._typeMetadatas.get(x.target).set(x.propertyName,x)}addTransformMetadata(x){this._transformMetadatas.has(x.target)||this._transformMetadatas.set(x.target,new Map),this._transformMetadatas.get(x.target).has(x.propertyName)||this._transformMetadatas.get(x.target).set(x.propertyName,[]),this._transformMetadatas.get(x.target).get(x.propertyName).push(x)}addExposeMetadata(x){this._exposeMetadatas.has(x.target)||this._exposeMetadatas.set(x.target,new Map),this._exposeMetadatas.get(x.target).set(x.propertyName,x)}addExcludeMetadata(x){this._excludeMetadatas.has(x.target)||this._excludeMetadatas.set(x.target,new Map),this._excludeMetadatas.get(x.target).set(x.propertyName,x)}findTransformMetadatas(x,w,d){return this.findMetadatas(this._transformMetadatas,x,w).filter(k=>!k.options||!0===k.options.toClassOnly&&!0===k.options.toPlainOnly||(!0===k.options.toClassOnly?d===i._.CLASS_TO_CLASS||d===i._.PLAIN_TO_CLASS:!0!==k.options.toPlainOnly||d===i._.CLASS_TO_PLAIN))}findExcludeMetadata(x,w){return this.findMetadata(this._excludeMetadatas,x,w)}findExposeMetadata(x,w){return this.findMetadata(this._exposeMetadatas,x,w)}findExposeMetadataByCustomName(x,w){return this.getExposedMetadatas(x).find(d=>d.options&&d.options.name===w)}findTypeMetadata(x,w){return this.findMetadata(this._typeMetadatas,x,w)}getStrategy(x){const w=this._excludeMetadatas.get(x),d=w&&w.get(void 0),k=this._exposeMetadatas.get(x),S=k&&k.get(void 0);return d&&S||!d&&!S?"none":d?"excludeAll":"exposeAll"}getExposedMetadatas(x){return this.getMetadata(this._exposeMetadatas,x)}getExcludedMetadatas(x){return this.getMetadata(this._excludeMetadatas,x)}getExposedProperties(x,w){return this.getExposedMetadatas(x).filter(d=>!d.options||!0===d.options.toClassOnly&&!0===d.options.toPlainOnly||(!0===d.options.toClassOnly?w===i._.CLASS_TO_CLASS||w===i._.PLAIN_TO_CLASS:!0!==d.options.toPlainOnly||w===i._.CLASS_TO_PLAIN)).map(d=>d.propertyName)}getExcludedProperties(x,w){return this.getExcludedMetadatas(x).filter(d=>!d.options||!0===d.options.toClassOnly&&!0===d.options.toPlainOnly||(!0===d.options.toClassOnly?w===i._.CLASS_TO_CLASS||w===i._.PLAIN_TO_CLASS:!0!==d.options.toPlainOnly||w===i._.CLASS_TO_PLAIN)).map(d=>d.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(x,w){const d=x.get(w);let k;d&&(k=Array.from(d.values()).filter(U=>void 0!==U.propertyName));const S=[];for(const U of this.getAncestors(w)){const P=x.get(U);if(P){const y=Array.from(P.values()).filter(v=>void 0!==v.propertyName);S.push(...y)}}return S.concat(k||[])}findMetadata(x,w,d){const k=x.get(w);if(k){const S=k.get(d);if(S)return S}for(const S of this.getAncestors(w)){const U=x.get(S);if(U){const P=U.get(d);if(P)return P}}}findMetadatas(x,w,d){const k=x.get(w);let S;k&&(S=k.get(d));const U=[];for(const P of this.getAncestors(w)){const y=x.get(P);y&&y.has(d)&&U.push(...y.get(d))}return U.slice().reverse().concat((S||[]).slice().reverse())}getAncestors(x){if(!x)return[];if(!this._ancestorsMap.has(x)){const w=[];for(let d=Object.getPrototypeOf(x.prototype.constructor);typeof d.prototype<"u";d=Object.getPrototypeOf(d.prototype.constructor))w.push(d);this._ancestorsMap.set(x,w)}return this._ancestorsMap.get(x)}}},2948:(en,Ve,E)=>{"use strict";var i=E(82182),u=E(35097),f=E(63698),C=E(99234);en.exports=function(w,d,k){if(!w||"object"!=typeof w&&"function"!=typeof w)throw new f("`obj` must be an object or a function`");if("string"!=typeof d&&"symbol"!=typeof d)throw new f("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new f("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new f("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new f("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new f("`loose`, if provided, must be a boolean");var S=arguments.length>3?arguments[3]:null,U=arguments.length>4?arguments[4]:null,P=arguments.length>5?arguments[5]:null,y=arguments.length>6&&arguments[6],v=!!C&&C(w,d);if(i)i(w,d,{configurable:null===P&&v?v.configurable:!P,enumerable:null===S&&v?v.enumerable:!S,value:k,writable:null===U&&v?v.writable:!U});else{if(!y&&(S||U||P))throw new u("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");w[d]=k}}},78851:(en,Ve)=>{Ve.TF=function w(d){return d.replace(/[^\u0000-\u007e]/g,function(k){return u[k]||k})};for(var i=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],u={},f=0;f<i.length;f+=1)for(var C=i[f].chars,x=0;x<C.length;x+=1)u[C[x]]=i[f].base},37764:en=>{"use strict";var Ve=en.exports={};Ve.isIE=function(E){return!(!function i(){var f=navigator.userAgent.toLowerCase();return-1!==f.indexOf("msie")||-1!==f.indexOf("trident")||-1!==f.indexOf(" edge/")}()||E&&E!==function(){var C=3,x=document.createElement("div"),w=x.getElementsByTagName("i");do{x.innerHTML="\x3c!--[if gt IE "+ ++C+"]><i></i><![endif]--\x3e"}while(w[0]);return C>4?C:void 0}())},Ve.isLegacyOpera=function(){return!!window.opera}},36565:en=>{"use strict";(en.exports={}).forEach=function(E,i){for(var u=0;u<E.length;u++){var f=i(E[u]);if(f)return f}}},67618:(en,Ve,E)=>{"use strict";var i=E(37764);en.exports=function(u){var f=(u=u||{}).reporter,C=u.batchProcessor,x=u.stateHandler.getState;if(!f)throw new Error("Missing required dependency: reporter.");function S(P){return x(P).object}return{makeDetectable:function k(P,y,v){v||(v=y,y=P,P=null),P=P||{},i.isIE(8)?v(y):function G(K,V){var Z=function d(P){var y=u.important?" !important; ":"; ";return(P.join(y)+y).trim()}(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),J=!1,te=window.getComputedStyle(K),ae=K.offsetWidth,Y=K.offsetHeight;function $(){function H(){if("static"===te.position){K.style.setProperty("position","relative",P.important?"important":"");var ce=function(Oe,Ue,qe,_e){var Bt=qe[_e];"auto"!==Bt&&"0"!==function ht(de){return de.replace(/[^-\d\.]/g,"")}(Bt)&&(Oe.warn("An element that is positioned static has style."+_e+"="+Bt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+_e+" will be set to 0. Element: ",Ue),Ue.style.setProperty(_e,"0",P.important?"important":""))};ce(f,K,te,"top"),ce(f,K,te,"right"),ce(f,K,te,"bottom"),ce(f,K,te,"left")}}""!==te.position&&(H(),J=!0);var B=document.createElement("object");B.style.cssText=Z,B.tabIndex=-1,B.type="text/html",B.setAttribute("aria-hidden","true"),B.onload=function me(){J||H(),function ce(Ue,qe){if(!Ue.contentDocument){var _e=x(Ue);return _e.checkForObjectDocumentTimeoutId&&window.clearTimeout(_e.checkForObjectDocumentTimeoutId),void(_e.checkForObjectDocumentTimeoutId=setTimeout(function(){_e.checkForObjectDocumentTimeoutId=0,ce(Ue,qe)},100))}qe(Ue.contentDocument)}(this,function(qe){V(K)})},i.isIE()||(B.data="about:blank"),x(K)&&(K.appendChild(B),x(K).object=B,i.isIE()&&(B.data="about:blank"))}x(K).startSize={width:ae,height:Y},C?C.add($):$()}(y,v)},addListener:function w(P,y){function v(){y(P)}if(i.isIE(8))x(P).object={proxy:v},P.attachEvent("onresize",v);else{var M=S(P);if(!M)throw new Error("Element is not detectable by this strategy.");M.contentDocument.defaultView.addEventListener("resize",v)}},uninstall:function U(P){if(x(P)){var y=S(P);y&&(i.isIE(8)?P.detachEvent("onresize",y.proxy):P.removeChild(y),x(P).checkForObjectDocumentTimeoutId&&window.clearTimeout(x(P).checkForObjectDocumentTimeoutId),delete x(P).object)}}}}},47728:(en,Ve,E)=>{"use strict";var i=E(36565).forEach;en.exports=function(u){var f=(u=u||{}).reporter,C=u.batchProcessor,x=u.stateHandler.getState,d=u.idHandler;if(!C)throw new Error("Missing required dependency: batchProcessor");if(!f)throw new Error("Missing required dependency: reporter.");var k=function v(){var me=document.createElement("div");me.style.cssText=y(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var B=document.createElement("div");B.style.cssText=y(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),B.appendChild(me),document.body.insertBefore(B,document.body.firstChild);var ce=500-B.clientWidth,Oe=500-B.clientHeight;return document.body.removeChild(B),{width:ce,height:Oe}}(),U="erd_scroll_detection_container";function P($){!function M($,H,me){if(!$.getElementById(H)){var ce=me+"_animation",Oe=me+"_animation_active",Ue="/* Created by the element-resize-detector library. */\n";Ue+="."+me+" > div::-webkit-scrollbar { "+y(["display: none"])+" }\n\n",Ue+="."+Oe+" { "+y(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+ce,"animation-name: "+ce])+" }\n",Ue+="@-webkit-keyframes "+ce+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function B(qe,_e){_e=_e||function(Bt){$.head.appendChild(Bt)};var ht=$.createElement("style");return ht.innerHTML=qe,ht.id=H,_e(ht),ht}(Ue+="@keyframes "+ce+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}($,"erd_scroll_detection_scrollbar_style",U)}function y($){var H=u.important?" !important; ":"; ";return($.join(H)+H).trim()}function K($,H,me){if($.addEventListener)$.addEventListener(H,me);else{if(!$.attachEvent)return f.error("[scroll] Don't know how to add event listeners.");$.attachEvent("on"+H,me)}}function V($,H,me){if($.removeEventListener)$.removeEventListener(H,me);else{if(!$.detachEvent)return f.error("[scroll] Don't know how to remove event listeners.");$.detachEvent("on"+H,me)}}function Z($){return x($).container.childNodes[0].childNodes[0].childNodes[0]}function J($){return x($).container.childNodes[0].childNodes[0].childNodes[1]}return P(window.document),{makeDetectable:function ae($,H,me){function B(){if($.debug){var D=Array.prototype.slice.call(arguments);if(D.unshift(d.get(H),"Scroll: "),f.log.apply)f.log.apply(null,D);else for(var F=0;F<D.length;F++)f.log(D[F])}}function Oe(D){var F=x(D).container.childNodes[0],T=window.getComputedStyle(F);return!T.width||-1===T.width.indexOf("px")}function Ue(){var D=window.getComputedStyle(H),F={};return F.position=D.position,F.width=H.offsetWidth,F.height=H.offsetHeight,F.top=D.top,F.right=D.right,F.bottom=D.bottom,F.left=D.left,F.widthCSS=D.width,F.heightCSS=D.height,F}function ht(){if(B("storeStyle invoked."),x(H)){var D=Ue();x(H).style=D}else B("Aborting because element has been uninstalled")}function Bt(D,F,T){x(D).lastWidth=F,x(D).lastHeight=T}function R(){return 2*k.width+1}function j(){return 2*k.height+1}function he(D){return D+10+R()}function Ce(D){return D+10+j()}function zt(D,F,T){var W=Z(D),z=J(D),p=he(F),I=Ce(T),Ae=function Re(D){return 2*D+R()}(F),se=function pt(D){return 2*D+j()}(T);W.scrollLeft=p,W.scrollTop=I,z.scrollLeft=Ae,z.scrollTop=se}function Mn(){var D=x(H).container;if(!D){(D=document.createElement("div")).className=U,D.style.cssText=y(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),x(H).container=D,function G($){$.className+=" "+U+"_animation_active"}(D),H.appendChild(D);var F=function(){x(H).onRendered&&x(H).onRendered()};K(D,"animationstart",F),x(H).onAnimationStart=F}return D}function It(){if(B("Injecting elements"),x(H)){!function D(){var jt=x(H).style;if("static"===jt.position){H.style.setProperty("position","relative",$.important?"important":"");var gn=function(lt,bt,He,ye){var rt=He[ye];"auto"!==rt&&"0"!==function mt(Kt){return Kt.replace(/[^-\d\.]/g,"")}(rt)&&(lt.warn("An element that is positioned static has style."+ye+"="+rt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+ye+" will be set to 0. Element: ",bt),bt.style[ye]=0)};gn(f,H,jt,"top"),gn(f,H,jt,"right"),gn(f,H,jt,"bottom"),gn(f,H,jt,"left")}}();var T=x(H).container;T||(T=Mn());var W=k.width,z=k.height,p=y(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),I=y(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(function F(jt,gn,lt,bt){return["left: "+(jt=jt?jt+"px":"0"),"top: "+(gn=gn?gn+"px":"0"),"right: "+(bt=bt?bt+"px":"0"),"bottom: "+(lt=lt?lt+"px":"0")]}(-(1+W),-(1+z),-z,-W))),Ae=y(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),se=y(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),L=y(["position: absolute","left: 0","top: 0"]),ve=y(["position: absolute","width: 200%","height: 200%"]),ge=document.createElement("div"),et=document.createElement("div"),Pt=document.createElement("div"),Rt=document.createElement("div"),ln=document.createElement("div"),je=document.createElement("div");ge.dir="ltr",ge.style.cssText=p,ge.className=U,et.className=U,et.style.cssText=I,Pt.style.cssText=Ae,Rt.style.cssText=L,ln.style.cssText=se,je.style.cssText=ve,Pt.appendChild(Rt),ln.appendChild(je),et.appendChild(Pt),et.appendChild(ln),ge.appendChild(et),T.appendChild(ge),K(Pt,"scroll",Ht),K(ln,"scroll",ut),x(H).onExpandScroll=Ht,x(H).onShrinkScroll=ut}else B("Aborting because element has been uninstalled");function Ht(){var jt=x(H);jt&&jt.onExpand?jt.onExpand():B("Aborting expand scroll handler: element has been uninstalled")}function ut(){var jt=x(H);jt&&jt.onShrink?jt.onShrink():B("Aborting shrink scroll handler: element has been uninstalled")}}function Ne(){function D(Ae,se,L){var ve=function de(D){return Z(D).childNodes[0]}(Ae),ge=he(se),et=Ce(L);ve.style.setProperty("width",ge+"px",$.important?"important":""),ve.style.setProperty("height",et+"px",$.important?"important":"")}function F(Ae){var se=H.offsetWidth,L=H.offsetHeight,ve=se!==x(H).lastWidth||L!==x(H).lastHeight;B("Storing current size",se,L),Bt(H,se,L),C.add(0,function(){if(ve){if(!x(H))return void B("Aborting because element has been uninstalled");if(!T())return void B("Aborting because element container has not been initialized");$.debug&&(H.offsetWidth!==se||H.offsetHeight!==L)&&f.warn(d.get(H),"Scroll: Size changed before updating detector elements."),D(H,se,L)}}),C.add(1,function(){x(H)?T()?zt(H,se,L):B("Aborting because element container has not been initialized"):B("Aborting because element has been uninstalled")}),ve&&Ae&&C.add(2,function(){x(H)?T()?Ae():B("Aborting because element container has not been initialized"):B("Aborting because element has been uninstalled")})}function T(){return!!x(H).container}function W(){B("notifyListenersIfNeeded invoked");var se=x(H);return function Ae(){return void 0===x(H).lastNotifiedWidth}()&&se.lastWidth===se.startSize.width&&se.lastHeight===se.startSize.height?B("Not notifying: Size is the same as the start size, and there has been no notification yet."):se.lastWidth===se.lastNotifiedWidth&&se.lastHeight===se.lastNotifiedHeight?B("Not notifying: Size already notified"):(B("Current size not notified, notifying..."),se.lastNotifiedWidth=se.lastWidth,se.lastNotifiedHeight=se.lastHeight,void i(x(H).listeners,function(L){L(H)}))}function p(){B("Scroll detected."),Oe(H)?B("Scroll event fired while unrendered. Ignoring..."):F(W)}if(B("registerListenersAndPositionElements invoked."),x(H)){x(H).onRendered=function z(){if(B("startanimation triggered."),Oe(H))B("Ignoring since element is still unrendered...");else{B("Element rendered.");var Ae=Z(H),se=J(H);(0===Ae.scrollLeft||0===Ae.scrollTop||0===se.scrollLeft||0===se.scrollTop)&&(B("Scrollbars out of sync. Updating detector elements..."),F(W))}},x(H).onExpand=p,x(H).onShrink=p;var I=x(H).style;D(H,I.width,I.height)}else B("Aborting because element has been uninstalled")}function Xe(){if(B("finalizeDomMutation invoked."),x(H)){var D=x(H).style;Bt(H,D.width,D.height),zt(H,D.width,D.height)}else B("Aborting because element has been uninstalled")}function Ot(){me(H)}function re(){B("Installing..."),function _e(){x(H).listeners=[]}(),function qe(){var D=Ue();x(H).startSize={width:D.width,height:D.height},B("Element start size",x(H).startSize)}(),C.add(0,ht),C.add(1,It),C.add(2,Ne),C.add(3,Xe),C.add(4,Ot)}me||(me=H,H=$,$=null),$=$||{},B("Making detectable..."),function ce(D){return!function F(T){var W=T.getRootNode&&T.getRootNode().contains(T);return T===T.ownerDocument.body||T.ownerDocument.body.contains(T)||W}(D)||null===window.getComputedStyle(D)}(H)?(B("Element is detached"),Mn(),B("Waiting until element is attached..."),x(H).onRendered=function(){B("Element is now attached"),re()}):re()},addListener:function te($,H){if(!x($).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");x($).listeners.push(H)},uninstall:function Y($){var H=x($);H&&(H.onExpandScroll&&V(Z($),"scroll",H.onExpandScroll),H.onShrinkScroll&&V(J($),"scroll",H.onShrinkScroll),H.onAnimationStart&&V(H.container,"animationstart",H.onAnimationStart),H.container&&$.removeChild(H.container))},initDocument:P}}},38465:(en,Ve,E)=>{"use strict";var i=E(36565).forEach,u=E(6861),f=E(49216),C=E(36100),x=E(1157),w=E(68816),d=E(37764),k=E(46733),S=E(43133),U=E(67618),P=E(47728);function y(K){return Array.isArray(K)||void 0!==K.length}function v(K){if(Array.isArray(K))return K;var V=[];return i(K,function(Z){V.push(Z)}),V}function M(K){return K&&1===K.nodeType}function G(K,V,Z){var J=K[V];return null==J&&void 0!==Z?Z:J}en.exports=function(K){var V;if((K=K||{}).idHandler)V={get:function(de){return K.idHandler.get(de,!0)},set:K.idHandler.set};else{var Z=C(),J=x({idGenerator:Z,stateHandler:S});V=J}var te=K.reporter;te||(te=w(!1===te));var Y=G(K,"batchProcessor",k({reporter:te})),$={};$.callOnAdd=!!G(K,"callOnAdd",!0),$.debug=!!G(K,"debug",!1);var B,H=f(V),me=u({stateHandler:S}),ce=G(K,"strategy","object"),Oe=G(K,"important",!1),Ue={reporter:te,batchProcessor:Y,stateHandler:S,idHandler:V,important:Oe};if("scroll"===ce&&(d.isLegacyOpera()?(te.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),ce="object"):d.isIE(9)&&(te.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),ce="object")),"scroll"===ce)B=P(Ue);else{if("object"!==ce)throw new Error("Invalid strategy name: "+ce);B=U(Ue)}var qe={};return{listenTo:function _e(de,R,j){function he(It){var Ne=H.get(It);i(Ne,function(Ot){Ot(It)})}function Ce(It,Ne,Xe){H.add(Ne,Xe),It&&Xe(Ne)}if(j||(j=R,R=de,de={}),!R)throw new Error("At least one element required.");if(!j)throw new Error("Listener required.");if(M(R))R=[R];else{if(!y(R))return te.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");R=v(R)}var Re=0,pt=G(de,"callOnAdd",$.callOnAdd),zt=G(de,"onReady",function(){}),Mn=G(de,"debug",$.debug);i(R,function(Ne){S.getState(Ne)||(S.initState(Ne),V.set(Ne));var Xe=V.get(Ne);if(Mn&&te.log("Attaching listener to element",Xe,Ne),!me.isDetectable(Ne))return Mn&&te.log(Xe,"Not detectable."),me.isBusy(Ne)?(Mn&&te.log(Xe,"System busy making it detectable"),Ce(pt,Ne,j),qe[Xe]=qe[Xe]||[],void qe[Xe].push(function(){++Re===R.length&&zt()})):(Mn&&te.log(Xe,"Making detectable..."),me.markBusy(Ne,!0),B.makeDetectable({debug:Mn,important:Oe},Ne,function(re){if(Mn&&te.log(Xe,"onElementDetectable"),S.getState(re)){me.markAsDetectable(re),me.markBusy(re,!1),B.addListener(re,he),Ce(pt,re,j);var D=S.getState(re);D&&D.startSize&&(D.startSize.width!==re.offsetWidth||D.startSize.height!==re.offsetHeight)&&he(re),qe[Xe]&&i(qe[Xe],function(W){W()})}else Mn&&te.log(Xe,"Element uninstalled before being detectable.");delete qe[Xe],++Re===R.length&&zt()}));Mn&&te.log(Xe,"Already detecable, adding listener."),Ce(pt,Ne,j),Re++}),Re===R.length&&zt()},removeListener:H.removeListener,removeAllListeners:H.removeAllListeners,uninstall:function ht(de){if(!de)return te.error("At least one element is required.");if(M(de))de=[de];else{if(!y(de))return te.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");de=v(de)}i(de,function(R){H.removeAllListeners(R),B.uninstall(R),S.cleanState(R)})},initDocument:function Bt(de){B.initDocument&&B.initDocument(de)}}}},6861:en=>{"use strict";en.exports=function(Ve){var E=Ve.stateHandler.getState;return{isDetectable:function i(x){var w=E(x);return w&&!!w.isDetectable},markAsDetectable:function u(x){E(x).isDetectable=!0},isBusy:function f(x){return!!E(x).busy},markBusy:function C(x,w){E(x).busy=!!w}}}},36100:en=>{"use strict";en.exports=function(){var Ve=1;return{generate:function E(){return Ve++}}}},1157:en=>{"use strict";en.exports=function(Ve){var E=Ve.idGenerator,i=Ve.stateHandler.getState;return{get:function u(C){var x=i(C);return x&&void 0!==x.id?x.id:null},set:function f(C){var x=i(C);if(!x)throw new Error("setId required the element to have a resize detection state.");var w=E.generate();return x.id=w,w}}}},49216:en=>{"use strict";en.exports=function(Ve){var E={};function i(x){var w=Ve.get(x);return void 0===w?[]:E[w]||[]}return{get:i,add:function u(x,w){var d=Ve.get(x);E[d]||(E[d]=[]),E[d].push(w)},removeListener:function f(x,w){for(var d=i(x),k=0,S=d.length;k<S;++k)if(d[k]===w){d.splice(k,1);break}},removeAllListeners:function C(x){var w=i(x);w&&(w.length=0)}}}},68816:en=>{"use strict";en.exports=function(Ve){function E(){}var i={log:E,warn:E,error:E};if(!Ve&&window.console){var u=function(f,C){f[C]=function(){var w=console[C];if(w.apply)w.apply(console,arguments);else for(var d=0;d<arguments.length;d++)w(arguments[d])}};u(i,"log"),u(i,"warn"),u(i,"error")}return i}},43133:en=>{"use strict";var Ve="_erd";function i(f){return f[Ve]}en.exports={initState:function E(f){return f[Ve]={},i(f)},getState:i,cleanState:function u(f){delete f[Ve]}}},82182:(en,Ve,E)=>{"use strict";var u=E(89222)("%Object.defineProperty%",!0)||!1;if(u)try{u({},"a",{value:1})}catch{u=!1}en.exports=u},21776:en=>{"use strict";en.exports=EvalError},52276:en=>{"use strict";en.exports=Error},63433:en=>{"use strict";en.exports=RangeError},42025:en=>{"use strict";en.exports=ReferenceError},35097:en=>{"use strict";en.exports=SyntaxError},63698:en=>{"use strict";en.exports=TypeError},87378:en=>{"use strict";en.exports=URIError},37678:function(en,Ve){var E,u;void 0!==(u="function"==typeof(E=function(){"use strict";function C(U,P,y){var v=new XMLHttpRequest;v.open("GET",U),v.responseType="blob",v.onload=function(){S(v.response,P,y)},v.onerror=function(){console.error("could not download file")},v.send()}function x(U){var P=new XMLHttpRequest;P.open("HEAD",U,!1);try{P.send()}catch{}return 200<=P.status&&299>=P.status}function w(U){try{U.dispatchEvent(new MouseEvent("click"))}catch{var P=document.createEvent("MouseEvents");P.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),U.dispatchEvent(P)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,k=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),S=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!k?function(U,P,y){var v=d.URL||d.webkitURL,M=document.createElement("a");M.download=P=P||U.name||"download",M.rel="noopener","string"==typeof U?(M.href=U,M.origin===location.origin?w(M):x(M.href)?C(U,P,y):w(M,M.target="_blank")):(M.href=v.createObjectURL(U),setTimeout(function(){v.revokeObjectURL(M.href)},4e4),setTimeout(function(){w(M)},0))}:"msSaveOrOpenBlob"in navigator?function(U,P,y){if(P=P||U.name||"download","string"!=typeof U)navigator.msSaveOrOpenBlob(function f(U,P){return typeof P>"u"?P={autoBom:!1}:"object"!=typeof P&&(console.warn("Deprecated: Expected third argument to be a object"),P={autoBom:!P}),P.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(U.type)?new Blob(["\ufeff",U],{type:U.type}):U}(U,y),P);else if(x(U))C(U,P,y);else{var v=document.createElement("a");v.href=U,v.target="_blank",setTimeout(function(){w(v)})}}:function(U,P,y,v){if((v=v||open("","_blank"))&&(v.document.title=v.document.body.innerText="downloading..."),"string"==typeof U)return C(U,P,y);var M="application/octet-stream"===U.type,G=/constructor/i.test(d.HTMLElement)||d.safari,K=/CriOS\/[\d]+/.test(navigator.userAgent);if((K||M&&G||k)&&typeof FileReader<"u"){var V=new FileReader;V.onloadend=function(){var te=V.result;te=K?te:te.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=te:location=te,v=null},V.readAsDataURL(U)}else{var Z=d.URL||d.webkitURL,J=Z.createObjectURL(U);v?v.location=J:location.href=J,v=null,setTimeout(function(){Z.revokeObjectURL(J)},4e4)}});d.saveAs=S.saveAs=S,en.exports=S})?E.apply(Ve,[]):E)&&(en.exports=u)},94864:en=>{"use strict";var E=Object.prototype.toString,i=Math.max,f=function(d,k){for(var S=[],U=0;U<d.length;U+=1)S[U]=d[U];for(var P=0;P<k.length;P+=1)S[P+d.length]=k[P];return S};en.exports=function(d){var k=this;if("function"!=typeof k||"[object Function]"!==E.apply(k))throw new TypeError("Function.prototype.bind called on incompatible "+k);for(var U,S=function(d,k){for(var S=[],U=1,P=0;U<d.length;U+=1,P+=1)S[P]=d[U];return S}(arguments),y=i(0,k.length-S.length),v=[],M=0;M<y;M++)v[M]="$"+M;if(U=Function("binder","return function ("+function(w,d){for(var k="",S=0;S<w.length;S+=1)k+=w[S],S+1<w.length&&(k+=",");return k}(v)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof U){var K=k.apply(this,f(S,arguments));return Object(K)===K?K:this}return k.apply(d,f(S,arguments))}),k.prototype){var G=function(){};G.prototype=k.prototype,U.prototype=new G,G.prototype=null}return U}},82988:(en,Ve,E)=>{"use strict";var i=E(94864);en.exports=Function.prototype.bind||i},89222:(en,Ve,E)=>{"use strict";var i,u=E(52276),f=E(21776),C=E(63433),x=E(42025),w=E(35097),d=E(63698),k=E(87378),S=Function,U=function(de){try{return S('"use strict"; return ('+de+").constructor;")()}catch{}},P=Object.getOwnPropertyDescriptor;if(P)try{P({},"")}catch{P=null}var y=function(){throw new d},v=P?function(){try{return y}catch{try{return P(arguments,"callee").get}catch{return y}}}():y,M=E(17528)(),G=E(88003)(),K=Object.getPrototypeOf||(G?function(de){return de.__proto__}:null),V={},Z=typeof Uint8Array>"u"||!K?i:K(Uint8Array),J={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":M&&K?K([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":u,"%eval%":eval,"%EvalError%":f,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M&&K?K(K([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!M||!K?i:K((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":C,"%ReferenceError%":x,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!M||!K?i:K((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M&&K?K(""[Symbol.iterator]()):i,"%Symbol%":M?Symbol:i,"%SyntaxError%":w,"%ThrowTypeError%":v,"%TypedArray%":Z,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":k,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet};if(K)try{null.error}catch(de){var te=K(K(de));J["%Error.prototype%"]=te}var ae=function de(R){var j;if("%AsyncFunction%"===R)j=U("async function () {}");else if("%GeneratorFunction%"===R)j=U("function* () {}");else if("%AsyncGeneratorFunction%"===R)j=U("async function* () {}");else if("%AsyncGenerator%"===R){var he=de("%AsyncGeneratorFunction%");he&&(j=he.prototype)}else if("%AsyncIteratorPrototype%"===R){var Ce=de("%AsyncGenerator%");Ce&&K&&(j=K(Ce.prototype))}return J[R]=j,j},Y={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$=E(82988),H=E(58252),me=$.call(Function.call,Array.prototype.concat),B=$.call(Function.apply,Array.prototype.splice),ce=$.call(Function.call,String.prototype.replace),Oe=$.call(Function.call,String.prototype.slice),Ue=$.call(Function.call,RegExp.prototype.exec),qe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_e=/\\(\\)?/g,Bt=function(R,j){var Ce,he=R;if(H(Y,he)&&(he="%"+(Ce=Y[he])[0]+"%"),H(J,he)){var Re=J[he];if(Re===V&&(Re=ae(he)),typeof Re>"u"&&!j)throw new d("intrinsic "+R+" exists, but is not available. Please file an issue!");return{alias:Ce,name:he,value:Re}}throw new w("intrinsic "+R+" does not exist!")};en.exports=function(R,j){if("string"!=typeof R||0===R.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof j)throw new d('"allowMissing" argument must be a boolean');if(null===Ue(/^%?[^%]*%?$/,R))throw new w("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var he=function(R){var j=Oe(R,0,1),he=Oe(R,-1);if("%"===j&&"%"!==he)throw new w("invalid intrinsic syntax, expected closing `%`");if("%"===he&&"%"!==j)throw new w("invalid intrinsic syntax, expected opening `%`");var Ce=[];return ce(R,qe,function(Re,pt,zt,Mn){Ce[Ce.length]=zt?ce(Mn,_e,"$1"):pt||Re}),Ce}(R),Ce=he.length>0?he[0]:"",Re=Bt("%"+Ce+"%",j),pt=Re.name,zt=Re.value,Mn=!1,It=Re.alias;It&&(Ce=It[0],B(he,me([0,1],It)));for(var Ne=1,Xe=!0;Ne<he.length;Ne+=1){var Ot=he[Ne],re=Oe(Ot,0,1),D=Oe(Ot,-1);if(('"'===re||"'"===re||"`"===re||'"'===D||"'"===D||"`"===D)&&re!==D)throw new w("property names with quotes must have matching quotes");if(("constructor"===Ot||!Xe)&&(Mn=!0),H(J,pt="%"+(Ce+="."+Ot)+"%"))zt=J[pt];else if(null!=zt){if(!(Ot in zt)){if(!j)throw new d("base intrinsic for "+R+" exists, but the property is not available.");return}if(P&&Ne+1>=he.length){var F=P(zt,Ot);zt=(Xe=!!F)&&"get"in F&&!("originalValue"in F.get)?F.get:zt[Ot]}else Xe=H(zt,Ot),zt=zt[Ot];Xe&&!Mn&&(J[pt]=zt)}}return zt}},9818:(en,Ve,E)=>{"use strict";E.d(Ve,{Ov:()=>f,p8:()=>i,tb:()=>u});var i=1e-6,u=typeof Float32Array<"u"?Float32Array:Array,f=Math.random;Math,Math.hypot||(Math.hypot=function(){for(var k=0,S=arguments.length;S--;)k+=arguments[S]*arguments[S];return Math.sqrt(k)})},7928:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{add:()=>B,adjoint:()=>P,clone:()=>C,copy:()=>x,create:()=>u,determinant:()=>y,equals:()=>_e,exactEquals:()=>qe,frob:()=>me,fromMat2d:()=>te,fromMat4:()=>f,fromQuat:()=>ae,fromRotation:()=>Z,fromScaling:()=>J,fromTranslation:()=>V,fromValues:()=>w,identity:()=>k,invert:()=>U,mul:()=>ht,multiply:()=>v,multiplyScalar:()=>Oe,multiplyScalarAndAdd:()=>Ue,normalFromMat4:()=>Y,projection:()=>$,rotate:()=>G,scale:()=>K,set:()=>d,str:()=>H,sub:()=>Bt,subtract:()=>ce,translate:()=>M,transpose:()=>S});var i=E(9818);function u(){var de=new i.tb(9);return i.tb!=Float32Array&&(de[1]=0,de[2]=0,de[3]=0,de[5]=0,de[6]=0,de[7]=0),de[0]=1,de[4]=1,de[8]=1,de}function f(de,R){return de[0]=R[0],de[1]=R[1],de[2]=R[2],de[3]=R[4],de[4]=R[5],de[5]=R[6],de[6]=R[8],de[7]=R[9],de[8]=R[10],de}function C(de){var R=new i.tb(9);return R[0]=de[0],R[1]=de[1],R[2]=de[2],R[3]=de[3],R[4]=de[4],R[5]=de[5],R[6]=de[6],R[7]=de[7],R[8]=de[8],R}function x(de,R){return de[0]=R[0],de[1]=R[1],de[2]=R[2],de[3]=R[3],de[4]=R[4],de[5]=R[5],de[6]=R[6],de[7]=R[7],de[8]=R[8],de}function w(de,R,j,he,Ce,Re,pt,zt,Mn){var It=new i.tb(9);return It[0]=de,It[1]=R,It[2]=j,It[3]=he,It[4]=Ce,It[5]=Re,It[6]=pt,It[7]=zt,It[8]=Mn,It}function d(de,R,j,he,Ce,Re,pt,zt,Mn,It){return de[0]=R,de[1]=j,de[2]=he,de[3]=Ce,de[4]=Re,de[5]=pt,de[6]=zt,de[7]=Mn,de[8]=It,de}function k(de){return de[0]=1,de[1]=0,de[2]=0,de[3]=0,de[4]=1,de[5]=0,de[6]=0,de[7]=0,de[8]=1,de}function S(de,R){if(de===R){var j=R[1],he=R[2],Ce=R[5];de[1]=R[3],de[2]=R[6],de[3]=j,de[5]=R[7],de[6]=he,de[7]=Ce}else de[0]=R[0],de[1]=R[3],de[2]=R[6],de[3]=R[1],de[4]=R[4],de[5]=R[7],de[6]=R[2],de[7]=R[5],de[8]=R[8];return de}function U(de,R){var j=R[0],he=R[1],Ce=R[2],Re=R[3],pt=R[4],zt=R[5],Mn=R[6],It=R[7],Ne=R[8],Xe=Ne*pt-zt*It,Ot=-Ne*Re+zt*Mn,re=It*Re-pt*Mn,D=j*Xe+he*Ot+Ce*re;return D?(de[0]=Xe*(D=1/D),de[1]=(-Ne*he+Ce*It)*D,de[2]=(zt*he-Ce*pt)*D,de[3]=Ot*D,de[4]=(Ne*j-Ce*Mn)*D,de[5]=(-zt*j+Ce*Re)*D,de[6]=re*D,de[7]=(-It*j+he*Mn)*D,de[8]=(pt*j-he*Re)*D,de):null}function P(de,R){var j=R[0],he=R[1],Ce=R[2],Re=R[3],pt=R[4],zt=R[5],Mn=R[6],It=R[7],Ne=R[8];return de[0]=pt*Ne-zt*It,de[1]=Ce*It-he*Ne,de[2]=he*zt-Ce*pt,de[3]=zt*Mn-Re*Ne,de[4]=j*Ne-Ce*Mn,de[5]=Ce*Re-j*zt,de[6]=Re*It-pt*Mn,de[7]=he*Mn-j*It,de[8]=j*pt-he*Re,de}function y(de){var Ce=de[3],Re=de[4],pt=de[5],zt=de[6],Mn=de[7],It=de[8];return de[0]*(It*Re-pt*Mn)+de[1]*(-It*Ce+pt*zt)+de[2]*(Mn*Ce-Re*zt)}function v(de,R,j){var he=R[0],Ce=R[1],Re=R[2],pt=R[3],zt=R[4],Mn=R[5],It=R[6],Ne=R[7],Xe=R[8],Ot=j[0],re=j[1],D=j[2],F=j[3],T=j[4],W=j[5],z=j[6],p=j[7],I=j[8];return de[0]=Ot*he+re*pt+D*It,de[1]=Ot*Ce+re*zt+D*Ne,de[2]=Ot*Re+re*Mn+D*Xe,de[3]=F*he+T*pt+W*It,de[4]=F*Ce+T*zt+W*Ne,de[5]=F*Re+T*Mn+W*Xe,de[6]=z*he+p*pt+I*It,de[7]=z*Ce+p*zt+I*Ne,de[8]=z*Re+p*Mn+I*Xe,de}function M(de,R,j){var he=R[0],Ce=R[1],Re=R[2],pt=R[3],zt=R[4],Mn=R[5],It=R[6],Ne=R[7],Xe=R[8],Ot=j[0],re=j[1];return de[0]=he,de[1]=Ce,de[2]=Re,de[3]=pt,de[4]=zt,de[5]=Mn,de[6]=Ot*he+re*pt+It,de[7]=Ot*Ce+re*zt+Ne,de[8]=Ot*Re+re*Mn+Xe,de}function G(de,R,j){var he=R[0],Ce=R[1],Re=R[2],pt=R[3],zt=R[4],Mn=R[5],It=R[6],Ne=R[7],Xe=R[8],Ot=Math.sin(j),re=Math.cos(j);return de[0]=re*he+Ot*pt,de[1]=re*Ce+Ot*zt,de[2]=re*Re+Ot*Mn,de[3]=re*pt-Ot*he,de[4]=re*zt-Ot*Ce,de[5]=re*Mn-Ot*Re,de[6]=It,de[7]=Ne,de[8]=Xe,de}function K(de,R,j){var he=j[0],Ce=j[1];return de[0]=he*R[0],de[1]=he*R[1],de[2]=he*R[2],de[3]=Ce*R[3],de[4]=Ce*R[4],de[5]=Ce*R[5],de[6]=R[6],de[7]=R[7],de[8]=R[8],de}function V(de,R){return de[0]=1,de[1]=0,de[2]=0,de[3]=0,de[4]=1,de[5]=0,de[6]=R[0],de[7]=R[1],de[8]=1,de}function Z(de,R){var j=Math.sin(R),he=Math.cos(R);return de[0]=he,de[1]=j,de[2]=0,de[3]=-j,de[4]=he,de[5]=0,de[6]=0,de[7]=0,de[8]=1,de}function J(de,R){return de[0]=R[0],de[1]=0,de[2]=0,de[3]=0,de[4]=R[1],de[5]=0,de[6]=0,de[7]=0,de[8]=1,de}function te(de,R){return de[0]=R[0],de[1]=R[1],de[2]=0,de[3]=R[2],de[4]=R[3],de[5]=0,de[6]=R[4],de[7]=R[5],de[8]=1,de}function ae(de,R){var j=R[0],he=R[1],Ce=R[2],Re=R[3],pt=j+j,zt=he+he,Mn=Ce+Ce,It=j*pt,Ne=he*pt,Xe=he*zt,Ot=Ce*pt,re=Ce*zt,D=Ce*Mn,F=Re*pt,T=Re*zt,W=Re*Mn;return de[0]=1-Xe-D,de[3]=Ne-W,de[6]=Ot+T,de[1]=Ne+W,de[4]=1-It-D,de[7]=re-F,de[2]=Ot-T,de[5]=re+F,de[8]=1-It-Xe,de}function Y(de,R){var j=R[0],he=R[1],Ce=R[2],Re=R[3],pt=R[4],zt=R[5],Mn=R[6],It=R[7],Ne=R[8],Xe=R[9],Ot=R[10],re=R[11],D=R[12],F=R[13],T=R[14],W=R[15],z=j*zt-he*pt,p=j*Mn-Ce*pt,I=j*It-Re*pt,Ae=he*Mn-Ce*zt,se=he*It-Re*zt,L=Ce*It-Re*Mn,ve=Ne*F-Xe*D,ge=Ne*T-Ot*D,et=Ne*W-re*D,Pt=Xe*T-Ot*F,Rt=Xe*W-re*F,ln=Ot*W-re*T,je=z*ln-p*Rt+I*Pt+Ae*et-se*ge+L*ve;return je?(de[0]=(zt*ln-Mn*Rt+It*Pt)*(je=1/je),de[1]=(Mn*et-pt*ln-It*ge)*je,de[2]=(pt*Rt-zt*et+It*ve)*je,de[3]=(Ce*Rt-he*ln-Re*Pt)*je,de[4]=(j*ln-Ce*et+Re*ge)*je,de[5]=(he*et-j*Rt-Re*ve)*je,de[6]=(F*L-T*se+W*Ae)*je,de[7]=(T*I-D*L-W*p)*je,de[8]=(D*se-F*I+W*z)*je,de):null}function $(de,R,j){return de[0]=2/R,de[1]=0,de[2]=0,de[3]=0,de[4]=-2/j,de[5]=0,de[6]=-1,de[7]=1,de[8]=1,de}function H(de){return"mat3("+de[0]+", "+de[1]+", "+de[2]+", "+de[3]+", "+de[4]+", "+de[5]+", "+de[6]+", "+de[7]+", "+de[8]+")"}function me(de){return Math.hypot(de[0],de[1],de[2],de[3],de[4],de[5],de[6],de[7],de[8])}function B(de,R,j){return de[0]=R[0]+j[0],de[1]=R[1]+j[1],de[2]=R[2]+j[2],de[3]=R[3]+j[3],de[4]=R[4]+j[4],de[5]=R[5]+j[5],de[6]=R[6]+j[6],de[7]=R[7]+j[7],de[8]=R[8]+j[8],de}function ce(de,R,j){return de[0]=R[0]-j[0],de[1]=R[1]-j[1],de[2]=R[2]-j[2],de[3]=R[3]-j[3],de[4]=R[4]-j[4],de[5]=R[5]-j[5],de[6]=R[6]-j[6],de[7]=R[7]-j[7],de[8]=R[8]-j[8],de}function Oe(de,R,j){return de[0]=R[0]*j,de[1]=R[1]*j,de[2]=R[2]*j,de[3]=R[3]*j,de[4]=R[4]*j,de[5]=R[5]*j,de[6]=R[6]*j,de[7]=R[7]*j,de[8]=R[8]*j,de}function Ue(de,R,j,he){return de[0]=R[0]+j[0]*he,de[1]=R[1]+j[1]*he,de[2]=R[2]+j[2]*he,de[3]=R[3]+j[3]*he,de[4]=R[4]+j[4]*he,de[5]=R[5]+j[5]*he,de[6]=R[6]+j[6]*he,de[7]=R[7]+j[7]*he,de[8]=R[8]+j[8]*he,de}function qe(de,R){return de[0]===R[0]&&de[1]===R[1]&&de[2]===R[2]&&de[3]===R[3]&&de[4]===R[4]&&de[5]===R[5]&&de[6]===R[6]&&de[7]===R[7]&&de[8]===R[8]}function _e(de,R){var j=de[0],he=de[1],Ce=de[2],Re=de[3],pt=de[4],zt=de[5],Mn=de[6],It=de[7],Ne=de[8],Xe=R[0],Ot=R[1],re=R[2],D=R[3],F=R[4],T=R[5],W=R[6],z=R[7],p=R[8];return Math.abs(j-Xe)<=i.p8*Math.max(1,Math.abs(j),Math.abs(Xe))&&Math.abs(he-Ot)<=i.p8*Math.max(1,Math.abs(he),Math.abs(Ot))&&Math.abs(Ce-re)<=i.p8*Math.max(1,Math.abs(Ce),Math.abs(re))&&Math.abs(Re-D)<=i.p8*Math.max(1,Math.abs(Re),Math.abs(D))&&Math.abs(pt-F)<=i.p8*Math.max(1,Math.abs(pt),Math.abs(F))&&Math.abs(zt-T)<=i.p8*Math.max(1,Math.abs(zt),Math.abs(T))&&Math.abs(Mn-W)<=i.p8*Math.max(1,Math.abs(Mn),Math.abs(W))&&Math.abs(It-z)<=i.p8*Math.max(1,Math.abs(It),Math.abs(z))&&Math.abs(Ne-p)<=i.p8*Math.max(1,Math.abs(Ne),Math.abs(p))}var ht=v,Bt=ce},65133:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{add:()=>Xe,adjoint:()=>U,clone:()=>f,copy:()=>C,create:()=>u,determinant:()=>P,equals:()=>T,exactEquals:()=>F,frob:()=>Ne,fromQuat:()=>ht,fromQuat2:()=>B,fromRotation:()=>ae,fromRotationTranslation:()=>me,fromRotationTranslationScale:()=>qe,fromRotationTranslationScaleOrigin:()=>_e,fromScaling:()=>te,fromTranslation:()=>J,fromValues:()=>x,fromXRotation:()=>Y,fromYRotation:()=>$,fromZRotation:()=>H,frustum:()=>Bt,getRotation:()=>Ue,getScaling:()=>Oe,getTranslation:()=>ce,identity:()=>d,invert:()=>S,lookAt:()=>zt,mul:()=>W,multiply:()=>y,multiplyScalar:()=>re,multiplyScalarAndAdd:()=>D,ortho:()=>Re,orthoNO:()=>Ce,orthoZO:()=>pt,perspective:()=>R,perspectiveFromFieldOfView:()=>he,perspectiveNO:()=>de,perspectiveZO:()=>j,rotate:()=>G,rotateX:()=>K,rotateY:()=>V,rotateZ:()=>Z,scale:()=>M,set:()=>w,str:()=>It,sub:()=>z,subtract:()=>Ot,targetTo:()=>Mn,translate:()=>v,transpose:()=>k});var i=E(9818);function u(){var p=new i.tb(16);return i.tb!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0),p[0]=1,p[5]=1,p[10]=1,p[15]=1,p}function f(p){var I=new i.tb(16);return I[0]=p[0],I[1]=p[1],I[2]=p[2],I[3]=p[3],I[4]=p[4],I[5]=p[5],I[6]=p[6],I[7]=p[7],I[8]=p[8],I[9]=p[9],I[10]=p[10],I[11]=p[11],I[12]=p[12],I[13]=p[13],I[14]=p[14],I[15]=p[15],I}function C(p,I){return p[0]=I[0],p[1]=I[1],p[2]=I[2],p[3]=I[3],p[4]=I[4],p[5]=I[5],p[6]=I[6],p[7]=I[7],p[8]=I[8],p[9]=I[9],p[10]=I[10],p[11]=I[11],p[12]=I[12],p[13]=I[13],p[14]=I[14],p[15]=I[15],p}function x(p,I,Ae,se,L,ve,ge,et,Pt,Rt,ln,je,Ht,ut,jt,gn){var lt=new i.tb(16);return lt[0]=p,lt[1]=I,lt[2]=Ae,lt[3]=se,lt[4]=L,lt[5]=ve,lt[6]=ge,lt[7]=et,lt[8]=Pt,lt[9]=Rt,lt[10]=ln,lt[11]=je,lt[12]=Ht,lt[13]=ut,lt[14]=jt,lt[15]=gn,lt}function w(p,I,Ae,se,L,ve,ge,et,Pt,Rt,ln,je,Ht,ut,jt,gn,lt){return p[0]=I,p[1]=Ae,p[2]=se,p[3]=L,p[4]=ve,p[5]=ge,p[6]=et,p[7]=Pt,p[8]=Rt,p[9]=ln,p[10]=je,p[11]=Ht,p[12]=ut,p[13]=jt,p[14]=gn,p[15]=lt,p}function d(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function k(p,I){if(p===I){var Ae=I[1],se=I[2],L=I[3],ve=I[6],ge=I[7],et=I[11];p[1]=I[4],p[2]=I[8],p[3]=I[12],p[4]=Ae,p[6]=I[9],p[7]=I[13],p[8]=se,p[9]=ve,p[11]=I[14],p[12]=L,p[13]=ge,p[14]=et}else p[0]=I[0],p[1]=I[4],p[2]=I[8],p[3]=I[12],p[4]=I[1],p[5]=I[5],p[6]=I[9],p[7]=I[13],p[8]=I[2],p[9]=I[6],p[10]=I[10],p[11]=I[14],p[12]=I[3],p[13]=I[7],p[14]=I[11],p[15]=I[15];return p}function S(p,I){var Ae=I[0],se=I[1],L=I[2],ve=I[3],ge=I[4],et=I[5],Pt=I[6],Rt=I[7],ln=I[8],je=I[9],Ht=I[10],ut=I[11],jt=I[12],gn=I[13],lt=I[14],bt=I[15],He=Ae*et-se*ge,ye=Ae*Pt-L*ge,mt=Ae*Rt-ve*ge,rt=se*Pt-L*et,Kt=se*Rt-ve*et,Dn=L*Rt-ve*Pt,Jn=ln*gn-je*jt,lr=ln*lt-Ht*jt,an=ln*bt-ut*jt,At=je*lt-Ht*gn,Et=je*bt-ut*gn,xt=Ht*bt-ut*lt,gt=He*xt-ye*Et+mt*At+rt*an-Kt*lr+Dn*Jn;return gt?(p[0]=(et*xt-Pt*Et+Rt*At)*(gt=1/gt),p[1]=(L*Et-se*xt-ve*At)*gt,p[2]=(gn*Dn-lt*Kt+bt*rt)*gt,p[3]=(Ht*Kt-je*Dn-ut*rt)*gt,p[4]=(Pt*an-ge*xt-Rt*lr)*gt,p[5]=(Ae*xt-L*an+ve*lr)*gt,p[6]=(lt*mt-jt*Dn-bt*ye)*gt,p[7]=(ln*Dn-Ht*mt+ut*ye)*gt,p[8]=(ge*Et-et*an+Rt*Jn)*gt,p[9]=(se*an-Ae*Et-ve*Jn)*gt,p[10]=(jt*Kt-gn*mt+bt*He)*gt,p[11]=(je*mt-ln*Kt-ut*He)*gt,p[12]=(et*lr-ge*At-Pt*Jn)*gt,p[13]=(Ae*At-se*lr+L*Jn)*gt,p[14]=(gn*ye-jt*rt-lt*He)*gt,p[15]=(ln*rt-je*ye+Ht*He)*gt,p):null}function U(p,I){var Ae=I[0],se=I[1],L=I[2],ve=I[3],ge=I[4],et=I[5],Pt=I[6],Rt=I[7],ln=I[8],je=I[9],Ht=I[10],ut=I[11],jt=I[12],gn=I[13],lt=I[14],bt=I[15];return p[0]=et*(Ht*bt-ut*lt)-je*(Pt*bt-Rt*lt)+gn*(Pt*ut-Rt*Ht),p[1]=-(se*(Ht*bt-ut*lt)-je*(L*bt-ve*lt)+gn*(L*ut-ve*Ht)),p[2]=se*(Pt*bt-Rt*lt)-et*(L*bt-ve*lt)+gn*(L*Rt-ve*Pt),p[3]=-(se*(Pt*ut-Rt*Ht)-et*(L*ut-ve*Ht)+je*(L*Rt-ve*Pt)),p[4]=-(ge*(Ht*bt-ut*lt)-ln*(Pt*bt-Rt*lt)+jt*(Pt*ut-Rt*Ht)),p[5]=Ae*(Ht*bt-ut*lt)-ln*(L*bt-ve*lt)+jt*(L*ut-ve*Ht),p[6]=-(Ae*(Pt*bt-Rt*lt)-ge*(L*bt-ve*lt)+jt*(L*Rt-ve*Pt)),p[7]=Ae*(Pt*ut-Rt*Ht)-ge*(L*ut-ve*Ht)+ln*(L*Rt-ve*Pt),p[8]=ge*(je*bt-ut*gn)-ln*(et*bt-Rt*gn)+jt*(et*ut-Rt*je),p[9]=-(Ae*(je*bt-ut*gn)-ln*(se*bt-ve*gn)+jt*(se*ut-ve*je)),p[10]=Ae*(et*bt-Rt*gn)-ge*(se*bt-ve*gn)+jt*(se*Rt-ve*et),p[11]=-(Ae*(et*ut-Rt*je)-ge*(se*ut-ve*je)+ln*(se*Rt-ve*et)),p[12]=-(ge*(je*lt-Ht*gn)-ln*(et*lt-Pt*gn)+jt*(et*Ht-Pt*je)),p[13]=Ae*(je*lt-Ht*gn)-ln*(se*lt-L*gn)+jt*(se*Ht-L*je),p[14]=-(Ae*(et*lt-Pt*gn)-ge*(se*lt-L*gn)+jt*(se*Pt-L*et)),p[15]=Ae*(et*Ht-Pt*je)-ge*(se*Ht-L*je)+ln*(se*Pt-L*et),p}function P(p){var I=p[0],Ae=p[1],se=p[2],L=p[3],ve=p[4],ge=p[5],et=p[6],Pt=p[7],Rt=p[8],ln=p[9],je=p[10],Ht=p[11],ut=p[12],jt=p[13],gn=p[14],lt=p[15];return(I*ge-Ae*ve)*(je*lt-Ht*gn)-(I*et-se*ve)*(ln*lt-Ht*jt)+(I*Pt-L*ve)*(ln*gn-je*jt)+(Ae*et-se*ge)*(Rt*lt-Ht*ut)-(Ae*Pt-L*ge)*(Rt*gn-je*ut)+(se*Pt-L*et)*(Rt*jt-ln*ut)}function y(p,I,Ae){var se=I[0],L=I[1],ve=I[2],ge=I[3],et=I[4],Pt=I[5],Rt=I[6],ln=I[7],je=I[8],Ht=I[9],ut=I[10],jt=I[11],gn=I[12],lt=I[13],bt=I[14],He=I[15],ye=Ae[0],mt=Ae[1],rt=Ae[2],Kt=Ae[3];return p[0]=ye*se+mt*et+rt*je+Kt*gn,p[1]=ye*L+mt*Pt+rt*Ht+Kt*lt,p[2]=ye*ve+mt*Rt+rt*ut+Kt*bt,p[3]=ye*ge+mt*ln+rt*jt+Kt*He,p[4]=(ye=Ae[4])*se+(mt=Ae[5])*et+(rt=Ae[6])*je+(Kt=Ae[7])*gn,p[5]=ye*L+mt*Pt+rt*Ht+Kt*lt,p[6]=ye*ve+mt*Rt+rt*ut+Kt*bt,p[7]=ye*ge+mt*ln+rt*jt+Kt*He,p[8]=(ye=Ae[8])*se+(mt=Ae[9])*et+(rt=Ae[10])*je+(Kt=Ae[11])*gn,p[9]=ye*L+mt*Pt+rt*Ht+Kt*lt,p[10]=ye*ve+mt*Rt+rt*ut+Kt*bt,p[11]=ye*ge+mt*ln+rt*jt+Kt*He,p[12]=(ye=Ae[12])*se+(mt=Ae[13])*et+(rt=Ae[14])*je+(Kt=Ae[15])*gn,p[13]=ye*L+mt*Pt+rt*Ht+Kt*lt,p[14]=ye*ve+mt*Rt+rt*ut+Kt*bt,p[15]=ye*ge+mt*ln+rt*jt+Kt*He,p}function v(p,I,Ae){var ge,et,Pt,Rt,ln,je,Ht,ut,jt,gn,lt,bt,se=Ae[0],L=Ae[1],ve=Ae[2];return I===p?(p[12]=I[0]*se+I[4]*L+I[8]*ve+I[12],p[13]=I[1]*se+I[5]*L+I[9]*ve+I[13],p[14]=I[2]*se+I[6]*L+I[10]*ve+I[14],p[15]=I[3]*se+I[7]*L+I[11]*ve+I[15]):(et=I[1],Pt=I[2],Rt=I[3],ln=I[4],je=I[5],Ht=I[6],ut=I[7],jt=I[8],gn=I[9],lt=I[10],bt=I[11],p[0]=ge=I[0],p[1]=et,p[2]=Pt,p[3]=Rt,p[4]=ln,p[5]=je,p[6]=Ht,p[7]=ut,p[8]=jt,p[9]=gn,p[10]=lt,p[11]=bt,p[12]=ge*se+ln*L+jt*ve+I[12],p[13]=et*se+je*L+gn*ve+I[13],p[14]=Pt*se+Ht*L+lt*ve+I[14],p[15]=Rt*se+ut*L+bt*ve+I[15]),p}function M(p,I,Ae){var se=Ae[0],L=Ae[1],ve=Ae[2];return p[0]=I[0]*se,p[1]=I[1]*se,p[2]=I[2]*se,p[3]=I[3]*se,p[4]=I[4]*L,p[5]=I[5]*L,p[6]=I[6]*L,p[7]=I[7]*L,p[8]=I[8]*ve,p[9]=I[9]*ve,p[10]=I[10]*ve,p[11]=I[11]*ve,p[12]=I[12],p[13]=I[13],p[14]=I[14],p[15]=I[15],p}function G(p,I,Ae,se){var Pt,Rt,ln,je,Ht,ut,jt,gn,lt,bt,He,ye,mt,rt,Kt,Dn,Jn,lr,an,At,Et,xt,gt,tn,L=se[0],ve=se[1],ge=se[2],et=Math.hypot(L,ve,ge);return et<i.p8?null:(L*=et=1/et,ve*=et,ge*=et,Pt=Math.sin(Ae),Rt=Math.cos(Ae),Ht=I[1],ut=I[2],jt=I[3],lt=I[5],bt=I[6],He=I[7],mt=I[9],rt=I[10],Kt=I[11],an=L*ve*(ln=1-Rt)-ge*Pt,At=ve*ve*ln+Rt,Et=ge*ve*ln+L*Pt,xt=L*ge*ln+ve*Pt,gt=ve*ge*ln-L*Pt,tn=ge*ge*ln+Rt,p[0]=(je=I[0])*(Dn=L*L*ln+Rt)+(gn=I[4])*(Jn=ve*L*ln+ge*Pt)+(ye=I[8])*(lr=ge*L*ln-ve*Pt),p[1]=Ht*Dn+lt*Jn+mt*lr,p[2]=ut*Dn+bt*Jn+rt*lr,p[3]=jt*Dn+He*Jn+Kt*lr,p[4]=je*an+gn*At+ye*Et,p[5]=Ht*an+lt*At+mt*Et,p[6]=ut*an+bt*At+rt*Et,p[7]=jt*an+He*At+Kt*Et,p[8]=je*xt+gn*gt+ye*tn,p[9]=Ht*xt+lt*gt+mt*tn,p[10]=ut*xt+bt*gt+rt*tn,p[11]=jt*xt+He*gt+Kt*tn,I!==p&&(p[12]=I[12],p[13]=I[13],p[14]=I[14],p[15]=I[15]),p)}function K(p,I,Ae){var se=Math.sin(Ae),L=Math.cos(Ae),ve=I[4],ge=I[5],et=I[6],Pt=I[7],Rt=I[8],ln=I[9],je=I[10],Ht=I[11];return I!==p&&(p[0]=I[0],p[1]=I[1],p[2]=I[2],p[3]=I[3],p[12]=I[12],p[13]=I[13],p[14]=I[14],p[15]=I[15]),p[4]=ve*L+Rt*se,p[5]=ge*L+ln*se,p[6]=et*L+je*se,p[7]=Pt*L+Ht*se,p[8]=Rt*L-ve*se,p[9]=ln*L-ge*se,p[10]=je*L-et*se,p[11]=Ht*L-Pt*se,p}function V(p,I,Ae){var se=Math.sin(Ae),L=Math.cos(Ae),ve=I[0],ge=I[1],et=I[2],Pt=I[3],Rt=I[8],ln=I[9],je=I[10],Ht=I[11];return I!==p&&(p[4]=I[4],p[5]=I[5],p[6]=I[6],p[7]=I[7],p[12]=I[12],p[13]=I[13],p[14]=I[14],p[15]=I[15]),p[0]=ve*L-Rt*se,p[1]=ge*L-ln*se,p[2]=et*L-je*se,p[3]=Pt*L-Ht*se,p[8]=ve*se+Rt*L,p[9]=ge*se+ln*L,p[10]=et*se+je*L,p[11]=Pt*se+Ht*L,p}function Z(p,I,Ae){var se=Math.sin(Ae),L=Math.cos(Ae),ve=I[0],ge=I[1],et=I[2],Pt=I[3],Rt=I[4],ln=I[5],je=I[6],Ht=I[7];return I!==p&&(p[8]=I[8],p[9]=I[9],p[10]=I[10],p[11]=I[11],p[12]=I[12],p[13]=I[13],p[14]=I[14],p[15]=I[15]),p[0]=ve*L+Rt*se,p[1]=ge*L+ln*se,p[2]=et*L+je*se,p[3]=Pt*L+Ht*se,p[4]=Rt*L-ve*se,p[5]=ln*L-ge*se,p[6]=je*L-et*se,p[7]=Ht*L-Pt*se,p}function J(p,I){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=I[0],p[13]=I[1],p[14]=I[2],p[15]=1,p}function te(p,I){return p[0]=I[0],p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=I[1],p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=I[2],p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function ae(p,I,Ae){var et,Pt,Rt,se=Ae[0],L=Ae[1],ve=Ae[2],ge=Math.hypot(se,L,ve);return ge<i.p8?null:(se*=ge=1/ge,L*=ge,ve*=ge,et=Math.sin(I),Pt=Math.cos(I),p[0]=se*se*(Rt=1-Pt)+Pt,p[1]=L*se*Rt+ve*et,p[2]=ve*se*Rt-L*et,p[3]=0,p[4]=se*L*Rt-ve*et,p[5]=L*L*Rt+Pt,p[6]=ve*L*Rt+se*et,p[7]=0,p[8]=se*ve*Rt+L*et,p[9]=L*ve*Rt-se*et,p[10]=ve*ve*Rt+Pt,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p)}function Y(p,I){var Ae=Math.sin(I),se=Math.cos(I);return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=se,p[6]=Ae,p[7]=0,p[8]=0,p[9]=-Ae,p[10]=se,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function $(p,I){var Ae=Math.sin(I),se=Math.cos(I);return p[0]=se,p[1]=0,p[2]=-Ae,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=Ae,p[9]=0,p[10]=se,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function H(p,I){var Ae=Math.sin(I),se=Math.cos(I);return p[0]=se,p[1]=Ae,p[2]=0,p[3]=0,p[4]=-Ae,p[5]=se,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function me(p,I,Ae){var se=I[0],L=I[1],ve=I[2],ge=I[3],et=se+se,Pt=L+L,Rt=ve+ve,ln=se*et,je=se*Pt,Ht=se*Rt,ut=L*Pt,jt=L*Rt,gn=ve*Rt,lt=ge*et,bt=ge*Pt,He=ge*Rt;return p[0]=1-(ut+gn),p[1]=je+He,p[2]=Ht-bt,p[3]=0,p[4]=je-He,p[5]=1-(ln+gn),p[6]=jt+lt,p[7]=0,p[8]=Ht+bt,p[9]=jt-lt,p[10]=1-(ln+ut),p[11]=0,p[12]=Ae[0],p[13]=Ae[1],p[14]=Ae[2],p[15]=1,p}function B(p,I){var Ae=new i.tb(3),se=-I[0],L=-I[1],ve=-I[2],ge=I[3],et=I[4],Pt=I[5],Rt=I[6],ln=I[7],je=se*se+L*L+ve*ve+ge*ge;return je>0?(Ae[0]=2*(et*ge+ln*se+Pt*ve-Rt*L)/je,Ae[1]=2*(Pt*ge+ln*L+Rt*se-et*ve)/je,Ae[2]=2*(Rt*ge+ln*ve+et*L-Pt*se)/je):(Ae[0]=2*(et*ge+ln*se+Pt*ve-Rt*L),Ae[1]=2*(Pt*ge+ln*L+Rt*se-et*ve),Ae[2]=2*(Rt*ge+ln*ve+et*L-Pt*se)),me(p,I,Ae),p}function ce(p,I){return p[0]=I[12],p[1]=I[13],p[2]=I[14],p}function Oe(p,I){var ve=I[4],ge=I[5],et=I[6],Pt=I[8],Rt=I[9],ln=I[10];return p[0]=Math.hypot(I[0],I[1],I[2]),p[1]=Math.hypot(ve,ge,et),p[2]=Math.hypot(Pt,Rt,ln),p}function Ue(p,I){var Ae=new i.tb(3);Oe(Ae,I);var se=1/Ae[0],L=1/Ae[1],ve=1/Ae[2],ge=I[0]*se,et=I[1]*L,Pt=I[2]*ve,Rt=I[4]*se,ln=I[5]*L,je=I[6]*ve,Ht=I[8]*se,ut=I[9]*L,jt=I[10]*ve,gn=ge+ln+jt,lt=0;return gn>0?(lt=2*Math.sqrt(gn+1),p[3]=.25*lt,p[0]=(je-ut)/lt,p[1]=(Ht-Pt)/lt,p[2]=(et-Rt)/lt):ge>ln&&ge>jt?(lt=2*Math.sqrt(1+ge-ln-jt),p[3]=(je-ut)/lt,p[0]=.25*lt,p[1]=(et+Rt)/lt,p[2]=(Ht+Pt)/lt):ln>jt?(lt=2*Math.sqrt(1+ln-ge-jt),p[3]=(Ht-Pt)/lt,p[0]=(et+Rt)/lt,p[1]=.25*lt,p[2]=(je+ut)/lt):(lt=2*Math.sqrt(1+jt-ge-ln),p[3]=(et-Rt)/lt,p[0]=(Ht+Pt)/lt,p[1]=(je+ut)/lt,p[2]=.25*lt),p}function qe(p,I,Ae,se){var L=I[0],ve=I[1],ge=I[2],et=I[3],Pt=L+L,Rt=ve+ve,ln=ge+ge,je=L*Pt,Ht=L*Rt,ut=L*ln,jt=ve*Rt,gn=ve*ln,lt=ge*ln,bt=et*Pt,He=et*Rt,ye=et*ln,mt=se[0],rt=se[1],Kt=se[2];return p[0]=(1-(jt+lt))*mt,p[1]=(Ht+ye)*mt,p[2]=(ut-He)*mt,p[3]=0,p[4]=(Ht-ye)*rt,p[5]=(1-(je+lt))*rt,p[6]=(gn+bt)*rt,p[7]=0,p[8]=(ut+He)*Kt,p[9]=(gn-bt)*Kt,p[10]=(1-(je+jt))*Kt,p[11]=0,p[12]=Ae[0],p[13]=Ae[1],p[14]=Ae[2],p[15]=1,p}function _e(p,I,Ae,se,L){var ve=I[0],ge=I[1],et=I[2],Pt=I[3],Rt=ve+ve,ln=ge+ge,je=et+et,Ht=ve*Rt,ut=ve*ln,jt=ve*je,gn=ge*ln,lt=ge*je,bt=et*je,He=Pt*Rt,ye=Pt*ln,mt=Pt*je,rt=se[0],Kt=se[1],Dn=se[2],Jn=L[0],lr=L[1],an=L[2],At=(1-(gn+bt))*rt,Et=(ut+mt)*rt,xt=(jt-ye)*rt,gt=(ut-mt)*Kt,tn=(1-(Ht+bt))*Kt,Xt=(lt+He)*Kt,Ye=(jt+ye)*Dn,Vt=(lt-He)*Dn,En=(1-(Ht+gn))*Dn;return p[0]=At,p[1]=Et,p[2]=xt,p[3]=0,p[4]=gt,p[5]=tn,p[6]=Xt,p[7]=0,p[8]=Ye,p[9]=Vt,p[10]=En,p[11]=0,p[12]=Ae[0]+Jn-(At*Jn+gt*lr+Ye*an),p[13]=Ae[1]+lr-(Et*Jn+tn*lr+Vt*an),p[14]=Ae[2]+an-(xt*Jn+Xt*lr+En*an),p[15]=1,p}function ht(p,I){var Ae=I[0],se=I[1],L=I[2],ve=I[3],ge=Ae+Ae,et=se+se,Pt=L+L,Rt=Ae*ge,ln=se*ge,je=se*et,Ht=L*ge,ut=L*et,jt=L*Pt,gn=ve*ge,lt=ve*et,bt=ve*Pt;return p[0]=1-je-jt,p[1]=ln+bt,p[2]=Ht-lt,p[3]=0,p[4]=ln-bt,p[5]=1-Rt-jt,p[6]=ut+gn,p[7]=0,p[8]=Ht+lt,p[9]=ut-gn,p[10]=1-Rt-je,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function Bt(p,I,Ae,se,L,ve,ge){var et=1/(Ae-I),Pt=1/(L-se),Rt=1/(ve-ge);return p[0]=2*ve*et,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=2*ve*Pt,p[6]=0,p[7]=0,p[8]=(Ae+I)*et,p[9]=(L+se)*Pt,p[10]=(ge+ve)*Rt,p[11]=-1,p[12]=0,p[13]=0,p[14]=ge*ve*2*Rt,p[15]=0,p}function de(p,I,Ae,se,L){var ge,ve=1/Math.tan(I/2);return p[0]=ve/Ae,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=ve,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=-1,p[12]=0,p[13]=0,p[15]=0,null!=L&&L!==1/0?(p[10]=(L+se)*(ge=1/(se-L)),p[14]=2*L*se*ge):(p[10]=-1,p[14]=-2*se),p}var R=de;function j(p,I,Ae,se,L){var ge,ve=1/Math.tan(I/2);return p[0]=ve/Ae,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=ve,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=-1,p[12]=0,p[13]=0,p[15]=0,null!=L&&L!==1/0?(p[10]=L*(ge=1/(se-L)),p[14]=L*se*ge):(p[10]=-1,p[14]=-se),p}function he(p,I,Ae,se){var L=Math.tan(I.upDegrees*Math.PI/180),ve=Math.tan(I.downDegrees*Math.PI/180),ge=Math.tan(I.leftDegrees*Math.PI/180),et=Math.tan(I.rightDegrees*Math.PI/180),Pt=2/(ge+et),Rt=2/(L+ve);return p[0]=Pt,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=Rt,p[6]=0,p[7]=0,p[8]=-(ge-et)*Pt*.5,p[9]=(L-ve)*Rt*.5,p[10]=se/(Ae-se),p[11]=-1,p[12]=0,p[13]=0,p[14]=se*Ae/(Ae-se),p[15]=0,p}function Ce(p,I,Ae,se,L,ve,ge){var et=1/(I-Ae),Pt=1/(se-L),Rt=1/(ve-ge);return p[0]=-2*et,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*Pt,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=2*Rt,p[11]=0,p[12]=(I+Ae)*et,p[13]=(L+se)*Pt,p[14]=(ge+ve)*Rt,p[15]=1,p}var Re=Ce;function pt(p,I,Ae,se,L,ve,ge){var et=1/(I-Ae),Pt=1/(se-L),Rt=1/(ve-ge);return p[0]=-2*et,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*Pt,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=Rt,p[11]=0,p[12]=(I+Ae)*et,p[13]=(L+se)*Pt,p[14]=ve*Rt,p[15]=1,p}function zt(p,I,Ae,se){var L,ve,ge,et,Pt,Rt,ln,je,Ht,ut,jt=I[0],gn=I[1],lt=I[2],bt=se[0],He=se[1],ye=se[2],mt=Ae[0],rt=Ae[1],Kt=Ae[2];return Math.abs(jt-mt)<i.p8&&Math.abs(gn-rt)<i.p8&&Math.abs(lt-Kt)<i.p8?d(p):(ln=jt-mt,je=gn-rt,Ht=lt-Kt,L=He*(Ht*=ut=1/Math.hypot(ln,je,Ht))-ye*(je*=ut),ve=ye*(ln*=ut)-bt*Ht,ge=bt*je-He*ln,(ut=Math.hypot(L,ve,ge))?(L*=ut=1/ut,ve*=ut,ge*=ut):(L=0,ve=0,ge=0),et=je*ge-Ht*ve,Pt=Ht*L-ln*ge,Rt=ln*ve-je*L,(ut=Math.hypot(et,Pt,Rt))?(et*=ut=1/ut,Pt*=ut,Rt*=ut):(et=0,Pt=0,Rt=0),p[0]=L,p[1]=et,p[2]=ln,p[3]=0,p[4]=ve,p[5]=Pt,p[6]=je,p[7]=0,p[8]=ge,p[9]=Rt,p[10]=Ht,p[11]=0,p[12]=-(L*jt+ve*gn+ge*lt),p[13]=-(et*jt+Pt*gn+Rt*lt),p[14]=-(ln*jt+je*gn+Ht*lt),p[15]=1,p)}function Mn(p,I,Ae,se){var L=I[0],ve=I[1],ge=I[2],et=se[0],Pt=se[1],Rt=se[2],ln=L-Ae[0],je=ve-Ae[1],Ht=ge-Ae[2],ut=ln*ln+je*je+Ht*Ht;ut>0&&(ln*=ut=1/Math.sqrt(ut),je*=ut,Ht*=ut);var jt=Pt*Ht-Rt*je,gn=Rt*ln-et*Ht,lt=et*je-Pt*ln;return(ut=jt*jt+gn*gn+lt*lt)>0&&(jt*=ut=1/Math.sqrt(ut),gn*=ut,lt*=ut),p[0]=jt,p[1]=gn,p[2]=lt,p[3]=0,p[4]=je*lt-Ht*gn,p[5]=Ht*jt-ln*lt,p[6]=ln*gn-je*jt,p[7]=0,p[8]=ln,p[9]=je,p[10]=Ht,p[11]=0,p[12]=L,p[13]=ve,p[14]=ge,p[15]=1,p}function It(p){return"mat4("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+", "+p[4]+", "+p[5]+", "+p[6]+", "+p[7]+", "+p[8]+", "+p[9]+", "+p[10]+", "+p[11]+", "+p[12]+", "+p[13]+", "+p[14]+", "+p[15]+")"}function Ne(p){return Math.hypot(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])}function Xe(p,I,Ae){return p[0]=I[0]+Ae[0],p[1]=I[1]+Ae[1],p[2]=I[2]+Ae[2],p[3]=I[3]+Ae[3],p[4]=I[4]+Ae[4],p[5]=I[5]+Ae[5],p[6]=I[6]+Ae[6],p[7]=I[7]+Ae[7],p[8]=I[8]+Ae[8],p[9]=I[9]+Ae[9],p[10]=I[10]+Ae[10],p[11]=I[11]+Ae[11],p[12]=I[12]+Ae[12],p[13]=I[13]+Ae[13],p[14]=I[14]+Ae[14],p[15]=I[15]+Ae[15],p}function Ot(p,I,Ae){return p[0]=I[0]-Ae[0],p[1]=I[1]-Ae[1],p[2]=I[2]-Ae[2],p[3]=I[3]-Ae[3],p[4]=I[4]-Ae[4],p[5]=I[5]-Ae[5],p[6]=I[6]-Ae[6],p[7]=I[7]-Ae[7],p[8]=I[8]-Ae[8],p[9]=I[9]-Ae[9],p[10]=I[10]-Ae[10],p[11]=I[11]-Ae[11],p[12]=I[12]-Ae[12],p[13]=I[13]-Ae[13],p[14]=I[14]-Ae[14],p[15]=I[15]-Ae[15],p}function re(p,I,Ae){return p[0]=I[0]*Ae,p[1]=I[1]*Ae,p[2]=I[2]*Ae,p[3]=I[3]*Ae,p[4]=I[4]*Ae,p[5]=I[5]*Ae,p[6]=I[6]*Ae,p[7]=I[7]*Ae,p[8]=I[8]*Ae,p[9]=I[9]*Ae,p[10]=I[10]*Ae,p[11]=I[11]*Ae,p[12]=I[12]*Ae,p[13]=I[13]*Ae,p[14]=I[14]*Ae,p[15]=I[15]*Ae,p}function D(p,I,Ae,se){return p[0]=I[0]+Ae[0]*se,p[1]=I[1]+Ae[1]*se,p[2]=I[2]+Ae[2]*se,p[3]=I[3]+Ae[3]*se,p[4]=I[4]+Ae[4]*se,p[5]=I[5]+Ae[5]*se,p[6]=I[6]+Ae[6]*se,p[7]=I[7]+Ae[7]*se,p[8]=I[8]+Ae[8]*se,p[9]=I[9]+Ae[9]*se,p[10]=I[10]+Ae[10]*se,p[11]=I[11]+Ae[11]*se,p[12]=I[12]+Ae[12]*se,p[13]=I[13]+Ae[13]*se,p[14]=I[14]+Ae[14]*se,p[15]=I[15]+Ae[15]*se,p}function F(p,I){return p[0]===I[0]&&p[1]===I[1]&&p[2]===I[2]&&p[3]===I[3]&&p[4]===I[4]&&p[5]===I[5]&&p[6]===I[6]&&p[7]===I[7]&&p[8]===I[8]&&p[9]===I[9]&&p[10]===I[10]&&p[11]===I[11]&&p[12]===I[12]&&p[13]===I[13]&&p[14]===I[14]&&p[15]===I[15]}function T(p,I){var Ae=p[0],se=p[1],L=p[2],ve=p[3],ge=p[4],et=p[5],Pt=p[6],Rt=p[7],ln=p[8],je=p[9],Ht=p[10],ut=p[11],jt=p[12],gn=p[13],lt=p[14],bt=p[15],He=I[0],ye=I[1],mt=I[2],rt=I[3],Kt=I[4],Dn=I[5],Jn=I[6],lr=I[7],an=I[8],At=I[9],Et=I[10],xt=I[11],gt=I[12],tn=I[13],Xt=I[14],Ye=I[15];return Math.abs(Ae-He)<=i.p8*Math.max(1,Math.abs(Ae),Math.abs(He))&&Math.abs(se-ye)<=i.p8*Math.max(1,Math.abs(se),Math.abs(ye))&&Math.abs(L-mt)<=i.p8*Math.max(1,Math.abs(L),Math.abs(mt))&&Math.abs(ve-rt)<=i.p8*Math.max(1,Math.abs(ve),Math.abs(rt))&&Math.abs(ge-Kt)<=i.p8*Math.max(1,Math.abs(ge),Math.abs(Kt))&&Math.abs(et-Dn)<=i.p8*Math.max(1,Math.abs(et),Math.abs(Dn))&&Math.abs(Pt-Jn)<=i.p8*Math.max(1,Math.abs(Pt),Math.abs(Jn))&&Math.abs(Rt-lr)<=i.p8*Math.max(1,Math.abs(Rt),Math.abs(lr))&&Math.abs(ln-an)<=i.p8*Math.max(1,Math.abs(ln),Math.abs(an))&&Math.abs(je-At)<=i.p8*Math.max(1,Math.abs(je),Math.abs(At))&&Math.abs(Ht-Et)<=i.p8*Math.max(1,Math.abs(Ht),Math.abs(Et))&&Math.abs(ut-xt)<=i.p8*Math.max(1,Math.abs(ut),Math.abs(xt))&&Math.abs(jt-gt)<=i.p8*Math.max(1,Math.abs(jt),Math.abs(gt))&&Math.abs(gn-tn)<=i.p8*Math.max(1,Math.abs(gn),Math.abs(tn))&&Math.abs(lt-Xt)<=i.p8*Math.max(1,Math.abs(lt),Math.abs(Xt))&&Math.abs(bt-Ye)<=i.p8*Math.max(1,Math.abs(bt),Math.abs(Ye))}var W=y,z=Ot},9556:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{add:()=>Ue,calculateW:()=>M,clone:()=>me,conjugate:()=>ae,copy:()=>ce,create:()=>x,dot:()=>ht,equals:()=>pt,exactEquals:()=>Re,exp:()=>G,fromEuler:()=>$,fromMat3:()=>Y,fromValues:()=>B,getAngle:()=>S,getAxisAngle:()=>k,identity:()=>w,invert:()=>te,len:()=>R,length:()=>de,lerp:()=>Bt,ln:()=>K,mul:()=>qe,multiply:()=>U,normalize:()=>Ce,pow:()=>V,random:()=>J,rotateX:()=>P,rotateY:()=>y,rotateZ:()=>v,rotationTo:()=>zt,scale:()=>_e,set:()=>Oe,setAxes:()=>It,setAxisAngle:()=>d,slerp:()=>Z,sqlerp:()=>Mn,sqrLen:()=>he,squaredLength:()=>j,str:()=>H});var i=E(9818),u=E(7928),f=E(38472),C=E(34525);function x(){var Ne=new i.tb(4);return i.tb!=Float32Array&&(Ne[0]=0,Ne[1]=0,Ne[2]=0),Ne[3]=1,Ne}function w(Ne){return Ne[0]=0,Ne[1]=0,Ne[2]=0,Ne[3]=1,Ne}function d(Ne,Xe,Ot){Ot*=.5;var re=Math.sin(Ot);return Ne[0]=re*Xe[0],Ne[1]=re*Xe[1],Ne[2]=re*Xe[2],Ne[3]=Math.cos(Ot),Ne}function k(Ne,Xe){var Ot=2*Math.acos(Xe[3]),re=Math.sin(Ot/2);return re>i.p8?(Ne[0]=Xe[0]/re,Ne[1]=Xe[1]/re,Ne[2]=Xe[2]/re):(Ne[0]=1,Ne[1]=0,Ne[2]=0),Ot}function S(Ne,Xe){var Ot=ht(Ne,Xe);return Math.acos(2*Ot*Ot-1)}function U(Ne,Xe,Ot){var re=Xe[0],D=Xe[1],F=Xe[2],T=Xe[3],W=Ot[0],z=Ot[1],p=Ot[2],I=Ot[3];return Ne[0]=re*I+T*W+D*p-F*z,Ne[1]=D*I+T*z+F*W-re*p,Ne[2]=F*I+T*p+re*z-D*W,Ne[3]=T*I-re*W-D*z-F*p,Ne}function P(Ne,Xe,Ot){Ot*=.5;var re=Xe[0],D=Xe[1],F=Xe[2],T=Xe[3],W=Math.sin(Ot),z=Math.cos(Ot);return Ne[0]=re*z+T*W,Ne[1]=D*z+F*W,Ne[2]=F*z-D*W,Ne[3]=T*z-re*W,Ne}function y(Ne,Xe,Ot){Ot*=.5;var re=Xe[0],D=Xe[1],F=Xe[2],T=Xe[3],W=Math.sin(Ot),z=Math.cos(Ot);return Ne[0]=re*z-F*W,Ne[1]=D*z+T*W,Ne[2]=F*z+re*W,Ne[3]=T*z-D*W,Ne}function v(Ne,Xe,Ot){Ot*=.5;var re=Xe[0],D=Xe[1],F=Xe[2],T=Xe[3],W=Math.sin(Ot),z=Math.cos(Ot);return Ne[0]=re*z+D*W,Ne[1]=D*z-re*W,Ne[2]=F*z+T*W,Ne[3]=T*z-F*W,Ne}function M(Ne,Xe){var Ot=Xe[0],re=Xe[1],D=Xe[2];return Ne[0]=Ot,Ne[1]=re,Ne[2]=D,Ne[3]=Math.sqrt(Math.abs(1-Ot*Ot-re*re-D*D)),Ne}function G(Ne,Xe){var Ot=Xe[0],re=Xe[1],D=Xe[2],F=Xe[3],T=Math.sqrt(Ot*Ot+re*re+D*D),W=Math.exp(F),z=T>0?W*Math.sin(T)/T:0;return Ne[0]=Ot*z,Ne[1]=re*z,Ne[2]=D*z,Ne[3]=W*Math.cos(T),Ne}function K(Ne,Xe){var Ot=Xe[0],re=Xe[1],D=Xe[2],F=Xe[3],T=Math.sqrt(Ot*Ot+re*re+D*D),W=T>0?Math.atan2(T,F)/T:0;return Ne[0]=Ot*W,Ne[1]=re*W,Ne[2]=D*W,Ne[3]=.5*Math.log(Ot*Ot+re*re+D*D+F*F),Ne}function V(Ne,Xe,Ot){return K(Ne,Xe),_e(Ne,Ne,Ot),G(Ne,Ne),Ne}function Z(Ne,Xe,Ot,re){var se,L,ve,ge,et,D=Xe[0],F=Xe[1],T=Xe[2],W=Xe[3],z=Ot[0],p=Ot[1],I=Ot[2],Ae=Ot[3];return(L=D*z+F*p+T*I+W*Ae)<0&&(L=-L,z=-z,p=-p,I=-I,Ae=-Ae),1-L>i.p8?(se=Math.acos(L),ve=Math.sin(se),ge=Math.sin((1-re)*se)/ve,et=Math.sin(re*se)/ve):(ge=1-re,et=re),Ne[0]=ge*D+et*z,Ne[1]=ge*F+et*p,Ne[2]=ge*T+et*I,Ne[3]=ge*W+et*Ae,Ne}function J(Ne){var Xe=i.Ov(),Ot=i.Ov(),re=i.Ov(),D=Math.sqrt(1-Xe),F=Math.sqrt(Xe);return Ne[0]=D*Math.sin(2*Math.PI*Ot),Ne[1]=D*Math.cos(2*Math.PI*Ot),Ne[2]=F*Math.sin(2*Math.PI*re),Ne[3]=F*Math.cos(2*Math.PI*re),Ne}function te(Ne,Xe){var Ot=Xe[0],re=Xe[1],D=Xe[2],F=Xe[3],T=Ot*Ot+re*re+D*D+F*F,W=T?1/T:0;return Ne[0]=-Ot*W,Ne[1]=-re*W,Ne[2]=-D*W,Ne[3]=F*W,Ne}function ae(Ne,Xe){return Ne[0]=-Xe[0],Ne[1]=-Xe[1],Ne[2]=-Xe[2],Ne[3]=Xe[3],Ne}function Y(Ne,Xe){var re,Ot=Xe[0]+Xe[4]+Xe[8];if(Ot>0)re=Math.sqrt(Ot+1),Ne[3]=.5*re,Ne[0]=(Xe[5]-Xe[7])*(re=.5/re),Ne[1]=(Xe[6]-Xe[2])*re,Ne[2]=(Xe[1]-Xe[3])*re;else{var D=0;Xe[4]>Xe[0]&&(D=1),Xe[8]>Xe[3*D+D]&&(D=2);var F=(D+1)%3,T=(D+2)%3;re=Math.sqrt(Xe[3*D+D]-Xe[3*F+F]-Xe[3*T+T]+1),Ne[D]=.5*re,Ne[3]=(Xe[3*F+T]-Xe[3*T+F])*(re=.5/re),Ne[F]=(Xe[3*F+D]+Xe[3*D+F])*re,Ne[T]=(Xe[3*T+D]+Xe[3*D+T])*re}return Ne}function $(Ne,Xe,Ot,re){var D=.5*Math.PI/180;Xe*=D,Ot*=D,re*=D;var F=Math.sin(Xe),T=Math.cos(Xe),W=Math.sin(Ot),z=Math.cos(Ot),p=Math.sin(re),I=Math.cos(re);return Ne[0]=F*z*I-T*W*p,Ne[1]=T*W*I+F*z*p,Ne[2]=T*z*p-F*W*I,Ne[3]=T*z*I+F*W*p,Ne}function H(Ne){return"quat("+Ne[0]+", "+Ne[1]+", "+Ne[2]+", "+Ne[3]+")"}var Ne,Xe,Ot,me=C.clone,B=C.fromValues,ce=C.copy,Oe=C.set,Ue=C.add,qe=U,_e=C.scale,ht=C.dot,Bt=C.lerp,de=C.length,R=de,j=C.squaredLength,he=j,Ce=C.normalize,Re=C.exactEquals,pt=C.equals,zt=(Ne=f.create(),Xe=f.fromValues(1,0,0),Ot=f.fromValues(0,1,0),function(re,D,F){var T=f.dot(D,F);return T<-.999999?(f.cross(Ne,Xe,D),f.len(Ne)<1e-6&&f.cross(Ne,Ot,D),f.normalize(Ne,Ne),d(re,Ne,Math.PI),re):T>.999999?(re[0]=0,re[1]=0,re[2]=0,re[3]=1,re):(f.cross(Ne,D,F),re[0]=Ne[0],re[1]=Ne[1],re[2]=Ne[2],re[3]=1+T,Ce(re,re))}),Mn=function(){var Ne=x(),Xe=x();return function(Ot,re,D,F,T,W){return Z(Ne,re,T,W),Z(Xe,D,F,W),Z(Ot,Ne,Xe,2*W*(1-W)),Ot}}(),It=function(){var Ne=u.create();return function(Xe,Ot,re,D){return Ne[0]=re[0],Ne[3]=re[1],Ne[6]=re[2],Ne[1]=D[0],Ne[4]=D[1],Ne[7]=D[2],Ne[2]=-Ot[0],Ne[5]=-Ot[1],Ne[8]=-Ot[2],Ce(Xe,Y(Xe,Ne))}}()},30559:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{add:()=>d,angle:()=>de,ceil:()=>P,clone:()=>f,copy:()=>x,create:()=>u,cross:()=>B,dist:()=>It,distance:()=>Z,div:()=>Mn,divide:()=>U,dot:()=>me,equals:()=>Ce,exactEquals:()=>he,floor:()=>y,forEach:()=>Ot,fromValues:()=>C,inverse:()=>$,len:()=>Re,length:()=>te,lerp:()=>ce,max:()=>M,min:()=>v,mul:()=>zt,multiply:()=>S,negate:()=>Y,normalize:()=>H,random:()=>Oe,rotate:()=>Bt,round:()=>G,scale:()=>K,scaleAndAdd:()=>V,set:()=>w,sqrDist:()=>Ne,sqrLen:()=>Xe,squaredDistance:()=>J,squaredLength:()=>ae,str:()=>j,sub:()=>pt,subtract:()=>k,transformMat2:()=>Ue,transformMat2d:()=>qe,transformMat3:()=>_e,transformMat4:()=>ht,zero:()=>R});var i=E(9818);function u(){var re=new i.tb(2);return i.tb!=Float32Array&&(re[0]=0,re[1]=0),re}function f(re){var D=new i.tb(2);return D[0]=re[0],D[1]=re[1],D}function C(re,D){var F=new i.tb(2);return F[0]=re,F[1]=D,F}function x(re,D){return re[0]=D[0],re[1]=D[1],re}function w(re,D,F){return re[0]=D,re[1]=F,re}function d(re,D,F){return re[0]=D[0]+F[0],re[1]=D[1]+F[1],re}function k(re,D,F){return re[0]=D[0]-F[0],re[1]=D[1]-F[1],re}function S(re,D,F){return re[0]=D[0]*F[0],re[1]=D[1]*F[1],re}function U(re,D,F){return re[0]=D[0]/F[0],re[1]=D[1]/F[1],re}function P(re,D){return re[0]=Math.ceil(D[0]),re[1]=Math.ceil(D[1]),re}function y(re,D){return re[0]=Math.floor(D[0]),re[1]=Math.floor(D[1]),re}function v(re,D,F){return re[0]=Math.min(D[0],F[0]),re[1]=Math.min(D[1],F[1]),re}function M(re,D,F){return re[0]=Math.max(D[0],F[0]),re[1]=Math.max(D[1],F[1]),re}function G(re,D){return re[0]=Math.round(D[0]),re[1]=Math.round(D[1]),re}function K(re,D,F){return re[0]=D[0]*F,re[1]=D[1]*F,re}function V(re,D,F,T){return re[0]=D[0]+F[0]*T,re[1]=D[1]+F[1]*T,re}function Z(re,D){return Math.hypot(D[0]-re[0],D[1]-re[1])}function J(re,D){var F=D[0]-re[0],T=D[1]-re[1];return F*F+T*T}function te(re){return Math.hypot(re[0],re[1])}function ae(re){var D=re[0],F=re[1];return D*D+F*F}function Y(re,D){return re[0]=-D[0],re[1]=-D[1],re}function $(re,D){return re[0]=1/D[0],re[1]=1/D[1],re}function H(re,D){var F=D[0],T=D[1],W=F*F+T*T;return W>0&&(W=1/Math.sqrt(W)),re[0]=D[0]*W,re[1]=D[1]*W,re}function me(re,D){return re[0]*D[0]+re[1]*D[1]}function B(re,D,F){var T=D[0]*F[1]-D[1]*F[0];return re[0]=re[1]=0,re[2]=T,re}function ce(re,D,F,T){var W=D[0],z=D[1];return re[0]=W+T*(F[0]-W),re[1]=z+T*(F[1]-z),re}function Oe(re,D){D=D||1;var F=2*i.Ov()*Math.PI;return re[0]=Math.cos(F)*D,re[1]=Math.sin(F)*D,re}function Ue(re,D,F){var T=D[0],W=D[1];return re[0]=F[0]*T+F[2]*W,re[1]=F[1]*T+F[3]*W,re}function qe(re,D,F){var T=D[0],W=D[1];return re[0]=F[0]*T+F[2]*W+F[4],re[1]=F[1]*T+F[3]*W+F[5],re}function _e(re,D,F){var T=D[0],W=D[1];return re[0]=F[0]*T+F[3]*W+F[6],re[1]=F[1]*T+F[4]*W+F[7],re}function ht(re,D,F){var T=D[0],W=D[1];return re[0]=F[0]*T+F[4]*W+F[12],re[1]=F[1]*T+F[5]*W+F[13],re}function Bt(re,D,F,T){var W=D[0]-F[0],z=D[1]-F[1],p=Math.sin(T),I=Math.cos(T);return re[0]=W*I-z*p+F[0],re[1]=W*p+z*I+F[1],re}function de(re,D){var F=re[0],T=re[1],W=D[0],z=D[1],p=Math.sqrt(F*F+T*T)*Math.sqrt(W*W+z*z);return Math.acos(Math.min(Math.max(p&&(F*W+T*z)/p,-1),1))}function R(re){return re[0]=0,re[1]=0,re}function j(re){return"vec2("+re[0]+", "+re[1]+")"}function he(re,D){return re[0]===D[0]&&re[1]===D[1]}function Ce(re,D){var F=re[0],T=re[1],W=D[0],z=D[1];return Math.abs(F-W)<=i.p8*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(T-z)<=i.p8*Math.max(1,Math.abs(T),Math.abs(z))}var re,Re=te,pt=k,zt=S,Mn=U,It=Z,Ne=J,Xe=ae,Ot=(re=u(),function(D,F,T,W,z,p){var I,Ae;for(F||(F=2),T||(T=0),Ae=W?Math.min(W*F+T,D.length):D.length,I=T;I<Ae;I+=F)re[0]=D[I],re[1]=D[I+1],z(re,re,p),D[I]=re[0],D[I+1]=re[1];return D})},38472:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{add:()=>k,angle:()=>he,bezier:()=>Ue,ceil:()=>y,clone:()=>f,copy:()=>w,create:()=>u,cross:()=>B,dist:()=>Xe,distance:()=>J,div:()=>Ne,divide:()=>P,dot:()=>me,equals:()=>zt,exactEquals:()=>pt,floor:()=>v,forEach:()=>F,fromValues:()=>x,hermite:()=>Oe,inverse:()=>$,len:()=>re,length:()=>C,lerp:()=>ce,max:()=>G,min:()=>M,mul:()=>It,multiply:()=>U,negate:()=>Y,normalize:()=>H,random:()=>qe,rotateX:()=>de,rotateY:()=>R,rotateZ:()=>j,round:()=>K,scale:()=>V,scaleAndAdd:()=>Z,set:()=>d,sqrDist:()=>Ot,sqrLen:()=>D,squaredDistance:()=>te,squaredLength:()=>ae,str:()=>Re,sub:()=>Mn,subtract:()=>S,transformMat3:()=>ht,transformMat4:()=>_e,transformQuat:()=>Bt,zero:()=>Ce});var i=E(9818);function u(){var T=new i.tb(3);return i.tb!=Float32Array&&(T[0]=0,T[1]=0,T[2]=0),T}function f(T){var W=new i.tb(3);return W[0]=T[0],W[1]=T[1],W[2]=T[2],W}function C(T){return Math.hypot(T[0],T[1],T[2])}function x(T,W,z){var p=new i.tb(3);return p[0]=T,p[1]=W,p[2]=z,p}function w(T,W){return T[0]=W[0],T[1]=W[1],T[2]=W[2],T}function d(T,W,z,p){return T[0]=W,T[1]=z,T[2]=p,T}function k(T,W,z){return T[0]=W[0]+z[0],T[1]=W[1]+z[1],T[2]=W[2]+z[2],T}function S(T,W,z){return T[0]=W[0]-z[0],T[1]=W[1]-z[1],T[2]=W[2]-z[2],T}function U(T,W,z){return T[0]=W[0]*z[0],T[1]=W[1]*z[1],T[2]=W[2]*z[2],T}function P(T,W,z){return T[0]=W[0]/z[0],T[1]=W[1]/z[1],T[2]=W[2]/z[2],T}function y(T,W){return T[0]=Math.ceil(W[0]),T[1]=Math.ceil(W[1]),T[2]=Math.ceil(W[2]),T}function v(T,W){return T[0]=Math.floor(W[0]),T[1]=Math.floor(W[1]),T[2]=Math.floor(W[2]),T}function M(T,W,z){return T[0]=Math.min(W[0],z[0]),T[1]=Math.min(W[1],z[1]),T[2]=Math.min(W[2],z[2]),T}function G(T,W,z){return T[0]=Math.max(W[0],z[0]),T[1]=Math.max(W[1],z[1]),T[2]=Math.max(W[2],z[2]),T}function K(T,W){return T[0]=Math.round(W[0]),T[1]=Math.round(W[1]),T[2]=Math.round(W[2]),T}function V(T,W,z){return T[0]=W[0]*z,T[1]=W[1]*z,T[2]=W[2]*z,T}function Z(T,W,z,p){return T[0]=W[0]+z[0]*p,T[1]=W[1]+z[1]*p,T[2]=W[2]+z[2]*p,T}function J(T,W){return Math.hypot(W[0]-T[0],W[1]-T[1],W[2]-T[2])}function te(T,W){var z=W[0]-T[0],p=W[1]-T[1],I=W[2]-T[2];return z*z+p*p+I*I}function ae(T){var W=T[0],z=T[1],p=T[2];return W*W+z*z+p*p}function Y(T,W){return T[0]=-W[0],T[1]=-W[1],T[2]=-W[2],T}function $(T,W){return T[0]=1/W[0],T[1]=1/W[1],T[2]=1/W[2],T}function H(T,W){var z=W[0],p=W[1],I=W[2],Ae=z*z+p*p+I*I;return Ae>0&&(Ae=1/Math.sqrt(Ae)),T[0]=W[0]*Ae,T[1]=W[1]*Ae,T[2]=W[2]*Ae,T}function me(T,W){return T[0]*W[0]+T[1]*W[1]+T[2]*W[2]}function B(T,W,z){var p=W[0],I=W[1],Ae=W[2],se=z[0],L=z[1],ve=z[2];return T[0]=I*ve-Ae*L,T[1]=Ae*se-p*ve,T[2]=p*L-I*se,T}function ce(T,W,z,p){var I=W[0],Ae=W[1],se=W[2];return T[0]=I+p*(z[0]-I),T[1]=Ae+p*(z[1]-Ae),T[2]=se+p*(z[2]-se),T}function Oe(T,W,z,p,I,Ae){var se=Ae*Ae,L=se*(2*Ae-3)+1,ve=se*(Ae-2)+Ae,ge=se*(Ae-1),et=se*(3-2*Ae);return T[0]=W[0]*L+z[0]*ve+p[0]*ge+I[0]*et,T[1]=W[1]*L+z[1]*ve+p[1]*ge+I[1]*et,T[2]=W[2]*L+z[2]*ve+p[2]*ge+I[2]*et,T}function Ue(T,W,z,p,I,Ae){var se=1-Ae,L=se*se,ve=Ae*Ae,ge=L*se,et=3*Ae*L,Pt=3*ve*se,Rt=ve*Ae;return T[0]=W[0]*ge+z[0]*et+p[0]*Pt+I[0]*Rt,T[1]=W[1]*ge+z[1]*et+p[1]*Pt+I[1]*Rt,T[2]=W[2]*ge+z[2]*et+p[2]*Pt+I[2]*Rt,T}function qe(T,W){W=W||1;var z=2*i.Ov()*Math.PI,p=2*i.Ov()-1,I=Math.sqrt(1-p*p)*W;return T[0]=Math.cos(z)*I,T[1]=Math.sin(z)*I,T[2]=p*W,T}function _e(T,W,z){var p=W[0],I=W[1],Ae=W[2],se=z[3]*p+z[7]*I+z[11]*Ae+z[15];return T[0]=(z[0]*p+z[4]*I+z[8]*Ae+z[12])/(se=se||1),T[1]=(z[1]*p+z[5]*I+z[9]*Ae+z[13])/se,T[2]=(z[2]*p+z[6]*I+z[10]*Ae+z[14])/se,T}function ht(T,W,z){var p=W[0],I=W[1],Ae=W[2];return T[0]=p*z[0]+I*z[3]+Ae*z[6],T[1]=p*z[1]+I*z[4]+Ae*z[7],T[2]=p*z[2]+I*z[5]+Ae*z[8],T}function Bt(T,W,z){var p=z[0],I=z[1],Ae=z[2],L=W[0],ve=W[1],ge=W[2],et=I*ge-Ae*ve,Pt=Ae*L-p*ge,Rt=p*ve-I*L,ln=I*Rt-Ae*Pt,je=Ae*et-p*Rt,Ht=p*Pt-I*et,ut=2*z[3];return Pt*=ut,Rt*=ut,je*=2,Ht*=2,T[0]=L+(et*=ut)+(ln*=2),T[1]=ve+Pt+je,T[2]=ge+Rt+Ht,T}function de(T,W,z,p){var I=[],Ae=[];return I[0]=W[0]-z[0],I[1]=W[1]-z[1],I[2]=W[2]-z[2],Ae[0]=I[0],Ae[1]=I[1]*Math.cos(p)-I[2]*Math.sin(p),Ae[2]=I[1]*Math.sin(p)+I[2]*Math.cos(p),T[0]=Ae[0]+z[0],T[1]=Ae[1]+z[1],T[2]=Ae[2]+z[2],T}function R(T,W,z,p){var I=[],Ae=[];return I[0]=W[0]-z[0],I[1]=W[1]-z[1],I[2]=W[2]-z[2],Ae[0]=I[2]*Math.sin(p)+I[0]*Math.cos(p),Ae[1]=I[1],Ae[2]=I[2]*Math.cos(p)-I[0]*Math.sin(p),T[0]=Ae[0]+z[0],T[1]=Ae[1]+z[1],T[2]=Ae[2]+z[2],T}function j(T,W,z,p){var I=[],Ae=[];return I[0]=W[0]-z[0],I[1]=W[1]-z[1],I[2]=W[2]-z[2],Ae[0]=I[0]*Math.cos(p)-I[1]*Math.sin(p),Ae[1]=I[0]*Math.sin(p)+I[1]*Math.cos(p),Ae[2]=I[2],T[0]=Ae[0]+z[0],T[1]=Ae[1]+z[1],T[2]=Ae[2]+z[2],T}function he(T,W){var z=T[0],p=T[1],I=T[2],Ae=W[0],se=W[1],L=W[2],et=Math.sqrt(z*z+p*p+I*I)*Math.sqrt(Ae*Ae+se*se+L*L),Pt=et&&me(T,W)/et;return Math.acos(Math.min(Math.max(Pt,-1),1))}function Ce(T){return T[0]=0,T[1]=0,T[2]=0,T}function Re(T){return"vec3("+T[0]+", "+T[1]+", "+T[2]+")"}function pt(T,W){return T[0]===W[0]&&T[1]===W[1]&&T[2]===W[2]}function zt(T,W){var z=T[0],p=T[1],I=T[2],Ae=W[0],se=W[1],L=W[2];return Math.abs(z-Ae)<=i.p8*Math.max(1,Math.abs(z),Math.abs(Ae))&&Math.abs(p-se)<=i.p8*Math.max(1,Math.abs(p),Math.abs(se))&&Math.abs(I-L)<=i.p8*Math.max(1,Math.abs(I),Math.abs(L))}var T,Mn=S,It=U,Ne=P,Xe=J,Ot=te,re=C,D=ae,F=(T=u(),function(W,z,p,I,Ae,se){var L,ve;for(z||(z=3),p||(p=0),ve=I?Math.min(I*z+p,W.length):W.length,L=p;L<ve;L+=z)T[0]=W[L],T[1]=W[L+1],T[2]=W[L+2],Ae(T,T,se),W[L]=T[0],W[L+1]=T[1],W[L+2]=T[2];return W})},34525:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{add:()=>d,ceil:()=>P,clone:()=>f,copy:()=>x,create:()=>u,cross:()=>B,dist:()=>Ce,distance:()=>Z,div:()=>he,divide:()=>U,dot:()=>me,equals:()=>de,exactEquals:()=>Bt,floor:()=>y,forEach:()=>Mn,fromValues:()=>C,inverse:()=>$,len:()=>pt,length:()=>te,lerp:()=>ce,max:()=>M,min:()=>v,mul:()=>j,multiply:()=>S,negate:()=>Y,normalize:()=>H,random:()=>Oe,round:()=>G,scale:()=>K,scaleAndAdd:()=>V,set:()=>w,sqrDist:()=>Re,sqrLen:()=>zt,squaredDistance:()=>J,squaredLength:()=>ae,str:()=>ht,sub:()=>R,subtract:()=>k,transformMat4:()=>Ue,transformQuat:()=>qe,zero:()=>_e});var i=E(9818);function u(){var It=new i.tb(4);return i.tb!=Float32Array&&(It[0]=0,It[1]=0,It[2]=0,It[3]=0),It}function f(It){var Ne=new i.tb(4);return Ne[0]=It[0],Ne[1]=It[1],Ne[2]=It[2],Ne[3]=It[3],Ne}function C(It,Ne,Xe,Ot){var re=new i.tb(4);return re[0]=It,re[1]=Ne,re[2]=Xe,re[3]=Ot,re}function x(It,Ne){return It[0]=Ne[0],It[1]=Ne[1],It[2]=Ne[2],It[3]=Ne[3],It}function w(It,Ne,Xe,Ot,re){return It[0]=Ne,It[1]=Xe,It[2]=Ot,It[3]=re,It}function d(It,Ne,Xe){return It[0]=Ne[0]+Xe[0],It[1]=Ne[1]+Xe[1],It[2]=Ne[2]+Xe[2],It[3]=Ne[3]+Xe[3],It}function k(It,Ne,Xe){return It[0]=Ne[0]-Xe[0],It[1]=Ne[1]-Xe[1],It[2]=Ne[2]-Xe[2],It[3]=Ne[3]-Xe[3],It}function S(It,Ne,Xe){return It[0]=Ne[0]*Xe[0],It[1]=Ne[1]*Xe[1],It[2]=Ne[2]*Xe[2],It[3]=Ne[3]*Xe[3],It}function U(It,Ne,Xe){return It[0]=Ne[0]/Xe[0],It[1]=Ne[1]/Xe[1],It[2]=Ne[2]/Xe[2],It[3]=Ne[3]/Xe[3],It}function P(It,Ne){return It[0]=Math.ceil(Ne[0]),It[1]=Math.ceil(Ne[1]),It[2]=Math.ceil(Ne[2]),It[3]=Math.ceil(Ne[3]),It}function y(It,Ne){return It[0]=Math.floor(Ne[0]),It[1]=Math.floor(Ne[1]),It[2]=Math.floor(Ne[2]),It[3]=Math.floor(Ne[3]),It}function v(It,Ne,Xe){return It[0]=Math.min(Ne[0],Xe[0]),It[1]=Math.min(Ne[1],Xe[1]),It[2]=Math.min(Ne[2],Xe[2]),It[3]=Math.min(Ne[3],Xe[3]),It}function M(It,Ne,Xe){return It[0]=Math.max(Ne[0],Xe[0]),It[1]=Math.max(Ne[1],Xe[1]),It[2]=Math.max(Ne[2],Xe[2]),It[3]=Math.max(Ne[3],Xe[3]),It}function G(It,Ne){return It[0]=Math.round(Ne[0]),It[1]=Math.round(Ne[1]),It[2]=Math.round(Ne[2]),It[3]=Math.round(Ne[3]),It}function K(It,Ne,Xe){return It[0]=Ne[0]*Xe,It[1]=Ne[1]*Xe,It[2]=Ne[2]*Xe,It[3]=Ne[3]*Xe,It}function V(It,Ne,Xe,Ot){return It[0]=Ne[0]+Xe[0]*Ot,It[1]=Ne[1]+Xe[1]*Ot,It[2]=Ne[2]+Xe[2]*Ot,It[3]=Ne[3]+Xe[3]*Ot,It}function Z(It,Ne){return Math.hypot(Ne[0]-It[0],Ne[1]-It[1],Ne[2]-It[2],Ne[3]-It[3])}function J(It,Ne){var Xe=Ne[0]-It[0],Ot=Ne[1]-It[1],re=Ne[2]-It[2],D=Ne[3]-It[3];return Xe*Xe+Ot*Ot+re*re+D*D}function te(It){return Math.hypot(It[0],It[1],It[2],It[3])}function ae(It){var Ne=It[0],Xe=It[1],Ot=It[2],re=It[3];return Ne*Ne+Xe*Xe+Ot*Ot+re*re}function Y(It,Ne){return It[0]=-Ne[0],It[1]=-Ne[1],It[2]=-Ne[2],It[3]=-Ne[3],It}function $(It,Ne){return It[0]=1/Ne[0],It[1]=1/Ne[1],It[2]=1/Ne[2],It[3]=1/Ne[3],It}function H(It,Ne){var Xe=Ne[0],Ot=Ne[1],re=Ne[2],D=Ne[3],F=Xe*Xe+Ot*Ot+re*re+D*D;return F>0&&(F=1/Math.sqrt(F)),It[0]=Xe*F,It[1]=Ot*F,It[2]=re*F,It[3]=D*F,It}function me(It,Ne){return It[0]*Ne[0]+It[1]*Ne[1]+It[2]*Ne[2]+It[3]*Ne[3]}function B(It,Ne,Xe,Ot){var re=Xe[0]*Ot[1]-Xe[1]*Ot[0],D=Xe[0]*Ot[2]-Xe[2]*Ot[0],F=Xe[0]*Ot[3]-Xe[3]*Ot[0],T=Xe[1]*Ot[2]-Xe[2]*Ot[1],W=Xe[1]*Ot[3]-Xe[3]*Ot[1],z=Xe[2]*Ot[3]-Xe[3]*Ot[2],p=Ne[0],I=Ne[1],Ae=Ne[2],se=Ne[3];return It[0]=I*z-Ae*W+se*T,It[1]=-p*z+Ae*F-se*D,It[2]=p*W-I*F+se*re,It[3]=-p*T+I*D-Ae*re,It}function ce(It,Ne,Xe,Ot){var re=Ne[0],D=Ne[1],F=Ne[2],T=Ne[3];return It[0]=re+Ot*(Xe[0]-re),It[1]=D+Ot*(Xe[1]-D),It[2]=F+Ot*(Xe[2]-F),It[3]=T+Ot*(Xe[3]-T),It}function Oe(It,Ne){var Xe,Ot,re,D,F,T;Ne=Ne||1;do{F=(Xe=2*i.Ov()-1)*Xe+(Ot=2*i.Ov()-1)*Ot}while(F>=1);do{T=(re=2*i.Ov()-1)*re+(D=2*i.Ov()-1)*D}while(T>=1);var W=Math.sqrt((1-F)/T);return It[0]=Ne*Xe,It[1]=Ne*Ot,It[2]=Ne*re*W,It[3]=Ne*D*W,It}function Ue(It,Ne,Xe){var Ot=Ne[0],re=Ne[1],D=Ne[2],F=Ne[3];return It[0]=Xe[0]*Ot+Xe[4]*re+Xe[8]*D+Xe[12]*F,It[1]=Xe[1]*Ot+Xe[5]*re+Xe[9]*D+Xe[13]*F,It[2]=Xe[2]*Ot+Xe[6]*re+Xe[10]*D+Xe[14]*F,It[3]=Xe[3]*Ot+Xe[7]*re+Xe[11]*D+Xe[15]*F,It}function qe(It,Ne,Xe){var Ot=Ne[0],re=Ne[1],D=Ne[2],F=Xe[0],T=Xe[1],W=Xe[2],z=Xe[3],p=z*Ot+T*D-W*re,I=z*re+W*Ot-F*D,Ae=z*D+F*re-T*Ot,se=-F*Ot-T*re-W*D;return It[0]=p*z+se*-F+I*-W-Ae*-T,It[1]=I*z+se*-T+Ae*-F-p*-W,It[2]=Ae*z+se*-W+p*-T-I*-F,It[3]=Ne[3],It}function _e(It){return It[0]=0,It[1]=0,It[2]=0,It[3]=0,It}function ht(It){return"vec4("+It[0]+", "+It[1]+", "+It[2]+", "+It[3]+")"}function Bt(It,Ne){return It[0]===Ne[0]&&It[1]===Ne[1]&&It[2]===Ne[2]&&It[3]===Ne[3]}function de(It,Ne){var Xe=It[0],Ot=It[1],re=It[2],D=It[3],F=Ne[0],T=Ne[1],W=Ne[2],z=Ne[3];return Math.abs(Xe-F)<=i.p8*Math.max(1,Math.abs(Xe),Math.abs(F))&&Math.abs(Ot-T)<=i.p8*Math.max(1,Math.abs(Ot),Math.abs(T))&&Math.abs(re-W)<=i.p8*Math.max(1,Math.abs(re),Math.abs(W))&&Math.abs(D-z)<=i.p8*Math.max(1,Math.abs(D),Math.abs(z))}var It,R=k,j=S,he=U,Ce=Z,Re=J,pt=te,zt=ae,Mn=(It=u(),function(Ne,Xe,Ot,re,D,F){var T,W;for(Xe||(Xe=4),Ot||(Ot=0),W=re?Math.min(re*Xe+Ot,Ne.length):Ne.length,T=Ot;T<W;T+=Xe)It[0]=Ne[T],It[1]=Ne[T+1],It[2]=Ne[T+2],It[3]=Ne[T+3],D(It,It,F),Ne[T]=It[0],Ne[T+1]=It[1],Ne[T+2]=It[2],Ne[T+3]=It[3];return Ne})},99234:(en,Ve,E)=>{"use strict";var u=E(89222)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}en.exports=u},28931:(en,Ve,E)=>{var i;!function(u,f,C,x){"use strict";var K,w=["","webkit","Moz","MS","ms","o"],d=f.createElement("div"),k="function",S=Math.round,U=Math.abs,P=Date.now;function y(ze,Dt,sn){return setTimeout(te(ze,sn),Dt)}function v(ze,Dt,sn){return!!Array.isArray(ze)&&(M(ze,sn[Dt],sn),!0)}function M(ze,Dt,sn){var Wn;if(ze)if(ze.forEach)ze.forEach(Dt,sn);else if(ze.length!==x)for(Wn=0;Wn<ze.length;)Dt.call(sn,ze[Wn],Wn,ze),Wn++;else for(Wn in ze)ze.hasOwnProperty(Wn)&&Dt.call(sn,ze[Wn],Wn,ze)}function G(ze,Dt,sn){var Wn="DEPRECATED METHOD: "+Dt+"\n"+sn+" AT \n";return function(){var Ir=new Error("get-stack-trace"),Zr=Ir&&Ir.stack?Ir.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",io=u.console&&(u.console.warn||u.console.log);return io&&io.call(u.console,Wn,Zr),ze.apply(this,arguments)}}K="function"!=typeof Object.assign?function(Dt){if(Dt===x||null===Dt)throw new TypeError("Cannot convert undefined or null to object");for(var sn=Object(Dt),Wn=1;Wn<arguments.length;Wn++){var Ir=arguments[Wn];if(Ir!==x&&null!==Ir)for(var Zr in Ir)Ir.hasOwnProperty(Zr)&&(sn[Zr]=Ir[Zr])}return sn}:Object.assign;var V=G(function(Dt,sn,Wn){for(var Ir=Object.keys(sn),Zr=0;Zr<Ir.length;)(!Wn||Wn&&Dt[Ir[Zr]]===x)&&(Dt[Ir[Zr]]=sn[Ir[Zr]]),Zr++;return Dt},"extend","Use `assign`."),Z=G(function(Dt,sn){return V(Dt,sn,!0)},"merge","Use `assign`.");function J(ze,Dt,sn){var Ir,Wn=Dt.prototype;(Ir=ze.prototype=Object.create(Wn)).constructor=ze,Ir._super=Wn,sn&&K(Ir,sn)}function te(ze,Dt){return function(){return ze.apply(Dt,arguments)}}function ae(ze,Dt){return typeof ze==k?ze.apply(Dt&&Dt[0]||x,Dt):ze}function Y(ze,Dt){return ze===x?Dt:ze}function $(ze,Dt,sn){M(ce(Dt),function(Wn){ze.addEventListener(Wn,sn,!1)})}function H(ze,Dt,sn){M(ce(Dt),function(Wn){ze.removeEventListener(Wn,sn,!1)})}function me(ze,Dt){for(;ze;){if(ze==Dt)return!0;ze=ze.parentNode}return!1}function B(ze,Dt){return ze.indexOf(Dt)>-1}function ce(ze){return ze.trim().split(/\s+/g)}function Oe(ze,Dt,sn){if(ze.indexOf&&!sn)return ze.indexOf(Dt);for(var Wn=0;Wn<ze.length;){if(sn&&ze[Wn][sn]==Dt||!sn&&ze[Wn]===Dt)return Wn;Wn++}return-1}function Ue(ze){return Array.prototype.slice.call(ze,0)}function qe(ze,Dt,sn){for(var Wn=[],Ir=[],Zr=0;Zr<ze.length;){var io=Dt?ze[Zr][Dt]:ze[Zr];Oe(Ir,io)<0&&Wn.push(ze[Zr]),Ir[Zr]=io,Zr++}return sn&&(Wn=Dt?Wn.sort(function(_o,Co){return _o[Dt]>Co[Dt]}):Wn.sort()),Wn}function _e(ze,Dt){for(var sn,Wn,Ir=Dt[0].toUpperCase()+Dt.slice(1),Zr=0;Zr<w.length;){if((Wn=(sn=w[Zr])?sn+Ir:Dt)in ze)return Wn;Zr++}return x}var ht=1;function de(ze){var Dt=ze.ownerDocument||ze;return Dt.defaultView||Dt.parentWindow||u}var j="ontouchstart"in u,he=_e(u,"PointerEvent")!==x,Ce=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Re="touch",zt="mouse",It=25,Ne=1,Ot=4,re=8,D=1,F=2,T=4,W=8,z=16,p=F|T,I=W|z,Ae=p|I,se=["x","y"],L=["clientX","clientY"];function ve(ze,Dt){var sn=this;this.manager=ze,this.callback=Dt,this.element=ze.element,this.target=ze.options.inputTarget,this.domHandler=function(Wn){ae(ze.options.enable,[ze])&&sn.handler(Wn)},this.init()}function et(ze,Dt,sn){var Wn=sn.pointers.length,Ir=sn.changedPointers.length,Zr=Dt&Ne&&Wn-Ir==0,io=Dt&(Ot|re)&&Wn-Ir==0;sn.isFirst=!!Zr,sn.isFinal=!!io,Zr&&(ze.session={}),sn.eventType=Dt,function Pt(ze,Dt){var sn=ze.session,Wn=Dt.pointers,Ir=Wn.length;sn.firstInput||(sn.firstInput=je(Dt)),Ir>1&&!sn.firstMultiple?sn.firstMultiple=je(Dt):1===Ir&&(sn.firstMultiple=!1);var Zr=sn.firstInput,io=sn.firstMultiple,Hi=io?io.center:Zr.center,_o=Dt.center=Ht(Wn);Dt.timeStamp=P(),Dt.deltaTime=Dt.timeStamp-Zr.timeStamp,Dt.angle=lt(Hi,_o),Dt.distance=gn(Hi,_o),function Rt(ze,Dt){var sn=Dt.center,Wn=ze.offsetDelta||{},Ir=ze.prevDelta||{},Zr=ze.prevInput||{};(Dt.eventType===Ne||Zr.eventType===Ot)&&(Ir=ze.prevDelta={x:Zr.deltaX||0,y:Zr.deltaY||0},Wn=ze.offsetDelta={x:sn.x,y:sn.y}),Dt.deltaX=Ir.x+(sn.x-Wn.x),Dt.deltaY=Ir.y+(sn.y-Wn.y)}(sn,Dt),Dt.offsetDirection=jt(Dt.deltaX,Dt.deltaY);var Co=ut(Dt.deltaTime,Dt.deltaX,Dt.deltaY);Dt.overallVelocityX=Co.x,Dt.overallVelocityY=Co.y,Dt.overallVelocity=U(Co.x)>U(Co.y)?Co.x:Co.y,Dt.scale=io?function He(ze,Dt){return gn(Dt[0],Dt[1],L)/gn(ze[0],ze[1],L)}(io.pointers,Wn):1,Dt.rotation=io?function bt(ze,Dt){return lt(Dt[1],Dt[0],L)+lt(ze[1],ze[0],L)}(io.pointers,Wn):0,Dt.maxPointers=sn.prevInput?Dt.pointers.length>sn.prevInput.maxPointers?Dt.pointers.length:sn.prevInput.maxPointers:Dt.pointers.length,function ln(ze,Dt){var Ir,Zr,io,Hi,sn=ze.lastInterval||Dt,Wn=Dt.timeStamp-sn.timeStamp;if(Dt.eventType!=re&&(Wn>It||sn.velocity===x)){var _o=Dt.deltaX-sn.deltaX,Co=Dt.deltaY-sn.deltaY,Ro=ut(Wn,_o,Co);Zr=Ro.x,io=Ro.y,Ir=U(Ro.x)>U(Ro.y)?Ro.x:Ro.y,Hi=jt(_o,Co),ze.lastInterval=Dt}else Ir=sn.velocity,Zr=sn.velocityX,io=sn.velocityY,Hi=sn.direction;Dt.velocity=Ir,Dt.velocityX=Zr,Dt.velocityY=io,Dt.direction=Hi}(sn,Dt);var Ro=ze.element;me(Dt.srcEvent.target,Ro)&&(Ro=Dt.srcEvent.target),Dt.target=Ro}(ze,sn),ze.emit("hammer.input",sn),ze.recognize(sn),ze.session.prevInput=sn}function je(ze){for(var Dt=[],sn=0;sn<ze.pointers.length;)Dt[sn]={clientX:S(ze.pointers[sn].clientX),clientY:S(ze.pointers[sn].clientY)},sn++;return{timeStamp:P(),pointers:Dt,center:Ht(Dt),deltaX:ze.deltaX,deltaY:ze.deltaY}}function Ht(ze){var Dt=ze.length;if(1===Dt)return{x:S(ze[0].clientX),y:S(ze[0].clientY)};for(var sn=0,Wn=0,Ir=0;Ir<Dt;)sn+=ze[Ir].clientX,Wn+=ze[Ir].clientY,Ir++;return{x:S(sn/Dt),y:S(Wn/Dt)}}function ut(ze,Dt,sn){return{x:Dt/ze||0,y:sn/ze||0}}function jt(ze,Dt){return ze===Dt?D:U(ze)>=U(Dt)?ze<0?F:T:Dt<0?W:z}function gn(ze,Dt,sn){sn||(sn=se);var Wn=Dt[sn[0]]-ze[sn[0]],Ir=Dt[sn[1]]-ze[sn[1]];return Math.sqrt(Wn*Wn+Ir*Ir)}function lt(ze,Dt,sn){return sn||(sn=se),180*Math.atan2(Dt[sn[1]]-ze[sn[1]],Dt[sn[0]]-ze[sn[0]])/Math.PI}ve.prototype={handler:function(){},init:function(){this.evEl&&$(this.element,this.evEl,this.domHandler),this.evTarget&&$(this.target,this.evTarget,this.domHandler),this.evWin&&$(de(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&H(this.element,this.evEl,this.domHandler),this.evTarget&&H(this.target,this.evTarget,this.domHandler),this.evWin&&H(de(this.element),this.evWin,this.domHandler)}};var ye={mousedown:Ne,mousemove:2,mouseup:Ot},mt="mousedown",rt="mousemove mouseup";function Kt(){this.evEl=mt,this.evWin=rt,this.pressed=!1,ve.apply(this,arguments)}J(Kt,ve,{handler:function(Dt){var sn=ye[Dt.type];sn&Ne&&0===Dt.button&&(this.pressed=!0),2&sn&&1!==Dt.which&&(sn=Ot),this.pressed&&(sn&Ot&&(this.pressed=!1),this.callback(this.manager,sn,{pointers:[Dt],changedPointers:[Dt],pointerType:zt,srcEvent:Dt}))}});var Dn={pointerdown:Ne,pointermove:2,pointerup:Ot,pointercancel:re,pointerout:re},Jn={2:Re,3:"pen",4:zt,5:"kinect"},lr="pointerdown",an="pointermove pointerup pointercancel";function At(){this.evEl=lr,this.evWin=an,ve.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}u.MSPointerEvent&&!u.PointerEvent&&(lr="MSPointerDown",an="MSPointerMove MSPointerUp MSPointerCancel"),J(At,ve,{handler:function(Dt){var sn=this.store,Wn=!1,Ir=Dt.type.toLowerCase().replace("ms",""),Zr=Dn[Ir],io=Jn[Dt.pointerType]||Dt.pointerType,Hi=io==Re,_o=Oe(sn,Dt.pointerId,"pointerId");Zr&Ne&&(0===Dt.button||Hi)?_o<0&&(sn.push(Dt),_o=sn.length-1):Zr&(Ot|re)&&(Wn=!0),!(_o<0)&&(sn[_o]=Dt,this.callback(this.manager,Zr,{pointers:sn,changedPointers:[Dt],pointerType:io,srcEvent:Dt}),Wn&&sn.splice(_o,1))}});var Et={touchstart:Ne,touchmove:2,touchend:Ot,touchcancel:re};function tn(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,ve.apply(this,arguments)}function Xt(ze,Dt){var sn=Ue(ze.touches),Wn=Ue(ze.changedTouches);return Dt&(Ot|re)&&(sn=qe(sn.concat(Wn),"identifier",!0)),[sn,Wn]}J(tn,ve,{handler:function(Dt){var sn=Et[Dt.type];if(sn===Ne&&(this.started=!0),this.started){var Wn=Xt.call(this,Dt,sn);sn&(Ot|re)&&Wn[0].length-Wn[1].length==0&&(this.started=!1),this.callback(this.manager,sn,{pointers:Wn[0],changedPointers:Wn[1],pointerType:Re,srcEvent:Dt})}}});var Ye={touchstart:Ne,touchmove:2,touchend:Ot,touchcancel:re},Vt="touchstart touchmove touchend touchcancel";function En(){this.evTarget=Vt,this.targetIds={},ve.apply(this,arguments)}function it(ze,Dt){var sn=Ue(ze.touches),Wn=this.targetIds;if(Dt&(2|Ne)&&1===sn.length)return Wn[sn[0].identifier]=!0,[sn,sn];var Ir,Zr,io=Ue(ze.changedTouches),Hi=[],_o=this.target;if(Zr=sn.filter(function(Co){return me(Co.target,_o)}),Dt===Ne)for(Ir=0;Ir<Zr.length;)Wn[Zr[Ir].identifier]=!0,Ir++;for(Ir=0;Ir<io.length;)Wn[io[Ir].identifier]&&Hi.push(io[Ir]),Dt&(Ot|re)&&delete Wn[io[Ir].identifier],Ir++;return Hi.length?[qe(Zr.concat(Hi),"identifier",!0),Hi]:void 0}J(En,ve,{handler:function(Dt){var sn=Ye[Dt.type],Wn=it.call(this,Dt,sn);Wn&&this.callback(this.manager,sn,{pointers:Wn[0],changedPointers:Wn[1],pointerType:Re,srcEvent:Dt})}});var ke=2500;function We(){ve.apply(this,arguments);var ze=te(this.handler,this);this.touch=new En(this.manager,ze),this.mouse=new Kt(this.manager,ze),this.primaryTouch=null,this.lastTouches=[]}function Tt(ze,Dt){ze&Ne?(this.primaryTouch=Dt.changedPointers[0].identifier,wn.call(this,Dt)):ze&(Ot|re)&&wn.call(this,Dt)}function wn(ze){var Dt=ze.changedPointers[0];if(Dt.identifier===this.primaryTouch){var sn={x:Dt.clientX,y:Dt.clientY};this.lastTouches.push(sn);var Wn=this.lastTouches;setTimeout(function(){var Zr=Wn.indexOf(sn);Zr>-1&&Wn.splice(Zr,1)},ke)}}function In(ze){for(var Dt=ze.srcEvent.clientX,sn=ze.srcEvent.clientY,Wn=0;Wn<this.lastTouches.length;Wn++){var Ir=this.lastTouches[Wn],Zr=Math.abs(Dt-Ir.x),io=Math.abs(sn-Ir.y);if(Zr<=25&&io<=25)return!0}return!1}J(We,ve,{handler:function(Dt,sn,Wn){var Zr=Wn.pointerType==zt;if(!(Zr&&Wn.sourceCapabilities&&Wn.sourceCapabilities.firesTouchEvents)){if(Wn.pointerType==Re)Tt.call(this,sn,Wn);else if(Zr&&In.call(this,Wn))return;this.callback(Dt,sn,Wn)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dr=_e(d.style,"touchAction"),sr=dr!==x,Gr="compute",Ei="manipulation",fi="none",co="pan-x",uo="pan-y",Pi=function Li(){if(!sr)return!1;var ze={},Dt=u.CSS&&u.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(sn){ze[sn]=!Dt||u.CSS.supports("touch-action",sn)}),ze}();function ti(ze,Dt){this.manager=ze,this.set(Dt)}ti.prototype={set:function(ze){ze==Gr&&(ze=this.compute()),sr&&this.manager.element.style&&Pi[ze]&&(this.manager.element.style[dr]=ze),this.actions=ze.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var ze=[];return M(this.manager.recognizers,function(Dt){ae(Dt.options.enable,[Dt])&&(ze=ze.concat(Dt.getTouchAction()))}),function mr(ze){if(B(ze,fi))return fi;var Dt=B(ze,co),sn=B(ze,uo);return Dt&&sn?fi:Dt||sn?Dt?co:uo:B(ze,Ei)?Ei:"auto"}(ze.join(" "))},preventDefaults:function(ze){var Dt=ze.srcEvent,sn=ze.offsetDirection;if(!this.manager.session.prevented){var Wn=this.actions,Ir=B(Wn,fi)&&!Pi[fi],Zr=B(Wn,uo)&&!Pi[uo],io=B(Wn,co)&&!Pi[co];if(Ir&&1===ze.pointers.length&&ze.distance<2&&ze.deltaTime<250)return;return io&&Zr||!(Ir||Zr&&sn&p||io&&sn&I)?void 0:this.preventSrc(Dt)}Dt.preventDefault()},preventSrc:function(ze){this.manager.session.prevented=!0,ze.preventDefault()}};var ro=1;function er(ze){this.options=K({},this.defaults,ze||{}),this.id=function Bt(){return ht++}(),this.manager=null,this.options.enable=Y(this.options.enable,!0),this.state=ro,this.simultaneous={},this.requireFail=[]}function Be(ze){return 16&ze?"cancel":8&ze?"end":4&ze?"move":2&ze?"start":""}function tt(ze){return ze==z?"down":ze==W?"up":ze==F?"left":ze==T?"right":""}function un(ze,Dt){var sn=Dt.manager;return sn?sn.get(ze):ze}function fr(){er.apply(this,arguments)}function Ar(){fr.apply(this,arguments),this.pX=null,this.pY=null}function zr(){fr.apply(this,arguments)}function si(){er.apply(this,arguments),this._timer=null,this._input=null}function Ti(){fr.apply(this,arguments)}function ni(){fr.apply(this,arguments)}function ai(){er.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Oi(ze,Dt){return(Dt=Dt||{}).recognizers=Y(Dt.recognizers,Oi.defaults.preset),new eo(ze,Dt)}function eo(ze,Dt){this.options=K({},Oi.defaults,Dt||{}),this.options.inputTarget=this.options.inputTarget||ze,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=ze,this.input=function ge(ze){return new(ze.options.inputClass||(he?At:Ce?En:j?We:Kt))(ze,et)}(this),this.touchAction=new ti(this,this.options.touchAction),Vo(this,!0),M(this.options.recognizers,function(sn){var Wn=this.add(new sn[0](sn[1]));sn[2]&&Wn.recognizeWith(sn[2]),sn[3]&&Wn.requireFailure(sn[3])},this)}function Vo(ze,Dt){var Wn,sn=ze.element;sn.style&&(M(ze.options.cssProps,function(Ir,Zr){Wn=_e(sn.style,Zr),Dt?(ze.oldCssProps[Wn]=sn.style[Wn],sn.style[Wn]=Ir):sn.style[Wn]=ze.oldCssProps[Wn]||""}),Dt||(ze.oldCssProps={}))}er.prototype={defaults:{},set:function(ze){return K(this.options,ze),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(ze){if(v(ze,"recognizeWith",this))return this;var Dt=this.simultaneous;return Dt[(ze=un(ze,this)).id]||(Dt[ze.id]=ze,ze.recognizeWith(this)),this},dropRecognizeWith:function(ze){return v(ze,"dropRecognizeWith",this)||(ze=un(ze,this),delete this.simultaneous[ze.id]),this},requireFailure:function(ze){if(v(ze,"requireFailure",this))return this;var Dt=this.requireFail;return-1===Oe(Dt,ze=un(ze,this))&&(Dt.push(ze),ze.requireFailure(this)),this},dropRequireFailure:function(ze){if(v(ze,"dropRequireFailure",this))return this;ze=un(ze,this);var Dt=Oe(this.requireFail,ze);return Dt>-1&&this.requireFail.splice(Dt,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(ze){return!!this.simultaneous[ze.id]},emit:function(ze){var Dt=this,sn=this.state;function Wn(Ir){Dt.manager.emit(Ir,ze)}sn<8&&Wn(Dt.options.event+Be(sn)),Wn(Dt.options.event),ze.additionalEvent&&Wn(ze.additionalEvent),sn>=8&&Wn(Dt.options.event+Be(sn))},tryEmit:function(ze){if(this.canEmit())return this.emit(ze);this.state=32},canEmit:function(){for(var ze=0;ze<this.requireFail.length;){if(!(this.requireFail[ze].state&(32|ro)))return!1;ze++}return!0},recognize:function(ze){var Dt=K({},ze);if(!ae(this.options.enable,[this,Dt]))return this.reset(),void(this.state=32);56&this.state&&(this.state=ro),this.state=this.process(Dt),30&this.state&&this.tryEmit(Dt)},process:function(ze){},getTouchAction:function(){},reset:function(){}},J(fr,er,{defaults:{pointers:1},attrTest:function(ze){var Dt=this.options.pointers;return 0===Dt||ze.pointers.length===Dt},process:function(ze){var Dt=this.state,sn=ze.eventType,Wn=6&Dt,Ir=this.attrTest(ze);return Wn&&(sn&re||!Ir)?16|Dt:Wn||Ir?sn&Ot?8|Dt:2&Dt?4|Dt:2:32}}),J(Ar,fr,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ae},getTouchAction:function(){var ze=this.options.direction,Dt=[];return ze&p&&Dt.push(uo),ze&I&&Dt.push(co),Dt},directionTest:function(ze){var Dt=this.options,sn=!0,Wn=ze.distance,Ir=ze.direction,Zr=ze.deltaX,io=ze.deltaY;return Ir&Dt.direction||(Dt.direction&p?(Ir=0===Zr?D:Zr<0?F:T,sn=Zr!=this.pX,Wn=Math.abs(ze.deltaX)):(Ir=0===io?D:io<0?W:z,sn=io!=this.pY,Wn=Math.abs(ze.deltaY))),ze.direction=Ir,sn&&Wn>Dt.threshold&&Ir&Dt.direction},attrTest:function(ze){return fr.prototype.attrTest.call(this,ze)&&(2&this.state||!(2&this.state)&&this.directionTest(ze))},emit:function(ze){this.pX=ze.deltaX,this.pY=ze.deltaY;var Dt=tt(ze.direction);Dt&&(ze.additionalEvent=this.options.event+Dt),this._super.emit.call(this,ze)}}),J(zr,fr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[fi]},attrTest:function(ze){return this._super.attrTest.call(this,ze)&&(Math.abs(ze.scale-1)>this.options.threshold||2&this.state)},emit:function(ze){1!==ze.scale&&(ze.additionalEvent=this.options.event+(ze.scale<1?"in":"out")),this._super.emit.call(this,ze)}}),J(si,er,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(ze){var Dt=this.options,sn=ze.pointers.length===Dt.pointers,Wn=ze.distance<Dt.threshold,Ir=ze.deltaTime>Dt.time;if(this._input=ze,!Wn||!sn||ze.eventType&(Ot|re)&&!Ir)this.reset();else if(ze.eventType&Ne)this.reset(),this._timer=y(function(){this.state=8,this.tryEmit()},Dt.time,this);else if(ze.eventType&Ot)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(ze){8===this.state&&(ze&&ze.eventType&Ot?this.manager.emit(this.options.event+"up",ze):(this._input.timeStamp=P(),this.manager.emit(this.options.event,this._input)))}}),J(Ti,fr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[fi]},attrTest:function(ze){return this._super.attrTest.call(this,ze)&&(Math.abs(ze.rotation)>this.options.threshold||2&this.state)}}),J(ni,fr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:p|I,pointers:1},getTouchAction:function(){return Ar.prototype.getTouchAction.call(this)},attrTest:function(ze){var sn,Dt=this.options.direction;return Dt&(p|I)?sn=ze.overallVelocity:Dt&p?sn=ze.overallVelocityX:Dt&I&&(sn=ze.overallVelocityY),this._super.attrTest.call(this,ze)&&Dt&ze.offsetDirection&&ze.distance>this.options.threshold&&ze.maxPointers==this.options.pointers&&U(sn)>this.options.velocity&&ze.eventType&Ot},emit:function(ze){var Dt=tt(ze.offsetDirection);Dt&&this.manager.emit(this.options.event+Dt,ze),this.manager.emit(this.options.event,ze)}}),J(ai,er,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ei]},process:function(ze){var Dt=this.options,sn=ze.pointers.length===Dt.pointers,Wn=ze.distance<Dt.threshold,Ir=ze.deltaTime<Dt.time;if(this.reset(),ze.eventType&Ne&&0===this.count)return this.failTimeout();if(Wn&&Ir&&sn){if(ze.eventType!=Ot)return this.failTimeout();var Zr=!this.pTime||ze.timeStamp-this.pTime<Dt.interval,io=!this.pCenter||gn(this.pCenter,ze.center)<Dt.posThreshold;if(this.pTime=ze.timeStamp,this.pCenter=ze.center,io&&Zr?this.count+=1:this.count=1,this._input=ze,0==this.count%Dt.taps)return this.hasRequireFailures()?(this._timer=y(function(){this.state=8,this.tryEmit()},Dt.interval,this),2):8}return 32},failTimeout:function(){return this._timer=y(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Oi.VERSION="2.0.7",Oi.defaults={domEvents:!1,touchAction:Gr,enable:!0,inputTarget:null,inputClass:null,preset:[[Ti,{enable:!1}],[zr,{enable:!1},["rotate"]],[ni,{direction:p}],[Ar,{direction:p},["swipe"]],[ai],[ai,{event:"doubletap",taps:2},["tap"]],[si]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},eo.prototype={set:function(ze){return K(this.options,ze),ze.touchAction&&this.touchAction.update(),ze.inputTarget&&(this.input.destroy(),this.input.target=ze.inputTarget,this.input.init()),this},stop:function(ze){this.session.stopped=ze?2:1},recognize:function(ze){var Dt=this.session;if(!Dt.stopped){this.touchAction.preventDefaults(ze);var sn,Wn=this.recognizers,Ir=Dt.curRecognizer;(!Ir||Ir&&8&Ir.state)&&(Ir=Dt.curRecognizer=null);for(var Zr=0;Zr<Wn.length;)sn=Wn[Zr],2===Dt.stopped||Ir&&sn!=Ir&&!sn.canRecognizeWith(Ir)?sn.reset():sn.recognize(ze),!Ir&&14&sn.state&&(Ir=Dt.curRecognizer=sn),Zr++}},get:function(ze){if(ze instanceof er)return ze;for(var Dt=this.recognizers,sn=0;sn<Dt.length;sn++)if(Dt[sn].options.event==ze)return Dt[sn];return null},add:function(ze){if(v(ze,"add",this))return this;var Dt=this.get(ze.options.event);return Dt&&this.remove(Dt),this.recognizers.push(ze),ze.manager=this,this.touchAction.update(),ze},remove:function(ze){if(v(ze,"remove",this))return this;if(ze=this.get(ze)){var Dt=this.recognizers,sn=Oe(Dt,ze);-1!==sn&&(Dt.splice(sn,1),this.touchAction.update())}return this},on:function(ze,Dt){if(ze!==x&&Dt!==x){var sn=this.handlers;return M(ce(ze),function(Wn){sn[Wn]=sn[Wn]||[],sn[Wn].push(Dt)}),this}},off:function(ze,Dt){if(ze!==x){var sn=this.handlers;return M(ce(ze),function(Wn){Dt?sn[Wn]&&sn[Wn].splice(Oe(sn[Wn],Dt),1):delete sn[Wn]}),this}},emit:function(ze,Dt){this.options.domEvents&&function $n(ze,Dt){var sn=f.createEvent("Event");sn.initEvent(ze,!0,!0),sn.gesture=Dt,Dt.target.dispatchEvent(sn)}(ze,Dt);var sn=this.handlers[ze]&&this.handlers[ze].slice();if(sn&&sn.length){Dt.type=ze,Dt.preventDefault=function(){Dt.srcEvent.preventDefault()};for(var Wn=0;Wn<sn.length;)sn[Wn](Dt),Wn++}},destroy:function(){this.element&&Vo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},K(Oi,{INPUT_START:Ne,INPUT_MOVE:2,INPUT_END:Ot,INPUT_CANCEL:re,STATE_POSSIBLE:ro,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:D,DIRECTION_LEFT:F,DIRECTION_RIGHT:T,DIRECTION_UP:W,DIRECTION_DOWN:z,DIRECTION_HORIZONTAL:p,DIRECTION_VERTICAL:I,DIRECTION_ALL:Ae,Manager:eo,Input:ve,TouchAction:ti,TouchInput:En,MouseInput:Kt,PointerEventInput:At,TouchMouseInput:We,SingleTouchInput:tn,Recognizer:er,AttrRecognizer:fr,Tap:ai,Pan:Ar,Swipe:ni,Pinch:zr,Rotate:Ti,Press:si,on:$,off:H,each:M,merge:Z,extend:V,assign:K,inherit:J,bindFn:te,prefixed:_e}),(typeof u<"u"?u:typeof self<"u"?self:{}).Hammer=Oi,(i=function(){return Oi}.call(Ve,E,Ve,en))!==x&&(en.exports=i)}(window,document)},70401:(en,Ve,E)=>{"use strict";var i=E(82182),u=function(){return!!i};u.hasArrayLengthDefineBug=function(){if(!i)return null;try{return 1!==i([],"length",{value:1}).length}catch{return!0}},en.exports=u},88003:en=>{"use strict";var Ve={__proto__:null,foo:{}},E=Object;en.exports=function(){return{__proto__:Ve}.foo===Ve.foo&&!(Ve instanceof E)}},17528:(en,Ve,E)=>{"use strict";var i=typeof Symbol<"u"&&Symbol,u=E(16138);en.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&u()}},16138:en=>{"use strict";en.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var E={},i=Symbol("test"),u=Object(i);if("string"==typeof i||"[object Symbol]"!==Object.prototype.toString.call(i)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(i in E[i]=42,E)return!1;if("function"==typeof Object.keys&&0!==Object.keys(E).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(E).length)return!1;var C=Object.getOwnPropertySymbols(E);if(1!==C.length||C[0]!==i||!Object.prototype.propertyIsEnumerable.call(E,i))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var x=Object.getOwnPropertyDescriptor(E,i);if(42!==x.value||!0!==x.enumerable)return!1}return!0}},58252:(en,Ve,E)=>{"use strict";var i=Function.prototype.call,u=Object.prototype.hasOwnProperty,f=E(82988);en.exports=f.call(i,u)},97953:(en,Ve)=>{var i;!function(){"use strict";var u=function(){this.init()};u.prototype={init:function(){var y=this||f;return y._counter=1e3,y._html5AudioPool=[],y.html5PoolSize=10,y._codecs={},y._howls=[],y._muted=!1,y._volume=1,y._canPlayEvent="canplaythrough",y._navigator=typeof window<"u"&&window.navigator?window.navigator:null,y.masterGain=null,y.noAudio=!1,y.usingWebAudio=!0,y.autoSuspend=!0,y.ctx=null,y.autoUnlock=!0,y._setup(),y},volume:function(y){var v=this||f;if(y=parseFloat(y),v.ctx||P(),typeof y<"u"&&y>=0&&y<=1){if(v._volume=y,v._muted)return v;v.usingWebAudio&&v.masterGain.gain.setValueAtTime(y,f.ctx.currentTime);for(var M=0;M<v._howls.length;M++)if(!v._howls[M]._webAudio)for(var G=v._howls[M]._getSoundIds(),K=0;K<G.length;K++){var V=v._howls[M]._soundById(G[K]);V&&V._node&&(V._node.volume=V._volume*y)}return v}return v._volume},mute:function(y){var v=this||f;v.ctx||P(),v._muted=y,v.usingWebAudio&&v.masterGain.gain.setValueAtTime(y?0:v._volume,f.ctx.currentTime);for(var M=0;M<v._howls.length;M++)if(!v._howls[M]._webAudio)for(var G=v._howls[M]._getSoundIds(),K=0;K<G.length;K++){var V=v._howls[M]._soundById(G[K]);V&&V._node&&(V._node.muted=!!y||V._muted)}return v},stop:function(){for(var y=this||f,v=0;v<y._howls.length;v++)y._howls[v].stop();return y},unload:function(){for(var y=this||f,v=y._howls.length-1;v>=0;v--)y._howls[v].unload();return y.usingWebAudio&&y.ctx&&typeof y.ctx.close<"u"&&(y.ctx.close(),y.ctx=null,P()),y},codecs:function(y){return(this||f)._codecs[y.replace(/^x-/,"")]},_setup:function(){var y=this||f;if(y.state=y.ctx&&y.ctx.state||"suspended",y._autoSuspend(),!y.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(y._canPlayEvent="canplay")}catch{y.noAudio=!0}else y.noAudio=!0;try{(new Audio).muted&&(y.noAudio=!0)}catch{}return y.noAudio||y._setupCodecs(),y},_setupCodecs:function(){var y=this||f,v=null;try{v=typeof Audio<"u"?new Audio:null}catch{return y}if(!v||"function"!=typeof v.canPlayType)return y;var M=v.canPlayType("audio/mpeg;").replace(/^no$/,""),G=y._navigator?y._navigator.userAgent:"",K=G.match(/OPR\/(\d+)/g),V=K&&parseInt(K[0].split("/")[1],10)<33,Z=-1!==G.indexOf("Safari")&&-1===G.indexOf("Chrome"),J=G.match(/Version\/(.*?) /),te=Z&&J&&parseInt(J[1],10)<15;return y._codecs={mp3:!(V||!M&&!v.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!M,opus:!!v.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!v.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!v.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(v.canPlayType('audio/wav; codecs="1"')||v.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!v.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!v.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(v.canPlayType("audio/x-m4a;")||v.canPlayType("audio/m4a;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(v.canPlayType("audio/x-m4b;")||v.canPlayType("audio/m4b;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(v.canPlayType("audio/x-mp4;")||v.canPlayType("audio/mp4;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(te||!v.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(te||!v.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!v.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(v.canPlayType("audio/x-flac;")||v.canPlayType("audio/flac;")).replace(/^no$/,"")},y},_unlockAudio:function(){var y=this||f;if(!y._audioUnlocked&&y.ctx){y._audioUnlocked=!1,y.autoUnlock=!1,!y._mobileUnloaded&&44100!==y.ctx.sampleRate&&(y._mobileUnloaded=!0,y.unload()),y._scratchBuffer=y.ctx.createBuffer(1,1,22050);var v=function(M){for(;y._html5AudioPool.length<y.html5PoolSize;)try{var G=new Audio;G._unlocked=!0,y._releaseHtml5Audio(G)}catch{y.noAudio=!0;break}for(var K=0;K<y._howls.length;K++)if(!y._howls[K]._webAudio)for(var V=y._howls[K]._getSoundIds(),Z=0;Z<V.length;Z++){var J=y._howls[K]._soundById(V[Z]);J&&J._node&&!J._node._unlocked&&(J._node._unlocked=!0,J._node.load())}y._autoResume();var te=y.ctx.createBufferSource();te.buffer=y._scratchBuffer,te.connect(y.ctx.destination),typeof te.start>"u"?te.noteOn(0):te.start(0),"function"==typeof y.ctx.resume&&y.ctx.resume(),te.onended=function(){te.disconnect(0),y._audioUnlocked=!0,document.removeEventListener("touchstart",v,!0),document.removeEventListener("touchend",v,!0),document.removeEventListener("click",v,!0),document.removeEventListener("keydown",v,!0);for(var ae=0;ae<y._howls.length;ae++)y._howls[ae]._emit("unlock")}};return document.addEventListener("touchstart",v,!0),document.addEventListener("touchend",v,!0),document.addEventListener("click",v,!0),document.addEventListener("keydown",v,!0),y}},_obtainHtml5Audio:function(){var y=this||f;if(y._html5AudioPool.length)return y._html5AudioPool.pop();var v=(new Audio).play();return v&&typeof Promise<"u"&&(v instanceof Promise||"function"==typeof v.then)&&v.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(y){var v=this||f;return y._unlocked&&v._html5AudioPool.push(y),v},_autoSuspend:function(){var y=this;if(y.autoSuspend&&y.ctx&&!(typeof y.ctx.suspend>"u")&&f.usingWebAudio){for(var v=0;v<y._howls.length;v++)if(y._howls[v]._webAudio)for(var M=0;M<y._howls[v]._sounds.length;M++)if(!y._howls[v]._sounds[M]._paused)return y;return y._suspendTimer&&clearTimeout(y._suspendTimer),y._suspendTimer=setTimeout(function(){if(y.autoSuspend){y._suspendTimer=null,y.state="suspending";var G=function(){y.state="suspended",y._resumeAfterSuspend&&(delete y._resumeAfterSuspend,y._autoResume())};y.ctx.suspend().then(G,G)}},3e4),y}},_autoResume:function(){var y=this;if(y.ctx&&!(typeof y.ctx.resume>"u")&&f.usingWebAudio)return"running"===y.state&&"interrupted"!==y.ctx.state&&y._suspendTimer?(clearTimeout(y._suspendTimer),y._suspendTimer=null):"suspended"===y.state||"running"===y.state&&"interrupted"===y.ctx.state?(y.ctx.resume().then(function(){y.state="running";for(var v=0;v<y._howls.length;v++)y._howls[v]._emit("resume")}),y._suspendTimer&&(clearTimeout(y._suspendTimer),y._suspendTimer=null)):"suspending"===y.state&&(y._resumeAfterSuspend=!0),y}};var f=new u,C=function(y){y.src&&0!==y.src.length?this.init(y):console.error("An array of source files must be passed with any new Howl.")};C.prototype={init:function(y){var v=this;return f.ctx||P(),v._autoplay=y.autoplay||!1,v._format="string"!=typeof y.format?y.format:[y.format],v._html5=y.html5||!1,v._muted=y.mute||!1,v._loop=y.loop||!1,v._pool=y.pool||5,v._preload="boolean"!=typeof y.preload&&"metadata"!==y.preload||y.preload,v._rate=y.rate||1,v._sprite=y.sprite||{},v._src="string"!=typeof y.src?y.src:[y.src],v._volume=void 0!==y.volume?y.volume:1,v._xhr={method:y.xhr&&y.xhr.method?y.xhr.method:"GET",headers:y.xhr&&y.xhr.headers?y.xhr.headers:null,withCredentials:!(!y.xhr||!y.xhr.withCredentials)&&y.xhr.withCredentials},v._duration=0,v._state="unloaded",v._sounds=[],v._endTimers={},v._queue=[],v._playLock=!1,v._onend=y.onend?[{fn:y.onend}]:[],v._onfade=y.onfade?[{fn:y.onfade}]:[],v._onload=y.onload?[{fn:y.onload}]:[],v._onloaderror=y.onloaderror?[{fn:y.onloaderror}]:[],v._onplayerror=y.onplayerror?[{fn:y.onplayerror}]:[],v._onpause=y.onpause?[{fn:y.onpause}]:[],v._onplay=y.onplay?[{fn:y.onplay}]:[],v._onstop=y.onstop?[{fn:y.onstop}]:[],v._onmute=y.onmute?[{fn:y.onmute}]:[],v._onvolume=y.onvolume?[{fn:y.onvolume}]:[],v._onrate=y.onrate?[{fn:y.onrate}]:[],v._onseek=y.onseek?[{fn:y.onseek}]:[],v._onunlock=y.onunlock?[{fn:y.onunlock}]:[],v._onresume=[],v._webAudio=f.usingWebAudio&&!v._html5,typeof f.ctx<"u"&&f.ctx&&f.autoUnlock&&f._unlockAudio(),f._howls.push(v),v._autoplay&&v._queue.push({event:"play",action:function(){v.play()}}),v._preload&&"none"!==v._preload&&v.load(),v},load:function(){var y=this,v=null;if(f.noAudio)y._emit("loaderror",null,"No audio support.");else{"string"==typeof y._src&&(y._src=[y._src]);for(var M=0;M<y._src.length;M++){var G,K;if(y._format&&y._format[M])G=y._format[M];else{if("string"!=typeof(K=y._src[M])){y._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(G=/^data:audio\/([^;,]+);/i.exec(K))||(G=/\.([^.]+)$/.exec(K.split("?",1)[0])),G&&(G=G[1].toLowerCase())}if(G||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),G&&f.codecs(G)){v=y._src[M];break}}if(v)return y._src=v,y._state="loading","https:"===window.location.protocol&&"http:"===v.slice(0,5)&&(y._html5=!0,y._webAudio=!1),new x(y),y._webAudio&&d(y),y;y._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(y,v){var M=this,G=null;if("number"==typeof y)G=y,y=null;else{if("string"==typeof y&&"loaded"===M._state&&!M._sprite[y])return null;if(typeof y>"u"&&(y="__default",!M._playLock)){for(var K=0,V=0;V<M._sounds.length;V++)M._sounds[V]._paused&&!M._sounds[V]._ended&&(K++,G=M._sounds[V]._id);1===K?y=null:G=null}}var Z=G?M._soundById(G):M._inactiveSound();if(!Z)return null;if(G&&!y&&(y=Z._sprite||"__default"),"loaded"!==M._state){Z._sprite=y,Z._ended=!1;var J=Z._id;return M._queue.push({event:"play",action:function(){M.play(J)}}),J}if(G&&!Z._paused)return v||M._loadQueue("play"),Z._id;M._webAudio&&f._autoResume();var te=Math.max(0,Z._seek>0?Z._seek:M._sprite[y][0]/1e3),ae=Math.max(0,(M._sprite[y][0]+M._sprite[y][1])/1e3-te),Y=1e3*ae/Math.abs(Z._rate),$=M._sprite[y][0]/1e3,H=(M._sprite[y][0]+M._sprite[y][1])/1e3;Z._sprite=y,Z._ended=!1;var me=function(){Z._paused=!1,Z._seek=te,Z._start=$,Z._stop=H,Z._loop=!(!Z._loop&&!M._sprite[y][2])};if(!(te>=H)){var B=Z._node;if(M._webAudio){var ce=function(){M._playLock=!1,me(),M._refreshBuffer(Z),B.gain.setValueAtTime(Z._muted||M._muted?0:Z._volume,f.ctx.currentTime),Z._playStart=f.ctx.currentTime,typeof B.bufferSource.start>"u"?B.bufferSource.noteGrainOn(0,te,Z._loop?86400:ae):B.bufferSource.start(0,te,Z._loop?86400:ae),Y!==1/0&&(M._endTimers[Z._id]=setTimeout(M._ended.bind(M,Z),Y)),v||setTimeout(function(){M._emit("play",Z._id),M._loadQueue()},0)};"running"===f.state&&"interrupted"!==f.ctx.state?ce():(M._playLock=!0,M.once("resume",ce),M._clearTimer(Z._id))}else{var Oe=function(){B.currentTime=te,B.muted=Z._muted||M._muted||f._muted||B.muted,B.volume=Z._volume*f.volume(),B.playbackRate=Z._rate;try{var _e=B.play();if(_e&&typeof Promise<"u"&&(_e instanceof Promise||"function"==typeof _e.then)?(M._playLock=!0,me(),_e.then(function(){M._playLock=!1,B._unlocked=!0,v?M._loadQueue():M._emit("play",Z._id)}).catch(function(){M._playLock=!1,M._emit("playerror",Z._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),Z._ended=!0,Z._paused=!0})):v||(M._playLock=!1,me(),M._emit("play",Z._id)),B.playbackRate=Z._rate,B.paused)return void M._emit("playerror",Z._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==y||Z._loop?M._endTimers[Z._id]=setTimeout(M._ended.bind(M,Z),Y):(M._endTimers[Z._id]=function(){M._ended(Z),B.removeEventListener("ended",M._endTimers[Z._id],!1)},B.addEventListener("ended",M._endTimers[Z._id],!1))}catch(ht){M._emit("playerror",Z._id,ht)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===B.src&&(B.src=M._src,B.load());var Ue=window&&window.ejecta||!B.readyState&&f._navigator.isCocoonJS;if(B.readyState>=3||Ue)Oe();else{M._playLock=!0,M._state="loading";var qe=function(){M._state="loaded",Oe(),B.removeEventListener(f._canPlayEvent,qe,!1)};B.addEventListener(f._canPlayEvent,qe,!1),M._clearTimer(Z._id)}}return Z._id}M._ended(Z)},pause:function(y){var v=this;if("loaded"!==v._state||v._playLock)return v._queue.push({event:"pause",action:function(){v.pause(y)}}),v;for(var M=v._getSoundIds(y),G=0;G<M.length;G++){v._clearTimer(M[G]);var K=v._soundById(M[G]);if(K&&!K._paused&&(K._seek=v.seek(M[G]),K._rateSeek=0,K._paused=!0,v._stopFade(M[G]),K._node))if(v._webAudio){if(!K._node.bufferSource)continue;typeof K._node.bufferSource.stop>"u"?K._node.bufferSource.noteOff(0):K._node.bufferSource.stop(0),v._cleanBuffer(K._node)}else(!isNaN(K._node.duration)||K._node.duration===1/0)&&K._node.pause();arguments[1]||v._emit("pause",K?K._id:null)}return v},stop:function(y,v){var M=this;if("loaded"!==M._state||M._playLock)return M._queue.push({event:"stop",action:function(){M.stop(y)}}),M;for(var G=M._getSoundIds(y),K=0;K<G.length;K++){M._clearTimer(G[K]);var V=M._soundById(G[K]);V&&(V._seek=V._start||0,V._rateSeek=0,V._paused=!0,V._ended=!0,M._stopFade(G[K]),V._node&&(M._webAudio?V._node.bufferSource&&(typeof V._node.bufferSource.stop>"u"?V._node.bufferSource.noteOff(0):V._node.bufferSource.stop(0),M._cleanBuffer(V._node)):(!isNaN(V._node.duration)||V._node.duration===1/0)&&(V._node.currentTime=V._start||0,V._node.pause(),V._node.duration===1/0&&M._clearSound(V._node))),v||M._emit("stop",V._id))}return M},mute:function(y,v){var M=this;if("loaded"!==M._state||M._playLock)return M._queue.push({event:"mute",action:function(){M.mute(y,v)}}),M;if(typeof v>"u"){if("boolean"!=typeof y)return M._muted;M._muted=y}for(var G=M._getSoundIds(v),K=0;K<G.length;K++){var V=M._soundById(G[K]);V&&(V._muted=y,V._interval&&M._stopFade(V._id),M._webAudio&&V._node?V._node.gain.setValueAtTime(y?0:V._volume,f.ctx.currentTime):V._node&&(V._node.muted=!!f._muted||y),M._emit("mute",V._id))}return M},volume:function(){var M,G,Z,y=this,v=arguments;if(0===v.length)return y._volume;if(1===v.length||2===v.length&&typeof v[1]>"u"?y._getSoundIds().indexOf(v[0])>=0?G=parseInt(v[0],10):M=parseFloat(v[0]):v.length>=2&&(M=parseFloat(v[0]),G=parseInt(v[1],10)),!(typeof M<"u"&&M>=0&&M<=1))return(Z=G?y._soundById(G):y._sounds[0])?Z._volume:0;if("loaded"!==y._state||y._playLock)return y._queue.push({event:"volume",action:function(){y.volume.apply(y,v)}}),y;typeof G>"u"&&(y._volume=M),G=y._getSoundIds(G);for(var J=0;J<G.length;J++)(Z=y._soundById(G[J]))&&(Z._volume=M,v[2]||y._stopFade(G[J]),y._webAudio&&Z._node&&!Z._muted?Z._node.gain.setValueAtTime(M,f.ctx.currentTime):Z._node&&!Z._muted&&(Z._node.volume=M*f.volume()),y._emit("volume",Z._id));return y},fade:function(y,v,M,G){var K=this;if("loaded"!==K._state||K._playLock)return K._queue.push({event:"fade",action:function(){K.fade(y,v,M,G)}}),K;y=Math.min(Math.max(0,parseFloat(y)),1),v=Math.min(Math.max(0,parseFloat(v)),1),M=parseFloat(M),K.volume(y,G);for(var V=K._getSoundIds(G),Z=0;Z<V.length;Z++){var J=K._soundById(V[Z]);if(J){if(G||K._stopFade(V[Z]),K._webAudio&&!J._muted){var te=f.ctx.currentTime,ae=te+M/1e3;J._volume=y,J._node.gain.setValueAtTime(y,te),J._node.gain.linearRampToValueAtTime(v,ae)}K._startFadeInterval(J,y,v,M,V[Z],typeof G>"u")}}return K},_startFadeInterval:function(y,v,M,G,K,V){var Z=this,J=v,te=M-v,ae=Math.abs(te/.01),Y=Math.max(4,ae>0?G/ae:G),$=Date.now();y._fadeTo=M,y._interval=setInterval(function(){var H=(Date.now()-$)/G;$=Date.now(),J+=te*H,J=Math.round(100*J)/100,J=te<0?Math.max(M,J):Math.min(M,J),Z._webAudio?y._volume=J:Z.volume(J,y._id,!0),V&&(Z._volume=J),(M<v&&J<=M||M>v&&J>=M)&&(clearInterval(y._interval),y._interval=null,y._fadeTo=null,Z.volume(M,y._id),Z._emit("fade",y._id))},Y)},_stopFade:function(y){var v=this,M=v._soundById(y);return M&&M._interval&&(v._webAudio&&M._node.gain.cancelScheduledValues(f.ctx.currentTime),clearInterval(M._interval),M._interval=null,v.volume(M._fadeTo,y),M._fadeTo=null,v._emit("fade",y)),v},loop:function(){var M,G,K,y=this,v=arguments;if(0===v.length)return y._loop;if(1===v.length){if("boolean"!=typeof v[0])return!!(K=y._soundById(parseInt(v[0],10)))&&K._loop;y._loop=M=v[0]}else 2===v.length&&(M=v[0],G=parseInt(v[1],10));for(var V=y._getSoundIds(G),Z=0;Z<V.length;Z++)(K=y._soundById(V[Z]))&&(K._loop=M,y._webAudio&&K._node&&K._node.bufferSource&&(K._node.bufferSource.loop=M,M&&(K._node.bufferSource.loopStart=K._start||0,K._node.bufferSource.loopEnd=K._stop,y.playing(V[Z])&&(y.pause(V[Z],!0),y.play(V[Z],!0)))));return y},rate:function(){var M,G,Z,y=this,v=arguments;if(0===v.length?G=y._sounds[0]._id:1===v.length?y._getSoundIds().indexOf(v[0])>=0?G=parseInt(v[0],10):M=parseFloat(v[0]):2===v.length&&(M=parseFloat(v[0]),G=parseInt(v[1],10)),"number"!=typeof M)return(Z=y._soundById(G))?Z._rate:y._rate;if("loaded"!==y._state||y._playLock)return y._queue.push({event:"rate",action:function(){y.rate.apply(y,v)}}),y;typeof G>"u"&&(y._rate=M),G=y._getSoundIds(G);for(var J=0;J<G.length;J++)if(Z=y._soundById(G[J])){y.playing(G[J])&&(Z._rateSeek=y.seek(G[J]),Z._playStart=y._webAudio?f.ctx.currentTime:Z._playStart),Z._rate=M,y._webAudio&&Z._node&&Z._node.bufferSource?Z._node.bufferSource.playbackRate.setValueAtTime(M,f.ctx.currentTime):Z._node&&(Z._node.playbackRate=M);var te=y.seek(G[J]),Y=1e3*((y._sprite[Z._sprite][0]+y._sprite[Z._sprite][1])/1e3-te)/Math.abs(Z._rate);(y._endTimers[G[J]]||!Z._paused)&&(y._clearTimer(G[J]),y._endTimers[G[J]]=setTimeout(y._ended.bind(y,Z),Y)),y._emit("rate",Z._id)}return y},seek:function(){var M,G,y=this,v=arguments;if(0===v.length?y._sounds.length&&(G=y._sounds[0]._id):1===v.length?y._getSoundIds().indexOf(v[0])>=0?G=parseInt(v[0],10):y._sounds.length&&(G=y._sounds[0]._id,M=parseFloat(v[0])):2===v.length&&(M=parseFloat(v[0]),G=parseInt(v[1],10)),typeof G>"u")return 0;if("number"==typeof M&&("loaded"!==y._state||y._playLock))return y._queue.push({event:"seek",action:function(){y.seek.apply(y,v)}}),y;var Z=y._soundById(G);if(Z){if(!("number"==typeof M&&M>=0)){if(y._webAudio){var Y=y.playing(G)?f.ctx.currentTime-Z._playStart:0;return Z._seek+((Z._rateSeek?Z._rateSeek-Z._seek:0)+Y*Math.abs(Z._rate))}return Z._node.currentTime}var J=y.playing(G);J&&y.pause(G,!0),Z._seek=M,Z._ended=!1,y._clearTimer(G),!y._webAudio&&Z._node&&!isNaN(Z._node.duration)&&(Z._node.currentTime=M);var te=function(){J&&y.play(G,!0),y._emit("seek",G)};if(J&&!y._webAudio){var ae=function(){y._playLock?setTimeout(ae,0):te()};setTimeout(ae,0)}else te()}return y},playing:function(y){var v=this;if("number"==typeof y){var M=v._soundById(y);return!!M&&!M._paused}for(var G=0;G<v._sounds.length;G++)if(!v._sounds[G]._paused)return!0;return!1},duration:function(y){var v=this,M=v._duration,G=v._soundById(y);return G&&(M=v._sprite[G._sprite][1]/1e3),M},state:function(){return this._state},unload:function(){for(var y=this,v=y._sounds,M=0;M<v.length;M++)v[M]._paused||y.stop(v[M]._id),y._webAudio||(y._clearSound(v[M]._node),v[M]._node.removeEventListener("error",v[M]._errorFn,!1),v[M]._node.removeEventListener(f._canPlayEvent,v[M]._loadFn,!1),v[M]._node.removeEventListener("ended",v[M]._endFn,!1),f._releaseHtml5Audio(v[M]._node)),delete v[M]._node,y._clearTimer(v[M]._id);var G=f._howls.indexOf(y);G>=0&&f._howls.splice(G,1);var K=!0;for(M=0;M<f._howls.length;M++)if(f._howls[M]._src===y._src||y._src.indexOf(f._howls[M]._src)>=0){K=!1;break}return w&&K&&delete w[y._src],f.noAudio=!1,y._state="unloaded",y._sounds=[],y=null,null},on:function(y,v,M,G){return"function"==typeof v&&this["_on"+y].push(G?{id:M,fn:v,once:G}:{id:M,fn:v}),this},off:function(y,v,M){var G=this,K=G["_on"+y],V=0;if("number"==typeof v&&(M=v,v=null),v||M)for(V=0;V<K.length;V++){var Z=M===K[V].id;if(v===K[V].fn&&Z||!v&&Z){K.splice(V,1);break}}else if(y)G["_on"+y]=[];else{var J=Object.keys(G);for(V=0;V<J.length;V++)0===J[V].indexOf("_on")&&Array.isArray(G[J[V]])&&(G[J[V]]=[])}return G},once:function(y,v,M){return this.on(y,v,M,1),this},_emit:function(y,v,M){for(var G=this,K=G["_on"+y],V=K.length-1;V>=0;V--)(!K[V].id||K[V].id===v||"load"===y)&&(setTimeout(function(Z){Z.call(this,v,M)}.bind(G,K[V].fn),0),K[V].once&&G.off(y,K[V].fn,K[V].id));return G._loadQueue(y),G},_loadQueue:function(y){var v=this;if(v._queue.length>0){var M=v._queue[0];M.event===y&&(v._queue.shift(),v._loadQueue()),y||M.action()}return v},_ended:function(y){var v=this,M=y._sprite;if(!v._webAudio&&y._node&&!y._node.paused&&!y._node.ended&&y._node.currentTime<y._stop)return setTimeout(v._ended.bind(v,y),100),v;var G=!(!y._loop&&!v._sprite[M][2]);if(v._emit("end",y._id),!v._webAudio&&G&&v.stop(y._id,!0).play(y._id),v._webAudio&&G){v._emit("play",y._id),y._seek=y._start||0,y._rateSeek=0,y._playStart=f.ctx.currentTime;var K=1e3*(y._stop-y._start)/Math.abs(y._rate);v._endTimers[y._id]=setTimeout(v._ended.bind(v,y),K)}return v._webAudio&&!G&&(y._paused=!0,y._ended=!0,y._seek=y._start||0,y._rateSeek=0,v._clearTimer(y._id),v._cleanBuffer(y._node),f._autoSuspend()),!v._webAudio&&!G&&v.stop(y._id,!0),v},_clearTimer:function(y){var v=this;if(v._endTimers[y]){if("function"!=typeof v._endTimers[y])clearTimeout(v._endTimers[y]);else{var M=v._soundById(y);M&&M._node&&M._node.removeEventListener("ended",v._endTimers[y],!1)}delete v._endTimers[y]}return v},_soundById:function(y){for(var v=this,M=0;M<v._sounds.length;M++)if(y===v._sounds[M]._id)return v._sounds[M];return null},_inactiveSound:function(){var y=this;y._drain();for(var v=0;v<y._sounds.length;v++)if(y._sounds[v]._ended)return y._sounds[v].reset();return new x(y)},_drain:function(){var y=this,v=y._pool,M=0,G=0;if(!(y._sounds.length<v)){for(G=0;G<y._sounds.length;G++)y._sounds[G]._ended&&M++;for(G=y._sounds.length-1;G>=0;G--){if(M<=v)return;y._sounds[G]._ended&&(y._webAudio&&y._sounds[G]._node&&y._sounds[G]._node.disconnect(0),y._sounds.splice(G,1),M--)}}},_getSoundIds:function(y){if(typeof y>"u"){for(var M=[],G=0;G<this._sounds.length;G++)M.push(this._sounds[G]._id);return M}return[y]},_refreshBuffer:function(y){return y._node.bufferSource=f.ctx.createBufferSource(),y._node.bufferSource.buffer=w[this._src],y._node.bufferSource.connect(y._panner?y._panner:y._node),y._node.bufferSource.loop=y._loop,y._loop&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop||0),y._node.bufferSource.playbackRate.setValueAtTime(y._rate,f.ctx.currentTime),this},_cleanBuffer:function(y){var M=f._navigator&&f._navigator.vendor.indexOf("Apple")>=0;if(!y.bufferSource)return this;if(f._scratchBuffer&&y.bufferSource&&(y.bufferSource.onended=null,y.bufferSource.disconnect(0),M))try{y.bufferSource.buffer=f._scratchBuffer}catch{}return y.bufferSource=null,this},_clearSound:function(y){/MSIE |Trident\//.test(f._navigator&&f._navigator.userAgent)||(y.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var x=function(y){this._parent=y,this.init()};x.prototype={init:function(){var y=this,v=y._parent;return y._muted=v._muted,y._loop=v._loop,y._volume=v._volume,y._rate=v._rate,y._seek=0,y._paused=!0,y._ended=!0,y._sprite="__default",y._id=++f._counter,v._sounds.push(y),y.create(),y},create:function(){var y=this,v=y._parent,M=f._muted||y._muted||y._parent._muted?0:y._volume;return v._webAudio?(y._node=typeof f.ctx.createGain>"u"?f.ctx.createGainNode():f.ctx.createGain(),y._node.gain.setValueAtTime(M,f.ctx.currentTime),y._node.paused=!0,y._node.connect(f.masterGain)):f.noAudio||(y._node=f._obtainHtml5Audio(),y._errorFn=y._errorListener.bind(y),y._node.addEventListener("error",y._errorFn,!1),y._loadFn=y._loadListener.bind(y),y._node.addEventListener(f._canPlayEvent,y._loadFn,!1),y._endFn=y._endListener.bind(y),y._node.addEventListener("ended",y._endFn,!1),y._node.src=v._src,y._node.preload=!0===v._preload?"auto":v._preload,y._node.volume=M*f.volume(),y._node.load()),y},reset:function(){var y=this,v=y._parent;return y._muted=v._muted,y._loop=v._loop,y._volume=v._volume,y._rate=v._rate,y._seek=0,y._rateSeek=0,y._paused=!0,y._ended=!0,y._sprite="__default",y._id=++f._counter,y},_errorListener:function(){var y=this;y._parent._emit("loaderror",y._id,y._node.error?y._node.error.code:0),y._node.removeEventListener("error",y._errorFn,!1)},_loadListener:function(){var y=this,v=y._parent;v._duration=Math.ceil(10*y._node.duration)/10,0===Object.keys(v._sprite).length&&(v._sprite={__default:[0,1e3*v._duration]}),"loaded"!==v._state&&(v._state="loaded",v._emit("load"),v._loadQueue()),y._node.removeEventListener(f._canPlayEvent,y._loadFn,!1)},_endListener:function(){var y=this,v=y._parent;v._duration===1/0&&(v._duration=Math.ceil(10*y._node.duration)/10,v._sprite.__default[1]===1/0&&(v._sprite.__default[1]=1e3*v._duration),v._ended(y)),y._node.removeEventListener("ended",y._endFn,!1)}};var w={},d=function(y){var v=y._src;if(w[v])return y._duration=w[v].duration,void U(y);if(/^data:[^;]+;base64,/.test(v)){for(var M=atob(v.split(",")[1]),G=new Uint8Array(M.length),K=0;K<M.length;++K)G[K]=M.charCodeAt(K);S(G.buffer,y)}else{var V=new XMLHttpRequest;V.open(y._xhr.method,v,!0),V.withCredentials=y._xhr.withCredentials,V.responseType="arraybuffer",y._xhr.headers&&Object.keys(y._xhr.headers).forEach(function(Z){V.setRequestHeader(Z,y._xhr.headers[Z])}),V.onload=function(){var Z=(V.status+"")[0];"0"===Z||"2"===Z||"3"===Z?S(V.response,y):y._emit("loaderror",null,"Failed loading audio file with status: "+V.status+".")},V.onerror=function(){y._webAudio&&(y._html5=!0,y._webAudio=!1,y._sounds=[],delete w[v],y.load())},k(V)}},k=function(y){try{y.send()}catch{y.onerror()}},S=function(y,v){var M=function(){v._emit("loaderror",null,"Decoding audio data failed.")},G=function(K){K&&v._sounds.length>0?(w[v._src]=K,U(v,K)):M()};typeof Promise<"u"&&1===f.ctx.decodeAudioData.length?f.ctx.decodeAudioData(y).then(G).catch(M):f.ctx.decodeAudioData(y,G,M)},U=function(y,v){v&&!y._duration&&(y._duration=v.duration),0===Object.keys(y._sprite).length&&(y._sprite={__default:[0,1e3*y._duration]}),"loaded"!==y._state&&(y._state="loaded",y._emit("load"),y._loadQueue())},P=function(){if(f.usingWebAudio){try{typeof AudioContext<"u"?f.ctx=new AudioContext:typeof webkitAudioContext<"u"?f.ctx=new webkitAudioContext:f.usingWebAudio=!1}catch{f.usingWebAudio=!1}f.ctx||(f.usingWebAudio=!1);var y=/iP(hone|od|ad)/.test(f._navigator&&f._navigator.platform),v=f._navigator&&f._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),M=v?parseInt(v[1],10):null;if(y&&M&&M<9){var G=/safari/.test(f._navigator&&f._navigator.userAgent.toLowerCase());f._navigator&&!G&&(f.usingWebAudio=!1)}f.usingWebAudio&&(f.masterGain=typeof f.ctx.createGain>"u"?f.ctx.createGainNode():f.ctx.createGain(),f.masterGain.gain.setValueAtTime(f._muted?0:f._volume,f.ctx.currentTime),f.masterGain.connect(f.ctx.destination)),f._setup()}};void 0!==(i=function(){return{Howler:f,Howl:C}}.apply(Ve,[]))&&(en.exports=i),Ve.Howler=f,Ve.Howl=C,typeof global<"u"?(global.HowlerGlobal=u,global.Howler=f,global.Howl=C,global.Sound=x):typeof window<"u"&&(window.HowlerGlobal=u,window.Howler=f,window.Howl=C,window.Sound=x)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(f){var C=this;if(!C.ctx||!C.ctx.listener)return C;for(var x=C._howls.length-1;x>=0;x--)C._howls[x].stereo(f);return C},HowlerGlobal.prototype.pos=function(f,C,x){var w=this;return w.ctx&&w.ctx.listener?"number"!=typeof f?w._pos:(w._pos=[f,C="number"!=typeof C?w._pos[1]:C,x="number"!=typeof x?w._pos[2]:x],typeof w.ctx.listener.positionX<"u"?(w.ctx.listener.positionX.setTargetAtTime(w._pos[0],Howler.ctx.currentTime,.1),w.ctx.listener.positionY.setTargetAtTime(w._pos[1],Howler.ctx.currentTime,.1),w.ctx.listener.positionZ.setTargetAtTime(w._pos[2],Howler.ctx.currentTime,.1)):w.ctx.listener.setPosition(w._pos[0],w._pos[1],w._pos[2]),w):w},HowlerGlobal.prototype.orientation=function(f,C,x,w,d,k){var S=this;if(!S.ctx||!S.ctx.listener)return S;var U=S._orientation;return"number"!=typeof f?U:(S._orientation=[f,C="number"!=typeof C?U[1]:C,x="number"!=typeof x?U[2]:x,w="number"!=typeof w?U[3]:w,d="number"!=typeof d?U[4]:d,k="number"!=typeof k?U[5]:k],typeof S.ctx.listener.forwardX<"u"?(S.ctx.listener.forwardX.setTargetAtTime(f,Howler.ctx.currentTime,.1),S.ctx.listener.forwardY.setTargetAtTime(C,Howler.ctx.currentTime,.1),S.ctx.listener.forwardZ.setTargetAtTime(x,Howler.ctx.currentTime,.1),S.ctx.listener.upX.setTargetAtTime(w,Howler.ctx.currentTime,.1),S.ctx.listener.upY.setTargetAtTime(d,Howler.ctx.currentTime,.1),S.ctx.listener.upZ.setTargetAtTime(k,Howler.ctx.currentTime,.1)):S.ctx.listener.setOrientation(f,C,x,w,d,k),S)},Howl.prototype.init=function(f){return function(C){var x=this;return x._orientation=C.orientation||[1,0,0],x._stereo=C.stereo||null,x._pos=C.pos||null,x._pannerAttr={coneInnerAngle:typeof C.coneInnerAngle<"u"?C.coneInnerAngle:360,coneOuterAngle:typeof C.coneOuterAngle<"u"?C.coneOuterAngle:360,coneOuterGain:typeof C.coneOuterGain<"u"?C.coneOuterGain:0,distanceModel:typeof C.distanceModel<"u"?C.distanceModel:"inverse",maxDistance:typeof C.maxDistance<"u"?C.maxDistance:1e4,panningModel:typeof C.panningModel<"u"?C.panningModel:"HRTF",refDistance:typeof C.refDistance<"u"?C.refDistance:1,rolloffFactor:typeof C.rolloffFactor<"u"?C.rolloffFactor:1},x._onstereo=C.onstereo?[{fn:C.onstereo}]:[],x._onpos=C.onpos?[{fn:C.onpos}]:[],x._onorientation=C.onorientation?[{fn:C.onorientation}]:[],f.call(this,C)}}(Howl.prototype.init),Howl.prototype.stereo=function(f,C){var x=this;if(!x._webAudio)return x;if("loaded"!==x._state)return x._queue.push({event:"stereo",action:function(){x.stereo(f,C)}}),x;var w=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof C>"u"){if("number"!=typeof f)return x._stereo;x._stereo=f,x._pos=[f,0,0]}for(var d=x._getSoundIds(C),k=0;k<d.length;k++){var S=x._soundById(d[k]);if(S){if("number"!=typeof f)return S._stereo;S._stereo=f,S._pos=[f,0,0],S._node&&(S._pannerAttr.panningModel="equalpower",(!S._panner||!S._panner.pan)&&u(S,w),"spatial"===w?typeof S._panner.positionX<"u"?(S._panner.positionX.setValueAtTime(f,Howler.ctx.currentTime),S._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),S._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):S._panner.setPosition(f,0,0):S._panner.pan.setValueAtTime(f,Howler.ctx.currentTime)),x._emit("stereo",S._id)}}return x},Howl.prototype.pos=function(f,C,x,w){var d=this;if(!d._webAudio)return d;if("loaded"!==d._state)return d._queue.push({event:"pos",action:function(){d.pos(f,C,x,w)}}),d;if(C="number"!=typeof C?0:C,x="number"!=typeof x?-.5:x,typeof w>"u"){if("number"!=typeof f)return d._pos;d._pos=[f,C,x]}for(var k=d._getSoundIds(w),S=0;S<k.length;S++){var U=d._soundById(k[S]);if(U){if("number"!=typeof f)return U._pos;U._pos=[f,C,x],U._node&&((!U._panner||U._panner.pan)&&u(U,"spatial"),typeof U._panner.positionX<"u"?(U._panner.positionX.setValueAtTime(f,Howler.ctx.currentTime),U._panner.positionY.setValueAtTime(C,Howler.ctx.currentTime),U._panner.positionZ.setValueAtTime(x,Howler.ctx.currentTime)):U._panner.setPosition(f,C,x)),d._emit("pos",U._id)}}return d},Howl.prototype.orientation=function(f,C,x,w){var d=this;if(!d._webAudio)return d;if("loaded"!==d._state)return d._queue.push({event:"orientation",action:function(){d.orientation(f,C,x,w)}}),d;if(C="number"!=typeof C?d._orientation[1]:C,x="number"!=typeof x?d._orientation[2]:x,typeof w>"u"){if("number"!=typeof f)return d._orientation;d._orientation=[f,C,x]}for(var k=d._getSoundIds(w),S=0;S<k.length;S++){var U=d._soundById(k[S]);if(U){if("number"!=typeof f)return U._orientation;U._orientation=[f,C,x],U._node&&(U._panner||(U._pos||(U._pos=d._pos||[0,0,-.5]),u(U,"spatial")),typeof U._panner.orientationX<"u"?(U._panner.orientationX.setValueAtTime(f,Howler.ctx.currentTime),U._panner.orientationY.setValueAtTime(C,Howler.ctx.currentTime),U._panner.orientationZ.setValueAtTime(x,Howler.ctx.currentTime)):U._panner.setOrientation(f,C,x)),d._emit("orientation",U._id)}}return d},Howl.prototype.pannerAttr=function(){var x,w,d,f=this,C=arguments;if(!f._webAudio)return f;if(0===C.length)return f._pannerAttr;if(1===C.length){if("object"!=typeof C[0])return(d=f._soundById(parseInt(C[0],10)))?d._pannerAttr:f._pannerAttr;x=C[0],typeof w>"u"&&(x.pannerAttr||(x.pannerAttr={coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor,panningModel:x.panningModel}),f._pannerAttr={coneInnerAngle:typeof x.pannerAttr.coneInnerAngle<"u"?x.pannerAttr.coneInnerAngle:f._coneInnerAngle,coneOuterAngle:typeof x.pannerAttr.coneOuterAngle<"u"?x.pannerAttr.coneOuterAngle:f._coneOuterAngle,coneOuterGain:typeof x.pannerAttr.coneOuterGain<"u"?x.pannerAttr.coneOuterGain:f._coneOuterGain,distanceModel:typeof x.pannerAttr.distanceModel<"u"?x.pannerAttr.distanceModel:f._distanceModel,maxDistance:typeof x.pannerAttr.maxDistance<"u"?x.pannerAttr.maxDistance:f._maxDistance,refDistance:typeof x.pannerAttr.refDistance<"u"?x.pannerAttr.refDistance:f._refDistance,rolloffFactor:typeof x.pannerAttr.rolloffFactor<"u"?x.pannerAttr.rolloffFactor:f._rolloffFactor,panningModel:typeof x.pannerAttr.panningModel<"u"?x.pannerAttr.panningModel:f._panningModel})}else 2===C.length&&(x=C[0],w=parseInt(C[1],10));for(var k=f._getSoundIds(w),S=0;S<k.length;S++)if(d=f._soundById(k[S])){var U=d._pannerAttr;U={coneInnerAngle:typeof x.coneInnerAngle<"u"?x.coneInnerAngle:U.coneInnerAngle,coneOuterAngle:typeof x.coneOuterAngle<"u"?x.coneOuterAngle:U.coneOuterAngle,coneOuterGain:typeof x.coneOuterGain<"u"?x.coneOuterGain:U.coneOuterGain,distanceModel:typeof x.distanceModel<"u"?x.distanceModel:U.distanceModel,maxDistance:typeof x.maxDistance<"u"?x.maxDistance:U.maxDistance,refDistance:typeof x.refDistance<"u"?x.refDistance:U.refDistance,rolloffFactor:typeof x.rolloffFactor<"u"?x.rolloffFactor:U.rolloffFactor,panningModel:typeof x.panningModel<"u"?x.panningModel:U.panningModel};var P=d._panner;P||(d._pos||(d._pos=f._pos||[0,0,-.5]),u(d,"spatial"),P=d._panner),P.coneInnerAngle=U.coneInnerAngle,P.coneOuterAngle=U.coneOuterAngle,P.coneOuterGain=U.coneOuterGain,P.distanceModel=U.distanceModel,P.maxDistance=U.maxDistance,P.refDistance=U.refDistance,P.rolloffFactor=U.rolloffFactor,P.panningModel=U.panningModel}return f},Sound.prototype.init=function(f){return function(){var C=this,x=C._parent;C._orientation=x._orientation,C._stereo=x._stereo,C._pos=x._pos,C._pannerAttr=x._pannerAttr,f.call(this),C._stereo?x.stereo(C._stereo):C._pos&&x.pos(C._pos[0],C._pos[1],C._pos[2],C._id)}}(Sound.prototype.init),Sound.prototype.reset=function(f){return function(){var C=this,x=C._parent;return C._orientation=x._orientation,C._stereo=x._stereo,C._pos=x._pos,C._pannerAttr=x._pannerAttr,C._stereo?x.stereo(C._stereo):C._pos?x.pos(C._pos[0],C._pos[1],C._pos[2],C._id):C._panner&&(C._panner.disconnect(0),C._panner=void 0,x._refreshBuffer(C)),f.call(this)}}(Sound.prototype.reset);var u=function(f,C){"spatial"===(C=C||"spatial")?(f._panner=Howler.ctx.createPanner(),f._panner.coneInnerAngle=f._pannerAttr.coneInnerAngle,f._panner.coneOuterAngle=f._pannerAttr.coneOuterAngle,f._panner.coneOuterGain=f._pannerAttr.coneOuterGain,f._panner.distanceModel=f._pannerAttr.distanceModel,f._panner.maxDistance=f._pannerAttr.maxDistance,f._panner.refDistance=f._pannerAttr.refDistance,f._panner.rolloffFactor=f._pannerAttr.rolloffFactor,f._panner.panningModel=f._pannerAttr.panningModel,typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(f._pos[0],Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(f._pos[1],Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(f._pos[2],Howler.ctx.currentTime)):f._panner.setPosition(f._pos[0],f._pos[1],f._pos[2]),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(f._orientation[0],Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(f._orientation[1],Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(f._orientation[2],Howler.ctx.currentTime)):f._panner.setOrientation(f._orientation[0],f._orientation[1],f._orientation[2])):(f._panner=Howler.ctx.createStereoPanner(),f._panner.pan.setValueAtTime(f._stereo,Howler.ctx.currentTime)),f._panner.connect(f._node),f._paused||f._parent.pause(f._id,!0).play(f._id,!0)}}()},7662:(en,Ve,E)=>{"use strict";E.d(Ve,{mo:()=>sr});var i=E(28407);const f=(()=>{let Pe=0;return()=>(Pe+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${Pe}`)})();function x(Pe){const dt=[];for(let vn=0,bn=Pe.length;vn<bn;vn++)dt.push(Pe[vn]);return dt}function w(Pe,dt){const bn=(Pe.ownerDocument.defaultView||window).getComputedStyle(Pe).getPropertyValue(dt);return bn?parseFloat(bn.replace("px","")):0}function S(Pe,dt={}){const vn=dt.width||function d(Pe){const dt=w(Pe,"border-left-width"),vn=w(Pe,"border-right-width");return Pe.clientWidth+dt+vn}(Pe),bn=dt.height||function k(Pe){const dt=w(Pe,"border-top-width"),vn=w(Pe,"border-bottom-width");return Pe.clientHeight+dt+vn}(Pe);return{width:vn,height:bn}}const P=16384;function M(Pe){return new Promise((dt,vn)=>{const bn=new Image;bn.decode=()=>dt(bn),bn.onload=()=>dt(bn),bn.onerror=vn,bn.crossOrigin="anonymous",bn.decoding="async",bn.src=Pe})}function K(){return(K=(0,i.A)(function*(Pe){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(Pe)).then(encodeURIComponent).then(dt=>`data:image/svg+xml;charset=utf-8,${dt}`)})).apply(this,arguments)}function Z(){return Z=(0,i.A)(function*(Pe,dt,vn){const bn="http://www.w3.org/2000/svg",Gn=document.createElementNS(bn,"svg"),nr=document.createElementNS(bn,"foreignObject");return Gn.setAttribute("width",`${dt}`),Gn.setAttribute("height",`${vn}`),Gn.setAttribute("viewBox",`0 0 ${dt} ${vn}`),nr.setAttribute("width","100%"),nr.setAttribute("height","100%"),nr.setAttribute("x","0"),nr.setAttribute("y","0"),nr.setAttribute("externalResourcesRequired","true"),Gn.appendChild(nr),nr.appendChild(Pe),function G(Pe){return K.apply(this,arguments)}(Gn)}),Z.apply(this,arguments)}const J=(Pe,dt)=>{if(Pe instanceof dt)return!0;const vn=Object.getPrototypeOf(Pe);return null!==vn&&(vn.constructor.name===dt.name||J(vn,dt))};function $(Pe,dt,vn){const bn=window.getComputedStyle(Pe,vn),Gn=bn.getPropertyValue("content");if(""===Gn||"none"===Gn)return;const nr=f();try{dt.className=`${dt.className} ${nr}`}catch{return}const er=document.createElement("style");er.appendChild(function Y(Pe,dt,vn){const bn=`.${Pe}:${dt}`,Gn=vn.cssText?function te(Pe){const dt=Pe.getPropertyValue("content");return`${Pe.cssText} content: '${dt.replace(/'|"/g,"")}';`}(vn):function ae(Pe){return x(Pe).map(dt=>`${dt}: ${Pe.getPropertyValue(dt)}${Pe.getPropertyPriority(dt)?" !important":""};`).join(" ")}(vn);return document.createTextNode(`${bn}{${Gn}}`)}(nr,vn,bn)),dt.appendChild(er)}const me="application/font-woff",B="image/jpeg",ce={woff:me,woff2:me,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:B,jpeg:B,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Ue(Pe){const dt=function Oe(Pe){const dt=/\.([^./]*?)$/g.exec(Pe);return dt?dt[1]:""}(Pe).toLowerCase();return ce[dt]||""}function _e(Pe){return-1!==Pe.search(/^(data:)/)}function ht(Pe,dt){return`data:${dt};base64,${Pe}`}function Bt(Pe,dt,vn){return de.apply(this,arguments)}function de(){return(de=(0,i.A)(function*(Pe,dt,vn){const bn=yield fetch(Pe,dt);if(404===bn.status)throw new Error(`Resource "${bn.url}" not found`);const Gn=yield bn.blob();return new Promise((nr,er)=>{const Be=new FileReader;Be.onerror=er,Be.onloadend=()=>{try{nr(vn({res:bn,result:Be.result}))}catch(tt){er(tt)}},Be.readAsDataURL(Gn)})})).apply(this,arguments)}const R={};function he(Pe,dt,vn){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,i.A)(function*(Pe,dt,vn){const bn=function j(Pe,dt,vn){let bn=Pe.replace(/\?.*/,"");return vn&&(bn=Pe),/ttf|otf|eot|woff2?/i.test(bn)&&(bn=bn.replace(/.*\//,"")),dt?`[${dt}]${bn}`:bn}(Pe,dt,vn.includeQueryParams);if(null!=R[bn])return R[bn];let Gn;vn.cacheBust&&(Pe+=(/\?/.test(Pe)?"&":"?")+(new Date).getTime());try{const nr=yield Bt(Pe,vn.fetchRequestInit,({res:er,result:Be})=>(dt||(dt=er.headers.get("Content-Type")||""),function qe(Pe){return Pe.split(/,/)[1]}(Be)));Gn=ht(nr,dt)}catch(nr){Gn=vn.imagePlaceholder||"";let er=`Failed to fetch resource: ${Pe}`;nr&&(er="string"==typeof nr?nr:nr.message),er&&console.warn(er)}return R[bn]=Gn,Gn})).apply(this,arguments)}function pt(){return(pt=(0,i.A)(function*(Pe){const dt=Pe.toDataURL();return"data:,"===dt?Pe.cloneNode(!1):M(dt)})).apply(this,arguments)}function Mn(){return(Mn=(0,i.A)(function*(Pe,dt){if(Pe.currentSrc){const nr=document.createElement("canvas"),er=nr.getContext("2d");return nr.width=Pe.clientWidth,nr.height=Pe.clientHeight,er?.drawImage(Pe,0,0,nr.width,nr.height),M(nr.toDataURL())}const vn=Pe.poster,bn=Ue(vn);return M(yield he(vn,bn,dt))})).apply(this,arguments)}function Ne(){return(Ne=(0,i.A)(function*(Pe){var dt;try{if(null!==(dt=Pe?.contentDocument)&&void 0!==dt&&dt.body)return yield se(Pe.contentDocument.body,{},!0)}catch{}return Pe.cloneNode(!1)})).apply(this,arguments)}function Ot(){return Ot=(0,i.A)(function*(Pe,dt){return J(Pe,HTMLCanvasElement)?function Re(Pe){return pt.apply(this,arguments)}(Pe):J(Pe,HTMLVideoElement)?function zt(Pe,dt){return Mn.apply(this,arguments)}(Pe,dt):J(Pe,HTMLIFrameElement)?function It(Pe){return Ne.apply(this,arguments)}(Pe):Pe.cloneNode(!1)}),Ot.apply(this,arguments)}const re=Pe=>null!=Pe.tagName&&"SLOT"===Pe.tagName.toUpperCase();function F(){return(F=(0,i.A)(function*(Pe,dt,vn){var bn,Gn;let nr=[];return nr=re(Pe)&&Pe.assignedNodes?x(Pe.assignedNodes()):J(Pe,HTMLIFrameElement)&&null!==(bn=Pe.contentDocument)&&void 0!==bn&&bn.body?x(Pe.contentDocument.body.childNodes):x((null!==(Gn=Pe.shadowRoot)&&void 0!==Gn?Gn:Pe).childNodes),0===nr.length||J(Pe,HTMLVideoElement)||(yield nr.reduce((er,Be)=>er.then(()=>se(Be,vn)).then(tt=>{tt&&dt.appendChild(tt)}),Promise.resolve())),dt})).apply(this,arguments)}function Ae(){return(Ae=(0,i.A)(function*(Pe,dt){const vn=Pe.querySelectorAll?Pe.querySelectorAll("use"):[];if(0===vn.length)return Pe;const bn={};for(let nr=0;nr<vn.length;nr++){const Be=vn[nr].getAttribute("xlink:href");if(Be){const tt=Pe.querySelector(Be),un=document.querySelector(Be);!tt&&un&&!bn[Be]&&(bn[Be]=yield se(un,dt,!0))}}const Gn=Object.values(bn);if(Gn.length){const nr="http://www.w3.org/1999/xhtml",er=document.createElementNS(nr,"svg");er.setAttribute("xmlns",nr),er.style.position="absolute",er.style.width="0",er.style.height="0",er.style.overflow="hidden",er.style.display="none";const Be=document.createElementNS(nr,"defs");er.appendChild(Be);for(let tt=0;tt<Gn.length;tt++)Be.appendChild(Gn[tt]);Pe.appendChild(er)}return Pe})).apply(this,arguments)}function se(Pe,dt,vn){return L.apply(this,arguments)}function L(){return L=(0,i.A)(function*(Pe,dt,vn){return vn||!dt.filter||dt.filter(Pe)?Promise.resolve(Pe).then(bn=>function Xe(Pe,dt){return Ot.apply(this,arguments)}(bn,dt)).then(bn=>function D(Pe,dt,vn){return F.apply(this,arguments)}(Pe,bn,dt)).then(bn=>function p(Pe,dt){return J(dt,Element)&&(function T(Pe,dt){const vn=dt.style;if(!vn)return;const bn=window.getComputedStyle(Pe);bn.cssText?(vn.cssText=bn.cssText,vn.transformOrigin=bn.transformOrigin):x(bn).forEach(Gn=>{let nr=bn.getPropertyValue(Gn);"font-size"===Gn&&nr.endsWith("px")&&(nr=Math.floor(parseFloat(nr.substring(0,nr.length-2)))-.1+"px"),J(Pe,HTMLIFrameElement)&&"display"===Gn&&"inline"===nr&&(nr="block"),"d"===Gn&&dt.getAttribute("d")&&(nr=`path(${dt.getAttribute("d")})`),vn.setProperty(Gn,nr,bn.getPropertyPriority(Gn))})}(Pe,dt),function H(Pe,dt){$(Pe,dt,":before"),$(Pe,dt,":after")}(Pe,dt),function W(Pe,dt){J(Pe,HTMLTextAreaElement)&&(dt.innerHTML=Pe.value),J(Pe,HTMLInputElement)&&dt.setAttribute("value",Pe.value)}(Pe,dt),function z(Pe,dt){if(J(Pe,HTMLSelectElement)){const bn=Array.from(dt.children).find(Gn=>Pe.value===Gn.getAttribute("value"));bn&&bn.setAttribute("selected","")}}(Pe,dt)),dt}(Pe,bn)).then(bn=>function I(Pe,dt){return Ae.apply(this,arguments)}(bn,dt)):null}),L.apply(this,arguments)}const ve=/url\((['"]?)([^'"]+?)\1\)/g,ge=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,et=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function je(){return(je=(0,i.A)(function*(Pe,dt,vn,bn,Gn){try{const nr=vn?function u(Pe,dt){if(Pe.match(/^[a-z]+:\/\//i))return Pe;if(Pe.match(/^\/\//))return window.location.protocol+Pe;if(Pe.match(/^[a-z]+:/i))return Pe;const vn=document.implementation.createHTMLDocument(),bn=vn.createElement("base"),Gn=vn.createElement("a");return vn.head.appendChild(bn),vn.body.appendChild(Gn),dt&&(bn.href=dt),Gn.href=Pe,Gn.href}(dt,vn):dt,er=Ue(dt);let Be;return Be=Gn?ht(yield Gn(nr),er):yield he(nr,er,bn),Pe.replace(function Pt(Pe){const dt=Pe.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${dt})(['"]?\\))`,"g")}(dt),`$1${Be}$3`)}catch{}return Pe})).apply(this,arguments)}function ut(Pe){return-1!==Pe.search(ve)}function jt(Pe,dt,vn){return gn.apply(this,arguments)}function gn(){return gn=(0,i.A)(function*(Pe,dt,vn){if(!ut(Pe))return Pe;const bn=function Ht(Pe,{preferredFontFormat:dt}){return dt?Pe.replace(et,vn=>{for(;;){const[bn,,Gn]=ge.exec(vn)||[];if(!Gn)return"";if(Gn===dt)return`src: ${bn};`}}):Pe}(Pe,vn);return function Rt(Pe){const dt=[];return Pe.replace(ve,(vn,bn,Gn)=>(dt.push(Gn),vn)),dt.filter(vn=>!_e(vn))}(bn).reduce((nr,er)=>nr.then(Be=>function ln(Pe,dt,vn,bn,Gn){return je.apply(this,arguments)}(Be,er,dt,vn)),Promise.resolve(bn))}),gn.apply(this,arguments)}function lt(Pe,dt,vn){return bt.apply(this,arguments)}function bt(){return(bt=(0,i.A)(function*(Pe,dt,vn){var bn;const Gn=null===(bn=dt.style)||void 0===bn?void 0:bn.getPropertyValue(Pe);if(Gn){const nr=yield jt(Gn,null,vn);return dt.style.setProperty(Pe,nr,dt.style.getPropertyPriority(Pe)),!0}return!1})).apply(this,arguments)}function ye(){return(ye=(0,i.A)(function*(Pe,dt){(yield lt("background",Pe,dt))||(yield lt("background-image",Pe,dt)),(yield lt("mask",Pe,dt))||(yield lt("mask-image",Pe,dt))})).apply(this,arguments)}function rt(){return(rt=(0,i.A)(function*(Pe,dt){const vn=J(Pe,HTMLImageElement);if((!vn||_e(Pe.src))&&(!J(Pe,SVGImageElement)||_e(Pe.href.baseVal)))return;const bn=vn?Pe.src:Pe.href.baseVal,Gn=yield he(bn,Ue(bn),dt);yield new Promise((nr,er)=>{Pe.onload=nr,Pe.onerror=er;const Be=Pe;Be.decode&&(Be.decode=nr),"lazy"===Be.loading&&(Be.loading="eager"),vn?(Pe.srcset="",Pe.src=Gn):Pe.href.baseVal=Gn})})).apply(this,arguments)}function Dn(){return(Dn=(0,i.A)(function*(Pe,dt){const bn=x(Pe.childNodes).map(Gn=>Jn(Gn,dt));yield Promise.all(bn).then(()=>Pe)})).apply(this,arguments)}function Jn(Pe,dt){return lr.apply(this,arguments)}function lr(){return lr=(0,i.A)(function*(Pe,dt){J(Pe,Element)&&(yield function He(Pe,dt){return ye.apply(this,arguments)}(Pe,dt),yield function mt(Pe,dt){return rt.apply(this,arguments)}(Pe,dt),yield function Kt(Pe,dt){return Dn.apply(this,arguments)}(Pe,dt))}),lr.apply(this,arguments)}const At={};function Et(Pe){return xt.apply(this,arguments)}function xt(){return(xt=(0,i.A)(function*(Pe){let dt=At[Pe];return null!=dt||(dt={url:Pe,cssText:yield(yield fetch(Pe)).text()},At[Pe]=dt),dt})).apply(this,arguments)}function gt(Pe,dt){return tn.apply(this,arguments)}function tn(){return tn=(0,i.A)(function*(Pe,dt){let vn=Pe.cssText;const bn=/url\(["']?([^"')]+)["']?\)/g,nr=(vn.match(/url\([^)]+\)/g)||[]).map(function(){var er=(0,i.A)(function*(Be){let tt=Be.replace(bn,"$1");return tt.startsWith("https://")||(tt=new URL(tt,Pe.url).href),Bt(tt,dt.fetchRequestInit,({result:un})=>(vn=vn.replace(Be,`url(${un})`),[Be,un]))});return function(Be){return er.apply(this,arguments)}}());return Promise.all(nr).then(()=>vn)}),tn.apply(this,arguments)}function Xt(Pe){if(null==Pe)return[];const dt=[];let bn=Pe.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const Gn=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const tt=Gn.exec(bn);if(null===tt)break;dt.push(tt[0])}bn=bn.replace(Gn,"");const nr=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,Be=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let tt=nr.exec(bn);if(null===tt){if(tt=Be.exec(bn),null===tt)break;nr.lastIndex=Be.lastIndex}else Be.lastIndex=nr.lastIndex;dt.push(tt[0])}return dt}function Vt(){return(Vt=(0,i.A)(function*(Pe,dt){const vn=[],bn=[];return Pe.forEach(Gn=>{if("cssRules"in Gn)try{x(Gn.cssRules||[]).forEach((nr,er)=>{if(nr.type===CSSRule.IMPORT_RULE){let Be=er+1;const un=Et(nr.href).then(fr=>gt(fr,dt)).then(fr=>Xt(fr).forEach(Ar=>{try{Gn.insertRule(Ar,Ar.startsWith("@import")?Be+=1:Gn.cssRules.length)}catch(zr){console.error("Error inserting rule from remote css",{rule:Ar,error:zr})}})).catch(fr=>{console.error("Error loading remote css",fr.toString())});bn.push(un)}})}catch(nr){const er=Pe.find(Be=>null==Be.href)||document.styleSheets[0];null!=Gn.href&&bn.push(Et(Gn.href).then(Be=>gt(Be,dt)).then(Be=>Xt(Be).forEach(tt=>{er.insertRule(tt,Gn.cssRules.length)})).catch(Be=>{console.error("Error loading remote stylesheet",Be)})),console.error("Error inlining remote css file",nr)}}),Promise.all(bn).then(()=>(Pe.forEach(Gn=>{if("cssRules"in Gn)try{x(Gn.cssRules||[]).forEach(nr=>{vn.push(nr)})}catch(nr){console.error(`Error while reading CSS rules from ${Gn.href}`,nr)}}),vn))})).apply(this,arguments)}function ke(){return ke=(0,i.A)(function*(Pe,dt){if(null==Pe.ownerDocument)throw new Error("Provided element is not within a Document");const vn=x(Pe.ownerDocument.styleSheets),bn=yield function Ye(Pe,dt){return Vt.apply(this,arguments)}(vn,dt);return function En(Pe){return Pe.filter(dt=>dt.type===CSSRule.FONT_FACE_RULE).filter(dt=>ut(dt.style.getPropertyValue("src")))}(bn)}),ke.apply(this,arguments)}function We(){return We=(0,i.A)(function*(Pe,dt){const vn=yield function it(Pe,dt){return ke.apply(this,arguments)}(Pe,dt);return(yield Promise.all(vn.map(Gn=>jt(Gn.cssText,Gn.parentStyleSheet?Gn.parentStyleSheet.href:null,dt)))).join("\n")}),We.apply(this,arguments)}function wn(){return wn=(0,i.A)(function*(Pe,dt){const vn=null!=dt.fontEmbedCSS?dt.fontEmbedCSS:dt.skipFonts?null:yield function Jt(Pe,dt){return We.apply(this,arguments)}(Pe,dt);if(vn){const bn=document.createElement("style"),Gn=document.createTextNode(vn);bn.appendChild(Gn),Pe.firstChild?Pe.insertBefore(bn,Pe.firstChild):Pe.appendChild(bn)}}),wn.apply(this,arguments)}function dr(){return dr=(0,i.A)(function*(Pe,dt={}){const{width:vn,height:bn}=S(Pe,dt),Gn=yield se(Pe,dt,!0);return yield function Tt(Pe,dt){return wn.apply(this,arguments)}(Gn,dt),yield Jn(Gn,dt),function an(Pe,dt){const{style:vn}=Pe;dt.backgroundColor&&(vn.backgroundColor=dt.backgroundColor),dt.width&&(vn.width=`${dt.width}px`),dt.height&&(vn.height=`${dt.height}px`);const bn=dt.style;null!=bn&&Object.keys(bn).forEach(Gn=>{vn[Gn]=bn[Gn]})}(Gn,dt),yield function V(Pe,dt,vn){return Z.apply(this,arguments)}(Gn,vn,bn)}),dr.apply(this,arguments)}function sr(Pe){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,i.A)(function*(Pe,dt={}){const{width:vn,height:bn}=S(Pe,dt),Gn=yield function In(Pe){return dr.apply(this,arguments)}(Pe,dt),nr=yield M(Gn),er=document.createElement("canvas"),Be=er.getContext("2d"),tt=dt.pixelRatio||function U(){let Pe,dt;try{dt=process}catch{}const vn=dt&&dt.env?dt.env.devicePixelRatio:null;return vn&&(Pe=parseInt(vn,10),Number.isNaN(Pe)&&(Pe=1)),Pe||window.devicePixelRatio||1}(),un=dt.canvasWidth||vn,fr=dt.canvasHeight||bn;return er.width=un*tt,er.height=fr*tt,dt.skipAutoScale||function y(Pe){(Pe.width>P||Pe.height>P)&&(Pe.width>P&&Pe.height>P?Pe.width>Pe.height?(Pe.height*=P/Pe.width,Pe.width=P):(Pe.width*=P/Pe.height,Pe.height=P):Pe.width>P?(Pe.height*=P/Pe.width,Pe.width=P):(Pe.width*=P/Pe.height,Pe.height=P))}(er),er.style.width=`${un}`,er.style.height=`${fr}`,dt.backgroundColor&&(Be.fillStyle=dt.backgroundColor,Be.fillRect(0,0,er.width,er.height)),Be.drawImage(nr,0,0,er.width,er.height),er}),Gr.apply(this,arguments)}},5114:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{KTX2Container:()=>P,read:()=>K,write:()=>J});const i=new Uint8Array([0]),u=[171,75,84,88,32,50,48,187,13,10,26,10];var f,C,x,w,d,k,S,U,te;(te=f||(f={}))[te.NONE=0]="NONE",te[te.BASISLZ=1]="BASISLZ",te[te.ZSTD=2]="ZSTD",te[te.ZLIB=3]="ZLIB",function(te){te[te.BASICFORMAT=0]="BASICFORMAT"}(C||(C={})),function(te){te[te.UNSPECIFIED=0]="UNSPECIFIED",te[te.ETC1S=163]="ETC1S",te[te.UASTC=166]="UASTC"}(x||(x={})),function(te){te[te.UNSPECIFIED=0]="UNSPECIFIED",te[te.SRGB=1]="SRGB"}(w||(w={})),function(te){te[te.UNSPECIFIED=0]="UNSPECIFIED",te[te.LINEAR=1]="LINEAR",te[te.SRGB=2]="SRGB",te[te.ITU=3]="ITU",te[te.NTSC=4]="NTSC",te[te.SLOG=5]="SLOG",te[te.SLOG2=6]="SLOG2"}(d||(d={})),function(te){te[te.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",te[te.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(k||(k={})),function(te){te[te.RGB=0]="RGB",te[te.RRR=3]="RRR",te[te.GGG=4]="GGG",te[te.AAA=15]="AAA"}(S||(S={})),function(te){te[te.RGB=0]="RGB",te[te.RGBA=3]="RGBA",te[te.RRR=4]="RRR",te[te.RRRG=5]="RRRG"}(U||(U={}));class P{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=f.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:C.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:x.UNSPECIFIED,colorPrimaries:w.SRGB,transferFunction:w.SRGB,flags:k.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null}}class y{constructor(ae,Y,$,H){this._dataView=new DataView(ae.buffer,ae.byteOffset+Y,$),this._littleEndian=H,this._offset=0}_nextUint8(){const ae=this._dataView.getUint8(this._offset);return this._offset+=1,ae}_nextUint16(){const ae=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,ae}_nextUint32(){const ae=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,ae}_nextUint64(){const ae=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,ae}_skip(ae){return this._offset+=ae,this}_scan(ae,Y=0){const $=this._offset;let H=0;for(;this._dataView.getUint8(this._offset)!==Y&&H<ae;)H++,this._offset++;return H<ae&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+$,H)}}function v(te){return typeof TextEncoder<"u"?(new TextEncoder).encode(te):Buffer.from(te)}function M(te){return typeof TextDecoder<"u"?(new TextDecoder).decode(te):Buffer.from(te).toString("utf8")}function G(te){let ae=0;for(const H of te)ae+=H.byteLength;const Y=new Uint8Array(ae);let $=0;for(const H of te)Y.set(new Uint8Array(H),$),$+=H.byteLength;return Y}function K(te){const ae=new Uint8Array(te.buffer,te.byteOffset,u.length);if(ae[0]!==u[0]||ae[1]!==u[1]||ae[2]!==u[2]||ae[3]!==u[3]||ae[4]!==u[4]||ae[5]!==u[5]||ae[6]!==u[6]||ae[7]!==u[7]||ae[8]!==u[8]||ae[9]!==u[9]||ae[10]!==u[10]||ae[11]!==u[11])throw new Error("Missing KTX 2.0 identifier.");const Y=new P,$=17*Uint32Array.BYTES_PER_ELEMENT,H=new y(te,u.length,$,!0);Y.vkFormat=H._nextUint32(),Y.typeSize=H._nextUint32(),Y.pixelWidth=H._nextUint32(),Y.pixelHeight=H._nextUint32(),Y.pixelDepth=H._nextUint32(),Y.layerCount=H._nextUint32(),Y.faceCount=H._nextUint32();const me=H._nextUint32();Y.supercompressionScheme=H._nextUint32();const B=H._nextUint32(),ce=H._nextUint32(),Oe=H._nextUint32(),Ue=H._nextUint32(),qe=H._nextUint64(),_e=H._nextUint64(),ht=new y(te,u.length+$,3*me*8,!0);for(let p=0;p<me;p++)Y.levels.push({levelData:new Uint8Array(te.buffer,te.byteOffset+ht._nextUint64(),ht._nextUint64()),uncompressedByteLength:ht._nextUint64()});const Bt=new y(te,B,ce,!0),de={vendorId:Bt._skip(4)._nextUint16(),descriptorType:Bt._nextUint16(),versionNumber:Bt._nextUint16(),descriptorBlockSize:Bt._nextUint16(),colorModel:Bt._nextUint8(),colorPrimaries:Bt._nextUint8(),transferFunction:Bt._nextUint8(),flags:Bt._nextUint8(),texelBlockDimension:{x:Bt._nextUint8()+1,y:Bt._nextUint8()+1,z:Bt._nextUint8()+1,w:Bt._nextUint8()+1},bytesPlane:[Bt._nextUint8(),Bt._nextUint8(),Bt._nextUint8(),Bt._nextUint8(),Bt._nextUint8(),Bt._nextUint8(),Bt._nextUint8(),Bt._nextUint8()],samples:[]},R=(de.descriptorBlockSize/4-6)/4;for(let p=0;p<R;p++)de.samples[p]={bitOffset:Bt._nextUint16(),bitLength:Bt._nextUint8(),channelID:Bt._nextUint8(),samplePosition:[Bt._nextUint8(),Bt._nextUint8(),Bt._nextUint8(),Bt._nextUint8()],sampleLower:Bt._nextUint32(),sampleUpper:Bt._nextUint32()};Y.dataFormatDescriptor.length=0,Y.dataFormatDescriptor.push(de);const j=new y(te,Oe,Ue,!0);for(;j._offset<Ue;){const p=j._nextUint32(),I=j._scan(p),Ae=M(I),se=j._scan(p-I.byteLength);Y.keyValue[Ae]=Ae.match(/^ktx/i)?M(se):se,p%4&&j._skip(4-p%4)}if(_e<=0)return Y;const he=new y(te,qe,_e,!0),Ce=he._nextUint16(),Re=he._nextUint16(),pt=he._nextUint32(),zt=he._nextUint32(),Mn=he._nextUint32(),It=he._nextUint32(),Ne=[];for(let p=0;p<me;p++)Ne.push({imageFlags:he._nextUint32(),rgbSliceByteOffset:he._nextUint32(),rgbSliceByteLength:he._nextUint32(),alphaSliceByteOffset:he._nextUint32(),alphaSliceByteLength:he._nextUint32()});const Xe=qe+he._offset,Ot=Xe+pt,re=Ot+zt,D=re+Mn,F=new Uint8Array(te.buffer,te.byteOffset+Xe,pt),T=new Uint8Array(te.buffer,te.byteOffset+Ot,zt),W=new Uint8Array(te.buffer,te.byteOffset+re,Mn),z=new Uint8Array(te.buffer,te.byteOffset+D,It);return Y.globalData={endpointCount:Ce,selectorCount:Re,imageDescs:Ne,endpointsData:F,selectorsData:T,tablesData:W,extendedData:z},Y}function V(){return(V=Object.assign||function(te){for(var ae=1;ae<arguments.length;ae++){var Y=arguments[ae];for(var $ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&(te[$]=Y[$])}return te}).apply(this,arguments)}const Z={keepWriter:!1};function J(te,ae={}){ae=V({},Z,ae);let Y=new ArrayBuffer(0);if(te.globalData){const he=new ArrayBuffer(20+5*te.globalData.imageDescs.length*4),Ce=new DataView(he);Ce.setUint16(0,te.globalData.endpointCount,!0),Ce.setUint16(2,te.globalData.selectorCount,!0),Ce.setUint32(4,te.globalData.endpointsData.byteLength,!0),Ce.setUint32(8,te.globalData.selectorsData.byteLength,!0),Ce.setUint32(12,te.globalData.tablesData.byteLength,!0),Ce.setUint32(16,te.globalData.extendedData.byteLength,!0);for(let Re=0;Re<te.globalData.imageDescs.length;Re++){const pt=te.globalData.imageDescs[Re];Ce.setUint32(20+5*Re*4+0,pt.imageFlags,!0),Ce.setUint32(20+5*Re*4+4,pt.rgbSliceByteOffset,!0),Ce.setUint32(20+5*Re*4+8,pt.rgbSliceByteLength,!0),Ce.setUint32(20+5*Re*4+12,pt.alphaSliceByteOffset,!0),Ce.setUint32(20+5*Re*4+16,pt.alphaSliceByteLength,!0)}Y=G([he,te.globalData.endpointsData,te.globalData.selectorsData,te.globalData.tablesData,te.globalData.extendedData])}const $=[];let H=te.keyValue;ae.keepWriter||(H=V({},te.keyValue,{KTXwriter:"KTX-Parse v0.0.4"}));for(const he in H){const Ce=H[he],Re=v(he),pt="string"==typeof Ce?v(Ce):Ce,zt=Re.byteLength+1+pt.byteLength+1,Mn=zt%4?4-zt%4:0;$.push(G([new Uint32Array([zt]),Re,i,pt,i,new Uint8Array(Mn).fill(0)]))}const me=G($),B=new ArrayBuffer(44),ce=new DataView(B);if(1!==te.dataFormatDescriptor.length||te.dataFormatDescriptor[0].descriptorType!==C.BASICFORMAT)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const Oe=te.dataFormatDescriptor[0];ce.setUint32(0,44,!0),ce.setUint16(4,Oe.vendorId,!0),ce.setUint16(6,Oe.descriptorType,!0),ce.setUint16(8,Oe.versionNumber,!0),ce.setUint16(10,Oe.descriptorBlockSize,!0),ce.setUint8(12,Oe.colorModel),ce.setUint8(13,Oe.colorPrimaries),ce.setUint8(14,Oe.transferFunction),ce.setUint8(15,Oe.flags),ce.setUint8(16,Oe.texelBlockDimension.x-1),ce.setUint8(17,Oe.texelBlockDimension.y-1),ce.setUint8(18,Oe.texelBlockDimension.z-1),ce.setUint8(19,Oe.texelBlockDimension.w-1);for(let he=0;he<8;he++)ce.setUint8(20+he,Oe.bytesPlane[he]);for(let he=0;he<Oe.samples.length;he++){const Ce=Oe.samples[he],Re=28+16*he;ce.setUint16(Re+0,Ce.bitOffset,!0),ce.setUint8(Re+2,Ce.bitLength),ce.setUint8(Re+3,Ce.channelID),ce.setUint8(Re+4,Ce.samplePosition[0]),ce.setUint8(Re+5,Ce.samplePosition[1]),ce.setUint8(Re+6,Ce.samplePosition[2]),ce.setUint8(Re+7,Ce.samplePosition[3]),ce.setUint32(Re+8,Ce.sampleLower,!0),ce.setUint32(Re+12,Ce.sampleUpper,!0)}const Ue=u.length+68+3*te.levels.length*8,qe=Ue+B.byteLength;let _e=qe+me.byteLength;_e%8&&(_e+=8-_e%8);const ht=[],Bt=new DataView(new ArrayBuffer(3*te.levels.length*8));let de=_e+Y.byteLength;for(let he=0;he<te.levels.length;he++){const Ce=te.levels[he];ht.push(Ce.levelData),Bt.setBigUint64(24*he+0,BigInt(de),!0),Bt.setBigUint64(24*he+8,BigInt(Ce.levelData.byteLength),!0),Bt.setBigUint64(24*he+16,BigInt(Ce.uncompressedByteLength),!0),de+=Ce.levelData.byteLength}const R=new ArrayBuffer(68),j=new DataView(R);return j.setUint32(0,te.vkFormat,!0),j.setUint32(4,te.typeSize,!0),j.setUint32(8,te.pixelWidth,!0),j.setUint32(12,te.pixelHeight,!0),j.setUint32(16,te.pixelDepth,!0),j.setUint32(20,te.layerCount,!0),j.setUint32(24,te.faceCount,!0),j.setUint32(28,te.levels.length,!0),j.setUint32(32,te.supercompressionScheme,!0),j.setUint32(36,Ue,!0),j.setUint32(40,B.byteLength,!0),j.setUint32(44,qe,!0),j.setUint32(48,me.byteLength,!0),j.setBigUint64(52,BigInt(_e),!0),j.setBigUint64(60,BigInt(Y.byteLength),!0),new Uint8Array(G([new Uint8Array(u).buffer,R,Bt.buffer,B,me,new ArrayBuffer(_e-(qe+me.byteLength)),Y,...ht]))}},49204:function(en,Ve,E){var i;en=E.nmd(en),function(){var u,w="Expected a function",k="__lodash_hash_undefined__",U="__lodash_placeholder__",$=128,Bt=1/0,de=9007199254740991,j=NaN,he=4294967295,pt=[["ary",$],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],zt="[object Arguments]",Mn="[object Array]",Ne="[object Boolean]",Xe="[object Date]",re="[object Error]",D="[object Function]",F="[object GeneratorFunction]",T="[object Map]",W="[object Number]",p="[object Object]",I="[object Promise]",se="[object RegExp]",L="[object Set]",ve="[object String]",ge="[object Symbol]",Pt="[object WeakMap]",ln="[object ArrayBuffer]",je="[object DataView]",Ht="[object Float32Array]",ut="[object Float64Array]",jt="[object Int8Array]",gn="[object Int16Array]",lt="[object Int32Array]",bt="[object Uint8Array]",He="[object Uint8ClampedArray]",ye="[object Uint16Array]",mt="[object Uint32Array]",rt=/\b__p \+= '';/g,Kt=/\b(__p \+=) '' \+/g,Dn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jn=/&(?:amp|lt|gt|quot|#39);/g,lr=/[&<>"']/g,an=RegExp(Jn.source),At=RegExp(lr.source),Et=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,gt=/<%=([\s\S]+?)%>/g,tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xt=/^\w*$/,Ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vt=/[\\^$.*+?()[\]{}|]/g,En=RegExp(Vt.source),it=/^\s+/,ke=/\s/,Jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,We=/\{\n\/\* \[wrapped with (.+)\] \*/,Tt=/,? & /,wn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,In=/[()=,{}\[\]\/\s]/,dr=/\\(\\)?/g,sr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gr=/\w*$/,hi=/^[-+]0x[0-9a-f]+$/i,Ei=/^0b[01]+$/i,fi=/^\[object .+?Constructor\]$/,co=/^0o[0-7]+$/i,uo=/^(?:0|[1-9]\d*)$/,Pi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ti=/($^)/,mr=/['\n\r\u2028\u2029\\]/g,Li="\\ud800-\\udfff",vn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",bn="\\u2700-\\u27bf",Gn="a-z\\xdf-\\xf6\\xf8-\\xff",un="A-Z\\xc0-\\xd6\\xd8-\\xde",fr="\\ufe0e\\ufe0f",Ar="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",si="["+Li+"]",Ti="["+Ar+"]",ni="["+vn+"]",ai="\\d+",Oi="["+bn+"]",so="["+Gn+"]",wo="[^"+Li+Ar+ai+bn+Gn+un+"]",eo="\\ud83c[\\udffb-\\udfff]",$n="[^"+Li+"]",fn="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+un+"]",Wn="(?:"+so+"|"+wo+")",Ir="(?:"+Dt+"|"+wo+")",Zr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",io="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Hi="(?:"+ni+"|"+eo+")?",_o="["+fr+"]?",Ws=_o+Hi+"(?:\\u200d(?:"+[$n,fn,ze].join("|")+")"+_o+Hi+")*",ms="(?:"+[Oi,fn,ze].join("|")+")"+Ws,zo="(?:"+[$n+ni+"?",ni,fn,ze,si].join("|")+")",Zo=RegExp("['\u2019]","g"),os=RegExp(ni,"g"),ns=RegExp(eo+"(?="+eo+")|"+zo+Ws,"g"),Rs=RegExp([Dt+"?"+so+"+"+Zr+"(?="+[Ti,Dt,"$"].join("|")+")",Ir+"+"+io+"(?="+[Ti,Dt+Wn,"$"].join("|")+")",Dt+"?"+Wn+"+"+Zr,Dt+"+"+io,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ai,ms].join("|"),"g"),ar=RegExp("[\\u200d"+Li+vn+fr+"]"),ur=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mi=-1,Ri={};Ri[Ht]=Ri[ut]=Ri[jt]=Ri[gn]=Ri[lt]=Ri[bt]=Ri[He]=Ri[ye]=Ri[mt]=!0,Ri[zt]=Ri[Mn]=Ri[ln]=Ri[Ne]=Ri[je]=Ri[Xe]=Ri[re]=Ri[D]=Ri[T]=Ri[W]=Ri[p]=Ri[se]=Ri[L]=Ri[ve]=Ri[Pt]=!1;var zi={};zi[zt]=zi[Mn]=zi[ln]=zi[je]=zi[Ne]=zi[Xe]=zi[Ht]=zi[ut]=zi[jt]=zi[gn]=zi[lt]=zi[T]=zi[W]=zi[p]=zi[se]=zi[L]=zi[ve]=zi[ge]=zi[bt]=zi[He]=zi[ye]=zi[mt]=!0,zi[re]=zi[D]=zi[Pt]=!1;var No={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ls=parseFloat,Ns=parseInt,ys="object"==typeof global&&global&&global.Object===Object&&global,Os="object"==typeof self&&self&&self.Object===Object&&self,qo=ys||Os||Function("return this")(),Gs=Ve&&!Ve.nodeType&&Ve,Lo=Gs&&en&&!en.nodeType&&en,pa=Lo&&Lo.exports===Gs,ca=pa&&ys.process,Ms=function(){try{return Lo&&Lo.require&&Lo.require("util").types||ca&&ca.binding&&ca.binding("util")}catch{}}(),Ks=Ms&&Ms.isArrayBuffer,Ds=Ms&&Ms.isDate,cs=Ms&&Ms.isMap,ua=Ms&&Ms.isRegExp,tr=Ms&&Ms.isSet,pr=Ms&&Ms.isTypedArray;function xr(Hn,br,kn){switch(kn.length){case 0:return Hn.call(br);case 1:return Hn.call(br,kn[0]);case 2:return Hn.call(br,kn[0],kn[1]);case 3:return Hn.call(br,kn[0],kn[1],kn[2])}return Hn.apply(br,kn)}function Pr(Hn,br,kn,rr){for(var Xr=-1,mi=null==Hn?0:Hn.length;++Xr<mi;){var Yi=Hn[Xr];br(rr,Yi,kn(Yi),Hn)}return rr}function Bi(Hn,br){for(var kn=-1,rr=null==Hn?0:Hn.length;++kn<rr&&!1!==br(Hn[kn],kn,Hn););return Hn}function ot(Hn,br){for(var kn=null==Hn?0:Hn.length;kn--&&!1!==br(Hn[kn],kn,Hn););return Hn}function xn(Hn,br){for(var kn=-1,rr=null==Hn?0:Hn.length;++kn<rr;)if(!br(Hn[kn],kn,Hn))return!1;return!0}function Wt(Hn,br){for(var kn=-1,rr=null==Hn?0:Hn.length,Xr=0,mi=[];++kn<rr;){var Yi=Hn[kn];br(Yi,kn,Hn)&&(mi[Xr++]=Yi)}return mi}function hn(Hn,br){return!(null==Hn||!Hn.length)&&vo(Hn,br,0)>-1}function $e(Hn,br,kn){for(var rr=-1,Xr=null==Hn?0:Hn.length;++rr<Xr;)if(kn(br,Hn[rr]))return!0;return!1}function Nt(Hn,br){for(var kn=-1,rr=null==Hn?0:Hn.length,Xr=Array(rr);++kn<rr;)Xr[kn]=br(Hn[kn],kn,Hn);return Xr}function nn(Hn,br){for(var kn=-1,rr=br.length,Xr=Hn.length;++kn<rr;)Hn[Xr+kn]=br[kn];return Hn}function Zn(Hn,br,kn,rr){var Xr=-1,mi=null==Hn?0:Hn.length;for(rr&&mi&&(kn=Hn[++Xr]);++Xr<mi;)kn=br(kn,Hn[Xr],Xr,Hn);return kn}function Er(Hn,br,kn,rr){var Xr=null==Hn?0:Hn.length;for(rr&&Xr&&(kn=Hn[--Xr]);Xr--;)kn=br(kn,Hn[Xr],Xr,Hn);return kn}function Cr(Hn,br){for(var kn=-1,rr=null==Hn?0:Hn.length;++kn<rr;)if(br(Hn[kn],kn,Hn))return!0;return!1}var Kr=Qe("length");function ri(Hn,br,kn){var rr;return kn(Hn,function(Xr,mi,Yi){if(br(Xr,mi,Yi))return rr=mi,!1}),rr}function Xi(Hn,br,kn,rr){for(var Xr=Hn.length,mi=kn+(rr?1:-1);rr?mi--:++mi<Xr;)if(br(Hn[mi],mi,Hn))return mi;return-1}function vo(Hn,br,kn){return br==br?function Lt(Hn,br,kn){for(var rr=kn-1,Xr=Hn.length;++rr<Xr;)if(Hn[rr]===br)return rr;return-1}(Hn,br,kn):Xi(Hn,Ao,kn)}function ko(Hn,br,kn,rr){for(var Xr=kn-1,mi=Hn.length;++Xr<mi;)if(rr(Hn[Xr],br))return Xr;return-1}function Ao(Hn){return Hn!=Hn}function st(Hn,br){var kn=null==Hn?0:Hn.length;return kn?St(Hn,br)/kn:j}function Qe(Hn){return function(br){return null==br?u:br[Hn]}}function dn(Hn){return function(br){return null==Hn?u:Hn[br]}}function ft(Hn,br,kn,rr,Xr){return Xr(Hn,function(mi,Yi,Gi){kn=rr?(rr=!1,mi):br(kn,mi,Yi,Gi)}),kn}function St(Hn,br){for(var kn,rr=-1,Xr=Hn.length;++rr<Xr;){var mi=br(Hn[rr]);mi!==u&&(kn=kn===u?mi:kn+mi)}return kn}function cn(Hn,br){for(var kn=-1,rr=Array(Hn);++kn<Hn;)rr[kn]=br(kn);return rr}function wt(Hn){return Hn&&Hn.slice(0,cr(Hn)+1).replace(it,"")}function Q(Hn){return function(br){return Hn(br)}}function be(Hn,br){return Nt(br,function(kn){return Hn[kn]})}function Ke(Hn,br){return Hn.has(br)}function $t(Hn,br){for(var kn=-1,rr=Hn.length;++kn<rr&&vo(br,Hn[kn],0)>-1;);return kn}function Sn(Hn,br){for(var kn=Hn.length;kn--&&vo(br,Hn[kn],0)>-1;);return kn}var yr=dn({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Vr=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ci(Hn){return"\\"+No[Hn]}function Lr(Hn){return ar.test(Hn)}function Ui(Hn){var br=-1,kn=Array(Hn.size);return Hn.forEach(function(rr,Xr){kn[++br]=[Xr,rr]}),kn}function pe(Hn,br){return function(kn){return Hn(br(kn))}}function le(Hn,br){for(var kn=-1,rr=Hn.length,Xr=0,mi=[];++kn<rr;){var Yi=Hn[kn];(Yi===br||Yi===U)&&(Hn[kn]=U,mi[Xr++]=kn)}return mi}function Ge(Hn){var br=-1,kn=Array(Hn.size);return Hn.forEach(function(rr){kn[++br]=rr}),kn}function Bn(Hn){return Lr(Hn)?function Sr(Hn){for(var br=ns.lastIndex=0;ns.test(Hn);)++br;return br}(Hn):Kr(Hn)}function hr(Hn){return Lr(Hn)?function Wr(Hn){return Hn.match(ns)||[]}(Hn):function $r(Hn){return Hn.split("")}(Hn)}function cr(Hn){for(var br=Hn.length;br--&&ke.test(Hn.charAt(br)););return br}var kr=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wi=function Hn(br){var l,kn=(br=null==br?qo:Wi.defaults(qo.Object(),br,Wi.pick(qo,jr))).Array,rr=br.Date,Xr=br.Error,mi=br.Function,Yi=br.Math,Gi=br.Object,Vi=br.RegExp,Yo=br.String,Ni=br.TypeError,zs=kn.prototype,Jo=Gi.prototype,Cs=br["__core-js_shared__"],rs=mi.prototype.toString,Yt=Jo.hasOwnProperty,De=0,ct=(l=/[^.]+$/.exec(Cs&&Cs.keys&&Cs.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",kt=Jo.toString,mn=rs.call(Gi),zn=qo._,ir=Vi("^"+rs.call(Yt).replace(Vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),li=pa?br.Buffer:u,ji=br.Symbol,ho=br.Uint8Array,go=li?li.allocUnsafe:u,Fo=pe(Gi.getPrototypeOf,Gi),ss=Gi.create,oa=Jo.propertyIsEnumerable,Ca=zs.splice,xe=ji?ji.isConcatSpreadable:u,vt=ji?ji.iterator:u,Nn=ji?ji.toStringTag:u,Ze=function(){try{var l=il(Gi,"defineProperty");return l({},"",{}),l}catch{}}(),Tn=br.clearTimeout!==qo.clearTimeout&&br.clearTimeout,vr=rr&&rr.now!==qo.Date.now&&rr.now,_i=br.setTimeout!==qo.setTimeout&&br.setTimeout,ao=Yi.ceil,gs=Yi.floor,ds=Gi.getOwnPropertySymbols,us=li?li.isBuffer:u,hs=br.isFinite,na=zs.join,bs=pe(Gi.keys,Gi),Ho=Yi.max,$o=Yi.min,no=rr.now,Do=br.parseInt,Ls=Yi.random,va=zs.reverse,Qs=il(br,"DataView"),ha=il(br,"Map"),Ua=il(br,"Promise"),Ps=il(br,"Set"),fa=il(br,"WeakMap"),xa=il(Gi,"create"),Xo=fa&&new fa,tl={},Al=Nl(Qs),Cc=Nl(ha),Aa=Nl(Ua),od=Nl(Ps),Ac=Nl(fa),Wa=ji?ji.prototype:u,Ml=Wa?Wa.valueOf:u,dc=Wa?Wa.toString:u;function Cn(l){if(po(l)&&!qn(l)&&!(l instanceof ks)){if(l instanceof jo)return l;if(Yt.call(l,"__wrapped__"))return _c(l)}return new jo(l)}var Vl=function(){function l(){}return function(b){if(!vi(b))return{};if(ss)return ss(b);l.prototype=b;var oe=new l;return l.prototype=u,oe}}();function gl(){}function jo(l,b){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=u}function ks(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function cl(l){var b=-1,oe=null==l?0:l.length;for(this.clear();++b<oe;){var nt=l[b];this.set(nt[0],nt[1])}}function Ga(l){var b=-1,oe=null==l?0:l.length;for(this.clear();++b<oe;){var nt=l[b];this.set(nt[0],nt[1])}}function dl(l){var b=-1,oe=null==l?0:l.length;for(this.clear();++b<oe;){var nt=l[b];this.set(nt[0],nt[1])}}function Xl(l){var b=-1,oe=null==l?0:l.length;for(this.__data__=new dl;++b<oe;)this.add(l[b])}function Je(l){var b=this.__data__=new Ga(l);this.size=b.size}function Ji(l,b){var oe=qn(l),nt=!oe&&_r(l),on=!oe&&!nt&&bi(l),Vn=!oe&&!nt&&!on&&ic(l),gr=oe||nt||on||Vn,Dr=gr?cn(l.length,Yo):[],Qr=Dr.length;for(var Qi in l)(b||Yt.call(l,Qi))&&(!gr||!("length"==Qi||on&&("offset"==Qi||"parent"==Qi)||Vn&&("buffer"==Qi||"byteLength"==Qi||"byteOffset"==Qi)||gc(Qi,Qr)))&&Dr.push(Qi);return Dr}function Di(l){var b=l.length;return b?l[rl(0,b-1)]:u}function Wo(l,b){return ec(ja(l),Tc(b,0,l.length))}function $s(l){return ec(ja(l))}function xs(l,b,oe){(oe!==u&&!An(l[b],oe)||oe===u&&!(b in l))&&ul(l,b,oe)}function ia(l,b,oe){var nt=l[b];(!Yt.call(l,b)||!An(nt,oe)||oe===u&&!(b in l))&&ul(l,b,oe)}function ea(l,b){for(var oe=l.length;oe--;)if(An(l[oe][0],b))return oe;return-1}function ma(l,b,oe,nt){return Na(l,function(on,Vn,gr){b(nt,on,oe(on),gr)}),nt}function uc(l,b){return l&&Ma(b,Ja(b),l)}function ul(l,b,oe){"__proto__"==b&&Ze?Ze(l,b,{configurable:!0,enumerable:!0,value:oe,writable:!0}):l[b]=oe}function xd(l,b){for(var oe=-1,nt=b.length,on=kn(nt),Vn=null==l;++oe<nt;)on[oe]=Vn?u:sh(l,b[oe]);return on}function Tc(l,b,oe){return l==l&&(oe!==u&&(l=l<=oe?l:oe),b!==u&&(l=l>=b?l:b)),l}function vl(l,b,oe,nt,on,Vn){var gr,Dr=1&b,Qr=2&b,Qi=4&b;if(oe&&(gr=on?oe(l,nt,on,Vn):oe(l)),gr!==u)return gr;if(!vi(l))return l;var Ki=qn(l);if(Ki){if(gr=function rm(l){var b=l.length,oe=new l.constructor(b);return b&&"string"==typeof l[0]&&Yt.call(l,"index")&&(oe.index=l.index,oe.input=l.input),oe}(l),!Dr)return ja(l,gr)}else{var lo=Qa(l),So=lo==D||lo==F;if(bi(l))return Bu(l,Dr);if(lo==p||lo==zt||So&&!on){if(gr=Qr||So?{}:Th(l),!Dr)return Qr?function xh(l,b){return Ma(l,Gu(l),b)}(l,function Ka(l,b){return l&&Ma(b,ol(b),l)}(gr,l)):function Af(l,b){return Ma(l,Hu(l),b)}(l,uc(gr,l))}else{if(!zi[lo])return on?l:{};gr=function Sh(l,b,oe){var nt=l.constructor;switch(b){case ln:return tu(l);case Ne:case Xe:return new nt(+l);case je:return function em(l,b){var oe=b?tu(l.buffer):l.buffer;return new l.constructor(oe,l.byteOffset,l.byteLength)}(l,oe);case Ht:case ut:case jt:case gn:case lt:case bt:case He:case ye:case mt:return Zc(l,oe);case T:return new nt;case W:case ve:return new nt(l);case se:return function Cf(l){var b=new l.constructor(l.source,Gr.exec(l));return b.lastIndex=l.lastIndex,b}(l);case L:return new nt;case ge:return function Nu(l){return Ml?Gi(Ml.call(l)):{}}(l)}}(l,lo,Dr)}}Vn||(Vn=new Je);var Go=Vn.get(l);if(Go)return Go;Vn.set(l,gr),yc(l)?l.forEach(function(Ko){gr.add(vl(Ko,b,oe,Ko,l,Vn))}):la(l)&&l.forEach(function(Ko,Js){gr.set(Js,vl(Ko,b,oe,Js,l,Vn))});var Ys=Ki?u:(Qi?Qr?Dh:iu:Qr?ol:Ja)(l);return Bi(Ys||l,function(Ko,Js){Ys&&(Ko=l[Js=Ko]),ia(gr,Js,vl(Ko,b,oe,Js,l,Vn))}),gr}function Yl(l,b,oe){var nt=oe.length;if(null==l)return!nt;for(l=Gi(l);nt--;){var on=oe[nt],gr=l[on];if(gr===u&&!(on in l)||!(0,b[on])(gr))return!1}return!0}function Sc(l,b,oe){if("function"!=typeof l)throw new Ni(w);return Rd(function(){l.apply(u,oe)},b)}function Ic(l,b,oe,nt){var on=-1,Vn=hn,gr=!0,Dr=l.length,Qr=[],Qi=b.length;if(!Dr)return Qr;oe&&(b=Nt(b,Q(oe))),nt?(Vn=$e,gr=!1):b.length>=200&&(Vn=Ke,gr=!1,b=new Xl(b));e:for(;++on<Dr;){var Ki=l[on],lo=null==oe?Ki:oe(Ki);if(Ki=nt||0!==Ki?Ki:0,gr&&lo==lo){for(var So=Qi;So--;)if(b[So]===lo)continue e;Qr.push(Ki)}else Vn(b,lo,nt)||Qr.push(Ki)}return Qr}Cn.templateSettings={escape:Et,evaluate:xt,interpolate:gt,variable:"",imports:{_:Cn}},(Cn.prototype=gl.prototype).constructor=Cn,(jo.prototype=Vl(gl.prototype)).constructor=jo,(ks.prototype=Vl(gl.prototype)).constructor=ks,cl.prototype.clear=function Da(){this.__data__=xa?xa(null):{},this.size=0},cl.prototype.delete=function Mc(l){var b=this.has(l)&&delete this.__data__[l];return this.size-=b?1:0,b},cl.prototype.get=function Ba(l){var b=this.__data__;if(xa){var oe=b[l];return oe===k?u:oe}return Yt.call(b,l)?b[l]:u},cl.prototype.has=function Oa(l){var b=this.__data__;return xa?b[l]!==u:Yt.call(b,l)},cl.prototype.set=function Dl(l,b){var oe=this.__data__;return this.size+=this.has(l)?0:1,oe[l]=xa&&b===u?k:b,this},Ga.prototype.clear=function _s(){this.__data__=[],this.size=0},Ga.prototype.delete=function nl(l){var b=this.__data__,oe=ea(b,l);return!(oe<0||(oe==b.length-1?b.pop():Ca.call(b,oe,1),--this.size,0))},Ga.prototype.get=function Kc(l){var b=this.__data__,oe=ea(b,l);return oe<0?u:b[oe][1]},Ga.prototype.has=function _l(l){return ea(this.__data__,l)>-1},Ga.prototype.set=function Xc(l,b){var oe=this.__data__,nt=ea(oe,l);return nt<0?(++this.size,oe.push([l,b])):oe[nt][1]=b,this},dl.prototype.clear=function ra(){this.size=0,this.__data__={hash:new cl,map:new(ha||Ga),string:new cl}},dl.prototype.delete=function Yc(l){var b=mc(this,l).delete(l);return this.size-=b?1:0,b},dl.prototype.get=function Dc(l){return mc(this,l).get(l)},dl.prototype.has=function ad(l){return mc(this,l).has(l)},dl.prototype.set=function es(l,b){var oe=mc(this,l),nt=oe.size;return oe.set(l,b),this.size+=oe.size==nt?0:1,this},Xl.prototype.add=Xl.prototype.push=function ue(l){return this.__data__.set(l,k),this},Xl.prototype.has=function Ie(l){return this.__data__.has(l)},Je.prototype.clear=function Se(){this.__data__=new Ga,this.size=0},Je.prototype.delete=function yt(l){var b=this.__data__,oe=b.delete(l);return this.size=b.size,oe},Je.prototype.get=function yn(l){return this.__data__.get(l)},Je.prototype.has=function jn(l){return this.__data__.has(l)},Je.prototype.set=function qr(l,b){var oe=this.__data__;if(oe instanceof Ga){var nt=oe.__data__;if(!ha||nt.length<199)return nt.push([l,b]),this.size=++oe.size,this;oe=this.__data__=new dl(nt)}return oe.set(l,b),this.size=oe.size,this};var Na=Cd(Ea),Rc=Cd(Yd,!0);function Iu(l,b){var oe=!0;return Na(l,function(nt,on,Vn){return oe=!!b(nt,on,Vn)}),oe}function Qc(l,b,oe){for(var nt=-1,on=l.length;++nt<on;){var Vn=l[nt],gr=b(Vn);if(null!=gr&&(Dr===u?gr==gr&&!Ss(gr):oe(gr,Dr)))var Dr=gr,Qr=Vn}return Qr}function Xd(l,b){var oe=[];return Na(l,function(nt,on,Vn){b(nt,on,Vn)&&oe.push(nt)}),oe}function fs(l,b,oe,nt,on){var Vn=-1,gr=l.length;for(oe||(oe=Of),on||(on=[]);++Vn<gr;){var Dr=l[Vn];b>0&&oe(Dr)?b>1?fs(Dr,b-1,oe,nt,on):nn(on,Dr):nt||(on[on.length]=Dr)}return on}var Oc=dd(),Pc=dd(!0);function Ea(l,b){return l&&Oc(l,b,Ja)}function Yd(l,b){return l&&Pc(l,b,Ja)}function jl(l,b){return Wt(b,function(oe){return Qo(l[oe])})}function yl(l,b){for(var oe=0,nt=(b=Ra(b,l)).length;null!=l&&oe<nt;)l=l[tc(b[oe++])];return oe&&oe==nt?l:u}function Xa(l,b,oe){var nt=b(l);return qn(l)?nt:nn(nt,oe(l))}function Pa(l){return null==l?l===u?"[object Undefined]":"[object Null]":Nn&&Nn in Gi(l)?function Ha(l){var b=Yt.call(l,Nn),oe=l[Nn];try{l[Nn]=u;var nt=!0}catch{}var on=kt.call(l);return nt&&(b?l[Nn]=oe:delete l[Nn]),on}(l):function Uc(l){return kt.call(l)}(l)}function kc(l,b){return l>b}function Qd(l,b){return null!=l&&Yt.call(l,b)}function hl(l,b){return null!=l&&b in Gi(l)}function m(l,b,oe){for(var nt=oe?$e:hn,on=l[0].length,Vn=l.length,gr=Vn,Dr=kn(Vn),Qr=1/0,Qi=[];gr--;){var Ki=l[gr];gr&&b&&(Ki=Nt(Ki,Q(b))),Qr=$o(Ki.length,Qr),Dr[gr]=!oe&&(b||on>=120&&Ki.length>=120)?new Xl(gr&&Ki):u}Ki=l[0];var lo=-1,So=Dr[0];e:for(;++lo<on&&Qi.length<Qr;){var Go=Ki[lo],as=b?b(Go):Go;if(Go=oe||0!==Go?Go:0,!(So?Ke(So,as):nt(Qi,as,oe))){for(gr=Vn;--gr;){var Ys=Dr[gr];if(!(Ys?Ke(Ys,as):nt(l[gr],as,oe)))continue e}So&&So.push(as),Qi.push(Go)}}return Qi}function Fe(l,b,oe){var nt=null==(l=td(l,b=Ra(b,l)))?l:l[tc(ga(b))];return null==nt?u:xr(nt,l,oe)}function _t(l){return po(l)&&Pa(l)==zt}function On(l,b,oe,nt,on){return l===b||(null==l||null==b||!po(l)&&!po(b)?l!=l&&b!=b:function Qn(l,b,oe,nt,on,Vn){var gr=qn(l),Dr=qn(b),Qr=gr?Mn:Qa(l),Qi=Dr?Mn:Qa(b),Ki=(Qr=Qr==zt?p:Qr)==p,lo=(Qi=Qi==zt?p:Qi)==p,So=Qr==Qi;if(So&&bi(l)){if(!bi(b))return!1;gr=!0,Ki=!1}if(So&&!Ki)return Vn||(Vn=new Je),gr||ic(l)?Mh(l,b,oe,nt,on,Vn):function Sf(l,b,oe,nt,on,Vn,gr){switch(oe){case je:if(l.byteLength!=b.byteLength||l.byteOffset!=b.byteOffset)return!1;l=l.buffer,b=b.buffer;case ln:return!(l.byteLength!=b.byteLength||!Vn(new ho(l),new ho(b)));case Ne:case Xe:case W:return An(+l,+b);case re:return l.name==b.name&&l.message==b.message;case se:case ve:return l==b+"";case T:var Dr=Ui;case L:if(Dr||(Dr=Ge),l.size!=b.size&&!(1&nt))return!1;var Qi=gr.get(l);if(Qi)return Qi==b;nt|=2,gr.set(l,b);var Ki=Mh(Dr(l),Dr(b),nt,on,Vn,gr);return gr.delete(l),Ki;case ge:if(Ml)return Ml.call(l)==Ml.call(b)}return!1}(l,b,Qr,oe,nt,on,Vn);if(!(1&oe)){var Go=Ki&&Yt.call(l,"__wrapped__"),as=lo&&Yt.call(b,"__wrapped__");if(Go||as){var Ys=Go?l.value():l,Ko=as?b.value():b;return Vn||(Vn=new Je),on(Ys,Ko,oe,nt,Vn)}}return!!So&&(Vn||(Vn=new Je),function Td(l,b,oe,nt,on,Vn){var gr=1&oe,Dr=iu(l),Qr=Dr.length;if(Qr!=iu(b).length&&!gr)return!1;for(var lo=Qr;lo--;){var So=Dr[lo];if(!(gr?So in b:Yt.call(b,So)))return!1}var Go=Vn.get(l),as=Vn.get(b);if(Go&&as)return Go==b&&as==l;var Ys=!0;Vn.set(l,b),Vn.set(b,l);for(var Ko=gr;++lo<Qr;){var Js=l[So=Dr[lo]],da=b[So];if(nt)var ac=gr?nt(da,Js,So,b,l,Vn):nt(Js,da,So,l,b,Vn);if(!(ac===u?Js===da||on(Js,da,oe,nt,Vn):ac)){Ys=!1;break}Ko||(Ko="constructor"==So)}if(Ys&&!Ko){var kl=l.constructor,Kl=b.constructor;kl!=Kl&&"constructor"in l&&"constructor"in b&&!("function"==typeof kl&&kl instanceof kl&&"function"==typeof Kl&&Kl instanceof Kl)&&(Ys=!1)}return Vn.delete(l),Vn.delete(b),Ys}(l,b,oe,nt,on,Vn))}(l,b,oe,nt,On,on))}function Mr(l,b,oe,nt){var on=oe.length,Vn=on,gr=!nt;if(null==l)return!Vn;for(l=Gi(l);on--;){var Dr=oe[on];if(gr&&Dr[2]?Dr[1]!==l[Dr[0]]:!(Dr[0]in l))return!1}for(;++on<Vn;){var Qr=(Dr=oe[on])[0],Qi=l[Qr],Ki=Dr[1];if(gr&&Dr[2]){if(Qi===u&&!(Qr in l))return!1}else{var lo=new Je;if(nt)var So=nt(Qi,Ki,Qr,l,b,lo);if(!(So===u?On(Ki,Qi,3,nt,lo):So))return!1}}return!0}function ii(l){return!(!vi(l)||function kf(l){return!!ct&&ct in l}(l))&&(Qo(l)?ir:fi).test(Nl(l))}function oo(l){return"function"==typeof l?l:null==l?Pl:"object"==typeof l?qn(l)?Uo(l[0],l[1]):Oo(l):Pm(l)}function yi(l){if(!hd(l))return bs(l);var b=[];for(var oe in Gi(l))Yt.call(l,oe)&&"constructor"!=oe&&b.push(oe);return b}function Bo(l,b){return l<b}function Po(l,b){var oe=-1,nt=Yr(l)?kn(l.length):[];return Na(l,function(on,Vn,gr){nt[++oe]=b(on,Vn,gr)}),nt}function Oo(l){var b=Lc(l);return 1==b.length&&b[0][2]?Rh(b[0][0],b[0][1]):function(oe){return oe===l||Mr(oe,l,b)}}function Uo(l,b){return Ih(l)&&om(b)?Rh(tc(l),b):function(oe){var nt=sh(oe,l);return nt===u&&nt===b?cf(oe,l):On(b,nt,3)}}function Or(l,b,oe,nt,on){l!==b&&Oc(b,function(Vn,gr){if(on||(on=new Je),vi(Vn))!function Io(l,b,oe,nt,on,Vn,gr){var Dr=su(l,oe),Qr=su(b,oe),Qi=gr.get(Qr);if(Qi)xs(l,oe,Qi);else{var Ki=Vn?Vn(Dr,Qr,oe+"",l,b,gr):u,lo=Ki===u;if(lo){var So=qn(Qr),Go=!So&&bi(Qr),as=!So&&!Go&&ic(Qr);Ki=Qr,So||Go||as?qn(Dr)?Ki=Dr:Hr(Dr)?Ki=ja(Dr):Go?(lo=!1,Ki=Bu(Qr,!0)):as?(lo=!1,Ki=Zc(Qr,!0)):Ki=[]:vc(Qr)||_r(Qr)?(Ki=Dr,_r(Dr)?Ki=bc(Dr):(!vi(Dr)||Qo(Dr))&&(Ki=Th(Qr))):lo=!1}lo&&(gr.set(Qr,Ki),on(Ki,Qr,nt,Vn,gr),gr.delete(Qr)),xs(l,oe,Ki)}}(l,b,gr,oe,Or,nt,on);else{var Dr=nt?nt(su(l,gr),Vn,gr+"",l,b,on):u;Dr===u&&(Dr=Vn),xs(l,gr,Dr)}},ol)}function Fs(l,b){var oe=l.length;if(oe)return gc(b+=b<0?oe:0,oe)?l[b]:u}function Xs(l,b,oe){b=b.length?Nt(b,function(Vn){return qn(Vn)?function(gr){return yl(gr,1===Vn.length?Vn[0]:Vn)}:Vn}):[Pl];var nt=-1;return b=Nt(b,Q(ts())),function fe(Hn,br){var kn=Hn.length;for(Hn.sort(br);kn--;)Hn[kn]=Hn[kn].value;return Hn}(Po(l,function(Vn,gr,Dr){return{criteria:Nt(b,function(Qi){return Qi(Vn)}),index:++nt,value:Vn}}),function(Vn,gr){return function Lu(l,b,oe){for(var nt=-1,on=l.criteria,Vn=b.criteria,gr=on.length,Dr=oe.length;++nt<gr;){var Qr=Va(on[nt],Vn[nt]);if(Qr)return nt>=Dr?Qr:Qr*("desc"==oe[nt]?-1:1)}return l.index-b.index}(Vn,gr,oe)})}function ta(l,b,oe){for(var nt=-1,on=b.length,Vn={};++nt<on;){var gr=b[nt],Dr=yl(l,gr);oe(Dr,gr)&&wd(Vn,Ra(gr,l),Dr)}return Vn}function Us(l,b,oe,nt){var on=nt?ko:vo,Vn=-1,gr=b.length,Dr=l;for(l===b&&(b=ja(b)),oe&&(Dr=Nt(l,Q(oe)));++Vn<gr;)for(var Qr=0,Qi=b[Vn],Ki=oe?oe(Qi):Qi;(Qr=on(Dr,Ki,Qr,nt))>-1;)Dr!==l&&Ca.call(Dr,Qr,1),Ca.call(l,Qr,1);return l}function is(l,b){for(var oe=l?b.length:0,nt=oe-1;oe--;){var on=b[oe];if(oe==nt||on!==Vn){var Vn=on;gc(on)?Ca.call(l,on,1):Pu(l,on)}}return l}function rl(l,b){return l+gs(Ls()*(b-l+1))}function qc(l,b){var oe="";if(!l||b<1||b>de)return oe;do{b%2&&(oe+=l),(b=gs(b/2))&&(l+=l)}while(b);return oe}function Ts(l,b){return Od(Bf(l,b,Pl),l+"")}function Ya(l){return Di(Ul(l))}function hc(l,b){var oe=Ul(l);return ec(oe,Tc(b,0,oe.length))}function wd(l,b,oe,nt){if(!vi(l))return l;for(var on=-1,Vn=(b=Ra(b,l)).length,gr=Vn-1,Dr=l;null!=Dr&&++on<Vn;){var Qr=tc(b[on]),Qi=oe;if("__proto__"===Qr||"constructor"===Qr||"prototype"===Qr)return l;if(on!=gr){var Ki=Dr[Qr];(Qi=nt?nt(Ki,Qr,Dr):u)===u&&(Qi=vi(Ki)?Ki:gc(b[on+1])?[]:{})}ia(Dr,Qr,Qi),Dr=Dr[Qr]}return l}var bl=Xo?function(l,b){return Xo.set(l,b),l}:Pl,Ql=Ze?function(l,b){return Ze(l,"toString",{configurable:!0,enumerable:!1,value:xp(b),writable:!0})}:Pl;function Zp(l){return ec(Ul(l))}function Bl(l,b,oe){var nt=-1,on=l.length;b<0&&(b=-b>on?0:on+b),(oe=oe>on?on:oe)<0&&(oe+=on),on=b>oe?0:oe-b>>>0,b>>>=0;for(var Vn=kn(on);++nt<on;)Vn[nt]=l[nt+b];return Vn}function Jp(l,b){var oe;return Na(l,function(nt,on,Vn){return!(oe=b(nt,on,Vn))}),!!oe}function Ru(l,b,oe){var nt=0,on=null==l?nt:l.length;if("number"==typeof b&&b==b&&on<=2147483647){for(;nt<on;){var Vn=nt+on>>>1,gr=l[Vn];null!==gr&&!Ss(gr)&&(oe?gr<=b:gr<b)?nt=Vn+1:on=Vn}return on}return qd(l,b,Pl,oe)}function qd(l,b,oe,nt){var on=0,Vn=null==l?0:l.length;if(0===Vn)return 0;for(var gr=(b=oe(b))!=b,Dr=null===b,Qr=Ss(b),Qi=b===u;on<Vn;){var Ki=gs((on+Vn)/2),lo=oe(l[Ki]),So=lo!==u,Go=null===lo,as=lo==lo,Ys=Ss(lo);if(gr)var Ko=nt||as;else Ko=Qi?as&&(nt||So):Dr?as&&So&&(nt||!Go):Qr?as&&So&&!Go&&(nt||!Ys):!Go&&!Ys&&(nt?lo<=b:lo<b);Ko?on=Ki+1:Vn=Ki}return $o(Vn,4294967294)}function Ou(l,b){for(var oe=-1,nt=l.length,on=0,Vn=[];++oe<nt;){var gr=l[oe],Dr=b?b(gr):gr;if(!oe||!An(Dr,Qr)){var Qr=Dr;Vn[on++]=0===gr?0:gr}}return Vn}function cd(l){return"number"==typeof l?l:Ss(l)?j:+l}function za(l){if("string"==typeof l)return l;if(qn(l))return Nt(l,za)+"";if(Ss(l))return dc?dc.call(l):"";var b=l+"";return"0"==b&&1/l==-Bt?"-0":b}function Fc(l,b,oe){var nt=-1,on=hn,Vn=l.length,gr=!0,Dr=[],Qr=Dr;if(oe)gr=!1,on=$e;else if(Vn>=200){var Qi=b?null:Tf(l);if(Qi)return Ge(Qi);gr=!1,on=Ke,Qr=new Xl}else Qr=b?[]:Dr;e:for(;++nt<Vn;){var Ki=l[nt],lo=b?b(Ki):Ki;if(Ki=oe||0!==Ki?Ki:0,gr&&lo==lo){for(var So=Qr.length;So--;)if(Qr[So]===lo)continue e;b&&Qr.push(lo),Dr.push(Ki)}else on(Qr,lo,oe)||(Qr!==Dr&&Qr.push(lo),Dr.push(Ki))}return Dr}function Pu(l,b){return null==(l=td(l,b=Ra(b,l)))||delete l[tc(ga(b))]}function ku(l,b,oe,nt){return wd(l,b,oe(yl(l,b)),nt)}function Zd(l,b,oe,nt){for(var on=l.length,Vn=nt?on:-1;(nt?Vn--:++Vn<on)&&b(l[Vn],Vn,l););return oe?Bl(l,nt?0:Vn,nt?Vn+1:on):Bl(l,nt?Vn+1:0,nt?on:Vn)}function Tl(l,b){var oe=l;return oe instanceof ks&&(oe=oe.value()),Zn(b,function(nt,on){return on.func.apply(on.thisArg,nn([nt],on.args))},oe)}function Jd(l,b,oe){var nt=l.length;if(nt<2)return nt?Fc(l[0]):[];for(var on=-1,Vn=kn(nt);++on<nt;)for(var gr=l[on],Dr=-1;++Dr<nt;)Dr!=on&&(Vn[on]=Ic(Vn[on]||gr,l[Dr],b,oe));return Fc(fs(Vn,1),b,oe)}function Fu(l,b,oe){for(var nt=-1,on=l.length,Vn=b.length,gr={};++nt<on;)oe(gr,l[nt],nt<Vn?b[nt]:u);return gr}function eu(l){return Hr(l)?l:[]}function bh(l){return"function"==typeof l?l:Pl}function Ra(l,b){return qn(l)?l:Ih(l,b)?[l]:Pd(_a(l))}var aa=Ts;function qs(l,b,oe){var nt=l.length;return oe=oe===u?nt:oe,!b&&oe>=nt?l:Bl(l,b,oe)}var Bc=Tn||function(l){return qo.clearTimeout(l)};function Bu(l,b){if(b)return l.slice();var oe=l.length,nt=go?go(oe):new l.constructor(oe);return l.copy(nt),nt}function tu(l){var b=new l.constructor(l.byteLength);return new ho(b).set(new ho(l)),b}function Zc(l,b){var oe=b?tu(l.buffer):l.buffer;return new l.constructor(oe,l.byteOffset,l.length)}function Va(l,b){if(l!==b){var oe=l!==u,nt=null===l,on=l==l,Vn=Ss(l),gr=b!==u,Dr=null===b,Qr=b==b,Qi=Ss(b);if(!Dr&&!Qi&&!Vn&&l>b||Vn&&gr&&Qr&&!Dr&&!Qi||nt&&gr&&Qr||!oe&&Qr||!on)return 1;if(!nt&&!Vn&&!Qi&&l<b||Qi&&oe&&on&&!nt&&!Vn||Dr&&oe&&on||!gr&&on||!Qr)return-1}return 0}function Jc(l,b,oe,nt){for(var on=-1,Vn=l.length,gr=oe.length,Dr=-1,Qr=b.length,Qi=Ho(Vn-gr,0),Ki=kn(Qr+Qi),lo=!nt;++Dr<Qr;)Ki[Dr]=b[Dr];for(;++on<gr;)(lo||on<Vn)&&(Ki[oe[on]]=l[on]);for(;Qi--;)Ki[Dr++]=l[on++];return Ki}function vs(l,b,oe,nt){for(var on=-1,Vn=l.length,gr=-1,Dr=oe.length,Qr=-1,Qi=b.length,Ki=Ho(Vn-Dr,0),lo=kn(Ki+Qi),So=!nt;++on<Ki;)lo[on]=l[on];for(var Go=on;++Qr<Qi;)lo[Go+Qr]=b[Qr];for(;++gr<Dr;)(So||on<Vn)&&(lo[Go+oe[gr]]=l[on++]);return lo}function ja(l,b){var oe=-1,nt=l.length;for(b||(b=kn(nt));++oe<nt;)b[oe]=l[oe];return b}function Ma(l,b,oe,nt){var on=!oe;oe||(oe={});for(var Vn=-1,gr=b.length;++Vn<gr;){var Dr=b[Vn],Qr=nt?nt(oe[Dr],l[Dr],Dr,oe,l):u;Qr===u&&(Qr=l[Dr]),on?ul(oe,Dr,Qr):ia(oe,Dr,Qr)}return oe}function Uu(l,b){return function(oe,nt){var on=qn(oe)?Pr:ma,Vn=b?b():{};return on(oe,l,ts(nt,2),Vn)}}function Hl(l){return Ts(function(b,oe){var nt=-1,on=oe.length,Vn=on>1?oe[on-1]:u,gr=on>2?oe[2]:u;for(Vn=l.length>3&&"function"==typeof Vn?(on--,Vn):u,gr&&fl(oe[0],oe[1],gr)&&(Vn=on<3?u:Vn,on=1),b=Gi(b);++nt<on;){var Dr=oe[nt];Dr&&l(b,Dr,nt,Vn)}return b})}function Cd(l,b){return function(oe,nt){if(null==oe)return oe;if(!Yr(oe))return l(oe,nt);for(var on=oe.length,Vn=b?on:-1,gr=Gi(oe);(b?Vn--:++Vn<on)&&!1!==nt(gr[Vn],Vn,gr););return oe}}function dd(l){return function(b,oe,nt){for(var on=-1,Vn=Gi(b),gr=nt(b),Dr=gr.length;Dr--;){var Qr=gr[l?Dr:++on];if(!1===oe(Vn[Qr],Qr,Vn))break}return b}}function Mf(l){return function(b){var oe=Lr(b=_a(b))?hr(b):u,nt=oe?oe[0]:b.charAt(0),on=oe?qs(oe,1).join(""):b.slice(1);return nt[l]()+on}}function Ad(l){return function(b){return Zn(Im(pp(b).replace(Zo,"")),l,"")}}function Md(l){return function(){var b=arguments;switch(b.length){case 0:return new l;case 1:return new l(b[0]);case 2:return new l(b[0],b[1]);case 3:return new l(b[0],b[1],b[2]);case 4:return new l(b[0],b[1],b[2],b[3]);case 5:return new l(b[0],b[1],b[2],b[3],b[4]);case 6:return new l(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new l(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var oe=Vl(l.prototype),nt=l.apply(oe,b);return vi(nt)?nt:oe}}function tm(l){return function(b,oe,nt){var on=Gi(b);if(!Yr(b)){var Vn=ts(oe,3);b=Ja(b),oe=function(Dr){return Vn(on[Dr],Dr,on)}}var gr=l(b,oe,nt);return gr>-1?on[Vn?b[gr]:gr]:u}}function Vu(l){return pc(function(b){var oe=b.length,nt=oe,on=jo.prototype.thru;for(l&&b.reverse();nt--;){var Vn=b[nt];if("function"!=typeof Vn)throw new Ni(w);if(on&&!gr&&"wrapper"==Jl(Vn))var gr=new jo([],!0)}for(nt=gr?nt:oe;++nt<oe;){var Dr=Jl(Vn=b[nt]),Qr="wrapper"==Dr?Sd(Vn):u;gr=Qr&&$u(Qr[0])&&424==Qr[1]&&!Qr[4].length&&1==Qr[9]?gr[Jl(Qr[0])].apply(gr,Qr[3]):1==Vn.length&&$u(Vn)?gr[Dr]():gr.thru(Vn)}return function(){var Qi=arguments,Ki=Qi[0];if(gr&&1==Qi.length&&qn(Ki))return gr.plant(Ki).value();for(var lo=0,So=oe?b[lo].apply(this,Qi):Ki;++lo<oe;)So=b[lo].call(this,So);return So}})}function ed(l,b,oe,nt,on,Vn,gr,Dr,Qr,Qi){var Ki=b&$,lo=1&b,So=2&b,Go=24&b,as=512&b,Ys=So?u:Md(l);return function Ko(){for(var Js=arguments.length,da=kn(Js),ac=Js;ac--;)da[ac]=arguments[ac];if(Go)var kl=ud(Ko),Kl=function Xn(Hn,br){for(var kn=Hn.length,rr=0;kn--;)Hn[kn]===br&&++rr;return rr}(da,kl);if(nt&&(da=Jc(da,nt,on,Go)),Vn&&(da=vs(da,Vn,gr,Go)),Js-=Kl,Go&&Js<Qi){var Fa=le(da,kl);return wh(l,b,ed,Ko.placeholder,oe,da,Fa,Dr,Qr,Qi-Js)}var lc=lo?oe:this,zd=So?lc[l]:l;return Js=da.length,Dr?da=function Vc(l,b){for(var oe=l.length,nt=$o(b.length,oe),on=ja(l);nt--;){var Vn=b[nt];l[nt]=gc(Vn,oe)?on[Vn]:u}return l}(da,Dr):as&&Js>1&&da.reverse(),Ki&&Qr<Js&&(da.length=Qr),this&&this!==qo&&this instanceof Ko&&(zd=Ys||Md(zd)),zd.apply(lc,da)}}function Df(l,b){return function(oe,nt){return function q(l,b,oe,nt){return Ea(l,function(on,Vn,gr){b(nt,oe(on),Vn,gr)}),nt}(oe,l,b(nt),{})}}function ql(l,b){return function(oe,nt){var on;if(oe===u&&nt===u)return b;if(oe!==u&&(on=oe),nt!==u){if(on===u)return nt;"string"==typeof oe||"string"==typeof nt?(oe=za(oe),nt=za(nt)):(oe=cd(oe),nt=cd(nt)),on=l(oe,nt)}return on}}function Nc(l){return pc(function(b){return b=Nt(b,Q(ts())),Ts(function(oe){var nt=this;return l(b,function(on){return xr(on,nt,oe)})})})}function fc(l,b){var oe=(b=b===u?" ":za(b)).length;if(oe<2)return oe?qc(b,l):b;var nt=qc(b,ao(l/Bn(b)));return Lr(b)?qs(hr(nt),0,l).join(""):nt.slice(0,l)}function ju(l){return function(b,oe,nt){return nt&&"number"!=typeof nt&&fl(b,oe,nt)&&(oe=nt=u),b=xl(b),oe===u?(oe=b,b=0):oe=xl(oe),function ld(l,b,oe,nt){for(var on=-1,Vn=Ho(ao((b-l)/(oe||1)),0),gr=kn(Vn);Vn--;)gr[nt?Vn:++on]=l,l+=oe;return gr}(b,oe,nt=nt===u?b<oe?1:-1:xl(nt),l)}}function nu(l){return function(b,oe){return"string"==typeof b&&"string"==typeof oe||(b=$a(b),oe=$a(oe)),l(b,oe)}}function wh(l,b,oe,nt,on,Vn,gr,Dr,Qr,Qi){var Ki=8&b;b|=Ki?32:64,4&(b&=~(Ki?64:32))||(b&=-4);var Ys=[l,b,on,Ki?Vn:u,Ki?gr:u,Ki?u:Vn,Ki?u:gr,Dr,Qr,Qi],Ko=oe.apply(u,Ys);return $u(l)&&qa(Ko,Ys),Ko.placeholder=nt,Wu(Ko,l,b)}function Gl(l){var b=Yi[l];return function(oe,nt){if(oe=$a(oe),(nt=null==nt?0:$o(Es(nt),292))&&hs(oe)){var on=(_a(oe)+"e").split("e");return+((on=(_a(b(on[0]+"e"+(+on[1]+nt)))+"e").split("e"))[0]+"e"+(+on[1]-nt))}return b(oe)}}var Tf=Ps&&1/Ge(new Ps([,-0]))[1]==Bt?function(l){return new Ps(l)}:Ep;function ru(l){return function(b){var oe=Qa(b);return oe==T?Ui(b):oe==L?function Mt(Hn){var br=-1,kn=Array(Hn.size);return Hn.forEach(function(rr){kn[++br]=[rr,rr]}),kn}(b):function Yn(Hn,br){return Nt(br,function(kn){return[kn,Hn[kn]]})}(b,l(b))}}function Zl(l,b,oe,nt,on,Vn,gr,Dr){var Qr=2&b;if(!Qr&&"function"!=typeof l)throw new Ni(w);var Qi=nt?nt.length:0;if(Qi||(b&=-97,nt=on=u),gr=gr===u?gr:Ho(Es(gr),0),Dr=Dr===u?Dr:Es(Dr),Qi-=on?on.length:0,64&b){var Ki=nt,lo=on;nt=on=u}var So=Qr?u:Sd(l),Go=[l,b,oe,nt,on,Ki,lo,Vn,gr,Dr];if(So&&function Sl(l,b){var oe=l[1],nt=b[1],on=oe|nt;if(!(on<131)&&!(nt==$&&8==oe||nt==$&&256==oe&&l[7].length<=b[8]||384==nt&&b[7].length<=b[8]&&8==oe))return l;1&nt&&(l[2]=b[2],on|=1&oe?0:4);var Dr=b[3];if(Dr){var Qr=l[3];l[3]=Qr?Jc(Qr,Dr,b[4]):Dr,l[4]=Qr?le(l[3],U):b[4]}(Dr=b[5])&&(l[5]=(Qr=l[5])?vs(Qr,Dr,b[6]):Dr,l[6]=Qr?le(l[5],U):b[6]),(Dr=b[7])&&(l[7]=Dr),nt&$&&(l[8]=null==l[8]?b[8]:$o(l[8],b[8])),null==l[9]&&(l[9]=b[9]),l[0]=b[0],l[1]=on}(Go,So),l=Go[0],b=Go[1],oe=Go[2],nt=Go[3],on=Go[4],!(Dr=Go[9]=Go[9]===u?Qr?0:l.length:Ho(Go[9]-Qi,0))&&24&b&&(b&=-25),b&&1!=b)as=8==b||16==b?function yg(l,b,oe){var nt=Md(l);return function on(){for(var Vn=arguments.length,gr=kn(Vn),Dr=Vn,Qr=ud(on);Dr--;)gr[Dr]=arguments[Dr];var Qi=Vn<3&&gr[0]!==Qr&&gr[Vn-1]!==Qr?[]:le(gr,Qr);return(Vn-=Qi.length)<oe?wh(l,b,ed,on.placeholder,u,gr,Qi,u,u,oe-Vn):xr(this&&this!==qo&&this instanceof on?nt:l,this,gr)}}(l,b,Dr):32!=b&&33!=b||on.length?ed.apply(u,Go):function nm(l,b,oe,nt){var on=1&b,Vn=Md(l);return function gr(){for(var Dr=-1,Qr=arguments.length,Qi=-1,Ki=nt.length,lo=kn(Ki+Qr),So=this&&this!==qo&&this instanceof gr?Vn:l;++Qi<Ki;)lo[Qi]=nt[Qi];for(;Qr--;)lo[Qi++]=arguments[++Dr];return xr(So,on?oe:this,lo)}}(l,b,oe,nt);else var as=function Eh(l,b,oe){var nt=1&b,on=Md(l);return function Vn(){return(this&&this!==qo&&this instanceof Vn?on:l).apply(nt?oe:this,arguments)}}(l,b,oe);return Wu((So?bl:qa)(as,Go),l,b)}function Ch(l,b,oe,nt){return l===u||An(l,Jo[oe])&&!Yt.call(nt,oe)?b:l}function Dd(l,b,oe,nt,on,Vn){return vi(l)&&vi(b)&&(Vn.set(b,l),Or(l,b,u,Dd,Vn),Vn.delete(b)),l}function Ah(l){return vc(l)?u:l}function Mh(l,b,oe,nt,on,Vn){var gr=1&oe,Dr=l.length,Qr=b.length;if(Dr!=Qr&&!(gr&&Qr>Dr))return!1;var Qi=Vn.get(l),Ki=Vn.get(b);if(Qi&&Ki)return Qi==b&&Ki==l;var lo=-1,So=!0,Go=2&oe?new Xl:u;for(Vn.set(l,b),Vn.set(b,l);++lo<Dr;){var as=l[lo],Ys=b[lo];if(nt)var Ko=gr?nt(Ys,as,lo,b,l,Vn):nt(as,Ys,lo,l,b,Vn);if(Ko!==u){if(Ko)continue;So=!1;break}if(Go){if(!Cr(b,function(Js,da){if(!Ke(Go,da)&&(as===Js||on(as,Js,oe,nt,Vn)))return Go.push(da)})){So=!1;break}}else if(as!==Ys&&!on(as,Ys,oe,nt,Vn)){So=!1;break}}return Vn.delete(l),Vn.delete(b),So}function pc(l){return Od(Bf(l,u,jc),l+"")}function iu(l){return Xa(l,Ja,Hu)}function Dh(l){return Xa(l,ol,Gu)}var Sd=Xo?function(l){return Xo.get(l)}:Ep;function Jl(l){for(var b=l.name+"",oe=tl[b],nt=Yt.call(tl,b)?oe.length:0;nt--;){var on=oe[nt],Vn=on.func;if(null==Vn||Vn==l)return on.name}return b}function ud(l){return(Yt.call(Cn,"placeholder")?Cn:l).placeholder}function ts(){var l=Cn.iteratee||hh;return l=l===hh?oo:l,arguments.length?l(arguments[0],arguments[1]):l}function mc(l,b){var oe=l.__data__;return function Pf(l){var b=typeof l;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==l:null===l}(b)?oe["string"==typeof b?"string":"hash"]:oe.map}function Lc(l){for(var b=Ja(l),oe=b.length;oe--;){var nt=b[oe],on=l[nt];b[oe]=[nt,on,om(on)]}return b}function il(l,b){var oe=function di(Hn,br){return null==Hn?u:Hn[br]}(l,b);return ii(oe)?oe:u}var Hu=ds?function(l){return null==l?[]:(l=Gi(l),Wt(ds(l),function(b){return oa.call(l,b)}))}:Gd,Gu=ds?function(l){for(var b=[];l;)nn(b,Hu(l)),l=Fo(l);return b}:Gd,Qa=Pa;function ou(l,b,oe){for(var nt=-1,on=(b=Ra(b,l)).length,Vn=!1;++nt<on;){var gr=tc(b[nt]);if(!(Vn=null!=l&&oe(l,gr)))break;l=l[gr]}return Vn||++nt!=on?Vn:!!(on=null==l?0:l.length)&&Tr(on)&&gc(gr,on)&&(qn(l)||_r(l))}function Th(l){return"function"!=typeof l.constructor||hd(l)?{}:Vl(Fo(l))}function Of(l){return qn(l)||_r(l)||!!(xe&&l&&l[xe])}function gc(l,b){var oe=typeof l;return!!(b=b??de)&&("number"==oe||"symbol"!=oe&&uo.test(l))&&l>-1&&l%1==0&&l<b}function fl(l,b,oe){if(!vi(oe))return!1;var nt=typeof b;return!!("number"==nt?Yr(oe)&&gc(b,oe.length):"string"==nt&&b in oe)&&An(oe[b],l)}function Ih(l,b){if(qn(l))return!1;var oe=typeof l;return!("number"!=oe&&"symbol"!=oe&&"boolean"!=oe&&null!=l&&!Ss(l))||Xt.test(l)||!tn.test(l)||null!=b&&l in Gi(b)}function $u(l){var b=Jl(l),oe=Cn[b];if("function"!=typeof oe||!(b in ks.prototype))return!1;if(l===oe)return!0;var nt=Sd(oe);return!!nt&&l===nt[0]}(Qs&&Qa(new Qs(new ArrayBuffer(1)))!=je||ha&&Qa(new ha)!=T||Ua&&Qa(Ua.resolve())!=I||Ps&&Qa(new Ps)!=L||fa&&Qa(new fa)!=Pt)&&(Qa=function(l){var b=Pa(l),oe=b==p?l.constructor:u,nt=oe?Nl(oe):"";if(nt)switch(nt){case Al:return je;case Cc:return T;case Aa:return I;case od:return L;case Ac:return Pt}return b});var im=Cs?Qo:mf;function hd(l){var b=l&&l.constructor;return l===("function"==typeof b&&b.prototype||Jo)}function om(l){return l==l&&!vi(l)}function Rh(l,b){return function(oe){return null!=oe&&oe[l]===b&&(b!==u||l in Gi(oe))}}function Bf(l,b,oe){return b=Ho(b===u?l.length-1:b,0),function(){for(var nt=arguments,on=-1,Vn=Ho(nt.length-b,0),gr=kn(Vn);++on<Vn;)gr[on]=nt[b+on];on=-1;for(var Dr=kn(b+1);++on<b;)Dr[on]=nt[on];return Dr[b]=oe(gr),xr(l,this,Dr)}}function td(l,b){return b.length<2?l:yl(l,Bl(b,0,-1))}function su(l,b){if(("constructor"!==b||"function"!=typeof l[b])&&"__proto__"!=b)return l[b]}var qa=Nf(bl),Rd=_i||function(l,b){return qo.setTimeout(l,b)},Od=Nf(Ql);function Wu(l,b,oe){var nt=b+"";return Od(l,function zu(l,b){var oe=b.length;if(!oe)return l;var nt=oe-1;return b[nt]=(oe>1?"& ":"")+b[nt],b=b.join(oe>2?", ":" "),l.replace(Jt,"{\n/* [wrapped with "+b+"] */\n")}(nt,function au(l,b){return Bi(pt,function(oe){var nt="_."+oe[0];b&oe[1]&&!hn(l,nt)&&l.push(nt)}),l.sort()}(function Rf(l){var b=l.match(We);return b?b[1].split(Tt):[]}(nt),oe)))}function Nf(l){var b=0,oe=0;return function(){var nt=no(),on=16-(nt-oe);if(oe=nt,on>0){if(++b>=800)return arguments[0]}else b=0;return l.apply(u,arguments)}}function ec(l,b){var oe=-1,nt=l.length,on=nt-1;for(b=b===u?nt:b;++oe<b;){var Vn=rl(oe,on),gr=l[Vn];l[Vn]=l[oe],l[oe]=gr}return l.length=b,l}var Pd=function Id(l){var b=c(l,function(nt){return 500===oe.size&&oe.clear(),nt}),oe=b.cache;return b}(function(l){var b=[];return 46===l.charCodeAt(0)&&b.push(""),l.replace(Ye,function(oe,nt,on,Vn){b.push(on?Vn.replace(dr,"$1"):nt||oe)}),b});function tc(l){if("string"==typeof l||Ss(l))return l;var b=l+"";return"0"==b&&1/l==-Bt?"-0":b}function Nl(l){if(null!=l){try{return rs.call(l)}catch{}try{return l+""}catch{}}return""}function _c(l){if(l instanceof ks)return l.clone();var b=new jo(l.__wrapped__,l.__chain__);return b.__actions__=ja(l.__actions__),b.__index__=l.__index__,b.__values__=l.__values__,b}var Ku=Ts(function(l,b){return Hr(l)?Ic(l,fs(b,1,Hr,!0)):[]}),nc=Ts(function(l,b){var oe=ga(b);return Hr(oe)&&(oe=u),Hr(l)?Ic(l,fs(b,1,Hr,!0),ts(oe,2)):[]}),Vf=Ts(function(l,b){var oe=ga(b);return Hr(oe)&&(oe=u),Hr(l)?Ic(l,fs(b,1,Hr,!0),u,oe):[]});function md(l,b,oe){var nt=null==l?0:l.length;if(!nt)return-1;var on=null==oe?0:Es(oe);return on<0&&(on=Ho(nt+on,0)),Xi(l,ts(b,3),on)}function cu(l,b,oe){var nt=null==l?0:l.length;if(!nt)return-1;var on=nt-1;return oe!==u&&(on=Es(oe),on=oe<0?Ho(nt+on,0):$o(on,nt-1)),Xi(l,ts(b,3),on,!0)}function jc(l){return null!=l&&l.length?fs(l,1):[]}function Ph(l){return l&&l.length?l[0]:u}var Il=Ts(function(l){var b=Nt(l,eu);return b.length&&b[0]===l[0]?m(b):[]}),kd=Ts(function(l){var b=ga(l),oe=Nt(l,eu);return b===ga(oe)?b=u:oe.pop(),oe.length&&oe[0]===l[0]?m(oe,ts(b,2)):[]}),Yu=Ts(function(l){var b=ga(l),oe=Nt(l,eu);return(b="function"==typeof b?b:u)&&oe.pop(),oe.length&&oe[0]===l[0]?m(oe,u,b):[]});function ga(l){var b=null==l?0:l.length;return b?l[b-1]:u}var du=Ts(Fh);function Fh(l,b){return l&&l.length&&b&&b.length?Us(l,b):l}var jf=pc(function(l,b){var oe=null==l?0:l.length,nt=xd(l,b);return is(l,Nt(b,function(on){return gc(on,oe)?+on:on}).sort(Va)),nt});function Gc(l){return null==l?l:va.call(l)}var jh=Ts(function(l){return Fc(fs(l,1,Hr,!0))}),Xf=Ts(function(l){var b=ga(l);return Hr(b)&&(b=u),Fc(fs(l,1,Hr,!0),ts(b,2))}),Hh=Ts(function(l){var b=ga(l);return b="function"==typeof b?b:u,Fc(fs(l,1,Hr,!0),u,b)});function qu(l){if(!l||!l.length)return[];var b=0;return l=Wt(l,function(oe){if(Hr(oe))return b=Ho(oe.length,b),!0}),cn(b,function(oe){return Nt(l,Qe(oe))})}function _m(l,b){if(!l||!l.length)return[];var oe=qu(l);return null==b?oe:Nt(oe,function(nt){return xr(b,u,nt)})}var vm=Ts(function(l,b){return Hr(l)?Ic(l,b):[]}),Qf=Ts(function(l){return Jd(Wt(l,Hr))}),Gh=Ts(function(l){var b=ga(l);return Hr(b)&&(b=u),Jd(Wt(l,Hr),ts(b,2))}),ym=Ts(function(l){var b=ga(l);return b="function"==typeof b?b:u,Jd(Wt(l,Hr),u,b)}),zc=Ts(qu),zh=Ts(function(l){var b=l.length,oe=b>1?l[b-1]:u;return oe="function"==typeof oe?(l.pop(),oe):u,_m(l,oe)});function Zu(l){var b=Cn(l);return b.__chain__=!0,b}function hu(l,b){return b(l)}var ep=pc(function(l){var b=l.length,oe=b?l[0]:0,nt=this.__wrapped__,on=function(Vn){return xd(Vn,l)};return!(b>1||this.__actions__.length)&&nt instanceof ks&&gc(oe)?((nt=nt.slice(oe,+oe+(b?1:0))).__actions__.push({func:hu,args:[on],thisArg:u}),new jo(nt,this.__chain__).thru(function(Vn){return b&&!Vn.length&&Vn.push(u),Vn})):this.thru(on)}),Ju=Uu(function(l,b,oe){Yt.call(l,oe)?++l[oe]:ul(l,oe,1)}),Yh=tm(md),Ld=tm(cu);function pu(l,b){return(qn(l)?Bi:Na)(l,ts(b,3))}function mu(l,b){return(qn(l)?ot:Rc)(l,ts(b,3))}var xm=Uu(function(l,b,oe){Yt.call(l,oe)?l[oe].push(b):ul(l,oe,[b])}),nd=Ts(function(l,b,oe){var nt=-1,on="function"==typeof b,Vn=Yr(l)?kn(l.length):[];return Na(l,function(gr){Vn[++nt]=on?xr(b,gr,oe):Fe(gr,b,oe)}),Vn}),qh=Uu(function(l,b,oe){ul(l,oe,b)});function _d(l,b){return(qn(l)?Nt:Po)(l,ts(b,3))}var Em=Uu(function(l,b,oe){l[oe?0:1].push(b)},function(){return[[],[]]}),xg=Ts(function(l,b){if(null==l)return[];var oe=b.length;return oe>1&&fl(l,b[0],b[1])?b=[]:oe>2&&fl(b[0],b[1],b[2])&&(b=[b[0]]),Xs(l,fs(b,1),[])}),nf=vr||function(){return qo.Date.now()};function rp(l,b,oe){return b=oe?u:b,Zl(l,$,u,u,u,u,b=l&&null==b?l.length:b)}function _u(l,b){var oe;if("function"!=typeof b)throw new Ni(w);return l=Es(l),function(){return--l>0&&(oe=b.apply(this,arguments)),l<=1&&(b=u),oe}}var vu=Ts(function(l,b,oe){var nt=1;if(oe.length){var on=le(oe,ud(vu));nt|=32}return Zl(l,nt,b,oe,on)}),ip=Ts(function(l,b,oe){var nt=3;if(oe.length){var on=le(oe,ud(ip));nt|=32}return Zl(b,nt,l,oe,on)});function yu(l,b,oe){var nt,on,Vn,gr,Dr,Qr,Qi=0,Ki=!1,lo=!1,So=!0;if("function"!=typeof l)throw new Ni(w);function Go(Fa){var lc=nt,zd=on;return nt=on=u,Qi=Fa,gr=l.apply(zd,lc)}function Ko(Fa){var lc=Fa-Qr;return Qr===u||lc>=b||lc<0||lo&&Fa-Qi>=Vn}function Js(){var Fa=nf();if(Ko(Fa))return da(Fa);Dr=Rd(Js,function Ys(Fa){var Lm=b-(Fa-Qr);return lo?$o(Lm,Vn-(Fa-Qi)):Lm}(Fa))}function da(Fa){return Dr=u,So&&nt?Go(Fa):(nt=on=u,gr)}function Kl(){var Fa=nf(),lc=Ko(Fa);if(nt=arguments,on=this,Qr=Fa,lc){if(Dr===u)return function as(Fa){return Qi=Fa,Dr=Rd(Js,b),Ki?Go(Fa):gr}(Qr);if(lo)return Bc(Dr),Dr=Rd(Js,b),Go(Qr)}return Dr===u&&(Dr=Rd(Js,b)),gr}return b=$a(b)||0,vi(oe)&&(Ki=!!oe.leading,Vn=(lo="maxWait"in oe)?Ho($a(oe.maxWait)||0,b):Vn,So="trailing"in oe?!!oe.trailing:So),Kl.cancel=function ac(){Dr!==u&&Bc(Dr),Qi=0,nt=Qr=on=Dr=u},Kl.flush=function kl(){return Dr===u?gr:da(nf())},Kl}var h=Ts(function(l,b){return Sc(l,1,b)}),s=Ts(function(l,b,oe){return Sc(l,$a(b)||0,oe)});function c(l,b){if("function"!=typeof l||null!=b&&"function"!=typeof b)throw new Ni(w);var oe=function(){var nt=arguments,on=b?b.apply(this,nt):nt[0],Vn=oe.cache;if(Vn.has(on))return Vn.get(on);var gr=l.apply(this,nt);return oe.cache=Vn.set(on,gr)||Vn,gr};return oe.cache=new(c.Cache||dl),oe}function O(l){if("function"!=typeof l)throw new Ni(w);return function(){var b=arguments;switch(b.length){case 0:return!l.call(this);case 1:return!l.call(this,b[0]);case 2:return!l.call(this,b[0],b[1]);case 3:return!l.call(this,b[0],b[1],b[2])}return!l.apply(this,b)}}c.Cache=dl;var ie=aa(function(l,b){var oe=(b=1==b.length&&qn(b[0])?Nt(b[0],Q(ts())):Nt(fs(b,1),Q(ts()))).length;return Ts(function(nt){for(var on=-1,Vn=$o(nt.length,oe);++on<Vn;)nt[on]=b[on].call(this,nt[on]);return xr(l,this,nt)})}),ne=Ts(function(l,b){var oe=le(b,ud(ne));return Zl(l,32,u,b,oe)}),we=Ts(function(l,b){var oe=le(b,ud(we));return Zl(l,64,u,b,oe)}),Te=pc(function(l,b){return Zl(l,256,u,u,u,b)});function An(l,b){return l===b||l!=l&&b!=b}var Ln=nu(kc),or=nu(function(l,b){return l>=b}),_r=_t(function(){return arguments}())?_t:function(l){return po(l)&&Yt.call(l,"callee")&&!oa.call(l,"callee")},qn=kn.isArray,Br=Ks?Q(Ks):function Qt(l){return po(l)&&Pa(l)==ln};function Yr(l){return null!=l&&Tr(l.length)&&!Qo(l)}function Hr(l){return po(l)&&Yr(l)}var bi=us||mf,gi=Ds?Q(Ds):function _n(l){return po(l)&&Pa(l)==Xe};function Mo(l){if(!po(l))return!1;var b=Pa(l);return b==re||"[object DOMException]"==b||"string"==typeof l.message&&"string"==typeof l.name&&!vc(l)}function Qo(l){if(!vi(l))return!1;var b=Pa(l);return b==D||b==F||"[object AsyncFunction]"==b||"[object Proxy]"==b}function Ii(l){return"number"==typeof l&&l==Es(l)}function Tr(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=de}function vi(l){var b=typeof l;return null!=l&&("object"==b||"function"==b)}function po(l){return null!=l&&"object"==typeof l}var la=cs?Q(cs):function Kn(l){return po(l)&&Qa(l)==T};function zl(l){return"number"==typeof l||po(l)&&Pa(l)==W}function vc(l){if(!po(l)||Pa(l)!=p)return!1;var b=Fo(l);if(null===b)return!0;var oe=Yt.call(b,"constructor")&&b.constructor;return"function"==typeof oe&&oe instanceof oe&&rs.call(oe)==mn}var bu=ua?Q(ua):function oi(l){return po(l)&&Pa(l)==se},yc=tr?Q(tr):function ui(l){return po(l)&&Qa(l)==L};function wa(l){return"string"==typeof l||!qn(l)&&po(l)&&Pa(l)==ve}function Ss(l){return"symbol"==typeof l||po(l)&&Pa(l)==ge}var ic=pr?Q(pr):function Ai(l){return po(l)&&Tr(l.length)&&!!Ri[Pa(l)]},Vd=nu(Bo),oc=nu(function(l,b){return l<=b});function Ta(l){if(!l)return[];if(Yr(l))return wa(l)?hr(l):ja(l);if(vt&&l[vt])return function Zi(Hn){for(var br,kn=[];!(br=Hn.next()).done;)kn.push(br.value);return kn}(l[vt]());var b=Qa(l);return(b==T?Ui:b==L?Ge:Ul)(l)}function xl(l){return l?(l=$a(l))===Bt||l===-Bt?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function Es(l){var b=xl(l),oe=b%1;return b==b?oe?b-oe:b:0}function jd(l){return l?Tc(Es(l),0,he):0}function $a(l){if("number"==typeof l)return l;if(Ss(l))return j;if(vi(l)){var b="function"==typeof l.valueOf?l.valueOf():l;l=vi(b)?b+"":b}if("string"!=typeof l)return 0===l?l:+l;l=wt(l);var oe=Ei.test(l);return oe||co.test(l)?Ns(l.slice(2),oe?2:8):hi.test(l)?j:+l}function bc(l){return Ma(l,ol(l))}function _a(l){return null==l?"":za(l)}var sf=Hl(function(l,b){if(hd(b)||Yr(b))Ma(b,Ja(b),l);else for(var oe in b)Yt.call(b,oe)&&ia(l,oe,b[oe])}),Am=Hl(function(l,b){Ma(b,ol(b),l)}),ih=Hl(function(l,b,oe,nt){Ma(b,ol(b),l,nt)}),wu=Hl(function(l,b,oe,nt){Ma(b,Ja(b),l,nt)}),Cu=pc(xd),Hd=Ts(function(l,b){l=Gi(l);var oe=-1,nt=b.length,on=nt>2?b[2]:u;for(on&&fl(b[0],b[1],on)&&(nt=1);++oe<nt;)for(var Vn=b[oe],gr=ol(Vn),Dr=-1,Qr=gr.length;++Dr<Qr;){var Qi=gr[Dr],Ki=l[Qi];(Ki===u||An(Ki,Jo[Qi])&&!Yt.call(l,Qi))&&(l[Qi]=Vn[Qi])}return l}),af=Ts(function(l){return l.push(u,Dd),xr(ch,u,l)});function sh(l,b,oe){var nt=null==l?u:yl(l,b);return nt===u?oe:nt}function cf(l,b){return null!=l&&ou(l,b,hl)}var df=Df(function(l,b,oe){null!=b&&"function"!=typeof b.toString&&(b=kt.call(b)),l[b]=oe},xp(Pl)),wg=Df(function(l,b,oe){null!=b&&"function"!=typeof b.toString&&(b=kt.call(b)),Yt.call(l,b)?l[b].push(oe):l[b]=[oe]},ts),Mm=Ts(Fe);function Ja(l){return Yr(l)?Ji(l):yi(l)}function ol(l){return Yr(l)?Ji(l,!0):function To(l){if(!vi(l))return function Ff(l){var b=[];if(null!=l)for(var oe in Gi(l))b.push(oe);return b}(l);var b=hd(l),oe=[];for(var nt in l)"constructor"==nt&&(b||!Yt.call(l,nt))||oe.push(nt);return oe}(l)}var lh=Hl(function(l,b,oe){Or(l,b,oe)}),ch=Hl(function(l,b,oe,nt){Or(l,b,oe,nt)}),dh=pc(function(l,b){var oe={};if(null==l)return oe;var nt=!1;b=Nt(b,function(Vn){return Vn=Ra(Vn,l),nt||(nt=Vn.length>1),Vn}),Ma(l,Dh(l),oe),nt&&(oe=vl(oe,7,Ah));for(var on=b.length;on--;)Pu(oe,b[on]);return oe}),fp=pc(function(l,b){return null==l?{}:function yo(l,b){return ta(l,b,function(oe,nt){return cf(l,nt)})}(l,b)});function uf(l,b){if(null==l)return{};var oe=Nt(Dh(l),function(nt){return[nt]});return b=ts(b),ta(l,oe,function(nt,on){return b(nt,on[0])})}var Hs=ru(Ja),Sa=ru(ol);function Ul(l){return null==l?[]:be(l,Ja(l))}var sc=Ad(function(l,b,oe){return b=b.toLowerCase(),l+(oe?xc(b):b)});function xc(l){return vp(_a(l).toLowerCase())}function pp(l){return(l=_a(l))&&l.replace(Pi,yr).replace(os,"")}var F_=Ad(function(l,b,oe){return l+(oe?"-":"")+b.toLowerCase()}),B_=Ad(function(l,b,oe){return l+(oe?" ":"")+b.toLowerCase()}),Ag=Mf("toLowerCase"),Tm=Ad(function(l,b,oe){return l+(oe?"_":"")+b.toLowerCase()}),j_=Ad(function(l,b,oe){return l+(oe?" ":"")+vp(b)}),Ig=Ad(function(l,b,oe){return l+(oe?" ":"")+b.toUpperCase()}),vp=Mf("toUpperCase");function Im(l,b,oe){return l=_a(l),(b=oe?u:b)===u?function wi(Hn){return ur.test(Hn)}(l)?function Ur(Hn){return Hn.match(Rs)||[]}(l):function pi(Hn){return Hn.match(wn)||[]}(l):l.match(b)||[]}var yp=Ts(function(l,b){try{return xr(l,u,b)}catch(oe){return Mo(oe)?oe:new Xr(oe)}}),Rg=pc(function(l,b){return Bi(b,function(oe){oe=tc(oe),ul(l,oe,vu(l[oe],l))}),l});function xp(l){return function(){return l}}var pf=Vu(),Og=Vu(!0);function Pl(l){return l}function hh(l){return oo("function"==typeof l?l:vl(l,1))}var $_=Ts(function(l,b){return function(oe){return Fe(oe,l,b)}}),W_=Ts(function(l,b){return function(oe){return Fe(l,oe,b)}});function Om(l,b,oe){var nt=Ja(b),on=jl(b,nt);null==oe&&(!vi(b)||!on.length&&nt.length)&&(oe=b,b=l,l=this,on=jl(b,Ja(b)));var Vn=!(vi(oe)&&"chain"in oe&&!oe.chain),gr=Qo(l);return Bi(on,function(Dr){var Qr=b[Dr];l[Dr]=Qr,gr&&(l.prototype[Dr]=function(){var Qi=this.__chain__;if(Vn||Qi){var Ki=l(this.__wrapped__);return(Ki.__actions__=ja(this.__actions__)).push({func:Qr,args:arguments,thisArg:l}),Ki.__chain__=Qi,Ki}return Qr.apply(l,nn([this.value()],arguments))})}),l}function Ep(){}var Fg=Nc(Nt),Bg=Nc(xn),fh=Nc(Cr);function Pm(l){return Ih(l)?Qe(tc(l)):function sa(l){return function(b){return yl(b,l)}}(l)}var K_=ju(),wp=ju(!0);function Gd(){return[]}function mf(){return!1}var Nm=ql(function(l,b){return l+b},0),X_=Gl("ceil"),Y_=ql(function(l,b){return l/b},1),Q_=Gl("floor"),Hg=ql(function(l,b){return l*b},1),tv=Gl("round"),nv=ql(function(l,b){return l-b},0);return Cn.after=function rd(l,b){if("function"!=typeof b)throw new Ni(w);return l=Es(l),function(){if(--l<1)return b.apply(this,arguments)}},Cn.ary=rp,Cn.assign=sf,Cn.assignIn=Am,Cn.assignInWith=ih,Cn.assignWith=wu,Cn.at=Cu,Cn.before=_u,Cn.bind=vu,Cn.bindAll=Rg,Cn.bindKey=ip,Cn.castArray=function qt(){if(!arguments.length)return[];var l=arguments[0];return qn(l)?l:[l]},Cn.chain=Zu,Cn.chunk=function fd(l,b,oe){b=(oe?fl(l,b,oe):b===u)?1:Ho(Es(b),0);var nt=null==l?0:l.length;if(!nt||b<1)return[];for(var on=0,Vn=0,gr=kn(ao(nt/b));on<nt;)gr[Vn++]=Bl(l,on,on+=b);return gr},Cn.compact=function Lf(l){for(var b=-1,oe=null==l?0:l.length,nt=0,on=[];++b<oe;){var Vn=l[b];Vn&&(on[nt++]=Vn)}return on},Cn.concat=function Uf(){var l=arguments.length;if(!l)return[];for(var b=kn(l-1),oe=arguments[0],nt=l;nt--;)b[nt-1]=arguments[nt];return nn(qn(oe)?ja(oe):[oe],fs(b,1))},Cn.cond=function bp(l){var b=null==l?0:l.length,oe=ts();return l=b?Nt(l,function(nt){if("function"!=typeof nt[1])throw new Ni(w);return[oe(nt[0]),nt[1]]}):[],Ts(function(nt){for(var on=-1;++on<b;){var Vn=l[on];if(xr(Vn[0],this,nt))return xr(Vn[1],this,nt)}})},Cn.conforms=function ff(l){return function Su(l){var b=Ja(l);return function(oe){return Yl(oe,l,b)}}(vl(l,1))},Cn.constant=xp,Cn.countBy=Ju,Cn.create=function sp(l,b){var oe=Vl(l);return null==b?oe:uc(oe,b)},Cn.curry=function rf(l,b,oe){var nt=Zl(l,8,u,u,u,u,u,b=oe?u:b);return nt.placeholder=rf.placeholder,nt},Cn.curryRight=function nh(l,b,oe){var nt=Zl(l,16,u,u,u,u,u,b=oe?u:b);return nt.placeholder=nh.placeholder,nt},Cn.debounce=yu,Cn.defaults=Hd,Cn.defaultsDeep=af,Cn.defer=h,Cn.delay=s,Cn.difference=Ku,Cn.differenceBy=nc,Cn.differenceWith=Vf,Cn.drop=function Xu(l,b,oe){var nt=null==l?0:l.length;return nt?Bl(l,(b=oe||b===u?1:Es(b))<0?0:b,nt):[]},Cn.dropRight=function pd(l,b,oe){var nt=null==l?0:l.length;return nt?Bl(l,0,(b=nt-(b=oe||b===u?1:Es(b)))<0?0:b):[]},Cn.dropRightWhile=function sm(l,b){return l&&l.length?Zd(l,ts(b,3),!0,!0):[]},Cn.dropWhile=function Oh(l,b){return l&&l.length?Zd(l,ts(b,3),!0):[]},Cn.fill=function lu(l,b,oe,nt){var on=null==l?0:l.length;return on?(oe&&"number"!=typeof oe&&fl(l,b,oe)&&(oe=0,nt=on),function Ed(l,b,oe,nt){var on=l.length;for((oe=Es(oe))<0&&(oe=-oe>on?0:on+oe),(nt=nt===u||nt>on?on:Es(nt))<0&&(nt+=on),nt=oe>nt?0:jd(nt);oe<nt;)l[oe++]=b;return l}(l,b,oe,nt)):[]},Cn.filter=function Xh(l,b){return(qn(l)?Wt:Xd)(l,ts(b,3))},Cn.flatMap=function fu(l,b){return fs(_d(l,b),1)},Cn.flatMapDeep=function gd(l,b){return fs(_d(l,b),Bt)},Cn.flatMapDepth=function eh(l,b,oe){return oe=oe===u?1:Es(oe),fs(_d(l,b),oe)},Cn.flatten=jc,Cn.flattenDeep=function am(l){return null!=l&&l.length?fs(l,Bt):[]},Cn.flattenDepth=function lm(l,b){return null!=l&&l.length?fs(l,b=b===u?1:Es(b)):[]},Cn.flip=function g(l){return Zl(l,512)},Cn.flow=pf,Cn.flowRight=Og,Cn.fromPairs=function cm(l){for(var b=-1,oe=null==l?0:l.length,nt={};++b<oe;){var on=l[b];nt[on[0]]=on[1]}return nt},Cn.functions=function lf(l){return null==l?[]:jl(l,Ja(l))},Cn.functionsIn=function Eg(l){return null==l?[]:jl(l,ol(l))},Cn.groupBy=xm,Cn.initial=function um(l){return null!=l&&l.length?Bl(l,0,-1):[]},Cn.intersection=Il,Cn.intersectionBy=kd,Cn.intersectionWith=Yu,Cn.invert=df,Cn.invertBy=wg,Cn.invokeMap=nd,Cn.iteratee=hh,Cn.keyBy=qh,Cn.keys=Ja,Cn.keysIn=ol,Cn.map=_d,Cn.mapKeys=function Au(l,b){var oe={};return b=ts(b,3),Ea(l,function(nt,on,Vn){ul(oe,b(nt,on,Vn),nt)}),oe},Cn.mapValues=function Mu(l,b){var oe={};return b=ts(b,3),Ea(l,function(nt,on,Vn){ul(oe,on,b(nt,on,Vn))}),oe},Cn.matches=function z_(l){return Oo(vl(l,1))},Cn.matchesProperty=function Pg(l,b){return Uo(l,vl(b,1))},Cn.memoize=c,Cn.merge=lh,Cn.mergeWith=ch,Cn.method=$_,Cn.methodOf=W_,Cn.mixin=Om,Cn.negate=O,Cn.nthArg=function Bs(l){return l=Es(l),Ts(function(b){return Fs(b,l)})},Cn.omit=dh,Cn.omitBy=function hp(l,b){return uf(l,O(ts(b)))},Cn.once=function X(l){return _u(2,l)},Cn.orderBy=function Zh(l,b,oe,nt){return null==l?[]:(qn(b)||(b=null==b?[]:[b]),qn(oe=nt?u:oe)||(oe=null==oe?[]:[oe]),Xs(l,b,oe))},Cn.over=Fg,Cn.overArgs=ie,Cn.overEvery=Bg,Cn.overSome=fh,Cn.partial=ne,Cn.partialRight=we,Cn.partition=Em,Cn.pick=fp,Cn.pickBy=uf,Cn.property=Pm,Cn.propertyOf=function Ng(l){return function(b){return null==l?u:yl(l,b)}},Cn.pull=du,Cn.pullAll=Fh,Cn.pullAllBy=function rc(l,b,oe){return l&&l.length&&b&&b.length?Us(l,b,ts(oe,2)):l},Cn.pullAllWith=function Bh(l,b,oe){return l&&l.length&&b&&b.length?Us(l,b,u,oe):l},Cn.pullAt=jf,Cn.range=K_,Cn.rangeRight=wp,Cn.rearg=Te,Cn.reject=function wm(l,b){return(qn(l)?Wt:Xd)(l,O(ts(b,3)))},Cn.remove=function Hf(l,b){var oe=[];if(!l||!l.length)return oe;var nt=-1,on=[],Vn=l.length;for(b=ts(b,3);++nt<Vn;){var gr=l[nt];b(gr,nt,l)&&(oe.push(gr),on.push(nt))}return is(l,on),oe},Cn.rest=function Me(l,b){if("function"!=typeof l)throw new Ni(w);return Ts(l,b=b===u?b:Es(b))},Cn.reverse=Gc,Cn.sampleSize=function gu(l,b,oe){return b=(oe?fl(l,b,oe):b===u)?1:Es(b),(qn(l)?Wo:hc)(l,b)},Cn.set=function mo(l,b,oe){return null==l?l:wd(l,b,oe)},Cn.setWith=function Vs(l,b,oe,nt){return nt="function"==typeof nt?nt:u,null==l?l:wd(l,b,oe,nt)},Cn.shuffle=function tf(l){return(qn(l)?$s:Zp)(l)},Cn.slice=function hm(l,b,oe){var nt=null==l?0:l.length;return nt?(oe&&"number"!=typeof oe&&fl(l,b,oe)?(b=0,oe=nt):(b=null==b?0:Es(b),oe=oe===u?nt:Es(oe)),Bl(l,b,oe)):[]},Cn.sortBy=xg,Cn.sortedUniq=function uu(l){return l&&l.length?Ou(l):[]},Cn.sortedUniqBy=function Nh(l,b){return l&&l.length?Ou(l,ts(b,2)):[]},Cn.split=function V_(l,b,oe){return oe&&"number"!=typeof oe&&fl(l,b,oe)&&(b=oe=u),(oe=oe===u?he:oe>>>0)?(l=_a(l))&&("string"==typeof b||null!=b&&!bu(b))&&!(b=za(b))&&Lr(l)?qs(hr(l),0,oe):l.split(b,oe):[]},Cn.spread=function Le(l,b){if("function"!=typeof l)throw new Ni(w);return b=null==b?0:Ho(Es(b),0),Ts(function(oe){var nt=oe[b],on=qs(oe,0,b);return nt&&nn(on,nt),xr(l,this,on)})},Cn.tail=function Lh(l){var b=null==l?0:l.length;return b?Bl(l,1,b):[]},Cn.take=function Uh(l,b,oe){return l&&l.length?Bl(l,0,(b=oe||b===u?1:Es(b))<0?0:b):[]},Cn.takeRight=function Vh(l,b,oe){var nt=null==l?0:l.length;return nt?Bl(l,(b=nt-(b=oe||b===u?1:Es(b)))<0?0:b,nt):[]},Cn.takeRightWhile=function Kf(l,b){return l&&l.length?Zd(l,ts(b,3),!1,!0):[]},Cn.takeWhile=function mm(l,b){return l&&l.length?Zd(l,ts(b,3)):[]},Cn.tap=function Jf(l,b){return b(l),l},Cn.throttle=function at(l,b,oe){var nt=!0,on=!0;if("function"!=typeof l)throw new Ni(w);return vi(oe)&&(nt="leading"in oe?!!oe.leading:nt,on="trailing"in oe?!!oe.trailing:on),yu(l,b,{leading:nt,maxWait:b,trailing:on})},Cn.thru=hu,Cn.toArray=Ta,Cn.toPairs=Hs,Cn.toPairsIn=Sa,Cn.toPath=function Bm(l){return qn(l)?Nt(l,tc):Ss(l)?[l]:ja(Pd(_a(l)))},Cn.toPlainObject=bc,Cn.transform=function ya(l,b,oe){var nt=qn(l),on=nt||bi(l)||ic(l);if(b=ts(b,4),null==oe){var Vn=l&&l.constructor;oe=on?nt?new Vn:[]:vi(l)&&Qo(Vn)?Vl(Fo(l)):{}}return(on?Bi:Ea)(l,function(gr,Dr,Qr){return b(oe,gr,Dr,Qr)}),oe},Cn.unary=function Ft(l){return rp(l,1)},Cn.union=jh,Cn.unionBy=Xf,Cn.unionWith=Hh,Cn.uniq=function Yf(l){return l&&l.length?Fc(l):[]},Cn.uniqBy=function Fd(l,b){return l&&l.length?Fc(l,ts(b,2)):[]},Cn.uniqWith=function gm(l,b){return b="function"==typeof b?b:u,l&&l.length?Fc(l,u,b):[]},Cn.unset=function js(l,b){return null==l||Pu(l,b)},Cn.unzip=qu,Cn.unzipWith=_m,Cn.update=function el(l,b,oe){return null==l?l:ku(l,b,bh(oe))},Cn.updateWith=function Ll(l,b,oe,nt){return nt="function"==typeof nt?nt:u,null==l?l:ku(l,b,bh(oe),nt)},Cn.values=Ul,Cn.valuesIn=function uh(l){return null==l?[]:be(l,ol(l))},Cn.without=vm,Cn.words=Im,Cn.wrap=function Gt(l,b){return ne(bh(b),l)},Cn.xor=Qf,Cn.xorBy=Gh,Cn.xorWith=ym,Cn.zip=zc,Cn.zipObject=function qf(l,b){return Fu(l||[],b||[],ia)},Cn.zipObjectDeep=function Zf(l,b){return Fu(l||[],b||[],wd)},Cn.zipWith=zh,Cn.entries=Hs,Cn.entriesIn=Sa,Cn.extend=Am,Cn.extendWith=ih,Om(Cn,Cn),Cn.add=Nm,Cn.attempt=yp,Cn.camelCase=sc,Cn.capitalize=xc,Cn.ceil=X_,Cn.clamp=function pl(l,b,oe){return oe===u&&(oe=b,b=u),oe!==u&&(oe=(oe=$a(oe))==oe?oe:0),b!==u&&(b=(b=$a(b))==b?b:0),Tc($a(l),b,oe)},Cn.clone=function Ut(l){return vl(l,4)},Cn.cloneDeep=function Un(l){return vl(l,5)},Cn.cloneDeepWith=function Pn(l,b){return vl(l,5,b="function"==typeof b?b:u)},Cn.cloneWith=function rn(l,b){return vl(l,4,b="function"==typeof b?b:u)},Cn.conformsTo=function Rn(l,b){return null==b||Yl(l,b,Ja(b))},Cn.deburr=pp,Cn.defaultTo=function Rm(l,b){return null==l||l!=l?b:l},Cn.divide=Y_,Cn.endsWith=function Cg(l,b,oe){l=_a(l),b=za(b);var nt=l.length,on=oe=oe===u?nt:Tc(Es(oe),0,nt);return(oe-=b.length)>=0&&l.slice(oe,on)==b},Cn.eq=An,Cn.escape=function Dm(l){return(l=_a(l))&&At.test(l)?l.replace(lr,Vr):l},Cn.escapeRegExp=function mp(l){return(l=_a(l))&&En.test(l)?l.replace(Vt,"\\$&"):l},Cn.every=function Nd(l,b,oe){var nt=qn(l)?xn:Iu;return oe&&fl(l,b,oe)&&(b=u),nt(l,ts(b,3))},Cn.find=Yh,Cn.findIndex=md,Cn.findKey=function ap(l,b){return ri(l,ts(b,3),Ea)},Cn.findLast=Ld,Cn.findLastIndex=cu,Cn.findLastKey=function lp(l,b){return ri(l,ts(b,3),Yd)},Cn.floor=Q_,Cn.forEach=pu,Cn.forEachRight=mu,Cn.forIn=function oh(l,b){return null==l?l:Oc(l,ts(b,3),ol)},Cn.forInRight=function cp(l,b){return null==l?l:Pc(l,ts(b,3),ol)},Cn.forOwn=function dp(l,b){return l&&Ea(l,ts(b,3))},Cn.forOwnRight=function up(l,b){return l&&Yd(l,ts(b,3))},Cn.get=sh,Cn.gt=Ln,Cn.gte=or,Cn.has=function ah(l,b){return null!=l&&ou(l,b,Qd)},Cn.hasIn=cf,Cn.head=Ph,Cn.identity=Pl,Cn.includes=function Qh(l,b,oe,nt){l=Yr(l)?l:Ul(l),oe=oe&&!nt?Es(oe):0;var on=l.length;return oe<0&&(oe=Ho(on+oe,0)),wa(l)?oe<=on&&l.indexOf(b,oe)>-1:!!on&&vo(l,b,oe)>-1},Cn.indexOf=function dm(l,b,oe){var nt=null==l?0:l.length;if(!nt)return-1;var on=null==oe?0:Es(oe);return on<0&&(on=Ho(nt+on,0)),vo(l,b,on)},Cn.inRange=function Ol(l,b,oe){return b=xl(b),oe===u?(oe=b,b=0):oe=xl(oe),function r(l,b,oe){return l>=$o(b,oe)&&l<Ho(b,oe)}(l=$a(l),b,oe)},Cn.invoke=Mm,Cn.isArguments=_r,Cn.isArray=qn,Cn.isArrayBuffer=Br,Cn.isArrayLike=Yr,Cn.isArrayLikeObject=Hr,Cn.isBoolean=function Nr(l){return!0===l||!1===l||po(l)&&Pa(l)==Ne},Cn.isBuffer=bi,Cn.isDate=gi,Cn.isElement=function xi(l){return po(l)&&1===l.nodeType&&!vc(l)},Cn.isEmpty=function Fr(l){if(null==l)return!0;if(Yr(l)&&(qn(l)||"string"==typeof l||"function"==typeof l.splice||bi(l)||ic(l)||_r(l)))return!l.length;var b=Qa(l);if(b==T||b==L)return!l.size;if(hd(l))return!yi(l).length;for(var oe in l)if(Yt.call(l,oe))return!1;return!0},Cn.isEqual=function Si(l,b){return On(l,b)},Cn.isEqualWith=function ki(l,b,oe){var nt=(oe="function"==typeof oe?oe:u)?oe(l,b):u;return nt===u?On(l,b,u,oe):!!nt},Cn.isError=Mo,Cn.isFinite=function bo(l){return"number"==typeof l&&hs(l)},Cn.isFunction=Qo,Cn.isInteger=Ii,Cn.isLength=Tr,Cn.isMap=la,Cn.isMatch=function Zs(l,b){return l===b||Mr(l,b,Lc(b))},Cn.isMatchWith=function As(l,b,oe){return oe="function"==typeof oe?oe:u,Mr(l,b,Lc(b),oe)},Cn.isNaN=function La(l){return zl(l)&&l!=+l},Cn.isNative=function ka(l){if(im(l))throw new Xr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ii(l)},Cn.isNil=function Rl(l){return null==l},Cn.isNull=function Za(l){return null===l},Cn.isNumber=zl,Cn.isObject=vi,Cn.isObjectLike=po,Cn.isPlainObject=vc,Cn.isRegExp=bu,Cn.isSafeInteger=function xu(l){return Ii(l)&&l>=-de&&l<=de},Cn.isSet=yc,Cn.isString=wa,Cn.isSymbol=Ss,Cn.isTypedArray=ic,Cn.isUndefined=function Ud(l){return l===u},Cn.isWeakMap=function rh(l){return po(l)&&Qa(l)==Pt},Cn.isWeakSet=function Eu(l){return po(l)&&"[object WeakSet]"==Pa(l)},Cn.join=function kh(l,b){return null==l?"":na.call(l,b)},Cn.kebabCase=F_,Cn.last=ga,Cn.lastIndexOf=function Hc(l,b,oe){var nt=null==l?0:l.length;if(!nt)return-1;var on=nt;return oe!==u&&(on=(on=Es(oe))<0?Ho(nt+on,0):$o(on,nt-1)),b==b?function pn(Hn,br,kn){for(var rr=kn+1;rr--;)if(Hn[rr]===br)return rr;return rr}(l,b,on):Xi(l,Ao,on,!0)},Cn.lowerCase=B_,Cn.lowerFirst=Ag,Cn.lt=Vd,Cn.lte=oc,Cn.max=function Vg(l){return l&&l.length?Qc(l,Pl,kc):u},Cn.maxBy=function q_(l,b){return l&&l.length?Qc(l,ts(b,2),kc):u},Cn.mean=function Z_(l){return st(l,Pl)},Cn.meanBy=function J_(l,b){return st(l,ts(b,2))},Cn.min=function ev(l){return l&&l.length?Qc(l,Pl,Bo):u},Cn.minBy=function jg(l,b){return l&&l.length?Qc(l,ts(b,2),Bo):u},Cn.stubArray=Gd,Cn.stubFalse=mf,Cn.stubObject=function gf(){return{}},Cn.stubString=function Lg(){return""},Cn.stubTrue=function km(){return!0},Cn.multiply=Hg,Cn.nth=function Qu(l,b){return l&&l.length?Fs(l,Es(b)):u},Cn.noConflict=function kg(){return qo._===this&&(qo._=zn),this},Cn.noop=Ep,Cn.now=nf,Cn.pad=function N_(l,b,oe){l=_a(l);var nt=(b=Es(b))?Bn(l):0;if(!b||nt>=b)return l;var on=(b-nt)/2;return fc(gs(on),oe)+l+fc(ao(on),oe)},Cn.padEnd=function L_(l,b,oe){l=_a(l);var nt=(b=Es(b))?Bn(l):0;return b&&nt<b?l+fc(b-nt,oe):l},Cn.padStart=function U_(l,b,oe){l=_a(l);var nt=(b=Es(b))?Bn(l):0;return b&&nt<b?fc(b-nt,oe)+l:l},Cn.parseInt=function Mg(l,b,oe){return oe||null==b?b=0:b&&(b=+b),Do(_a(l).replace(it,""),b||0)},Cn.random=function $l(l,b,oe){if(oe&&"boolean"!=typeof oe&&fl(l,b,oe)&&(b=oe=u),oe===u&&("boolean"==typeof b?(oe=b,b=u):"boolean"==typeof l&&(oe=l,l=u)),l===u&&b===u?(l=0,b=1):(l=xl(l),b===u?(b=l,l=0):b=xl(b)),l>b){var nt=l;l=b,b=nt}if(oe||l%1||b%1){var on=Ls();return $o(l+on*(b-l+ls("1e-"+((on+"").length-1))),b)}return rl(l,b)},Cn.reduce=function Jh(l,b,oe){var nt=qn(l)?Zn:ft,on=arguments.length<3;return nt(l,ts(b,4),oe,on,Na)},Cn.reduceRight=function ef(l,b,oe){var nt=qn(l)?Er:ft,on=arguments.length<3;return nt(l,ts(b,4),oe,on,Rc)},Cn.repeat=function hf(l,b,oe){return b=(oe?fl(l,b,oe):b===u)?1:Es(b),qc(_a(l),b)},Cn.replace=function gp(){var l=arguments,b=_a(l[0]);return l.length<3?b:b.replace(l[1],l[2])},Cn.result=function Jr(l,b,oe){var nt=-1,on=(b=Ra(b,l)).length;for(on||(on=1,l=u);++nt<on;){var Vn=null==l?u:l[tc(b[nt])];Vn===u&&(nt=on,Vn=oe),l=Qo(Vn)?Vn.call(l):Vn}return l},Cn.round=tv,Cn.runInContext=Hn,Cn.sample=function Cm(l){return(qn(l)?Di:Ya)(l)},Cn.size=function th(l){if(null==l)return 0;if(Yr(l))return wa(l)?Bn(l):l.length;var b=Qa(l);return b==T||b==L?l.size:yi(l).length},Cn.snakeCase=Tm,Cn.some=function np(l,b,oe){var nt=qn(l)?Cr:Jp;return oe&&fl(l,b,oe)&&(b=u),nt(l,ts(b,3))},Cn.sortedIndex=function Gf(l,b){return Ru(l,b)},Cn.sortedIndexBy=function fm(l,b,oe){return qd(l,b,ts(oe,2))},Cn.sortedIndexOf=function pm(l,b){var oe=null==l?0:l.length;if(oe){var nt=Ru(l,b);if(nt<oe&&An(l[nt],b))return nt}return-1},Cn.sortedLastIndex=function zf(l,b){return Ru(l,b,!0)},Cn.sortedLastIndexBy=function $f(l,b,oe){return qd(l,b,ts(oe,2),!0)},Cn.sortedLastIndexOf=function Wf(l,b){if(null!=l&&l.length){var nt=Ru(l,b,!0)-1;if(An(l[nt],b))return nt}return-1},Cn.startCase=j_,Cn.startsWith=function Sm(l,b,oe){return l=_a(l),oe=null==oe?0:Tc(Es(oe),0,l.length),b=za(b),l.slice(oe,oe+b.length)==b},Cn.subtract=nv,Cn.sum=function Wl(l){return l&&l.length?St(l,Pl):0},Cn.sumBy=function rv(l,b){return l&&l.length?St(l,ts(b,2)):0},Cn.template=function Dg(l,b,oe){var nt=Cn.templateSettings;oe&&fl(l,b,oe)&&(b=u),l=_a(l),b=ih({},b,nt,Ch);var Dr,Qr,on=ih({},b.imports,nt.imports,Ch),Vn=Ja(on),gr=be(on,Vn),Qi=0,Ki=b.interpolate||ti,lo="__p += '",So=Vi((b.escape||ti).source+"|"+Ki.source+"|"+(Ki===gt?sr:ti).source+"|"+(b.evaluate||ti).source+"|$","g"),Go="//# sourceURL="+(Yt.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mi+"]")+"\n";l.replace(So,function(Ko,Js,da,ac,kl,Kl){return da||(da=ac),lo+=l.slice(Qi,Kl).replace(mr,ci),Js&&(Dr=!0,lo+="' +\n__e("+Js+") +\n'"),kl&&(Qr=!0,lo+="';\n"+kl+";\n__p += '"),da&&(lo+="' +\n((__t = ("+da+")) == null ? '' : __t) +\n'"),Qi=Kl+Ko.length,Ko}),lo+="';\n";var as=Yt.call(b,"variable")&&b.variable;if(as){if(In.test(as))throw new Xr("Invalid `variable` option passed into `_.template`")}else lo="with (obj) {\n"+lo+"\n}\n";lo=(Qr?lo.replace(rt,""):lo).replace(Kt,"$1").replace(Dn,"$1;"),lo="function("+(as||"obj")+") {\n"+(as?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Dr?", __e = _.escape":"")+(Qr?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+lo+"return __p\n}";var Ys=yp(function(){return mi(Vn,Go+"return "+lo).apply(u,gr)});if(Ys.source=lo,Mo(Ys))throw Ys;return Ys},Cn.times=function Fm(l,b){if((l=Es(l))<1||l>de)return[];var oe=he,nt=$o(l,he);b=ts(b),l-=he;for(var on=cn(nt,b);++oe<l;)b(oe);return on},Cn.toFinite=xl,Cn.toInteger=Es,Cn.toLength=jd,Cn.toLower=function Du(l){return _a(l).toLowerCase()},Cn.toNumber=$a,Cn.toSafeInteger=function op(l){return l?Tc(Es(l),-de,de):0===l?l:0},Cn.toString=_a,Cn.toUpper=function Tg(l){return _a(l).toUpperCase()},Cn.trim=function Sg(l,b,oe){if((l=_a(l))&&(oe||b===u))return wt(l);if(!l||!(b=za(b)))return l;var nt=hr(l),on=hr(b);return qs(nt,$t(nt,on),Sn(nt,on)+1).join("")},Cn.trimEnd=function H_(l,b,oe){if((l=_a(l))&&(oe||b===u))return l.slice(0,cr(l)+1);if(!l||!(b=za(b)))return l;var nt=hr(l);return qs(nt,0,Sn(nt,hr(b))+1).join("")},Cn.trimStart=function Wy(l,b,oe){if((l=_a(l))&&(oe||b===u))return l.replace(it,"");if(!l||!(b=za(b)))return l;var nt=hr(l);return qs(nt,$t(nt,hr(b))).join("")},Cn.truncate=function _p(l,b){var oe=30,nt="...";if(vi(b)){var on="separator"in b?b.separator:on;oe="length"in b?Es(b.length):oe,nt="omission"in b?za(b.omission):nt}var Vn=(l=_a(l)).length;if(Lr(l)){var gr=hr(l);Vn=gr.length}if(oe>=Vn)return l;var Dr=oe-Bn(nt);if(Dr<1)return nt;var Qr=gr?qs(gr,0,Dr).join(""):l.slice(0,Dr);if(on===u)return Qr+nt;if(gr&&(Dr+=Qr.length-Dr),bu(on)){if(l.slice(Dr).search(on)){var Qi,Ki=Qr;for(on.global||(on=Vi(on.source,_a(Gr.exec(on))+"g")),on.lastIndex=0;Qi=on.exec(Ki);)var lo=Qi.index;Qr=Qr.slice(0,lo===u?Dr:lo)}}else if(l.indexOf(za(on),Dr)!=Dr){var So=Qr.lastIndexOf(on);So>-1&&(Qr=Qr.slice(0,So))}return Qr+nt},Cn.unescape=function G_(l){return(l=_a(l))&&an.test(l)?l.replace(Jn,kr):l},Cn.uniqueId=function Ug(l){var b=++De;return _a(l)+b},Cn.upperCase=Ig,Cn.upperFirst=vp,Cn.each=pu,Cn.eachRight=mu,Cn.first=Ph,Om(Cn,function(){var l={};return Ea(Cn,function(b,oe){Yt.call(Cn.prototype,oe)||(l[oe]=b)}),l}(),{chain:!1}),Cn.VERSION="4.17.21",Bi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){Cn[l].placeholder=Cn}),Bi(["drop","take"],function(l,b){ks.prototype[l]=function(oe){oe=oe===u?1:Ho(Es(oe),0);var nt=this.__filtered__&&!b?new ks(this):this.clone();return nt.__filtered__?nt.__takeCount__=$o(oe,nt.__takeCount__):nt.__views__.push({size:$o(oe,he),type:l+(nt.__dir__<0?"Right":"")}),nt},ks.prototype[l+"Right"]=function(oe){return this.reverse()[l](oe).reverse()}}),Bi(["filter","map","takeWhile"],function(l,b){var oe=b+1,nt=1==oe||3==oe;ks.prototype[l]=function(on){var Vn=this.clone();return Vn.__iteratees__.push({iteratee:ts(on,3),type:oe}),Vn.__filtered__=Vn.__filtered__||nt,Vn}}),Bi(["head","last"],function(l,b){var oe="take"+(b?"Right":"");ks.prototype[l]=function(){return this[oe](1).value()[0]}}),Bi(["initial","tail"],function(l,b){var oe="drop"+(b?"":"Right");ks.prototype[l]=function(){return this.__filtered__?new ks(this):this[oe](1)}}),ks.prototype.compact=function(){return this.filter(Pl)},ks.prototype.find=function(l){return this.filter(l).head()},ks.prototype.findLast=function(l){return this.reverse().find(l)},ks.prototype.invokeMap=Ts(function(l,b){return"function"==typeof l?new ks(this):this.map(function(oe){return Fe(oe,l,b)})}),ks.prototype.reject=function(l){return this.filter(O(ts(l)))},ks.prototype.slice=function(l,b){l=Es(l);var oe=this;return oe.__filtered__&&(l>0||b<0)?new ks(oe):(l<0?oe=oe.takeRight(-l):l&&(oe=oe.drop(l)),b!==u&&(oe=(b=Es(b))<0?oe.dropRight(-b):oe.take(b-l)),oe)},ks.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},ks.prototype.toArray=function(){return this.take(he)},Ea(ks.prototype,function(l,b){var oe=/^(?:filter|find|map|reject)|While$/.test(b),nt=/^(?:head|last)$/.test(b),on=Cn[nt?"take"+("last"==b?"Right":""):b],Vn=nt||/^find/.test(b);on&&(Cn.prototype[b]=function(){var gr=this.__wrapped__,Dr=nt?[1]:arguments,Qr=gr instanceof ks,Qi=Dr[0],Ki=Qr||qn(gr),lo=function(Js){var da=on.apply(Cn,nn([Js],Dr));return nt&&So?da[0]:da};Ki&&oe&&"function"==typeof Qi&&1!=Qi.length&&(Qr=Ki=!1);var So=this.__chain__,as=Vn&&!So,Ys=Qr&&!this.__actions__.length;if(!Vn&&Ki){gr=Ys?gr:new ks(this);var Ko=l.apply(gr,Dr);return Ko.__actions__.push({func:hu,args:[lo],thisArg:u}),new jo(Ko,So)}return as&&Ys?l.apply(this,Dr):(Ko=this.thru(lo),as?nt?Ko.value()[0]:Ko.value():Ko)})}),Bi(["pop","push","shift","sort","splice","unshift"],function(l){var b=zs[l],oe=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",nt=/^(?:pop|shift)$/.test(l);Cn.prototype[l]=function(){var on=arguments;if(nt&&!this.__chain__){var Vn=this.value();return b.apply(qn(Vn)?Vn:[],on)}return this[oe](function(gr){return b.apply(qn(gr)?gr:[],on)})}}),Ea(ks.prototype,function(l,b){var oe=Cn[b];if(oe){var nt=oe.name+"";Yt.call(tl,nt)||(tl[nt]=[]),tl[nt].push({name:b,func:oe})}}),tl[ed(u,2).name]=[{name:"wrapper",func:u}],ks.prototype.clone=function Wc(){var l=new ks(this.__wrapped__);return l.__actions__=ja(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=ja(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=ja(this.__views__),l},ks.prototype.reverse=function Fl(){if(this.__filtered__){var l=new ks(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},ks.prototype.value=function sd(){var l=this.__wrapped__.value(),b=this.__dir__,oe=qn(l),nt=b<0,on=oe?l.length:0,Vn=function If(l,b,oe){for(var nt=-1,on=oe.length;++nt<on;){var Vn=oe[nt],gr=Vn.size;switch(Vn.type){case"drop":l+=gr;break;case"dropRight":b-=gr;break;case"take":b=$o(b,l+gr);break;case"takeRight":l=Ho(l,b-gr)}}return{start:l,end:b}}(0,on,this.__views__),gr=Vn.start,Dr=Vn.end,Qr=Dr-gr,Qi=nt?Dr:gr-1,Ki=this.__iteratees__,lo=Ki.length,So=0,Go=$o(Qr,this.__takeCount__);if(!oe||!nt&&on==Qr&&Go==Qr)return Tl(l,this.__actions__);var as=[];e:for(;Qr--&&So<Go;){for(var Ys=-1,Ko=l[Qi+=b];++Ys<lo;){var Js=Ki[Ys],ac=Js.type,kl=(0,Js.iteratee)(Ko);if(2==ac)Ko=kl;else if(!kl){if(1==ac)continue e;break e}}as[So++]=Ko}return as},Cn.prototype.at=ep,Cn.prototype.chain=function tp(){return Zu(this)},Cn.prototype.commit=function $h(){return new jo(this.value(),this.__chain__)},Cn.prototype.next=function bg(){this.__values__===u&&(this.__values__=Ta(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?u:this.__values__[this.__index__++]}},Cn.prototype.plant=function Bd(l){for(var b,oe=this;oe instanceof gl;){var nt=_c(oe);nt.__index__=0,nt.__values__=u,b?on.__wrapped__=nt:b=nt;var on=nt;oe=oe.__wrapped__}return on.__wrapped__=l,b},Cn.prototype.reverse=function Wh(){var l=this.__wrapped__;if(l instanceof ks){var b=l;return this.__actions__.length&&(b=new ks(this)),(b=b.reverse()).__actions__.push({func:hu,args:[Gc],thisArg:u}),new jo(b,this.__chain__)}return this.thru(Gc)},Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=function Kh(){return Tl(this.__wrapped__,this.__actions__)},Cn.prototype.first=Cn.prototype.head,vt&&(Cn.prototype[vt]=function bm(){return this}),Cn}();qo._=Wi,(i=function(){return Wi}.call(Ve,E,Ve,en))!==u&&(en.exports=i)}.call(this)},73828:(en,Ve,E)=>{var i;!function(u,f,C){if(u){for(var S,x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},U=1;U<20;++U)x[111+U]="f"+U;for(U=0;U<=9;++U)x[U+96]=U.toString();$.prototype.bind=function(H,me,B){return this._bindMultiple.call(this,H=H instanceof Array?H:[H],me,B),this},$.prototype.unbind=function(H,me){return this.bind.call(this,H,function(){},me)},$.prototype.trigger=function(H,me){var B=this;return B._directMap[H+":"+me]&&B._directMap[H+":"+me]({},H),B},$.prototype.reset=function(){var H=this;return H._callbacks={},H._directMap={},H},$.prototype.stopCallback=function(H,me){if((" "+me.className+" ").indexOf(" mousetrap ")>-1||Y(me,this.target))return!1;if("composedPath"in H&&"function"==typeof H.composedPath){var ce=H.composedPath()[0];ce!==H.target&&(me=ce)}return"INPUT"==me.tagName||"SELECT"==me.tagName||"TEXTAREA"==me.tagName||me.isContentEditable},$.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},$.addKeycodes=function(H){for(var me in H)H.hasOwnProperty(me)&&(x[me]=H[me]);S=null},$.init=function(){var H=$(f);for(var me in H)"_"!==me.charAt(0)&&($[me]=function(B){return function(){return H[B].apply(H,arguments)}}(me))},$.init(),u.Mousetrap=$,en.exports&&(en.exports=$),void 0!==(i=function(){return $}.call(Ve,E,Ve,en))&&(en.exports=i)}function P(H,me,B){H.addEventListener?H.addEventListener(me,B,!1):H.attachEvent("on"+me,B)}function y(H){if("keypress"==H.type){var me=String.fromCharCode(H.which);return H.shiftKey||(me=me.toLowerCase()),me}return x[H.which]?x[H.which]:w[H.which]?w[H.which]:String.fromCharCode(H.which).toLowerCase()}function v(H,me){return H.sort().join(",")===me.sort().join(",")}function V(H){return"shift"==H||"ctrl"==H||"alt"==H||"meta"==H}function J(H,me,B){return B||(B=function Z(){if(!S)for(var H in S={},x)H>95&&H<112||x.hasOwnProperty(H)&&(S[x[H]]=H);return S}()[H]?"keydown":"keypress"),"keypress"==B&&me.length&&(B="keydown"),B}function ae(H,me){var B,ce,Oe,Ue=[];for(B=function te(H){return"+"===H?["+"]:(H=H.replace(/\+{2}/g,"+plus")).split("+")}(H),Oe=0;Oe<B.length;++Oe)k[ce=B[Oe]]&&(ce=k[ce]),me&&"keypress"!=me&&d[ce]&&(ce=d[ce],Ue.push("shift")),V(ce)&&Ue.push(ce);return{key:ce,modifiers:Ue,action:me=J(ce,Ue,me)}}function Y(H,me){return null!==H&&H!==f&&(H===me||Y(H.parentNode,me))}function $(H){var me=this;if(H=H||f,!(me instanceof $))return new $(H);me.target=H,me._callbacks={},me._directMap={};var ce,B={},Oe=!1,Ue=!1,qe=!1;function _e(Ce){Ce=Ce||{};var pt,Re=!1;for(pt in B)Ce[pt]?Re=!0:B[pt]=0;Re||(qe=!1)}function ht(Ce,Re,pt,zt,Mn,It){var Ne,Xe,Ot=[],re=pt.type;if(!me._callbacks[Ce])return[];for("keyup"==re&&V(Ce)&&(Re=[Ce]),Ne=0;Ne<me._callbacks[Ce].length;++Ne)Xe=me._callbacks[Ce][Ne],!zt&&Xe.seq&&B[Xe.seq]!=Xe.level||re!=Xe.action||("keypress"!=re||pt.metaKey||pt.ctrlKey)&&!v(Re,Xe.modifiers)||((!zt&&Xe.combo==Mn||zt&&Xe.seq==zt&&Xe.level==It)&&me._callbacks[Ce].splice(Ne,1),Ot.push(Xe));return Ot}function Bt(Ce,Re,pt,zt){me.stopCallback(Re,Re.target||Re.srcElement,pt,zt)||!1===Ce(Re,pt)&&(function G(H){H.preventDefault?H.preventDefault():H.returnValue=!1}(Re),function K(H){H.stopPropagation?H.stopPropagation():H.cancelBubble=!0}(Re))}function de(Ce){"number"!=typeof Ce.which&&(Ce.which=Ce.keyCode);var Re=y(Ce);if(Re){if("keyup"==Ce.type&&Oe===Re)return void(Oe=!1);me.handleKey(Re,function M(H){var me=[];return H.shiftKey&&me.push("shift"),H.altKey&&me.push("alt"),H.ctrlKey&&me.push("ctrl"),H.metaKey&&me.push("meta"),me}(Ce),Ce)}}function he(Ce,Re,pt,zt,Mn){me._directMap[Ce+":"+pt]=Re;var Ne,It=(Ce=Ce.replace(/\s+/g," ")).split(" ");It.length>1?function j(Ce,Re,pt,zt){function Mn(re){return function(){qe=re,++B[Ce],function R(){clearTimeout(ce),ce=setTimeout(_e,1e3)}()}}function It(re){Bt(pt,re,Ce),"keyup"!==zt&&(Oe=y(re)),setTimeout(_e,10)}B[Ce]=0;for(var Ne=0;Ne<Re.length;++Ne){var Ot=Ne+1===Re.length?It:Mn(zt||ae(Re[Ne+1]).action);he(Re[Ne],Ot,zt,Ce,Ne)}}(Ce,It,Re,pt):(Ne=ae(Ce,pt),me._callbacks[Ne.key]=me._callbacks[Ne.key]||[],ht(Ne.key,Ne.modifiers,{type:Ne.action},zt,Ce,Mn),me._callbacks[Ne.key][zt?"unshift":"push"]({callback:Re,modifiers:Ne.modifiers,action:Ne.action,seq:zt,level:Mn,combo:Ce}))}me._handleKey=function(Ce,Re,pt){var Mn,zt=ht(Ce,Re,pt),It={},Ne=0,Xe=!1;for(Mn=0;Mn<zt.length;++Mn)zt[Mn].seq&&(Ne=Math.max(Ne,zt[Mn].level));for(Mn=0;Mn<zt.length;++Mn)if(zt[Mn].seq){if(zt[Mn].level!=Ne)continue;Xe=!0,It[zt[Mn].seq]=1,Bt(zt[Mn].callback,pt,zt[Mn].combo,zt[Mn].seq)}else Xe||Bt(zt[Mn].callback,pt,zt[Mn].combo);var Ot="keypress"==pt.type&&Ue;pt.type==qe&&!V(Ce)&&!Ot&&_e(It),Ue=Xe&&"keydown"==pt.type},me._bindMultiple=function(Ce,Re,pt){for(var zt=0;zt<Ce.length;++zt)he(Ce[zt],Re,pt)},P(H,"keypress",de),P(H,"keydown",de),P(H,"keyup",de)}}(typeof window<"u"?window:null,typeof window<"u"?document:null)},24434:function(en,Ve,E){"use strict";var i=this&&this.__createBinding||(Object.create?function(d,k,S,U){void 0===U&&(U=S);var P=Object.getOwnPropertyDescriptor(k,S);(!P||("get"in P?!k.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return k[S]}}),Object.defineProperty(d,U,P)}:function(d,k,S,U){void 0===U&&(U=S),d[U]=k[S]}),u=this&&this.__setModuleDefault||(Object.create?function(d,k){Object.defineProperty(d,"default",{enumerable:!0,value:k})}:function(d,k){d.default=k}),f=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var k={};if(null!=d)for(var S in d)"default"!==S&&Object.prototype.hasOwnProperty.call(d,S)&&i(k,d,S);return u(k,d),k};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.objectSorter=void 0;const C=f(E(69209)),x=E(91921);Ve.objectSorter=d=>{const{sort:k,coerce:S,trim:U}={sort:!0,coerce:!0,trim:!1,...d},P_array="boolean"==typeof k?k:k?.array??!1,P_typedArray="boolean"!=typeof k&&(k?.typedArray??!1),P_object="boolean"==typeof k?k:k?.object??!1,P_set="boolean"==typeof k?k:k?.set??!1,P_map="boolean"==typeof k?k:k?.map??!1,y_boolean="boolean"==typeof S?S:S?.boolean??!1,y_number="boolean"==typeof S?S:S?.number??!1,y_bigint="boolean"==typeof S?S:S?.bigint??!1,y_string="boolean"==typeof S?S:S?.string??!1,y_undefined="boolean"==typeof S?S:S?.undefined??!1,y_null="boolean"==typeof S?S:S?.null??!1,y_symbol="boolean"==typeof S?S:S?.symbol??!1,y_function="boolean"==typeof S?S:S?.function??!1,y_date="boolean"==typeof S?S:S?.date??!1,y_set="boolean"==typeof S?S:S?.set??!1,v_string="boolean"==typeof U?U:U?.string??!1,v_function="boolean"==typeof U?U:U?.function??!1,M={unknown:function(V){return`<:${V.constructor?.name??"unknonw"}>:${"function"==typeof V.toString?V.toString():"unknown"}`}};return M.hashable=C._hashable.bind(M),M.string=v_string?y_string?C._stringTrimCoerce.bind(M):C._stringTrim.bind(M):y_string?C._stringCoerce.bind(M):C._string.bind(M),M.number=y_number?C._numberCoerce.bind(M):C._number.bind(M),M.bigint=y_bigint?C._bigIntCoerce.bind(M):C._bigInt.bind(M),M.boolean=y_boolean?C._booleanCoerce.bind(M):C._boolean.bind(M),M.symbol=y_symbol?C._symbolCoerce.bind(M):C._symbol.bind(M),M.undefined=y_undefined?C._undefinedCoerce.bind(M):C._undefined.bind(M),M.null=y_null?C._nullCoerce.bind(M):C._null.bind(M),M.function=v_function?y_function?C._functionTrimCoerce.bind(M):C._functionTrim.bind(M):y_function?C._functionCoerce.bind(M):C._function.bind(M),M.date=y_date?C._dateCoerce.bind(M):C._date.bind(M),M.array=P_array?C._arraySort.bind(M):C._array.bind(M),M.typedarray=P_typedArray?C._typedArraySort.bind(M):C._typedArray.bind(M),M.set=P_set?y_set?C._setSortCoerce.bind(M):C._setSort.bind(M):y_set?C._setCoerce.bind(M):C._set.bind(M),M.object=P_object?C._objectSort.bind(M):C._object.bind(M),M.map=P_map?C._mapSort.bind(M):C._map.bind(M),function G(K){return M[(0,x.guessType)(K)](K)}}},69209:(en,Ve,E)=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0}),Ve._mapSort=Ve._map=Ve._objectSort=Ve._object=Ve._setCoerce=Ve._set=Ve._setSort=Ve._setSortCoerce=Ve._typedArray=Ve._typedArraySort=Ve._array=Ve._arraySort=Ve._date=Ve._dateCoerce=Ve._functionTrim=Ve._functionTrimCoerce=Ve._function=Ve._functionCoerce=Ve._null=Ve._nullCoerce=Ve._undefined=Ve._undefinedCoerce=Ve._symbol=Ve._symbolCoerce=Ve._boolean=Ve._booleanCoerce=Ve._bigInt=Ve._bigIntCoerce=Ve._number=Ve._numberCoerce=Ve._stringTrim=Ve._stringTrimCoerce=Ve._string=Ve._stringCoerce=Ve._hashable=Ve.PREFIX=void 0;const i=E(91921);function me(he){const Ce=this;return"["+he.map(Re=>Ce[(0,i.guessType)(Re)](Re)).sort().toString()+"]"}function B(he){const Ce=this;return"["+he.map(Re=>Ce[(0,i.guessType)(Re)](Re)).toString()+"]"}Ve.PREFIX={string:"<:s>",number:"<:n>",bigint:"<:bi>",boolean:"<:b>",symbol:"<:smbl>",undefined:"<:undf>",null:"<:null>",function:"<:func>",array:"",date:"<:date>",set:"<:set>",map:"<:map>"},Ve._hashable=function u(he){return he.toHashableString()},Ve._stringCoerce=function f(he){return he},Ve._string=function C(he){return Ve.PREFIX.string+":"+he},Ve._stringTrimCoerce=function x(he){return he.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},Ve._stringTrim=function w(he){return Ve.PREFIX.string+":"+he.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},Ve._numberCoerce=function d(he){return he.toString()},Ve._number=function k(he){return`${Ve.PREFIX.number}:${he}`},Ve._bigIntCoerce=function S(he){return he.toString()},Ve._bigInt=function U(he){return`${Ve.PREFIX.bigint}:${he.toString()}`},Ve._booleanCoerce=function P(he){return he?"1":"0"},Ve._boolean=function y(he){return Ve.PREFIX.boolean+":"+he.toString()},Ve._symbolCoerce=function v(){return Ve.PREFIX.symbol},Ve._symbol=function M(he){return Ve.PREFIX.symbol+":"+he.toString()},Ve._undefinedCoerce=function G(){return""},Ve._undefined=function K(){return Ve.PREFIX.undefined},Ve._nullCoerce=function V(){return""},Ve._null=function Z(){return Ve.PREFIX.null},Ve._functionCoerce=function J(he){return he.name+"=>"+he.toString()},Ve._function=function te(he){return Ve.PREFIX.function+":"+he.name+"=>"+he.toString()},Ve._functionTrimCoerce=function ae(he){return he.name+"=>"+he.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},Ve._functionTrim=function Y(he){return Ve.PREFIX.function+":"+he.name+"=>"+he.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},Ve._dateCoerce=function $(he){return he.toISOString()},Ve._date=function H(he){return Ve.PREFIX.date+":"+he.toISOString()},Ve._arraySort=me,Ve._array=B,Ve._typedArraySort=function ce(he){const Ce=this;return"["+Array.prototype.slice.call(he).map(pt=>Ce[(0,i.guessType)(pt)](pt)).sort().toString()+"]"},Ve._typedArray=function Oe(he){const Ce=this;return"["+Array.prototype.slice.call(he).map(pt=>Ce[(0,i.guessType)(pt)](pt)).toString()+"]"},Ve._setSortCoerce=function Ue(he){return me.call(this,Array.from(he))},Ve._setSort=function qe(he){return`${Ve.PREFIX.set}:${me.call(this,Array.from(he))}`},Ve._set=function _e(he){return`${Ve.PREFIX.set}:${B.call(this,Array.from(he))}`},Ve._setCoerce=function ht(he){return B.call(this,Array.from(he))},Ve._object=function Bt(he){const Ce=this,Re=Object.keys(he),pt=[];for(const zt of Re){const Mn=he[zt],It=(0,i.guessType)(Mn);pt.push(zt+":"+Ce[It](Mn))}return"{"+pt.toString()+"}"},Ve._objectSort=function de(he){const Ce=this,Re=Object.keys(he).sort(),pt=[];for(const zt of Re){const Mn=he[zt],It=(0,i.guessType)(Mn);pt.push(zt+":"+Ce[It](Mn))}return"{"+pt.toString()+"}"},Ve._map=function R(he){const Ce=this,Re=Array.from(he),pt=[];for(const zt of Re){const[Mn,It]=zt;pt.push([Ce[(0,i.guessType)(Mn)](Mn),Ce[(0,i.guessType)(It)](It)])}return"["+pt.join(";")+"]"},Ve._mapSort=function j(he){const Ce=this,Re=Array.from(he),pt=[];for(const zt of Re){const[Mn,It]=zt;pt.push([Ce[(0,i.guessType)(Mn)](Mn),Ce[(0,i.guessType)(It)](It)])}return"["+pt.sort().join(";")+"]"}},91921:(en,Ve)=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.instanceOfHashable=Ve.guessType=Ve.guessObjectType=Ve.TYPE_MAP=void 0,Ve.TYPE_MAP={Array:"array",Int8Array:"typedarray",Uint8Array:"typedarray",Uint8ClampedArray:"typedarray",Int16Array:"typedarray",Uint16Array:"typedarray",Int32Array:"typedarray",Uint32Array:"typedarray",Float32Array:"typedarray",Float64Array:"typedarray",BigUint64Array:"typedarray",BigInt64Array:"typedarray",Buffer:"typedarray",Map:"map",Set:"set",Date:"date",String:"string",Number:"number",BigInt:"bigint",Boolean:"boolean",Object:"object"},Ve.guessObjectType=f=>null===f?"null":(0,Ve.instanceOfHashable)(f)?"hashable":Ve.TYPE_MAP[f?.constructor?.name??"unknown"]||"unknown",Ve.guessType=f=>{const C=typeof f;return"object"!==C?C:(0,Ve.guessObjectType)(f)},Ve.instanceOfHashable=f=>"function"==typeof f.toHashableString},92298:(en,Ve,E)=>{var i="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,f=i&&u&&"function"==typeof u.get?u.get:null,C=i&&Map.prototype.forEach,x="function"==typeof Set&&Set.prototype,w=Object.getOwnPropertyDescriptor&&x?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,d=x&&w&&"function"==typeof w.get?w.get:null,k=x&&Set.prototype.forEach,U="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,y="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,M="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,G=Boolean.prototype.valueOf,K=Object.prototype.toString,V=Function.prototype.toString,Z=String.prototype.match,J=String.prototype.slice,te=String.prototype.replace,ae=String.prototype.toUpperCase,Y=String.prototype.toLowerCase,$=RegExp.prototype.test,H=Array.prototype.concat,me=Array.prototype.join,B=Array.prototype.slice,ce=Math.floor,Oe="function"==typeof BigInt?BigInt.prototype.valueOf:null,Ue=Object.getOwnPropertySymbols,qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_e="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ht="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Bt=Object.prototype.propertyIsEnumerable,de=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(bt){return bt.__proto__}:null);function R(bt,He){if(bt===1/0||bt===-1/0||bt!=bt||bt&&bt>-1e3&&bt<1e3||$.call(/e/,He))return He;var ye=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof bt){var mt=bt<0?-ce(-bt):ce(bt);if(mt!==bt){var rt=String(mt),Kt=J.call(He,rt.length+1);return te.call(rt,ye,"$&_")+"."+te.call(te.call(Kt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return te.call(He,ye,"$&_")}var j=E(42634),he=j.custom,Ce=D(he)?he:null;function Re(bt,He,ye){var mt="double"===(ye.quoteStyle||He)?'"':"'";return mt+bt+mt}function pt(bt){return te.call(String(bt),/"/g,"&quot;")}function zt(bt){return!("[object Array]"!==z(bt)||ht&&"object"==typeof bt&&ht in bt)}function It(bt){return!("[object RegExp]"!==z(bt)||ht&&"object"==typeof bt&&ht in bt)}function D(bt){if(_e)return bt&&"object"==typeof bt&&bt instanceof Symbol;if("symbol"==typeof bt)return!0;if(!bt||"object"!=typeof bt||!qe)return!1;try{return qe.call(bt),!0}catch{}return!1}en.exports=function bt(He,ye,mt,rt){var Kt=ye||{};if(W(Kt,"quoteStyle")&&"single"!==Kt.quoteStyle&&"double"!==Kt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(Kt,"maxStringLength")&&("number"==typeof Kt.maxStringLength?Kt.maxStringLength<0&&Kt.maxStringLength!==1/0:null!==Kt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Dn=!W(Kt,"customInspect")||Kt.customInspect;if("boolean"!=typeof Dn&&"symbol"!==Dn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(Kt,"indent")&&null!==Kt.indent&&"\t"!==Kt.indent&&!(parseInt(Kt.indent,10)===Kt.indent&&Kt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(Kt,"numericSeparator")&&"boolean"!=typeof Kt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Jn=Kt.numericSeparator;if(typeof He>"u")return"undefined";if(null===He)return"null";if("boolean"==typeof He)return He?"true":"false";if("string"==typeof He)return Pt(He,Kt);if("number"==typeof He){if(0===He)return 1/0/He>0?"0":"-0";var lr=String(He);return Jn?R(He,lr):lr}if("bigint"==typeof He){var an=String(He)+"n";return Jn?R(He,an):an}var At=typeof Kt.depth>"u"?5:Kt.depth;if(typeof mt>"u"&&(mt=0),mt>=At&&At>0&&"object"==typeof He)return zt(He)?"[Array]":"[Object]";var Et=function jt(bt,He){var ye;if("\t"===bt.indent)ye="\t";else{if(!("number"==typeof bt.indent&&bt.indent>0))return null;ye=me.call(Array(bt.indent+1)," ")}return{base:ye,prev:me.call(Array(He+1),ye)}}(Kt,mt);if(typeof rt>"u")rt=[];else if(I(rt,He)>=0)return"[Circular]";function xt(hi,Ei,fi){if(Ei&&(rt=B.call(rt)).push(Ei),fi){var co={depth:Kt.depth};return W(Kt,"quoteStyle")&&(co.quoteStyle=Kt.quoteStyle),bt(hi,co,mt+1,rt)}return bt(hi,Kt,mt+1,rt)}if("function"==typeof He&&!It(He)){var gt=function p(bt){if(bt.name)return bt.name;var He=Z.call(V.call(bt),/^function\s*([\w$]+)/);return He?He[1]:null}(He),tn=lt(He,xt);return"[Function"+(gt?": "+gt:" (anonymous)")+"]"+(tn.length>0?" { "+me.call(tn,", ")+" }":"")}if(D(He)){var Xt=_e?te.call(String(He),/^(Symbol\(.*\))_[^)]*$/,"$1"):qe.call(He);return"object"!=typeof He||_e?Xt:ln(Xt)}if(function et(bt){return!(!bt||"object"!=typeof bt)&&(typeof HTMLElement<"u"&&bt instanceof HTMLElement||"string"==typeof bt.nodeName&&"function"==typeof bt.getAttribute)}(He)){for(var Ye="<"+Y.call(String(He.nodeName)),Vt=He.attributes||[],En=0;En<Vt.length;En++)Ye+=" "+Vt[En].name+"="+Re(pt(Vt[En].value),"double",Kt);return Ye+=">",He.childNodes&&He.childNodes.length&&(Ye+="..."),Ye+"</"+Y.call(String(He.nodeName))+">"}if(zt(He)){if(0===He.length)return"[]";var it=lt(He,xt);return Et&&!function ut(bt){for(var He=0;He<bt.length;He++)if(I(bt[He],"\n")>=0)return!1;return!0}(it)?"["+gn(it,Et)+"]":"[ "+me.call(it,", ")+" ]"}if(function Ne(bt){return!("[object Error]"!==z(bt)||ht&&"object"==typeof bt&&ht in bt)}(He)){var ke=lt(He,xt);return"cause"in Error.prototype||!("cause"in He)||Bt.call(He,"cause")?0===ke.length?"["+String(He)+"]":"{ ["+String(He)+"] "+me.call(ke,", ")+" }":"{ ["+String(He)+"] "+me.call(H.call("[cause]: "+xt(He.cause),ke),", ")+" }"}if("object"==typeof He&&Dn){if(Ce&&"function"==typeof He[Ce]&&j)return j(He,{depth:At-mt});if("symbol"!==Dn&&"function"==typeof He.inspect)return He.inspect()}if(function Ae(bt){if(!f||!bt||"object"!=typeof bt)return!1;try{f.call(bt);try{d.call(bt)}catch{return!0}return bt instanceof Map}catch{}return!1}(He)){var Jt=[];return C&&C.call(He,function(hi,Ei){Jt.push(xt(Ei,He,!0)+" => "+xt(hi,He))}),Ht("Map",f.call(He),Jt,Et)}if(function ve(bt){if(!d||!bt||"object"!=typeof bt)return!1;try{d.call(bt);try{f.call(bt)}catch{return!0}return bt instanceof Set}catch{}return!1}(He)){var We=[];return k&&k.call(He,function(hi){We.push(xt(hi,He))}),Ht("Set",d.call(He),We,Et)}if(function se(bt){if(!U||!bt||"object"!=typeof bt)return!1;try{U.call(bt,U);try{y.call(bt,y)}catch{return!0}return bt instanceof WeakMap}catch{}return!1}(He))return je("WeakMap");if(function ge(bt){if(!y||!bt||"object"!=typeof bt)return!1;try{y.call(bt,y);try{U.call(bt,U)}catch{return!0}return bt instanceof WeakSet}catch{}return!1}(He))return je("WeakSet");if(function L(bt){if(!M||!bt||"object"!=typeof bt)return!1;try{return M.call(bt),!0}catch{}return!1}(He))return je("WeakRef");if(function Ot(bt){return!("[object Number]"!==z(bt)||ht&&"object"==typeof bt&&ht in bt)}(He))return ln(xt(Number(He)));if(function F(bt){if(!bt||"object"!=typeof bt||!Oe)return!1;try{return Oe.call(bt),!0}catch{}return!1}(He))return ln(xt(Oe.call(He)));if(function re(bt){return!("[object Boolean]"!==z(bt)||ht&&"object"==typeof bt&&ht in bt)}(He))return ln(G.call(He));if(function Xe(bt){return!("[object String]"!==z(bt)||ht&&"object"==typeof bt&&ht in bt)}(He))return ln(xt(String(He)));if(typeof window<"u"&&He===window)return"{ [object Window] }";if(typeof globalThis<"u"&&He===globalThis||typeof global<"u"&&He===global)return"{ [object globalThis] }";if(!function Mn(bt){return!("[object Date]"!==z(bt)||ht&&"object"==typeof bt&&ht in bt)}(He)&&!It(He)){var Tt=lt(He,xt),wn=de?de(He)===Object.prototype:He instanceof Object||He.constructor===Object,In=He instanceof Object?"":"null prototype",dr=!wn&&ht&&Object(He)===He&&ht in He?J.call(z(He),8,-1):In?"Object":"",Gr=(wn||"function"!=typeof He.constructor?"":He.constructor.name?He.constructor.name+" ":"")+(dr||In?"["+me.call(H.call([],dr||[],In||[]),": ")+"] ":"");return 0===Tt.length?Gr+"{}":Et?Gr+"{"+gn(Tt,Et)+"}":Gr+"{ "+me.call(Tt,", ")+" }"}return String(He)};var T=Object.prototype.hasOwnProperty||function(bt){return bt in this};function W(bt,He){return T.call(bt,He)}function z(bt){return K.call(bt)}function I(bt,He){if(bt.indexOf)return bt.indexOf(He);for(var ye=0,mt=bt.length;ye<mt;ye++)if(bt[ye]===He)return ye;return-1}function Pt(bt,He){if(bt.length>He.maxStringLength){var ye=bt.length-He.maxStringLength,mt="... "+ye+" more character"+(ye>1?"s":"");return Pt(J.call(bt,0,He.maxStringLength),He)+mt}return Re(te.call(te.call(bt,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Rt),"single",He)}function Rt(bt){var He=bt.charCodeAt(0),ye={8:"b",9:"t",10:"n",12:"f",13:"r"}[He];return ye?"\\"+ye:"\\x"+(He<16?"0":"")+ae.call(He.toString(16))}function ln(bt){return"Object("+bt+")"}function je(bt){return bt+" { ? }"}function Ht(bt,He,ye,mt){return bt+" ("+He+") {"+(mt?gn(ye,mt):me.call(ye,", "))+"}"}function gn(bt,He){if(0===bt.length)return"";var ye="\n"+He.prev+He.base;return ye+me.call(bt,","+ye)+"\n"+He.prev}function lt(bt,He){var ye=zt(bt),mt=[];if(ye){mt.length=bt.length;for(var rt=0;rt<bt.length;rt++)mt[rt]=W(bt,rt)?He(bt[rt],bt):""}var Dn,Kt="function"==typeof Ue?Ue(bt):[];if(_e){Dn={};for(var Jn=0;Jn<Kt.length;Jn++)Dn["$"+Kt[Jn]]=Kt[Jn]}for(var lr in bt)W(bt,lr)&&(ye&&String(Number(lr))===lr&&lr<bt.length||_e&&Dn["$"+lr]instanceof Symbol||($.call(/[^\w$]/,lr)?mt.push(He(lr,bt)+": "+He(bt[lr],bt)):mt.push(lr+": "+He(bt[lr],bt))));if("function"==typeof Ue)for(var an=0;an<Kt.length;an++)Bt.call(bt,Kt[an])&&mt.push("["+He(Kt[an])+"]: "+He(bt[Kt[an]],bt));return mt}},91677:en=>{"use strict";var Ve=Object.prototype.hasOwnProperty,E="~";function i(){}function u(w,d,k){this.fn=w,this.context=d,this.once=k||!1}function f(w,d,k,S,U){if("function"!=typeof k)throw new TypeError("The listener must be a function");var P=new u(k,S||w,U),y=E?E+d:d;return w._events[y]?w._events[y].fn?w._events[y]=[w._events[y],P]:w._events[y].push(P):(w._events[y]=P,w._eventsCount++),w}function C(w,d){0==--w._eventsCount?w._events=new i:delete w._events[d]}function x(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(E=!1)),x.prototype.eventNames=function(){var k,S,d=[];if(0===this._eventsCount)return d;for(S in k=this._events)Ve.call(k,S)&&d.push(E?S.slice(1):S);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(k)):d},x.prototype.listeners=function(d){var S=this._events[E?E+d:d];if(!S)return[];if(S.fn)return[S.fn];for(var U=0,P=S.length,y=new Array(P);U<P;U++)y[U]=S[U].fn;return y},x.prototype.listenerCount=function(d){var S=this._events[E?E+d:d];return S?S.fn?1:S.length:0},x.prototype.emit=function(d,k,S,U,P,y){var v=E?E+d:d;if(!this._events[v])return!1;var K,V,M=this._events[v],G=arguments.length;if(M.fn){switch(M.once&&this.removeListener(d,M.fn,void 0,!0),G){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,k),!0;case 3:return M.fn.call(M.context,k,S),!0;case 4:return M.fn.call(M.context,k,S,U),!0;case 5:return M.fn.call(M.context,k,S,U,P),!0;case 6:return M.fn.call(M.context,k,S,U,P,y),!0}for(V=1,K=new Array(G-1);V<G;V++)K[V-1]=arguments[V];M.fn.apply(M.context,K)}else{var J,Z=M.length;for(V=0;V<Z;V++)switch(M[V].once&&this.removeListener(d,M[V].fn,void 0,!0),G){case 1:M[V].fn.call(M[V].context);break;case 2:M[V].fn.call(M[V].context,k);break;case 3:M[V].fn.call(M[V].context,k,S);break;case 4:M[V].fn.call(M[V].context,k,S,U);break;default:if(!K)for(J=1,K=new Array(G-1);J<G;J++)K[J-1]=arguments[J];M[V].fn.apply(M[V].context,K)}}return!0},x.prototype.on=function(d,k,S){return f(this,d,k,S,!1)},x.prototype.once=function(d,k,S){return f(this,d,k,S,!0)},x.prototype.removeListener=function(d,k,S,U){var P=E?E+d:d;if(!this._events[P])return this;if(!k)return C(this,P),this;var y=this._events[P];if(y.fn)y.fn===k&&(!U||y.once)&&(!S||y.context===S)&&C(this,P);else{for(var v=0,M=[],G=y.length;v<G;v++)(y[v].fn!==k||U&&!y[v].once||S&&y[v].context!==S)&&M.push(y[v]);M.length?this._events[P]=1===M.length?M[0]:M:C(this,P)}return this},x.prototype.removeAllListeners=function(d){var k;return d?this._events[k=E?E+d:d]&&C(this,k):(this._events=new i,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=E,x.EventEmitter=x,en.exports=x},86179:(en,Ve,E)=>{en.exports=E(80365)},80365:(en,Ve,E)=>{var i=E(33555);Ve.operation=function(u){var f=Ve.timeouts(u);return new i(f,{forever:u&&(u.forever||u.retries===1/0),unref:u&&u.unref,maxRetryTime:u&&u.maxRetryTime})},Ve.timeouts=function(u){if(u instanceof Array)return[].concat(u);var f={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var C in u)f[C]=u[C];if(f.minTimeout>f.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var x=[],w=0;w<f.retries;w++)x.push(this.createTimeout(w,f));return u&&u.forever&&!x.length&&x.push(this.createTimeout(w,f)),x.sort(function(d,k){return d-k}),x},Ve.createTimeout=function(u,f){var C=f.randomize?Math.random()+1:1,x=Math.round(C*Math.max(f.minTimeout,1)*Math.pow(f.factor,u));return Math.min(x,f.maxTimeout)},Ve.wrap=function(u,f,C){if(f instanceof Array&&(C=f,f=null),!C)for(var x in C=[],u)"function"==typeof u[x]&&C.push(x);for(var w=0;w<C.length;w++){var d=C[w];u[d]=function(U){var P=Ve.operation(f),y=Array.prototype.slice.call(arguments,1),v=y.pop();y.push(function(M){P.retry(M)||(M&&(arguments[0]=P.mainError()),v.apply(this,arguments))}),P.attempt(function(){U.apply(u,y)})}.bind(u,u[d]),u[d].options=f}}},33555:en=>{function Ve(E,i){"boolean"==typeof i&&(i={forever:i}),this._originalTimeouts=JSON.parse(JSON.stringify(E)),this._timeouts=E,this._options=i||{},this._maxRetryTime=i&&i.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}en.exports=Ve,Ve.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},Ve.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},Ve.prototype.retry=function(E){if(this._timeout&&clearTimeout(this._timeout),!E)return!1;var i=(new Date).getTime();if(E&&i-this._operationStart>=this._maxRetryTime)return this._errors.push(E),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(E);var u=this._timeouts.shift();if(void 0===u){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),u=this._cachedTimeouts.slice(-1)}var f=this;return this._timer=setTimeout(function(){f._attempts++,f._operationTimeoutCb&&(f._timeout=setTimeout(function(){f._operationTimeoutCb(f._attempts)},f._operationTimeout),f._options.unref&&f._timeout.unref()),f._fn(f._attempts)},u),this._options.unref&&this._timer.unref(),!0},Ve.prototype.attempt=function(E,i){this._fn=E,i&&(i.timeout&&(this._operationTimeout=i.timeout),i.cb&&(this._operationTimeoutCb=i.cb));var u=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){u._operationTimeoutCb()},u._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},Ve.prototype.try=function(E){console.log("Using RetryOperation.try() is deprecated"),this.attempt(E)},Ve.prototype.start=function(E){console.log("Using RetryOperation.start() is deprecated"),this.attempt(E)},Ve.prototype.start=Ve.prototype.try,Ve.prototype.errors=function(){return this._errors},Ve.prototype.attempts=function(){return this._attempts},Ve.prototype.mainError=function(){if(0===this._errors.length)return null;for(var E={},i=null,u=0,f=0;f<this._errors.length;f++){var C=this._errors[f],x=C.message,w=(E[x]||0)+1;E[x]=w,w>=u&&(i=C,u=w)}return i}},5442:function(en,Ve){var E,u;E=function f(){"use strict";var C=typeof self<"u"?self:typeof window<"u"?window:void 0!==C?C:{},x=!C.document&&!!C.postMessage,w=C.IS_PAPA_WORKER||!1,d={},k=0,S={parse:function(me,B){var ce=(B=B||{}).dynamicTyping||!1;if(H(ce)&&(B.dynamicTypingFunction=ce,ce={}),B.dynamicTyping=ce,B.transform=!!H(B.transform)&&B.transform,B.worker&&S.WORKERS_SUPPORTED){var Oe=function(){if(!S.WORKERS_SUPPORTED)return!1;var ht,Bt,qe=(ht=C.URL||C.webkitURL||null,Bt=f.toString(),S.BLOB_URL||(S.BLOB_URL=ht.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Bt,")();"],{type:"text/javascript"})))),_e=new C.Worker(qe);return _e.onmessage=J,_e.id=k++,d[_e.id]=_e}();return Oe.userStep=B.step,Oe.userChunk=B.chunk,Oe.userComplete=B.complete,Oe.userError=B.error,B.step=H(B.step),B.chunk=H(B.chunk),B.complete=H(B.complete),B.error=H(B.error),delete B.worker,void Oe.postMessage({input:me,config:B,workerId:Oe.id})}var qe,Ue=null;return"string"==typeof me?(me=65279===(qe=me).charCodeAt(0)?qe.slice(1):qe,Ue=B.download?new y(B):new M(B)):!0===me.readable&&H(me.read)&&H(me.on)?Ue=new G(B):(C.File&&me instanceof File||me instanceof Object)&&(Ue=new v(B)),Ue.stream(me)},unparse:function(me,B){var ce=!1,Oe=!0,Ue=",",qe="\r\n",_e='"',ht=_e+_e,Bt=!1,de=null,R=!1;!function(){if("object"==typeof B){if("string"!=typeof B.delimiter||S.BAD_DELIMITERS.filter(function(Re){return-1!==B.delimiter.indexOf(Re)}).length||(Ue=B.delimiter),("boolean"==typeof B.quotes||"function"==typeof B.quotes||Array.isArray(B.quotes))&&(ce=B.quotes),"boolean"!=typeof B.skipEmptyLines&&"string"!=typeof B.skipEmptyLines||(Bt=B.skipEmptyLines),"string"==typeof B.newline&&(qe=B.newline),"string"==typeof B.quoteChar&&(_e=B.quoteChar),"boolean"==typeof B.header&&(Oe=B.header),Array.isArray(B.columns)){if(0===B.columns.length)throw new Error("Option columns is empty");de=B.columns}void 0!==B.escapeChar&&(ht=B.escapeChar+_e),("boolean"==typeof B.escapeFormulae||B.escapeFormulae instanceof RegExp)&&(R=B.escapeFormulae instanceof RegExp?B.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var j=new RegExp(V(_e),"g");if("string"==typeof me&&(me=JSON.parse(me)),Array.isArray(me)){if(!me.length||Array.isArray(me[0]))return he(null,me,Bt);if("object"==typeof me[0])return he(de||Object.keys(me[0]),me,Bt)}else if("object"==typeof me)return"string"==typeof me.data&&(me.data=JSON.parse(me.data)),Array.isArray(me.data)&&(me.fields||(me.fields=me.meta&&me.meta.fields||de),me.fields||(me.fields=Array.isArray(me.data[0])?me.fields:"object"==typeof me.data[0]?Object.keys(me.data[0]):[]),Array.isArray(me.data[0])||"object"==typeof me.data[0]||(me.data=[me.data])),he(me.fields||[],me.data||[],Bt);throw new Error("Unable to serialize unrecognized input");function he(Re,pt,zt){var Mn="";"string"==typeof Re&&(Re=JSON.parse(Re)),"string"==typeof pt&&(pt=JSON.parse(pt));var It=Array.isArray(Re)&&0<Re.length,Ne=!Array.isArray(pt[0]);if(It&&Oe){for(var Xe=0;Xe<Re.length;Xe++)0<Xe&&(Mn+=Ue),Mn+=Ce(Re[Xe],Xe);0<pt.length&&(Mn+=qe)}for(var Ot=0;Ot<pt.length;Ot++){var re=It?Re.length:pt[Ot].length,D=!1,F=It?0===Object.keys(pt[Ot]).length:0===pt[Ot].length;if(zt&&!It&&(D="greedy"===zt?""===pt[Ot].join("").trim():1===pt[Ot].length&&0===pt[Ot][0].length),"greedy"===zt&&It){for(var T=[],W=0;W<re;W++)T.push(pt[Ot][Ne?Re[W]:W]);D=""===T.join("").trim()}if(!D){for(var p=0;p<re;p++)0<p&&!F&&(Mn+=Ue),Mn+=Ce(pt[Ot][It&&Ne?Re[p]:p],p);Ot<pt.length-1&&(!zt||0<re&&!F)&&(Mn+=qe)}}return Mn}function Ce(Re,pt){if(null==Re)return"";if(Re.constructor===Date)return JSON.stringify(Re).slice(1,25);var zt=!1;R&&"string"==typeof Re&&R.test(Re)&&(Re="'"+Re,zt=!0);var Mn=Re.toString().replace(j,ht);return(zt=zt||!0===ce||"function"==typeof ce&&ce(Re,pt)||Array.isArray(ce)&&ce[pt]||function(It,Ne){for(var Xe=0;Xe<Ne.length;Xe++)if(-1<It.indexOf(Ne[Xe]))return!0;return!1}(Mn,S.BAD_DELIMITERS)||-1<Mn.indexOf(Ue)||" "===Mn.charAt(0)||" "===Mn.charAt(Mn.length-1))?_e+Mn+_e:Mn}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(S.BAD_DELIMITERS=["\r","\n",'"',S.BYTE_ORDER_MARK],S.WORKERS_SUPPORTED=!x&&!!C.Worker,S.NODE_STREAM_INPUT=1,S.LocalChunkSize=10485760,S.RemoteChunkSize=5242880,S.DefaultDelimiter=",",S.Parser=Z,S.ParserHandle=K,S.NetworkStreamer=y,S.FileStreamer=v,S.StringStreamer=M,S.ReadableStreamStreamer=G,C.jQuery){var U=C.jQuery;U.fn.parse=function(me){var B=me.config||{},ce=[];return this.each(function(qe){if("INPUT"!==U(this).prop("tagName").toUpperCase()||"file"!==U(this).attr("type").toLowerCase()||!C.FileReader||!this.files||0===this.files.length)return!0;for(var _e=0;_e<this.files.length;_e++)ce.push({file:this.files[_e],inputElem:this,instanceConfig:U.extend({},B)})}),Oe(),this;function Oe(){if(0!==ce.length){var _e,ht,Bt,de=ce[0];if(H(me.before)){var R=me.before(de.file,de.inputElem);if("object"==typeof R){if("abort"===R.action)return"AbortError",_e=de.file,ht=de.inputElem,Bt=R.reason,void(H(me.error)&&me.error({name:"AbortError"},_e,ht,Bt));if("skip"===R.action)return void Ue();"object"==typeof R.config&&(de.instanceConfig=U.extend(de.instanceConfig,R.config))}else if("skip"===R)return void Ue()}var j=de.instanceConfig.complete;de.instanceConfig.complete=function(he){H(j)&&j(he,de.file,de.inputElem),Ue()},S.parse(de.file,de.instanceConfig)}else H(me.complete)&&me.complete()}function Ue(){ce.splice(0,1),Oe()}}}function P(me){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(B){var ce=Y(B);ce.chunkSize=parseInt(ce.chunkSize),B.step||B.chunk||(ce.chunkSize=null),this._handle=new K(ce),(this._handle.streamer=this)._config=ce}.call(this,me),this.parseChunk=function(B,ce){if(this.isFirstChunk&&H(this._config.beforeFirstChunk)){var Oe=this._config.beforeFirstChunk(B);void 0!==Oe&&(B=Oe)}this.isFirstChunk=!1,this._halted=!1;var Ue=this._partialLine+B;this._partialLine="";var qe=this._handle.parse(Ue,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var _e=qe.meta.cursor;this._finished||(this._partialLine=Ue.substring(_e-this._baseIndex),this._baseIndex=_e),qe&&qe.data&&(this._rowCount+=qe.data.length);var ht=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(w)C.postMessage({results:qe,workerId:S.WORKER_ID,finished:ht});else if(H(this._config.chunk)&&!ce){if(this._config.chunk(qe,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);qe=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(qe.data),this._completeResults.errors=this._completeResults.errors.concat(qe.errors),this._completeResults.meta=qe.meta),this._completed||!ht||!H(this._config.complete)||qe&&qe.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ht||qe&&qe.meta.paused||this._nextChunk(),qe}this._halted=!0},this._sendError=function(B){H(this._config.error)?this._config.error(B):w&&this._config.error&&C.postMessage({workerId:S.WORKER_ID,error:B,finished:!1})}}function y(me){var B;(me=me||{}).chunkSize||(me.chunkSize=S.RemoteChunkSize),P.call(this,me),this._nextChunk=x?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(ce){this._input=ce,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(B=new XMLHttpRequest,this._config.withCredentials&&(B.withCredentials=this._config.withCredentials),x||(B.onload=$(this._chunkLoaded,this),B.onerror=$(this._chunkError,this)),B.open(this._config.downloadRequestBody?"POST":"GET",this._input,!x),this._config.downloadRequestHeaders){var ce=this._config.downloadRequestHeaders;for(var Oe in ce)B.setRequestHeader(Oe,ce[Oe])}this._config.chunkSize&&B.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{B.send(this._config.downloadRequestBody)}catch(qe){this._chunkError(qe.message)}x&&0===B.status&&this._chunkError()}},this._chunkLoaded=function(){var Oe;4===B.readyState&&(B.status<200||400<=B.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:B.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(Oe=B.getResponseHeader("Content-Range"))?-1:parseInt(Oe.substring(Oe.lastIndexOf("/")+1))),this.parseChunk(B.responseText)))},this._chunkError=function(ce){this._sendError(new Error(B.statusText||ce))}}function v(me){var B,ce;(me=me||{}).chunkSize||(me.chunkSize=S.LocalChunkSize),P.call(this,me);var Oe=typeof FileReader<"u";this.stream=function(Ue){this._input=Ue,ce=Ue.slice||Ue.webkitSlice||Ue.mozSlice,Oe?((B=new FileReader).onload=$(this._chunkLoaded,this),B.onerror=$(this._chunkError,this)):B=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Ue=this._input;if(this._config.chunkSize){var qe=Math.min(this._start+this._config.chunkSize,this._input.size);Ue=ce.call(Ue,this._start,qe)}var _e=B.readAsText(Ue,this._config.encoding);Oe||this._chunkLoaded({target:{result:_e}})},this._chunkLoaded=function(Ue){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Ue.target.result)},this._chunkError=function(){this._sendError(B.error)}}function M(me){var B;P.call(this,me=me||{}),this.stream=function(ce){return B=ce,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var ce,Oe=this._config.chunkSize;return Oe?(ce=B.substring(0,Oe),B=B.substring(Oe)):(ce=B,B=""),this._finished=!B,this.parseChunk(ce)}}}function G(me){P.call(this,me=me||{});var B=[],ce=!0,Oe=!1;this.pause=function(){P.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){P.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Ue){this._input=Ue,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Oe&&1===B.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),B.length?this.parseChunk(B.shift()):ce=!0},this._streamData=$(function(Ue){try{B.push("string"==typeof Ue?Ue:Ue.toString(this._config.encoding)),ce&&(ce=!1,this._checkIsFinished(),this.parseChunk(B.shift()))}catch(qe){this._streamError(qe)}},this),this._streamError=$(function(Ue){this._streamCleanUp(),this._sendError(Ue)},this),this._streamEnd=$(function(){this._streamCleanUp(),Oe=!0,this._streamData("")},this),this._streamCleanUp=$(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function K(me){var B,ce,Oe,Ue=Math.pow(2,53),qe=-Ue,_e=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ht=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Bt=this,de=0,R=0,j=!1,he=!1,Ce=[],Re={data:[],errors:[],meta:{}};if(H(me.step)){var pt=me.step;me.step=function(Ot){if(Re=Ot,It())Mn();else{if(Mn(),0===Re.data.length)return;de+=Ot.data.length,me.preview&&de>me.preview?ce.abort():(Re.data=Re.data[0],pt(Re,Bt))}}}function zt(Ot){return"greedy"===me.skipEmptyLines?""===Ot.join("").trim():1===Ot.length&&0===Ot[0].length}function Mn(){return Re&&Oe&&(Xe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+S.DefaultDelimiter+"'"),Oe=!1),me.skipEmptyLines&&(Re.data=Re.data.filter(function(Ot){return!zt(Ot)})),It()&&function(){if(Re)if(Array.isArray(Re.data[0])){for(var re=0;It()&&re<Re.data.length;re++)Re.data[re].forEach(Ot);Re.data.splice(0,1)}else Re.data.forEach(Ot);function Ot(D,F){H(me.transformHeader)&&(D=me.transformHeader(D,F)),Ce.push(D)}}(),function(){if(!Re||!me.header&&!me.dynamicTyping&&!me.transform)return Re;function Ot(D,F){var T,W=me.header?{}:[];for(T=0;T<D.length;T++){var z=T,p=D[T];me.header&&(z=T>=Ce.length?"__parsed_extra":Ce[T]),me.transform&&(p=me.transform(p,z)),p=Ne(z,p),"__parsed_extra"===z?(W[z]=W[z]||[],W[z].push(p)):W[z]=p}return me.header&&(T>Ce.length?Xe("FieldMismatch","TooManyFields","Too many fields: expected "+Ce.length+" fields but parsed "+T,R+F):T<Ce.length&&Xe("FieldMismatch","TooFewFields","Too few fields: expected "+Ce.length+" fields but parsed "+T,R+F)),W}var re=1;return!Re.data.length||Array.isArray(Re.data[0])?(Re.data=Re.data.map(Ot),re=Re.data.length):Re.data=Ot(Re.data,0),me.header&&Re.meta&&(Re.meta.fields=Ce),R+=re,Re}()}function It(){return me.header&&0===Ce.length}function Ne(Ot,re){return D=Ot,me.dynamicTypingFunction&&void 0===me.dynamicTyping[D]&&(me.dynamicTyping[D]=me.dynamicTypingFunction(D)),!0===(me.dynamicTyping[D]||me.dynamicTyping)?"true"===re||"TRUE"===re||"false"!==re&&"FALSE"!==re&&(function(F){if(_e.test(F)){var T=parseFloat(F);if(qe<T&&T<Ue)return!0}return!1}(re)?parseFloat(re):ht.test(re)?new Date(re):""===re?null:re):re;var D}function Xe(Ot,re,D,F){var T={type:Ot,code:re,message:D};void 0!==F&&(T.row=F),Re.errors.push(T)}this.parse=function(Ot,re,D){if(me.newline||(me.newline=function(z,p){z=z.substring(0,1048576);var I=new RegExp(V(p)+"([^]*?)"+V(p),"gm"),Ae=(z=z.replace(I,"")).split("\r"),se=z.split("\n");if(1===Ae.length||1<se.length&&se[0].length<Ae[0].length)return"\n";for(var ve=0,ge=0;ge<Ae.length;ge++)"\n"===Ae[ge][0]&&ve++;return ve>=Ae.length/2?"\r\n":"\r"}(Ot,me.quoteChar||'"')),Oe=!1,me.delimiter)H(me.delimiter)&&(me.delimiter=me.delimiter(Ot),Re.meta.delimiter=me.delimiter);else{var T=function(z,p,I,Ae,se){var L,ve,ge,et;se=se||[",","\t","|",";",S.RECORD_SEP,S.UNIT_SEP];for(var Pt=0;Pt<se.length;Pt++){var Rt=se[Pt],ln=0,je=0,Ht=0;ge=void 0;for(var ut=new Z({comments:Ae,delimiter:Rt,newline:p,preview:10}).parse(z),jt=0;jt<ut.data.length;jt++)if(I&&zt(ut.data[jt]))Ht++;else{var gn=ut.data[jt].length;je+=gn,void 0!==ge?0<gn&&(ln+=Math.abs(gn-ge),ge=gn):ge=gn}0<ut.data.length&&(je/=ut.data.length-Ht),(void 0===ve||ln<=ve)&&(void 0===et||et<je)&&1.99<je&&(ve=ln,L=Rt,et=je)}return{successful:!!(me.delimiter=L),bestDelimiter:L}}(Ot,me.newline,me.skipEmptyLines,me.comments,me.delimitersToGuess);T.successful?me.delimiter=T.bestDelimiter:(Oe=!0,me.delimiter=S.DefaultDelimiter),Re.meta.delimiter=me.delimiter}var W=Y(me);return me.preview&&me.header&&W.preview++,B=Ot,ce=new Z(W),Re=ce.parse(B,re,D),Mn(),j?{meta:{paused:!0}}:Re||{meta:{paused:!1}}},this.paused=function(){return j},this.pause=function(){j=!0,ce.abort(),B=H(me.chunk)?"":B.substring(ce.getCharIndex())},this.resume=function(){Bt.streamer._halted?(j=!1,Bt.streamer.parseChunk(B,!0)):setTimeout(Bt.resume,3)},this.aborted=function(){return he},this.abort=function(){he=!0,ce.abort(),Re.meta.aborted=!0,H(me.complete)&&me.complete(Re),B=""}}function V(me){return me.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z(me){var B,ce=(me=me||{}).delimiter,Oe=me.newline,Ue=me.comments,qe=me.step,_e=me.preview,ht=me.fastMode,Bt=B=null==me.quoteChar?'"':me.quoteChar;if(void 0!==me.escapeChar&&(Bt=me.escapeChar),("string"!=typeof ce||-1<S.BAD_DELIMITERS.indexOf(ce))&&(ce=","),Ue===ce)throw new Error("Comment character same as delimiter");!0===Ue?Ue="#":("string"!=typeof Ue||-1<S.BAD_DELIMITERS.indexOf(Ue))&&(Ue=!1),"\n"!==Oe&&"\r"!==Oe&&"\r\n"!==Oe&&(Oe="\n");var de=0,R=!1;this.parse=function(j,he,Ce){if("string"!=typeof j)throw new Error("Input must be a string");var Re=j.length,pt=ce.length,zt=Oe.length,Mn=Ue.length,It=H(qe),Ne=[],Xe=[],Ot=[],re=de=0;if(!j)return lt();if(me.header&&!he){var D=j.split(Oe)[0].split(ce),F=[],T={},W=!1;for(var z in D){var p=D[z];H(me.transformHeader)&&(p=me.transformHeader(p,z));var I=p,Ae=T[p]||0;for(0<Ae&&(W=!0,I=p+"_"+Ae),T[p]=Ae+1;F.includes(I);)I=I+"_"+Ae;F.push(I)}if(W){var se=j.split(Oe);se[0]=F.join(ce),j=se.join(Oe)}}if(ht||!1!==ht&&-1===j.indexOf(B)){for(var L=j.split(Oe),ve=0;ve<L.length;ve++){if(de+=(Ot=L[ve]).length,ve!==L.length-1)de+=Oe.length;else if(Ce)return lt();if(!Ue||Ot.substring(0,Mn)!==Ue){if(It){if(Ne=[],Ht(Ot.split(ce)),bt(),R)return lt()}else Ht(Ot.split(ce));if(_e&&_e<=ve)return Ne=Ne.slice(0,_e),lt(!0)}}return lt()}for(var ge=j.indexOf(ce,de),et=j.indexOf(Oe,de),Pt=new RegExp(V(Bt)+V(B),"g"),Rt=j.indexOf(B,de);;)if(j[de]!==B)if(Ue&&0===Ot.length&&j.substring(de,de+Mn)===Ue){if(-1===et)return lt();et=j.indexOf(Oe,de=et+zt),ge=j.indexOf(ce,de)}else if(-1!==ge&&(ge<et||-1===et))Ot.push(j.substring(de,ge)),ge=j.indexOf(ce,de=ge+pt);else{if(-1===et)break;if(Ot.push(j.substring(de,et)),gn(et+zt),It&&(bt(),R))return lt();if(_e&&Ne.length>=_e)return lt(!0)}else for(Rt=de,de++;;){if(-1===(Rt=j.indexOf(B,Rt+1)))return Ce||Xe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:de}),jt();if(Rt===Re-1)return jt(j.substring(de,Rt).replace(Pt,B));if(B!==Bt||j[Rt+1]!==Bt){if(B===Bt||0===Rt||j[Rt-1]!==Bt){-1!==ge&&ge<Rt+1&&(ge=j.indexOf(ce,Rt+1)),-1!==et&&et<Rt+1&&(et=j.indexOf(Oe,Rt+1));var ln=ut(-1===et?ge:Math.min(ge,et));if(j.substr(Rt+1+ln,pt)===ce){Ot.push(j.substring(de,Rt).replace(Pt,B)),j[de=Rt+1+ln+pt]!==B&&(Rt=j.indexOf(B,de)),ge=j.indexOf(ce,de),et=j.indexOf(Oe,de);break}var je=ut(et);if(j.substring(Rt+1+je,Rt+1+je+zt)===Oe){if(Ot.push(j.substring(de,Rt).replace(Pt,B)),gn(Rt+1+je+zt),ge=j.indexOf(ce,de),Rt=j.indexOf(B,de),It&&(bt(),R))return lt();if(_e&&Ne.length>=_e)return lt(!0);break}Xe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:de}),Rt++}}else Rt++}return jt();function Ht(He){Ne.push(He),re=de}function ut(He){var ye=0;if(-1!==He){var mt=j.substring(Rt+1,He);mt&&""===mt.trim()&&(ye=mt.length)}return ye}function jt(He){return Ce||(void 0===He&&(He=j.substring(de)),Ot.push(He),de=Re,Ht(Ot),It&&bt()),lt()}function gn(He){de=He,Ht(Ot),Ot=[],et=j.indexOf(Oe,de)}function lt(He){return{data:Ne,errors:Xe,meta:{delimiter:ce,linebreak:Oe,aborted:R,truncated:!!He,cursor:re+(he||0)}}}function bt(){qe(lt()),Ne=[],Xe=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return de}}function J(me){var B=me.data,ce=d[B.workerId],Oe=!1;if(B.error)ce.userError(B.error,B.file);else if(B.results&&B.results.data){var Ue={abort:function(){Oe=!0,te(B.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ae,resume:ae};if(H(ce.userStep)){for(var qe=0;qe<B.results.data.length&&(ce.userStep({data:B.results.data[qe],errors:B.results.errors,meta:B.results.meta},Ue),!Oe);qe++);delete B.results}else H(ce.userChunk)&&(ce.userChunk(B.results,Ue,B.file),delete B.results)}B.finished&&!Oe&&te(B.workerId,B.results)}function te(me,B){var ce=d[me];H(ce.userComplete)&&ce.userComplete(B),ce.terminate(),delete d[me]}function ae(){throw new Error("Not implemented.")}function Y(me){if("object"!=typeof me||null===me)return me;var B=Array.isArray(me)?[]:{};for(var ce in me)B[ce]=Y(me[ce]);return B}function $(me,B){return function(){me.apply(B,arguments)}}function H(me){return"function"==typeof me}return w&&(C.onmessage=function(me){var B=me.data;if(void 0===S.WORKER_ID&&B&&(S.WORKER_ID=B.workerId),"string"==typeof B.input)C.postMessage({workerId:S.WORKER_ID,results:S.parse(B.input,B.config),finished:!0});else if(C.File&&B.input instanceof File||B.input instanceof Object){var ce=S.parse(B.input,B.config);ce&&C.postMessage({workerId:S.WORKER_ID,results:ce,finished:!0})}}),(y.prototype=Object.create(P.prototype)).constructor=y,(v.prototype=Object.create(P.prototype)).constructor=v,(M.prototype=Object.create(M.prototype)).constructor=M,(G.prototype=Object.create(P.prototype)).constructor=G,S},void 0!==(u=E.apply(Ve,[]))&&(en.exports=u)},11724:(en,Ve,E)=>{var i=E(48788).default,u=E(79640).default,f=E(19420).default,C=E(31049).default,x=E(15199).default,w=E(15488).default,d=E(15985).default;(k=>{"use strict";var S={493:h=>{h.exports=E(71245)}},U={};function P(h){var s=U[h];if(void 0!==s)return s.exports;var g=U[h]={exports:{}};return S[h](g,g.exports,P),g.exports}P.n=h=>{var s=h&&h.__esModule?()=>h.default:()=>h;return P.d(s,{a:s}),s},P.d=(h,s)=>{for(var g in s)P.o(s,g)&&!P.o(h,g)&&Object.defineProperty(h,g,{enumerable:!0,get:s[g]})},P.o=(h,s)=>Object.prototype.hasOwnProperty.call(h,s),P.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var y={};P.r(y),P.d(y,{AABB:()=>Uc,AbstractTexture:()=>Ot,AmbientLightNode:()=>ci,Animation:()=>cs,AnimationSystem:()=>wt,BIODIGITAL_HIGHLIGHT_COLOR:()=>he,BIODIGITAL_PARTICLE_SCALE:()=>Bt,BIODIGITAL_SCENE_SCALE:()=>ht,BioDigitalAnatomyObject:()=>li,BioDigitalAnatomySceneGraph:()=>ho,BioDigitalAnimationPlayer:()=>$f,BioDigitalChapter:()=>Yi,BioDigitalEngine:()=>pm,BioDigitalFileServer:()=>gu,BioDigitalMarker:()=>Uh,BioDigitalRenderer:()=>Sl,BioDigitalScreenMarker:()=>jh,BioDigitalStory:()=>vr,BioDigitalWebSocketServer:()=>Jh,BioDigitalXR:()=>mu,COMMIT:()=>rf,CameraController:()=>It,CameraNode:()=>hr,CameraOrbiter:()=>xg,CameraTween:()=>ko,ClipId:()=>Sn,CubeTexture:()=>ge,DEFAULT_TONE_MAP_MODE:()=>Re,DirectionalLightNode:()=>di,ENABLE_COMPRESSED_TEXTURES:()=>Ce,EPSILON:()=>$,EmitterMap:()=>xt,EventEmitter:()=>ae,FogModeNumericEnum:()=>Xn,FresnelTween:()=>vo,Geometry:()=>rt,LegacyGeometry:()=>Kt,LegacyLightNode:()=>yr,LegacyMaterial:()=>En,LegacyMeshNode:()=>gt,LightNode:()=>Vr,MAX_ANIMATION_TICK:()=>j,MAX_FLOAT32:()=>H,MAX_SIMULATION_TICK:()=>R,Material:()=>Xt,MaterialTween:()=>Zn,MeshNode:()=>Jn,MeshTopology:()=>ut,MultiKeyMap:()=>re,ObjectAttributeSwitch:()=>dn,ObjectAttributeTween:()=>pi,OrthographicCameraNode:()=>zf,PARTICLE_WORKERS:()=>de,ParticleComponentTween:()=>fe,ParticleSystem:()=>tn,ParticleSystemDebugView:()=>nf,ParticleSystemTween:()=>ft,PerspectiveCameraNode:()=>cr,PhysicalMaterial:()=>ti,PointLightNode:()=>Lr,Pool:()=>qe,ResourceCache:()=>go,SceneGraphMonitor:()=>_i,SceneNode:()=>Ue,SpotLightNode:()=>wi,StoryAssetLoader:()=>Tn,Switch:()=>Ao,TIMESTAMP:()=>nh,Texture:()=>Fo,TextureFilter:()=>Ne,TextureTween:()=>Cr,TextureWrap:()=>Xe,TransformTween:()=>Bi,TransparencyModeEnum:()=>$t,Tween:()=>tr,UnlitMaterial:()=>Pi,VERSION:()=>yu,XR:()=>ip,XRGrabber:()=>Xf,XRInputCollection:()=>fu,XRInputController:()=>Ld,applyTransform:()=>ct,atos:()=>xm,autoCameraRange:()=>Hf,barycentricCoord:()=>Wf,bigEnoughUintArray:()=>jt,boundsRayDistance:()=>Bf,boundsSphereDistance:()=>uc,boxIntersectsPlaneBounds:()=>ud,boxRayDistance:()=>td,boxSphereDistance:()=>Ka,buildRotationScaleMat3:()=>tt,canvasSpace:()=>Kf,cartesianCoord:()=>uu,clamp:()=>me,cloneSceneNode:()=>bm,cloneSceneTree:()=>Bd,colorArray:()=>it,copyBox:()=>lt,deepFreeze:()=>Et,emptyBox:()=>gn,eulerXYZFromMatrix:()=>_u,eulerZYXFromMatrix:()=>B,fetchAssetLibrary:()=>_d,fill:()=>rr,findAllTransfers:()=>rd,findSceneNode:()=>Yf,findSceneNodeByName:()=>Fd,floatString:()=>Fe,get:()=>nd,getTranslation:()=>K,getTrianglePositions:()=>Bh,gltfBuildLegacyMaterial:()=>gd,gltfBuildPhysicalMaterial:()=>pu,gltfBuildUnlitMaterial:()=>eh,gltfGeometry:()=>hu,isPowerOfTwo:()=>qs,isTypedArray:()=>V,joinPath:()=>et,loadCompressedTexture:()=>ss,loadGLTF:()=>tp,loadImage:()=>Pt,lookAtObject:()=>Bn,makeClippingPlanes:()=>Ks,makeWorker:()=>ls,makeWorkerService:()=>Ni,memoize:()=>D,meshAlphaMode:()=>Rc,normalizePlane:()=>ea,objectKey:()=>Qc,objectLookAt:()=>pn,partial:()=>Ge,pixelFormats:()=>se,planeDistanceToPoint:()=>ia,positionFromArray:()=>rc,processGLTF:()=>ep,projectScreenSpace:()=>Vh,quatFromEulerXYZ:()=>vu,quatFromEulerZYX:()=>Y,rayIntersectTriangle:()=>Fh,registerWorker:()=>No,serveWorker:()=>rp,setFrustumPlanesFromMatrix:()=>ma,setGeometryBounds:()=>bt,setVectorOption:()=>Z,shaderOptionsKey:()=>Ed,textureMipLevels:()=>Rt,traverseSceneNodes:()=>mi,triangleNormal:()=>Nh,vec3Equals:()=>Ff,vec3Pool:()=>_e,vertexCount:()=>gs});const v=E(38472),M=E(9556),G=E(65133);function K(h,s,g){if(h[0]=s[12],h[1]=s[13],h[2]=s[14],g){const c=g[0],O=g[1],X=g[2];h[0]+=s[0]*c+s[4]*O+s[8]*X-c,h[1]+=s[1]*c+s[5]*O+s[9]*X-O,h[2]+=s[2]*c+s[6]*O+s[10]*X-X}return h}function V(h){return ArrayBuffer.isView(h)&&!(h instanceof DataView)}function Z(h,s){if(s)if((Array.isArray(s)||V(s))&&s.length>=3)(0,v.copy)(h,s);else{if(Array.isArray(s)||"object"!=typeof s)throw new Error("setVectorOption: unknown source format");{const{x:g,y:c,z:O}=s;(0,v.set)(h,g,c,O)}}return h}const J=E(17225);var te=P.n(J);class ae{constructor(){d(this,"on",void 0),d(this,"off",void 0),d(this,"emit",void 0),d(this,"destroy",void 0);const{all:s,on:g,off:c,emit:O}=te()();this.on=g,this.off=c,this.emit=O,this.destroy=()=>s.clear()}}function Y(h,s,g,c){s*=.5,c*=.5,g*=.5;const O=Math.sin(s),X=Math.cos(s),ie=Math.sin(g),ne=Math.cos(g),we=Math.sin(c),Te=Math.cos(c);return h[0]=O*ne*Te-X*ie*we,h[1]=X*ie*Te+O*ne*we,h[2]=X*ne*we-O*ie*Te,h[3]=X*ne*Te+O*ie*we,h}const $=1e-6,H=170141185e30,me=(h,s=0,g=1)=>Math.max(s,Math.min(g,h));function B(h,s){const g=s[0],c=s[1],O=s[2],X=s[4],ie=s[5],ne=s[6],we=s[8],Te=s[9],Me=s[10];let Le=g,at=c,Ft=O,Gt=X,qt=ie,Ut=ne,rn=Me;const Un=g*g+c*c+O*O,Pn=X*X+ie*ie+ne*ne;if(Math.abs(Un-1)>$){const An=Math.sqrt(Un);Le/=An,Gt/=An}if(Math.abs(Pn-1)>$){const An=Math.sqrt(Pn);at/=An,qt/=An}const Rn=we*we+Te*Te+Me*Me;if(Math.abs(Rn-1)>$){const An=Math.sqrt(Rn);Ft/=An,Ut/=An,rn/=An}return h[1]=Math.asin(-me(Ft,-1,1)),Math.abs(Ft)<.9999999?(h[0]=Math.atan2(Ut,rn),h[2]=Math.atan2(at,Le)):(h[0]=0,h[2]=Math.atan2(-Gt,qt)),h}class ce{constructor(s,g){const{deleteProperty:c,set:O,get:X,...ie}=g,ne={...ie};return X&&(ne.get=(we,Te,Me)=>{if(!/^\d+$/.test(Te))return Reflect.get(we,Te,Me);const Le=parseInt(Te,10);return X(we,Le,Me)}),O&&(ne.set=(we,Te,Me,Le)=>{if("length"===Te){for(let Ft=we.length-1;Ft>=Me;Ft--)void 0!==we[Ft]&&Le.pop();return we.length=Me,!0}const at="string"==typeof Te&&/^\d+$/.test(Te)?parseInt(Te,10):Me;return"number"==typeof at&&at>=0?O(we,at,Me,Le):(we[Te]=Me,!0)}),c&&(ne.deleteProperty=(we,Te)=>{const Me="string"==typeof Te&&/^\d+$/.test(Te)&&parseInt(Te,10);return"number"==typeof Me?c(we,Me):(Reflect.deleteProperty(we,Te),!0)}),new Proxy(s,ne)}}const Oe=(k=new WeakMap,class extends ce{constructor(s){const g=s?[...s]:[];super(g,{set:(O,X,ie)=>{if(ie===g[X])return!0;const ne=g[X];return g[X]=ie,w(k,this).emit("change",{index:X,value:ie,previous:ne}),void 0===ne&&w(k,this).emit("add",{index:X,value:ie}),!0},deleteProperty:(O,X)=>{if(X>=g.length)return!0;const ie=g[X];return g[X]=void 0,w(k,this).emit("change",{index:X,value:void 0,previous:ie}),w(k,this).emit("delete",{index:X,previous:ie}),!0}}),x(this,k,new ae);const c=w(k,this);Object.defineProperties(this,{on:{value:c.on,enumerable:!1},off:{value:c.off,enumerable:!1},emit:{value:c.emit,enumerable:!1},destroy:{value:c.destroy,enumerable:!1}})}});class Ue extends ae{constructor(s={}){super(),d(this,"name",void 0),d(this,"parent",void 0),d(this,"children",void 0),d(this,"position",void 0),d(this,"origin",void 0),d(this,"scale",void 0),d(this,"quaternion",void 0),d(this,"rotation",void 0),d(this,"matrix",void 0),d(this,"worldMatrix",void 0),d(this,"rotationSource",void 0),d(this,"dirty",void 0),d(this,"matrixDirty",void 0),d(this,"worldMatrixDirty",void 0),d(this,"constraints",void 0),d(this,"updateWorldMatrix",void 0),d(this,"dirtyMatrix",void 0),d(this,"dirtyWorldMatrix",void 0),d(this,"updateMatrix",void 0),d(this,"setMatrix",void 0),d(this,"setWorldMatrix",void 0);const{arrays:g,name:c}=s;let O=null;if(this.name=c||"",this.children=new Set,this.position=g?.position||(0,v.create)(),Z(this.position,s?.position||[0,0,0]),this.origin=g?.origin||(0,v.create)(),Z(this.origin,s?.origin||[0,0,0]),this.scale=g?.scale||(0,v.create)(),Z(this.scale,s?.scale||[1,1,1]),this.quaternion=g?.quaternion||(0,M.create)(),s?.quaternion)if(4===s.quaternion.length)(0,M.copy)(this.quaternion,s.quaternion);else if("object"==typeof s.quaternion){const{x:Me,y:Le,z:at,w:Ft}=s.quaternion;(0,M.set)(this.quaternion,Me,Le,at,Ft)}this.rotation=g?.rotation||(0,v.create)(),Z(this.rotation,s?.rotation||[0,0,0]),this.matrix=g?.matrix||(0,G.create)(),this.worldMatrix=g?.worldMatrix||(0,G.create)(),this.constraints=new Oe(s?.constraints),this.constraints.on("change",()=>{this.emit("change",{node:this,property:"constraints"})});let X=!0,ie=!0,ne="euler"===s.rotationSource||"quaternion"===s.rotationSource?s.rotationSource:s.rotation&&!s.quaternion?"euler":"quaternion",we="euler"===ne;this.dirtyMatrix=()=>{X=!0,this.dirtyWorldMatrix()},this.dirtyWorldMatrix=()=>{if(!ie){ie=!0;for(const Me of this.children)Me.dirtyWorldMatrix();this.emit("dirty",{node:this})}},this.updateMatrix=()=>{if(X){const Me=this.matrix,{position:Le,origin:at,quaternion:Ft,rotation:Gt,scale:qt}=this;if(we){const[Ut,rn,Un]=Gt;Y(Ft,Ut,rn,Un)}(0,G.fromRotationTranslationScaleOrigin)(Me,Ft,Le,qt,at),we||B(Gt,Me),X=!1,this.emit("updateMatrix",{node:this})}},this.updateWorldMatrix=Me=>{this.updateMatrix(),ie&&(this.parent?(this.parent.updateWorldMatrix(),(0,G.multiply)(this.worldMatrix,this.parent.worldMatrix,this.matrix)):(0,G.copy)(this.worldMatrix,this.matrix),Me&&Me(),ie=!1,this.emit("updateWorldMatrix",{node:this}))},this.setMatrix=Me=>{Me!==this.matrix&&(0,G.copy)(this.matrix,Me),K(this.position,this.matrix,this.origin),(0,G.getRotation)(this.quaternion,this.matrix),B(this.rotation,this.matrix),(0,G.getScaling)(this.scale,this.matrix),X=!1,this.dirtyWorldMatrix()},this.setWorldMatrix=Me=>{if(Me!==this.worldMatrix&&(0,G.copy)(this.worldMatrix,Me),this.parent){this.parent.updateWorldMatrix();const Le=this.matrix;(0,G.invert)(Le,this.parent.worldMatrix),(0,G.multiply)(this.matrix,Le,this.worldMatrix)}else(0,G.copy)(this.matrix,this.worldMatrix);this.setMatrix(this.matrix)};const Te=this.destroy;this.destroy=()=>{this.parent=null,this.children.forEach(Me=>this.remove(Me)),this.emit("destroy",{node:this}),Te()},Object.defineProperties(this,{rotationSource:{get:()=>ne,set(Me){Me!==ne&&(ne=Me,we="euler"===ne,this.dirtyMatrix())}},dirty:{get:()=>X||ie},matrixDirty:{get:()=>X},worldMatrixDirty:{get:()=>ie},parent:{get:()=>O,set:(Me=null)=>{if(O===Me)return;let Le=null;O&&(O.children.delete(this),Le=O),Me&&Me.children.add(this),O=Me,Le&&Le.emit("remove",{node:Le,child:this}),Me&&Me.emit("add",{node:Me,child:this}),this.emit("parent",{node:this,parent:Me}),this.dirtyWorldMatrix()}}})}add(s){s&&!this.children.has(s)&&(s.parent=this)}remove(s){s&&this.children.has(s)&&(s.parent=null)}}class qe{constructor(s,g,c=100){d(this,"activeCount",void 0),d(this,"size",void 0),d(this,"get",void 0),d(this,"release",void 0);const O=[];let X=0;Object.defineProperties(this,{activeCount:{get:()=>X},size:{get:()=>O.length}}),this.get=()=>(X++,O.length?O.pop():s()),this.release=ie=>{if(X<=0)throw new Error("Pool: too many objects released.");X--,O.length<c&&(g&&g(ie),O.push(ie))}}}const _e=new qe(()=>(0,v.create)(),h=>(0,v.set)(h,0,0,0)),ht=.01,Bt=.001,de=!1,R=40,j=300,he=[0,.8,1],Ce=!0,Re="granTurismo",pt=24*ht,zt=new Float32Array([0,1,0]),Mn=(0,G.create)();class It{constructor(s,g){d(this,"minDistance",void 0),d(this,"maxDistance",void 0),d(this,"zoom",void 0),d(this,"dollyScale",void 0),d(this,"camera",void 0),d(this,"position",void 0),d(this,"target",void 0),d(this,"up",void 0),d(this,"center",void 0),d(this,"distance",void 0),d(this,"orbit",void 0),d(this,"dolly",void 0),d(this,"pan",void 0),d(this,"setPosition",void 0),d(this,"setTarget",void 0),d(this,"setUp",void 0),d(this,"setCamera",void 0);const c=(0,v.create)(),O=(0,v.create)(),X=(0,v.create)(),ie=s.up;let ne=g?.distance??80*ht,we=g?.minDistance??.01*ht,Te=g?.maxDistance??150*ht;function Me(Le){s.parent?(s.updateWorldMatrix(),s.worldMatrix[12]=Le[0],s.worldMatrix[13]=Le[1],s.worldMatrix[14]=Le[2],s.setWorldMatrix(s.worldMatrix)):((0,v.copy)(s.position,Le),s.dirtyMatrix())}this.dollyScale=g?.dollyScale??pt,s.updateWorldMatrix(),g?.position?(Z(c,g.position),Me(c)):(0,G.getTranslation)(c,s.worldMatrix),g?.target?(Z(O,g.target),s.lookAt(O),ne=(0,v.distance)(c,O)):((0,v.transformMat4)(O,[0,0,-1],s.worldMatrix),(0,v.normalize)(O,O),(0,v.scale)(O,O,ne)),g?.up&&(Z(ie,g.up),(0,v.normalize)(ie,ie)),Z(X,g?.center||O),this.orbit=(Le=0,at=0)=>{if(!Le&&!at)return;const Ft=_e.get(),Gt=_e.get(),qt=_e.get(),Ut=_e.get();if((0,v.subtract)(Ft,c,X),(0,v.subtract)(Gt,O,X),(0,v.subtract)(qt,Gt,Ft),(0,v.normalize)(qt,qt),(0,v.cross)(Ut,ie,qt),at){const rn=Math.sign(ie[1])||1;(0,G.fromRotation)(Mn,rn*at,zt)}else(0,G.identity)(Mn);Le&&(0,G.rotate)(Mn,Mn,Le,Ut),(0,v.transformMat4)(Ft,Ft,Mn),(0,v.transformMat4)(Gt,Gt,Mn),(0,v.transformMat4)(ie,ie,Mn),(0,v.normalize)(ie,ie),(0,v.add)(c,Ft,X),(0,v.add)(O,Gt,X),Me(c),s.lookAt(O),_e.release(Ft),_e.release(Gt),_e.release(qt),_e.release(Ut)},this.pan=(Le,at,Ft=0)=>{if(!Le&&!at&&!Ft)return;const Gt=_e.get(),qt=_e.get(),Ut=_e.get();(0,v.set)(Gt,0,0,0),(Le||Ft)&&(0,v.subtract)(qt,c,O),Le&&((0,v.cross)(Ut,qt,ie),(0,v.normalize)(Ut,Ut),(0,v.scale)(Gt,Ut,Le)),at&&(0,v.scaleAndAdd)(Gt,Gt,ie,at),Ft&&((0,v.normalize)(qt,qt),(0,v.scaleAndAdd)(Gt,Gt,qt,-Ft)),(0,v.add)(c,c,Gt),(0,v.add)(O,O,Gt),Me(c),s.lookAt(O),_e.release(Gt),_e.release(qt),_e.release(Ut)},this.dolly=(Le=0)=>{Le&&(this.distance=we&&Te?Math.abs(ne+Le*ne*this.dollyScale/Te):Math.abs(ne+Le))},this.setPosition=(Le,at,Ft)=>{"number"==typeof Le?(0,v.set)(c,Le,at,Ft):(0,v.copy)(c,Le),ne=(0,v.distance)(c,O),Me(c),(ne<we||ne>Te)&&(this.distance=ne),s.lookAt(O)},this.setTarget=(Le,at,Ft)=>{"number"==typeof Le?(0,v.set)(O,Le,at,Ft):(0,v.copy)(O,Le),ne=(0,v.distance)(c,O),(ne<we||ne>Te)&&(this.distance=ne),s.lookAt(O)},this.setCamera=(Le,at,Ft)=>{(0,v.copy)(c,Le),(0,v.copy)(O,at),Ft&&(0,v.copy)(ie,Ft),ne=(0,v.distance)(c,O),Me(c),(ne<we||ne>Te)&&(this.distance=ne),s.lookAt(O)},this.setUp=(Le,at,Ft)=>{"number"==typeof Le?(0,v.set)(ie,Le,at,Ft):(0,v.copy)(ie,Le),s.lookAt(O)},Object.defineProperties(this,{camera:{writable:!1,value:s},position:{writable:!1,value:c},target:{writable:!1,value:O},center:{writable:!1,value:X},up:{writable:!1,value:ie},distance:{get:()=>ne,set:Le=>{if((Le=me(Le,we,Te))!==ne){ne=Le;const at=_e.get();(0,v.subtract)(at,c,O),(0,v.normalize)(at,at),(0,v.scaleAndAdd)(c,O,at,ne),_e.release(at),Me(c)}}},zoom:{get:()=>1-(ne-we)/(Te-we),set:Le=>{this.distance=we+(1-Le)*(Te-we)}},minDistance:{get:()=>we,set:Le=>{we=Le,this.distance=ne}},maxDistance:{get:()=>Te,set:Le=>{Te=Le,this.distance=ne}}})}}let Ne=((h={}).Nearest="nearest",h.Linear="linear",h),Xe=function(h){return h.ClampToEdge="clamp-to-edge",h.Repeat="repeat",h.MirrorRepeat="mirror-repeat",h}({});var h;class Ot extends ae{constructor(s){super(),d(this,"width",void 0),d(this,"height",void 0),d(this,"min",void 0),d(this,"mag",void 0),d(this,"mipmapFilter",void 0),d(this,"wrapU",void 0),d(this,"wrapV",void 0),d(this,"rowOrder",void 0),d(this,"anisotropy",void 0),d(this,"name",void 0),this.min=s?.min||s?.minMag||Ne.Linear,this.mag=s?.mag||s?.minMag||Ne.Linear,this.mipmapFilter=s?.mipmapFilter||Ne.Nearest,this.wrapU=s?.wrapU||s?.wrap||Xe.Repeat,this.wrapV=s?.wrapV||s?.wrap||Xe.Repeat,this.rowOrder=s?.rowOrder||"bottom-up",this.anisotropy=s?.anisotropy||1,this.name=s?.name||"";const g=this.destroy;return this.destroy=()=>{this.emit("destroy",{texture:this}),g()},new Proxy(this,{set:(c,O,X)=>(c[O]!==X&&(c[O]=X,c.emit("change",{texture:c,property:O})),!0)})}}class re{constructor(s){d(this,"size",void 0),d(this,"has",void 0),d(this,"get",void 0),d(this,"set",void 0),d(this,"delete",void 0),d(this,"clear",void 0),d(this,"forEach",void 0),d(this,Symbol.iterator,void 0);const g={value:void 0,map:null};let c=0;function O(ne){let we=g;for(let Te=0;Te<ne.length;Te++){const Me=we.map?.get(ne[Te]);if(!Me)return null;we=Me}return we}function X(ne,we){if(!we.length){const at=void 0!==ne.value;return at&&(ne.value=void 0,c--),at}const[Te,...Me]=we,Le=ne.map?.get(Te);if(Le){const at=X(Le,Me);return void 0!==Le.value||Le.map?.size||ne.map.delete(Te),ne.map.size||(ne.map=null),at}return!1}function ie(ne,we,Te,Me=[]){void 0!==ne.value&&we.call(Te,ne.value,...Me),ne.map?.forEach((Le,at)=>{ie(Le,we,Te,[...Me,at])},Te)}this.has=(...ne)=>{const we=O(ne);return null!==we&&void 0!==we.value},this.get=(...ne)=>{const we=O(ne);return null===we?void 0:we.value},this.set=(...ne)=>{const we=ne.pop();let Te=g;for(let Me=0;Me<ne.length;Me++){const Le=ne[Me];let at;Te.map?at=Te.map.get(Le):Te.map=new Map,at||(at={value:void 0,map:null},Te.map.set(Le,at)),Te=at}return void 0===Te.value&&c++,Te.value=we,this},this.delete=(...ne)=>X(g,ne),this.clear=()=>(g.map=null,c=0,this),this.forEach=(ne,we=this)=>ie(g,ne,we),this[Symbol.iterator]=()=>{const ne=[];return ie(g,(we,...Te)=>ne.push([Te,we]),this),ne[Symbol.iterator]()},Object.defineProperty(this,"size",{get:()=>c}),s&&s.forEach(ne=>this.set(...ne))}}function D(h){const s=new re;return(...g)=>{let c=s.get(...g);return c||(c=h(...g),s.set(...g,c)),c}}const F=D(function(h,s){const g=h-1,c=s-1;return function(O,X){return Math.floor((O+g)/h)*Math.floor((X+c)/s)*16}});function T(h,s){return Math.floor((h+3)/4)*Math.floor((s+3)/4)*8}function W(h,s){return Math.floor((h+3)/4)*Math.floor((s+3)/4)*16}function z(h,s){return(h=Math.max(h,16))*(s=Math.max(s,8))/4}function p(h,s){return(h=Math.max(h,8))*(s=Math.max(s,8))/2}function I(h,s){return Math.ceil(h/4)*Math.ceil(s/4)*8}function Ae(h,s){return Math.ceil(h/4)*Math.ceil(s/4)*16}const se={r8unorm:{channels:1,compressed:!1,bits:8},r8snorm:{channels:1,compressed:!1,bits:8},r8uint:{channels:1,compressed:!1,bits:8},r8sint:{channels:1,compressed:!1,bits:8},r16uint:{channels:1,compressed:!1,bits:16},r16sint:{channels:1,compressed:!1,bits:16},r16float:{channels:1,compressed:!1,bits:16},rg8unorm:{channels:2,compressed:!1,bits:16},rg8snorm:{channels:2,compressed:!1,bits:16},rg8uint:{channels:2,compressed:!1,bits:16},rg8sint:{channels:2,compressed:!1,bits:16},r32uint:{channels:1,compressed:!1,bits:32},r32sint:{channels:1,compressed:!1,bits:32},r32float:{channels:1,compressed:!1,bits:32},rg16uint:{channels:2,compressed:!1,bits:32},rg16sint:{channels:2,compressed:!1,bits:32},rg16float:{channels:2,compressed:!1,bits:32},rgba8unorm:{channels:4,compressed:!1,bits:32},"rgba8unorm-srgb":{channels:4,compressed:!1,bits:32},rgba8snorm:{channels:4,compressed:!1,bits:32},rgba8uint:{channels:4,compressed:!1,bits:32},rgba8sint:{channels:4,compressed:!1,bits:32},bgra8unorm:{channels:4,compressed:!1,bits:32},"bgra8unorm-srgb":{channels:4,compressed:!1,bits:32},rgb9e5ufloat:{channels:3,compressed:!1,bits:32},rgb10a2uint:{channels:3,compressed:!1,bits:32},rgb10a2unorm:{channels:3,compressed:!1,bits:32},rg11b10ufloat:{channels:4,compressed:!1,bits:32},rg32uint:{channels:2,compressed:!1,bits:64},rg32sint:{channels:2,compressed:!1,bits:64},rg32float:{channels:2,compressed:!1,bits:64},rgba16uint:{channels:4,compressed:!1,bits:64},rgba16sint:{channels:4,compressed:!1,bits:64},rgba16float:{channels:4,compressed:!1,bits:64},rgba32uint:{channels:4,compressed:!1,bits:128},rgba32sint:{channels:4,compressed:!1,bits:128},rgba32float:{channels:4,compressed:!1,bits:128},stencil8:{channels:1,compressed:!1,bits:8},depth16unorm:{channels:1,compressed:!1,bits:8},depth24plus:{channels:1,compressed:!1,bits:24},"depth24plus-stencil8":{channels:2,compressed:!1,bits:32},depth32float:{channels:1,compressed:!1,bits:32},"depth32float-stencil8":{channels:2,compressed:!1,bits:40},"bc1-rgba-unorm":{channels:4,compressed:!0,size:T},"bc1-rgba-unorm-srgb":{channels:4,compressed:!0,size:T},"bc2-rgba-unorm":{channels:4,compressed:!0,size:W},"bc2-rgba-unorm-srgb":{channels:4,compressed:!0,size:W},"bc3-rgba-unorm":{channels:4,compressed:!0,size:W},"bc3-rgba-unorm-srgb":{channels:4,compressed:!0,size:W},"bc4-r-unorm":{channels:1,compressed:!0,size:I},"bc4-r-snorm":{channels:1,compressed:!0,size:I},"bc5-rg-unorm":{channels:2,compressed:!0,size:Ae},"bc5-rg-snorm":{channels:2,compressed:!0,size:Ae},"bc6h-rgb-ufloat":{channels:3,compressed:!0,size:Ae},"bc6h-rgb-float":{channels:3,compressed:!0,size:Ae},"bc7-rgba-unorm":{channels:4,compressed:!0,size:Ae},"bc7-rgba-unorm-srgb":{channels:4,compressed:!0,size:Ae},"etc2-rgb8unorm":{channels:3,compressed:!0,size:T},"etc2-rgb8unorm-srgb":{channels:3,compressed:!0,size:T},"etc2-rgb8a1unorm":{channels:4,compressed:!0,size:T},"etc2-rgb8a1unorm-srgb":{channels:4,compressed:!0,size:T},"etc2-rgba8unorm":{channels:4,compressed:!0,size:W},"etc2-rgba8unorm-srgb":{channels:4,compressed:!0,size:W},"eac-r11unorm":{channels:1,compressed:!0,size:T},"eac-r11snorm":{channels:1,compressed:!0,size:T},"eac-rg11unorm":{channels:2,compressed:!0,size:W},"eac-rg11snorm":{channels:2,compressed:!0,size:W},"astc-4x4-unorm":{channels:4,compressed:!0,size:F(4,4)},"astc-4x4-unorm-srgb":{channels:4,compressed:!0,size:F(4,4)},"astc-5x4-unorm":{channels:4,compressed:!0,size:F(5,4)},"astc-5x4-unorm-srgb":{channels:4,compressed:!0,size:F(5,4)},"astc-5x5-unorm":{channels:4,compressed:!0,size:F(5,5)},"astc-5x5-unorm-srgb":{channels:4,compressed:!0,size:F(5,5)},"astc-6x5-unorm":{channels:4,compressed:!0,size:F(6,5)},"astc-6x5-unorm-srgb":{channels:4,compressed:!0,size:F(6,5)},"astc-6x6-unorm":{channels:4,compressed:!0,size:F(6,6)},"astc-6x6-unorm-srgb":{channels:4,compressed:!0,size:F(6,6)},"astc-8x5-unorm":{channels:4,compressed:!0,size:F(8,5)},"astc-8x5-unorm-srgb":{channels:4,compressed:!0,size:F(8,5)},"astc-8x6-unorm":{channels:4,compressed:!0,size:F(8,6)},"astc-8x6-unorm-srgb":{channels:4,compressed:!0,size:F(8,6)},"astc-8x8-unorm":{channels:4,compressed:!0,size:F(8,8)},"astc-8x8-unorm-srgb":{channels:4,compressed:!0,size:F(8,8)},"astc-10x5-unorm":{channels:4,compressed:!0,size:F(10,5)},"astc-10x5-unorm-srgb":{channels:4,compressed:!0,size:F(10,5)},"astc-10x6-unorm":{channels:4,compressed:!0,size:F(10,6)},"astc-10x6-unorm-srgb":{channels:4,compressed:!0,size:F(10,6)},"astc-10x8-unorm":{channels:4,compressed:!0,size:F(10,8)},"astc-10x8-unorm-srgb":{channels:4,compressed:!0,size:F(10,8)},"astc-10x10-unorm":{channels:4,compressed:!0,size:F(10,10)},"astc-10x10-unorm-srgb":{channels:4,compressed:!0,size:F(10,10)},"astc-12x10-unorm":{channels:4,compressed:!0,size:F(12,10)},"astc-12x10-unorm-srgb":{channels:4,compressed:!0,size:F(12,10)},"astc-12x12-unorm":{channels:4,compressed:!0,size:F(12,12)},"astc-12x12-unorm-srgb":{channels:4,compressed:!0,size:F(12,12)},"astc-4x4-hdr":{channels:4,compressed:!0,size:F(4,4)},"astc-5x4-hdr":{channels:4,compressed:!0,size:F(5,4)},"astc-5x5-hdr":{channels:4,compressed:!0,size:F(5,5)},"astc-6x5-hdr":{channels:4,compressed:!0,size:F(6,5)},"astc-6x6-hdr":{channels:4,compressed:!0,size:F(6,6)},"astc-8x5-hdr":{channels:4,compressed:!0,size:F(8,5)},"astc-8x6-hdr":{channels:4,compressed:!0,size:F(8,6)},"astc-8x8-hdr":{channels:4,compressed:!0,size:F(8,8)},"astc-10x5-hdr":{channels:4,compressed:!0,size:F(10,5)},"astc-10x6-hdr":{channels:4,compressed:!0,size:F(10,6)},"astc-10x8-hdr":{channels:4,compressed:!0,size:F(10,8)},"astc-10x10-hdr":{channels:4,compressed:!0,size:F(10,10)},"astc-12x10-hdr":{channels:4,compressed:!0,size:F(12,10)},"astc-12x12-hdr":{channels:4,compressed:!0,size:F(12,12)},"pvrtc-rgb4unorm":{channels:3,compressed:!0,size:p},"pvrtc-rgb2unorm":{channels:3,compressed:!0,size:z},"pvrtc-rgba4unorm":{channels:4,compressed:!0,size:p},"pvrtc-rgba2unorm":{channels:4,compressed:!0,size:z}},L=new Map([[Uint8Array,"rgba8unorm"],[Uint8ClampedArray,"rgba8unorm"],[Uint16Array,"rgba16uint"],[Uint32Array,"rgba32uint"],[Int8Array,"rgba8sint"],[Int16Array,"rgba16sint"],[Int32Array,"rgba32sint"],[Float32Array,"rgba32float"]]);class ve extends ae{constructor(s,g){super(),d(this,"source",void 0),d(this,"data",void 0),d(this,"levels",void 0),d(this,"format",void 0),d(this,"sizeDynamic",void 0),d(this,"dynamic",void 0),d(this,"width",void 0),d(this,"height",void 0),d(this,"valid",void 0),d(this,"update",void 0);let c=0,O=0,X=null,ie=null,ne=!1,we=!1,Te=!1,Me=!0;const Le=g?.format||L.get(s.constructor)||"rgba8unorm";if(typeof ImageData<"u"&&s instanceof ImageData)c=s.width,O=s.height,X=s.data,ne=!0,Te=!0;else if(typeof ImageBitmap<"u"&&s instanceof ImageBitmap)c=s.width,O=s.height;else if(typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(c=s.naturalWidth,O=s.naturalHeight,!s.naturalWidth){we=!0,ne=!0,Me=!1;const Ft=()=>{c=s.naturalWidth,O=s.naturalHeight,we=!1,ne=!1,s.removeEventListener("load",Ft),Me=!0,this.emit("resize",{source:this}),this.emit("update",{source:this})};s.addEventListener("load",Ft),this.on("destroy",()=>{s.removeEventListener("load",Ft)})}}else if(typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement){c=s.width,O=s.height,we=!0,ne=!0,Te=!0;const Ft=new MutationObserver(()=>{c=s.width,O=s.height,this.emit("resize",{source:this}),this.update()});Ft.observe(s,{subtree:!1,childList:!1,attributes:!0,attributeFilter:["width","height"]}),this.on("destroy",()=>{Ft.disconnect()})}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement){if(c=s.videoWidth,O=s.videoHeight,we=!1,ne=!0,Te=!0,s.readyState<s.HAVE_METADATA){we=!0;const Ft=()=>{c=s.videoWidth,O=s.videoHeight,we=!1,Me=!0,s.removeEventListener("loadedmetadata",Ft),this.emit("resize",{source:this}),this.update()};s.addEventListener("loadedmetadata",Ft),this.on("destroy",()=>{s.removeEventListener("loadedmetadata",Ft)})}}else if(Array.isArray(s)&&s.length&&s[0].src)ie=s.slice().sort((Ft,Gt)=>Ft.level-Gt.level),c=ie[0].width,O=ie[0].height,X=ie[0].src;else{if(!V(s))throw new Error("Texture: unknown texture source format");{ne=!0,Te=!0,c=g?.width||0,O=g?.height||0;const Ft=se[Le];if(!0===Ft.compressed){if(Ft.size(c,O)!==s.byteLength)throw new Error("Texture: height and width do not match array size.")}else{const Gt=Ft.bits/8;if(!(c>0&&O>0)){const Ut=Math.sqrt(s.byteLength/Gt);Ut===Math.floor(Ut)&&(c=O=Ut)}if(!(c>0&&O>0))throw new Error("Texture: typed array texture requires width and height options or square image.");const qt=c*O;if(s.length%qt!=0||s.byteLength/qt>Gt)throw new Error("Texture: height and width do not match array size.")}X=s}}Object.defineProperties(this,{source:{value:s,writable:!1},data:{value:X,writable:!1},levels:{value:ie,writable:!1},format:{value:Le,writable:!1}}),Object.defineProperties(this,we?{width:{get:()=>c},height:{get:()=>O},sizeDynamic:{get:()=>we},valid:{get:()=>Me}}:{width:{value:c,writable:!1},height:{value:O,writable:!1},sizeDynamic:{value:we,writable:!1},valid:{value:Me,writable:!1}}),this.update=Te?()=>this.emit("update",{source:this}):()=>{};const at=this.destroy;this.destroy=()=>{this.emit("destroy"),at()},Object.defineProperties(this,ne?{dynamic:{get:()=>ne}}:{dynamic:{value:ne,writable:!1}})}}class ge extends Ot{constructor(s,g){if(6!==s?.length)throw new Error("CubeTexture must have exactly 6 images");const c=s.map(Me=>new ve(Me,g)),O=c[0],X=O.format;let ie=!1;const ne=()=>{const{width:Me,height:Le,valid:at}=O;if(!at||!Me||!Le)return!1;if(Me!==Le)throw new Error("CubeTexture sources must be square.");for(let Ft=1;Ft<c.length;Ft++){const Gt=c[Ft];if(!Gt.valid||Gt.width!==Me||Gt.height!==Le)return!1}return!0};for(let Me=1;Me<c.length;Me++)if(c[Me].format!==O.format)throw new Error("CubeTexture must have the same format for all sources");ie=ne(),super({mipmapFilter:Ne.Linear,wrap:Xe.ClampToEdge,...g}),d(this,"sources",void 0),d(this,"levels",void 0),d(this,"format",void 0),s=s.slice(),Object.freeze(s),c.forEach(Me=>{Me.on("resize",()=>{ie=ne(),this.emit("resize")}),Me.on("update",()=>{ie=ne(),this.emit("update")})});let we=c.map(Me=>Me.levels);we.some(Me=>!Me)&&(we=null);const Te=this.destroy;this.destroy=()=>{c.forEach(Me=>{Me.destroy()}),Te()},Object.defineProperties(this,{sources:{value:s,writable:!1},levels:{value:we,writable:!1},format:{value:X,writable:!1},width:{get:()=>O.width},height:{get:()=>O.height},valid:{get:()=>ie},sizeDynamic:{get:()=>O.sizeDynamic},dynamic:{value:O.dynamic,writable:!1}})}}function et(h,...s){let g=h||"";return s.forEach(c=>{c&&(c.startsWith("/")&&(c=c.substring(1)),g.endsWith("/")?g+=c:g+="/"+c)}),g}function Pt(h){return new Promise((s,g)=>{const c=new Image;c.onload=()=>{c.onload=c.onerror=null,s(c)},c.onerror=()=>{c.onload=c.onerror=null,g(new Error("Error loading image"))},c.src=h})}function Rt(h,s){return Math.floor(Math.log2(Math.max(h,s)))+1}const ln=typeof createImageBitmap<"u";function je(h,s,g,c){return Ht.apply(this,arguments)}function Ht(){return Ht=C(function*(h,s,g,c){const O=/(.+)\.([^.]+)$/.exec(g);if(!O)throw new Error(`Invalid asset id: '${g}'`);const X=O[1],ie=O[2],ne=yield h("reflections",X,"outline");if(!ne[ie])return console.error(`Reflection not found: ${X}[${ie}]`),null;const{src:we,intensity:Te,space:Me}=ne[ie],Le=function(rn,Un){const Pn=Un.split("/");return et(rn,"content/states",Pn[0],"reflections",Pn[1]+"/")}(s,X),at=[],Ft=[],Gt=yield Promise.all(we.map(function(){var rn=C(function*(Un){if(Un=Le+Un,c?.loadImage){const Ln=yield c.loadImage(Un);if(Ln)return Ln}const Pn=yield c.fetch(Un,"environment"),Rn=yield Pn.blob();if(ln){const Ln=yield createImageBitmap(Rn);return at.push(Ln),Ln}const An=URL.createObjectURL(Rn);try{const Ln=Pt(An);return Ft.push(An),Ln}catch(Ln){throw URL.revokeObjectURL(An),Ln}});return function(Un){return rn.apply(this,arguments)}}())).catch(rn=>(console.warn("Error loading environment asset: "+g,rn),null));if(!Gt)return null;const qt=new ge(Gt,{wrap:Xe.ClampToEdge,mag:Ne.Linear,min:Ne.Linear}),Ut=Rt(qt.width,qt.height);return at.length?qt.on("destroy",()=>{at.forEach(rn=>{rn.close()})}):Ft.length&&qt.on("destroy",()=>{Ft.forEach(rn=>{URL.revokeObjectURL(rn)})}),{space:Me,texture:qt,intensity:Te,mipLevels:Ut}}),Ht.apply(this,arguments)}let ut=function(h){return h.points="points",h.lines="lines",h.lineLoop="line-loop",h.lineStrip="line-strip",h.triangles="triangles",h.triangleStrip="triangle-strip",h.triangleFan="triangle-fan",h}({});const jt=function(h,s,g,c){const O=h<256?Uint8Array:h<65536?Uint16Array:Uint32Array;return"number"==typeof s?new O(s):new O(s,g,c)};function gn(){return{min:(0,v.fromValues)(1/0,1/0,1/0),max:(0,v.fromValues)(-1/0,-1/0,-1/0)}}function lt(h,s){(0,v.copy)(h.min,s.min),(0,v.copy)(h.max,s.max)}function bt(h,s){const{min:g,max:c}=h;(0,v.set)(g,1/0,1/0,1/0),(0,v.set)(c,-1/0,-1/0,-1/0);for(let O=0;O<s.length;O++){const X=O%3,ie=s[O];ie<g[X]&&(g[X]=ie),ie>c[X]&&(c[X]=ie)}}const He=/coord|texture|\buvs?\b/i,ye=/colou?r/i;class rt extends ae{constructor(s,g){super(),d(this,"attributes",void 0),d(this,"indices",void 0),d(this,"topology",void 0),d(this,"bounds",void 0),d(this,"name",void 0),d(this,"offset",void 0),d(this,"count",void 0),this.attributes=function mt(h){const s={};return Object.keys(h).forEach(g=>{if("indices"===g)return;const c=h[g],O=V(c)?{data:c}:Array.isArray(c)?{data:new Float32Array(c)}:{...c},X=O.name||g;if(O.value){if(!Array.isArray(O.value)&&!V(O.value))throw new Error("array.value is not array or TypedArray");return void(s[X]={value:O.value})}const ie=function(Te){if(V(Te.data))return Te.data;let Me=Te.type;return Me||(Me=Float32Array),new Me(Te.data)}(O),ne=O.numComponents||function(Te,Me){let Le=3;if(He.test(Te)?Le=2:ye.test(Te)&&(Le=4),Me%Le>0)throw new Error(`Can not guess numComponents for attribute '${Te}'. Tried ${Le} but ${Me} values is not evenly divisible by ${Le}. You should specify it.`);return Le}(g,V(ie)||Array.isArray(ie)?ie.length:0);var we;s[X]={data:ie,numComponents:ne,normalize:O.normalize?O.normalize:(we=ie,we instanceof Int8Array||we instanceof Uint8Array),stride:O.stride||0,offset:O.offset||0,decodeMat:O.decodeMat||null,drawType:O.drawType||35044},void 0!==O.divisor&&(s[X]=O.divisor)}),s}(s),this.indices=null,s.indices&&(this.indices=V(s.indices)?s.indices:this.attributes.position?jt(this.attributes.position.data.length/3,s.indices):new Uint32Array(s.indices)),this.bounds=gn(),this.name="",g?lt(this.bounds,g):this.attributes.position&&bt(this.bounds,this.attributes.position.data);let c=ut.triangles,O=this.indices?this.indices.length:(this.attributes.position?.data?.length||0)/3,X=0;const ie=this.destroy;this.destroy=()=>{ie();for(const ne in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ne)&&(this.attributes[ne]=null)},Object.defineProperties(this,{count:{get:()=>O,set:ne=>{O!==ne&&(O=ne,this.emit("change",{geometry:this,property:"count"}))}},offset:{get:()=>X,set:ne=>{X!==ne&&(X=ne,this.emit("change",{geometry:this,property:"offset"}))}},topology:{get:()=>c,set:ne=>{c!==ne&&(c=ne,this.emit("change",{geometry:this,property:"topology"}))}}})}}class Kt extends rt{constructor(s,g){super(s,g),d(this,"morphKeys",void 0),this.morphKeys=[]}}const Dn=(0,v.create)();class Jn extends Ue{constructor(s,g,c){const{castShadow:O=!0,receiveShadow:X=!0,...ie}=c||{};super(ie),d(this,"geometry",void 0),d(this,"material",void 0),d(this,"normalMatrix",void 0),d(this,"castShadow",void 0),d(this,"receiveShadow",void 0),d(this,"reflected",void 0),d(this,"renderable",void 0),d(this,"worldBoundsDirty",void 0),d(this,"worldBounds",void 0),d(this,"dirtyWorldBounds",void 0),d(this,"updateWorldBounds",void 0);let ne=1,we=!1,Te=!0,Me=O,Le=X,at=!0;this.normalMatrix=(0,G.create)(),this.worldBounds=gn();const Ft=this.updateWorldMatrix;this.updateWorldMatrix=()=>Ft(()=>{const{worldMatrix:rn,normalMatrix:Un}=this;(0,G.invert)(Un,rn),(0,G.transpose)(Un,Un),ne=(0,G.determinant)(rn),we=ne<0,Te=!!(g&&s&&ne)}),this.dirtyWorldBounds=()=>{at||(at=!0,this.emit("dirty",{node:this}))},this.updateWorldBounds=()=>{if(this.updateWorldMatrix(),at){let rn=1/0,Un=1/0,Pn=1/0,Rn=-1/0,An=-1/0,Ln=-1/0;if(this.geometry){const{worldMatrix:or}=this,{bounds:_r}=this.geometry;for(let qn=0;qn<8;qn++){Dn[0]=1&qn?_r.min[0]:_r.max[0],Dn[1]=2&qn?_r.min[1]:_r.max[1],Dn[2]=4&qn?_r.min[2]:_r.max[2],(0,v.transformMat4)(Dn,Dn,or);const Br=Dn[0],Yr=Dn[1],Hr=Dn[2];Br<rn&&(rn=Br),Yr<Un&&(Un=Yr),Hr<Pn&&(Pn=Hr),Br>Rn&&(Rn=Br),Yr>An&&(An=Yr),Hr>Ln&&(Ln=Hr)}}(0,v.set)(this.worldBounds.min,rn,Un,Pn),(0,v.set)(this.worldBounds.max,Rn,An,Ln),at=!1,this.emit("updateWorldBounds",{node:this})}};const Gt=rn=>this.emit("change",{node:this,property:rn}),qt=rn=>this.emit("change",{node:this,property:"material",detail:rn?.property}),Ut=rn=>{this.dirtyWorldBounds(),this.emit("change",{node:this,property:"geometry",detail:rn?.property})};g&&g.on("change",qt),s&&s.on("change",Ut),this.on("dirty",()=>{at=!0}),Object.defineProperties(this,{dirty:{get:()=>at||this.matrixDirty||this.worldMatrixDirty},worldBoundsDirty:{get:()=>at},reflected:{get:()=>we},renderable:{get:()=>Te},material:{get:()=>g,set:rn=>{rn||(rn=null),rn!==g&&(g&&g.off("change",qt),(g=rn)&&g.on("change",qt),Te=!!(g&&s&&ne),qt())}},geometry:{get:()=>s,set:rn=>{rn||(rn=null),rn!==s&&(s&&s.off("change",Ut),(s=rn)&&s.on("change",Ut),Te=!!(g&&s&&ne),Ut())}},castShadow:{get:()=>Me,set:rn=>{(rn=!!rn)!==Me&&(Me=rn,Gt("castShadow"))}},receiveShadow:{get:()=>Le,set:rn=>{(rn=!!rn)!==Le&&(Le=rn,Gt("receiveShadow"))}}})}}const lr=E(29685);var an=P.n(lr);function At(h){if(!h)return h;const s=h.constructor;if(s===String||s===Number)return h;if(s===Object){const g={};for(const c in h)Object.prototype.hasOwnProperty.call(h,c)&&(g[c]=At(h[c]));return g}if(Array.isArray(h))return h.map(At);if(h instanceof Set){const g=new Set;return h.forEach(c=>g.add(At(c))),g}if(h instanceof Map){const g=new Map;return h.forEach((c,O)=>g.set(O,At(c))),g}return V(h)?new globalThis[h.constructor.name](h):an()(h)}function Et(h){if(!h||"object"!=typeof h)return h;for(const s in h)Object.prototype.hasOwnProperty.call(h,s)&&Et(h[s]);return Object.freeze(h)}class xt extends ae{constructor(s,g){super(),d(this,"clear",void 0),d(this,"delete",void 0),d(this,"forEach",void 0),d(this,"get",void 0),d(this,"has",void 0),d(this,"set",void 0),d(this,"size",void 0),d(this,"entries",void 0),d(this,"keys",void 0),d(this,"values",void 0),d(this,Symbol.iterator,void 0),d(this,Symbol.toStringTag,void 0);const c=new Map,O=!!(g?.clone??1),X=O&&!!(g?.freeze??O);this.forEach=(ne,we)=>(c.forEach((Te,Me)=>ne.call(we,Te,Me,this)),this),this.get=ne=>c.get(ne),this.has=ne=>c.has(ne),this.entries=()=>c.entries(),this.keys=()=>c.keys(),this.values=()=>c.values(),this[Symbol.iterator]=()=>c[Symbol.iterator](),this[Symbol.toStringTag]=c[Symbol.toStringTag],this.clear=()=>{const ne=Array.from(c.keys());c.clear();for(const we of ne)this.emit("change",we),this.emit("delete",we);return this},this.delete=ne=>!!c.has(ne)&&(c.delete(ne),this.emit("change",ne),this.emit("delete",ne),!0),this.set=(ne,we)=>{if(we===c.get(ne))return this;O&&(we=At(we)),X&&Et(we);const Te=c.has(ne);return c.set(ne,we),Te||this.emit("add",ne),this.emit("change",ne),this};const ie=this.destroy;if(this.destroy=()=>{this.clear(),ie()},Object.defineProperties(this,{size:{get:()=>c.size}}),s)for(const[ne,we]of s)this.set(ne,we)}}class gt extends Jn{constructor(s,g,c){const{layer:O,visible:X,depthMask:ie,renderOrder:ne,clippable:we,...Te}=c||{};super(s,g,{rotationSource:"euler",...Te}),d(this,"layer",void 0),d(this,"renderOrder",void 0),d(this,"clippable",void 0),d(this,"modifiers",void 0),d(this,"morphKeyIndex",void 0),d(this,"morphFactor",void 0),d(this,"depthMask",void 0),d(this,"visible",void 0);let Me=X??!0,Le=O||0,at=we??!0,Ft=ne||0,Gt=ie??!0,qt=-1,Ut=0,rn=new xt(void 0,{clone:!1});const Un=new Set,Pn=()=>{this.emit("change",{node:this,property:"modifier",detail:"value"})},Rn=()=>{const or=new Set(Un);Un.clear(),rn.forEach(_r=>{"range"in _r&&_r.parent&&Un.add(_r.parent)}),or.forEach(_r=>{Un.has(_r)||_r.off("dirty",Pn)}),Un.forEach(_r=>{or.has(_r)||_r.on("dirty",Pn)}),Pn()};rn.on("change",Rn);const An=()=>{this.emit("change",{node:this,property:"modifier"})};rn.on("add",An),rn.on("delete",An);const Ln=this.destroy;this.destroy=()=>{rn&&rn.off("change",Rn),Ln()},Object.defineProperties(this,{visible:{get:()=>Me,set:or=>{Me!==or&&(Me=or,this.emit("change",{node:this,property:"visible"}))}},layer:{get:()=>Le,set:or=>{Le!==or&&(Le=or,this.emit("change",{node:this,property:"layer"}))}},clippable:{get:()=>at,set:or=>{at!==or&&(at=or,this.emit("change",{node:this,property:"clippable"}))}},depthMask:{get:()=>Gt,set:or=>{Gt!==or&&(Gt=or,this.emit("change",{node:this,property:"depthMask"}))}},morphKeyIndex:{get:()=>qt,set:or=>{qt!==or&&(qt=or,this.emit("change",{node:this,property:"morphKeyIndex"}))}},morphFactor:{get:()=>Ut,set:or=>{Ut!==or&&(Ut=or,this.emit("change",{node:this,property:"morphFactor"}))}},modifiers:{get:()=>rn,set:or=>{const _r=rn?.size||0;rn!==or&&(rn&&(rn.off("change",Rn),rn.off("add",An),rn.off("delete",An)),rn=or,rn&&(rn.on("change",Rn),rn.on("add",An),rn.on("delete",An)),(rn?.size||_r)&&An())}},renderOrder:{get:()=>Ft,set:or=>{Ft!==or&&(Ft=or,this.emit("change",{node:this,property:"renderOrder"}))}}})}}class tn extends gt{constructor(...s){super(...s),d(this,"playBackRate",void 0),d(this,"emissionAverage",void 0),d(this,"emissionVariance",void 0),d(this,"pointSize",void 0),d(this,"perspectivePoints",void 0),d(this,"roundPoints",void 0),d(this,"pointUVScale",void 0),d(this,"id",void 0),d(this,"name",void 0),d(this,"loaded",void 0),d(this,"subSystemIds",void 0)}}class Xt extends ae{constructor(s){const{transparent:g=!1,opacity:c=1,type:O="",name:X=""}=s||{};super(),d(this,"transparent",void 0),d(this,"opacity",void 0),d(this,"type",void 0),d(this,"name",void 0),d(this,"blendMode",void 0);let ie=g,ne=c,we=O,Te=s?.blendMode||"normal";this.name=X;const Me=this.destroy;this.destroy=()=>{this.emit("destroy",{material:this}),Me()},Object.defineProperties(this,{transparent:{get:()=>ie,set:Le=>{Le!==ie&&(ie=Le,this.emit("change",{material:this,property:"transparent"}))}},opacity:{get:()=>ne,set:Le=>{Le!==ne&&(ne=Le,this.emit("change",{material:this,property:"opacity"}))}},blendMode:{get:()=>Te,set:Le=>{Le!==Te&&(Te=Le,this.emit("change",{material:this,property:"blendMode"}))}},type:{get:()=>we,set:Le=>{Le!==we&&(we=Le,this.emit("change",{material:this,property:"type"}))}}})}}function Ye(h){return h?At(h):null}function Vt(h,s){const g=new Float32Array(s);if(h)for(let c=0;c<h.length;c++)g[c]=h[c];return g}class En extends Xt{constructor(s){const{baseColor:g,emitColor:c,metallic:O,roughness:X,specularf0:ie,specularColor:ne,shine:we,glassFactor:Te,murkiness:Me,textures:Le,baseFresnel:at,emitFresnel:Ft,specularFresnel:Gt,transparencyFresnel:qt,alphaFresnel:Ut,reflectionFresnel:rn,reflectionMap:Un,...Pn}=s||{};var Ln;super(Pn),d(this,"baseColor",void 0),d(this,"emitColor",void 0),d(this,"metallic",void 0),d(this,"roughness",void 0),d(this,"specularf0",void 0),d(this,"specularColor",void 0),d(this,"shine",void 0),d(this,"glassFactor",void 0),d(this,"murkiness",void 0),d(this,"textures",void 0),d(this,"baseFresnel",void 0),d(this,"emitFresnel",void 0),d(this,"specularFresnel",void 0),d(this,"transparencyFresnel",void 0),d(this,"alphaFresnel",void 0),d(this,"reflectionFresnel",void 0),d(this,"reflectionMap",void 0),this.type=Pn.type||"phong",this.baseColor=Vt(g,[1,1,1]),this.emitColor=Vt(c,[1,1,1,0]),this.metallic=O??1,this.roughness=X??1,this.specularf0=ie??.1,this.specularColor=Vt(ne,[1,1,1]),this.shine=we??70,this.glassFactor=Te??0,this.murkiness=Me??1,this.textures=function(Ln){if(!Ln)return[];if(!Array.isArray(Ln))throw new Error("textures option must an array of texture layers.");const or=[];return Ln.forEach(_r=>{const{texture:qn,applyTo:Br,blendMode:Yr,blendFactor:Hr=1}=_r;or.push({texture:qn,applyTo:Br,blendMode:Yr,blendFactor:Hr})}),or}(Le),this.baseFresnel=Ye(at),this.emitFresnel=Ye(Ft),this.specularFresnel=Ye(Gt),this.transparencyFresnel=Ye(qt),this.alphaFresnel=Ye(Ut),this.reflectionFresnel=Ye(rn),this.reflectionMap=(Ln=Un)?Object.assign({},Ln):null;const Rn=()=>{this.emit("change",{material:this,property:"texture"})};this.textures.forEach(Ln=>{Ln.texture.on("change",Rn),Ln.texture.on("resize",Rn),Ln.texture.on("update",Rn)});const An=this.destroy;this.destroy=()=>{this.textures.forEach(Ln=>{Ln.texture.off("change",Rn),Ln.texture.off("resize",Rn),Ln.texture.off("update",Rn)}),this.textures.length=0,An()}}}const it=function(h){if(null==h)return;if("number"==typeof h)return[h,h,h];const{r:s,g,b:c,a:O}=h;return void 0===O?[s,g,c]:[s,g,c,O]},ke=/^([^/]+)\/([^/.]+)/;function Jt(h){const s=ke.exec(h);if(!s)throw new Error(`Unable to parse material id "${h}"`);const[,g,c]=s;return"content/states/"+g+"/materials/"+c+"/"}const We={metallic:new Set(["specular","shine"]),phong:new Set(["metallic","roughness"])},Tt=["alphaFresnel","reflectionFresnel","transparencyFresnel"],wn=["baseFresnel","emitFresnel","specularFresnel"],In={blendMode:"multiply",power:1},dr={alphaFresnel:0,reflectionFresnel:1,transparencyFresnel:0,baseFresnel:1,specularFresnel:0,emitFresnel:0},sr=new Set(["add","multiply"]),Gr=new Set(["add","multiply","forceAdd","over"]);function Ei(){return Ei=C(function*(h,s,g){const c=!!h.nodes?.some(Ut=>"flags"===Ut.type&&!0===Ut.flags.transparent),O=h.alpha??1,X=it(h.baseColor),ie=h.emit||0,ne=h.emitColor?it({...h.emitColor,a:ie}):[1,1,1,ie],we=[],Te={transparent:c,opacity:O,name:h.id||s,baseColor:X,emitColor:ne,textures:we};h.nodes?.some(Ut=>"flags"===Ut.type&&!0===Ut.flags.addBlend)&&(Te.blendMode="add");const Me="workflow"in h?h.workflow:"phong";var Ut;"workflow"in h?"metallic"===h.workflow&&Object.assign(Te,function(Ut){const{metallic:rn,roughness:Un,specularf0:Pn}=Ut,Rn={type:"metallic",metallic:rn,roughness:Un,specularf0:Pn};return"reflectionId"in Ut&&console.warn("Material reflection maps are not supported on metallic/PBR materials."),Rn}(h)):Object.assign(Te,yield(Ut=C(function*(rn,Un,Pn){const{shine:Rn,glassFactor:An=1,murkiness:Ln}=rn,or={type:"phong",shine:Rn,glassFactor:An,murkiness:Ln,specularColor:rn.specularColor?it(rn.specularColor):[1,1,1]};if(rn.reflectionId){if(!Pn.getAssetLibrary&&!Pn.server)throw new Error("Unable to load reflection asset without getAssetLibrary or server option");const _r=Un.replace(/\/materials\..*/,"/reflections."+rn.reflectionId);try{const qn=Pn.baseUrl||"",Br=Pn.getAssetLibrary||((Hr,Nr,bi)=>Pn.server.getAssetLibrary(qn,Hr,Nr,bi)),Yr=yield je(Br,qn,_r,Pn.server);Yr&&(or.reflectionMap={texture:Yr.texture,intensity:Yr.intensity,mipLevels:Yr.mipLevels})}catch(qn){console.warn("Unable to load reflection asset "+_r+" for material "+Un,qn)}}return or}),function(rn,Un,Pn){return Ut.apply(this,arguments)})(h,s,g));const Le=h.nodes?.find(Ut=>"texture"===Ut.type&&Ut?.layers.length>0),at=[],Ft=new Set,Gt=Symbol(s);if(Le?.layers.length){const Ut=Jt(s),rn=D(Pn=>g.textureCache.get(Gt,Pn)),Un=We[Me];Le.layers.forEach(Pn=>{let Rn=Pn.blendMode||"over",An=Pn.applyTo;if("add"===Rn?Rn="over":"forceAdd"===Rn&&(Rn="add"),!Gr.has(Rn))throw new Error("Texture has invalid blend mode: "+Rn);if("color"===An&&(An="baseColor"),Un.has(An))return void console.warn(`"${An}" texture channels are not supported on ${Me} materials.`);const Ln={texture:null,applyTo:An,blendMode:Rn,blendFactor:Pn.blendFactor??1};we.push(Ln);const _r=et(g.baseUrl||"",Pn.src||Ut+(Pn.uri||""));Ft.add(_r),at.push(rn(_r).then(qn=>{if(Ln.texture=qn,!qn)throw new Error("Failed to load texture")}).catch(qn=>{console.warn("Error loading image",_r,qn);const Br=we.indexOf(Ln);Br>=0&&we.splice(Br,1)}))})}Tt.forEach(Ut=>{const rn=h[Ut];if(rn){if(rn.blendMode&&!sr.has(rn.blendMode))throw new Error(`Fresnel (${Ut}) has invalid blend mode: ${rn.blendMode}`);const Un=dr[Ut],Pn=1-Un;Te[Ut]={...In,edge:Un,center:Pn,...rn}}}),wn.forEach(Ut=>{const rn=h[Ut];if(rn){if(rn.blendMode&&!sr.has(rn.blendMode))throw new Error(`Fresnel (${Ut}) has invalid blend mode: ${rn.blendMode}`);const Un=dr[Ut],Pn=1-Un;Te[Ut]={...In,...rn,center:it(rn.center?rn.center:Pn),edge:it(rn.edge?rn.edge:Un)}}}),yield Promise.all(at);const qt=new En(Te);return qt.on("destroy",()=>{Ft.forEach(Ut=>g.textureCache.release(Gt,Ut))}),qt}),Ei.apply(this,arguments)}const fi=h=>h?.map(({blendFactor:s=1,blendMode:g="over",...c})=>({...c,blendFactor:s,blendMode:g}))||[],co=h=>h?.map(({blendFactor:s=1,blendMode:g="over",channel:c="r",invert:O=!1,...X})=>({...X,blendFactor:s,blendMode:g,channel:c,invert:O}))||[];class uo extends Xt{constructor(s){const{blendMode:g,baseColor:c,baseColorMaps:O,opacityMaps:X,baseColorFresnel:ie,opacityFresnel:ne,...we}=s||{};super(we),d(this,"baseColor",void 0),d(this,"baseColorMaps",void 0),d(this,"opacityMaps",void 0),d(this,"baseColorFresnel",void 0),d(this,"opacityFresnel",void 0),this.blendMode=g||"normal",this.baseColor=Vt(c,[1,1,1]),this.baseColorMaps=fi(O),this.opacityMaps=co(X),this.baseColorFresnel=Ye(ie),this.opacityFresnel=Ye(ne);const Te=()=>{this.emit("change",{material:this,property:"texture"})},Me=new Set([...this.baseColorMaps,...this.opacityMaps].map(({texture:at})=>at));Me.forEach(at=>{at.on("change",Te),at.on("resize",Te),at.on("update",Te)});const Le=this.destroy;this.destroy=()=>{Me.forEach(at=>{at.off("change",Te),at.off("resize",Te),at.off("update",Te)}),this.baseColorMaps.length=0,this.opacityMaps.length=0,Le()}}}class Pi extends uo{constructor(s){super({...s,type:"unlit"})}}class ti extends uo{constructor(s){const{normalMaps:g,metallic:c,metallicMaps:O,occlusionMaps:X,roughness:ie,roughnessMaps:ne,emissive:we,emissiveMaps:Te,ior:Me,specularFactor:Le,specularFactorMaps:at,specularColor:Ft,specularColorMaps:Gt,emissiveFresnel:qt,...Ut}=s||{};super({...Ut,type:"physical"}),d(this,"normalMaps",void 0),d(this,"metallic",void 0),d(this,"metallicMaps",void 0),d(this,"occlusionMaps",void 0),d(this,"roughness",void 0),d(this,"roughnessMaps",void 0),d(this,"emissive",void 0),d(this,"emissiveMaps",void 0),d(this,"ior",void 0),d(this,"specularFactor",void 0),d(this,"specularFactorMaps",void 0),d(this,"specularColor",void 0),d(this,"specularColorMaps",void 0),d(this,"emissiveFresnel",void 0);let rn=c??0,Un=Me??1.5,Pn=ie??1,Rn=Le??1;var An;this.normalMaps=(An=g,An?.map(({blendFactor:qn=1,blendMode:Br="over",...Yr})=>({...Yr,blendFactor:qn,blendMode:Br}))||[]),this.metallicMaps=co(O),this.roughnessMaps=co(ne),this.occlusionMaps=co(X),this.emissive=Vt(we,[0,0,0]),this.emissiveMaps=fi(Te),this.specularFactorMaps=co(at),this.specularColor=Vt(Ft,[1,1,1]),this.specularColorMaps=fi(Gt),this.emissiveFresnel=Ye(qt);const Ln=()=>{this.emit("change",{material:this,property:"texture"})},or=new Set([...this.metallicMaps,...this.roughnessMaps,...this.occlusionMaps,...this.emissiveMaps].map(({texture:qn})=>qn));or.forEach(qn=>{qn.on("change",Ln),qn.on("resize",Ln),qn.on("update",Ln)});const _r=this.destroy;this.destroy=()=>{or.forEach(qn=>{qn.off("change",Ln),qn.off("resize",Ln),qn.off("update",Ln)}),this.emissiveMaps.length=0,this.specularColorMaps.length=0,this.normalMaps.length=0,this.metallicMaps.length=0,this.occlusionMaps.length=0,this.roughnessMaps.length=0,this.specularFactorMaps.length=0,_r()},Object.defineProperties(this,{metallic:{get:()=>rn,set:qn=>{qn!==rn&&(rn=qn,this.emit("change",{material:this,property:"metallic"}))}},roughness:{get:()=>Pn,set:qn=>{qn!==Pn&&(Pn=qn,this.emit("change",{material:this,property:"roughness"}))}},ior:{get:()=>Un,set:qn=>{qn!==Un&&(Un=qn,this.emit("change",{material:this,property:"ior"}))}},specularFactor:{get:()=>Rn,set:qn=>{qn!==Rn&&(Rn=qn,this.emit("change",{material:this,property:"specularFactor"}))}}})}}function mr(h,s){return{name:h.id||s,baseColor:it(h.baseColor)}}const Li=new Set(["add","multiply"]),ro=(h,s,g,c,O)=>function(){var X=C(function*(ie,ne,we){const Te={...mr(ie,ne),...s(ie)},Me=Symbol(ne),Le=Jt(ne),at=[];yield Promise.all(g.map(function(){var Gt=C(function*(qt){const Ut=ie[qt];if(Ut){const rn=yield Promise.all(Ut.map(function(){var Un=C(function*(Pn){const{uri:Rn,...An}=Pn,or=et(we.baseUrl||"",Le+(Rn||""));try{const _r=yield(qn=or,we.textureCache.get(Me,qn));return at.push(or),{...An,texture:_r}}catch(_r){return console.warn("Error loading image",or,_r),null}var qn});return function(Pn){return Un.apply(this,arguments)}}()));Te[qt]=rn.filter(Un=>!!Un)}});return function(qt){return Gt.apply(this,arguments)}}())),c.forEach(Gt=>{const qt=ie[Gt];if(qt){if(qt.blendMode&&!Li.has(qt.blendMode))throw new Error(`Fresnel (${Gt}) has invalid blend mode: ${qt.blendMode}`);Te[Gt]={...qt}}}),O.forEach(Gt=>{const qt=ie[Gt];if(qt){if(qt.blendMode&&!Li.has(qt.blendMode))throw new Error(`Fresnel (${Gt}) has invalid blend mode: ${qt.blendMode}`);Te[Gt]={...qt,center:it(qt.center),edge:it(qt.edge)}}});const Ft=new h(Te);return Ft.on("destroy",()=>{at.forEach(Gt=>we.textureCache.release(Me,Gt))}),Ft});return function(ie,ne,we){return X.apply(this,arguments)}}(),Pe=ro(Pi,function(h){const{opacity:s,blendMode:g}=h;return{opacity:s,blendMode:g}},["baseColorMaps","opacityMaps"],["opacityFresnel"],["baseColorFresnel"]),dt=ro(ti,function(h){const{opacity:s,blendMode:g,ior:c,metallic:O,roughness:X,specularFactor:ie}=h;return{opacity:s,blendMode:g,emissive:it(h.emissive),ior:c,metallic:O,roughness:X,specularColor:it(h.specularColor),specularFactor:ie}},["baseColorMaps","emissiveMaps","metallicMaps","normalMaps","occlusionMaps","opacityMaps","roughnessMaps","specularColorMaps","specularFactorMaps"],["opacityFresnel"],["baseColorFresnel","emissiveFresnel"]);function vn(h,s,g){return"workflow"in h&&"metallic"!==h.workflow?"physical"===h.workflow?dt(h,s,g):"unlit"===h.workflow?Pe(h,s,g):null:function hi(h,s,g){return Ei.apply(this,arguments)}(h,s,g)}function bn(h,s){return Gn.apply(this,arguments)}function Gn(){return Gn=C(function*(h,s){if("materialId"in h)return s.loadMaterial(h.materialId,s);if(void 0!==h.material&&"workflow"in h.material)return vn(h.material,h.material.id,s);const g=h.material?.baseColor?it(h.material.baseColor):null,c=h.material&&"alpha"in h.material&&void 0!==h.material.alpha?h.material?.alpha:1,O=Symbol("particle material:"+h.id),X=[],ie={transparent:!0,opacity:c,baseColor:g,textures:X,name:h.id},ne=[],we=new Set;if("textures"in h){const Me=h.textures?.length&&D(Le=>s.textureCache.get(O,Le));for(let Le=0,at=h.textures?.length||0;Le<at;Le++){const Ft=h.textures[Le],{src:Gt}=Ft;let qt=Ft.applyTo||"baseColor";"color"===qt&&(qt="baseColor");const Ut={texture:null,applyTo:qt,blendMode:"over",blendFactor:1};X.push(Ut);const rn=et(s?.baseUrl||"",Gt.startsWith("/")?""+Gt:"/content/states/"+Gt);we.add(rn),ne.push(Me(rn).then(Un=>{Ut.texture=Un}).catch(Un=>{console.warn("Error loading image",rn,Un);const Pn=X.indexOf(Ut);Pn>=0&&X.splice(Pn,1)}))}yield Promise.all(ne)}const Te=new En(ie);return Te.on("destroy",()=>{we.forEach(Me=>s.textureCache.release(O,Me))}),Te}),Gn.apply(this,arguments)}const nr=E(7928),er=(0,G.create)(),Be=(0,G.create)();function tt(h,s,g){if(g?(0,G.fromScaling)(Be,g):(0,G.identity)(Be),s){const c=s[0],O=s[1],X=s[2];c&&((0,G.fromXRotation)(er,c),(0,G.multiply)(Be,er,Be)),O&&((0,G.fromYRotation)(er,O),(0,G.multiply)(Be,er,Be)),X&&((0,G.fromZRotation)(er,X),(0,G.multiply)(Be,er,Be))}return(0,nr.fromMat4)(h,Be)}const un=(0,v.create)(),fr=Math.PI/180,Ar=(0,v.create)(),zr=Math.PI/180,si=2*Math.PI,Ti=(0,v.create)(),ni=Math.PI/180,ai=Math.PI/180,Oi=(0,v.create)(),so=(0,v.create)(),wo=Math.PI/180,eo=Math.PI,Vo=2*eo,$n=Math.PI/180;class fn{constructor(){d(this,"translate",void 0),d(this,"rotate",void 0),d(this,"scale",void 0),d(this,"xform",void 0),d(this,"inverseXform",void 0),d(this,"normalXform",void 0),d(this,"dirty",void 0)}}const ze={shapeTranslate:"translate",shapeRotate:"rotate",shapeScale:"scale"};function Dt(h,s,g,c,O){const X=ze[s],ie=X&&h[X];return"shapeRotate"===s&&(g*=$n,c*=$n,O*=$n),!!ie&&(ie[0]=g,ie[1]=c,ie[2]=O,h.dirty=!0,!0)}class sn extends fn{constructor(s){super(),this.translate=s?.translate?(0,v.clone)(s.translate):null,this.xform=s?.scale||s?.rotate?(0,nr.create)():null,this.xform?(this.rotate=(0,v.fromValues)(0,0,0),s?.rotate&&(0,v.scale)(this.rotate,s.rotate,$n),this.scale=(0,v.fromValues)(1,1,1),s?.scale&&(0,v.copy)(this.scale,s.scale),this.inverseXform=(0,nr.create)(),this.normalXform=(0,nr.create)(),this.dirty=!0,this.updateXform()):(this.rotate=null,this.scale=null,this.inverseXform=null,this.normalXform=null,this.dirty=!1)}updateXform(){this.xform&&this.dirty&&(tt(this.xform,this.rotate,this.scale),(0,nr.invert)(this.inverseXform,this.xform),(0,nr.transpose)(this.normalXform,this.inverseXform)),this.dirty=!1}}const Wn=Math.PI/180,Ir=(0,nr.create)();function Zr(h,s){return s[0]*h.normal[0]+s[1]*h.normal[1]+s[2]*h.normal[2]}function io(h){const s=h[0],g=h[1],c=h[2];return s*s+g*g+c*c}const Hi={Cube:class extends sn{in(h){const s=h[0],g=h[1],c=h[2];return s>=-.5&&s<=.5&&g>=-.5&&g<=.5&&c>=-.5&&c<=.5}out(h){const s=h[0],g=h[1],c=h[2];return s<=-.5||s>=.5||g<=-.5||g>=.5||c<=-.5||c>=.5}surfaceProjection(h,s,g){let c=h[0],O=h[1],X=h[2];const ie=Math.abs(c+.5),ne=Math.abs(c-.5),we=Math.abs(O+.5),Te=Math.abs(O-.5),Me=Math.abs(X+.5),Le=Math.abs(X-.5);ie<ne&&ie<we&&ie<Te&&ie<Me&&ie<Le?(c=-.5,(0,v.set)(g,-1,0,0)):ne<we&&ne<Te&&ne<Me&&ne<Le?(c=.5,(0,v.set)(g,1,0,0)):we<Te&&we<Me&&we<Le?(O=-.5,(0,v.set)(g,0,-1,0)):Te<Me&&Te<Le?(O=.5,(0,v.set)(g,0,1,0)):Me<Le?(X=-.5,(0,v.set)(g,0,0,-1)):(X=.5,(0,v.set)(g,0,0,1)),s[0]=me(c,-.5,.5),s[1]=me(O,-.5,.5),s[2]=me(X,-.5,.5),this.xform&&(this.updateXform(),(0,v.transformMat3)(s,s,this.xform),(0,v.transformMat3)(g,g,this.normalXform),(0,v.normalize)(g,g)),this.translate&&(0,v.add)(s,s,this.translate)}},Cylinder:class extends sn{in(h){const s=h[0],g=h[1],c=h[2];return s*s+c*c<=1&&g>=-1&&g<=1}out(h){const s=h[0],g=h[1],c=h[2];return s*s+c*c>=1||g<=-1||g>=1}surfaceProjection(h,s,g){let c=h[0],O=h[1],X=h[2];if(O<=-1)(0,v.set)(g,0,-1,0),O=-1;else if(O>=1)(0,v.set)(g,0,1,0),O=1;else{const ie=Math.sqrt(c*c+X*X);ie>=1||1-Math.abs(O)>=1-ie?(c/=ie,X/=ie,(0,v.set)(g,c,0,X)):(O=Math.sign(O),(0,v.set)(g,0,O,0))}s[0]=c,s[1]=O,s[2]=X,this.xform&&(this.updateXform(),(0,v.transformMat3)(s,s,this.xform),(0,v.transformMat3)(g,g,this.normalXform),(0,v.normalize)(g,g)),this.translate&&(0,v.add)(s,s,this.translate)}},Plane:class extends fn{constructor(s){super(),d(this,"translate",void 0),d(this,"rotate",void 0),d(this,"normal",void 0),d(this,"distance",void 0),d(this,"xform",void 0),d(this,"dirty",!0),this.translate=(0,v.clone)(s.translate||[0,0,0]),this.rotate=(0,v.clone)(s.rotate||[0,0,0]),s.rotate&&(0,v.scale)(this.rotate,s.rotate,Wn),this.normal=(0,v.create)(),this.distance=0,this.updateXform()}updateXform(){this.dirty&&(this.normal[0]=0,this.normal[1]=1,this.normal[2]=0,tt(Ir,this.rotate),(0,v.transformMat3)(this.normal,this.normal,Ir),this.distance=(0,v.dot)(this.translate,this.normal),this.dirty=!1)}in(s){return this.updateXform(),Zr(this,s)<=this.distance}out(s){return this.updateXform(),Zr(this,s)>=this.distance}surfaceProjection(s,g,c){this.updateXform(),c[0]=this.normal[0],c[1]=this.normal[1],c[2]=this.normal[2];const O=_e.get();(0,v.scale)(O,c,this.distance-(0,v.dot)(s,c)),(0,v.add)(g,s,O),_e.release(O)}},Sphere:class extends sn{in(h){return io(h)<=1}out(h){return io(h)>=1}surfaceProjection(h,s,g){(0,v.normalize)(s,h),V(g)?g.set(s):(0,v.copy)(g,s),this.xform&&(this.updateXform(),(0,v.transformMat3)(s,s,this.xform),(0,v.transformMat3)(g,g,this.normalXform),(0,v.normalize)(g,g)),this.translate&&(0,v.add)(s,s,this.translate)}}},_o=Hi;function Co(h,s,g,c){const O=3*c;return h[0]=g[O],h[1]=g[O+1],h[2]=g[O+2],s?.translate&&(h[0]-=s.translate[0],h[1]-=s.translate[1],h[2]-=s.translate[2]),s?.inverseXform&&(s instanceof sn&&s.updateXform(),(0,v.transformMat3)(h,h,s.inverseXform)),h}const Ro=(0,v.create)(),Is=(0,v.create)(),Ws=(0,v.create)(),ms=(0,v.create)(),zo=(0,v.create)(),Zo=(0,v.create)(),os=(0,v.create)(),ns=R/1e3,Rs={CubePosition:function(h){const s=h.translate?(0,v.clone)(h.translate):null,g=h.scale||h.rotate?(0,nr.create)():null,c=g?(0,v.create)():null;h.rotate&&(0,v.scale)(c,h.rotate,fr);const O={scale:g?(0,v.clone)(h.scale)||(0,v.fromValues)(1,1,1):null,rotate:c,translate:s};let X=!0;return{set(ie,ne,we,Te){"rotate"===ie?(0,v.set)(c,ne*fr,we*fr,Te*fr):ie in O&&(0,v.set)(O[ie],ne,we,Te),X=!0},update(ie,ne,we){const Te=ie.get("position");g&&X&&(tt(g,c,O.scale),X=!1);for(let Me=ne,Le=3*Me;Me<we;Me++,Le+=3)un[0]=Math.random()-.5,un[1]=Math.random()-.5,un[2]=Math.random()-.5,g&&(0,v.transformMat3)(un,un,g),s&&(0,v.add)(un,un,s),Te.set(un,Le)}}},CylinderPosition:function(h){const s=h.translate?(0,v.clone)(h.translate):null,g=h.scale||h.rotate?(0,nr.create)():null,c=g?(0,v.create)():null;h.rotate&&(0,v.scale)(c,h.rotate,zr);const O={scale:g?(0,v.clone)(h.scale)||(0,v.fromValues)(1,1,1):null,rotate:c,translate:s};let X=!0;return{set(ie,ne,we,Te){"rotate"===ie?(0,v.set)(c,ne*zr,we*zr,Te*zr):ie in O&&(0,v.set)(O[ie],ne,we,Te),X=!0},update(ie,ne,we){const Te=ie.get("position");g&&X&&(tt(g,c,O.scale),X=!1);for(let Me=ne,Le=3*Me;Me<we;Me++,Le+=3){const at=Math.random()*si,Ft=Math.random(),Gt=2*Math.random()-1;Ar[0]=Ft*Math.cos(at),Ar[1]=Gt,Ar[2]=Ft*Math.sin(at),g&&(0,v.transformMat3)(Ar,Ar,g),s&&(0,v.add)(Ar,Ar,s),Te.set(Ar,Le)}}}},DirectionalVelocity:function(h){const s=(0,v.clone)(h.directionAverage);(0,v.normalize)(s,s);const g={directionAverage:s},c={forceAverage:h.forceAverage,forceVariance:h.forceVariance||0,directionVariance:h.directionVariance||0};return{components:["velocity"],set(O,X,ie,ne){O in g?(0,v.set)(g[O],X,ie,ne):O in c&&(c[O]=X)},update(O,X,ie){const ne=O.get("velocity"),{forceAverage:we,forceVariance:Te,directionVariance:Me}=c;for(let Le=X,at=3*Le;Le<ie;Le++,at+=3){const Ft=we+2*Math.random()*Te-Te;Ti[0]=s[0]+2*Math.random()*Me-Me,Ti[1]=s[1]+2*Math.random()*Me-Me,Ti[2]=s[2]+2*Math.random()*Me-Me,(0,v.normalize)(Ti,Ti),ne[at]+=Ti[0]*Ft,ne[at+1]+=Ti[1]*Ft,ne[at+2]+=Ti[2]*Ft}}}},Lifetime:function(h){const s={average:h.average,variance:h.variance||0};return{components:["lifetime","age"],set(g,c){g in s&&(s[g]=c)},update(g,c,O){const X=g.get("age"),ie=g.get("lifetime");let{average:ne,variance:we}=s;we>ne&&(ne=we=(ne+we)/2);for(let Te=c;Te<O;Te++)X[Te]=0,ie[Te]=ne,we>0&&(ie[Te]+=2*Math.random()*we-we)}}},PointPosition:function(h){const s=(0,v.clone)(h.position),g={position:s};return{set(c,O,X,ie){c in g&&(0,v.set)(g[c],O,X,ie)},update(c,O,X){const ie=c.get("position");for(let ne=O,we=3*ne;ne<X;ne++,we+=3)ie.set(s,we)}}},RandomRotation:function(h){const s={average:h.average*ni,variance:(h.variance||0)*ni};return{components:["uvRotate"],set(g,c){g in s&&(s[g]=c*ni)},update(g,c,O){const X=g.get("uvRotate"),{average:ie,variance:ne}=s;for(let we=c;we<O;we++){let Te=ie;ne>0&&(Te+=2*Math.random()*ne-ne),X[we]=Te}}}},RandomRotationSpeed:function(h){const s={average:h.average*ai,variance:(h.variance||0)*ai};return{components:["rotationSpeed","uvRotate"],set(g,c){g in s&&(s[g]=c*ai)},update(g,c,O){const X=g.get("rotationSpeed"),{average:ie,variance:ne}=s;for(let we=c;we<O;we++){let Te=ie;ne>0&&(Te+=2*Math.random()*ne-ne),X[we]=Te}}}},RandomScale:function(h){const s={average:h.average,variance:h.variance||0};return{components:["scale"],set(g,c){g in s&&(s[g]=c)},update(g,c,O){const X=g.get("scale");let{average:ie,variance:ne}=s;ne>ie&&(ie=ne=(ie+ne)/2);for(let we=c;we<O;we++){let Te=ie;ne>0&&(Te+=2*Math.random()*ne-ne),X[we]=Te}}}},RandomVelocity:function(h){const s={forceAverage:h.forceAverage,forceVariance:h.forceVariance||0};return{components:["velocity"],set(g,c){g in s&&(s[g]=c)},update(g,c,O){const X=g.get("velocity"),{forceAverage:ie,forceVariance:ne}=s;for(let we=c,Te=3*we;we<O;we++,Te+=3){const Me=ie+2*Math.random()*ne-ne;Oi[0]=2*Math.random()-1,Oi[1]=2*Math.random()-1,Oi[2]=2*Math.random()-1,(0,v.normalize)(Oi,Oi),X[Te]+=Oi[0]*Me,X[Te+1]+=Oi[1]*Me,X[Te+2]+=Oi[2]*Me}}}},SpherePosition:function(h){const s=h.translate?(0,v.clone)(h.translate):null,g=h.scale||h.rotate?(0,nr.create)():null,c=g?(0,v.create)():null;h.rotate&&(0,v.scale)(c,h.rotate,wo);const O={scale:g?(0,v.clone)(h.scale)||(0,v.fromValues)(1,1,1):null,rotate:c,translate:s};let X=!0;return{set(ie,ne,we,Te){"rotate"===ie?(0,v.set)(c,ne*wo,we*wo,Te*wo):ie in O&&(0,v.set)(O[ie],ne,we,Te),X=!0},update(ie,ne,we){const Te=ie.get("position");g&&X&&(tt(g,c,O.scale),X=!1);for(let Me=ne,Le=3*Me;Me<we;Me++,Le+=3){const at=Math.random()*eo,Ft=Math.random()*Vo,Gt=Math.random(),qt=Math.sin(at);so[0]=Gt*qt*Math.sin(Ft),so[1]=Gt*Math.cos(at),so[2]=Gt*qt*Math.cos(Ft),g&&(0,v.transformMat3)(so,so,g),s&&(0,v.add)(so,so,s),Te.set(so,Le)}}}},SpriteAnimationDuration:function(h,s,g){const c={average:h.average,variance:h.variance||0,startFrame:g.spriteStartFrame||0,endFrame:g.spriteEndFrame||Math.max(0,g.spriteCols*g.spriteCols-1)};return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],set(O,X){O in c&&(c[O]=X)},update(O,X,ie){const ne=O.get("spriteFrameDuration"),we=O.get("spriteCurrentTime"),{startFrame:Te,endFrame:Me}=c,Le=Me-Te;let{average:at,variance:Ft}=c;Ft>at&&(at=Ft=(at+Ft)/2);for(let Gt=X;Gt<ie;Gt++){let qt=at;Ft>0&&(qt+=2*Math.random()*Ft-Ft),we[Gt]=0,ne[Gt]=Le?Math.max(qt/Le,0):0}}}}},ar={AgeColorBlend:function(h){const s=[];for(let X=0,ie=h.colors.length;X<ie;X++)s[X]=new Uint8Array(h.colors[X]);const g=h.shape?new _o[h.shape.type](h.shape):null,O=g?g[h.shape?.direction||"in"].bind(g):null;return{components:["position","age","lifetime","color"],set(X,ie,ne,we){Dt(g,X,ie,ne,we)},update(X,ie,ne){const we=X.get("position"),Te=X.get("age"),Me=X.get("lifetime"),Le=X.get("color"),at=s.length-1,Ft=g?_e.get():null;for(let Gt=ie,qt=4*Gt;Gt<ne;Gt++,qt+=4)if(!O||O(Co(Ft,g,we,Gt))){const Ut=Me[Gt]?Te[Gt]/Me[Gt]*at:0,rn=Math.floor(Ut),Pn=s[rn],Rn=s[rn+1]||s[rn],An=Ut-rn,Ln=1-An;Le[qt]=Ln*Pn[0]+An*Rn[0],Le[qt+1]=Ln*Pn[1]+An*Rn[1],Le[qt+2]=Ln*Pn[2]+An*Rn[2],Le[qt+3]=Ln*Pn[3]+An*Rn[3]}Ft&&_e.release(Ft)}}},AxisForce:function(h){const s=h.forceAverage,g=h.forceVariance||0,c=(0,v.clone)(h.position),O=(0,v.clone)(h.direction);(0,v.normalize)(O,O);const X=h.shape?new _o[h.shape.type](h.shape):null,ne=X?X[h.shape?.direction||"in"].bind(X):null,we={forceAverage:h.forceAverage,forceVariance:h.forceVariance||0};return{components:["velocity","position"],set(Te,Me,Le,at){"shapeTranslate"===Te||"shapeRotate"===Te||"shapeScale"===Te?Dt(X,Te,Me,Le,at):Te in we&&(we[Te]=Me)},update(Te,Me,Le,at){const Ft=Te.get("position"),Gt=Te.get("velocity"),qt=s*at,Ut=g*at,rn=X?_e.get():null,Un=_e.get(),Pn=_e.get(),Rn=_e.get(),An=_e.get();for(let Ln=Me,or=3*Ln;Ln<Le;Ln++,or+=3)if(!ne||ne(Co(rn,X,Ft,Ln))){const _r=or+1,qn=or+2;let Br=qt;Ut>0&&(Br+=2*Math.random()*Ut-Ut),Un[0]=Ft[or],Un[1]=Ft[_r],Un[2]=Ft[qn],(0,v.subtract)(An,Un,c);const Yr=(0,v.dot)(An,O);(0,v.scale)(Rn,O,Yr),(0,v.add)(Pn,Rn,c),(0,v.subtract)(Pn,Un,Pn),(0,v.normalize)(Pn,Pn),Gt[or]+=Pn[0]*Br,Gt[_r]+=Pn[1]*Br,Gt[qn]+=Pn[2]*Br}rn&&_e.release(rn),_e.release(Un),_e.release(Pn),_e.release(Rn),_e.release(An)}}},BrownianMotion:function(h){const s=h.shape?new _o[h.shape.type](h.shape):null,c=s?s[h.shape?.direction||"in"].bind(s):null,O={forceAverage:h.forceAverage,forceVariance:h.forceVariance||0,frequency:h.frequency};return{components:["velocity","position"],set(X,ie,ne,we){"shapeTranslate"===X||"shapeRotate"===X||"shapeScale"===X?Dt(s,X,ie,ne,we):X in O&&(O[X]=ie)},update(X,ie,ne,we){const Te=X.get("position"),Me=X.get("velocity"),Le=O.frequency*we,at=O.forceAverage*we,Ft=O.forceVariance*we,Gt=s?_e.get():null,qt=_e.get();for(let Ut=ie,rn=3*Ut;Ut<ne;Ut++,rn+=3)if((!c||c(Co(Gt,s,Te,Ut)))&&Math.random()<Le){let Un=at;Ft>0&&(Un+=2*Math.random()*Ft-Ft),qt[0]=2*Math.random()-1,qt[1]=2*Math.random()-1,qt[2]=2*Math.random()-1,(0,v.normalize)(qt,qt),Me[rn]+=qt[0]*Un,Me[rn+1]+=qt[1]*Un,Me[rn+2]+=qt[2]*Un}Gt&&_e.release(Gt),_e.release(qt)}}},Gravity:function(h){const s=(0,v.clone)(h.position),g=h.shape?new _o[h.shape.type](h.shape):null,O=g?g[h.shape?.direction||"in"].bind(g):null,X={position:s},ie={forceAverage:h.forceAverage,forceVariance:h.forceVariance||0,radius:h.radius};return{components:["velocity","position"],set(ne,we,Te,Me){"shapeTranslate"===ne||"shapeRotate"===ne||"shapeScale"===ne?Dt(g,ne,we,Te,Me):ne in X?(0,v.set)(X[ne],we,Te,Me):ne in ie&&(ie[ne]=we)},update(ne,we,Te,Me){const{forceAverage:Le,forceVariance:at,radius:Ft}=ie;if(0===Ft)return;const Gt=ne.get("position"),qt=ne.get("velocity"),Ut=Le*Me,rn=at*Me,Un=g?_e.get():null,Pn=X.position,Rn=_e.get();for(let An=we,Ln=3*An;An<Te;An++,Ln+=3)if(!O||O(Co(Un,g,Gt,An))){let or=Ut;rn>0&&(or+=2*Math.random()*rn-rn);const _r=Ln+1,qn=Ln+2;Rn[0]=Pn[0]-Gt[Ln],Rn[1]=Pn[1]-Gt[_r],Rn[2]=Pn[2]-Gt[qn];const Br=1/Math.max((0,v.length)(Rn),Ft);(0,v.scale)(Rn,Rn,Br),or*=Br*Br,qt[Ln]+=Rn[0]*or,qt[Ln+1]+=Rn[1]*or,qt[Ln+2]+=Rn[2]*or}Un&&_e.release(Un),_e.release(Rn)}}},Friction:function(h){const s=h.shape?new _o[h.shape.type](h.shape):null,c=s?s[h.shape?.direction||"in"].bind(s):null,O={friction:1-h.friction};return{components:["velocity","position"],set(X,ie,ne,we){"shapeTranslate"===X||"shapeRotate"===X||"shapeScale"===X?Dt(s,X,ie,ne,we):X in O&&(O[X]=1-ie)},update(X,ie,ne,we){const Te=X.get("position"),Me=X.get("velocity"),Le=Math.pow(O.friction,we),at=s?_e.get():null;for(let Ft=ie,Gt=3*Ft;Ft<ne;Ft++,Gt+=3)c&&!c(Co(at,s,Te,Ft))||(Me[Gt]*=Le,Me[Gt+1]*=Le,Me[Gt+2]*=Le);at&&_e.release(at)}}},Path:function(h,s){const g=function(ie){const ne=[];return ie.forEach(({position:we,radius:Te,forceAverage:Me,forceVariance:Le},at)=>{const Ft=(0,v.clone)(we),Gt=at?(0,v.subtract)((0,v.create)(),Ft,ne[at-1].position):null,qt=at?(0,v.length)(Gt):0,Ut={position:Ft,radiusSquared:Te?Te*Te:0,forceVariance:Le||0,forceAverage:Me,vec:Gt,dir:at?(0,v.scale)((0,v.create)(),Gt,1/qt):null,length:qt};ne.push(Ut)}),ne}(h.nodes);s.path=g;const c=h.shape?new _o[h.shape.type](h.shape):null,X=c?c[h.shape?.direction||"in"].bind(c):null;return{components:["velocity","position","pathIndex"],set(ie,ne,we,Te){Dt(c,ie,ne,we,Te)},update(ie,ne,we,Te){const Me=ie.get("position"),Le=ie.get("velocity"),at=ie.get("pathIndex"),Ft=c?_e.get():null,Gt=_e.get(),qt=_e.get(),Ut=_e.get();for(let rn=ne,Un=3*rn;rn<we;rn++,Un+=3)if(!X||X(Co(Ft,c,Me,rn))){const Pn=at[rn];let Rn=g[Pn];if(Rn){const An=Un+1,Ln=Un+2;Gt[0]=Me[Un],Gt[1]=Me[An],Gt[2]=Me[Ln];let or=null;if(Pn){if((0,v.subtract)(qt,Gt,g[Pn-1].position),(0,v.dot)(qt,Rn.dir)>Rn.length){const qn=Pn+1;if(at[rn]=qn,Rn=g[qn],Rn){Ut[0]=Le[Un],Ut[1]=Le[An],Ut[2]=Le[Ln];const Br=(0,v.length)(Ut);(0,v.scale)(Ut,Rn.dir,Br),Le.set(Ut,Un)}}Rn&&(or=Rn.dir)}else{if((0,v.squaredDistance)(Gt,Rn.position)<Rn.radiusSquared){const _r=Pn+1;at[rn]=_r,Rn=g[_r]}Rn&&((0,v.subtract)(qt,Rn.position,Gt),or=(0,v.normalize)(qt,qt))}if(Rn){const qn=Rn.forceVariance*Te;let Br=Rn.forceAverage*Te;qn>0&&(Br+=2*Math.random()*qn-qn),Le[Un]+=or[0]*Br,Le[An]+=or[1]*Br,Le[Ln]+=or[2]*Br}}}Ft&&_e.release(Ft),_e.release(Gt),_e.release(qt),_e.release(Ut)}}},RadialForce:function(h){const s=(0,v.clone)(h.position),g=h.shape?new _o[h.shape.type](h.shape):null,O=g?g[h.shape?.direction||"in"].bind(g):null,X={position:s},ie={forceAverage:h.forceAverage,forceVariance:h.forceVariance||0};return{components:["velocity","position"],set(ne,we,Te,Me){"shapeTranslate"===ne||"shapeRotate"===ne||"shapeScale"===ne?Dt(g,ne,we,Te,Me):ne in X?(0,v.set)(X[ne],we,Te,Me):ne in ie&&(ie[ne]=we)},update(ne,we,Te,Me){const Le=ne.get("position"),at=ne.get("velocity"),Ft=ie.forceAverage*Me,Gt=ie.forceVariance*Me,qt=g?_e.get():null,Ut=_e.get();for(let rn=we,Un=3*rn;rn<Te;rn++,Un+=3)if(!O||O(Co(qt,g,Le,rn))){let Pn=Ft;Gt>0&&(Pn+=2*Math.random()*Gt-Gt);const Rn=Un+1,An=Un+2;Ut[0]=Le[Un]-s[0],Ut[1]=Le[Rn]-s[1],Ut[2]=Le[An]-s[2],(0,v.normalize)(Ut,Ut),at[Un]+=Ut[0]*Pn,at[Rn]+=Ut[1]*Pn,at[An]+=Ut[2]*Pn}qt&&_e.release(qt),_e.release(Ut)}}},SpriteAnimation:function(h,s,g){const c=g.spriteRows||0,O=g.spriteCols||1,X=g.spriteStartFrame||0,ie=(g.spriteEndFrame||Math.max(0,c*O-1))-X;return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],update(ne,we,Te,Me){const Le=ne.get("uvTranslate"),at=ne.get("spriteFrameDuration"),Ft=ne.get("spriteCurrentTime");for(let Gt=we,qt=2*Gt,Ut=Gt+1;Gt<Te;Gt++,qt+=2,Ut+=2){Ft[Gt]=(Ft[Gt]+Me)%(ie*at[Gt]);const Un=Math.floor(Ft[Gt]/at[Gt]);Le[qt]=Un%O/O;const Rn=Math.floor(Un/O)+1;Le[Ut]=-Rn/c}}}},UniformForce:function(h){const s=(0,v.clone)(h.directionAverage),g=h.shape?new _o[h.shape.type](h.shape):null,O=g?g[h.shape?.direction||"in"].bind(g):null,X={directionAverage:s},ie={forceAverage:h.forceAverage,forceVariance:h.forceVariance||0,directionVariance:h.directionVariance||0};return{components:["velocity","position"],set(ne,we,Te,Me){"shapeTranslate"===ne||"shapeRotate"===ne||"shapeScale"===ne?Dt(g,ne,we,Te,Me):ne in X?(0,v.set)(X[ne],we,Te,Me):ne in ie&&(ie[ne]=we)},update(ne,we,Te,Me){const Le=ne.get("position"),at=ne.get("velocity"),{forceAverage:Ft,forceVariance:Gt,directionVariance:qt}=ie,Ut=Ft*Me,rn=Gt*Me,Un=g?_e.get():null,Pn=_e.get();for(let Rn=we,An=3*Rn;Rn<Te;Rn++,An+=3)if(!O||O(Co(Un,g,Le,Rn))){let Ln=Ut;rn>0&&(Ln+=2*Math.random()*rn-rn),(0,v.copy)(Pn,s),qt&&(Pn[0]+=2*Math.random()*qt-qt,Pn[1]+=2*Math.random()*qt-qt,Pn[2]+=2*Math.random()*qt-qt,(0,v.normalize)(Pn,Pn)),at[An]+=Pn[0]*Ln,at[An+1]+=Pn[1]*Ln,at[An+2]+=Pn[2]*Ln}Un&&_e.release(Un),_e.release(Pn)}}}},ur={LifetimeKill:function(){return{components:["lifetime","age","dead"],update(h,s,g){const c=h.get("age"),O=h.get("lifetime"),X=h.get("dead");for(let ie=s;ie<g;ie++)c[ie]>=O[ie]&&(X[ie]=!0)}}},LifetimeStop:function(){return{components:["lifetime","age","stopped"],update(h,s,g){const c=h.get("age"),O=h.get("lifetime"),X=h.get("stopped");for(let ie=s;ie<g;ie++)c[ie]>=O[ie]&&(X[ie]=!0)}}},PathRadius:function(h,s){const{path:g=[]}=s;return{components:["position","pathIndex"],update(c,O,X){const ie=c.get("position"),ne=c.get("pathIndex");for(let we=O,Te=3*we;we<X;we++,Te+=3){const Me=ne[we],Le=Me>0?g[Me]:null;if(Le){const at=Te+1,Ft=Te+2;Ro[0]=ie[Te],Ro[1]=ie[at],Ro[2]=ie[Ft],(0,v.subtract)(Is,Ro,g[Me-1].position);const qt=(0,v.dot)(Is,Le.dir);(0,v.scale)(Ws,Le.dir,qt),(0,v.subtract)(Ws,Is,Ws);const Ut=(0,v.squaredLength)(Ws);if(Ut>Le.radiusSquared){(0,v.normalize)(Ws,Ws);const rn=(0,v.scale)(Ws,Ws,Math.sqrt(Le.radiusSquared)-Math.sqrt(Ut));ie[Te]=rn[0],ie[at]=rn[1],ie[Ft]=rn[2]}}}}}},PathKill:function(h,s){const{path:g=[]}=s,c=g.length;return{components:["position","path","pathIndex","dead"],update(O,X,ie){const ne=O.get("pathIndex"),we=O.get("dead");for(let Te=X;Te<ie;Te++)ne[Te]>=c&&(we[Te]=!0)}}},PathStop:function(h,s){const{path:g=[]}=s,c=g.length;return{components:["position","path","pathIndex","stopped"],update(O,X,ie){const ne=O.get("pathIndex"),we=O.get("stopped");for(let Te=X;Te<ie;Te++)ne[Te]>=c&&(we[Te]=!0)}}},ShapeBounce:function(h,s){const g=new _o[h.shape.type](h.shape),c=h.shape.direction||"in",O=!!h.trap,X=s.trapId||0;O&&(s.trapId=X+1);const ie=1<<X,ne=["position","velocity"];O&&ne.push("trap");const we=g[c].bind(g);return{components:ne,set(Te,Me,Le,at){Dt(g,Te,Me,Le,at)},update(Te,Me,Le){const at=Te.get("position"),Ft=Te.get("velocity"),Gt=O?Te.get("trap"):null,qt=_e.get();for(let Ut=Me;Ut<Le;Ut++)if(Co(qt,g,at,Ut),we(qt)){if(!O||Gt[Ut]&ie){const rn=3*Ut;g.surfaceProjection(qt,ms,zo),at.set(ms,rn),Zo[0]=Ft[rn],Zo[1]=Ft[rn+1],Zo[2]=Ft[rn+2];const Un=(0,v.length)(Zo);if(Un){Zo[0]/=Un,Zo[1]/=Un,Zo[2]/=Un;const Pn=(0,v.dot)(Zo,zo);(0,v.scale)(os,zo,2*Pn),(0,v.subtract)(os,Zo,os),(0,v.scale)(os,os,Un)}else os[0]=0,os[1]=0,os[2]=0;Ft.set(os,rn)}}else O&&(Gt[Ut]|=ie);_e.release(qt)}}},ShapeKill:function(h,s){const g=new _o[h.shape.type](h.shape),c=h.shape.direction||"in",O=!!h.trap,X=s.trapId||0;O&&(s.trapId=X+1);const ie=1<<X,ne=["position","dead"];O&&ne.push("trap");const we=g[c].bind(g);return{components:ne,set(Te,Me,Le,at){Dt(g,Te,Me,Le,at)},update(Te,Me,Le){const at=Te.get("position"),Ft=Te.get("dead"),Gt=O?Te.get("trap"):null,qt=_e.get();for(let Ut=Me;Ut<Le;Ut++)Co(qt,g,at,Ut),we(qt)?(!O||Gt[Ut]&ie)&&(Ft[Ut]=!0):O&&(Gt[Ut]|=ie);_e.release(qt)}}},ShapeStop:function(h,s){const g=new _o[h.shape.type](h.shape),c=h.shape.direction||"in",O=!!h.trap,X=s.trapId||0;O&&(s.trapId=X+1);const ie=1<<X,ne=["position","stopped"];O&&ne.push("trap");const we=g[c].bind(g);return{components:ne,set(Te,Me,Le,at){Dt(g,Te,Me,Le,at)},update(Te,Me,Le){const at=Te.get("position"),Ft=Te.get("stopped"),Gt=O?Te.get("trap"):null,qt=_e.get();for(let Ut=Me;Ut<Le;Ut++)Co(qt,g,at,Ut),we(qt)?(!O||Gt[Ut]&ie)&&(Ft[Ut]=!0):O&&(Gt[Ut]|=ie);_e.release(qt)}}}},jr={position:{construct:Float32Array,size:3},velocity:{construct:Float32Array,size:3},color:{construct:Uint8Array,size:4,geometry:!0},scale:{construct:Float32Array,size:1,geometry:!0,init:1},uvRotate:{construct:Float32Array,size:1,geometry:!0},uvTranslate:{construct:Float32Array,size:2,geometry:2,init(h,s,g,c){const{spriteRows:O=0,spriteCols:X=1,spriteStartFrame:ie=0}=c,ne=ie%X/X,we=(O-1-Math.floor(ie/X))/O;for(let Te=2*s,Me=2*g;Te<Me;Te+=2)h[Te]=ne,h[Te+1]=we}},dead:{init:!1},stopped:{init:!1}},Mi=(0,v.create)();class Ri{constructor(s){d(this,"playBackRate",void 0),d(this,"emissionAverage",void 0),d(this,"emissionVariance",void 0),d(this,"bounds",gn()),d(this,"arrays",void 0),d(this,"particles",void 0),d(this,"active",void 0),d(this,"subSystemIds",void 0),d(this,"update",void 0),d(this,"reset",void 0),d(this,"set",void 0);const{numParticles:g}=s,c=new Float32Array(3*g),O=new Float32Array(3*g),X={position:{data:c,numComponents:3,drawType:35048}},ie=new Map([["position",c],["velocity",O]]),ne={},we=new Map;function Te(Rn){return"function"==typeof Rn?Rn:(Rn.components&&Rn.components.forEach(An=>{if(!ie.has(An)){const Ln=jr[An],or=Ln?.construct||Array,_r=Ln?.size||1,qn=new or(g*_r);ie.set(An,qn),Ln?.geometry&&(X[An]={data:qn,drawType:35048,numComponents:_r})}}),Rn.update)}const Me=[];s.creators.filter(Rn=>!!Rs[Rn.type]||(console.error(`Undefined particle system creator: '${Rn.type}'`,Rn),!1)).forEach(Rn=>{const An=Rs[Rn.type](Rn,ne,s),Ln=Te(An);Me.push(Ln),Rn.id&&("function"!=typeof An?we.set(Rn.id,An):console.error("Cannot update component",Rn.type))});const Le=[];s.updaters?.filter(Rn=>!!ar[Rn.type]||(console.error(`Undefined particle system updater: '${Rn.type}'`,Rn),!1)).map(Rn=>{const An=ar[Rn.type](Rn,ne,s),Ln=Te(An);Le.push(Ln),Rn.id&&("function"!=typeof An?we.set(Rn.id,An):console.error("Cannot update component",Rn.type))});const at=[];s.constraints?.filter(Rn=>!!ur[Rn.type]||(console.error(`Undefined particle system constraint: '${Rn.type}'`,Rn),!1)).map(Rn=>{const An=ur[Rn.type](Rn,ne,s),Ln=Te(An);at.push(Ln),Rn.id&&("function"!=typeof An?we.set(Rn.id,An):console.error("Cannot update component",Rn.type))});const Ft=s.maxSpeed||0,Gt=Ft*Ft;this.playBackRate=1,this.emissionAverage=s.emissionAverage??1,this.emissionVariance=s.emissionVariance||0,this.subSystemIds=new Set(we.keys());let qt=1/0,Ut=0,rn=0;function Un(Rn){const An=Ut-1;Ut--,Rn!==An&&ie.forEach((Ln,or)=>{const _r=jr[or];if(_r?.copy)return void _r.copy(Ln,An,Rn);const qn=_r?.size||1;if(1===qn)Ln[Rn]=Ln[An];else for(let Br=0,Yr=An*qn,Hr=Rn*qn;Br<qn;Br++,Yr++,Hr++)Ln[Hr]=Ln[Yr]})}function Pn(Rn){const An=rn;rn++,Rn!==An&&ie.forEach((Ln,or)=>{const _r=jr[or];if(_r?.swap)return void _r.swap(Ln,An,Rn);const qn=_r?.size||1;if(1===qn){const Br=Ln[Rn];Ln[Rn]=Ln[An],Ln[An]=Br}else for(let Br=0,Yr=An*qn,Hr=Rn*qn;Br<qn;Br++,Yr++,Hr++){const Nr=Ln[Hr];Ln[Hr]=Ln[Yr],Ln[Yr]=Nr}})}this.update=Rn=>{const An=me(Rn-qt,0,ns)*this.playBackRate;qt=Rn;let Ln=!1;if(Ut<g){const xi=this.emissionVariance*An;let Fr=Math.max(this.emissionAverage*An+2*Math.random()*xi-xi,0);if(Fr=Fr>=1?Math.floor(Fr):Math.random()<Fr?1:0,Fr>0){const Si=Math.min(Ut+Fr,g);ie.forEach((ki,Mo)=>{const bo=jr[Mo];if("function"==typeof bo?.init)return void bo.init(ki,Ut,Si,s);const Qo=bo?.size||1,Ii=bo?.init??0;if(V(ki))ki.fill(Ii,Ut*Qo,Si*Qo);else if(Array.isArray(ki))if(1===Qo)for(let Tr=Ut;Tr<Si;Tr++)ki[Tr]=Ii;else for(let Tr=Ut*Qo,vi=Si*Qo;Tr<vi;Tr++)ki[Tr]=Ii}),Me.forEach(ki=>{ki(ie,Ut,Si,An)}),Ut=Si,Ln=!0}}if(Ut>rn){Le.forEach(Si=>{Si(ie,rn,Ut,An)});for(let Si=rn,ki=3*Si,Mo=ki+1,bo=ki+2;Si<Ut;Si++,ki+=3,Mo+=3,bo+=3){if(Mi[0]=O[ki]*An,Mi[1]=O[Mo]*An,Mi[2]=O[bo]*An,Gt>0){const Qo=Mi[0]*Mi[0]+Mi[1]*Mi[1]+Mi[2]*Mi[2];if(Qo>Gt){const Ii=Math.sqrt(Qo);(0,v.scale)(Mi,Mi,Ft/Ii),O.set(Mi,ki)}}c[ki]+=Mi[0],c[Mo]+=Mi[1],c[bo]+=Mi[2]}const gi=ie.get("rotationSpeed");if(gi){const Si=ie.get("uvRotate");for(let ki=rn;ki<Ut;ki++)Si[ki]+=gi[ki]*An}const xi=ie.get("age"),Fr=ie.get("lifetime");if(xi&&Fr)for(let Si=rn;Si<Ut;Si++)xi[Si]=Math.min(xi[Si]+An,Fr[Si]);at.forEach(Si=>{Si(ie,rn,Ut,An)}),Ln=!0}const or=ie.get("dead"),_r=ie.get("stopped");if(or||_r)for(let gi=Ut-1;gi>=rn;gi--)or&&or[gi]?(Un(gi),Ln=!0):_r&&_r[gi]&&(Pn(gi),Ln=!0);let qn=1/0,Br=1/0,Yr=1/0,Hr=-1/0,Nr=-1/0,bi=-1/0;for(let gi=0,xi=3*gi,Fr=xi+1,Si=xi+2;gi<Ut;gi++,xi+=3,Fr+=3,Si+=3){const ki=c[xi],Mo=c[Fr],bo=c[Si];ki<qn&&(qn=ki),Mo<Br&&(Br=Mo),bo<Yr&&(Yr=bo),ki>Hr&&(Hr=ki),Mo>Nr&&(Nr=Mo),bo>bi&&(bi=bo)}return(0,v.set)(this.bounds.min,qn,Br,Yr),(0,v.set)(this.bounds.max,Hr,Nr,bi),Ln},this.reset=()=>{Ut=0,rn=0},this.set=(Rn,An,Ln,or,_r)=>{const qn=we.get(Rn);qn&&qn.set&&qn.set(An,Ln,or,_r)},Object.defineProperties(this,{arrays:{get:()=>X},particles:{get:()=>Ut},active:{get:()=>Ut-rn}})}}var zi=new WeakMap,to=new WeakMap;class xo extends tn{constructor(s,g){var c;super(null,null),c=this,x(this,zi,!1),x(this,to,void 0),d(this,"subSystemIds",void 0),d(this,"update",void 0),d(this,"load",void 0),d(this,"start",void 0),d(this,"pause",void 0),d(this,"reset",void 0),d(this,"set",void 0),d(this,"get",void 0),this.layer=s.properties.layer||0,this.depthMask=!1!==s.properties.depthMask,this.pointSize=s.pointSize??1,this.perspectivePoints=s.properties.perspectivePoints??!1,this.roundPoints=s.properties.roundPoints??!1,this.pointUVScale=[1/(s.spriteCols||1),1/(s.spriteRows||1)],f(to,this,new re);const O=new Ri(s),X=this.geometry=new Kt(O.arrays,O.bounds);X.name=s.id,X.topology=ut.points,X.count=O.particles;let ie=null;this.load=()=>(ie||(ie=bn(s,g).then(we=>{this.material=we})),ie),this.update=we=>{w(zi,this)||O.update(we)&&(X.count=O.particles,(0,v.copy)(X.bounds.min,O.bounds.min),(0,v.copy)(X.bounds.max,O.bounds.max),X.emit("change",{geometry:X,property:"attributes"}))},this.start=()=>{f(zi,this,!1)},this.pause=()=>{f(zi,this,!0)},this.reset=()=>{O.reset(),this.geometry.count=O.particles},this.set=(we,Te,Me,Le,at)=>{O.set(we,Te,Me,Le,at),void 0===Le&&void 0===at?w(to,this).set(we,Te,Me):w(to,this).set(we,Te,[Me,Le,at])},this.get=(we,Te)=>w(to,this).get(we,Te);const ne=this.destroy;this.destroy=C(function*(){c.geometry?.destroy(),c.geometry=null,ne(),!c.material&&ie&&(yield ie),c.material?.destroy(),c.material=null}),Object.defineProperties(this,{id:{writable:!1,value:s.id},name:{writable:!1,value:s.name||""},subSystemIds:{writable:!1,value:O.subSystemIds},loaded:{get:()=>!!this.material},playBackRate:{get:()=>O.playBackRate,set:we=>{if(we<=0)throw new Error("Negative or zero playback rate not supported");O.playBackRate=we}},emissionAverage:{get:()=>O.emissionAverage,set(we){O.emissionAverage=we}},emissionVariance:{get:()=>O.emissionVariance,set(we){O.emissionVariance=we}}})}}const $i={};function No(h,s){$i[h]&&console.warn(`Worker '${h}' is already registered`,$i[h]),$i[h]=s}function ls(h){const s=$i[h];if(!s)throw new Error(`Worker ${h} is not registered.`);return s()}class Ns extends ae{constructor(...s){super(...s),d(this,"arrays",{}),d(this,"particles",0),d(this,"bounds",gn())}}class ys{constructor(){d(this,"add",void 0),d(this,"remove",void 0),d(this,"start",void 0),d(this,"pause",void 0),d(this,"reset",void 0),d(this,"setPlayBackRate",void 0),d(this,"setEmissionAverage",void 0),d(this,"setEmissionVariance",void 0),d(this,"set",void 0),d(this,"destroy",void 0);let s=null,g=0;const c=new Map;function O(){if(s){if(!c.size)return clearTimeout(g),void(g=setTimeout(O,5e3));s.terminate(),s.onmessage=null,s=null}}function X(ne){const{id:we,particles:Te,arrays:Me,bounds:Le}=ne.data,{emitter:at}=c.get(we);at.particles=Te,(0,v.copy)(at.bounds.min,Le.min),(0,v.copy)(at.bounds.max,Le.max);const Ft=[],Gt=[];Object.keys(Me).forEach(qt=>{const{data:Ut,...rn}=Me[qt];if(at.arrays[qt]){if(Te>0){const Un=Te*(rn.numComponents||3),Pn=Ut.subarray(0,Un);at.arrays[qt].data.subarray(0,Un).set(Pn)}}else at.arrays[qt]={...rn,data:Ut.slice()};Gt.push(Ut),Ft.push(Ut.buffer)}),at.emit("update"),s&&s.postMessage({command:"returnArrays",arrays:Gt},Ft)}function ie(ne){const{command:we,id:Te}=ne.data;if("update"===we)X(ne);else if("create"===we){const Me=c.get(Te);X(ne),Me.resolved||(Me.resolved=!0,Me.resolve(Me.emitter))}}this.add=ne=>{const{id:we}=ne;if(c.has(we))return console.warn(`Simulation worker manager: Simulation already exists: '${we}'`),c.get(we).promise;let Te,Me;const Le=new Promise((at,Ft)=>{Te=at,Me=Ft});return(s||(s=ls("simulation"),s.onmessage=ie),s).postMessage({command:"create",id:we,def:ne}),c.set(we,{emitter:new Ns,resolve:Te,reject:Me,promise:Le,resolved:!1}),Le},this.remove=ne=>{c.has(ne)?(c.delete(ne),s&&(s.postMessage({command:"destroy",id:ne}),c.size||(clearTimeout(g),g=setTimeout(O,5e3)))):console.warn(`Simulation worker manager: Simulation not found: '${ne}'`)},this.start=ne=>{c.has(ne)?s&&s.postMessage({command:"start",id:ne}):console.warn(`Simulation worker manager: Simulation not found: '${ne}'`)},this.pause=ne=>{c.has(ne)?s&&s.postMessage({command:"pause",id:ne}):console.warn(`Simulation worker manager: Simulation not found: '${ne}'`)},this.reset=ne=>{c.has(ne)?s&&s.postMessage({command:"reset",id:ne}):console.warn(`Simulation worker manager: Simulation not found: '${ne}'`)},this.setPlayBackRate=(ne,we)=>{c.has(ne)?s&&s.postMessage({command:"playBackRate",id:ne,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${ne}'`)},this.setEmissionAverage=(ne,we)=>{c.has(ne)?s&&s.postMessage({command:"emissionAverage",id:ne,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${ne}'`)},this.setEmissionVariance=(ne,we)=>{c.has(ne)?s&&s.postMessage({command:"emissionVariance",id:ne,value:we}):console.warn(`Simulation worker manager: Simulation not found: '${ne}'`)},this.set=(ne,we,Te,Me,Le,at)=>{c.has(ne)?s&&s.postMessage({command:"set",id:ne,componentId:we,key:Te,x:Me,y:Le,z:at}):console.warn(`Simulation worker manager: Simulation not found: '${ne}'`)},this.destroy=()=>{c.forEach(ne=>{ne.resolved||ne.reject(new Error("Simulation worker manager terminated."))}),c.clear(),O()}}}var Os=new WeakMap;class qo extends tn{constructor(s,g,c){var O;super(null,null),O=this,d(this,"subSystemIds",void 0),x(this,Os,void 0),d(this,"update",void 0),d(this,"load",void 0),d(this,"start",void 0),d(this,"pause",void 0),d(this,"reset",void 0),d(this,"set",void 0),d(this,"get",void 0);const{id:X,name:ie}=s;let ne=null;this.layer=s.properties.layer||0,this.depthMask=!1!==s.properties.depthMask,this.pointSize=s.pointSize??1,this.perspectivePoints=s.properties.perspectivePoints??!1,this.roundPoints=s.properties.roundPoints??!1,this.pointUVScale=[1/s.spriteCols||1,1/s.spriteRows||1],this.subSystemIds=new Set([...s.creators.map(Ft=>Ft.id),...s.updaters?.map(Ft=>Ft.id)||[],...s.constraints?.map(Ft=>Ft.id)||[]].filter(Ft=>"string"==typeof Ft)),f(Os,this,new re);let we=null;this.load=()=>(we||(we=Promise.all([bn(s,c),g.add(s)]).then(([Ft,Gt])=>{this.material=Ft,ne=Gt;const qt=new Kt(Gt.arrays,Gt.bounds);qt.name=s.id,qt.topology=ut.points,qt.count=Gt.particles,ne.on("update",()=>{qt.count=Gt.particles,(0,v.copy)(qt.bounds.min,Gt.bounds.min),(0,v.copy)(qt.bounds.max,Gt.bounds.max),qt.emit("change",{geometry:qt,property:"attributes"})}),this.geometry=qt})),we),this.update=()=>{},this.start=()=>g.start(X),this.pause=()=>g.pause(X),this.reset=()=>{g.reset(X),this.geometry&&(this.geometry.count=0)},this.set=(Ft,Gt,qt,Ut,rn)=>{g.set(X,Ft,Gt,qt,Ut,rn),void 0===Ut&&void 0===rn?w(Os,this).set(Ft,Gt,qt):w(Os,this).set(Ft,Gt,[qt,Ut,rn])},this.get=(Ft,Gt)=>w(Os,this).get(Ft,Gt);const Te=this.destroy;this.destroy=C(function*(){O.pause(),g.remove(X),Te(),we&&(yield we,O.geometry?.destroy(),O.geometry=null,O.material?.destroy(),O.material=null)});let Me=this.playBackRate,Le=this.emissionAverage,at=this.emissionVariance;Object.defineProperties(this,{id:{writable:!1,value:X},name:{writable:!1,value:ie||""},loaded:{get:()=>!!this.material},playBackRate:{get:()=>Me,set:Ft=>{if(Ft<=0)throw new Error("Negative or zero playback rate not supported");Me=Ft,g.setPlayBackRate(X,Me)}},emissionAverage:{get:()=>Le,set(Ft){Le=Ft,g.setEmissionAverage(X,Le)}},emissionVariance:{get:()=>at,set(Ft){at=Ft,g.setEmissionVariance(X,at)}}})}}const Gs={lights:[{lightId:"light0",params:{mode:"ambient",color:{r:.2,g:.2,b:.2,diffuse:!0}}},{lightId:"light1",params:{mode:"dir",dir:{x:1,y:0,z:-.5},color:{r:.1,g:.1,b:.2},diffuse:!0,specular:!0,space:"view"}},{lightId:"light2",params:{mode:"dir",dir:{x:-1,y:0,z:1},color:{r:.55,g:.5,b:.5},diffuse:!0,specular:!0,space:"view"}},{lightId:"light3",params:{mode:"dir",dir:{x:.25,y:0,z:-1},color:{r:.9,g:.9,b:.9},diffuse:!0,specular:!1,space:"view"}}]},Lo=E(34525);function pa(h,s,g){return h+g*(s-h)}function ca(h,s,g,c){const O=1-c;return s+O*O*(h-s)+c*c*(g-s)}const Ms=[{name:"left",dim:0,direction:1},{name:"right",dim:0,direction:-1},{name:"bottom",dim:1,direction:1},{name:"top",dim:1,direction:-1},{name:"front",dim:2,direction:1},{name:"back",dim:2,direction:-1}];function Ks({clips:h,boundary:s,enabled:g}){if(!h||!1===g)return[];const{xmin:c=-1/0,xmax:O=1/0,ymin:X=-1/0,ymax:ie=1/0,zmin:ne=-1/0,zmax:we=1/0}=s||{},Te=[O,ie,we],Me=[c,X,ne],Le=[];return Ms.forEach(({name:at,dim:Ft,direction:Gt})=>{const qt=h[at];if(!qt?.enabled||!qt?.progress&&!qt?.fadeDistance)return;const Ut=(0,Lo.create)();Ut[Ft]=Gt;const rn=qt.fade&&qt.fadeDistance||0,Pn=pa(Me[Ft],Te[Ft],Gt>0?qt.progress:1-qt.progress)-rn*Gt;Ut[3]=-Gt*Pn,Le.push({plane:Ut,fade:rn})}),Le.sort((at,Ft)=>at.fade-Ft.fade),Le}function Ds(h,s,g){if(!h.length)return 0;const c=Math.max(h.length-1,0);let O=me(g,0,c);for(;O>0&&h[O].time>s;)O--;let X=O+1;for(;X<=c&&h[X].time<=s;)X++;return O=X-1,O}class cs{constructor(s){d(this,"keyFrames",[]),d(this,"value",{}),d(this,"targetData",void 0),d(this,"keyFrameIndex",0),this.targetData=s}update(s){const{keyFrames:g}=this;if(!g.length)return;this.keyFrameIndex=me(Ds(g,s,this.keyFrameIndex),0,g.length-1);const{operations:c}=g[this.keyFrameIndex];for(const O in c)if(Object.prototype.hasOwnProperty.call(c,O)){const X=c[O],ie=this.value[O];for(const ne in X)if(Object.prototype.hasOwnProperty.call(X,ne)){const we=X[ne](s);ie[ne]=we}}}}function ua(h,s,g,c){const O=s-h;if("object"!=typeof c){if(!O)return()=>c;const Te=c,Me="object"==typeof g?g.value:g;return Le=>{const at=me((Le-h)/O,0,1);return pa(Me,Te,at)}}const X=c.value,ie="object"==typeof g?g.value:g,[ne,we]=c.controlPoints.y;return Te=>{const Me=me((Te-h)/O,0,1);return Gt=X,(1-(qt=Me))*ca(ie,at=ne,Ft=we,qt)+qt*ca(at,Ft,Gt,qt);var at,Ft,Gt,qt}}class tr extends cs{constructor(s,g){super(s);const{keyFrames:c}=this,{targets:O,keys:X}=s;if(O.length<2)console.warn("Animations require at least two keyframes"+(g?`(${g})`:""));else for(let ie=0,ne=1;ne<O.length;ie++,ne++){const we=X[ie],Te=X[ne],Me=O[ne],Le=O[ie],at=c[ie]={time:we,endTime:Te,operations:{}};for(const Ft in Me)if(Object.prototype.hasOwnProperty.call(Me,Ft)){const Gt=Me[Ft];if(Gt){this.value[Ft]={};const qt=at.operations[Ft]={},Ut=Me[Ft],rn=Le[Ft];for(const Un in Gt)Object.prototype.hasOwnProperty.call(Gt,Un)&&(qt[Un]=ua(we,Te,rn[Un],Ut[Un]))}}}}}const pr={x:0,y:1,z:2},xr=Math.PI/180,Pr={translate(h,s,g){const c=pr[s];return h.position[c]!==g&&(h.position[c]=g,!0)},scale(h,s,g){const c=pr[s];return h.scale[c]!==g&&(h.scale[c]=g,!0)},pivot(h,s,g){const c=pr[s];return h.origin[c]!==g&&(h.origin[c]=g,!0)},rotate(h,s,g){const c=pr[s];return h.rotation[c]!==(g*=xr)&&(h.rotation[c]=g,!0)}};class Bi extends tr{constructor(s,g,c,O){super(s,c),d(this,"sceneNode",void 0);const X=/[.-]/.test(s.objectId)?s.objectId:O+"-"+s.objectId,ie=g.story.anatomySceneGraph.anatomyObjects.get(X);this.sceneNode=ie?.sceneNode||null}update(s){if(this.sceneNode){super.update(s);for(const g in this.value)if(Object.prototype.hasOwnProperty.call(this.value,g)){const c=this.value[g],O=Pr[g],X=this.value[g];for(const ie in c)Object.prototype.hasOwnProperty.call(c,ie)&&O(this.sceneNode,ie,X[ie])&&this.sceneNode.dirtyMatrix()}}}}function ot(h,s){h[0]=s.r,h[1]=s.g,h[2]=s.b}const xn=(h,s)=>{ot(h.baseColor,s),h.emit("change",{material:h,property:"baseColor"})},Wt=(h,s)=>{h.opacity=s.float},hn={baseColor:xn,opacity:Wt},$e={baseColor:xn,opacity:Wt,metallic(h,s){h.metallic=s.float},roughness(h,s){h.roughness=s.float},ior(h,s){h.ior=s.float},specularFactor(h,s){h.specularFactor=s.float},emissive(h,s){ot(h.emissive,s),h.emit("change",{material:h,property:"emissive"})},specularColor(h,s){ot(h.specularColor,s),h.emit("change",{material:h,property:"specularColor"})}},Nt={alphaColor(h,s){h.opacity=s.float},baseColor:xn,emitColor(h,s){ot(h.emitColor,s),h.emit("change",{material:h,property:"emitColor"})},specularColor(h,s){ot(h.specularColor,s),h.emit("change",{material:h,property:"specularColor"})}};function nn(h,s,g){for(const c in g)Object.prototype.hasOwnProperty.call(g,c)&&(0,h[c])(s,g[c])}class Zn extends tr{constructor(s,g,c,O){super(s,c),d(this,"materialId",void 0),d(this,"story",void 0),this.materialId=O+"/"+s.targetId,this.story=g.story}update(s){const g=this.story.materials.get(this.materialId);g&&(super.update(s),g instanceof Pi?nn(hn,g,this.value):g instanceof ti?nn($e,g,this.value):g instanceof En&&nn(Nt,g,this.value))}}const Er={blend:(h,s)=>h.blendFactor!==s.factor&&(h.blendFactor=s.factor,!0)};class Cr extends tr{constructor(s,g,c,O){super(s,c),d(this,"materialId",void 0),d(this,"story",void 0),d(this,"textureLayer",void 0),d(this,"textureMapType",void 0),this.materialId=O+"/"+s.materialId,this.story=g.story,this.textureLayer=s.targetLayer,this.textureMapType=s.textureMapType||""}update(s){const g=this.story.materials.get(this.materialId);if(!g)return;const c=g instanceof En?g.textures[this.textureLayer]:g[this.textureMapType]?.[this.textureLayer];if(c){super.update(s);for(const O in this.value)Object.prototype.hasOwnProperty.call(this.value,O)&&(0,Er[O])(c,this.value[O])&&g.emit("change",{material:g,property:"textures.blendFactor"})}}}const Kr=h=>(s,g,c,O)=>{const{x:X,y:ie,z:ne,val:we,rmin:Te,rmax:Me}=g;void 0===X||isNaN(we)?s.modifiers.delete(c):s.modifiers.set(c,{applyTo:h,value:we,range:{center:[X,ie,ne],minRadius:Te,maxRadius:Me},parent:O,priority:0})},$r={tnt(h,s,g,c){const{x:O,y:X,z:ie,r:ne,g:we,b:Te,rmin:Me,rmax:Le}=s;void 0===O||isNaN(ne)?h.modifiers.delete(g):h.modifiers.set(g,{applyTo:"tintColor",value:[ne,we,Te],range:{center:[O,X,ie],minRadius:Me,maxRadius:Le},parent:c,priority:0})},brt:Kr("brightness"),sat:Kr("saturation"),o:Kr("opacity"),cst:Kr("contrast")};class pi extends tr{constructor(s,g,c,O){super(s,c),d(this,"id",void 0),d(this,"chapter",void 0),d(this,"objects",void 0),this.id=c,this.objects=[],this.chapter=g;const{anatomyObjects:X}=g.story.anatomySceneGraph;(Array.isArray(s.objectIds)?s.objectIds:[s.objectId||""]).forEach(ie=>{const ne=/[.-]/.test(ie)?ie:O+"-"+ie,we=X.get(ne);we?this.objects.push(we):console.warn("missing tween target object: "+ie)})}update(s){if(this.objects.length){super.update(s);for(const g in this.value)if(Object.prototype.hasOwnProperty.call(this.value,g)){const c=$r[g],O=this.value[g],X=g+"-"+this.id;this.objects.forEach(ie=>{c(ie,O,X,this.chapter.contentNode)})}}}}const ri={alphaFresnel:!0,transparencyFresnel:!0,reflectionFresnel:!0,opacityFresnel:!0},Xi={bias(h,s,g){const c=h[g];let O=!1;return c&&(isNaN(s.center)||c.biasCenter===s.center||(c.biasCenter=s.center,O=!0),isNaN(s.edge)||c.biasEdge===s.edge||(c.biasEdge=s.edge,O=!0),isNaN(s.power)||c.power===s.power||(c.power=s.power,O=!0)),O},center(h,s,g){const c=h[g];if(c)if(g in ri)c.center=s.r;else if("number"!=typeof s){const O=c.center;O[0]=s.r,O[1]=s.g,O[2]=s.b}},edge(h,s,g){const c=h[g];if(c)if(g in ri)c.edge="number"==typeof s?s:s.r;else if("number"!=typeof s){const O=c.edge;O[0]=s.r,O[1]=s.g,O[2]=s.b}}};class vo extends tr{constructor(s,g,c,O){super(s,c),d(this,"fresnelType",void 0),d(this,"materialId",void 0),d(this,"story",void 0),this.fresnelType=s.fresnelType,this.materialId=O+"/"+s.materialId,this.story=g.story}update(s){const g=this.story.materials.get(this.materialId);if(g){(c=g)[O=this.fresnelType]||(c[O]=ri[O]?{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:0,edge:0}:{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:(0,v.create)(),edge:(0,v.create)()},c.emit("change",{material:c})),super.update(s);for(const c in this.value)Object.prototype.hasOwnProperty.call(this.value,c)&&!1!==(0,Xi[c])(g,this.value[c],this.fresnelType)&&g.emit("change",{material:g,property:"fresnel"})}var c,O}}class ko extends tr{constructor(s,g,c){super(s,c),d(this,"story",void 0),d(this,"textureLayer",void 0),this.story=g.story}update(s){const{cameraController:g}=this.story;if(!g)return;super.update(s);const{eye:c,look:O,up:X}=this.value;if(c){const{x:ie,y:ne,z:we}=c;g.setPosition(ie*ht,ne*ht,we*ht)}if(O){const{x:ie,y:ne,z:we}=O;g.setTarget(ie*ht,ne*ht,we*ht),(0,v.copy)(g.center,g.target)}if(X){const{x:ie,y:ne,z:we}=X;g.setUp(ie,ne,we)}}}class Ao extends cs{constructor(s,g){super(s);const{keyFrames:c}=this,{targets:O,keys:X}=s;if(O.length<2)console.warn("Animations require at least two keyframes"+(g?`(${g})`:""));else for(let ie=0,ne=1;ne<O.length;ie++,ne++){const Te=X[ne],Me=O[ie],Le=O[ne],at=c[ie]={time:X[ie],endTime:Te,operations:{}},Ft=ne+1===O.length;for(const Gt in Me)if(Object.prototype.hasOwnProperty.call(Me,Gt)){const qt=Me[Gt];if(qt){this.value[Gt]={};const Ut=at.operations[Gt]={},rn=Le[Gt],Un=Me[Gt];for(const Pn in qt)if(Object.prototype.hasOwnProperty.call(qt,Pn)){const Rn=Un[Pn];if(Ft){const An=rn[Pn];Ut[Pn]=Ln=>Ln>=Te?An:Rn}else Ut[Pn]=()=>Rn}}}}}}function st(h,s){s(h);for(let g=0;g<h.children.length;g++)st(h.children[g],s)}const Qe={shown(h,s,g,c){const{showObjects:O}=c;st(h,X=>{!1!==O?.[X.objectId]&&g.push([X,s])})},pickable(h,s){st(h,g=>g.pickable=s)}};class dn extends Ao{constructor(s,g,c,O){super(s,c),d(this,"chapterDef",void 0),d(this,"object",void 0);const X=/[.-]/.test(s.objectId)?s.objectId:O+"-"+s.objectId,{anatomyObjects:ie}=g.story.anatomySceneGraph;this.chapterDef=g.definition,this.object=ie.get(X)||null}update(s,g){if(!this.object||!this.value.attr)return;g&&!g.shownChanges&&(g.shownChanges=[]),super.update(s);const{attr:c}=this.value;for(const O in c)Object.prototype.hasOwnProperty.call(c,O)&&(0,Qe[O])(this.object,c[O],g.shownChanges,this.chapterDef)}}class ft extends tr{constructor(s,g,c){super(s,c),d(this,"chapter",void 0),d(this,"particleSystemId",void 0);const O=g.id,X=g.story.module.tweenParticleLookup?.[O];this.particleSystemId=X?.[s.particleSystemId]||s.particleSystemId,this.chapter=g}update(s){const g=this.chapter.particleSystems.get(this.particleSystemId);if(g){super.update(s);for(const c in this.value.attr)Object.prototype.hasOwnProperty.call(this.value.attr,c)&&(g[c]=this.value.attr[c])}}}class fe extends tr{constructor(s,g,c){super(s,c),d(this,"chapter",void 0),d(this,"particleSystemId",void 0),d(this,"subSystemId",void 0);const O=g.id,X=g.story.module.tweenParticleLookup?.[O];this.particleSystemId=X?.[s.particleSystemId]||s.particleSystemId,this.chapter=g,this.subSystemId=s.componentId;const ie=this.chapter.particleSystems.get(this.particleSystemId);ie&&!ie.subSystemIds.has(this.subSystemId)&&console.warn("Unknown particle sub-system",this.particleSystemId,this.subSystemId)}update(s){const g=this.chapter.particleSystems.get(this.particleSystemId);if(g){super.update(s);for(const c in this.value)if(Object.prototype.hasOwnProperty.call(this.value,c))if("attr"===c){const O=this.value.attr;for(const X in O)Object.prototype.hasOwnProperty.call(O,X)&&g.set(this.subSystemId,X,O[X])}else{const O=this.value[c];void 0!==O.x&&g.set(this.subSystemId,c,O.x,O.y,O.z)}}}}const St={objectXForm:Bi,material:Zn,texture:Cr,objectAttr:pi,fresnel:vo,particleSystem:ft,particleComponent:fe,camera:ko},cn={tween:St,lerp:St,switch:{objectAttr:dn}},Yn={switch:{objectAttr:function(h){const{shownChanges:s}=h;if(s){const g=new Map;for(let c=0;c<s.length;c++){const[O,X]=s[c];X&&g.has(O)||g.set(O,X)}g.forEach((c,O)=>{O.shown=c}),s.length=0}}}};class wt{constructor(s){d(this,"currentTime",void 0),d(this,"root",void 0),d(this,"duration",void 0),d(this,"destroy",void 0);const{story:g,timelineMap:c}=s,{anatomyObjects:O}=s.story.anatomySceneGraph;let X=0,ie=0;this.root=g.contentNode;const ne={},we={},Te=new Map,Me=()=>{X=Array.from(Te.values()).reduce((Pn,Rn)=>Math.max(Pn,Rn.end),0),ie>X&&(ie=X)},Le={},at=new Set;function Ft(Pn){we[Pn.timelineId]?.forEach(An=>{Object.entries(An.tweens||{}).forEach(([Ln,or])=>{const[_r,qn]=or.type.split(":");if(cn[_r]){const Br=cn[_r][qn];if(!Br)throw new Error("Unsupported tween type: "+qn);const Yr=Yn[_r]?.[qn];Yr&&at.add(Yr);const Hr=new Br(or,s,Ln,Pn.timelineId);Pn.tweens.push(Hr)}else console.warn(`"${_r}" animations not implemented yet.`,or)})})}function Gt(Pn,Rn){const{start:An,end:Ln,data:or}=Pn,{start:_r,end:qn,fit:Br,onEnd:Yr}=or,Hr={start:An,end:Ln,inPoint:_r,outPoint:qn,fit:Br,onEnd:Yr,tweens:[],timelineId:or.timeline,morphRenderables:ne[or.timeline]||null};Te.set(Rn,Hr),Ft(Hr)}function qt(){Object.keys(s.tweens).forEach(Pn=>{const Rn=Pn.replace(/\/.*/,"");let An=we[Rn];we[Rn]||(An=we[Rn]=[]),An.push(s.tweens[Pn])}),Te.forEach(Ft),s.active&&Ut()}function Ut(){Te.forEach(Pn=>{const{fit:Rn,onEnd:An,start:Ln,end:or,inPoint:_r,outPoint:qn}=Pn;if(ie<Ln||ie>or)return;const Br=qn-_r,Yr=Rn?Br/(or-Ln):1;let Hr=(ie-Ln)*Yr+_r;const Nr=Yr>=0?qn:_r,bi=Yr>=0?_r:qn;var gi,xi;Hr>Nr&&(Hr="loop"===An?(xi=Br,(gi=Hr-bi)-Math.floor(gi/xi)*xi+bi):Nr),Pn.tweens.forEach(Fr=>Fr.update(Hr,Le)),at.forEach(Fr=>Fr(Le)),Pn.morphRenderables&&Pn.morphRenderables.forEach(Fr=>{const{meshNode:Si}=Fr;if(!Si)return;const{morphKeys:ki}=Si.geometry;if(!ki.length)return console.warn(`Animation clip ${Pn.timelineId} is missing morph data for ${Fr.morphId}`),void Pn.morphRenderables.delete(Fr);const Mo=me(Ds(ki,Hr,Si.morphKeyIndex),0,ki.length-2),bo=ki[Mo].time,Ii=me((Hr-bo)/(ki[Mo+1].time-bo),0,1);Si.morphKeyIndex=Mo,Si.morphFactor=Ii})})}function rn(){s.tweens&&(s.off("progress",rn),qt())}function Un(Pn){const Rn=Te.has(Pn),An=c.get(Pn);An?Gt(An,Pn):Rn&&Te.delete(Pn),Rn?Me():X=Math.max(X,An.end),Ut()}O.forEach(Pn=>{Pn.renderables.forEach(Rn=>{const{morphId:An}=Rn;if(An){const Ln=An.replace(/\/.*$/,"");ne[Ln]||(ne[Ln]=new Set),ne[Ln].add(Rn)}})}),s.tweens?qt():s.on("progress",rn),s.on("activate",Ut),c.on("change",Un),c.forEach(Gt),Me(),Object.defineProperties(this,{currentTime:{get:()=>ie,set(Pn){(Pn=me(Pn,0,this.duration))!==ie&&(ie=Pn,s.active&&Ut())}},duration:{get:()=>X}}),this.destroy=()=>{c.off("change",Un),s.off("progress",rn),s.off("activate",Ut)},Ut()}}function Q(h,s,g){if("string"==typeof s&&(s=s.split(".")),!s.length)return h;const[c,...O]=s;if(!O.length)return h[c]=g,h;let X=h[c];return X||(X=h[c]={}),Q(X,O,g),h}function be(h,s={}){return h&&Object.keys(h).forEach(g=>{Q(s,g,h[g])}),s}const Ke={"annotations.margins":{top:80,left:50,right:50,bottom:50},"annotations.labelWidth":120,"annotations.horizontalLines":!1,"annotations.fadeoutAngle":100,"annotation.layout.labelWidth":100,"annotations.layout.type":"draggable","camera.optics.near":.1,"camera.optics.far":5e3,"camera.optics.fov":55,"camera.zoomLimits":{max:300,min:.01},"fog.color":[1,1,1],"fog.density":.01,"fog.enabled":!1,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.mode":1,"fog.start":0,"timeline.autoPlay.enabled":!1,"timeline.autoPlay.type":"play","timeline.chapterCamerasEnabled":!0,"timeline.prevNextMode":"scrub","ui.mouseWheel.capture":!0,"ui.zoom.mouseWheel.enabled":!0};let $t=function(h){return h.Alpha="alpha",h.ImprovedAlpha="improvedAlpha",h.AddAlpha="addAlpha",h.AlphaToCoverage="alphaToCoverage",h}({}),Sn=function(h){return h[h.LeftClip=0]="LeftClip",h[h.RightClip=1]="RightClip",h[h.BottomClip=2]="BottomClip",h[h.TopClip=3]="TopClip",h[h.FrontClip=4]="FrontClip",h[h.BackClip=5]="BackClip",h}({}),Xn=function(h){return h[h.Linear=1]="Linear",h[h.Exponential=2]="Exponential",h[h.ExponentialSquared=3]="ExponentialSquared",h}({});class yr extends Ue{constructor(s){const{castShadow:g=!0,type:c="dir",color:O,diffuse:X,specular:ie,innerCone:ne,outerCone:we,constantAttenuation:Te,linearAttenuation:Me,quadraticAttenuation:Le,...at}=s||{};super(at),d(this,"castShadow",void 0),d(this,"type",void 0),d(this,"color",void 0),d(this,"diffuse",void 0),d(this,"specular",void 0),d(this,"innerCone",void 0),d(this,"outerCone",void 0),d(this,"constantAttenuation",void 0),d(this,"linearAttenuation",void 0),d(this,"quadraticAttenuation",void 0),d(this,"viewSpace",void 0),this.castShadow=g,this.type=c,this.color=void 0===O?(0,v.fromValues)(1,1,1):(0,v.clone)(O),this.diffuse=X??!0,this.specular=ie??!0,this.innerCone=ne??.25,this.outerCone=we??0,this.constantAttenuation=Te??0,this.linearAttenuation=Me??0,this.quadraticAttenuation=Le??0,this.viewSpace=at.viewSpace||!1}}class Vr extends Ue{constructor(s){const{castShadow:g=!0,intensity:c,color:O,...X}=s||{};super(X),d(this,"castShadow",void 0),d(this,"type",""),d(this,"intensity",void 0),d(this,"color",void 0),this.castShadow=g,this.intensity=c??1,this.color=void 0===O?(0,v.fromValues)(1,1,1):(0,v.clone)(O)}}class ci extends Vr{constructor(s){super(s),this.type="ambient"}}class di extends Vr{constructor(s){super(s),this.type="directional"}}class Lr extends Vr{constructor(s){super(s),this.type="point"}}class wi extends Vr{constructor(s){const{outerConeAngle:g,penumbraAngle:c,...O}=s||{};super(O),d(this,"outerConeAngle",void 0),d(this,"penumbraAngle",void 0),this.type="spot",this.outerConeAngle=g??Math.PI/4,this.penumbraAngle=c??0}}const Zi={ambient:ci,directional:di,point:Lr,spot:wi},Ui=Math.PI/180;function le(){let h,s;return{promise:new Promise((g,c)=>{h=g,s=c}),resolve:h,reject:s}}function Ge(h,...s){return(...g)=>h(...s,...g)}const Mt=(0,G.create)(),Lt=(0,G.create)();function pn(h,s,g){h.updateWorldMatrix();const c=_e.get();(0,v.add)(c,h.position,h.origin),h.parent&&(0,v.transformMat4)(c,c,h.parent.worldMatrix),(0,G.targetTo)(Mt,c,s,g),h.parent&&((0,G.invert)(Lt,h.parent.worldMatrix),(0,G.multiply)(Mt,Lt,Mt)),_e.release(c),(0,G.getRotation)(h.quaternion,Mt),(0,M.normalize)(h.quaternion,h.quaternion),"euler"===h.rotationSource&&B(h.rotation,Mt),h.dirtyMatrix(),h.updateWorldMatrix()}function Bn(h,s,g){if(s.parent){const c=_e.get();s.updateWorldMatrix(),(0,G.getTranslation)(c,s.worldMatrix),pn(h,c,g),_e.release(c)}else pn(h,s.position,g)}class hr extends Ue{constructor(s={}){const{up:g,near:c,far:O,...X}=s;super(X),d(this,"up",void 0),d(this,"near",void 0),d(this,"far",void 0),d(this,"projectionMatrix",void 0),d(this,"worldMatrixInverse",void 0),d(this,"projectionDirty",void 0),d(this,"dirtyProjection",void 0),d(this,"updateProjectionMatrix",void 0),this.up=(0,v.create)(),Z(this.up,g||[0,1,0]),this.near=c??.5,this.far=O??100,this.projectionMatrix=(0,G.create)(),this.worldMatrixInverse=(0,G.create)();const ie=this.updateWorldMatrix;this.updateWorldMatrix=()=>ie(()=>{(0,G.invert)(this.worldMatrixInverse,this.worldMatrix)})}lookAt(s){pn(this,s,this.up)}}class cr extends hr{constructor(s={}){const{aspect:g,fov:c,...O}=s;super(O),d(this,"aspect",void 0),d(this,"fov",void 0),this.aspect=g??1,this.fov=c??30*Math.PI/180;let X=!0;this.dirtyProjection=()=>{X=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{X&&(0,G.perspective)(this.projectionMatrix,this.fov,this.aspect,this.near,this.far),X=!1},Object.defineProperties(this,{dirty:{get:()=>X||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>X}})}}function kr(h,s=h.properties){const{cameraController:g,camera:c}=h.story,{optics:O,zoomLimits:X}=s.camera;c instanceof cr&&(c.fov=O.fov*Math.PI/180),c.far=O.far*ht,c.near=O.near*ht,c.dirtyProjection(),g.minDistance=X.min*ht,g.maxDistance=X.max*ht}function Sr(h,s){return Wr.apply(this,arguments)}function Wr(){return(Wr=C(function*(h,s){yield Promise.all(Array.from(s).map(g=>g.load()))})).apply(this,arguments)}class Ur extends ae{constructor(s,g){super(),d(this,"clear",void 0),d(this,"forEach",void 0),d(this,"has",void 0),d(this,"add",void 0),d(this,"delete",void 0),d(this,"size",void 0),d(this,"entries",void 0),d(this,"keys",void 0),d(this,"values",void 0),d(this,Symbol.iterator,void 0),d(this,Symbol.toStringTag,void 0);const c=new Set,O=!!(g?.clone??1),X=O&&!!(g?.freeze??O);if(this.forEach=(ie,ne)=>(c.forEach((we,Te)=>ie.call(ne,we,Te,this)),this),this.has=ie=>c.has(ie),this.entries=()=>c.entries(),this.keys=()=>c.keys(),this.values=()=>c.values(),this[Symbol.iterator]=()=>c[Symbol.iterator](),this[Symbol.toStringTag]=c[Symbol.toStringTag],this.clear=()=>{const ie=Array.from(c.keys());c.clear();for(const ne of ie)this.emit("delete",ne);return this},this.delete=ie=>!!c.has(ie)&&(c.delete(ie),this.emit("delete",ie),!0),this.add=ie=>(c.has(ie)||(O&&(ie=At(ie)),X&&Et(ie),c.add(ie),this.emit("add",ie)),this),Object.defineProperties(this,{size:{get:()=>c.size}}),s)for(const ie of s)this.add(ie)}}const Ci=new Set(["transform"]),Wi=new Map([["shown",{tableProp:"showObjects",defaultValue:!1}],["pickable",{tableProp:"pickThroughObjects",transform:h=>!h,defaultValue:!0}],["occludesMarkers",{tableProp:"labelOccludingObjects",defaultValue:"auto",transform:h=>!0===h?"always":!1===h?"never":"auto"}]]),Hn=["opacity","saturation","brightness","contrast","tintColor"];function br(h,s,g,c,O,X=null){let ie=!1;return g?.forEach(ne=>{const{objectId:we}=ne,Te={};h.set(we,Te);const Me=c?.[we];Wi.forEach(({tableProp:Le,transform:at,defaultValue:Ft},Gt)=>{const qt=s[Le]||O?.[Le],Ut=qt&&we in qt?at?at(qt[we]):qt[we]:Me?.[Gt]??Ci.has(Gt)?void 0:X?.[Gt];Ut!==Ft&&void 0!==Ut&&(Te[Gt]=Ut)}),Hn.forEach(Le=>{const at=Me?.[Le]??X?.[Le];(at||0===at)&&(Te[Le]=at)}),br(h,s,ne.objects,c,O,Te)&&(Te.shown=!0),ie=ie||!0===Te.shown}),ie}function kn(h,s){const g=new Map;return br(g,s,h.sceneGraph,s.synchronization,h),g}function rr(h,s){const g=[];for(let c=0;c<h;c++)g.push(s(c));return g}class Xr extends ae{constructor(s){super(),d(this,"irradianceMode",void 0),d(this,"intensity",void 0),d(this,"quaternion",void 0),d(this,"irradianceCoefficients",void 0),d(this,"specularTexture",void 0),d(this,"irradianceTexture",void 0);let g=s?.intensity??1,c=s?.specularTexture||null,O=s?.irradianceTexture||null,X=s?.irradianceMode||(s.irradianceTexture?"image":"parametric");this.quaternion=(0,M.create)(),s?.quaternion&&(0,Lo.copy)(this.quaternion,s.quaternion),this.irradianceCoefficients=rr(9,v.create),s?.irradianceCoefficients&&s.irradianceCoefficients.forEach((ie,ne)=>{(0,v.copy)(this.irradianceCoefficients[ne],ie)}),Object.defineProperties(this,{intensity:{get:()=>g,set:ie=>{ie!==g&&(g=ie,this.emit("change",{property:"intensity"}))}},irradianceMode:{get:()=>X,set:ie=>{ie!==X&&(X=ie,this.emit("change",{property:"irradianceMode"}))}},specularTexture:{get:()=>c,set:ie=>{ie!==c&&(c=ie,this.emit("change",{property:"specularTexture"}))}},irradianceTexture:{get:()=>O,set:ie=>{ie!==O&&(O=ie,this.emit("change",{property:"irradianceTexture"}))}}})}update(s){this.emit("change",s?{property:s}:{})}}function mi(h,s){s(h),h.children.forEach(g=>mi(g,s))}class Yi extends ae{constructor(s,g,c,O){var X;super(),X=this,d(this,"id",void 0),d(this,"name",void 0),d(this,"description",void 0),d(this,"index",void 0),d(this,"story",void 0),d(this,"contentNode",void 0),d(this,"environmentNode",void 0),d(this,"properties",void 0),d(this,"background",void 0),d(this,"transparencyMode",void 0),d(this,"fallbackTransparency",void 0),d(this,"ui",void 0),d(this,"clippingPlanes",void 0),d(this,"definition",void 0),d(this,"environment",{}),d(this,"tweens",null),d(this,"particleSystemIds",void 0),d(this,"particleSystems",void 0),d(this,"timelineMap",void 0),d(this,"postProcess",void 0),d(this,"loadProgress",void 0),d(this,"active",void 0),d(this,"animationSystem",void 0),d(this,"physicalImageLight",void 0),d(this,"toneMapping",void 0),d(this,"load",void 0),d(this,"activate",void 0),d(this,"deactivate",void 0),d(this,"reset",void 0),d(this,"start",void 0),d(this,"stop",void 0),d(this,"update",void 0),d(this,"cancelLoading",void 0),this.name=g.displayName||"Chapter"+(O??""),this.description=g.description||"",this.id=g.id||(s.module.moduleId||"chapter")+(O??""),this.index=O??-1,this.definition=g;const ie=new Set,ne=new Set,we=this.contentNode=new Ue({name:this.name+": content"}),Te=this.environmentNode=new Ue({name:this.name+": environment"});this.properties=function(Tr,vi={}){return be(Ke,vi),be(Tr,vi),vi}(g.properties),this.clippingPlanes=new Oe(Ks(g.clippingPlanes||{})),this.background=At(g.background||null),this.transparencyMode=g.transparencyMode||$t.Alpha,this.fallbackTransparency=g.fallbackTransparency||$t.Alpha,this.timelineMap=new xt(g.timelineMap?.map((Tr,vi)=>[Tr.id||String(vi),Tr])),this.postProcess=At(g.customData?.postprocess||[]);const Me=this.particleSystems=new Map,Le=this.particleSystemIds=new Ur(g.customData?.particleSystems),at=new Set(g.timelineMap?.map(({data:Tr})=>Tr.timeline));this.ui=At(g.ui||{}),this.ui.play||(this.ui.play={}),"count"in this.ui.play||(this.ui.play.count=at.size>0?s.module.animation?.loop?-1:1:0);let Ft,Gt,qt=!1,Ut=!1,rn=null,Un=!1,Pn=0,Rn=0,An=null,Ln=Re,or=s.anatomySceneGraph.anatomyObjects.size;function _r(Tr){Gt&&Gt(Tr),Gt=void 0,Ft=void 0,rn=null}Object.defineProperties(this,{loadProgress:{get:()=>Pn},active:{get:()=>qt},physicalImageLight:{get:()=>An},toneMapping:{get:()=>Ln},story:{value:s,writable:!1}});const qn=()=>{const Tr=ne.size,vi=ne.size-ie.size,po=Me.size,la=Array.from(Me.values()).filter(zl=>zl.loaded).length,Zs="environment"in g&&Object.keys(g.environment||{}).length||0,As=this.environment?Zs:0,La=s.module.assetLibraries?.tweens?.length||0,ka=this.tweens?La:0,Za=Tr+po+Zs+La+("lights"in g&&g.lights?.libraries?.length||1),Rl=Za?(vi+la+As+ka+Rn)/Za:1;Pn!==Rl&&(Pn=Rl,this.emit("progress"))};function Br(Tr){return Yr.apply(this,arguments)}function Yr(){return Yr=C(function*(Tr){const vi="default"===Tr?Gs:yield c.getAssetLibrary("lights",Tr,"outline");if(vi.lights.forEach(po=>{(function(h){const{displayName:s,lightId:g}=h,c=s||g;if("params"in h){const{params:ie}=h,{color:ne,dir:we,pos:Te,mode:Me,space:Le,...at}=ie,Ft=new yr({name:c,...at,type:Me});if(ne){const{r:Gt,g:qt,b:Ut}=ne;(0,v.set)(Ft.color,Gt,qt,Ut)}if("dir"===Me){if(we){const{x:Gt,y:qt,z:Ut}=we;(0,v.set)(Ft.position,-Gt,-qt,-Ut),Ft.dirtyMatrix()}}else{if(Te){const{x:Gt,y:qt,z:Ut}=Te;(0,v.set)(Ft.position,Gt,qt,Ut),Ft.dirtyMatrix()}if("spot"===Me&&we){const Gt=[0,0,0],qt=[0,0,0],Ut=[0,0,-1],{x:rn,y:Un,z:Pn}=we;(0,v.set)(qt,rn,Un,Pn),(0,v.normalize)(qt,qt),(0,v.cross)(Gt,Ut,qt),Math.abs((0,v.dot)(Gt,Gt))<$&&(0,v.set)(Gt,0,1,0);const Rn=Math.acos((0,v.dot)(Ut,qt));(0,M.setAxisAngle)(Ft.quaternion,Gt,Rn)}}return Ft.viewSpace="view"===Le,Ft}const O=it(h.color),X=h.rotation?{x:h.rotation.x*Ui,y:h.rotation.y*Ui,z:h.rotation.z*Ui}:void 0;return new Zi[h.type]({...h,name:c,color:O,rotation:X})}(po)).parent=Te}),"physicalImageLight"in vi&&vi.physicalImageLight){const{imageLightId:po,intensity:la,rotation:Zs}=vi.physicalImageLight,As=yield c.loadImageLight(po);if(As&&(An=new Xr({...As,intensity:la}),Zs)){const{x:La,y:ka,z:Za}=Zs;(0,M.fromEuler)(An.quaternion,La,ka,Za),An.update("quaternion")}}Ln="toneMapping"in vi?vi.toneMapping:Re,Rn++,qn()}),Yr.apply(this,arguments)}const Hr=function(){var Tr=C(function*(){if("lightLibraryId"in g)return void(g.lightLibraryId&&(yield Br(g.lightLibraryId)));const vi=new Set(g.lights?.libraries||[]);!vi.size&&s.module.assetLibraries?.lights&&s.module.assetLibraries?.lights.forEach(po=>vi.add(po)),vi.size||vi.add("default"),yield Promise.all([c.loadReflections(g.environment).then(po=>{X.environment=po,qn()}),...Array.from(vi).map(Br)])});return function(){return Tr.apply(this,arguments)}}(),Nr=Ge(Sr,this,ie),bi=new Map;function gi(Tr){const vi=Le.has(Tr)&&s.particleSystemDefs.get(Tr),po=c.createParticleSystem(vi);bi.has(Tr)||bi.set(Tr,or++),po.renderOrder=bi.get(Tr),Me.set(Tr,po),Un&&po.load().then(()=>{po.parent=we,qn()}),Ut&&po.start()}function xi(Tr){const vi=Me.get(Tr);vi&&(vi.destroy(),Me.delete(Tr)),s.particleSystemDefs.has(Tr)?Le.has(Tr)&&gi(Tr):Le.delete(Tr),qn(),Me.forEach(po=>po.reset())}s.particleSystemDefs.on("change",xi),Le.on("add",Tr=>{if(!s.particleSystemDefs.has(Tr))throw new Error(`Unknown particle system '${Tr}'`);xi(Tr)}),Le.on("delete",xi);const Fr=kn(s.module,g),Si=Tr=>{const{object:vi}=Tr;vi.loaded&&(vi.off("load",Si),ie.delete(vi),qn())},ki=Tr=>{const{property:vi,object:po}=Tr;"shown"!==vi&&"variant"!==vi||(po.shown?(ne.add(po),po.loaded||(ie.add(po),po.on("load",Si),qn(),Un&&po.load())):(ne.delete(po),ie.delete(po)))};s.anatomySceneGraph.anatomyObjects.forEach(Tr=>{Tr.on("load",Si),!0===Fr.get(Tr.objectId)?.shown&&(ie.add(Tr),ne.add(Tr))}),s.module.customData?.particleSystems?.forEach(Tr=>{Le.has(Tr.id)&&gi(Tr.id)});const Mo=new wt(this);Object.defineProperty(this,"animationSystem",{value:Mo,writable:!1});const bo=function(){var Tr=C(function*(){try{yield Promise.all([c.loadTweenLibraries().then(vi=>{X.tweens=vi,qn()}),Nr(),Promise.all(Array.from(Me.values()).map(vi=>vi.load().then(()=>{vi.parent=we,qn()}))),Hr()]),qn(),Ft()}catch(vi){_r(vi)}});return function(){return Tr.apply(this,arguments)}}(),Qo=Ge(kr,this);this.load=()=>{if(!rn){Un=!0;const{promise:Tr,resolve:vi,reject:po}=le();rn=Tr,Ft=vi,Gt=po,Rn=0,Te.children.forEach(la=>{(la instanceof yr||la instanceof Vr)&&Te.remove(la)}),bo()}return rn},this.cancelLoading=()=>{Un&&(Un=!1,_r(new Error("Loading canceled")))},this.reset=()=>{s.anatomySceneGraph.anatomyObjects.forEach(Tr=>Tr.reset(Fr.get(Tr.objectId))),this.particleSystems.forEach(Tr=>Tr.reset()),Qo(),this.animationSystem.currentTime=0},this.activate=()=>{qt||(qt=!0,this.reset(),s.anatomySceneGraph.anatomyObjects.forEach(Tr=>Tr.on("change",ki)),this.emit("activate"))},this.deactivate=()=>{qt&&(this.stop(),s.anatomySceneGraph.anatomyObjects.forEach(Tr=>Tr.off("change",ki)),qt=!1,this.emit("deactivate"))},this.start=()=>{Ut||(Ut=!0,qt&&Me.forEach(Tr=>Tr.start()))},this.stop=()=>{Ut&&(Ut=!1,Me.forEach(Tr=>Tr.pause()))},this.update=Tr=>{Me.forEach(vi=>vi.update(Tr))};const Ii=this.destroy;this.destroy=()=>{this.deactivate(),this.cancelLoading(),An?.destroy(),An=null,mi(Te,Tr=>{Tr.destroy()}),Mo.destroy(),we.destroy(),Te.destroy(),this.clippingPlanes.destroy(),ie.clear(),ne.clear(),s.anatomySceneGraph.anatomyObjects.forEach(Tr=>Tr.off("change",Si)),s.particleSystemDefs.off("change",xi),this.particleSystems.forEach(Tr=>Tr.destroy()),this.particleSystems.clear(),this.environment=null,this.tweens=null,this.emit("destroy"),Ii()}}}function Gi(h){return h}function Vi(h,s,g=Gi){return D((c,...O)=>h.getAsset(s,c).then(X=>X?g(X,c,...O):null))}function Yo(h){return h instanceof ArrayBuffer?[h]:[]}function Ni(h,s=Yo){let g,c=0,O=0,X=0;const ie={};function ne(){if(clearTimeout(X),g){if(O)return void(X=setTimeout(ne,8e3));g.terminate(),g.onmessage=null,g=null}}const we=Te=>{const Me=Te.data;if(!Me)return;const Le=ie[Me.requestId];Le&&(delete ie[Me.requestId],O--,Me.error?(console.error("Web Worker error",Me.error.stack),Le.reject(new Error(Me.error.message))):Le.resolve(Me.resource))};return function(Te){g||(g=h(),g.onmessage=we);const Me=new Promise((at,Ft)=>{ie[c]={resolve:at,reject:Ft}}),Le=s(Te);return g.postMessage({requestId:c,options:Te},Le),c++,O++,clearTimeout(X),X=setTimeout(ne,8e3),Me}}const zs=Ni(()=>ls("geometry"));function Jo(){return Jo=C(function*(h,s){const g=yield(X=h,ie=s,zs({...X,options:ie})),c={...g.attributes};var X,ie;g.indices&&(c.indices=g.indices);const O=new Kt(c,g.boundary);return O.name=h.geometryId,O.topology=g.primitive||ut.triangles,"morphKeys"in g?O.morphKeys=g.morphKeys:h.morphId&&console.warn("Morph asset not found: "+h.morphId),O}),Jo.apply(this,arguments)}var Cs=new WeakMap;class rs{constructor(){x(this,Cs,new Map)}inc(s){const g=this.get(s)+1;return w(Cs,this).set(s,g),g}dec(s){const g=this.get(s)-1;if(g<0)throw new Error("Count is below zero");return g?w(Cs,this).set(s,g):w(Cs,this).delete(s),g}get(s){return w(Cs,this).get(s)||0}delete(s){w(Cs,this).delete(s)}}const Yt=Math.PI/180;function De(h,{x:s=0,y:g=0,z:c=0}){(0,v.set)(h,s,g,c)}function ct(h,s){let g=!1;if(s?.rotate){const{x:c,y:O,z:X}=s.rotate;X&&(g=!0,h.rotation[2]=X*Yt),O&&(g=!0,h.rotation[1]=O*Yt),c&&(g=!0,h.rotation[0]=c*Yt)}s?.scale&&(g=!0,function(c,{x:O=1,y:X=1,z:ie=1}){(0,v.set)(c,O,X,ie)}(h.scale,s.scale)),s?.translate&&(g=!0,De(h.position,s.translate)),s?.pivot&&(g=!0,De(h.origin,s.pivot)),s?.constraints?.copyRotation&&h.constraints.push({type:"copyRotation"}),s?.constraints?.copyPosition&&h.constraints.push({type:"copyPosition"}),g&&h.dirtyMatrix()}const kt=["opacity","saturation","brightness","contrast","tintColor"];function zn(){return zn=C(function*({materialId:h,geometryId:s,morphId:g,layer:c},O){const{loadMaterial:X,loadObjectGeometry:ie,timelineIds:ne,materialOptions:we,loadAllMorphs:Te}=O;if(g&&!Te){const Me=g.replace(/\/.*$/,"");ne.has(Me)||(g="")}try{const[Me,Le]=yield Promise.all([X(h,we),ie(s,g||"")]);if(!Le)return console.warn("Geometry asset not found: "+s),null;if(!Me)return console.warn("Material asset not found: "+h),null;const at=new gt(Le,Me);return c&&(at.layer=c),function(Ft){const Gt=[];return"textures"in Ft.material&&Ft.material.textures.length&&Ft.geometry.topology!==ut.points&&!Ft.geometry.attributes.texcoord&&Gt.push("Material has textures that cannot be displayed without UV coordinates."),Gt}(at).forEach(Ft=>console.warn(Ft,at)),at}catch(Me){return console.warn("Error loading renderable",Me),null}}),zn.apply(this,arguments)}function ir(h){return 0!==h[0]||0!==h[1]||0!==h[2]}class li extends ae{constructor(s,g){var c;super(),c=this,d(this,"objectId",void 0),d(this,"displayName",void 0),d(this,"layer",void 0),d(this,"renderOrder",0),d(this,"shown",void 0),d(this,"selected",void 0),d(this,"pickable",!0),d(this,"occludesMarkers","auto"),d(this,"transformId",void 0),d(this,"children",void 0),d(this,"parent",null),d(this,"sceneNode",void 0),d(this,"renderables",void 0),d(this,"variants",void 0),d(this,"modifiers",void 0),d(this,"variant",void 0),d(this,"variantCount",void 0),d(this,"loaded",void 0),d(this,"transformLoaded",void 0),d(this,"loadTransform",void 0),d(this,"load",void 0),d(this,"reset",void 0);let O=!1,X=!1,ie=!1,ne=!1,we=s.layer||0,Te=null,Me=new xt(void 0,{clone:!1}),Le=0;const at=[],{loadTransform:Ft,...Gt}=g;if(this.objectId=s.objectId,this.displayName=s.displayName||"",this.transformId=s.transformId||"",this.children=[],this.sceneNode=new Ue({name:this.displayName,rotationSource:"euler"}),this.variants=[],s.variants)s.variants.forEach(Ln=>{this.variants.push(Ln.map(or=>({meshNode:null,...or})))});else if(this.variants.push(s.renderables?.map(Ln=>({meshNode:null,...Ln}))||[]),s.geometryId){const{geometryId:Ln,materialId:or,morphId:_r}=s;this.variants[0].unshift({geometryId:Ln,materialId:or,morphId:_r,meshNode:null})}this.variants.forEach((Ln,or)=>{at[or]=!1});const qt=(Ln,or,_r)=>{const{meshNode:qn}=Ln;if(qn){if(!_r||"modifier"===_r){qn.modifiers.clear();for(const[Yr,Hr]of this.modifiers)qn.modifiers.set(Yr,Hr)}if(qn.layer=Ln.layer??we,qn.visible=O,qn.parent=or===Le?this.sceneNode:null,(!_r||"selected"===_r||"modifier"===_r)&&qn.modifiers.has("__HIGHLIGHT:contrast")!==X)if(X){let Yr=1e7;qn.modifiers.set("__HIGHLIGHT:contrast",{applyTo:"contrast",value:-.5,priority:Yr++}),qn.modifiers.set("__HIGHLIGHT:brightness",{applyTo:"brightness",value:.15,priority:Yr++}),qn.modifiers.set("__HIGHLIGHT:saturation",{applyTo:"saturation",value:-1,priority:Yr++}),qn.modifiers.set("__HIGHLIGHT:tintColor",{applyTo:"tintColor",value:he,priority:Yr++})}else qn.modifiers.delete("__HIGHLIGHT:tintColor"),qn.modifiers.delete("__HIGHLIGHT:saturation"),qn.modifiers.delete("__HIGHLIGHT:brightness"),qn.modifiers.delete("__HIGHLIGHT:contrast")}},Ut=Ln=>{const or="variant"===Ln;this.variants.forEach((_r,qn)=>{_r.forEach(Br=>{qt(Br,qn,or?"":Ln)})})},rn=D(C(function*(){Te=yield Ft(c.transformId),ct(c.sceneNode,Te)}));this.loadTransform=C(function*(){const Ln=[];c.transformId&&Ln.push(rn()),c.parent&&Ln.push(c.parent.loadTransform()),yield Promise.all(Ln),ie=!0,c.variants.forEach((or,_r)=>{or?.length||(at[_r]=!0)}),c.emit("loadtransform",{object:c})});const Un=D(function(){var Ln=C(function*(or){const _r=c.variants[or];if(!_r)throw new Error("Variant index out of range");const qn=yield Promise.all(_r.map(Br=>function mn(h,s){return zn.apply(this,arguments)}(Br,Gt)));qn.forEach((Br,Yr)=>{Br&&(Br.name=Yr||1!==_r.length?c.displayName+" "+Yr:c.displayName,c.sceneNode.add(Br),_r[Yr].meshNode=Br,Br.renderOrder=c.renderOrder+Yr/qn.length,qt(_r[Yr],or))}),at[or]=!0,c.emit("load",{object:c})});return function(or){return Ln.apply(this,arguments)}}()),Pn=()=>Un(Le);this.load=C(function*(){ne=!0,yield c.loadTransform(),yield Pn()}),this.reset=Ln=>{!function(Br,Yr){Br.modifiers||(Br.modifiers=new xt(void 0,{clone:!1}));const{modifiers:Hr}=Br;kt.forEach(Nr=>{const bi=Yr[Nr];if(void 0!==bi)if("object"==typeof bi&&!Array.isArray(bi)&&"priority"in bi)Hr.set(Nr,"value"in bi?{applyTo:Nr,priority:bi.priority,value:"number"==typeof bi.value?bi.value:[bi.value.r,bi.value.g,bi.value.b]}:{applyTo:Nr,priority:bi.priority,fresnel:{center:"number"==typeof bi.center?bi.center:[bi.center.r,bi.center.g,bi.center.b],edge:"number"==typeof bi.edge?bi.edge:[bi.edge.r,bi.edge.g,bi.edge.b],centerBias:bi.centerBias,edgeBias:bi.edgeBias,power:bi.power}});else if(Array.isArray(bi)&&5===bi.length){const[gi,xi,Fr,Si,ki]=bi;Hr.set(Nr,{applyTo:Nr,fresnel:{center:gi,edge:xi,centerBias:Fr,edgeBias:Si,power:ki}})}else Hr.set(Nr,{applyTo:Nr,value:bi});else Hr.delete(Nr)}),Br.shown=Yr.shown??!1,Br.pickable=Yr.pickable??!0,Br.selected=Yr.selected??!1,Br.occludesMarkers=Yr.occludesMarkers??"auto"}(this,Ln);const{sceneNode:or}=this;var _r,qn;ir(or.position)&&((0,v.zero)(or.position),or.dirtyMatrix()),(1!==(_r=or.scale)[0]||1!==_r[1]||1!==_r[2])&&((0,v.set)(or.scale,1,1,1),or.dirtyMatrix()),"euler"===or.rotationSource?ir(or.rotation)&&((0,v.zero)(or.rotation),or.dirtyMatrix()):(0!==(qn=or.quaternion)[0]||0!==qn[1]||0!==qn[2]||1!==qn[3])&&((0,M.identity)(or.quaternion),or.dirtyMatrix()),ct(or,s),Te&&ct(or,Te),this.variants.forEach(Br=>{Br.forEach(Yr=>{Yr.meshNode&&(Yr.meshNode.morphFactor=0,Yr.meshNode.morphKeyIndex=-1)})})};const Rn=this.destroy;this.destroy=()=>{this.variants.forEach(Ln=>{Ln.forEach(or=>or?.meshNode?.destroy())}),this.sceneNode.destroy(),this.parent=null,this.emit("destroy",{object:this}),Rn()};const An=Ln=>{const or=Me.get(Ln);this.variants[Le].forEach(or?qn=>qn.meshNode?.modifiers.set(Ln,or):qn=>qn.meshNode?.modifiers.delete(Ln)),this.emit("change",{object:this,property:"modifier"})};Me.on("change",An),Object.defineProperties(this,{shown:{get:()=>O,set:Ln=>{O!==Ln&&(O=Ln,Ut("shown"),this.emit("change",{object:this,property:"shown"}))}},layer:{get:()=>we,set:Ln=>{we!==Ln&&(we=Ln,Ut("layer"),this.emit("change",{object:this,property:"layer"}))}},selected:{get:()=>X,set:Ln=>{X!==Ln&&(X=Ln,Ut("selected"),this.emit("change",{object:this,property:"selected"}))}},variant:{get:()=>Le,set:Ln=>{Le!==Ln&&(Le=Ln,Ut("variant"),ne&&Pn(),this.emit("change",{object:this,property:"variant"}))}},variantCount:{writable:!1,value:this.variants.length},renderables:{get:()=>this.variants[Le]},modifiers:{get:()=>Me,set:Ln=>{Me!==Ln&&(Me&&Me.off("change",An),Me=Ln,Me&&Me.on("change",An),Ut("modifier"))}},loaded:{get:()=>ie&&at[Le]},transformLoaded:{get:()=>ie}}),Ut(),ct(this.sceneNode,s)}}function ji(h,s,g=null,c=0){for(let O=0;O<h.length;O++){const X=h[O],ie=s(X,g,c++);X.objects&&(c=ji(X.objects,s,ie,c))}return c}class ho{constructor(s,g){d(this,"name",void 0),d(this,"anatomyRoots",void 0),d(this,"anatomyObjects",void 0),d(this,"sceneNode",void 0),d(this,"findAnatomyObject",void 0),d(this,"destroy",void 0);const{name:c,...O}=g;this.name=c||"",this.anatomyRoots=[];const X=this.anatomyObjects=new Map,ie=new Map,ne=this.sceneNode=new Ue({name:this.name||"Anatomy Scene Graph"});ji(s.sceneGraph,(we,Te,Me)=>{const{objectId:Le}=we,at=new li(we,O);return X.set(Le,at),at.renderOrder=Me,ie.set(at.sceneNode,at),at.parent=Te,at.sceneNode.parent=Te?Te.sceneNode:ne,Te?Te?.children.push(at):this.anatomyRoots.push(at),void 0===we.layer&&Te&&(at.layer=Te.layer),at}),this.findAnatomyObject=we=>we instanceof Jn?this.findAnatomyObject(we.parent):ie.get(we)||null,this.destroy=()=>{ne.destroy(),X.forEach(we=>we.destroy()),X.clear(),ie.clear(),this.anatomyRoots.length=0}}}class go{constructor(s){d(this,"get",void 0),d(this,"release",void 0),d(this,"destroy",void 0);const{release:g,create:c,key:O,timeout:X=5e3}=s,ie=new Map,ne=new re,we=new Map,Te=new Map,Me=new Set,Le=new Set;let at=0;function Ft(){clearTimeout(at),Me.forEach(Gt=>{ie.delete(Gt.key),Me.delete(Gt),g&&(O?g(Gt.resource,Gt.key):g(Gt.resource,...we.get(Gt.key)))}),Le.forEach(Gt=>{const qt=we.get(Gt);qt&&(ne.delete(...qt),we.delete(Gt))}),Le.clear(),at=0}this.get=(...Gt)=>{let qt=ne.get(...Gt);qt||(qt=Symbol(),ne.set(...Gt,qt),we.set(qt,Gt)),Le.delete(qt);const Ut=O?O(...Gt):qt;let rn=ie.get(Ut);return rn?(Me.delete(rn),at&&!Me.size&&(clearTimeout(at),at=0)):(rn={key:Ut,clients:new Set,resource:c(...Gt)},ie.set(Ut,rn)),rn.clients.add(qt),Te.set(qt,rn),rn.resource},this.release=(...Gt)=>{const qt=ne.get(...Gt);if(!qt)return;const Ut=Te.get(qt);Ut&&(Ut.clients.delete(qt),Te.delete(qt),O&&ne.delete(...Gt),Le.add(qt),Ut.clients.size||(Me.add(Ut),at||(at=setTimeout(Ft,X))))},this.destroy=()=>{ne.forEach((Gt,...qt)=>{this.release(...qt)}),Ft()}}}class Fo extends Ot{constructor(s,g){super(g),d(this,"source",void 0),d(this,"data",void 0),d(this,"levels",void 0),d(this,"format",void 0),d(this,"sizeDynamic",void 0),d(this,"dynamic",void 0),d(this,"valid",void 0),d(this,"update",void 0);const c=new ve(s,g);Object.defineProperties(this,{source:{value:c.source,writable:!1},data:{value:c.data,writable:!1},levels:{value:c.levels,writable:!1},format:{value:c.format,writable:!1},width:{get:()=>c.width},height:{get:()=>c.height},sizeDynamic:{get:()=>c.sizeDynamic},dynamic:{get:()=>c.dynamic},valid:{get:()=>c.valid}}),c.on("resize",()=>{this.emit("resize",{texture:this})}),c.on("update",()=>{this.emit("update",{texture:this})}),c.on("destroy",()=>{this.emit("destroy",{texture:this})}),this.update=c.update;const O=this.destroy;this.destroy=()=>{c.destroy(),O()}}}const ss=Ni(()=>ls("texture")),oa=typeof createImageBitmap<"u",Ca=[{format:"bc1-rgba-unorm",fileExtension:"dds",fileNamePostfix:"-dxt1.dds"},{format:"pvrtc-rgb4unorm",fileExtension:"pvr",fileNamePostfix:"-pvrtc.pvr"},{format:"etc2-rgb8unorm",fileExtension:"pvr",fileNamePostfix:"-etc1.pvr"}];class xe extends ae{constructor(s){super(),d(this,"get",void 0),d(this,"release",void 0);const{timeout:g,...c}=s,O=new WeakMap,X=new go({key:(ne,we)=>we,create:(ne,we)=>{const Te=(Me=C(function*(Le,at){const{textureFormats:Ft,server:Gt,...qt}=at||{};if(Gt?.loadImage){const Rn=yield Gt.loadImage(Le);if(Rn)return new Fo(Rn,{name:Le,...qt,rowOrder:"bottom-up"})}const Ut=Le.replace(/(\.jpg|\.jpeg|\.png)$/,"");for(let Rn=0;Rn<Ca.length&&Ce;Rn++){const{fileExtension:An,format:Ln,fileNamePostfix:or}=Ca[Rn];if(Ft?.includes(Ln)){const _r=Ut+or;try{const qn=yield Gt.fetch(_r,"texture"),Br=yield qn.blob(),Yr=yield ss({blob:Br,type:An});if(Yr){const{levels:Hr,format:Nr}=Yr;return"top-down"===qt.rowOrder&&console.warn("Compressed textures cannot be flipped"),new Fo(Hr,{name:Le,...qt,rowOrder:"bottom-up",format:Nr})}}catch(qn){console.warn("Failed to load texture",qn)}}}const rn=yield Gt.fetch(Le,"texture"),Un=yield rn.blob();if(oa)try{const Rn="bottom-up"===qt.rowOrder,An=Rn?void 0:"flipY",Ln=yield createImageBitmap(Un,{imageOrientation:An}),or=new Fo(Ln,{name:Le,...qt,rowOrder:Rn?"bottom-up":"top-down"});return or.on("destroy",()=>{Ln.close()}),or}catch{}const Pn=URL.createObjectURL(Un);try{const Rn=yield Pt(Pn),An=new Fo(Rn,{name:Le,rowOrder:qt.rowOrder||"bottom-up",...qt});return An.on("destroy",()=>{URL.revokeObjectURL(Pn)}),An}catch(Rn){console.warn("Failed to load uncompressed texture",Rn),URL.revokeObjectURL(Pn)}return null}),function(Le,at){return Me.apply(this,arguments)})(we,c);var Me;return Te.then(Me=>{O.set(Te,Me),Me&&this.emit("create",{texture:Me})}),Te},release:ne=>{const we=ne?O.get(ne):null;we&&(we.destroy(),O.delete(ne),this.emit("release",{texture:we}))},timeout:g});this.get=X.get,this.release=X.release;const ie=this.destroy;this.destroy=()=>{X.destroy(),ie()}}}const vt=[{format:"astc-6x6-hdr",fileNamePostfix:"-astc-6x6-hdr.pvr"},{format:"bc6h-rgb-ufloat",fileNamePostfix:"-bc6h.ktx2"},{format:"rgb9e5ufloat",fileNamePostfix:"-rgb9e5.pvr"},{format:"rgba16float",fileNamePostfix:"-rgbd.pvr"}],Nn=function(){var h=C(function*(s,g,c=(O=>O.replace(/.*\.([\w\d]+)$/,"$1"))(g)||"pvr"){const O=yield s.fetch(g,"image-light"),X=yield O.blob(),ie=yield ss({blob:X,type:c}),{faces:ne,format:we}=ie;if(!ne||6!==ne.length)throw new Error("Cube maps need exactly six faces.");return new ge(ne,{name:g,format:we})});return function(g,c){return h.apply(this,arguments)}}();class Ze extends ae{constructor(s){super(),d(this,"get",void 0),d(this,"release",void 0);let g=!1;const{server:c,timeout:O,textureFormats:X}=s,ie=new WeakMap,ne=new go({create:Te=>{const Me=(Le=C(function*(at,Ft,Gt){const qt=yield Promise.all(["specular","diffuse-irradiance"].map(function(){var Un=C(function*(Pn){const Rn=`/content/states/${Ft.replace(/\.hdr$/,"")}-${Pn}`;for(let An=0;An<vt.length;An++){const{format:Ln,fileNamePostfix:or}=vt[An];try{if(Gt.includes(Ln))return yield Nn(at,Rn+or)}catch(_r){console.warn("Failed to load environment light image",_r)}}return null});return function(Pn){return Un.apply(this,arguments)}}())),[Ut,rn]=qt;return Ut&&rn?{specularTexture:Ut,irradianceTexture:rn}:(console.warn("Missing image-based light component"),null)}),function(at,Ft,Gt){return Le.apply(this,arguments)})(c,Te,X);var Le;return Me.then(Le=>{if(g)throw Le?.irradianceTexture.destroy(),Le?.specularTexture.destroy(),new Error("Canceled loading image light textures.");ie.set(Me,Le),this.emit("create",Le)}),Me},release:Te=>{const Me=Te?ie.get(Te):null;Me&&(Me.irradianceTexture.destroy(),Me.specularTexture.destroy(),ie.delete(Te),this.emit("release",Me))},timeout:O});this.get=ne.get,this.release=ne.release;const we=this.destroy;this.destroy=()=>{g=!0,ne.destroy(),we()}}}class Tn{constructor(){d(this,"loadReflections",void 0),d(this,"loadObjectGeometry",void 0),d(this,"createParticleSystem",void 0),d(this,"loadTweenLibraries",void 0),d(this,"loadTransform",void 0),d(this,"getAssetLibrary",void 0),d(this,"loadImageLight",void 0)}}class vr extends ae{constructor(s,g,c){let O=!1;super(),d(this,"contentNode",void 0),d(this,"environmentNode",void 0),d(this,"anatomySceneGraph",void 0),d(this,"materials",void 0),d(this,"activeChapter",void 0),d(this,"activeChapterIndex",void 0),d(this,"module",void 0),d(this,"chapters",void 0),d(this,"server",void 0),d(this,"camera",void 0),d(this,"cameraController",void 0),d(this,"particleSystemDefs",void 0),d(this,"variants",void 0),d(this,"playBackRate",void 0),d(this,"activateChapter",void 0),d(this,"createChapter",void 0),d(this,"start",void 0),d(this,"stop",void 0),d(this,"update",void 0),this.server=s,this.contentNode=new Ue({scale:[ht,ht,ht],name:"BioDigitalStory content",rotationSource:"euler"}),this.environmentNode=new Ue({scale:[ht,ht,ht],name:"BioDigitalStory environment",rotationSource:"euler"});const{camera:X,textureFormats:ie,baseUrl:ne,loadAllMorphs:we,...Te}=c||{};this.camera=X||new cr,this.cameraController=new It(this.camera),X||this.environmentNode.add(this.camera);let Me=1,Le=-1,at=null,Ft=!1,Gt=null;this.module=g;const qt=this.materials=new Map,Ut=new xe({server:s,textureFormats:ie}),rn=new Ze({server:s,textureFormats:ie}),Un=Vi(s,"transform"),Pn=D((Ii,Tr,vi)=>s.getAssetLibrary(c?.baseUrl||"",Ii,Tr,vi)),Rn={baseUrl:ne,server:s,textureCache:Ut,getAssetLibrary:Pn},An=Vi(s,"material",function(){var Ii=C(function*(Tr,vi){const po=yield vn(Tr,vi,Rn);return qt.set(vi,po),po.on("destroy",()=>qt.delete(vi)),po});return function(Tr,vi){return Ii.apply(this,arguments)}}()),Ln=D(Ii=>je(Pn,ne||"",Ii,s)),or=D(function(Ii,Tr){const vi=Vi(Ii,"geometry"),po=Vi(Ii,"morph");return function(){var la=C(function*(Zs,As){const La=[vi(Zs,Tr).catch(Za=>(console.error("Error loading geometry "+Zs,Za),null))];As&&La.push(po(As,Tr).catch(Za=>(console.error("Error loading morph "+As,Za),null)));const ka=yield Promise.all(La);return ka?.[0]?function ws(h,s){return Jo.apply(this,arguments)}({geometryId:Zs,morphId:As,buffers:{geometry:ka[0],morph:ka[1]||null}},Tr):null});return function(Zs,As){return la.apply(this,arguments)}}()}(s,Te));let _r=null;const qn=new Set;this.particleSystemDefs=new xt(g.customData?.particleSystems?.map(Ii=>[Ii.id,Ii]));const Br=Ii=>{qn.delete(Ii.node),Ii.node.off("destroy",Br),!qn.size&&_r&&(_r.destroy(),_r=null)},Yr=(Ii,Tr)=>{const vi=g.variantSchemas?.[Ii];if(!vi)throw new Error(`Missing variant schema '${Ii}'`);const po=vi.themes[Tr];if(!po)throw new Error(`Invalid index for variant schema '${Ii}'`);for(const la in po.objectVariants)if(Object.prototype.hasOwnProperty.call(po.objectVariants,la)){const Zs=po.objectVariants[la],As=this.anatomySceneGraph.anatomyObjects.get(la);As&&(As.variant=Zs)}};let Hr=null;const Nr={loadReflections:(Ii=C(function*(Tr){const vi={lightMap:null,reflectionMap:null};return yield Promise.all(["lightMap","reflectionMap"].map(function(){var po=C(function*(la){const Zs=Tr?.[la],As=Zs?.[0];if(As)try{vi[la]=yield Ln(As)}catch(La){console.error("Error loading reflection map: "+la,La)}});return function(la){return po.apply(this,arguments)}}())),vi}),function(vi){return Ii.apply(this,arguments)}),loadObjectGeometry:or,createParticleSystem:Ii=>{let Tr=null;const vi={...Rn,loadMaterial:An};return de?(_r||(_r=new ys),Tr=new qo(Ii,_r,vi)):Tr=new xo(Ii,vi),qn.add(Tr),Tr.on("destroy",Br),Tr},loadTweenLibraries:()=>{if(!Hr)if(g.assetLibraries?.tweens){const Ii={};Hr=Promise.all(g.assetLibraries.tweens.map(Tr=>s.getAssetLibrary(ne||"","animations",Tr,"manifest").then(vi=>{Ii[Tr]=vi}).catch(vi=>{console.error("Error loading tween library: "+Tr,vi)}))).then(()=>Ii)}else Hr=Promise.resolve({});return Hr},loadTransform:Un,getAssetLibrary:Pn,loadImageLight:Ii=>rn.get(Ii)},bi=new Set(g.chapters.map(Ii=>Ii.timelineMap?.map(({data:Tr})=>Tr.timeline)).reduce((Ii,Tr)=>Tr?[...Ii,...Tr]:Ii,[]));var Ii;this.anatomySceneGraph=new ho(g,{loadTransform:Nr.loadTransform,loadObjectGeometry:Nr.loadObjectGeometry,loadMaterial:An,timelineIds:bi,loadAllMorphs:we,materialOptions:Rn}),this.variants=new xt(Object.entries(g.variantSchemas||{}).map(([Ii,Tr])=>[Ii,Tr.defaultSelection||0])),this.variants.on("change",Ii=>{Yr(Ii,this.variants.get(Ii)??0)}),this.variants.forEach((Ii,Tr)=>{Yr(Tr,Ii)});const gi=[],xi=new Set,Fr=Ii=>{Ii.deactivate(),this.contentNode.remove(Ii.contentNode),this.environmentNode.remove(Ii.environmentNode)},Si=new rs,ki=Ii=>{Si.dec(Ii)||(at===Ii&&(this.anatomySceneGraph.sceneNode.parent=null,Fr(Ii),at=null,Le=-1),Ii.index=-1)},Mo=new ce(gi,{deleteProperty:(Ii,Tr)=>(ki(Ii[Tr]),Ii[Tr]=void 0,!0),set:(Ii,Tr,vi)=>{if(vi===Ii[Tr])return!0;if(!vi||Tr>Ii.length)throw new Error("Missing elements in chapters array is not allowed");if(!xi.has(vi))throw new Error("Attempt to insert invalid chapter into array");const po=Ii[Tr];return Ii[Tr]=vi,vi.index=Tr,Si.inc(vi),po&&ki(po),at===vi&&(Le=Tr),!0}}),bo=Ii=>{const Tr=gi[Ii];if(Tr===at)return Le=Ii,void(at=Tr);const vi=Le>=0&&gi[Le]||null;vi&&(Fr(vi),this.contentNode.remove(vi.contentNode),this.environmentNode.remove(vi.environmentNode)),Tr?(this.contentNode.add(this.anatomySceneGraph.sceneNode),this.contentNode.add(Tr.contentNode),this.environmentNode.add(Tr.environmentNode),Le=Ii,at=Tr,Tr.activate(),Ft&&Tr.start()):(this.contentNode.remove(this.anatomySceneGraph.sceneNode),Le=-1,at=null),vi!==Tr&&this.emit("changechapter",Le)};this.activateChapter=function(){var Ii=C(function*(Tr){if(!(Tr>=0)||Tr>=gi.length)throw new Error(`BioDigitalStory: chapter index ${Tr} not found.`);const vi=gi[Tr];return Gt=vi,yield vi.load(),O||Gt!==vi||bo(vi.index),vi});return function(Tr){return Ii.apply(this,arguments)}}(),this.createChapter=(Ii,Tr=gi.length)=>{if(Tr>gi.length)throw new Error("Missing elements in chapters array is not allowed.");const vi=new Yi(this,Ii,Nr,Tr);return vi.on("destroy",()=>{const po=gi.indexOf(vi);po>=0&&this.chapters.splice(po,1),xi.delete(vi)}),xi.add(vi),this.chapters.splice(Tr,0,vi),Tr},this.start=()=>{Ft||(Ft=!0,at?.start())},this.stop=()=>{Ft&&(Ft=!1,at?.stop())},this.update=Ii=>{at?.update(Ii)};const Qo=this.destroy;this.destroy=()=>{O||(this.stop(),O=!0,Le=-1,gi.length=0,xi.forEach(Ii=>Ii.destroy()),qn.forEach(Ii=>Ii.destroy()),qn.clear(),this.particleSystemDefs.destroy(),this.variants.destroy(),_r&&(_r.destroy(),_r=null),this.anatomySceneGraph.destroy(),X||this.camera.destroy(),qt.forEach(Ii=>Ii.destroy()),qt.clear(),Ut.destroy(),rn.destroy(),this.emit("destroy"),Qo())},Object.defineProperties(this,{chapters:{writable:!1,value:Mo},playBackRate:{get:()=>Me,set:Ii=>{if(Ii<=0)throw new Error("Negative or zero playback rate not supported");Me=Ii,qn.forEach(Tr=>Tr.playBackRate=Me)}},activeChapterIndex:{get:()=>Le},activeChapter:{get:()=>at}}),g.chapters.forEach((Ii,Tr)=>{this.createChapter(Ii,Tr)})}}class _i extends ae{constructor(s=null){super(),d(this,"root",void 0),d(this,"has",void 0),d(this,"size",void 0);const g=new Set,{emit:c}=this;function O(Te){Te.parent&&g.has(Te.parent)||ne(Te.node)}function X(Te){ie(Te.child)}function ie(Te){Te&&!g.has(Te)&&(Te.on("parent",O),Te.on("add",X),g.add(Te),Te.children.forEach(ie),c("add",Te))}function ne(Te){Te&&g.has(Te)&&!g.has(Te.parent)&&(Te.off("parent",O),Te.off("add",X),g.delete(Te),Te.children.forEach(ne),c("remove",Te))}Object.defineProperties(this,{root:{get:()=>s,set:Te=>{Te!==s&&(ne(s),ie(s=Te))}},size:{get:()=>g.size}}),this.has=Te=>g.has(Te);const we=this.destroy;this.destroy=()=>{this.root=null,we()},ie(s)}}class ao{constructor(s={}){d(this,"dirty",void 0),d(this,"sortDirty",void 0),d(this,"filterDirty",void 0),d(this,"size",void 0),d(this,"filteredSize",void 0),d(this,"queued",void 0),d(this,"has",void 0),d(this,"add",void 0),d(this,"delete",void 0),d(this,"update",void 0),d(this,"dirtySort",void 0),d(this,"dirtyFilter",void 0),d(this,"clear",void 0),d(this,Symbol.iterator,void 0);const{sort:g,sortCallback:c,filter:O,autoUpdate:X=!0}=s,ie=new Set,ne=new Set,we=[];let Te=!1,Me=!1;this.has=Le=>ie.has(Le),this.queued=Le=>(X&&this.update(),ne.has(Le)),this.add=Le=>{ie.has(Le)||(ie.add(Le),O&&!O(Le)||(we.push(Le),ne.add(Le),Te=!0))},this.delete=Le=>{ie.has(Le)&&(ie.delete(Le),ne.delete(Le))},this.update=(...Le)=>{if(O&&Me)for(const at of ie)O(at,...Le)?ne.has(at)||(we.push(at),ne.add(at),Te=!0):ne.delete(at);for(let at=we.length-1;at>=0&&we.length>ne.size;at--){const Ft=we[at];ie.has(Ft)&&ne.has(Ft)||we.splice(at,1)}Me=!1,Te&&(g?g(we,...Le):c&&we.sort(c),Te=!1)},this[Symbol.iterator]=()=>(X&&this.update(),we[Symbol.iterator]()),this.dirtySort=()=>{Te=!0},this.dirtyFilter=()=>{Me=!0},this.clear=()=>{ie.clear(),ne.clear(),we.length=0,Te=!1,Me=!1},Object.defineProperties(this,{dirty:{get:()=>Te||Me},sortDirty:{get:()=>Te},filterDirty:{get:()=>Me},size:{get:()=>ie.size},filteredSize:{get:()=>(X&&this.update(),ne.size)}})}}function gs(h,s){if(!h)return 0;const g=h?.attributes?.position?.data?.length||0,{indices:c}=h;if(c&&(!1!==s||h.count!==c.length)){const O=new Set;for(let X=h.offset,ie=h.offset+h.count;X<ie;X++)O.add(c[X]);return O.size}return Math.min(g/3,h.count)}const ds=E(30559),us=6408,na=5120,bs=5121,Ho=5122,$o=5123,no=5124,Do=5125,Ls=5126,va=36249,Qs=33319,ha=33320,Ps=36244,Oa={bool:35670,int:no,uint:Do,float:Ls,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676},Dl=h=>Array.isArray(h)?h:[h],Ga=/^\s*uniform(?:\s+(lowp|mediump|highp))?\s+([\w_][\w\d_]+)\s+([\w_][\w\d_]+)(?:\[((?:0x)?\d)+u?\])?;$/i;let _s=function(h){return h.vert="vert",h.frag="frag",h}({});function nl(h,s,g){const{joinShader:c,...O}=g||{},X={vert:new Map,frag:new Map},ie={vert:{extensions:[],declare:[],main:[]},frag:{extensions:[],declare:[],main:[]}},ne={};function we(qt){return(Ut,rn,Un)=>Me(Un||qt,Ut,rn)}const Te={vert:we(_s.vert),frag:we(_s.frag)};function Me(qt,Ut,rn){const Un=isNaN(rn)?Ut:`${Ut}[${rn}]`;if(X[qt].has(Un))return X[qt].get(Un)||"key";let Pn=h[Ut];if(!Pn)throw new Error(`Unknown reference: '${Ut}'`);"function"==typeof Pn&&(Pn=Pn(qt,rn,O,Te[qt])||{}),"string"==typeof Pn&&(Pn={declare:[Pn]});const Rn=Pn.symbol||Un;if(X[qt].set(Un,Rn),Pn.requires&&Dl(Pn.requires).forEach(An=>{An!==Ut&&Me(qt,An)}),Pn.extensions){const An=Dl(Pn.extensions);ie[qt].extensions.push(...An)}if(Pn.declare&&Dl(Pn.declare).forEach(An=>{"string"==typeof An&&(An={define:An});const{define:Ln,type:or,..._r}=An,qn=Ln&&Ga.exec(Ln),Br=An.uniform||qn&&qn[3];if(Br){const Yr=void 0!==An.count?An.count:qn&&qn[4]?parseInt(qn[4]):1,Hr=or||qn&&qn[2];ne[Br]={name:Br,..._r,count:Yr,typeName:Hr},"string"==typeof Hr&&Oa[Hr]&&(ne[Br].type=Oa[Hr])}Ln&&ie[qt].declare.push(Ln)}),Pn.main){const An=Dl(Pn.main);ie[qt].main.push(...An)}return Rn}const Le=s(_s.vert,Te.vert),at=s(_s.frag,Te.frag),Ft=Dl(Le),Gt=Dl(at);return ie.vert.main.push(...Ft),ie.frag.main.push(...Gt),{vert:c(ie.vert),frag:c(ie.frag),uniforms:ne}}const Kc={webGlVersion:2,precision:"highp",textureLODext:!1};function _l(h,s,g){return(c,O,X)=>({declare:`${X?.webGlVersion>=2?void 0!==g?`layout(location = ${g}) in`:"in":"attribute"} ${h} ${s};`,symbol:s})}function Xc(h){return h.replace(/^(\w)/,s=>"v"+s.toUpperCase())}function dl(h,s,g,c,O){const X=c?.webGlVersion>=2?h===_s.frag?"in":"out":"varying";return void 0===O&&/^((u?int)|ivec[2-4])$/.test(s)&&(O="flat"),O&&(O+=" "),`${O||""}${X} ${s} ${g};`}function ra(h,s,g=Xc(s),c){return function(O,X,ie,ne){const we=isNaN(X)?g:g+X;return O===_s.frag?{declare:[dl(O,h,we,ie,c)],symbol:ne(g,X,_s.vert)}:{declare:[dl(O,h,we,ie,c)],main:[`${we} = ${ne(s,X)};`]}}}const Yc={uint:"x",int:"x",float:"r",vec2:"rg",vec3:"rgb",vec4:"rgba"},Dc={};function ad(h){const s=`sampleBatchMatrix${h}`,g="vec"+h,c=Yc[g];return{[s]:`mat${h} ${s}(sampler2D sampler, uint index, uint offset) {\n\t\t\t\t${rr(h,O=>`\n\t\t\t\t\tivec2 coord${O} = ivec2(offset + ${O}u, index);\n\t\t\t\t\t${g} row${O} = texelFetch(sampler, coord${O}, 0).${c};\n\t\t\t\t`).join("\n")}\n\t\t\t\treturn mat${h}(${rr(h,O=>"row"+O).join(", ")});\n\t\t\t}`}}function es(h,s,g=!0,c=s,O){const X=/^mat([2-4])$/.exec(h),ie=/\[\d+\]$/.test(s),ne=X&&parseInt(X[1],10),we=g?"MaterialSampler":"ModelSampler",Te=X?`vec${ne}${we}`:h+we,Me=c+"SamplerOffset",Le=s.replace(/\[\d+\]$/,"");return O||(O=Xc(Le)),{[O]:ra(h,Le,O),[Me]:{declare:{define:`uniform uint ${Me};`,samplerOffsetTarget:c}},[c]:(at,Ft,Gt,qt)=>{const Ut=isNaN(Ft)||ie?Le:Le+Ft,rn=ie?s:Ut;if(Gt?.multiDraw&&(!g||Gt?.multiMaterial)){if(X){if(at===_s.frag)return{symbol:qt(O,Ft)};const Pn=qt(g?"materialId":"gl_DrawID");return{declare:{uniform:rn,type:h,multiDraw:g?"material":"model"},main:`${h} ${Ut} = ${qt(`sampleBatchMatrix${ne}`)}(${qt(Te)}, ${Pn}, ${qt(Me)});`}}const Un=qt(g?"materialSampleOffset":"modelSampleOffset");return{declare:{uniform:rn,type:h,multiDraw:g?"material":"model"},symbol:`texelFetch(${qt(Te)}, ivec2(${qt(Me)}, ${Un}), 0).${Yc[h]}`}}return{declare:`uniform ${h} ${rn};`,symbol:Ut}}}}Object.keys(Yc).forEach(h=>{const s=h+"ModelSampler";Dc[s]=`uniform sampler2D ${s};`;const g=h+"MaterialSampler";Dc[g]=`uniform sampler2D ${g};`});const Xl={vDrawId:ra("uint","gl_DrawID","vDrawId","flat"),gl_DrawID:(h,s,g,c)=>g?.multiDraw?h===_s.frag?{symbol:c("vDrawId")}:{extensions:"#extension GL_ANGLE_multi_draw : require",symbol:"uint(gl_DrawID)"}:{symbol:"0"},vMaterialId:ra("uint","materialId","vMaterialId","flat"),materialId:(h,s,g,c)=>g?.multiDraw?h===_s.frag?{symbol:c("vMaterialId")}:{declare:"uniform mediump usampler2D materialId;",symbol:`texelFetch(materialId, ivec2(0, ${c("modelSampleOffset")}), 0).x`}:{symbol:"0"},vModelSampleOffset:ra("uint","modelSampleOffset"),modelSampleOffset:(h,s,g,c)=>h===_s.frag?{symbol:c("vModelSampleOffset")}:{main:[`uint modelSampleOffset = ${c("gl_DrawID")};`]},vMaterialSampleOffset:ra("uint","materialSampleOffset"),materialSampleOffset:(h,s,g,c)=>h===_s.frag?{symbol:c("vMaterialSampleOffset")}:{symbol:c("materialId")},...Dc,...ad(2),...ad(3),...ad(4)};let ue=function(h){return h.add="add",h.multiply="multiply",h}({});const Ie={baseColorFresnel:!1,baseColorFresnelBlendMode:ue.multiply,opacityFresnel:!1,opacityFresnelBlendMode:ue.multiply};function Je(h,s,g){return(c,O,X,ie)=>{const ne="float"===s?"":".rgb",we="add"===X[h+"BlendMode"]?"+":"*",Te=`${h}BiasEdge`,Me=`${h}BiasCenter`,Le=`${h}Power`,at=`${h}Edge`,Ft=`${h}Center`;return`${s} ${g}(${s} value, vec3 eyeDir, vec3 viewNormal) {\n\t\t\tfloat amount = ${ie("fresnel")}(eyeDir, viewNormal, ${ie(Te)}, ${ie(Me)}, ${ie(Le)});\n\t\t\treturn value${ne} ${we} mix(${ie(at)}${ne}, ${ie(Ft)}${ne}, amount);\n\t\t}`}}function Se(h,s){const g="float"===s?`${h}Value`:`${h}Color`;return{[g]:Je(h,s,g),...es(s,h+"Center"),...es(s,h+"Edge"),...es("float",h+"BiasCenter"),...es("float",h+"BiasEdge"),...es("float",h+"Power")}}const yt={...Se("baseColorFresnel","vec3"),...Se("opacityFresnel","float"),fresnel:"float fresnel(vec3 eyeDir, vec3 normal, float edgeBias, float centerBias, float power) {\n\t\tfloat fr = abs(dot(eyeDir, normal));\n\t\tfloat finalFr = clamp((fr - edgeBias) / (centerBias - edgeBias), 0.0, 1.0);\n\t\treturn pow(finalFr, power);\n\t}"},yn={modifiers:[]},jn={...yt,...es("vec3","modifierCenter",!1),...es("vec2","modifierRadius",!1),...es("vec3","modifierColorValue",!1),...es("float","modifierValue",!1),...es("vec3","modifierFresnelCenter",!1),...es("vec3","modifierFresnelEdge",!1),...es("float","modifierFresnelBiasCenter",!1),...es("float","modifierFresnelBiasEdge",!1),...es("float","modifierFresnelPower",!1),modifierFactor:(h,s,g,c)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${c("worldPosition")} - ${c("modifierCenter",s)}) - ${c("modifierRadius",s)}.x) /\n\t\t\t\t${c("modifierRadius",s)}.y\n\t\t, 0.0, 1.0)`})},qr={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function Ji(h,s){const g=(h.priority||0)-(s.priority||0);if(g)return g;const c=(qr[h.applyTo]||1/0)-(qr[s.applyTo]||1/0);if(c)return c;const O="range"in h,X="range"in s;return O!==X?Number(O)-Number(X):+("fresnel"in h)-+("fresnel"in s)}const Di=h=>(s,g,c)=>`{\n\t\t\t${s.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${c("fresnel")}(${c("surfaceToView")}, ${c("texturedViewNormal")}, ${c("modifierFresnelBiasEdge",g)}, ${c("modifierFresnelBiasCenter",g)}, ${c("modifierFresnelPower",g)});\n\t\t\t\tfloat value = mix(${c("modifierFresnelEdge",g)}.r, ${c("modifierFresnelCenter",g)}.r, fresnelAmount);\n\t\t\t`:`float value = ${c("modifierValue",g)};`}\n\t\t\t${s.range?`\n\t\t\t\tfloat modifierFactor = ${c("modifierFactor",g)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${h}\n\t\t}`,Wo={tintColor:(h,s,g)=>`{\n\t\t\t${h.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",s)}, ${g("modifierFresnelBiasCenter",s)}, ${g("modifierFresnelPower",s)});\n\t\t\t\tvec3 tintColor = mix(${g("modifierFresnelEdge",s)}.rgb, ${g("modifierFresnelCenter",s)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${g("modifierColorValue",s)};`}\n\t\t\t${h.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",s)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(h,s,g)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${h.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",s)}, ${g("modifierFresnelBiasCenter",s)}, ${g("modifierFresnelPower",s)});\n\t\t\t\tfloat saturation = mix(${g("modifierFresnelEdge",s)}.r, ${g("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${g("modifierValue",s)};`}\n\t\t\t${h.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",s)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:Di("fragColor.a *= value;"),contrast:Di("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(h,s,g)=>`{\n\t\t\t${h.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",s)}, ${g("modifierFresnelBiasCenter",s)}, ${g("modifierFresnelPower",s)});\n\t\t\t\tfloat brightness = mix(${g("modifierFresnelEdge",s)}.r, ${g("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${g("modifierValue",s)};`}\n\t\t\t${h.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",s)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`};function $s(h,s){return s.modifiers?.map((g,c)=>{if("opacity"!==g.applyTo){const O=Wo[g.applyTo];if(O)return O(g,c,h,s);console.warn("modifier not implemented",g.applyTo)}return""}).join("\n\t")}function xs(h,s){return s.modifiers?.map((g,c)=>"opacity"===g.applyTo?(0,Wo[g.applyTo])(g,c,h,s):"").join("\n\t")}function ia(h,s){return(0,v.dot)(h,s)+h[3]}function ea(h,s=h){let g=(0,v.length)(h);return g>0&&(g=1/g),(0,Lo.scale)(s,h,g),s}function ma(h,s){const g=s[0],c=s[1],O=s[2],X=s[3],ie=s[4],ne=s[5],we=s[6],Te=s[7],Me=s[8],Le=s[9],at=s[10],Ft=s[11],Gt=s[12],qt=s[13],Ut=s[14],rn=s[15];ea((0,Lo.set)(h[0],X-g,Te-ie,Ft-Me,rn-Gt)),ea((0,Lo.set)(h[1],X+g,Te+ie,Ft+Me,rn+Gt)),ea((0,Lo.set)(h[2],X+c,Te+ne,Ft+Le,rn+qt)),ea((0,Lo.set)(h[3],X-c,Te-ne,Ft-Le,rn-qt)),ea((0,Lo.set)(h[4],X-O,Te-we,Ft-at,rn-Ut)),ea((0,Lo.set)(h[5],X+O,Te+we,Ft+at,rn+Ut))}function uc(h,s,g,c,O=0,X=0){const ie=c*c;let ne=0;for(let we=0;we<3;we++){const Te=g[we],Me=Math.max(h[we+O],Math.min(s[we+X],Te))-Te;if(ne+=Me*Me,ne>ie)return-1/0}return Math.sqrt(ne)}function Ka(h,s,g){return h&&g>=0?uc(h.min,h.max,s,g):-1/0}const ul={...Kc,multiDraw:!1,multiMaterial:!1,topology:ut.triangles,quantizedPositions:!1,octNormals:!1,quantizedUVs:!1,vertexColors:!1,morphTarget:!1,normals:!0,tangents:!1},xd={...es("mat4","modelMatrix",!1),...es("mat4","normalMatrix",!1),...es("mat4","decodePositions",!1),...es("mat3","decodeUVs",!1),...es("float","morphFactor",!1),...es("mat4","decodeMorphPositions",!1),"attr:position":_l("vec3","position",0),"attr:normal":_l("vec3","normal",1),"attr:tangent":_l("vec3","tangent",4),"attr:color":_l("vec4","color",3),"attr:texcoord":_l("vec2","texcoord",2),"attr:morphPosition":_l("vec3","morphPosition"),"attr:morphNormal":_l("vec3","morphNormal"),"attr:morphTangent":_l("vec3","morphTangent"),vModelPosition:ra("vec3","modelPosition"),modelPosition(h,s,g,c){if(h===_s.frag)return{symbol:c("vModelPosition")};const O=g?.quantizedPositions,X=[`vec3 modelPosition = ${O?`${c("transformMat4")}(${c("decodePositions")}, ${c("attr:position")})`:c("attr:position")};`];return g.morphTarget&&X.push(`vec3 morphModelPosition = ${O?`${c("transformMat4")}(${c("decodeMorphPositions")}, ${c("attr:morphPosition")})`:c("attr:morphPosition")};`,`modelPosition = mix(modelPosition, morphModelPosition, ${c("morphFactor")});`),{main:X}},vNormal:ra("vec3","normal"),normal(h,s,g,c){if(!g.normals)return{symbol:"vec3(0.0)"};if(h===_s.frag)return{main:[`vec3 normal = normalize(${c("vNormal")});`]};const O=g?.octNormals,X=[O?`vec3 decodedNormal = ${c("octDecode")}(${c("attr:normal")}.xy);`:`vec3 decodedNormal = ${c("attr:normal")};`];return g.morphTarget&&X.push(O?`vec3 decodedMorphNormal = ${c("octDecode")}(${c("attr:morphNormal")}.xy);`:`vec3 decodedMorphNormal = ${c("attr:morphNormal")};`,`decodedNormal = mix(decodedNormal, decodedMorphNormal, ${c("morphFactor")});`),X.push(`vec3 modelNormal = ${c("transformMat4")}(${c("normalMatrix")}, decodedNormal);`),{main:X,symbol:"modelNormal"}},vTangent:ra("vec3","tangent"),tangent:(h,s,g,c)=>h===_s.frag?{main:[`vec3 tangent = ${c("vTangent")};`]}:{main:g.morphTarget?`vec3 modelTangent = mix(${c("attr:tangent")}, ${c("attr:morphTangent")}, ${c("morphFactor")});`:`vec3 modelTangent = ${c("attr:tangent")};`,symbol:"modelTangent"},vTexCoord:ra("vec2","texCoord"),texCoord:(h,s,g,c)=>h===_s.frag?{symbol:c("vTexCoord")}:{main:[`vec2 texCoord = ${g?.quantizedUVs?`(${c("decodeUVs")} * vec3(${c("attr:texcoord")}, 1.0)).uv`:c("attr:texcoord")};`]},vVertexColor:ra("vec4","vertexColor"),vertexColor:(h,s,g,c)=>h===_s.frag?{symbol:c("vVertexColor")}:{symbol:c("attr:color")},octDecode:"vec3 octDecode(vec2 oct) {\n\t\tvec3 v = vec3(oct.xy, 1.0 - abs(oct.x) - abs(oct.y));\n\t\tif (v.z < 0.0) {\n\t\t\tv.xy = (1.0 - abs(v.yx)) * vec2(v.x >= 0.0 ? 1.0 : -1.0, v.y >= 0.0 ? 1.0 : -1.0);\n\t\t}\n\t\treturn normalize(v);\n\t}"},Tc={screenResolution:"uniform vec2 screenResolution;",viewIndex(h,s,g){if(h!==_s.vert)throw new Error("multiview viewIndex only allowed in vertex shader");return g.multiView?{extensions:["#extension GL_OVR_multiview : require"],declare:"layout(num_views=2) in;",symbol:"gl_ViewID_OVR"}:"0"},projectionMatrixArray:"uniform mat4 projectionMatrix[2];",projectionMatrix:(h,s,g,c)=>g.multiView?{requires:"projectionMatrixArray",symbol:`projectionMatrix[${c("viewIndex")}]`}:"uniform mat4 projectionMatrix;",viewMatrixInverseArray:"uniform mat4 viewMatrixInverse[2];",vViewMatrixInverse:ra("mat4","viewMatrixInverse","vViewMatrixInverse"),viewMatrixInverse:(h,s,g,c)=>g.multiView?h===_s.vert?{requires:"viewMatrixInverseArray",symbol:`viewMatrixInverse[${c("viewIndex")}]`}:{symbol:c("vViewMatrixInverse")}:"uniform mat4 viewMatrixInverse;",cameraPositionArray:"uniform vec3 cameraPosition[2];",vCameraPosition:ra("vec3","cameraPosition","vCameraPosition"),cameraPosition:(h,s,g,c)=>g.multiView?h===_s.vert?{requires:"cameraPositionArray",symbol:`cameraPosition[${c("viewIndex")}]`}:{symbol:c("vCameraPosition")}:"uniform vec3 cameraPosition;",viewMatrixArray:"uniform mat4 viewMatrix[2];",vViewMatrix:ra("mat4","viewMatrix","vViewMatrix"),viewMatrix:(h,s,g,c)=>g.multiView?h===_s.vert?{requires:"viewMatrixArray",symbol:`viewMatrix[${c("viewIndex")}]`}:{symbol:c("vViewMatrix")}:"uniform mat4 viewMatrix;"},vl={...ul,multiView:!1,...Kc},Su={...xd,...Tc,...Xl,...es("mat4","modelViewMatrix[2]",!1,"modelViewMatrixArray"),vModelViewMatrix:ra("mat4","modelViewMatrix","vModelViewMatrix"),modelViewMatrixSamplerOffset:(h,s,g)=>g?.multiView?{declare:{define:"uniform uint modelViewMatrixSamplerOffset[2];",samplerOffsetTarget:"modelViewMatrix"}}:{declare:{define:"uniform uint modelViewMatrixSamplerOffset;",samplerOffsetTarget:"modelViewMatrix"}},modelViewMatrix:(h,s,g,c)=>(g?.multiDraw||g?.multiView)&&h===_s.frag?{symbol:c("vModelViewMatrix")}:g?.multiView?g?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model",count:2},main:`mat4 modelViewMatrix = ${c("sampleBatchMatrix4")}(${c("vec4ModelSampler")}, ${c("gl_DrawID")}, ${c("modelViewMatrixSamplerOffset")}[${c("viewIndex")}]);`}:{symbol:`${c("modelViewMatrixArray")}[${c("viewIndex")}]`}:g?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model"},main:`mat4 modelViewMatrix = ${c("sampleBatchMatrix4")}(${c("vec4ModelSampler")}, ${c("gl_DrawID")}, ${c("modelViewMatrixSamplerOffset")});`}:"uniform mat4 modelViewMatrix;",vScreenPosition:ra("vec4","screenPosition"),screenPosition:(h,s,g,c)=>h===_s.frag?{symbol:c("vScreenPosition")}:{main:[`vec4 screenPosition = ${c("projectionMatrix")} * ${c("modelViewMatrix")} * vec4(${c("modelPosition")}, 1.0);`]},vWorldPosition:ra("vec3","worldPosition"),worldPosition:(h,s,g,c)=>h===_s.frag&&g.topology!==ut.points?{symbol:c("vWorldPosition")}:{main:[`vec3 worldPosition = ${c("transformMat4")}(${c("modelMatrix")}, ${c("modelPosition")});`]},vViewPosition:ra("vec3","viewPosition"),viewPosition:(h,s,g,c)=>h===_s.frag?{symbol:c("vViewPosition")}:{main:[`vec3 viewPosition = ${c("transformMat4")}(${c("viewMatrix")}, ${c("worldPosition")});`]},normalizedViewPosition:(h,s,g,c)=>({main:`vec3 normalizedViewPosition = normalize(${c("viewPosition")});`}),vSurfaceToView:ra("vec3","surfaceToView"),surfaceToView:(h,s,g,c)=>h===_s.frag?{main:[`vec3 surfaceToView = normalize(${c("vSurfaceToView")});`]}:{main:[`vec3 surfaceToView = ${c("transformMat4")}(${c("viewMatrix")}, ${c("cameraPosition")}) - ${c("viewPosition")};`]}};let Yl=function(h){return h.opaque="opaque",h.blend="blend",h.test="test",h.hidden="hidden",h}({});const Sc={...vl,alphaMode:Yl.opaque,textureLODext:!1};function Ic(h,s,g="baseColor",c="a"){const O=c?g+"."+c:g;return s.alphaMode===Yl.test?`\n\t\tif (${O} <= 0.0) {\n\t\t\tdiscard;\n\t\t}\n\t\tif (${h("discardOpaque")} && ${O} >= 1.0) {\n\t\t\tdiscard;\n\t\t} else if (!${h("discardOpaque")} && ${O} < 1.0) {\n\t\t\tdiscard;\n\t\t}`:""}const Na={...Su,discardOpaque:"uniform bool discardOpaque;",...es("float","opacity"),ambientLightColor:"uniform vec3 ambientLightColor;",gl_FragColor:(h,s,g)=>g.webGlVersion>=2?{declare:"out vec4 outputFragColor;",symbol:"outputFragColor"}:{symbol:"gl_FragColor"},extStandardDerivatives:(h,s,g)=>g.webGlVersion>=2?{}:{extensions:"#extension GL_OES_standard_derivatives : enable"},texture2D:(h,s,g)=>({symbol:g.webGlVersion>=2?"texture":"texture2D"}),textureCube:(h,s,g)=>({symbol:g.webGlVersion>=2?"texture":"textureCube"}),textureCubeLod:(h,s,g)=>g.webGlVersion>=2?{symbol:"textureLod"}:g?.textureLODext?{extensions:"#extension GL_EXT_shader_texture_lod : enable",symbol:"textureCubeLodEXT"}:{symbol:"textureCube"},PI:"#define PI 3.141592653589793",RECIPROCAL_PI:"#define RECIPROCAL_PI 0.3183098861837907",EPSILON:"#define EPSILON 1e-6",saturate:"#define saturate(a) clamp( a, 0.0, 1.0 )",pow2:"#define pow2(n) (n * n)",pow5:"\n\t\tfloat pow5(float n) {\n\t\t\tfloat n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\tvec3 pow5(vec3 n) {\n\t\t\tvec3 n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\t",transformMat4:"vec3 transformMat4(mat4 m, vec3 v) {\n\t\tvec4 v4 = m * vec4(v, 1.0);\n\t\treturn v4.xyz;\n\t}",isnan:(h,s,g)=>g.webGlVersion>=2?{symbol:"isnan"}:["bool isnan(float val) {\n\t\t\t\treturn !(val < 0.0 || 0.0 < val || val == 0.0);\n\t\t\t}","bvec2 isnan(vec2 v) { return bvec2(isnan(v.x), isnan(v.y)); }","bvec3 isnan(vec3 v) { return bvec3(isnan(v.xy), isnan(v.z)); }","bvec4 isnan(vec4 v) { return bvec4(isnan(v.xyz), isnan(v.w)); }"].join("\n"),isinf:(h,s,g)=>g.webGlVersion>=2?{symbol:"isinf"}:["bool isinf( float val ) {\n\t\t\t\tconst float inf = 1.0/0.0;\n\t\t\t\treturn abs(val) == inf;\n\t\t\t}","bvec2 isinf(vec2 v) { return bvec2(isinf(v.x), isinf(v.y)); }","bvec3 isinf(vec3 v) { return bvec3(isinf(v.xy), isinf(v.z)); }","bvec4 isinf(vec4 v) { return bvec4(isinf(v.xyz), isinf(v.w)); }"].join("\n")};function Rc(h,s,g){if(!h.visible||!h.geometry.count||(h.updateWorldMatrix(),!h.renderable))return Yl.hidden;const{twoPass:c=!1,maxClipDistances:O=0}=g||{},{opacity:X}=h.material,{opaque:ie,blend:ne,hidden:we}=Yl;let Te=Yl.opaque;const Me=!c,Le=Yl.test,at=Me?ne:Le;h.updateWorldBounds();const{min:Ft,max:Gt}=h.worldBounds,qt=_e.get(),Ut=_e.get();for(let An=0,Ln=h.clippable&&s?.length||0;An<Ln;An++){const{plane:or,fade:_r}=s[An];if(Ut[0]=or[0]>0?Gt[0]:Ft[0],Ut[1]=or[1]>0?Gt[1]:Ft[1],Ut[2]=or[2]>0?Gt[2]:Ft[2],ia(or,Ut)<=0)return we;Te===ie&&(_r>0||An>=O)&&(qt[0]=or[0]<0?Gt[0]:Ft[0],qt[1]=or[1]<0?Gt[1]:Ft[1],qt[2]=or[2]<0?Gt[2]:Ft[2],ia(or,qt)<_r&&(Te=at))}_e.release(qt),_e.release(Ut);const{material:rn}=h;let Un=X,Pn=X;if(X<1&&rn instanceof En&&h.geometry.attributes.normal){const{glassFactor:An,murkiness:Ln}=rn,or=An*Ln,_r=An*(Ln-1),qn=Math.min(or,_r),Br=Math.max(or,_r);Un=Math.max(qn,Un),Pn=Math.max(Br,Pn)}if(Te!==at)if(rn instanceof En){for(const An of rn.textures)if("alpha"===An.applyTo||"transparency"===An.applyTo){Te=at,Un=0,Pn=1;break}}else rn.opacityMaps.length&&(Te=at,Un=0,Pn=1);if("transparencyFresnel"in rn&&rn.transparencyFresnel){const{transparencyFresnel:An}=rn;let Ln=1-Pn,or=1-Un;const _r=Math.max(An.center,An.edge),qn=Math.min(An.center,An.edge);if("add"===An.blendMode?(or+=_r,Ln+=qn):(or*=_r,Ln*=qn),Pn=me(1-Ln),Un=me(1-or),0===Pn)return we}if("alphaFresnel"in rn&&rn.alphaFresnel){const{alphaFresnel:An}=rn,Ln=Math.max(An.center,An.edge),or=Math.min(An.center,An.edge);if("add"===An.blendMode?(Pn=me(Pn+Ln),Un=me(Un+or)):(Pn=me(Pn*Ln),Un=me(Un*or)),0===Pn)return we}if("opacityFresnel"in rn&&rn.opacityFresnel){const{opacityFresnel:An}=rn,Ln=Math.max(An.center,An.edge),or=Math.min(An.center,An.edge);if("add"===An.blendMode?(Pn=me(Pn+Ln),Un=me(Un+or)):(Pn=me(Pn*Ln),Un=me(Un*or)),0===Pn)return we}const{geometry:Rn}=h;if(Rn.attributes?.color&&(Te=ne),h.modifiers.forEach(An=>{if("opacity"===An.applyTo){let Ln=0,or=1;if("range"in An){let _r=An.value,qn=1,Br=An.range.minRadius,Yr=An.range.maxRadius;const Hr=_e.get();if(An.parent){An.parent.updateWorldMatrix();const Nr=_e.get();(0,G.getScaling)(Nr,An.parent.worldMatrix);const bi=(Nr[0]+Nr[1]+Nr[2])/3;Br*=bi,Yr*=bi,_e.release(Nr),(0,v.transformMat4)(Hr,An.range.center,An.parent.worldMatrix)}else(0,v.copy)(Hr,An.range.center);if(Br>Yr&&(qn=_r,_r=1,Br=Yr,Yr=An.range.minRadius),Ka(h.worldBounds,Hr,1/0)>=Yr)Ln=qn,or=qn;else{const Nr=Br*Br;(0,v.squaredDistance)(Hr,Ft)<=Nr&&(0,v.squaredDistance)(Hr,Gt)<=Nr?(Ln=_r,or=_r):(Ln=Math.min(An.value,1),or=Math.max(An.value,1))}_e.release(Hr)}else"fresnel"in An?(Ln=Math.min(An.fresnel.center,An.fresnel.edge),or=Math.max(An.fresnel.center,An.fresnel.edge)):(Ln=An.value,or=An.value);Pn*=or,Un*=Ln}}),Pn<=0)return we;if(Un<1){if(Me||Pn<1)return ne;Te=Le}return Te}const Iu=(0,E(24434).objectSorter)({sort:{array:!1,typedArray:!1,map:!0,object:!0,set:!0}});function Qc(h){return Iu(h)}function Ed(h){const s=Object.keys(h).sort();return function(g){const c=[];for(let O=0;O<s.length;O++){const X=s[O],ie=g[X];void 0!==ie&&c.push(X+":"+Qc(ie))}return"{"+c.toString()+"}"}}const Xd={clips:0,maxClipDistances:0};function fs(h,s){return rr(Math.min(s.clips,s.maxClipDistances),g=>`{\n\t\tvec4 plane = ${h("clippingPlane",g)}.plane;\n\t\t${h("gl_ClipDistance",g)} = dot(${h("worldPosition4")}, plane);\n\t}`).join("\n\t")}const Oc={ClippingPlane:"struct ClippingPlane {\n\t\tvec4 plane;\n\t\tfloat fade;\n\t};",worldPosition4:(h,s,g,c)=>({main:[`vec4 worldPosition4 = vec4(${c("worldPosition")}, 1.0);`]}),gl_ClipDistance:(h,s)=>({extensions:"#extension GL_ANGLE_clip_cull_distance : require",symbol:`gl_ClipDistance[${s}]`}),clippingPlane(h,s){const g=`clippingPlane${s}`;return{requires:["ClippingPlane"],declare:`uniform ClippingPlane ${g};`,symbol:g}},clippingPlaneAlpha:(h,s,g,c)=>({main:`float clippingPlaneAlpha = 1.0; {\n\t\t\tfloat distTransparency = 0.0;\n\t\t\t${rr(g.clips,O=>`{\n\t\t\t\tvec4 plane = ${c("clippingPlane",O)}.plane;\n\t\t\t\tfloat fade = ${c("clippingPlane",O)}.fade;\n\t\t\t\tfloat planeDistance = dot(${c("worldPosition4")}, plane);\n\t\t\t\tfloat fadeAmount = fade == 0.0 ? -sign(planeDistance) : 1.0 - clamp(planeDistance / fade, 0.0, 1.0);\n\t\t\t\tdistTransparency = max(distTransparency, fadeAmount);\n\t\t\t}`).join("\n\t")}\n\t\t\tclippingPlaneAlpha = 1.0 - distTransparency;\n\t\t}`})},Pc={struct:-1,attribute:1,in:2,uniform:3,varying:4,out:5,const:6},Ea=/^\s*(struct|attribute|uniform|varying|in|out|const)\s+/,Yd=(h,s)=>{const[g,c]=h,[O,X]=s,ie=g.startsWith("#define")?-1:1,ne=O.startsWith("#define")?-1:1;if(ie!==ne)return ie-ne;const we=Ea.exec(g),Te=we&&Pc[we[1]]||1/0,Me=Ea.exec(O),Le=Me&&Pc[Me[1]]||1/0;return Te!==Le?Te-Le:c-X},jl=h=>({extensions:s,declare:g,main:c})=>{const O=h?.webGlVersion>=2?"#version 300 es\n":"",X=h?.precision||"highp",ie=g.map((ne,we)=>[ne,we]).sort(Yd).map(([ne])=>ne);return O+`${s.join("\n").trim()}\n\n\t${"highp"===X?"#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif":`precision ${X} float;`}\n\n\t${ie.join("\n").trim()}\n\tvoid main() {\n\t${c.map(ne=>"\t"+ne).join("\n")}\n\t}`},yl={acesNarkowicz:"ACESNarkowicz",linear:"",granTurismo:"GranTurismoToneMap",pbrNeutral:"PBRNeutralToneMapping"},Xa={linearToGamma:"vec4 linearToGamma( in vec4 value, in float gammaFactor ) {\n\t\treturn vec4( pow( max(vec3(0.0), value.rgb), vec3( 1.0 / gammaFactor ) ), value.a );\n\t}",sRGBToLinear:"vec4 sRGBToLinear( in vec4 value ) {\n\t\treturn vec4(\n\t\t\tmix(\n\t\t\t\tpow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ),\n\t\t\t\tvalue.rgb * 0.0773993808,\n\t\t\t\tvec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) )\n\t\t\t),\n\t\t\tvalue.w\n\t\t);\n\t}",ACESNarkowicz:"vec3 ACESNarkowicz(vec3 color) {\n\t\tconst float A = 2.51;\n\t\tconst float B = 0.03;\n\t\tconst float C = 2.43;\n\t\tconst float D = 0.59;\n\t\tconst float E = 0.14;\n\t\treturn clamp((color * (A * color + B)) / (color * (C * color + D) + E), 0.0, 1.0);\n\t}",GranTurismoToneMap:"vec3 GranTurismoToneMap(vec3 color) {\n\t\tconst float P = 1.0;  \n\t\tconst float a = 1.0;  \n\t\tconst float m = 0.22; \n\t\tconst float l = 0.4;  \n\t\tconst float c = 1.33; \n\t\tconst float b = 0.0;  \n\t\tconst vec3 P3 = vec3(P);\n\t\tconst vec3 m3 = vec3(m);\n\t\tconst vec3 c3 = vec3(c);\n\t\tfloat l0 = ((P - m) * l) / a;\n\t\tfloat L0 = m - m / a;\n\t\tfloat L1 = m + (1.0 - m) / a;\n\t\tfloat S0 = m + l0;\n\t\tfloat S1 = m + a * l0;\n\t\tfloat C2 = (a * P) / (P - S1);\n\t\tfloat CP = -C2 / P;\n\t\tvec3 w0 = 1.0 - smoothstep(0.0, m, color);\n\t\tvec3 w2 = step(m + l0, color);\n\t\tvec3 w1 = 1.0 - w0 - w2;\n\t\tvec3 T = m3 * pow(color / m3, c3) + vec3(b);\n\t\tvec3 S = P3 - (P3 - vec3(S1)) * exp(vec3(CP) * (color - vec3(S0)));\n\t\tvec3 L = m3 + vec3(a) * (color - m3);\n\t\treturn T * w0 + L * w1 + S * w2;\n\t}",PBRNeutralToneMapping:"vec3 PBRNeutralToneMapping( vec3 color ) {\n\t\tconst float startCompression = 0.8 - 0.04;\n\t\tconst float desaturation = 0.15;\n\n\t\tfloat x = min(color.r, min(color.g, color.b));\n\t\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\t\tcolor -= offset;\n\n\t\tfloat peak = max(color.r, max(color.g, color.b));\n\t\tif (peak < startCompression) return color;\n\n\t\tconst float d = 1. - startCompression;\n\t\tfloat newPeak = 1. - d * d / (peak + d - startCompression);\n\t\tcolor *= newPeak / peak;\n\n\t\tfloat g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);\n\t\treturn mix(color, newPeak * vec3(1, 1, 1), g);\n\t}",toneMap(h,s,g,c){const O=yl[g?.toneMap];return`vec3 toneMap(vec3 color) {\n\t\t\t${O?`color = ${c(O)}(color);`:""}\n\t\t\treturn color;\n\t\t}`}};function Pa(h){return h.replace(/^(\w)/,s=>s.toUpperCase())}const kc={...Sc,uvScale:!1,uvRotate:!1,uvTranslate:!1};function Qd(h,s,g,c,O){const{blendMode:X}=c,ie=`sample${Pa(h)}Texture`,ne=O(h+"TextureBlendFactor",g);return`{\n\t\tvec3 texSample = ${O("sRGBToLinear")}(${O(ie,g)}).rgb;\n\t\t${"multiply"===X?`${s} *= 1.0 - ${ne} * (1.0 - texSample);`:"over"===X?`${s} = mix(${s}, texSample, ${ne});`:`${s} += ${ne} * texSample;`}\n\t}`}function hl(h,s,g,c,O){const{blendMode:X,channel:ie,invert:ne}=c,we=`sample${Pa(h)}Texture`,Te=O(h+"TextureBlendFactor",g);return`{\n\t\tfloat texSample = (${O(we,g)}).${ie};\n\t\t${ne?"texSample = 1.0 - texSample;":""}\n\t\t${"over"===X?`${s} = mix(${s}, texSample, ${Te});`:"multiply"===X?`${s} *= 1.0 - ${Te} * (1.0 - texSample);`:`${s} += ${Te} * texSample;`}\n\t}`}function r(h){const s=`${h}TextureLayers`,g=`${h}TextureBlendFactor`;return{[`sample${Pa(h)}Texture`]:(O,X,ie,ne)=>({symbol:ne("textureSample",ie[s][X].samplerIndex)}),[g](O,X){const ie=g+X;return{declare:`uniform float ${ie};`,symbol:ie}}}}function m(h,s,g){return`{\n\t\t${g} *=  ${s("pointUVScale")};\n\t\t${h.uvTranslate?`${g} += ${s("uvTranslate")};`:""}\n\t\t${h.uvRotate?`\n\t\t\tvec2 centerCoord = ${h.uvTranslate?`${s("uvTranslate")} + ${s("pointUVScale")} * 0.5`:"vec2(0.5)"};\n\t\t\tvec2 pivot = ${g} - centerCoord;\n\t\t\tfloat c = ${s("cosPointRotation")};\n\t\t\tfloat s = ${s("sinPointRotation")};\n\t\t\t${g}.x = c * pivot.x + s * pivot.y + centerCoord.x;\n\t\t\t${g}.y = c * pivot.y - s * pivot.x + centerCoord.y;\n\t\t`:""}\n\t}`}const q={"attr:uvTranslate":_l("vec2","uvTranslate"),"attr:uvRotate":_l("float","uvRotate"),...es("vec2","pointUVScale"),vUvTranslate:ra("vec2","uvTranslate"),uvTranslate:(h,s,g,c)=>h===_s.frag?{symbol:c("vUvTranslate")}:{symbol:c("attr:uvTranslate")},texCoord:(h,s,g,c)=>h===_s.frag&&g.topology===ut.points?{main:["vec2 pointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",m(g,c,"pointTexCoord")],symbol:"pointTexCoord"}:h===_s.frag?{symbol:c("vTexCoord")}:{main:[`vec2 texCoord = ${g?.quantizedUVs?`(${c("decodeUVs")} * vec3(${c("attr:texcoord")}, 1.0)).xy`:c("attr:texcoord")};`]},vFlippedTexCoord:ra("vec2","flippedTexCoord"),flippedTexCoord:(h,s,g,c)=>h===_s.frag?g.topology===ut.points?{main:["vec2 flippedPointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",m(g,c,"flippedPointTexCoord"),"flippedPointTexCoord.y = 1.0 - flippedPointTexCoord.y;"],symbol:"flippedPointTexCoord"}:{symbol:c("vFlippedTexCoord")}:{main:`vec2 flippedTexCoord = vec2(${c("texCoord")}.x, 1.0 - ${c("texCoord")}.y);`,symbol:"flippedTexCoord"},vCosPointRotation:ra("float","cosPointRotation"),cosPointRotation:(h,s,g,c)=>h===_s.frag?{symbol:c("vCosPointRotation")}:{main:[`float cosPointRotation = cos(${c("attr:uvRotate")});`]},vSinPointRotation:ra("float","sinPointRotation"),sinPointRotation:(h,s,g,c)=>h===_s.frag?{symbol:c("vSinPointRotation")}:{main:[`float sinPointRotation = sin(${c("attr:uvRotate")});`]}};function Fe(h){return Math.floor(h)===h&&h!==1/0&&h!==-1/0?h+".0":String(h)}const _t={roundPoints:!1,maxPointSize:256,perspectivePoints:!1,scaleAttr:!1},Qt={"attr:scale":_l("float","scale"),...es("float","pointSize"),glPointSize(h,s,g,c){if(h!==_s.vert||g.topology!==ut.points)return"0.0";const O=Fe(Math.floor(g.maxPointSize)),X=Fe(20*ht),ie=Fe(Bt);return{main:`\n\t\t\t\t\tfloat glPointSize = ${g.perspectivePoints?`${c("pointSize")} * ${X} / length(${c("viewPosition")})`:c("pointSize")};\n\t\t\t\t\t${g.scaleAttr?`glPointSize *= ${c("attr:scale")};`:""}\n\t\t\t\t\tglPointSize *= ${ie} * ${c("screenResolution")}.y;\n\t\t\t\t\tglPointSize = clamp(glPointSize, 0.0, ${O});\n\t\t\t\t`,symbol:"glPointSize"}}},_n={...ul,...kc,...Ie,samplers:[],baseColorTextureLayers:[],opacityTextureLayers:[]},On={...yt,...es("vec3","baseColor"),...r("baseColor"),...r("opacity"),textureSample(h,s,g,c){const O="textureSample"+s,X="textureSampler"+s,ie=c("bottom-up"===g.samplers[s].rowOrder?"flippedTexCoord":"texCoord");return{symbol:O,declare:`uniform sampler2D ${X};`,main:[`vec4 ${O} = ${c("texture2D")}(${X}, ${ie});`]}},vViewNormal:ra("vec3","viewNormal"),viewNormal:(h,s,g,c)=>h===_s.frag?{main:[`vec3 viewNormal = normalize(${c("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${c("viewMatrix")} * vec4(${c("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},texturedViewNormal:(h,s,g,c)=>({symbol:c("viewNormal")}),color:(h,s,g,c)=>({main:`\n\t\t\t\tvec3 color = ${c("baseColor")}.rgb;\n\t\t\t\t${g.vertexColors?`color *= ${c("vertexColor")}.rgb;`:""}\n\t\t\t\t${g.baseColorTextureLayers.map((O,X)=>Qd("baseColor","color",X,O,c)).join("\n")}\n\t\t\t\t${g.baseColorFresnel?`color = ${c("baseColorFresnelColor")}(color, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t`}),alpha:(h,s,g,c)=>({main:`\n\t\t\tfloat alpha = ${c("opacity")};\n\t\t\t${g.vertexColors?`alpha *= ${c("vertexColor")}.a;`:""}\n\t\t\t${g.opacityTextureLayers.map((O,X)=>hl("opacity","alpha",X,O,c)).join("\n")}\n\t\t\t${g.opacityFresnel?`alpha = ${c("opacityFresnelValue")}(alpha, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t`})},Qn={...Sc,..._n,...kc,...yn,..._t,...Xd,baseColorTextureLayers:[],opacityTextureLayers:[]},Kn={...Na,...On,...Oc,...jn,...Xa,...q,...Qt,Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};"},Mr=["baseColorFresnel","opacityFresnel"],ii=["baseColorMaps","opacityMaps"],oi=["baseColorFresnel","opacityFresnel"],ui=new Map(["biasCenter","biasEdge","power","center","edge"].map(h=>[h,Pa(h)])),Ai=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"]],oo={Fog:"struct Fog {\n\t\tvec3 color;\n\t\tfloat density;\n\t\tfloat start;\n\t\tfloat end;\n\t\tfloat min;\n\t\tfloat max;\n\t};",fog:{requires:["Fog"],declare:["uniform Fog fog;"]},applyFog(h,s,g,c){const O=g.fog;return`vec3 applyFog(vec3 color) {\n\t\t\t${c("Fog")} f = ${c("fog")};\n\n\t\t\tfloat fogDistance = length(${c("viewPosition")}.xyz) - f.start;\n\n\t\t\t${"linear"===O?"\n\t\t\t\tfloat fogAmount = fogDistance / (f.end - f.start);":`\n\n\t\t\t\tfloat fogAttenuation = f.density * max(fogDistance, 0.0);\n\t\t\t\t${"exp2"===O?"fogAttenuation *= fogAttenuation;":""}\n\t\t\t\tfloat fogAmount = 1.0 - exp(-fogAttenuation);`}\n\n\t\t\tfogAmount = clamp(fogAmount, f.min, f.max);\n\t\t\treturn mix(color, f.color, fogAmount);\n\t\t}`}},yi={baseFresnel:!1,baseFresnelBlendMode:ue.multiply,alphaFresnel:!1,alphaFresnelBlendMode:ue.multiply,specularFresnel:!1,specularFresnelBlendMode:ue.multiply,emitFresnel:!1,emitFresnelBlendMode:ue.multiply,transparencyFresnel:!1,transparencyFresnelBlendMode:ue.multiply,reflectionFresnel:!1,reflectionFresnelBlendMode:ue.multiply},To={...yt,...Se("baseFresnel","vec3"),...Se("alphaFresnel","float"),...Se("specularFresnel","vec3"),...Se("emitFresnel","vec3"),...Se("transparencyFresnel","float"),...Se("reflectionFresnel","float")};function Bo(h,s,g,c,O,X){const ie=g("textureBlendFactor",O),ne=g("bottom-up"===c.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\tvec4 texSample = ${g("texture2D")}(${g("textureSampler",O)}, ${ne});\n\t\t${X||"over"===c.blendMode?`${h} = mix(${h}, texSample.${s}, ${ie});`:"multiply"===c.blendMode?`${h} *= 1.0 - ${ie} * (1.0 - texSample.${s});`:`${h} += ${ie} * texSample.${s};`}\n\t}`}const Po={transparency:"alpha"},Oo={transparency:(h,s,g,c)=>Bo("transparency","r",c,h,s,g),occlusion:(h,s,g,c)=>Bo(c("occlusion"),"r",c,h,s,g),metallic:(h,s,g,c)=>Bo(c("metallic"),"r",c,h,s,g),roughness:(h,s,g,c)=>Bo(c("roughness"),"r",c,h,s,g),shine:(h,s,g,c)=>Bo(c("shine"),"r",c,h,s,g),specular:(h,s,g,c)=>Bo(c("specular"),"r",c,h,s,g),baseColor(h,s,g,c,O){if(O.metallicMaterial||O.gammaInputPhong){const X=c("textureBlendFactor",s),ie=c("bottom-up"===h.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${c("sRGBToLinear")}(${c("texture2D")}(${c("textureSampler",s)}, ${ie}));\n\t\t\t\t${g||"over"===h.blendMode?`color = mix(color, texSample.rgb, ${X});`:"multiply"===h.blendMode?`color *= 1.0 - ${X} * (1.0 - texSample.rgb);`:`color += ${X} * texSample.rgb;`}\n\t\t\t}`}return Bo("color","rgb",c,h,s,g)},emit(h,s,g,c,O){if(O.metallicMaterial||O.gammaInputPhong){const X=c("textureBlendFactor",s),ie=c("bottom-up"===h.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${c("sRGBToLinear")}(${c("texture2D")}(${c("textureSampler",s)}, ${ie}));\n\t\t\t\t${g||"over"===h.blendMode?`emitRGB = mix(emitRGB, texSample.rgb, ${X});`:"multiply"===h.blendMode?`emitRGB *= 1.0 - ${X} * (1.0 - texSample.rgb);`:`emitRGB += ${X} * texSample.rgb;`}\n\t\t\t}`}return Bo("emitRGB","rgb",c,h,s,g)},alpha(h,s,g,c){const O=c("textureBlendFactor",s),X=c("bottom-up"===h.rowOrder?"flippedTexCoord":"texCoord"),ie=`${c("texture2D")}(${c("textureSampler",s)}, ${X})`;return g?`transparency = mix(transparency, 1.0 - ${ie}.r, ${O});`:`{\n\t\t\tvec4 texSample = ${ie};\n\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t${"over"===h.blendMode?`alpha = mix(alpha, texSample.r, ${O});`:"multiply"===h.blendMode?`alpha *= 1.0 - ${O} * (1.0 - texSample.r);`:`alpha += ${O} * texSample.r;`}\n\t\t\ttransparency = 1.0 - alpha;\n\t\t}`},normals(h,s,g,c,O){const X=c("textureBlendFactor",s),ie=g?"=":"+=",ne=c("bottom-up"===h.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\tvec4 texSample = ${c("texture2D")}(${c("textureSampler",s)}, ${ne});\n\t\t\tvec3 sampledValue = ${O.tangents?`${c("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);`:`${c("perturbNormal2Arb")}(texSample.xyz, ${c("viewPosition")}, ${c("viewNormal")}, ${ne});`}\n\t\t\t${"add"===h.blendMode?`${c("texturedViewNormal")} ${ie} sampledValue * ${X};`:`${c("texturedViewNormal")} = mix(${c("texturedViewNormal")}, sampledValue, ${X});`}\n\t\t}`}},Uo={...To,...es("vec3","modifierCenter",!1),...es("vec2","modifierRadius",!1),...es("vec3","modifierColorValue",!1),...es("float","modifierValue",!1),...es("vec3","modifierFresnelCenter",!1),...es("vec3","modifierFresnelEdge",!1),...es("float","modifierFresnelBiasCenter",!1),...es("float","modifierFresnelBiasEdge",!1),...es("float","modifierFresnelPower",!1),modifierFactor:(h,s,g,c)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${c("worldPosition")} - ${c("modifierCenter",s)}) - ${c("modifierRadius",s)}.x) /\n\t\t\t\t${c("modifierRadius",s)}.y\n\t\t, 0.0, 1.0)`})},Or={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function Io(h,s){const g=(h.priority||0)-(s.priority||0);if(g)return g;const c=(Or[h.applyTo]||1/0)-(Or[s.applyTo]||1/0);if(c)return c;const O="range"in h,X="range"in s;return O!==X?Number(O)-Number(X):+("fresnel"in h)-+("fresnel"in s)}const Fs=h=>(s,g,c)=>`{\n\t\t\t${s.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${c("fresnel")}(${c("surfaceToView")}, ${c("texturedViewNormal")}, ${c("modifierFresnelBiasEdge",g)}, ${c("modifierFresnelBiasCenter",g)}, ${c("modifierFresnelPower",g)});\n\t\t\t\tfloat value = mix(${c("modifierFresnelEdge",g)}.r, ${c("modifierFresnelCenter",g)}.r, fresnelAmount);\n\t\t\t`:`float value = ${c("modifierValue",g)};`}\n\t\t\t${s.range?`\n\t\t\t\tfloat modifierFactor = ${c("modifierFactor",g)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${h}\n\t\t}`,Xs={tintColor:(h,s,g)=>`{\n\t\t\t${h.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",s)}, ${g("modifierFresnelBiasCenter",s)}, ${g("modifierFresnelPower",s)});\n\t\t\t\tvec3 tintColor = mix(${g("modifierFresnelEdge",s)}.rgb, ${g("modifierFresnelCenter",s)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${g("modifierColorValue",s)};`}\n\t\t\t${h.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",s)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(h,s,g)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${h.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",s)}, ${g("modifierFresnelBiasCenter",s)}, ${g("modifierFresnelPower",s)});\n\t\t\t\tfloat saturation = mix(${g("modifierFresnelEdge",s)}.r, ${g("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${g("modifierValue",s)};`}\n\t\t\t${h.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",s)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:Fs("fragColor.a *= value;"),contrast:Fs("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(h,s,g)=>`{\n\t\t\t${h.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",s)}, ${g("modifierFresnelBiasCenter",s)}, ${g("modifierFresnelPower",s)});\n\t\t\t\tfloat brightness = mix(${g("modifierFresnelEdge",s)}.r, ${g("modifierFresnelCenter",s)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${g("modifierValue",s)};`}\n\t\t\t${h.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",s)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`},yo={...Sc,...kc,...yi,..._t,modifiers:[],...Xd,metallicMaterial:!1,gammaInputPhong:!1,textureLayers:[],reflectionMap:!1,environmentReflectionMap:!1,lightMapSpace:"",lights:0,fog:""},ta={dir:0,point:1,spot:2},sa={...Na,...q,...Oc,...oo,...To,...Uo,...Xa,...Qt,Light:"struct Light {\n\t\tint type;\n\t\tvec3 direction;\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tvec3 attenuation;\n\t\tfloat innerCone;\n\t\tfloat outerCone;\n\n\t\t\n\t\tbool diffuse;\n\t\tbool specular;\n\n\t\t\n\t\tbool viewSpace;\n\t};",lightSource(h,s){const g=`legacyLightSource${s}`;return{requires:"Light",declare:`uniform Light ${g};`,symbol:g}},IncidentLight:"struct IncidentLight {\n\t\tvec3 color;\n\t\tvec3 direction;\n\t};",ReflectedLight:"struct ReflectedLight {\n\t\tvec3 diffuse;\n\t\tvec3 specular;\n\t};",Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};",...es("vec3","baseColor"),...es("vec4","emitColor"),...es("vec3","specularColor"),...es("vec3","metalRoughSpecularf0"),...es("float","phongShine"),...es("float","glassFactor"),...es("float","murkiness"),ambientLightColor:{declare:"uniform vec3 legacyAmbientLightColor;",symbol:"legacyAmbientLightColor"},reflectionMap:"uniform samplerCube reflectionMap;",...es("float","reflectionMapIntensity"),...es("float","reflectionMapMaxMipLevel"),lightMap:"uniform samplerCube lightMap;",...es("float","lightMapIntensity"),textureSampler(h,s){const g=`textureSampler${s}`;return{declare:`uniform sampler2D ${g};`,symbol:g}},textureBlendFactor(h,s){const g=`textureBlendFactor${s}`;return{declare:`uniform float ${g};`,symbol:g}},specularF0:(h,s,g,c)=>({symbol:`${c("metalRoughSpecularf0")}.b`}),metallic:(h,s,g,c)=>({main:[`float metallic = ${c("metalRoughSpecularf0")}.r;`]}),roughness:(h,s,g,c)=>({main:[`float roughness = ${c("metalRoughSpecularf0")}.g;`]}),specular:()=>({main:["float specular = 1.0;"]}),occlusion:()=>({main:["float occlusion = 1.0;"]}),shine:(h,s,g,c)=>({main:[`float shine = ${c("phongShine")};`]}),vViewNormal:ra("vec3","viewNormal"),viewNormal:(h,s,g,c)=>h===_s.frag?{main:[`vec3 viewNormal = normalize(${c("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${c("viewMatrix")} * vec4(${c("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},texturedViewNormal:(h,s,g,c)=>({main:[`vec3 texturedViewNormal = ${g.textureLayers?.some(X=>"normals"===X.applyTo)?"vec3(0.0)":c("viewNormal")};`]}),vTBN:ra("mat3","TBN"),TBN:(h,s,g,c)=>({main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tmat3 mat = mat3(${c("modelViewMatrix")});\n\t\t\t\t\tvec3 tangentW = normalize(vec3(mat * ${c("tangent")}));\n\t\t\t\t\tvec3 bitangentW = cross(${c("viewNormal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${c("viewNormal")});\n\t\t\t\t}\n\t\t\t`}),perturbNormal2Arb:{requires:["extStandardDerivatives"],declare:"vec3 perturbNormal2Arb( vec3 texSample, vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( uv.st );\n\t\t\tvec2 st1 = dFdy( uv.st );\n\t\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\t\t\n\t\t\tvec3 N = surf_norm;\n\t\t\tvec3 mapN = texSample * 2.0 - 1.0;\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}"},F_Schlick:"\n\t\tvec3 F_Schlick(const in vec3 specularColor, const in float dotLH) {\n\t\t\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\t\t\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\t\t}",G_GGX_SmithCorrelated:(h,s,g,c)=>`\n\t\tfloat G_GGX_SmithCorrelated(const in float alpha, const in float dotNL, const in float dotNV) {\n\t\t\tfloat a2 = ( alpha * alpha );\n\t\t\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * ( dotNV * dotNV ) );\n\t\t\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * ( dotNL * dotNL ) );\n\t\t\treturn 0.5 / max( gv + gl, ${c("EPSILON")} );\n\t\t}`,D_GGX:(h,s,g,c)=>`\n\t\tfloat D_GGX(const in float alpha, const in float dotNH) {\n\t\t\tfloat a2 = alpha * alpha;\n\t\t\tfloat denom = dotNH * dotNH * ( a2 - 1.0 ) + 1.0;\n\t\t\treturn ${c("RECIPROCAL_PI")} * a2 / ( denom * denom );\n\t\t}`,BRDF_Specular_GGX:(h,s,g,c)=>`\n\t\tvec3 BRDF_Specular_GGX(const in IncidentLight incidentLight, const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat alpha = roughness * roughness;\n\t\t\tvec3 halfDir = normalize(incidentLight.direction + geometry.viewEyeDir);\n\t\t\tfloat dotNL = ${c("saturate")}( dot( geometry.viewNormal, incidentLight.direction ) );\n\t\t\tfloat dotNV = ${c("saturate")}( dot( geometry.viewNormal, geometry.viewEyeDir ) );\n\t\t\tfloat dotNH = ${c("saturate")}( dot( geometry.viewNormal, halfDir ) );\n\t\t\tfloat dotLH = ${c("saturate")}( dot( incidentLight.direction, halfDir ) );\n\t\t\tvec3  F = ${c("F_Schlick")}( specularColor, dotLH );\n\t\t\tfloat G = ${c("G_GGX_SmithCorrelated")}( alpha, dotNL, dotNV );\n\t\t\tfloat D = ${c("D_GGX")}( alpha, dotNH );\n\t\t\treturn F * (G * D);\n\t\t}`,computePBRLighting:(h,s,g,c)=>`\n\t\tvoid computePBRLighting(const in IncidentLight incidentLight, const in Geometry geometry, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\tfloat dotNL = ${c("saturate")}(dot(geometry.viewNormal, incidentLight.direction));\n\t\t\tvec3 irradianceOverPi = dotNL * incidentLight.color;\n\t\t\treflectedLight.diffuse += irradianceOverPi * material.diffuseColor;\n\t\t\treflectedLight.specular += irradianceOverPi * ${c("PI")} * ${c("BRDF_Specular_GGX")}(incidentLight, geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular = max(reflectedLight.specular, 0.0);\n\t\t}`,inverseTransformDirection:"vec3 inverseTransformDirection(in vec3 dir, in mat4 matrix) {\n\t\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\t}",GGXRoughnessToBlinnExponent:"float GGXRoughnessToBlinnExponent(const in float ggxRoughness) {\n\t\tfloat r = ggxRoughness + 0.0001;\n\t\treturn (2.0 / (r * r) - 2.0);\n\t}",getSpecularMIPLevel:"float getSpecularMIPLevel(const in float blinnShininessExponent, float maxMipLevels) {\n\t\tfloat desiredMIPLevel = maxMipLevels - 0.79248 - 0.5 * log2(blinnShininessExponent * blinnShininessExponent + 1.0);\n\t\treturn clamp(desiredMIPLevel, 0.0, maxMipLevels);\n\t}",getLightProbeIndirectRadiance:(h,s,g,c)=>`vec3 getLightProbeIndirectRadiance(const in samplerCube reflectMap, const in vec3 reflectVec, const in float blinnShininessExponent, float maxMipLevels) {\n\t\t\tfloat mipLevel = ${c("getSpecularMIPLevel")}(blinnShininessExponent, maxMipLevels); \n\t\t\tvec3 envMapColor = ${c("sRGBToLinear")}(${c("textureCubeLod")}(reflectMap, reflectVec, mipLevel)).rgb;\n\t\t\treturn envMapColor;\n\t\t}`,BRDF_Specular_GGX_Environment:(h,s,g,c)=>`vec3 BRDF_Specular_GGX_Environment(const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat dotNV = ${c("saturate")}(dot(geometry.viewNormal, geometry.viewEyeDir));\n\t\t\tconst vec4 c0 = vec4( -1, -0.0275, -0.572, 0.022);\n\t\t\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, -0.04);\n\t\t\tvec4 r = roughness * c0 + c1;\n\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * dotNV)) * r.x + r.y;\n\t\t\tvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\treturn specularColor * AB.x + AB.y;\n\t\t}`,computePBRReflectionMapping:(h,s,g,c)=>`void computePBRReflectionMapping(\n\t\t\t\tconst in samplerCube reflectMap,\n\t\t\t\tconst in float intensity,\n\t\t\t\tconst in mat4 viewMatrix,\n\t\t\t\tconst in Geometry geometry,\n\t\t\t\tconst in Material material,\n\t\t\t\tinout ReflectedLight reflectedLight,\n\t\t\t\tfloat maxMipLevel\n\t\t) {\n\t\t\tvec3 reflectVec = reflect(-geometry.viewEyeDir, geometry.viewNormal);\n\t\t\treflectVec = ${c("inverseTransformDirection")}(reflectVec, viewMatrix);\n\t\t\tfloat blinnExpFromRoughness = ${c("GGXRoughnessToBlinnExponent")}(material.specularRoughness);\n\t\t\tvec3 radiance = ${c("getLightProbeIndirectRadiance")}(reflectMap, reflectVec, blinnExpFromRoughness, maxMipLevel);\n\t\t\tvec3 specularBRDFContrib = ${c("BRDF_Specular_GGX_Environment")}(geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular += radiance * specularBRDFContrib * intensity;\n\t\t}`,computePBRLightMapping:(h,s,g,c)=>`void computePBRLightMapping(const in samplerCube lightMap, const in float intensity, const in vec3 normal, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\treflectedLight.diffuse += ${c("sRGBToLinear")}(${c("textureCube")}(lightMap, normal)).rgb * material.diffuseColor * intensity;\n\t\t}`},Us=["baseFresnel","emitFresnel","alphaFresnel","reflectionFresnel","specularFresnel","transparencyFresnel"],is=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","metallic","roughness"]),rl=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","specular","shine"]),ld=["baseFresnel","emitFresnel","specularFresnel","transparencyFresnel","alphaFresnel","reflectionFresnel"],qc=new Map(["biasCenter","biasEdge","power","center","edge"].map(h=>[h,Pa(h)])),Ts={emissiveFresnel:!1,emissiveFresnelBlendMode:ue.multiply},Ya={...Se("emissiveFresnel","vec3")},hc=Math.pow(2,-126),wd=Math.max(.045,Math.pow(hc,.25)),bl={directional:0,point:1,spot:2},Ql={...Sc,..._n,...Ts,...yn,..._t,...Xd,baseColorTextureLayers:[],opacityTextureLayers:[],metallicTextureLayers:[],occlusionTextureLayers:[],roughnessTextureLayers:[],emissiveTextureLayers:[],specularFactorTextureLayers:[],specularColorTextureLayers:[],normalTextureLayers:[],lights:0,imageLightSpecularTexture:!1,imageLightIrradianceMode:"",computeBRDF:!1,fog:"",toneMap:"linear"},Zp={...Na,...On,...Oc,...Qt,...Ya,...jn,...oo,...Xa,...q,LightSource:"struct LightSource {\n\t\tint type;\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat intensity;\n\t\tfloat innerConeCos;\n\t\tfloat outerConeCos;\n\t};",ComputedLight:"struct ComputedLight {\n\t\tvec3 intensity;\n\t\tfloat NdotL;\n\t\tfloat NdotH;\n\t\tfloat VdotH;\n\t};",NormalInfo:"struct NormalInfo {\n\t\tvec3 ng; \n\t\tvec3 t; \n\t\tvec3 b; \n\t\tvec3 n; \n\t};",lightSource(h,s){const g=`lightSource${s}`;return{requires:"LightSource",declare:`uniform LightSource ${g};`,symbol:g}},irradianceCoefficients:"uniform vec3 irradianceCoefficients[9];",imageLightLODScale:"uniform float imageLightLODScale;",imageLightSpecularTexture:"uniform samplerCube imageLightSpecularTexture;",imageLightIrradianceTexture:"uniform samplerCube imageLightIrradianceTexture;",imageLightIntensity:"uniform float imageLightIntensity;",imageLightRotation:"uniform mat3 imageLightRotation;",brdfLookUpTexture:"uniform sampler2D brdfLookUpTexture;",...es("float","metallic"),...es("float","roughness"),...es("vec3","emissive"),...es("float","ior"),...es("float","specularFactor"),...es("vec3","specularColor"),...r("metallic"),...r("roughness"),...r("occlusion"),...r("emissive"),...r("specularFactor"),...r("specularColor"),...r("normal"),EPSILON:`#define EPSILON ${Math.max(1e-6,hc)}`,f90:"const vec3 f90 = vec3(1.0);",clampedDot:"float clampedDot(vec3 x, vec3 y) {\n\t\treturn clamp(dot(x, y), 0.0, 1.0);\n\t}",getSpotAttenuation:"float getSpotAttenuation(vec3 pointToLightDirection, vec3 spotDirection, float outerConeCos, float innerConeCos) {\n\t\tfloat actualCos = dot(spotDirection, -pointToLightDirection);\n\t\tif (actualCos > outerConeCos) {\n\t\t\tif (actualCos < innerConeCos) {\n\t\t\t\treturn smoothstep(outerConeCos, innerConeCos, actualCos);\n\t\t\t}\n\t\t\treturn 1.0;\n\t\t}\n\t\treturn 0.0;\n\t}",getLightIntensity:(h,s,g,c)=>`vec3 getLightIntensity(LightSource light, vec3 pointToLight, vec3 pointToLightDirection) {\n\t\t\tfloat rangeAttenuation = 1.0;\n\t\t\tfloat spotAttenuation = 1.0;\n\t\t\tif (light.type != ${bl.directional}) {\n\t\t\t\t\n\t\t\t\tfloat lenSq = dot(pointToLight, pointToLight);\n\t\t\t\trangeAttenuation = 1.0 / max(lenSq, ${c("EPSILON")});\n\t\t\t}\n\t\t\tif (light.type == ${bl.spot}) {\n\t\t\t\tspotAttenuation = ${c("getSpotAttenuation")}(pointToLightDirection, light.direction, light.outerConeCos, light.innerConeCos);\n\t\t\t}\n\t\t\treturn rangeAttenuation * spotAttenuation * light.intensity * light.color;\n\t\t}`,fresnelSchlick:(h,s,g,c)=>`\n\t\tvec3 fresnelSchlick(vec3 f0, vec3 f90, float VdotH) {\n\t\t\tvec3 x = vec3(1.0) - VdotH;\n\t\t\treturn f0 + (f90 - f0) * ${c("pow5")}(x);\n\t\t}`,BRDF_Lambertian:(h,s,g,c)=>`\n\t\tvec3 BRDF_Lambertian(vec3 f0, vec3 f90, vec3 diffuseColor, float specularWeight, float VdotH) {\n\t\t\treturn (1.0 - specularWeight * ${c("fresnelSchlick")}(f0, f90, VdotH)) * (diffuseColor / ${c("PI")});\n\t\t}`,V_GGX:"\n\t\tfloat V_GGX(float NdotL, float NdotV, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat GGXV = NdotL * sqrt(NdotV * NdotV * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGXL = NdotV * sqrt(NdotL * NdotL * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGX = GGXV + GGXL;\n\t\t\tif (GGX > 0.0) {\n\t\t\t\treturn 0.5 / GGX;\n\t\t\t}\n\t\t\treturn 0.0;\n\t\t}",D_GGX:(h,s,g,c)=>`\n\t\tfloat D_GGX(float NdotH, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat f = (NdotH * NdotH) * (alphaRoughnessSq - 1.0) + 1.0;\n\t\t\treturn alphaRoughnessSq / (${c("PI")} * f * f);\n\t\t}`,BRDF_specularGGX:(h,s,g,c)=>`\n\t\tvec3 BRDF_specularGGX(vec3 f0, vec3 f90, float alphaRoughness, float specularWeight, float NdotV, ${c("ComputedLight")} light) {\n\t\t\tvec3 F = ${c("fresnelSchlick")}(f0, f90, light.VdotH);\n\t\t\tfloat Vis = ${c("V_GGX")}(light.NdotL, NdotV, alphaRoughness);\n\t\t\tfloat D = ${c("D_GGX")}(light.NdotH, alphaRoughness);\n\t\t\treturn specularWeight * F * Vis * D;\n\t\t}`,sampleSphericalHarmonic:"vec3 sampleSphericalHarmonic(in vec3 normal, in vec3 shCoefficients[9]) {\n\t\tfloat x = normal.x, y = normal.y, z = normal.z;\n\t\t// return shCoefficients[ 0 ] +\n\t\t// \t+ shCoefficients[ 1 ] * y;\n\t\t// \t+ shCoefficients[ 2 ] * z;\n\t\t// \t+ shCoefficients[ 3 ] * x;\n\t\t// \t+ shCoefficients[ 4 ] * x * y;\n\t\t// \t+ shCoefficients[ 5 ] * y * z;\n\t\t// \t+ shCoefficients[ 6 ] * (3.0 * z * z - 1.0);\n\t\t// \t+ shCoefficients[ 7 ] * x * z;\n\t\t// \t+ shCoefficients[ 8 ] * (x * x - y * y);\n\t\treturn shCoefficients[ 0 ] * 0.886227 +\n\t\t\t+ shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\t\t\t+ shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\t\t\t+ shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\t\t\t+ shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\t\t\t+ shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\t\t\t+ shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\t\t\t+ shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\t\t\t+ shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\t}",getSpecularSample:(h,s,g,c)=>`\n\tvec4 getSpecularSample(vec3 reflection, float roughness) {\n\t\tfloat lod = roughness * (2.0 - roughness) * ${c("imageLightLODScale")};\n\t\treturn ${c("textureCubeLod")}(${c("imageLightSpecularTexture")}, ${c("imageLightRotation")} * reflection, lod) * ${c("imageLightIntensity")};\n\t}`,vSurfaceToCamera:ra("vec3","surfaceToCamera"),surfaceToCamera:(h,s,g,c)=>h===_s.frag?{main:[`vec3 surfaceToCamera = normalize(${c("vSurfaceToCamera")});`]}:{main:[`vec3 surfaceToCamera = normalize(${c("cameraPosition")} - ${c("worldPosition")});`]},vCosPointNegRotation:ra("float","cosPointNegRotation"),cosPointNegRotation:(h,s,g,c)=>h===_s.frag?{symbol:c("vCosPointNegRotation")}:{main:[`float cosPointNegRotation = cos(-${c("attr:uvRotate")});`]},vSinPointNegRotation:ra("float","sinPointNegRotation"),sinPointNegRotation:(h,s,g,c)=>h===_s.frag?{symbol:c("vSinPointNegRotation")}:{main:[`float sinPointNegRotation = sin(-${c("attr:uvRotate")});`]},vTBN:ra("mat3","TBN"),TBN(h,s,g,c){if(h===_s.frag)return g.topology===ut.points?{main:`\n\t\t\t\t\t\tmat3 TBN; {\n\t\t\t\t\t\t\tfloat c = ${c("cosPointNegRotation")};\n\t\t\t\t\t\t\tfloat s = ${c("sinPointNegRotation")};\n\t\t\t\t\t\t\tmat3 tmpRotation = mat3(\n\t\t\t\t\t\t\t\tc, s, 0,\n\t\t\t\t\t\t\t\t-s, c, 0,\n\t\t\t\t\t\t\t\t0, 0, 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tTBN = tmpRotation * mat3(${c("viewMatrixInverse")}) * mat3(\n\t\t\t\t\t\t\t\t1.0 , 0.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, -1.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, 0.0, 1.0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t`}:g.tangents&&g.normals?{main:[`mat3 TBN = mat3(\n\t\t\t\t\t\t\tnormalize(${c("vTBN")}[0]),\n\t\t\t\t\t\t\tnormalize(${c("vTBN")}[1]),\n\t\t\t\t\t\t\tnormalize(${c("vTBN")}[2])\n\t\t\t\t\t\t);`]}:{requires:["extStandardDerivatives"],main:[`mat3 TBN;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 UV = ${c("texCoord")};\n\t\t\t\t\t\tvec2 uv_dx = dFdx(UV);\n\t\t\t\t\t\tvec2 uv_dy = dFdy(UV);\n\t\t\t\t\t\tif (length(uv_dx) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dx = vec2(1.0, 0.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (length(uv_dy) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dy = vec2(0.0, 1.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvec3 t_ = (uv_dy.t * dFdx(${c("worldPosition")}) - uv_dx.t * dFdy(${c("worldPosition")})) /\n\t\t\t\t\t\t(uv_dx.s * uv_dy.t - uv_dy.s * uv_dx.t);`,g.normals?`vec3 ng = ${c("normal")};`:`vec3 ng = normalize(cross(dFdx(${c("worldPosition")}), dFdy(${c("worldPosition")})));`,"\n\t\t\t\t\t\tTBN[0] = normalize(t_ - ng * dot(ng, t_));\n\t\t\t\t\t\tTBN[1] = cross(ng, TBN[0]);\n\t\t\t\t\t\tTBN[2] = ng;\n\t\t\t\t\t}"]};if(!g.tangents)throw new Error("Unable to compute TBN matrix in vertex shader without geometry tangents.");return{main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tvec3 tangentW = normalize(vec3(${c("modelMatrix")} * vec4(${c("tangent")}, 0.0)));\n\t\t\t\t\tvec3 bitangentW = cross(${c("normal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${c("normal")});\n\t\t\t\t}\n\t\t\t`}},iorOutside:{symbol:"1.0"},f0:(h,s,g,c)=>({main:`\n\t\t\tvec3 f0 = vec3(\n\t\t\t\t${c("saturate")}(\n\t\t\t\t\t${c("pow2")}(\n\t\t\t\t\t\t(${c("ior")} - ${c("iorOutside")}) /\n\t\t\t\t\t\t(${c("ior")} + ${c("iorOutside")})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) * ${c("specularColor")};\n\t\t\t${g.specularColorTextureLayers.map((O,X)=>Qd("specularColor","f0",X,O,c)).join("\n")}\n\n\t\t\t\n\t\t\tf0 = mix(f0, ${c("color")}, ${c("metalness")});\n\n\t\t\t\n\t\t`}),diffuseColor:(h,s,g,c)=>({main:`vec3 diffuseColor = mix(${c("color")}, vec3(0.0), ${c("metalness")});`}),specularWeight:(h,s,g,c)=>({main:`\n\t\t\tfloat specularWeight = ${c("specularFactor")};\n\t\t\t${g.specularFactorTextureLayers.map((O,X)=>hl("specularFactor","specularWeight",X,O,c)).join("\n")}\n\n\t\t\t\n\t\t\tspecularWeight = mix(specularWeight, 1.0, ${c("metalness")});\n\t\t\t`}),metalness:(h,s,g,c)=>({main:`\n\t\t\tfloat metalness = ${c("metallic")};\n\t\t\t${g.metallicTextureLayers.map((O,X)=>hl("metallic","metalness",X,O,c)).join("\n")}\n\t\t\t`}),perceptualRoughness:(h,s,g,c)=>({main:`float perceptualRoughness = ${c("roughness")}; {\n\t\t\t\t${g.roughnessTextureLayers.map((O,X)=>hl("roughness","perceptualRoughness",X,O,c)).join("\n")}\n\t\t\t\tperceptualRoughness = clamp(perceptualRoughness, ${wd}, 1.0);\n\t\t\t}`}),alphaRoughness:(h,s,g,c)=>({main:`\n\t\t\t\tfloat alphaRoughness = ${c("perceptualRoughness")} * ${c("perceptualRoughness")};\n\t\t\t`}),ambientOcclusion:(h,s,g,c)=>({main:`\n\t\t\t\tfloat ambientOcclusion = 1.0;\n\t\t\t\t${g.occlusionTextureLayers.map((O,X)=>hl("occlusion","ambientOcclusion",X,O,c)).join("\n")}\n\t\t\t`}),emissiveOutput:(h,s,g,c)=>({main:`\n\t\t\t\tvec3 emissiveOutput = ${c("emissive")};\n\t\t\t\t${g.emissiveTextureLayers.map((O,X)=>Qd("emissive","emissiveOutput",X,O,c)).join("\n")}\n\t\t\t\t${g.emissiveFresnel?`emissiveOutput = ${c("emissiveFresnelColor")}(emissiveOutput, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t`}),sphericalHarmonicAmbient:(h,s,g,c)=>({main:`\n\t\t\t\tvec3 sphericalHarmonicAmbient = ${c("sampleSphericalHarmonic")}(${c("N")}, ${c("irradianceCoefficients")}) / ${c("PI")} * ${c("imageLightIntensity")};\n\t\t\t`}),irradianceSample:(h,s,g,c)=>({main:`\n\t\t\t\tvec3 irradianceSample = ${c("textureCube")}(${c("imageLightIrradianceTexture")}, ${c("imageLightRotation")} * ${c("N")}).rgb * ${c("imageLightIntensity")};\n\t\t\t`}),environmentBRDF:(h,s,g,c)=>({main:g.computeBRDF?`vec2 environmentBRDF; {\n\t\t\t\tconst vec4 c0 = vec4(-1, -0.0275, -0.572, 0.022);\n\t\t\t\tconst vec4 c1 = vec4(1, 0.0425, 1.04, -0.04);\n\t\t\t\tvec4 r = ${c("perceptualRoughness")} * c0 + c1;\n\t\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * ${c("NdotV")})) * r.x + r.y;\n\t\t\t\tenvironmentBRDF = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\t}`:`vec2 environmentBRDF; {\n\t\t\t\tvec2 brdfSamplePoint = clamp(vec2(${c("NdotV")}, ${c("perceptualRoughness")}), vec2(0.0, 0.0), vec2(1.0, 1.0));\n\t\t\t\tenvironmentBRDF = ${c("texture2D")}(${c("brdfLookUpTexture")}, brdfSamplePoint).rg;\n\t\t\t}`}),FssEss:(h,s,g,c)=>({main:`vec3 FssEss; {\n\t\t\tvec3 Fr = max(vec3(1.0 - ${c("perceptualRoughness")}), ${c("f0")}) - ${c("f0")};\n\t\t\tvec3 k_S = ${c("f0")} + Fr * ${c("pow5")}(1.0 - ${c("NdotV")});\n\t\t\tFssEss = k_S * ${c("environmentBRDF")}.x + ${c("environmentBRDF")}.y;\n\t\t}`}),iblRadianceLambertian:(h,s,g,c)=>({main:`\n\t\t\tvec3 iblRadianceLambertian;\n\t\t\t{\n\t\t\t\tvec3 irradiance = ${c("ambientLightColor")};\n\t\t\t\t${g.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t\t${c("parametric"===g.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t\t`:""}\n\n\t\t\t\t\n\n\t\t\t\t\n\t\t\t\tvec3 weightedFssEss = ${c("specularWeight")} * ${c("FssEss")};\n\n\t\t\t\t\n\t\t\t\tfloat Ems = (1.0 - (${c("environmentBRDF")}.x + ${c("environmentBRDF")}.y));\n\t\t\t\tvec3 F_avg = ${c("specularWeight")} * (${c("f0")} + (1.0 - ${c("f0")}) / 21.0);\n\t\t\t\tvec3 FmsEms = Ems * weightedFssEss * F_avg / (1.0 - F_avg * Ems);\n\t\t\t\tvec3 k_D = ${c("diffuseColor")} * (1.0 - weightedFssEss + FmsEms); \n\n\t\t\t\tiblRadianceLambertian = (FmsEms + k_D) * irradiance;\n\t\t\t}`}),iblDiffuse:(h,s,g,c)=>({main:`vec3 iblDiffuse; {\n\t\t\tvec3 irradiance = ${c("ambientLightColor")};\n\t\t\t${g.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t${c("parametric"===g.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t`:""}\n\t\t\tiblDiffuse = irradiance * ${c("diffuseColor")};\n\t\t}`}),iblRadianceGGX:(h,s,g,c)=>({main:`vec3 iblRadianceGGX; {\n\t\t\tvec3 reflection = reflect(-${c("surfaceToCamera")}, ${c("N")});\n\t\t\tvec4 specularSample = ${c("getSpecularSample")}(reflection, ${c("perceptualRoughness")});\n\t\t\tvec3 specularLight = specularSample.rgb;\n\n\t\t\t\n\n\t\t\tiblRadianceGGX = ${c("specularWeight")} * specularLight * ${c("FssEss")};\n\t\t}`}),diffuseAmbient:(h,s,g,c)=>({main:`\n\t\t\t\tvec3 diffuseAmbient; {\n\t\t\t\t\tdiffuseAmbient = ${c("iblDiffuse")};\n\t\t\t\t\tdiffuseAmbient *= ${c("ambientOcclusion")};\n\t\t\t\t}\n\t\t\t`}),normalInfo:(h,s,g,c)=>({symbol:"normalInfo",main:[`${c("NormalInfo")} normalInfo; {\n\t\t\t\t\tnormalInfo.t = ${c("TBN")}[0];\n\t\t\t\t\tnormalInfo.b = ${c("TBN")}[1];\n\t\t\t\t\tvec3 ng = ${c("TBN")}[2];\n\t\t\t\t\tnormalInfo.ng = ng;\n\t\t\t\t\tnormalInfo.n = ng;\n\t\t\t\t`,...g.normalTextureLayers.length?[...g.normalTextureLayers.map((O,X)=>function(ie,ne,we){const{blendMode:Te}=ie,Me=we("normalTextureBlendFactor",ne);return`{\n\t\tvec4 texSample = ${we("sampleNormalTexture",ne)};\n\t\tvec3 sampledNormal = ${we("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);\n\t\t${"over"===Te?`normalInfo.n = mix(normalInfo.n, sampledNormal, ${Me});`:`normalInfo.n += ${Me} * sampledNormal;`}\n\t}`}(O,X,c)),"normalInfo.n = normalize(normalInfo.n);"]:[],"}"]}),N:(h,s,g,c)=>({symbol:`${c("normalInfo")}.n`}),texturedViewNormal:(h,s,g,c)=>({main:`vec3 texturedViewNormal = (${c("viewMatrix")} * vec4(${c("N")}, 0.0)).xyz;`}),NdotV:(h,s,g,c)=>({main:`float NdotV = ${c("clampedDot")}(${c("N")}, ${c("surfaceToCamera")});`}),punctualLight(h,s,g,c){const O=`punctualLight${s}`;return{symbol:O,main:`\n\t\t\t\t${c("ComputedLight")} ${O};\n\t\t\t\t{\n\t\t\t\t\t${c("ComputedLight")} light;\n\t\t\t\t\t${c("LightSource")} lightSource = ${c("lightSource",s)};\n\t\t\t\t\tvec3 pointToLight = lightSource.type == ${bl.directional} ?\n\t\t\t\t\t\t-lightSource.direction :\n\t\t\t\t\t\tlightSource.position - ${c("worldPosition")} ;\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 L = normalize(pointToLight);\n\n\t\t\t\t\t\n\n\t\t\t\t\tvec3 H = normalize(L + ${c("surfaceToCamera")});\n\n\t\t\t\t\tvec3 n = ${c("normalInfo")}.n;\n\n\t\t\t\t\tlight.intensity = ${c("getLightIntensity")}(lightSource, pointToLight, L);\n\t\t\t\t\tlight.NdotL = ${c("clampedDot")}(${c("N")}, L);\n\t\t\t\t\tlight.NdotH = ${c("clampedDot")}(${c("N")}, H);\n\t\t\t\t\tlight.VdotH = ${c("clampedDot")}(${c("surfaceToCamera")}, H);\n\t\t\t\t\t${O} = light;\n\t\t\t\t}\n\t\t\t`}},diffuse:(h,s,g,c)=>({main:[`vec3 diffuse = ${c("diffuseAmbient")};`,...rr(g.lights,O=>`{\n\t\t\t\t\tdiffuse += ${c("punctualLight",O)}.intensity * ${c("punctualLight",O)}.NdotL * ${c("BRDF_Lambertian")}(${c("f0")}, ${c("f90")}, ${c("diffuseColor")}, ${c("specularWeight")}, ${c("punctualLight",O)}.VdotH);\n\t\t\t\t}`)]}),specular:(h,s,g,c)=>({main:["vec3 specular = vec3(0.0);",g.imageLightSpecularTexture?`specular += ${c("iblRadianceGGX")} * ${c("ambientOcclusion")};`:"",...rr(g.lights,O=>`{\n\t\t\t\t\tspecular += ${c("punctualLight",O)}.intensity * ${c("punctualLight",O)}.NdotL * ${c("BRDF_specularGGX")}(${c("f0")}, ${c("f90")}, ${c("alphaRoughness")}, ${c("specularWeight")}, ${c("NdotV")}, ${c("punctualLight",O)});\n\t\t\t\t}`)]})},Bl=["baseColorFresnel","opacityFresnel","emissiveFresnel"],Jp=["baseColorMaps","opacityMaps","metallicMaps","roughnessMaps","occlusionMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"],Ru=["baseColorFresnel","emissiveFresnel","opacityFresnel"],qd=new Map(["biasCenter","biasEdge","power","center","edge"].map(h=>[h,Pa(h)])),Ou=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"],["metallicMaps","metallicTexture"],["roughnessMaps","roughnessTexture"],["occlusionMaps","occlusionTexture"],["emissiveMaps","emissiveTexture"],["specularFactorMaps","specularFactorTexture"],["specularColorMaps","specularColorTexture"],["normalMaps","normalTexture"]],cd=new Map;cd.set(ti,{options:function(h){const{material:s}=h;if(!s||!h.geometry)return null;const{attributes:g,morphKeys:c,topology:O}=h.geometry,X=c.length>1&&h.morphKeyIndex>=0,ie=Object.assign({},Ql,{normals:!!g.normal,vertexColors:!!g.color,tangents:!(!g.tangent||X&&c.length&&!c[0].attributes.tangent),uvRotate:!!g.uvRotate,scaleAttr:!!g.scale,uvTranslate:!!g.uvTranslate,topology:O,roundPoints:h instanceof tn&&h.roundPoints,perspectivePoints:h instanceof tn&&h.perspectivePoints,modifiers:h.modifiers?Array.from(h.modifiers.values()).sort(Ji).map(ne=>({applyTo:ne.applyTo,range:"range"in ne,fresnel:"fresnel"in ne})):[],octNormals:2===g.normal?.numComponents,quantizedPositions:!!g.position?.decodeMat,quantizedUVs:!!g.texcoord?.decodeMat,morphTarget:X});if(g.texcoord||O===ut.points){const ne=new Map;ie.samplers=[];const we=Te=>{const{texture:Me,...Le}=Te;return{...Le,samplerIndex:ne.get(Me)}};Jp.forEach(Te=>{s[Te].filter(({texture:Me})=>!!Me).forEach(Me=>{ne.has(Me.texture)||(ne.set(Me.texture,ne.size),ie.samplers.push({rowOrder:Me.texture.rowOrder}))})}),Object.assign(ie,{baseColorTextureLayers:s.baseColorMaps.map(we),opacityTextureLayers:s.opacityMaps.map(we),metallicTextureLayers:s.metallicMaps.map(we),roughnessTextureLayers:s.roughnessMaps.map(we),occlusionTextureLayers:s.occlusionMaps.map(we),emissiveTextureLayers:s.emissiveMaps.map(we),specularFactorTextureLayers:s.specularFactorMaps.map(we),specularColorTextureLayers:s.specularColorMaps.map(we),normalTextureLayers:s.normalMaps.map(we)})}return Bl.forEach(ne=>{const we=s[ne];we&&(ie[ne]=!0,ie[ne+"BlendMode"]=we.blendMode||"multiply")}),ie},key:Ed(Ql),shader:function(h){const s=Object.assign({},Ql,h),g={vert:c=>`\n\t\t\t${"points"===s.topology?`gl_PointSize = ${c("glPointSize")};`:""}\n\t\t\tgl_Position = ${c("screenPosition")};\n\t\t\t${fs(c,s)}\n\t\t`,frag:c=>`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${c("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\t\t\tfragColor.rgb = ${c("emissiveOutput")} + ${c("diffuse")} + ${c("specular")};\n\n\t\t\tfragColor.a = ${c("alpha")};\n\n\t\t\t\n\t\t\t${xs(c,s)}\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${c("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Ic(c,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${$s(c,s)}\n\n\t\t\t${s.fog?`fragColor.rgb = ${c("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${function(O,X,ie){const ne=yl[X.toneMap];return ne?`${ie} = ${O(ne)}(${ie});`:""}(c,s,"fragColor.rgb")}\n\t\t\tfragColor = ${c("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${c("gl_FragColor")} = fragColor;\n\t\t`};return nl(Zp,(c,O)=>g[c](O),{joinShader:jl(s),...s})},setMaterialUniforms:function(h,s,g){h.baseColor=s.baseColor,h.opacity=s.opacity,h.metallic=s.metallic,h.roughness=s.roughness,h.emissive=s.emissive,h.ior=s.ior,h.specularFactor=s.specularFactor,h.specularColor=s.specularColor;const c=new Set;Ou.forEach(([O,X])=>{s[O].forEach(({texture:ie,blendFactor:ne},we)=>{if(h[X+"BlendFactor"+we]=ne,!c.has(ie)){const Te=c.size;c.add(ie);const Me=g?.get(ie);Me?(Me.update(),h["textureSampler"+Te]=Me.webglTexture):delete h[X+"Sampler"+we]}})}),Ru.forEach(O=>{const X=s[O];X&&qd.forEach((ie,ne)=>{h[O+ie]=X[ne]})})},textureKeys:["baseColorMaps","opacityMaps","metallicMaps","occlusionMaps","roughnessMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"]}),cd.set(Pi,{options:function(h){const{material:s}=h;if(!s||!h.geometry)return null;const{attributes:g,morphKeys:c,topology:O}=h.geometry,X=c.length>1&&h.morphKeyIndex>=0,ie=Object.assign({},Qn,{vertexColors:!!g.color,uvRotate:!!g.uvRotate,scaleAttr:!!g.scale,uvTranslate:!!g.uvTranslate,topology:O,roundPoints:h instanceof tn&&h.roundPoints,perspectivePoints:h instanceof tn&&h.perspectivePoints,modifiers:h.modifiers?Array.from(h.modifiers.values()).sort(Ji).map(ne=>({applyTo:ne.applyTo,range:"range"in ne,fresnel:"fresnel"in ne})):[],octNormals:2===g.normal?.numComponents,quantizedPositions:!!g.position?.decodeMat,quantizedUVs:!!g.texcoord?.decodeMat,morphTarget:X});if(g.texcoord||O===ut.points){const ne=new Map;ie.samplers=[];const we=Te=>{const{texture:Me,...Le}=Te;return{...Le,samplerIndex:ne.get(Me)}};ii.forEach(Te=>{s[Te].filter(({texture:Me})=>!!Me).forEach(Me=>{ne.has(Me.texture)||(ne.set(Me.texture,ne.size),ie.samplers.push({rowOrder:Me.texture.rowOrder}))})}),Object.assign(ie,{baseColorTextureLayers:s.baseColorMaps.map(we),opacityTextureLayers:s.opacityMaps.map(we)})}return Mr.forEach(ne=>{const we=s[ne];we&&(ie[ne]=!0,ie[ne+"BlendMode"]=we.blendMode||"multiply")}),ie},key:Ed(Qn),shader:function(h){const s=Object.assign({},Qn,h),g={vert:c=>`\n\t\t${"points"===s.topology?`gl_PointSize = ${c("glPointSize")};`:""}\n\t\tgl_Position = ${c("screenPosition")};\n\t\t`,frag:c=>`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${c("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\n\t\t\tfragColor = vec4(\n\t\t\t\t${c("color")},\n\t\t\t\t${c("alpha")}\n\t\t\t);\n\n\t\t\t\n\t\t\t${xs(c,s)}\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${c("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Ic(c,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${$s(c,s)}\n\n\t\t\tfragColor = ${c("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${c("gl_FragColor")} = fragColor;\n\t\t`};return nl(Kn,(c,O)=>g[c](O),{joinShader:jl(s),...s})},setMaterialUniforms:function(h,s,g){h.opacity=s.opacity,h.baseColor=s.baseColor;const c=new Set;Ai.forEach(([O,X])=>{s[O].forEach(({texture:ie,blendFactor:ne},we)=>{if(h[X+"BlendFactor"+we]=ne,!c.has(ie)){const Te=c.size;c.add(ie);const Me=g?.get(ie);Me?(Me.update(),h["textureSampler"+Te]=Me.webglTexture):delete h[X+"Sampler"+we]}})}),oi.forEach(O=>{const X=s[O];X&&ui.forEach((ie,ne)=>{h[O+ie]=X[ne]})})},textureKeys:["baseColorMaps","opacityMaps"]}),cd.set(En,{options:function(h){const{material:s}=h;if(!s||!h.geometry)return null;const{attributes:g,morphKeys:c,topology:O}=h.geometry,X="metallic"===s.type,ie=X?is:rl,ne=(g.texcoord||O===ut.points)&&s.textures?.filter(Me=>ie.has(Me.applyTo)).map(Me=>({applyTo:Me.applyTo,blendMode:Me.blendMode,rowOrder:Me.texture?.rowOrder||"top-down"}))||[],we=c.length>1&&h.morphKeyIndex>=0,Te=Object.assign({},yo,{metallicMaterial:X,normals:!!g.normal,vertexColors:!!g.color,tangents:!(!g.tangent||we&&c.length&&!c[0].attributes.tangent),uvRotate:!!g.uvRotate,scaleAttr:!!g.scale,uvTranslate:!!g.uvTranslate,topology:O,textureLayers:ne,modifiers:h.modifiers?Array.from(h.modifiers.values()).sort(Io).map(Me=>({applyTo:Me.applyTo,range:"range"in Me,fresnel:"fresnel"in Me})):[],octNormals:2===g.normal?.numComponents,quantizedPositions:!!g.position?.decodeMat,quantizedUVs:!!g.texcoord?.decodeMat,roundPoints:h instanceof tn&&h.roundPoints,perspectivePoints:h instanceof tn&&h.perspectivePoints,morphTarget:we,reflectionMap:!!s.reflectionMap});return Us.forEach(Me=>{const Le=s[Me];Le&&(Te[Me]=!0,Te[Me+"BlendMode"]=Le.blendMode||"multiply")}),Te},key:Ed(yo),shader:function(h){const s=Object.assign({},yo,h),g={vert:c=>`\n\t\t\t${"points"===s.topology?`gl_PointSize = ${c("glPointSize")};`:""}\n\t\t\tgl_Position = ${c("screenPosition")};\n\t\t\t${fs(c,s)}\n\t\t`,frag:c=>{return`\n\t\t\t\n\t\t\t${s.roundPoints&&"points"===s.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t\n\t\t\tvec3 color = ${c(s.vertexColors?"vertexColor":"baseColor")}.rgb;\n\t\t\tfloat alpha = ${"opaque"===s.alphaMode?"1.0":c("opacity")};\n\t\t\t${s.vertexColors?`alpha *= ${c("vertexColor")}.a;`:""}\n\n\t\t\t\n\t\t\t${s.clips>s.maxClipDistances&&"opaque"!==s.alphaMode?`\n\t\t\t\tif (${c("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tfloat emit = ${c("emitColor")}.a;\n\t\t\tvec3 emitRGB = ${c("emitColor")}.rgb;\n\n\t\t\tfloat transparency = 1.0 - alpha;\n\n\t\t\t${s.normals&&"opaque"!==s.alphaMode?`\n\t\t\tif (transparency > 0.0) {\n\t\t\t\tfloat gf = ${c("glassFactor")} * (${c("murkiness")} - abs(dot(${c("viewNormal")}, vec3(0.0, 0.0, -1.0))));\n\t\t\t\talpha = max(alpha, gf);\n\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t}\n\t\t\t`:""}\n\n\t\t\t\n\t\t\t${function(O,X,ie){const ne={};let we=!1,Te=O.map((Me,Le)=>{const at=Oo[Me.applyTo];if(we=we||"normals"===Me.applyTo,at){const Ft=Po[Me.applyTo]||Me.applyTo,Gt=!ne[Ft];return ne[Ft]=!0,at(Me,Le,Gt,X,ie)}return""}).join("\n\t");return we&&(Te+=`\n${X("texturedViewNormal")} = normalize(${X("texturedViewNormal")});`),Te}(s.textureLayers,c,s)}\n\n\t\t\tvec4 fragColor;\n\n\t\t\t\n\t\t\t${s.normals?`\n\t\t\t\t${s.metallicMaterial?`\n\t\t\t\t\t\n\t\t\t\t\t${c("Material")} material;\n\t\t\t\t\t${c("Geometry")} geometry;\n\t\t\t\t\t${c("ReflectedLight")} reflectedLight = ReflectedLight(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0));\n\n\t\t\t\t\tfloat dielectricSpecular = 0.16 * ${c("specularF0")} * ${c("specularF0")};\n\t\t\t\t\tmaterial.diffuseColor = (1.0 - dielectricSpecular) * (1.0 - ${c("metallic")}) * color;\n\n\t\t\t\t\t\n\t\t\t\t\tmaterial.specularRoughness = clamp(sqrt(${c("roughness")}), 0.04, 1.0);\n\t\t\t\t\tmaterial.specularColor = mix(vec3(dielectricSpecular), color, ${c("metallic")});\n\n\t\t\t\t\t\n\t\t\t\t\tgeometry.position = ${c("viewPosition")};\n\t\t\t\t\tgeometry.viewNormal = ${c("texturedViewNormal")};\n\t\t\t\t\tgeometry.viewEyeDir = -${c("normalizedViewPosition")};\n\n\t\t\t\t\t\n\t\t\t\t\t${s.environmentReflectionMap?`${c("computePBRReflectionMapping")}(\n\t\t\t\t\t\t${c("reflectionMap")},\n\t\t\t\t\t\t${c("reflectionMapIntensity")},\n\t\t\t\t\t\t${c("viewMatrix")},\n\t\t\t\t\t\tgeometry,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight,\n\t\t\t\t\t\t${c("reflectionMapMaxMipLevel")}\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\t\t\t\t\t${s.lightMapSpace?`${c("computePBRLightMapping")}(\n\t\t\t\t\t\t${c("lightMap")},\n\t\t\t\t\t\t${c("lightMapIntensity")},\n\t\t\t\t\t\tgeometry.${"world"===s.lightMapSpace?"worldNormal":"viewNormal"},\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${rr(s.lights,O=>`{\n\t\t\t\t\t\t${c("IncidentLight")} light;\n\t\t\t\t\t\tlight.color = ${c("lightSource",O)}.color;\n\n\t\t\t\t\t\tif (${c("lightSource",O)}.type == ${ta.dir}) {\n\t\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\t\tviewLightVec = normalize(${c("lightSource",O)}.position);\n\t\t\t\t\t\t\tif (!${c("lightSource",O)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = (${c("viewMatrix")} * vec4(viewLightVec, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlight.direction = viewLightVec;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${c("lightSource",O)}.position - ${c("worldPosition")};\n\t\t\t\t\t\t\tvec3 viewLightVec = ${c("lightSource",O)}.viewSpace ?\n\t\t\t\t\t\t\t\t(${c("viewMatrix")} * vec4(pointToLight, 0.0)).xyz :\n\t\t\t\t\t\t\t\tpointToLight;\n\t\t\t\t\t\t\tlight.direction = normalize(viewLightVec);\n\n\t\t\t\t\t\t\tfloat lightDist = ${c("lightSource",O)}.type == ${ta.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tfloat attenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${c("lightSource",O)}.attenuation.x +\n\t\t\t\t\t\t\t\t${c("lightSource",O)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${c("lightSource",O)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${c("lightSource",O)}.type == ${ta.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${c("viewMatrix")} * vec4(${c("lightSource",O)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), normalize(-viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${c("lightSource",O)}.innerCone) / max(${c("lightSource",O)}.outerCone - ${c("lightSource",O)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlight.color *= attenuation;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t${c("computePBRLighting")}(light, geometry, material, reflectedLight);\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${s.baseFresnel?`reflectedLight.diffuse = ${c("baseFresnelColor")}(reflectedLight.diffuse, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.specularFresnel?`reflectedLight.specular = ${c("specularFresnelColor")}(reflectedLight.specular, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${c("alphaFresnelValue")}(alpha, ${c("surfaceToView")}, ${c("texturedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${s.transparencyFresnel?`transparency = ${c("transparencyFresnelValue")}(transparency, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.emitFresnel?`emitRGB = ${c("emitFresnelColor")}(emitRGB, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 outgoingLight = ${c("occlusion")} * (reflectedLight.diffuse + reflectedLight.specular) +\n\t\t\t\t\t\temit * emitRGB;\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(outgoingLight, alpha);\n\t\t\t\t`:`\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t${s.reflectionMap?`\n\t\t\t\t\t\tfloat reflectFactor = 1.0;\n\t\t\t\t\t\t${s.reflectionFresnel?`reflectFactor = ${c("reflectionFresnelValue")}(reflectFactor, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t\t\t\tvec3 envLookup = reflect(-${c("surfaceToView")}, ${c("texturedViewNormal")}); \n\n\t\t\t\t\t\t\n\t\t\t\t\t\tvec4 envColor = ${c("textureCube")}(${c("reflectionMap")}, envLookup);\n\t\t\t\t\t\tcolor = mix(color, envColor.rgb, reflectFactor * ${c("specular")} * ${c("reflectionMapIntensity")});\n\t\t\t\t\t`:""}\n\n\t\t\t\t\tvec3 lightValue = vec3(0.0, 0.0, 0.0);\n\t\t\t\t\tvec3 specularValue = vec3(0.0, 0.0, 0.0);\n\n\t\t\t\t\t\n\t\t\t\t\t${rr(s.lights,O=>`{\n\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\tfloat attenuation = 1.0;\n\n\t\t\t\t\t\tif (${c("lightSource",O)}.type == ${ta.dir}) {\n\t\t\t\t\t\t\tif (${c("lightSource",O)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = ${c("lightSource",O)}.position;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvec3 pointToLight = normalize(-${c("lightSource",O)}.position);\n\t\t\t\t\t\t\t\tviewLightVec = -(${c("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${c("lightSource",O)}.position - ${c("worldPosition")};\n\t\t\t\t\t\t\tviewLightVec = ${c("lightSource",O)}.viewSpace ?\n\t\t\t\t\t\t\t\tpointToLight :\n\t\t\t\t\t\t\t\t(${c("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\n\t\t\t\t\t\t\tfloat lightDist = ${c("lightSource",O)}.type == ${ta.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tattenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${c("lightSource",O)}.attenuation.x +\n\t\t\t\t\t\t\t\t${c("lightSource",O)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${c("lightSource",O)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${c("lightSource",O)}.type == ${ta.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${c("viewMatrix")} * vec4(${c("lightSource",O)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), -normalize(viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${c("lightSource",O)}.innerCone) / max(${c("lightSource",O)}.outerCone - ${c("lightSource",O)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tviewLightVec = normalize(viewLightVec);\n\n\t\t\t\t\t\tfloat dotN = max(dot(${c("texturedViewNormal")}, viewLightVec), 0.0);\n\t\t\t\t\t\tif (${c("lightSource",O)}.diffuse) {\n\t\t\t\t\t\t\tlightValue += dotN * attenuation * ${c("lightSource",O)}.color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (${c("lightSource",O)}.specular) {\n\t\t\t\t\t\t\tfloat specularScale = ${c("specular")} * pow(max(dot(reflect(-viewLightVec, -${c("texturedViewNormal")}), -${c("normalizedViewPosition")}), 0.0), ${c("shine")}) * attenuation;\n\t\t\t\t\t\t\tspecularValue += ${c("specularColor")} * ${c("lightSource",O)}.color * specularScale;\n\t\t\t\t\t\t}\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${s.baseFresnel?`color.rgb = ${c("baseFresnelColor")}(color.rgb, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.specularFresnel?`specularValue.rgb = ${c("specularFresnelColor")}(specularValue.rgb, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${c("alphaFresnelValue")}(alpha, ${c("surfaceToView")}, ${c("texturedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${s.transparencyFresnel?`transparency = ${c("transparencyFresnelValue")}(transparency, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\t\t\t\t\t${s.emitFresnel?`emitRGB = ${c("emitFresnelColor")}(emitRGB, ${c("surfaceToView")}, ${c("texturedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(\n\t\t\t\t\t\tspecularValue +\n\t\t\t\t\t\t\tcolor * (lightValue + ${c("ambientLightColor")}) +\n\t\t\t\t\t\t\temit * emitRGB,\n\t\t\t\t\t\talpha\n\t\t\t\t\t);\n\t\t\t\t`}\n\t\t\t`:`\n\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\tfragColor = vec4(\n\t\t\t\t\t(color.rgb + (emit * color.rgb)) * (vec3(1.0) +\n\t\t\t\t\t\t${c("ambientLightColor")}),\n\t\t\t\t\talpha\n\t\t\t\t);\n\t\t\t`}\n\n\t\t\t\n\t\t\t${O=c,X=s,X.modifiers?.map((ie,ne)=>"opacity"===ie.applyTo?(0,Xs[ie.applyTo])(ie,ne,O,X):"").join("\n\t")}\n\n\t\t\t\n\n\t\t\t${s.clips>0&&"opaque"!==s.alphaMode?`fragColor.a *= ${c("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Ic(c,s,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${function(O,X){return X.modifiers?.map((ie,ne)=>{if("opacity"!==ie.applyTo){const we=Xs[ie.applyTo];if(we)return we(ie,ne,O,X);console.warn("modifier not implemented",ie.applyTo)}return""}).join("\n\t")}(c,s)}\n\n\t\t\t${s.fog?`fragColor.rgb = ${c("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${s.metallicMaterial?`fragColor = ${c("linearToGamma")}(fragColor, 2.2);`:""}\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${c("gl_FragColor")} = fragColor;\n\t\t`;var O,X}};return nl(sa,(c,O)=>g[c](O),{joinShader:jl(s),...s})},setMaterialUniforms:function(h,s,g){if(h.opacity=s.opacity,h.baseColor=s.baseColor,h.emitColor=s.emitColor,h.glassFactor=s.glassFactor,h.murkiness=s.murkiness,"metallic"===s.type){let O=h.metalRoughSpecularf0;O||(O=h.metalRoughSpecularf0=new Float32Array(3)),O[0]=s.metallic,O[1]=s.roughness,O[2]=s.specularf0}else h.specularColor=s.specularColor,h.phongShine=s.shine;s.textures.forEach((O,X)=>{h["textureBlendFactor"+X]=O.blendFactor;const ie=g?.get(O.texture);ie?(ie.update(),h["textureSampler"+X]=ie.webglTexture):delete h["textureSampler"+X]}),ld.forEach(O=>{const X=s[O];X&&qc.forEach((ie,ne)=>{h[O+ie]=X[ne]})});const{reflectionMap:c}=s;c&&(h.reflectionMapIntensity=c.intensity,h.reflectionMapMaxMipLevel=Math.max(0,c.mipLevels-1))},textureKeys:["textures"]});const za=h=>cd.get(h.constructor),Fc=["shader","geometry","morph","vertexCount","transparency"],Pu={geometry:["shader","morph","vertexCount"],"geometry.*":["geometry","morph","shader"],"geometry.count":["transparency","vertexCount"],"geometry.offset":["vertexCount"],modifier:["shader","transparency"],"modifier.value":["shader","transparency"],material:["shader"],"material.transparent":["transparency"],"material.clippable":["transparency"],"material.opacity":["transparency"],"material.fresnel":["transparency"],visible:["transparency"],morphKeyIndex:["morph"]};class ku extends ae{constructor(s,{geometryBufferCache:g,shaderResourceCache:c,geometryUniformsCache:O,materialUniformsCache:X,vaoCache:ie,alphaModeOptions:ne,clippingPlanes:we,textureResourceCache:Te}){super(),d(this,"programInfo",null),d(this,"bufferInfo",null),d(this,"vertexArrayInfo",null),d(this,"baseBufferInfo",null),d(this,"morphBufferInfo",[]),d(this,"baseVertexArrayInfo",null),d(this,"morphVAOs",[]),d(this,"uniforms",void 0),d(this,"screenPosition",void 0),d(this,"clockwise",!1),d(this,"mesh",void 0),d(this,"worldMatrix",void 0),d(this,"vertexCount",void 0),d(this,"layer",void 0),d(this,"renderOrder",void 0),d(this,"depthMask",void 0),d(this,"blendMode",void 0),d(this,"alphaMode",void 0),d(this,"dirty",void 0),d(this,"topology",void 0),d(this,"offset",void 0),d(this,"count",void 0),d(this,"update",void 0),d(this,"setDirty",void 0);let Me=null,Le=null,at=!0,Ft=!1,Gt=s.renderable,qt=null;this.mesh=s;const Ut={shader:!0,geometry:!0,vertexCount:!0,transparency:!0,morph:!0},rn={modelMatrix:s.worldMatrix,normalMatrix:s.normalMatrix},Un=new Map;this.uniforms=[null,null,rn],this.worldMatrix=s.worldMatrix,this.screenPosition=(0,v.create)(),this.clockwise=s.reflected,this.layer=s.layer,this.renderOrder=s.renderOrder,this.depthMask=s.depthMask,this.alphaMode=Rc(s,we,ne);const Pn=()=>{if(Me){if(Me.morphKeys.length>1){const Br=this.morphBufferInfo;for(let Yr=0;Yr<Br.length;Yr++)ie?.release(s,this.programInfo,Br[Yr]),g.release(this,Me,Yr);this.morphVAOs.length=0}ie?.release(s,this.programInfo,this.baseBufferInfo),g.release(this,Me),this.baseBufferInfo=null,this.bufferInfo=null,this.morphBufferInfo.length=0,O.release(s,Me),this.uniforms[1]=null,Me=null}},Rn=Br=>{if(Br!==Me){if(Me&&Pn(),Me=Br,Me){if(Me.morphKeys.length>1){const Yr=this.morphBufferInfo;for(let Hr=0,Nr=Me.morphKeys.length-1;Hr<Nr;Hr++)Yr.push(g.get(this,Me,Hr))}this.baseBufferInfo=g.get(this,Me),this.uniforms[1]=O.get(s,Me),this.setDirty("geometry")}else this.uniforms[1]=null;Ft=!!Me&&s.morphKeyIndex>=0&&Me.morphKeys.length>1}},An=()=>{Un.forEach((Br,Yr)=>{Te.release(this,Yr)}),Un.clear(),X.release(s,Le),this.uniforms[0]=null,Le=null,qt=null},Ln=Br=>{Br!==Le&&(Le&&An(),Le=Br,qt=za(Br),qt.textureKeys.forEach(Yr=>{Le[Yr].forEach(({texture:Hr})=>{const Nr=Te?.get(this,Hr);Nr&&(Nr.update(),Un.set(Hr,Nr))})}),this.uniforms[0]=X.get(s,Le))},or=Br=>{if(this.layer=s.layer,this.renderOrder=s.renderOrder,this.depthMask=s.depthMask,!Br.property)return void this.setDirty();const Yr=[Br.property+".*"];Yr.push(Br.detail?Br.property+"."+Br.detail:Br.property);for(let Nr=0;Nr<Yr.length;Nr++){const bi=Yr[Nr];Pu[bi]?.forEach(this.setDirty)}const Hr=Ft;Ft=!!Me&&s.morphKeyIndex>=0&&Me.morphKeys.length>1,Ft!==Hr&&this.setDirty("shader"),"geometry"===Br.property?Rn(s.geometry):"material"===Br.property&&Ln(s.material),at=!0},_r=()=>{this.clockwise=s.reflected,Gt!==s.renderable&&(Gt=s.renderable,this.setDirty("transparency"))};s.on("change",or),s.on("updateWorldMatrix",_r),this.update=()=>{if(!at)return!1;if(Ut.transparency){const Nr=Rc(s,we,ne);Nr!==this.alphaMode&&(this.alphaMode=Nr,Ut.shader=!0),Ut.transparency=!1}const Br=this.programInfo;Br&&!Ut.shader||(Br&&c.release(s),this.programInfo=c.get(s),Ut.shader=!1);let Hr=Ut.morph;if(Me&&(Ut.geometry||Br!==this.programInfo)){const{morphBufferInfo:Nr,morphVAOs:bi}=this;if(ie){for(let gi=0;gi<bi.length;gi++)ie.release(s,Br,Nr[gi]);if(bi.length=0,ie.release(s,Br,this.baseBufferInfo),Ft){for(let gi=0;gi<Nr.length;gi++)bi[gi]=ie.get(s,this.programInfo,Nr[gi])||null;this.baseVertexArrayInfo=null}else this.baseVertexArrayInfo=ie.get(s,this.programInfo,this.baseBufferInfo)||null;Hr=!0}}if(Hr){if(Ft){const{morphKeyIndex:Nr}=s;this.bufferInfo=this.morphBufferInfo[Nr],this.vertexArrayInfo=ie?this.morphVAOs[Nr]:null}else this.bufferInfo=this.baseBufferInfo,this.vertexArrayInfo=this.baseVertexArrayInfo;Ut.morph=!1}return Ut.geometry=!1,Ut.vertexCount&&(this.vertexCount=gs(Me,!1),Ut.vertexCount=!1),this.uniforms[0]&&qt.setMaterialUniforms(this.uniforms[0],Le,Un),function(Nr,bi){bi.modifiers&&Array.from(bi.modifiers.values()).sort(Ji).forEach((xi,Fr)=>{if("range"in xi){const Si="modifierCenter"+Fr,ki="modifierRadius"+Fr;if(Nr[Si]||(Nr[Si]=(0,v.create)()),Nr[ki]||(Nr[ki]=(0,ds.create)()),xi.parent){xi.parent.updateWorldMatrix(),(0,v.transformMat4)(Nr[Si],xi.range.center,xi.parent.worldMatrix);const Mo=_e.get();(0,G.getScaling)(Mo,xi.parent.worldMatrix);const bo=(Mo[0]+Mo[1]+Mo[2])/3;_e.release(Mo);const Qo=xi.range.minRadius*bo;(0,ds.set)(Nr[ki],Qo,xi.range.maxRadius*bo-Qo)}else(0,v.copy)(Nr[Si],xi.range.center),(0,ds.set)(Nr[ki],xi.range.minRadius,xi.range.maxRadius-xi.range.minRadius)}else"fresnel"in xi&&(Array.isArray(xi.fresnel.center)?(Nr["modifierFresnelCenter"+Fr]=[...xi.fresnel.center],Nr["modifierFresnelEdge"+Fr]=[...xi.fresnel.edge]):(Nr["modifierFresnelCenter"+Fr]=[xi.fresnel.center,0,0],Nr["modifierFresnelEdge"+Fr]=[xi.fresnel.edge,0,0]),Nr["modifierFresnelBiasCenter"+Fr]=xi.fresnel.centerBias,Nr["modifierFresnelBiasEdge"+Fr]=xi.fresnel.edgeBias,Nr["modifierFresnelPower"+Fr]=xi.fresnel.power);"value"in xi&&(Array.isArray(xi.value)?Nr["modifierColorValue"+Fr]=xi.value:Nr["modifierValue"+Fr]="contrast"===xi.applyTo?xi.value+1:xi.value)});const{geometry:gi}=bi;if(gi?.morphKeys.length>1&&bi.morphKeyIndex>=0){const{morphKeyIndex:xi}=bi;Nr.morphFactor=bi.morphFactor,Nr.decodePositions=gi.morphKeys[xi].attributes.position?.decodeMat,Nr.decodeMorphPositions=gi.morphKeys[xi+1].attributes.position?.decodeMat}else delete Nr.decodePositions,delete Nr.decodeMorphPositions;bi instanceof tn&&(Nr.pointSize=bi.pointSize,Nr.pointUVScale=bi.pointUVScale)}(rn,s),at=!1,!0},this.setDirty=Br=>{if(Br)Ut[Br]||(Ut[Br]=!0,at=!0,this.emit("dirty",Br));else for(let Yr=0;Yr<Fc.length;Yr++)this.setDirty(Fc[Yr])};const qn=this.destroy;this.destroy=()=>{s.off("change",or),s.off("updateWorldMatrix",_r),c.release(s),An(),Pn(),qn()},Object.defineProperties(this,{topology:{get:()=>Me?.topology||ut.triangles},offset:{get:()=>Me?.offset||0},count:{get:()=>Me?.count||0},dirty:{get:()=>at},blendMode:{get:()=>Le.blendMode}}),Rn(s.geometry),Ln(s.material)}}const Zd=typeof WebGL2RenderingContext<"u";function Tl(h){return Zd&&h instanceof WebGL2RenderingContext}const Jd=[["blendColor","BLEND_COLOR"],["clearColor","COLOR_CLEAR_VALUE"],["colorMask","COLOR_WRITEMASK"],["depthRange","DEPTH_RANGE"],["scissor","SCISSOR_BOX"],["viewport","VIEWPORT"],["blendEquationSeparate",["BLEND_EQUATION_RGB","BLEND_EQUATION_ALPHA"]],["blendFuncSeparate",["BLEND_SRC_RGB","BLEND_SRC_ALPHA","BLEND_DST_RGB","BLEND_DST_ALPHA"]],["polygonOffset",["POLYGON_OFFSET_FACTOR","POLYGON_OFFSET_UNITS"]],["sampleCoverage",["SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT"]]],Fu=[["clearDepth","DEPTH_CLEAR_VALUE"],["clearStencil","STENCIL_CLEAR_VALUE"],["cullFace","CULL_FACE_MODE"],["depthFunc","DEPTH_FUNC"],["frontFace","FRONT_FACE"]],eu=[3042,2884,2929,3024,32823,32926,32928,3089,2960,35977],bh=new Set([35977]),Ra=class{constructor(h){const s=new Map,g={},c={};let O=null,X=!1;function ie(){eu.forEach(ne=>{bh.has(ne)&&!Tl(h)||s.set(ne,h.isEnabled(ne))}),Fu.forEach(([ne,we])=>{g[ne]=h.getParameter(h[we])}),X=h.getParameter(h.DEPTH_WRITEMASK),Jd.forEach(([ne,we])=>{"string"==typeof we?c[ne]=h.getParameter(h[we]):Array.isArray(we)&&(c[ne]=[],we.forEach((Te,Me)=>{c[ne][Me]=h.getParameter(h[Te])}))}),O=null,h.useProgram(null)}this.disable=ne=>{s.get(ne)&&(h.disable(ne),s.set(ne,!1))},this.enable=ne=>{s.get(ne)||(h.enable(ne),s.set(ne,!0))},this.useProgram=ne=>{ne!==O&&(O=ne,h.useProgram(O))},Fu.forEach(([ne])=>{this[ne]=we=>{g[ne]!==we&&(g[ne]=we,h[ne](we))}}),this.depthMask=ne=>{X!==ne&&(X=ne,h.depthMask(ne))},Jd.forEach(([ne])=>{this[ne]=(...we)=>{const Te=c[ne];let Me=!0;for(let Le=0,at=Te.length;Le<at;Le++){const Ft=we[Le];Me=Te[Le]===Ft&&Me,Te[Le]=Ft}Me||h[ne].apply(h,we)}}),ie(),this.reset=ie,Object.defineProperties(this,{gl:{get:()=>h,set(ne){ne!==h&&(h=ne,ie())}}})}blendEquation(h){this.blendEquationSeparate(h,h)}blendFunc(h,s){this.blendFuncSeparate(h,s,h,s)}},aa=E(5662),qs=h=>!(h&h-1)&&h>0;var Bc=function(h){return h[h.Nearest=9728]="Nearest",h[h.Linear=9729]="Linear",h[h.NearestMipMapNearest=9984]="NearestMipMapNearest",h[h.LinearMipMapNearest=9985]="LinearMipMapNearest",h[h.NearestMipMapLinear=9986]="NearestMipMapLinear",h[h.LinearMipMapLinear=9987]="LinearMipMapLinear",h}(Bc||{});const Bu={[Ne.Nearest]:Bc.Nearest,[Ne.Linear]:Bc.Linear},tu={[Xe.ClampToEdge]:33071,[Xe.Repeat]:10497,[Xe.MirrorRepeat]:33648},em={[Ne.Nearest]:{[Ne.Nearest]:Bc.NearestMipMapNearest,[Ne.Linear]:Bc.NearestMipMapLinear},[Ne.Linear]:{[Ne.Nearest]:Bc.LinearMipMapNearest,[Ne.Linear]:Bc.LinearMipMapLinear}};function Cf(h,s,g){const{width:c,height:O}=s;g||(g=Rt(c,O));const X=Tl(h)||qs(c)&&qs(O),ie=X&&g>=2?em[s.min][s.mipmapFilter]:Bu[s.min];return X?{width:c,height:O,min:ie,mag:Bu[s.mag],wrapS:tu[s.wrapU],wrapT:tu[s.wrapV]}:{width:c,height:O,min:ie,mag:Bu[s.mag],wrap:h.CLAMP_TO_EDGE}}const Nu="WEBGL_compressed_texture_s3tc",Zc="WEBGL_compressed_texture_s3tc_srgb",Va="WEBGL_compressed_texture_etc",Lu="WEBGL_compressed_texture_pvrtc",Jc="EXT_texture_compression_rgtc",vs="WEBGL_compressed_texture_astc",ja="EXT_texture_compression_bptc",Ma=h=>h.getExtension("WEBGL_compressed_texture_astc")?.getSupportedProfiles().includes("hdr"),Af=new Map([[na,[Int8Array]],[bs,[Uint8Array,Uint8ClampedArray]],[Ho,[Int16Array]],[$o,[Uint16Array]],[32819,[Uint16Array]],[32820,[Uint16Array]],[33635,[Uint16Array]],[no,[Int32Array]],[Do,[Uint32Array]],[35902,[Uint32Array]],[33640,[Uint32Array]],[35899,[Uint32Array]],[34042,[Uint32Array]],[36193,[Uint16Array]],[5131,[Uint16Array]],[Ls,[Float32Array]]]),xh=[["rgba8unorm",{format:us,internalFormat:us,type:bs}],["rgba16uint",{format:us,internalFormat:us,type:32819}]],Uu=[["etc2-rgb8unorm",{format:36196,extension:"WEBGL_compressed_texture_etc1"}],["rgba16float",{format:us,internalFormat:us,type:36193,extension:"OES_texture_half_float"}],["rgba32float",{format:us,internalFormat:us,type:Ls,extension:"OES_texture_float"}]],Hl=[["bc1-rgba-unorm",{format:33776,extension:Nu}],["bc1-rgba-unorm-srgb",{format:35916,extension:Zc}],["bc2-rgba-unorm",{format:33778,extension:Nu}],["bc2-rgba-unorm-srgb",{format:35918,extension:Zc}],["bc3-rgba-unorm",{format:33779,extension:Nu}],["bc3-rgba-unorm-srgb",{format:35919,extension:Zc}],["bc4-r-unorm",{format:36283,extension:Jc}],["bc4-r-snorm",{format:36284,extension:Jc}],["bc5-rg-unorm",{format:36285,extension:Jc}],["bc5-rg-snorm",{format:36286,extension:Jc}],["bc6h-rgb-ufloat",{format:36495,extension:ja}],["bc6h-rgb-float",{format:36494,extension:ja}],["bc7-rgba-unorm",{format:36492,extension:ja}],["bc7-rgba-unorm-srgb",{format:36493,extension:ja}],["etc2-rgb8unorm",{format:37492,extension:Va}],["etc2-rgb8unorm-srgb",{format:37493,extension:Va}],["etc2-rgb8a1unorm",{format:37494,extension:Va}],["etc2-rgb8a1unorm-srgb",{format:37495,extension:Va}],["etc2-rgba8unorm",{format:37496,extension:Va}],["etc2-rgba8unorm-srgb",{format:37497,extension:Va}],["eac-r11unorm",{format:37488,extension:Va}],["eac-r11snorm",{format:37489,extension:Va}],["eac-rg11unorm",{format:37490,extension:Va}],["eac-rg11snorm",{format:37491,extension:Va}],["astc-4x4-unorm",{format:37808,extension:vs}],["astc-5x4-unorm",{format:37809,extension:vs}],["astc-5x5-unorm",{format:37810,extension:vs}],["astc-6x5-unorm",{format:37811,extension:vs}],["astc-6x6-unorm",{format:37812,extension:vs}],["astc-8x5-unorm",{format:37813,extension:vs}],["astc-8x6-unorm",{format:37814,extension:vs}],["astc-8x8-unorm",{format:37815,extension:vs}],["astc-10x5-unorm",{format:37816,extension:vs}],["astc-10x6-unorm",{format:37817,extension:vs}],["astc-10x8-unorm",{format:37818,extension:vs}],["astc-10x10-unorm",{format:37819,extension:vs}],["astc-12x10-unorm",{format:37820,extension:vs}],["astc-12x12-unorm",{format:37821,extension:vs}],["astc-4x4-unorm-srgb",{format:37840,extension:vs}],["astc-5x4-unorm-srgb",{format:37841,extension:vs}],["astc-5x5-unorm-srgb",{format:37842,extension:vs}],["astc-6x5-unorm-srgb",{format:37843,extension:vs}],["astc-6x6-unorm-srgb",{format:37844,extension:vs}],["astc-8x5-unorm-srgb",{format:37845,extension:vs}],["astc-8x6-unorm-srgb",{format:37846,extension:vs}],["astc-8x8-unorm-srgb",{format:37847,extension:vs}],["astc-10x5-unorm-srgb",{format:37848,extension:vs}],["astc-10x6-unorm-srgb",{format:37849,extension:vs}],["astc-10x8-unorm-srgb",{format:37850,extension:vs}],["astc-10x10-unorm-srgb",{format:37851,extension:vs}],["astc-12x10-unorm-srgb",{format:37852,extension:vs}],["astc-12x12-unorm-srgb",{format:37853,extension:vs}],["astc-4x4-hdr",{format:37808,extension:vs,supported:Ma}],["astc-5x4-hdr",{format:37809,extension:vs,supported:Ma}],["astc-5x5-hdr",{format:37810,extension:vs,supported:Ma}],["astc-6x5-hdr",{format:37811,extension:vs,supported:Ma}],["astc-6x6-hdr",{format:37812,extension:vs,supported:Ma}],["astc-8x5-hdr",{format:37813,extension:vs,supported:Ma}],["astc-8x6-hdr",{format:37814,extension:vs,supported:Ma}],["astc-8x8-hdr",{format:37815,extension:vs,supported:Ma}],["astc-10x5-hdr",{format:37816,extension:vs,supported:Ma}],["astc-10x6-hdr",{format:37817,extension:vs,supported:Ma}],["astc-10x8-hdr",{format:37818,extension:vs,supported:Ma}],["astc-10x10-hdr",{format:37819,extension:vs,supported:Ma}],["astc-12x10-hdr",{format:37820,extension:vs,supported:Ma}],["astc-12x12-hdr",{format:37821,extension:vs,supported:Ma}],["pvrtc-rgb4unorm",{format:35840,extension:Lu}],["pvrtc-rgb2unorm",{format:35841,extension:Lu}],["pvrtc-rgba4unorm",{format:35842,extension:Lu}],["pvrtc-rgba2unorm",{format:35843,extension:Lu}]],Cd=[["rgba8unorm",{format:us,internalFormat:32856,type:bs}],["rgba8snorm",{format:us,internalFormat:36759,type:na}],["rgba8unorm-srgb",{format:us,internalFormat:35907,type:bs}],["rgba16uint",{format:va,internalFormat:36214,type:$o}],["r8unorm",{format:6403,internalFormat:33321,type:bs}],["r8snorm",{format:6403,internalFormat:36756,type:na}],["r8uint",{format:Ps,internalFormat:33330,type:bs}],["r8sint",{format:Ps,internalFormat:33329,type:na}],["r16uint",{format:Ps,internalFormat:33332,type:$o}],["r16sint",{format:Ps,internalFormat:33331,type:Ho}],["r16float",{format:6403,internalFormat:33325,type:5131}],["rg8unorm",{format:Qs,internalFormat:33323,type:bs}],["rg8snorm",{format:Qs,internalFormat:36757,type:na}],["rg8uint",{format:Qs,internalFormat:ha,type:bs}],["rg8sint",{format:Qs,internalFormat:ha,type:na}],["r32uint",{format:Ps,internalFormat:33334,type:Do}],["r32sint",{format:Ps,internalFormat:33326,type:no}],["r32float",{format:6403,internalFormat:33326,type:Ls}],["rg16uint",{format:ha,internalFormat:33338,type:$o}],["rg16sint",{format:ha,internalFormat:33337,type:Ho}],["rg16float",{format:Qs,internalFormat:33327,type:5131}],["rgba8uint",{format:va,internalFormat:36220,type:bs}],["rgba8sint",{format:va,internalFormat:36238,type:na}],["rgb9e5ufloat",{format:6407,internalFormat:35901,type:35902}],["rgb10a2uint",{format:va,internalFormat:36975,type:33640}],["rgb10a2unorm",{format:us,internalFormat:32857,type:33640}],["rg11b10ufloat",{format:6407,internalFormat:35898,type:35899}],["rg32uint",{format:ha,internalFormat:33340,type:Do}],["rg32sint",{format:ha,internalFormat:33339,type:no}],["rg32float",{format:Qs,internalFormat:33328,type:Ls}],["rgba16sint",{format:va,internalFormat:36232,type:Ho}],["rgba16float",{format:us,internalFormat:34842,type:5131}],["rgba32uint",{format:va,internalFormat:36208,type:Do}],["rgba32sint",{format:va,internalFormat:36226,type:no}],["rgba32float",{format:us,internalFormat:34836,type:Ls}],["depth16unorm",{format:6402,internalFormat:33189,type:$o}],["depth24plus",{format:6402,internalFormat:33190,type:Do}],["depth24plus-stencil8",{format:34041,internalFormat:35056,type:34042}],["depth32float",{format:6402,internalFormat:36012,type:Ls}],["depth32float-stencil8",{format:34041,internalFormat:36013,type:36269}]],dd={webgl1:new Map([...xh,...Hl,...Uu]),webgl2:new Map([...xh,...Hl,...Cd])},Eh=typeof ImageBitmap<"u",Mf=typeof ImageData<"u",Ad=[34069,34070,34071,34072,34073,34074];class Md{constructor(s,g){d(this,"webglTexture",void 0),d(this,"texture",void 0),d(this,"update",void 0),d(this,"destroy",void 0),this.texture=g;const c=Tl(s),O=g instanceof ge,X=O?s.TEXTURE_CUBE_MAP:s.TEXTURE_2D,ie=O?g.sources:[g.source],ne=O?g.levels:g.levels?[g.levels]:null,we=g.format,Te=se[we],Me=(c?dd.webgl2:dd.webgl1).get(we);if(!Me)throw new Error(`Unsupported texture format: ${we}`);const{format:Le,extension:at}=Me;if(at&&!s.getExtension(at)||Me.supported&&!Me.supported(s))throw new Error(`Texture format ${we} not available, missing ${at} extension.`);const Ft="internalFormat"in Me?Me.internalFormat:Le,Gt="type"in Me?Me.type:Le,qt=c;ie.forEach(gi=>{if(V(gi)){const xi=Af.get(Gt);if(xi&&!xi.some(Fr=>gi instanceof Fr))throw new Error(`Invalid typed array for texture data type 0x${Le.toString(16)}`)}});let Ut=qt?null:s.createTexture(),rn=!0,Un=!0,Pn=!0,Rn=!0,An=!1,Ln=!1,or=0,_r=0,qn=0,Br=0,Yr=0;function Hr(){Un=!0,Rn=!0,Pn=!0,rn=!0}function Nr(gi){Rn=!0,rn=!0;const{property:xi}=gi;"min"!==xi&&"mag"!==xi&&"mipmapFilter"!==xi||(Pn=!0)}function bi(){Pn=!0,rn=!0}g.on("change",Nr),g.on("resize",Hr),g.on("update",bi),this.update=()=>{if(!rn)return;Ut&&s.bindTexture(X,Ut);const{width:gi,height:xi}=g;Un&&(!qt||Br===gi&&Yr===xi||(Ut&&s.deleteTexture(Ut),Ut=s.createTexture(),s.bindTexture(X,Ut)),An=c||qs(gi)&&qs(xi),An?ne?.[0].length?(_r=ne[0].reduce((Si,{level:ki})=>Math.min(Si,ki),1/0),qn=ne[0].reduce((Si,{level:ki})=>Math.max(Si,ki),_r),or=qn-_r+1):(or=Rt(gi,xi),_r=0,qn=or-1):(or=1,_r=0,qn=0),qt&&(s.texStorage2D(X,or,Ft,gi,xi),Br=gi,Yr=xi));const Fr={...Cf(s,g,or),target:X,auto:!1};if(c&&(Fr.minLod=_r,Fr.maxLod=qn),Rn&&((0,aa.setTextureParameters)(s,Ut,Fr),g.anisotropy>1)){const Si=s.getExtension("EXT_texture_filter_anisotropic");if(Si){const ki=Math.min(s.getParameter(Si.MAX_TEXTURE_MAX_ANISOTROPY_EXT),g.anisotropy);s.texParameterf(X,Si.TEXTURE_MAX_ANISOTROPY_EXT,ki)}}if(Pn){for(let Si=0;Si<ie.length;Si++){const ki=ie[Si],Mo=ne?.[Si],bo=O?Ad[Si]:s.TEXTURE_2D;if(Mo){Ln=!0;for(let Qo=0;Qo<or;Qo++){const{src:Ii,width:Tr,height:vi,level:po}=Mo[Qo];Te.compressed?qt?s.compressedTexSubImage2D(bo,po,0,0,Tr,vi,Ft,Ii):s.compressedTexImage2D(bo,po,Ft,Tr,vi,0,Ii):qt?s.texSubImage2D(bo,po,0,0,Tr,vi,Le,Gt,Ii,0):s.texImage2D(bo,po,Ft,Tr,vi,0,Le,Gt,Ii)}if(!c){const Qo=Mo[Mo.length-1];let{width:Ii,height:Tr,level:vi}=Qo;for(;Ii>1||Tr>1;)if(Ii=Math.ceil(Ii/2),Tr=Math.ceil(Tr/2),vi++,Te.compressed){const po=Te.size(Ii,Tr),la=new Uint8Array(po);s.compressedTexImage2D(bo,vi,Ft,Ii,Tr,0,la)}else s.texImage2D(bo,vi,Ft,Ii,Tr,0,Le,Gt,null)}}else if(ki instanceof HTMLImageElement||ki instanceof HTMLCanvasElement||ki instanceof HTMLVideoElement||Mf&&ki instanceof ImageData||Eh&&ki instanceof ImageBitmap)qt?s.texSubImage2D(bo,0,0,0,gi,xi,Le,Gt,ki):s.texImage2D(bo,0,Ft,Le,Gt,ki);else{if(!V(ki))throw s.deleteTexture(Ut),new Error("Unknown texture source");Te.compressed?qt?s.compressedTexSubImage2D(bo,0,0,0,gi,xi,Ft,ki):s.compressedTexImage2D(bo,0,Ft,gi,xi,0,ki):qt?s.texSubImage2D(bo,0,0,0,gi,xi,Le,Gt,ki,0):s.texImage2D(bo,0,Ft,gi,xi,0,Le,Gt,ki)}}An&&!Ln&&Fr.min!==s.LINEAR&&Fr.min!==s.NEAREST&&s.generateMipmap(X)}s.bindTexture(X,null),Un=!1,Rn=!1,Pn=!1,rn=!1},this.destroy=()=>{g.off("change",Nr),g.off("resize",Hr),g.off("update",bi),s.deleteTexture(Ut)},Object.defineProperties(this,{webglTexture:{get:()=>Ut}})}}class yg extends ae{constructor(s){super(),d(this,"get",void 0),d(this,"release",void 0);const g=new go({key:(O,X)=>X,create:(O,X)=>X?(this.emit("create",{texture:X}),new Md(s,X)):null,release:O=>{O&&(O.destroy(),this.emit("release",{binding:O}))}});this.get=g.get,this.release=g.release;const c=this.destroy;this.destroy=()=>{g.destroy(),c()}}}class tm extends ae{constructor(s){super(),d(this,"get",void 0),d(this,"release",void 0);const g=new go({key:(O,X)=>X,create:(O,X)=>(this.emit("create",{texture:X}),new Md(s,X)),release:O=>{O.destroy(),this.emit("release",{binding:O})}});this.get=g.get,this.release=g.release;const c=this.destroy;this.destroy=()=>{g.destroy(),c()}}}class Vu extends ae{constructor(s){super(),d(this,"get",void 0),d(this,"release",void 0);const g=new Map,c=new re,O=new Map,X=new go({key:(Te,Me,Le)=>((at,Ft)=>{let Gt=c.get(at,Ft);return Gt||(Gt=Symbol(),c.set(at,Ft,Gt),O.set(Gt,{geometry:at,morphIndex:Ft})),Gt})(Me,Le),create:(Te,Me,Le)=>{if(!Me.attributes)return null;const{position:at,normal:Ft,tangent:Gt,...qt}=Me.attributes;let Ut=g.get(Me);if(!Ut){const Rn={...qt};if(Me.indices&&(Rn.indices=Me.indices),Ut={indicesBuffer:void 0,numElements:void 0,elementType:void 0,attribBuffers:void 0,morphAttribBuffers:new Map,keysUsed:new Set},Object.keys(Rn).length){const An=(0,aa.createBufferInfoFromArrays)(s,Rn),{indices:Ln,numElements:or,elementType:_r,attribs:qn}=An;Object.assign(Ut,{indicesBuffer:Ln,numElements:or,elementType:_r,attribBuffers:qn})}g.set(Me,Ut),Me.on("change",ne)}const rn=Ut.attribBuffers?{...Ut.attribBuffers}:{},Un=Le>=0&&Ut.morphAttribBuffers.get(Le);if(Un){const{position:Rn,normal:An,tangent:Ln}=Un;Rn&&(rn.position=Rn),An&&(rn.normal=An),Ln&&(rn.tangent=Ln)}else{const Rn=Le<0?Me.attributes:Me.morphKeys[Le].attributes;for(const[An,Ln]of Object.entries(Rn))rn[An]||(rn[An]=Ln)}if(Le>=0){const Rn=Ut.morphAttribBuffers.get(Le+1)??Me.morphKeys[Le+1].attributes;Rn.position&&(rn.morphPosition=Rn.position),Rn.normal&&(rn.morphNormal=Rn.normal),Rn.tangent&&(rn.morphTangent=Rn.tangent),Ut.keysUsed.add(Le)}const Pn=(0,aa.createBufferInfoFromArrays)(s,rn,{indices:Ut?.indicesBuffer,elementType:Ut?.elementType,numElements:Ut?.numElements});return Ut.morphAttribBuffers.set(Le,{position:Pn.attribs.position,normal:Pn.attribs.normal,tangent:Pn.attribs.tangent}),Le>=0&&Pn.attribs.morphPosition&&Ut.morphAttribBuffers.set(Le+1,{position:Pn.attribs.morphPosition,normal:Pn.attribs.morphNormal,tangent:Pn.attribs.morphTangent}),this.emit("create",{geometry:Me,morphIndex:Le}),Pn},release:(Te,Me)=>{const{geometry:Le,morphIndex:at}=O.get(Me);c.delete(Le,at),O.delete(Me);const Ft=g.get(Le);if(Ft){const{keysUsed:Gt}=Ft;Gt.delete(at);for(let qt=at,Ut=at+1;qt<=Ut;qt++)if(!Gt.has(qt)&&!Gt.has(qt-1)){const rn=Ft.morphAttribBuffers.get(qt);if(rn){for(const Un of Object.values(rn))Un?.buffer&&s.deleteBuffer(Un.buffer);Ft.morphAttribBuffers.delete(qt)}}if(!Ft.morphAttribBuffers.size){Ft.indicesBuffer&&s.deleteBuffer(Ft.indicesBuffer);for(const qt of Object.values(Ft.attribBuffers||{}))s.deleteBuffer(qt.buffer)}}Ft?.morphAttribBuffers.size||(g.delete(Le),Le.off("change",ne)),this.emit("release",{bufferInfo:Te,geometry:Le})}});function ie(Te,Me){const Le=g.get(Te);for(const Ft in Le.attribBuffers)Object.prototype.hasOwnProperty.call(Le.attribBuffers,Ft)&&(0,aa.setAttribInfoBufferFromArray)(s,Le.attribBuffers[Ft],Te.attributes[Ft].data);const at=Le?.morphAttribBuffers.get(Me);if(at){const Ft=Me<0?Te.attributes:Te.morphKeys[Me].attributes;for(const Gt in at)Object.prototype.hasOwnProperty.call(at,Gt)&&at[Gt]&&(0,aa.setAttribInfoBufferFromArray)(s,at[Gt],Ft[Gt].data)}}function ne(Te){const{geometry:Me,property:Le,morphIndex:at}=Te;"attributes"===Le?ie(Me,-1):"morphKey"===Le&&ie(Me,at)}this.get=(Te,Me,Le=-1)=>X.get(Te,Me,Le),this.release=(Te,Me,Le=-1)=>X.release(Te,Me,Le);const we=this.destroy;this.destroy=()=>{X.destroy(),we()}}}class ed extends ae{constructor(s){super(),d(this,"get",void 0),d(this,"release",void 0);const g=s instanceof WebGLRenderingContext&&s.getExtension("OES_vertex_array_object"),c=Tl(s)?ne=>s.deleteVertexArray(ne):g?ne=>g.deleteVertexArrayOES(ne):()=>{},O=new re,X=new go({key:(ne,we,Te)=>((Me,Le)=>{let at=O.get(Me,Le);return at||(at=Symbol(),O.set(Me,Le,at)),at})(we,Te),create:(ne,we,Te)=>ne&&we&&Te?(this.emit("create",{programInfo:we,bufferInfo:Te}),(0,aa.createVertexArrayInfo)(s,we,Te)):null,release:(ne,we,Te,Me)=>{ne&&c(ne.vertexArrayObject),O.delete(Te,Me),ne&&this.emit("release",{vertexArrayInfo:ne})}});this.get=X.get,this.release=X.release;const ie=this.destroy;this.destroy=()=>{X.destroy(),ie()}}}class Df extends ae{constructor(s,g){function c(ie){const ne=ie.material&&za(ie.material),we=ne?.options(ie)||null;return g?g(ie,we):we}super(),d(this,"get",void 0),d(this,"release",void 0);const O=new go({key:ie=>{const ne=ie.material?.type||"",we=ne&&c(ie),Te=ie.material&&za(ie.material);return we?ne+"::"+Te.key(we):""},create:ie=>{if(!ie||!ie.material)return null;const ne=c(ie),we=za(ie.material).shader(ne);if(!we)return null;const{frag:Te,vert:Me}=we,Le=(0,aa.createProgramInfo)(s,[Me,Te]);return this.emit("create",{programInfo:Le}),Le},release:ie=>{ie&&s.deleteProgram(ie.program),this.emit("release",{programInfo:ie})},timeout:18e5});this.get=ie=>O.get(ie),this.release=ie=>O.release(ie);const X=this.destroy;this.destroy=()=>{O.destroy(),X()}}}const ql={[ut.points]:0,[ut.lines]:1,[ut.lineLoop]:2,[ut.lineStrip]:3,[ut.triangles]:4,[ut.triangleStrip]:5,[ut.triangleFan]:6};function Nc(h,s,g){return void 0===s?h:"function"==typeof s?s(g):s}function fc(h,s,g={}){const{beforeRender:c,glState:O=h}=g,X=!Tl(h)&&h.getExtension("OES_vertex_array_object")||null,ie=Tl(h)||!!X;return function(ne,we,...Te){let Me=null,Le=null,at=null,Ft=!1;O.frontFace(h.CCW);const Gt=[];for(const qt of ne){const Ut=Nc(qt.programInfo,g.programInfo,qt),rn=Nc(qt.bufferInfo,g.bufferInfo,qt),Un=Nc(qt.vertexArrayInfo,g.vertexArrayInfo,qt),Pn=Nc(qt.uniforms,g.uniforms,qt),Rn=!!Nc(qt.clockwise,g.clockwise,qt),An=Ut!==Me;if(An&&(Me=Ut,O.useProgram(Ut.program),we&&((0,aa.setUniforms)(Ut,we),Gt.length=0)),Rn!==Ft&&(Ft=Rn,O.frontFace(Rn?h.CW:h.CCW)),Un&&ie&&Ut===qt.programInfo?Un!==at&&((0,aa.setBuffersAndAttributes)(h,Ut,Un),at=Un):(An||rn!==Le)&&(Le=rn,(0,aa.setBuffersAndAttributes)(h,Ut,rn)),c&&c(qt,Ut,Un||rn,Pn,...Te),Array.isArray(Pn))for(let Ln=0;Ln<Pn.length;Ln++){const or=Pn[Ln];(Ln>=Gt.length||or!==Gt[Ln])&&(Gt.length=Ln,Gt[Ln]=or,or&&(0,aa.setUniforms)(Ut,or))}else Pn&&(0,aa.setUniforms)(Ut,Pn);s(qt,Ut,Un||rn,Pn,...Te)}ie&&(X?X.bindVertexArrayOES(null):h.bindVertexArray(null))}}function nm(h,s){return fc(h,(g,c,O)=>{0!==g.count&&(0,aa.drawBufferInfo)(h,O,ql[g.topology],g.count,g.offset)},s)}const ju=h=>({blurCoefficient:h.blur??.1,texelOffset:new Float32Array([0,0])}),nu={passes:[{shader:"blur",uniforms:ju,sourceTexture:"source",resize(h,s){h.texelOffset[0]=1/s}},{shader:"blur",uniforms:ju,sourceTexture:"source",resize(h,s,g){h.texelOffset[1]=1/g}}],shaders:{blur:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0), MAX_BLUR);\n\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\tfloat count = 0.0;\n\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tcolor /= count;\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},wh=h=>({focusStart:h.focusStart??90*ht,focusEnd:h.focusEnd??130*ht,blurCoefficient:h.blur??.1,texelOffset:new Float32Array([0,0]),depthRange:new Float32Array([0,0])}),Gl={passes:[{shader:"dof",uniforms:wh,sourceTexture:"source",depthTexture:"depthTex",resize(h,s){h.texelOffset[0]=1/s}},{shader:"dof",uniforms:wh,sourceTexture:"source",depthTexture:"depthTex",resize(h,s,g){h.texelOffset[1]=1/g}}],camera(h,s){h.depthRange[0]=s.near,h.depthRange[1]=s.far},shaders:{dof:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float focusStart;\n\t\tuniform float focusEnd;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform sampler2D depthTex;\n\t\tuniform vec2 texelOffset;\n\t\tuniform vec2 depthRange;\n\t\tvoid main() {\n\t\t\t\n\t\t\tfloat ndc = 2.0 * texture2D(depthTex, uv).r - 1.0;\n\t\t\tfloat depth = -(2.0 * depthRange.y * depthRange.x) / (ndc * (depthRange.y - depthRange.x) - depthRange.y - depthRange.x);\n\t\t\tfloat deltaDepth = max(depth - focusEnd, 0.0) + max(focusStart - depth, 0.0);\n\t\t\t\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tif (ndc < 1.0 && deltaDepth > 0.0) {\n\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * deltaDepth), MAX_BLUR);\n\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\tfloat count = 0.0;\n\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tcolor /= count;\n\t\t\t} else {\n\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t}\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},Tf=h=>({blurParams:new Float32Array([h.center?.[0]||0,h.center?.[1]||0,h.radius??.2,h.blur??.1]),texelParams:new Float32Array([0,0,0])}),ru={passes:[{shader:"radialBlur",uniforms:Tf,sourceTexture:"source",resize(h,s,g){const c=s/g;h.texelParams[0]=c/s,h.texelParams[2]=c}},{shader:"radialBlur",uniforms:Tf,sourceTexture:"source",resize(h,s,g){const c=s/g;h.texelParams[1]=1/g,h.texelParams[2]=c}}],shaders:{radialBlur:"\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\t#define MAX_BLUR 20.0\n\t\t\tvarying vec2 uv;\n\t\t\tuniform sampler2D source;\n\t\t\tuniform vec4 blurParams;\n\t\t\tuniform vec3 texelParams;\n\t\t\tvoid main() {\n\t\t\t\tvec2 center = blurParams.xy;\n\t\t\t\tfloat radius = blurParams.z;\n\t\t\t\tfloat blurCoefficient = blurParams.w;\n\t\t\t\tvec2 texelOffset = texelParams.xy;\n\t\t\t\tfloat aspect = texelParams.z;\n\t\t\t\tvec2 pos = uv * 2.0 - 1.0;\n\t\t\t\tpos.x *= aspect;\n\t\t\t\tfloat r = length(pos - center);\n\t\t\t\tfloat deltaR = max(r - radius, 0.0);\n\t\t\t\t\n\t\t\t\tvec4 color = vec4(0.0);\n\t\t\t\tif (deltaR > 0.0) {\n\t\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0 * deltaR), MAX_BLUR);\n\t\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\t\tfloat count = 0.0;\n\t\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t\tcolor /= count;\n\t\t\t\t} else {\n\t\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t\t}\n\t\t\t\tgl_FragColor = color;\n\t\t\t}".replace(/\n\t{3}/g,"\n").trim()}},Zl=new Map([[10,[1.5,3,12]],[11,[1,1.5,3,12]],[12,[1,1.5,2,4,12]],[13,[1,1.5,2,2,4,12]],[14,[1,1.5,2,2,2,4,12]],[15,[1,1.5,2,2,2,2,4,12]],[20,[1.5,2,8]],[21,[1,1.5,2,8]],[22,[1,1.5,2,2,8]],[23,[1,1.5,2,2,2,8]],[24,[1,1.5,2,2,2,3,8]],[25,[1,1.5,2,2,2,2,4,8]],[26,[1,1.5,2,2,2,2,2,4,8]],[27,[1,1.5,2,2,2,2,2,2,4,8]],[28,[1,1.5,2,2,2,2,2,2,2,4,8]],[29,[1,1.5,2,2,2,2,2,2,2,2,4,8]],[39,[1,1,1,1,1,1.5,2,2,2,2,4,8]]]),Ch={passes:[{shader:"fxaa",uniforms:()=>({texelOffset:new Float32Array([0,0])}),sourceTexture:"source"}],shaders:{fxaa:function(h=25){const s=Zl.get(h);if(!s)throw new Error("Undefined FXAA quality preset "+h);const[g,c,...O]=s;return`\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\n\t\tvarying vec2 uv;\n\n\t\tconst float fxaaQualitySubpix = 0.75;\n\t\tconst float fxaaQualityEdgeThreshold = 0.125;\n\t\tconst float fxaaQualityEdgeThresholdMin = 0.0;\n\n\t\t#define FxaaBool bool\n\t\t#define FxaaFloat float\n\t\t#define FxaaFloat2 vec2\n\t\t#define FxaaFloat3 vec3\n\t\t#define FxaaFloat4 vec4\n\t\t#define FxaaHalf float\n\t\t#define FxaaHalf2 vec2\n\t\t#define FxaaHalf3 vec3\n\t\t#define FxaaHalf4 vec4\n\t\t#define FxaaInt2 vec2\n\t\t#define FxaaTex sampler2D\n\n\t\t#define FxaaSat(x) clamp(x, 0.0, 1.0)\n\t\t#define FxaaTexTop(t, p) texture2D(t, p)\n\t\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n\n\t\t#define lumaM rgbyM.y\n\n\t\t#define FXAA_QUALITY_P0 ${Fe(g)}\n\t\t#define FXAA_QUALITY_P1 ${Fe(c)}\n\n\t\tFxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n\n\t\tFxaaFloat4 FxaaPixelShader(\n\t\t\n\t\tFxaaFloat2 pos,\n\t\t\n\t\tFxaaTex tex,\n\t\t\n\t\tFxaaFloat2 fxaaQualityRcpFrame,\n\t\t\n\t\tFxaaFloat fxaaQualitySubpix,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThreshold,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThresholdMin\n\t\t) {\n\t\t\t\n\t\t\tFxaaFloat2 posM;\n\t\t\tposM.x = pos.x;\n\t\t\tposM.y = pos.y;\n\t\t\tFxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n\t\t\tFxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat maxSM = max(lumaS, lumaM);\n\t\t\tFxaaFloat minSM = min(lumaS, lumaM);\n\t\t\tFxaaFloat maxESM = max(lumaE, maxSM);\n\t\t\tFxaaFloat minESM = min(lumaE, minSM);\n\t\t\tFxaaFloat maxWN = max(lumaN, lumaW);\n\t\t\tFxaaFloat minWN = min(lumaN, lumaW);\n\t\t\tFxaaFloat rangeMax = max(maxWN, maxESM);\n\t\t\tFxaaFloat rangeMin = min(minWN, minESM);\n\t\t\tFxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n\t\t\tFxaaFloat range = rangeMax - rangeMin;\n\t\t\tFxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n\t\t\tFxaaBool earlyExit = range < rangeMaxClamped;\n\t\t\t\n\t\t\tif(earlyExit)\n\t\t\t\treturn rgbyM;\n\t\t\t\n\t\t\tFxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat lumaNS = lumaN + lumaS;\n\t\t\tFxaaFloat lumaWE = lumaW + lumaE;\n\t\t\tFxaaFloat subpixRcpRange = 1.0/range;\n\t\t\tFxaaFloat subpixNSWE = lumaNS + lumaWE;\n\t\t\tFxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n\t\t\tFxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n\t\t\t\n\t\t\tFxaaFloat lumaNESE = lumaNE + lumaSE;\n\t\t\tFxaaFloat lumaNWNE = lumaNW + lumaNE;\n\t\t\tFxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n\t\t\tFxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n\t\t\t\n\t\t\tFxaaFloat lumaNWSW = lumaNW + lumaSW;\n\t\t\tFxaaFloat lumaSWSE = lumaSW + lumaSE;\n\t\t\tFxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n\t\t\tFxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n\t\t\tFxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n\t\t\tFxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n\t\t\tFxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n\t\t\tFxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n\t\t\t\n\t\t\tFxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n\t\t\tFxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n\t\t\tFxaaBool horzSpan = edgeHorz >= edgeVert;\n\t\t\tFxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n\t\t\t\n\t\t\tif(!horzSpan) lumaN = lumaW;\n\t\t\tif(!horzSpan) lumaS = lumaE;\n\t\t\tif(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n\t\t\tFxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n\t\t\t\n\t\t\tFxaaFloat gradientN = lumaN - lumaM;\n\t\t\tFxaaFloat gradientS = lumaS - lumaM;\n\t\t\tFxaaFloat lumaNN = lumaN + lumaM;\n\t\t\tFxaaFloat lumaSS = lumaS + lumaM;\n\t\t\tFxaaBool pairN = abs(gradientN) >= abs(gradientS);\n\t\t\tFxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n\t\t\tif(pairN) lengthSign = -lengthSign;\n\t\t\tFxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n\t\t\t\n\t\t\tFxaaFloat2 posB;\n\t\t\tposB.x = posM.x;\n\t\t\tposB.y = posM.y;\n\t\t\tFxaaFloat2 offNP;\n\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\t\t\tif(!horzSpan) posB.x += lengthSign * 0.5;\n\t\t\tif( horzSpan) posB.y += lengthSign * 0.5;\n\t\t\t\n\t\t\tFxaaFloat2 posN;\n\t\t\tposN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n\t\t\tposN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat2 posP;\n\t\t\tposP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n\t\t\tposP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n\t\t\tFxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n\t\t\tFxaaFloat subpixE = subpixC * subpixC;\n\t\t\tFxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n\t\t\t\n\t\t\tif(!pairN) lumaNN = lumaSS;\n\t\t\tFxaaFloat gradientScaled = gradient * 1.0/4.0;\n\t\t\tFxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n\t\t\tFxaaFloat subpixF = subpixD * subpixE;\n\t\t\tFxaaBool lumaMLTZero = lumaMM < 0.0;\n\t\t\t\n\t\t\tlumaEndN -= lumaNN * 0.5;\n\t\t\tlumaEndP -= lumaNN * 0.5;\n\t\t\tFxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tFxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n\t\t\tFxaaBool doneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n\t\t\t${function X(ie){if(!ie.length)return"";const[ne,...we]=ie,Te=Fe(ne);return`if(doneNP) {\n\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * ${Te};\n\t\t\tif(!doneN) posN.y -= offNP.y * ${Te};\n\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * ${Te};\n\t\t\tif(!doneP) posP.y += offNP.y * ${Te};\n\t\t\t${X(we)}\n\t\t}\n`}(O)}\n\t\t\tFxaaFloat dstN = posM.x - posN.x;\n\t\t\tFxaaFloat dstP = posP.x - posM.x;\n\t\t\tif(!horzSpan) dstN = posM.y - posN.y;\n\t\t\tif(!horzSpan) dstP = posP.y - posM.y;\n\t\t\t\n\t\t\tFxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLength = (dstP + dstN);\n\t\t\tFxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLengthRcp = 1.0/spanLength;\n\t\t\t\n\t\t\tFxaaBool directionN = dstN < dstP;\n\t\t\tFxaaFloat dst = min(dstN, dstP);\n\t\t\tFxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n\t\t\tFxaaFloat subpixG = subpixF * subpixF;\n\t\t\tFxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n\t\t\tFxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n\t\t\t\n\t\t\tFxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n\t\t\tFxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n\t\t\tif(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n\t\t\tif( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n\t\t\treturn FxaaTexTop(tex, posM);\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\t\tuv,\n\t\t\t\t\tsource,\n\t\t\t\t\ttexelOffset,\n\t\t\t\t\tfxaaQualitySubpix,\n\t\t\t\t\tfxaaQualityEdgeThreshold,\n\t\t\t\t\tfxaaQualityEdgeThresholdMin);\n\t\t}\n\t`.replace(/\n\t{2}/g,"\n").trim()}(25)}},Dd=["VERTEX_SHADER","FRAGMENT_SHADER"],Ah=/ERROR:\s*\d+:(\d+)/gi;function Mh(h,s){const g=s.map((O,X)=>{const ne=h.createShader(h[Dd[X]]);return h.shaderSource(ne,O),h.compileShader(ne),ne}),c=h.createProgram();if(g.forEach(O=>{h.attachShader(c,O)}),h.linkProgram(c),!h.getProgramParameter(c,h.LINK_STATUS)){let O=!1;if(g.forEach((X,ie)=>{if(!h.getShaderParameter(X,h.COMPILE_STATUS)){O=!0;const ne=h.getShaderInfoLog(X),we="Error compiling: "+Dd[ie]+":\n"+ne+"\n"+function(Te,Me=""){const Le=[...Me.matchAll(Ah)],at=new Map(Le.map((Ft,Gt)=>{const qt=parseInt(Ft[1],10),Ut=Le[Gt+1];return[qt-1,Me.substring(Ft.index,Ut?Ut.index:Me.length)]}));return Te.split("\n").map((Ft,Gt)=>{const qt=at.get(Gt);return`${Gt+1}: ${Ft}${qt?`\n\n^^^ ${qt}`:""}`}).join("\n")}(h.getShaderSource(X));console.error(we)}h.deleteShader(X)}),!O){const X=h.getProgramInfoLog(c);console.error(`Error in program linking: ${X}`)}return h.deleteProgram(c),g.forEach(X=>{h.deleteShader(X)}),null}return(0,aa.createProgramInfoFromProgram)(h,c)}const Sf={blur:nu,dof:Gl,radialBlur:ru,fxaa:Ch};function Td(h){h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE)}class pc{constructor(s,g){d(this,"enabled",!0),d(this,"setPipeline",void 0),d(this,"begin",void 0),d(this,"render",void 0),d(this,"destroy",void 0);const c=g?.glState||s,O=Tl(s),X=O||!!s.getExtension("WEBGL_depth_texture")||!!s.getExtension("WEBKIT_WEBGL_depth_texture"),ie=s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT,ne=(0,aa.createBufferInfoFromArrays)(s,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),we=new re,Te=[],Me=[],Le=O&&s.getParameter(s.MAX_SAMPLES)||1;let at=null,Ft=0,Gt=0,qt=!0,Ut=!1,rn=null,Un=null,Pn=null,Rn=null,An=null,Ln=null;function or(){for(;Te.length;){const{frameBuffer:Hr,texture:Nr}=Te.pop();s.deleteFramebuffer(Hr),s.deleteTexture(Nr)}}function _r(){rn&&(s.deleteFramebuffer(rn),rn=null),Rn&&(s.deleteFramebuffer(Rn),Rn=null),Un&&(s.deleteRenderbuffer(Un),Un=null),An&&(s.deleteRenderbuffer(An),An=null),Pn&&(s.deleteTexture(Pn),Pn=null),Ln&&(s.deleteTexture(Ln),Ln=null),or(),we.forEach(Hr=>{s.deleteProgram(Hr.program)}),we.clear()}const qn=()=>{this.setPipeline(at)};s.canvas.addEventListener("webglcontextlost",_r,!1),s.canvas.addEventListener("webglcontextrestored",qn,!1);let Br=0;const Yr=nm(s,{beforeRender(Hr,Nr,bi,gi){const xi=Te.length?(Br+1)%Te.length:0;Hr.sourceTexture&&(gi[Hr.sourceTexture]=Hr.first?Pn:Te[Br].texture),Hr.depthTexture&&(gi[Hr.depthTexture]=Ln),s.bindFramebuffer(s.FRAMEBUFFER,Hr.last?null:Te[xi].frameBuffer),c.viewport(0,0,Ft,Gt),c.depthMask(!0),s.clear(ie),c.depthMask(!1),Br=xi},glState:c});this.setPipeline=Hr=>{at=Hr,Me.length=0,qt=!0,Ut=X&&!O,at?.forEach(Nr=>{const bi=Sf[Nr.effect];if(!bi)return void console.warn("Unknown postprocess effect: "+Nr.effect);if("fxaa"===Nr.effect&&O)return;const gi=bi.passes.some(({depthTexture:xi})=>!!xi);!gi||X?(gi&&(Ut=!0),bi.passes.forEach(xi=>{let Fr=we.get(Nr.effect,xi.shader);Fr||(Fr=Mh(s,["\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n\tuv = position * vec2(0.5) + vec2(0.5);\n\tgl_Position = vec4(position, 0.0, 1.0);\n}",bi.shaders[xi.shader]]),we.set(Nr.effect,xi.shader,Fr));const Si="function"==typeof xi.uniforms?xi.uniforms(Nr):Object.assign({},xi.uniforms),ki=xi.resize||bi.resize;ki&&ki(Si,Ft,Gt);const Mo=xi.camera||bi.camera,{sourceTexture:bo,depthTexture:Qo}=xi;Me.push({bufferInfo:ne,programInfo:Fr,uniforms:Si,topology:ut.triangles,resize:ki,camera:Mo,sourceTexture:bo,depthTexture:Qo,first:!1,last:!1})})):console.warn("Unsupported postprocess effect: "+Nr.effect)}),Me.length&&(Me[0].first=!0,Me[Me.length-1].last=!0)},this.begin=()=>{if(!Me.length||!this.enabled)return;const Hr=s.drawingBufferWidth,Nr=s.drawingBufferHeight,bi=Ft!==Hr||Gt!==Nr;(bi||qt)&&(Ft=Hr,Gt=Nr,qt=!1,rn||(rn=s.createFramebuffer(),O&&(Un=s.createRenderbuffer(),Rn=s.createFramebuffer()),Pn=s.createTexture()),Ut?(Ln||(Ln=s.createTexture()),O||(s.deleteRenderbuffer(An),An=null)):Ln&&(s.deleteTexture(Ln),Ln=null),An||Ut&&!O||(An=s.createRenderbuffer()),s.bindFramebuffer(s.FRAMEBUFFER,rn),O?(s.bindRenderbuffer(s.RENDERBUFFER,An),s.renderbufferStorageMultisample(s.RENDERBUFFER,Le,s.DEPTH_COMPONENT24,Ft,Gt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,An),s.bindRenderbuffer(s.RENDERBUFFER,Un),s.renderbufferStorageMultisample(s.RENDERBUFFER,Le,s.RGBA8,Ft,Gt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,Un),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindFramebuffer(s.FRAMEBUFFER,Rn),s.bindTexture(s.TEXTURE_2D,Pn),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,Ft,Gt,0,s.RGBA,s.UNSIGNED_BYTE,null),Td(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Pn,0),Ut&&(s.bindTexture(s.TEXTURE_2D,Ln),s.texImage2D(s.TEXTURE_2D,0,s.DEPTH_COMPONENT24,Ft,Gt,0,s.DEPTH_COMPONENT,s.UNSIGNED_INT,null),Td(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Ln,0))):(s.bindTexture(s.TEXTURE_2D,Pn),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,Ft,Gt,0,s.RGBA,s.UNSIGNED_BYTE,null),Td(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Pn,0),s.bindTexture(s.TEXTURE_2D,null),Ut?(s.bindTexture(s.TEXTURE_2D,Ln),s.texImage2D(s.TEXTURE_2D,0,s.DEPTH_COMPONENT,Ft,Gt,0,s.DEPTH_COMPONENT,s.UNSIGNED_INT,null),Td(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Ln,0),s.bindTexture(s.TEXTURE_2D,null)):(s.bindRenderbuffer(s.RENDERBUFFER,An),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_COMPONENT16,Ft,Gt),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,An),s.bindRenderbuffer(s.RENDERBUFFER,null))),Me.forEach(gi=>{gi.resize&&gi.resize(gi.uniforms,Ft,Gt)}),bi&&or()),s.bindFramebuffer(s.FRAMEBUFFER,rn)},this.render=Hr=>{if(!Me.length||!this.enabled)return;const Nr=Math.min(2,Me.length-1);for(let bi=Te.length;bi<Nr;bi++){const gi=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,gi);const xi=s.createTexture();s.bindTexture(s.TEXTURE_2D,xi),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,Ft,Gt,0,s.RGBA,s.UNSIGNED_BYTE,null),Td(s),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,xi,0),s.bindTexture(s.TEXTURE_2D,null),Te.push({frameBuffer:gi,texture:xi})}if(Me.forEach(bi=>{bi.camera&&bi.camera(bi.uniforms,Hr)}),Br=0,O){const bi=Ut?ie:s.COLOR_BUFFER_BIT;s.bindFramebuffer(s.READ_FRAMEBUFFER,rn),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,Rn),s.blitFramebuffer(0,0,Ft,Gt,0,0,Ft,Gt,bi,s.NEAREST),s.bindFramebuffer(s.READ_FRAMEBUFFER,null),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null)}c.disable(s.CULL_FACE),c.disable(s.DEPTH_TEST),Yr(Me),s.bindFramebuffer(s.FRAMEBUFFER,null)},this.destroy=()=>{s.canvas.removeEventListener("webglcontextlost",_r,!1),s.canvas.removeEventListener("webglcontextrestored",qn,!1),_r()}}}const iu=["lightMap","reflectionMap"];class Dh extends ae{constructor(s,g){super(),d(this,"fog",void 0),d(this,"lightMap",void 0),d(this,"reflectionMap",void 0),d(this,"release",void 0),d(this,"restore",void 0);const c={lightMap:null,reflectionMap:null};["lightMap","reflectionMap"].forEach(ie=>{const ne={},we=ie+"Intensity",Te=ie+"MaxMipLevel";s[we]=0,s[Te]=0;let Me="world";Object.defineProperties(ne,{texture:{get:()=>c[ie],set:Le=>{const at=c[ie],Ft=!!at;if(at&&(g.release(ie,at),s[ie]=null),c[ie]=Le||null,Le){const Gt=g.get(ie,Le);Gt.update(),s[ie]=Gt.webglTexture}Ft!==!!Le&&this.emit("change",{property:ie})}},intensity:{get:()=>s[we],set:Le=>{s[we]=Le}},mipLevels:{get:()=>s[Te],set:Le=>{s[Te]=Math.max(0,Le-1)}},space:{get:()=>Me,set:Le=>{Le!==Me&&(Me=Le,this.emit("change",{property:ie}))}}}),Object.defineProperty(this,ie,{writable:!1,value:ne})});const O={mode:"",color:new Float32Array([1,1,1]),density:.01,start:0,end:1e3,min:0,max:1};Object.keys(O).forEach(ie=>{s["fog."+ie]=O[ie]}),Object.defineProperty(this,"fog",{writable:!1,value:new Proxy(O,{set:(ie,ne,we)=>{let Te=!1;return"color"===ne?((0,v.copy)(s["fog.color"],we),Te=!0):ne in ie&&ie[ne]!==we&&(ie[ne]=we,s["fog."+ne]=we,Te=!0),Te&&this.emit("change",{property:"fog",detail:ne}),!0}})}),this.release=()=>{iu.forEach(ie=>{const ne=c[ie];ne&&g.release(ie,ne)})},this.restore=()=>{iu.forEach(ie=>{const ne=c[ie];if(ne){const we=g.get(ie,ne);we.update(),s[ie]=we.webglTexture}})};const X=this.destroy;this.destroy=()=>{this.release(),X()}}}const Sd={antialias:!0,powerPreference:"high-performance"};function Jl(h,s){const{contextName:g,...c}=s||{},O=g?[g]:["webgl2","webgl","experimental-webgl"];let X=null,ie="";function ne(Te){ie=Te.statusMessage||""}h.addEventListener("webglcontextcreationerror",ne);for(let Te=0;Te<O.length;++Te)if(X=h.getContext(O[Te],{...Sd,...c}),X){(0,aa.addExtensionsToContext)(X);break}if(h.removeEventListener("webglcontextcreationerror",ne),!X)throw new Error("Unable to initialize WebGL: "+(ie||"unknown error"));return X}function ud(h,s){const g=_e.get(),{min:c,max:O}=s;for(let X=0;X<h.length;X++){const ie=h[X];if(g[0]=ie[0]>0?O[0]:c[0],g[1]=ie[1]>0?O[1]:c[1],g[2]=ie[2]>0?O[2]:c[2],ia(ie,g)<0)return _e.release(g),!1}return _e.release(g),!0}function ts(h,s,g){const c=h.get(g);return!!c?.renderable&&ud(s,c.worldBounds)}function mc(h,s){return h.has(s)||h.set(s,h.size),h.get(s)}function Lc(h){const s=new Map,g=new Map,c=new Map;return h.sort((O,X)=>{if(O.vertexArrayInfo&&X.vertexArrayInfo){if(O.vertexArrayInfo!==X.vertexArrayInfo){const ie=mc(c,O.vertexArrayInfo),ne=mc(c,X.vertexArrayInfo);if(ie!==ne)return ie-ne}}else{if(O.programInfo!==X.programInfo){const ie=mc(s,O.programInfo),ne=mc(s,X.programInfo);if(ie!==ne)return ie-ne}if(O.bufferInfo!==X.bufferInfo){const ie=mc(g,O.bufferInfo),ne=mc(g,X.bufferInfo);if(ie!==ne)return ie-ne}}return O.screenPosition[2]-X.screenPosition[2]}),h}function il(h,s){return h.has(s)||h.set(s,h.size),h.get(s)}const Ha={alpha:{noDepthMask:!1,orderDependent:!0,twoPass:!1},addAlpha:{noDepthMask:!0,orderDependent:!1,twoPass:!1},improvedAlpha:{noDepthMask:!0,orderDependent:!0,twoPass:!0}};function Hu(h,...s){let g=$t.Alpha;for(let X=0;X<s.length;X++){const ie=s[X];if(ie===$t.Alpha||ie===$t.AddAlpha||ie===$t.ImprovedAlpha){g=ie;break}}let c=!1;const O=Ha[g];for(const X in O)Object.prototype.hasOwnProperty.call(O,X)&&h[X]!==O[X]&&(h[X]=O[X],c=!0);return c}const Gu=(0,M.create)();function Qa(h,s,g=0){let c=0;h.forEach(X=>{"ambient"!==X.type&&c++});let O=0;(0,v.set)(s.legacyAmbientLightColor,0,0,0);for(const X of h){const{type:ie,color:ne}=X;if("ambient"===ie)(0,v.add)(s.legacyAmbientLightColor,s.legacyAmbientLightColor,ne);else{X.updateWorldMatrix();const we="legacyLightSource"+O;s[we+".type"]=ta[ie],s[we+".viewSpace"]=!!X.viewSpace;const Te=we+".position";s[Te]||(s[Te]=(0,v.create)()),(0,G.getTranslation)(s[Te],X.worldMatrix);const Me=we+".color";s[Me]?(0,v.copy)(s[Me],ne):s[Me]=(0,v.clone)(ne);const Le=we+".attenuation";if(s[Le]||(s[Le]=new Float32Array(3)),s[Le][0]=X.constantAttenuation,s[Le][1]=X.linearAttenuation,s[Le][2]=X.quadraticAttenuation,s[we+".diffuse"]=X.diffuse,s[we+".specular"]=X.specular,"spot"===ie){const at=we+".direction";s[at]?(0,v.set)(s[at],0,0,-1):(s[at]=(0,v.create)(),s[at][2]=-1),(0,G.getRotation)(Gu,X.worldMatrix),(0,v.transformQuat)(s[at],s[at],Gu),s[we+".outerCone"]=X.outerCone,s[we+".innerCone"]=X.innerCone}else s[we+".direction"]=[0,0,0],s[we+".outerCone"]=0,s[we+".innerCone"]=0;O++}}for(;O<g;O++){const X="legacyLightSource"+O;delete s[X+".type"],delete s[X+".intensity"],delete s[X+".range"],delete s[X+".color"],delete s[X+".position"],delete s[X+".direction"],delete s[X+".outerCone"],delete s[X+".innerCone"]}return c}const If=(0,M.create)();function Rf(h,s,g=0){let c=0;h.forEach(X=>{X instanceof ci||c++});let O=0;(0,v.set)(s.ambientLightColor,0,0,0);for(const X of h){const{type:ie,color:ne}=X;if(X instanceof ci)(0,v.scaleAndAdd)(s.ambientLightColor,s.ambientLightColor,ne,X.intensity);else{X.updateWorldMatrix();const we="lightSource"+O;s[we+".type"]=bl[ie];const Te=we+".position";s[Te]||(s[Te]=(0,v.create)()),(0,G.getTranslation)(s[Te],X.worldMatrix);const Me=we+".color";s[Me]?(0,v.copy)(s[Me],ne):s[Me]=(0,v.clone)(ne),s[we+".intensity"]=X.intensity;const Le=we+".direction";if(s[Le]||(s[Le]=(0,v.create)()),(0,G.getRotation)(If,X.worldMatrix),(0,v.set)(s[Le],0,0,-1),(0,v.transformQuat)(s[Le],s[Le],If),X instanceof wi){const at=Math.cos(X.outerConeAngle),Ft=Math.cos(X.outerConeAngle-X.penumbraAngle);s[we+".outerConeCos"]=at,s[we+".innerConeCos"]=Ft}else s[we+".outerCone"]=0,s[we+".innerCone"]=0;O++}}for(;O<g;O++){const X="lightSource"+O;delete s[X+".type"],delete s[X+".intensity"],delete s[X+".color"],delete s[X+".position"],delete s[X+".direction"],delete s[X+".outerConeCos"],delete s[X+".innerConeCos"]}return c}function ou(h,s,g,c,O){if(h.imageLightIntensity=g?.intensity??1,g?(h.imageLightRotation||(h.imageLightRotation=(0,nr.create)()),(0,nr.fromQuat)(h.imageLightRotation,g.quaternion)):delete h.imageLightRotation,"parametric"===g?.irradianceMode&&g.irradianceCoefficients){h.irradianceCoefficients||(h.irradianceCoefficients=new Float32Array(27));for(let X=0,ie=0;X<9;X++){const ne=g.irradianceCoefficients[X];h.irradianceCoefficients[ie++]=ne[0],h.irradianceCoefficients[ie++]=ne[1],h.irradianceCoefficients[ie++]=ne[2]}}else delete h.irradianceCoefficients;if(c&&(s.release("imageLightSpecular",c),delete h.imageLightSpecularTexture),g?.specularTexture){const X=s.get("imageLightSpecular",g.specularTexture);X.update(),h.imageLightSpecularTexture=X.webglTexture,h.imageLightLODScale=g.specularTexture.levels[0].length-1}if(O&&(s.release("imageLightIrradiance",O),h.imageLightIrradianceTexture=null),g?.irradianceTexture&&"image"===g.irradianceMode){const X=s.get("imageLightIrradiance",g.irradianceTexture);X.update(),h.imageLightIrradianceTexture=X.webglTexture}}function rm(h,s,g,c){const O=h.get(c);if(!O.update())return;const{alphaMode:X}=O;!c.visible||"opaque"!==X&&"test"!==X?s.delete(O):s.add(O),c.visible&&"opaque"!==X&&"hidden"!==X?g.add(O):g.delete(O)}function Th(h,s,g,c,O,X,ie,ne,we,Te){const{worldMatrix:Me}=X;ie.uniformSetters.modelViewMatrix&&(0,G.multiply)(h.modelViewMatrix,Te.worldMatrixInverse,Me),(0,aa.setUniforms)(ie,h);const{maxClipDistances:Le}=g,at=Math.min(Le,c.length);for(let Gt=0,qt=12288;Gt<Le;Gt++,qt++)Gt<at?O.enable(qt):O.disable(qt);const Ft="add"===X.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;O.blendFunc(1,Ft),s.drawCalls++,s.drawVertices+=X.vertexCount}const Sh=(h,s,g,c,O)=>{const X=g?null:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,cameraPosition:(0,v.create)()},ie=g?[h.modelViewMatrix.subarray(0,16),h.modelViewMatrix.subarray(16,32)]:null;return(ne,we,Te,Me,Le,at)=>{if(0===ne.count)return;const{worldMatrix:Ft}=ne,Gt="add"===ne.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;if(c.blendFunc(1,Gt),ie){if(we.uniformSetters.modelViewMatrix)for(let qt=0;qt<at.length;qt++)(0,G.multiply)(ie[qt],at[qt].transform.inverse.matrix,Ft);(0,aa.setUniforms)(we,h),O(ne,we,Te,Me,Le,at)}else for(const qt of at){const Ut=Le.getViewport(qt);c.viewport(Ut.x,Ut.y,Ut.width,Ut.height),X.projectionMatrix=qt.projectionMatrix,X.viewMatrixInverse=qt.transform.matrix;const{x:rn,y:Un,z:Pn}=qt.transform.position;(0,v.set)(X.cameraPosition,rn,Un,Pn);const Rn=qt.transform.inverse.matrix;X.viewMatrix=Rn,we.uniformSetters.modelViewMatrix&&(0,G.multiply)(h.modelViewMatrix,Rn,Ft),(0,aa.setUniforms)(we,h),(0,aa.setUniforms)(we,X),O(ne,we,Te,Me,Le,at)}s.drawCalls++,s.drawVertices+=2*ne.vertexCount}};function zu(h,s,g){const c=s.length,O=g.length;for(let X=c;X>O;X--){s.pop();const ie="clippingPlane"+X;delete h[ie+".plane"],delete h[ie+".fade"]}for(let X=s.length;X<O;X++)s[X]={plane:(0,Lo.create)(),fade:0};return g.forEach(({plane:X,fade:ie},ne)=>{const{plane:we}=s[ne];(0,Lo.copy)(we,X),s[ne].fade=ie;const Te="clippingPlane"+ne;h[Te+".plane"]=we,h[Te+".fade"]=ie}),c!==O}class Of extends ae{constructor({cubeTextureCache:s}){super(),d(this,"get",void 0),d(this,"release",void 0),d(this,"destroy",void 0);const g=new go({key:(c,O)=>O,create:(c,O)=>{if(O){const X={};if(O instanceof En&&O.reflectionMap){const ie=s.get(O,O.reflectionMap.texture);ie.update(),X.reflectionMap=ie.webglTexture}return this.emit("create",{material:O}),X}return null},release:(c,O)=>{O&&(O instanceof En&&O.reflectionMap&&s.release(O,O.reflectionMap.texture),this.emit("release",{material:O}))}});this.get=g.get,this.release=g.release,this.destroy=g.destroy}}const gc=["ALIASED_LINE_WIDTH_RANGE","ALIASED_POINT_SIZE_RANGE","ALPHA_BITS","BLUE_BITS","DEPTH_BITS","GREEN_BITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_RENDERBUFFER_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VIEWPORT_DIMS","RED_BITS","SAMPLE_COVERAGE_VALUE","SAMPLES","STENCIL_BITS","SUBPIXEL_BITS","VENDOR","RENDERER","VERSION","SHADING_LANGUAGE_VERSION","COMPRESSED_TEXTURE_FORMATS","SAMPLE_BUFFERS"],fl_webgl=gc,fl_webgl2=[...gc,"MAX_3D_TEXTURE_SIZE","MAX_ARRAY_TEXTURE_LAYERS","MAX_COLOR_ATTACHMENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_DRAW_BUFFERS","MAX_ELEMENT_INDEX","MAX_ELEMENTS_INDICES","MAX_ELEMENTS_VERTICES","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_PROGRAM_TEXEL_OFFSET","MAX_SAMPLES","MAX_SERVER_WAIT_TIMEOUT","MAX_TEXTURE_LOD_BIAS","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","MAX_UNIFORM_BLOCK_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","MAX_VARYING_COMPONENTS","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_VERTEX_UNIFORM_BLOCKS","MAX_VERTEX_UNIFORM_COMPONENTS","MIN_PROGRAM_TEXEL_OFFSET"],Ih=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],Pf={OES_standard_derivatives:(h,s)=>({FRAGMENT_SHADER_DERIVATIVE_HINT_OES:h.getParameter(s.FRAGMENT_SHADER_DERIVATIVE_HINT_OES)}),WEBGL_draw_buffers:(h,s)=>({MAX_COLOR_ATTACHMENTS_WEBGL:h.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL),MAX_DRAW_BUFFERS_WEBGL:h.getParameter(s.MAX_DRAW_BUFFERS_WEBGL)}),WEBGL_debug_renderer_info:(h,s)=>({UNMASKED_VENDOR_WEBGL:h.getParameter(s.UNMASKED_VENDOR_WEBGL),UNMASKED_RENDERER_WEBGL:h.getParameter(s.UNMASKED_RENDERER_WEBGL)}),WEBGL_compressed_texture_astc:(h,s)=>({supportedProfiles:s.getSupportedProfiles&&s.getSupportedProfiles()||null}),EXT_texture_filter_anisotropic:(h,s)=>({anisotropy:h.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}),WEBGL_clip_cull_distance:(h,s)=>({MAX_CLIP_DISTANCES_WEBGL:h.getParameter(s.MAX_CLIP_DISTANCES_WEBGL),MAX_CULL_DISTANCES_WEBGL:h.getParameter(s.MAX_CULL_DISTANCES_WEBGL),MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL:h.getParameter(s.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL)})};function $u(h,s){const g={};return Ih.forEach(c=>{const O=h.getShaderPrecisionFormat(s,h[c]);g[c]={rangeMin:O?.rangeMin||0,rangeMax:O?.rangeMax||0,precision:O?.precision||0}}),g}const kf=["maxTextureDimension1D","maxTextureDimension2D","maxTextureDimension3D","maxTextureArrayLayers","maxBindGroups","maxBindingsPerBindGroup","maxDynamicUniformBuffersPerPipelineLayout","maxDynamicStorageBuffersPerPipelineLayout","maxSampledTexturesPerShaderStage","maxSamplersPerShaderStage","maxStorageBuffersPerShaderStage","maxStorageTexturesPerShaderStage","maxUniformBuffersPerShaderStage","maxUniformBufferBindingSize","maxStorageBufferBindingSize","minUniformBufferOffsetAlignment","minStorageBufferOffsetAlignment","maxVertexBuffers","maxBufferSize","maxVertexAttributes","maxVertexBufferArrayStride","maxInterStageShaderComponents","maxInterStageShaderVariables","maxColorAttachments","maxColorAttachmentBytesPerSample","maxComputeWorkgroupStorageSize","maxComputeInvocationsPerWorkgroup","maxComputeWorkgroupSizeX","maxComputeWorkgroupSizeY","maxComputeWorkgroupSizeZ","maxComputeWorkgroupsPerDimension"];function hd(){return hd=C(function*(h){const s=C(function*(){if(!navigator.gpu)return null;const O=navigator.gpu.getPreferredCanvasFormat(),X=yield navigator.gpu.requestAdapter({powerPreference:"high-performance"});if(!X)return null;const ie=yield X.requestAdapterInfo(),{architecture:ne,vendor:we}=ie;return{canvasFormat:O,architecture:ne,vendor:we,perfCaveat:X.isFallbackAdapter,features:Array.from(X.features.keys()).sort(),limits:kf.reduce((Te,Me)=>(Te[Me]=X.limits[Me],Te),{})}})();let g=!1;if(!Tl(h)){const O=document.createElement("canvas");let X=O.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0});X||(X=O.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1})),X&&(g=!0,h=X)}const c=function(O){const X=O.getContextAttributes();if(!X)return null;const ie={},ne=Tl(O);(ne?fl_webgl2:fl_webgl).forEach(at=>{const Gt=O.getParameter(O[at]);if(Gt&&Gt.BYTES_PER_ELEMENT){if(Gt.length){ie[at]=[];for(let qt=0;qt<Gt.length;qt++)ie[at].push(Gt[qt])}}else ie[at]=Gt});const we=O.getSupportedExtensions()||[],Te={};we.forEach(at=>{const Ft=Pf[at];if(Ft){const Gt=O.getExtension(at);Gt&&(Te[at]=Ft(O,Gt))}});const Me=!0!==X.failIfMajorPerformanceCaveat,Le={version:ne?2:1,antialias:X.antialias||!1,perfCaveat:Me,params:ie,extensions:{supported:we,capabilities:Te}};if(!Me){const at=Le.extensions.capabilities.WEBGL_debug_renderer_info?.UNMASKED_RENDERER_WEBGL;at&&/\bSwiftRenderer\b/.test(at)&&(Le.perfCaveat=!0)}return Le.shaderPrecision={vertex:$u(O,O.VERTEX_SHADER),fragment:$u(O,O.FRAGMENT_SHADER)},Le}(h);return g&&h.getExtension("WEBGL_lose_context")?.loseContext(),{webgl:c,webgpu:yield s}}),hd.apply(this,arguments)}const om=["rg16float","rgba16float"],Rh=new Set(Object.keys(Ha)),Id=(0,G.create)();class Sl extends ae{constructor(s){var g;super(),g=this,d(this,"transparencyMode",void 0),d(this,"root",void 0),d(this,"camera",void 0),d(this,"xrSession",void 0),d(this,"xrRefSpace",null),d(this,"maxDevicePixelRatio",1),d(this,"maxCanvasDimension",1/0),d(this,"minDevicePixelRatio",1),d(this,"physicalImageLight",void 0),d(this,"toneMapping",void 0),d(this,"clippingPlanes",void 0),d(this,"canvas",void 0),d(this,"environment",void 0),d(this,"extensions",void 0),d(this,"textureFormats",void 0),d(this,"running",void 0),d(this,"stats",void 0),d(this,"getGPUCapabilities",void 0),d(this,"setXRClearColor",void 0),d(this,"setPostProcessingPipeline",void 0),d(this,"setClippingPlanes",void 0),d(this,"start",void 0),d(this,"stop",void 0),d(this,"render",void 0);const c=s?.gl||function(Jr){if(typeof WebGLRenderingContext>"u")throw new Error("Browser does not support WebGL");const{canvas:mo,...Vs}=Jr||{},Hs=mo||document.createElement("canvas");try{return Jl(Hs,{...Vs,failIfMajorPerformanceCaveat:!0})}catch{}return Jl(Hs,{...Vs,failIfMajorPerformanceCaveat:!1})}(s),O=new Ra(c),X=c.canvas;if(!(X instanceof HTMLCanvasElement))throw new Error(`canvas type ${X?.constructor?.name||"unknown"} not supported.`);Object.assign(X.style,{width:"100%",height:"100%",position:"absolute"}),this.getGPUCapabilities=D(()=>function im(h){return hd.apply(this,arguments)}(c));const ie=c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT,ne=Tl(c),we=ne?2:1,Te=ne||!!c.getExtension("OES_vertex_array_object"),Me=ne&&!1!==s?.optimizations?.enableMultiView?c.getExtension("OCULUS_multiview"):null,Le=!!c.getExtension("EXT_shader_texture_lod"),at=ne?c.getParameter(c.MAX_SAMPLES):1,Ft=c.getParameter(c.ALIASED_POINT_SIZE_RANGE)?.[1]||32,{preserveDrawingBuffer:Gt=!1}=c.getContextAttributes()||{},qt=!1!==s?.optimizations?.enableHardwarePlaneClipping&&c.getExtension("WEBGL_clip_cull_distance")?c.getParameter(3378):0,Ut=new Map,rn=new Map,Un=new Set,Pn=new Set,Rn=new Set,An=[0,0,0,0],Ln={webGlVersion:we,vaoSupported:Te,textureLODext:Le,maxPointSize:Ft,maxClipDistances:qt,multiView:!!Me,preserveDrawingBuffer:Gt};let or=0,_r=0,qn=$t.Alpha,Br="linear",Yr=0,Hr=!1,Nr=null,bi=!0,gi=!0,xi=!0,Fr=null,Si=null,ki=null,Mo=s?.optimizations?.computeBRDF??!c.getExtension(ne?"EXT_color_buffer_float":"WEBGL_color_buffer_float");const bo={noDepthMask:!1,orderDependent:!1,twoPass:!1,maxClipDistances:qt},Qo=[],Ii=[],Tr={geometries:0,meshes:0,materials:0,vaos:0,textures:0,materialTypes:{unlit:0,phong:0,metallic:0,physical:0},drawCalls:0,drawVertices:0,cpuTime:0,gpuTime:0,postProcessTime:0},la=Ge(ts,rn,Qo),Zs=new ao({sort:Lc,filter:la}),As=new ao({sort:Jr=>bo.orderDependent?function(mo){const Vs=new Map,Hs=new Map,Sa=new Map;return mo.sort((ya,js)=>{if(ya.layer!==js.layer)return ya.layer-js.layer;if(ya.renderOrder!==js.renderOrder)return ya.renderOrder-js.renderOrder;if(ya.vertexArrayInfo&&js.vertexArrayInfo){if(ya.vertexArrayInfo!==js.vertexArrayInfo){const el=il(Sa,ya.vertexArrayInfo),Ll=il(Sa,js.vertexArrayInfo);if(el!==Ll)return el-Ll}}else{if(ya.programInfo!==js.programInfo){const el=il(Vs,ya.programInfo),Ll=il(Vs,js.programInfo);if(el!==Ll)return el-Ll}if(ya.bufferInfo!==js.bufferInfo)return il(Hs,ya.bufferInfo)-il(Hs,js.bufferInfo)}return ya.screenPosition[2]-js.screenPosition[2]}),mo}(Jr):Lc(Jr),filter:la}),La=new yg(c),ka=new tm(c),Za=new Vu(c),Rl=Te?new ed(c):null,zl=new Of({cubeTextureCache:ka}),vc=new Df(c,function(Jr,mo){return mo?Object.assign({},mo,{alphaMode:Rc(Jr,Ii,bo),lights:Jr.material instanceof En?_r:or,clips:Jr.clippable?Ii.length:0,fog:bc.fog.mode,environmentReflectionMap:!!bc.reflectionMap.texture,lightMapSpace:bc.lightMap.texture&&bc.lightMap.space||"",imageLightIrradianceMode:Fr?.irradianceMode||"",imageLightSpecularTexture:Fr?.specularTexture,toneMap:Br,computeBRDF:Mo},Ln):null}),bu=new go({key:(Jr,mo)=>mo,create:(Jr,mo)=>({decodePositions:mo.attributes.position.decodeMat||null,decodeUVs:mo.attributes.texcoord?.decodeMat||null})}),xu={geometryBufferCache:Za,shaderResourceCache:vc,geometryUniformsCache:bu,materialUniformsCache:zl,vaoCache:Rl,alphaModeOptions:bo,clippingPlanes:Ii,textureResourceCache:La},yc=new pc(c,{glState:O});yc.enabled=!0;const wa={ambientLightColor:(0,v.fromValues)(.1,.1,.1),legacyAmbientLightColor:(0,v.fromValues)(.1,.1,.1),"fog.color":(0,v.fromValues)(1,1,1),"fog.density":.01,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.start":0},Ss=Me?{projectionMatrix:new Float32Array(32),viewMatrixInverse:new Float32Array(32),viewMatrix:new Float32Array(32),screenResolution:new Float32Array([1024,1024]),cameraPosition:new Float32Array(6)}:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,screenResolution:new Float32Array([1024,1024]),cameraPosition:(0,v.create)()},ic=Me&&[Ss.projectionMatrix.subarray(0,16),Ss.projectionMatrix.subarray(16,32)],Ud=Me&&[Ss.viewMatrixInverse.subarray(0,16),Ss.viewMatrixInverse.subarray(16,32)],rh=Me&&[Ss.cameraPosition.subarray(0,3),Ss.cameraPosition.subarray(3,6)],Eu=Me&&[Ss.viewMatrix.subarray(0,16),Ss.viewMatrix.subarray(16,32)],Vd={modelViewMatrix:Me?new Float32Array(32):(0,G.create)(),discardOpaque:!1},oc=new _i;let Ta=null,xl=null,Es=null,jd=null,$a=null;const bc=new Dh(wa,ka),op=Ge(Sh,Vd,Tr,!!Me,O),_a=Ge(Qa,Pn,wa),sf=Ge(Rf,Rn,wa),Am=Ge(ou,wa,ka),ih=Ge(rm,Ut,Zs,As),wu=Ge(zu,wa,Ii);function Cu(Jr){const mo="fog"!==Jr?.property||"mode"===Jr?.detail;Ut.forEach(Vs=>{mo&&Vs.setDirty("shader"),Vs.setDirty("transparency")}),xi=!0}function sp(){Tr.materialTypes.physical>0&&!Mo?wa.brdfLookUpTexture||(wa.brdfLookUpTexture=function(Jr,mo=512,Vs=Jr){const Hs=Tl(Jr),Sa=Hs?dd.webgl2:dd.webgl1,ya=(Hs?!!Jr.getExtension("EXT_color_buffer_float"):!!Jr.getExtension("WEBGL_color_buffer_float"))&&om.find($l=>{const sc=Sa.get($l);return!(!sc||sc.extension&&!Jr.getExtension(sc.extension))})||"rgba8unorm",js=Sa.get(ya),el="internalFormat"in js?js.internalFormat:js.format,Ll="type"in js?js.type:js.format,Ul=(0,aa.createBufferInfoFromArrays)(Jr,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),uh=Mh(Jr,[`${Hs?"#version 300 es":""}\n\t\t${Hs?"in":"attribute"} vec2 position;\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(position, 0.0, 1.0);\n\t\t}`,`${Hs?"#version 300 es":""}\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#define SAMPLE_NUMBER 1024${Hs?"u":""}\n#define PI 3.14159265358979\n\n${Hs?"out vec4 fragColor;":""}\n\nuniform vec2 viewportSize;\n\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\n\n${Hs?"\nvec2 hammersley(uint i, uint N) {\n\t\n\tuint bits = (i << 16u) | (i >> 16u);\n\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\tfloat rdi = float(bits) * 2.3283064365386963e-10;\n\treturn vec2(float(i) /float(N), rdi);\n}":"\nvec2 hammersley(int i, int N) {\n\tfloat invBase = 1.0 / 2.0;\n\tfloat denom = 1.0;\n\tfloat vanDerCorput = 0.0;\n\tint n = i;\n\n\tfor(int b = 0; b < 32; b++) {\n\t\tif(n > 0) {\n\t\t\tdenom = mod(float(n), 2.0);\n\t\t\tvanDerCorput += denom * invBase;\n\t\t\tinvBase = invBase / 2.0;\n\t\t\tn = int(float(n) / 2.0);\n\t\t}\n\t}\n\n\treturn vec2(float(i) / float(N));\n}\n"}\n\n\nfloat G_Smith(float NoV, float NoL, float roughness) {\n\tfloat k = (roughness * roughness) / 2.0;\n\tfloat GGXL = NoL / (NoL * (1.0 - k) + k);\n\tfloat GGXV = NoV / (NoV * (1.0 - k) + k);\n\treturn GGXL * GGXV;\n}\n\n\nfloat V_SmithGGXCorrelated(float NoV, float NoL, float roughness) {\n\tfloat a2 = pow(roughness, 4.0);\n\tfloat GGXV = NoL * sqrt(NoV * NoV * (1.0 - a2) + a2);\n\tfloat GGXL = NoV * sqrt(NoL * NoL * (1.0 - a2) + a2);\n\treturn 0.5 / (GGXV + GGXL);\n}\n\n\nvec3 importanceSampleGGX(vec2 Xi, float roughness, vec3 N) {\n\tfloat a = roughness * roughness;\n\n\t\n\tfloat Phi = 2.0 * PI * Xi.x;\n\tfloat CosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a*a - 1.0) * Xi.y));\n\tfloat SinTheta = sqrt(1.0 - CosTheta * CosTheta);\n\n\t\n\tvec3 H;\n\tH.x = SinTheta * cos(Phi);\n\tH.y = SinTheta * sin(Phi);\n\tH.z = CosTheta;\n\t\n\t\n\tvec3 UpVector = abs(N.z) < 0.999 ? vec3(0.,0.,1.0) : vec3(1.0,0.,0.);\n\tvec3 TangentX = normalize(cross(UpVector, N));\n\tvec3 TangentY = cross(N, TangentX);\n\treturn TangentX * H.x + TangentY * H.y + N * H.z;\n}\n\n\n\nvec2 integrateBRDF(float roughness, float NoV) {\n\tvec3 V;\n\tV.x = sqrt(1.0 - NoV * NoV); \n\tV.y = 0.0;\n\tV.z = NoV; \n\t\n\t\n\tconst vec3 N = vec3(0.0, 0.0, 1.0);\n\t\n\tfloat A = 0.0;\n\tfloat B = 0.0;\n\t\n\tfor (${Hs?"uint i = 0u; i < SAMPLE_NUMBER; i++":"int i = 0; i < SAMPLE_NUMBER; i++"}) {\n\t\tvec2 Xi = hammersley(i, SAMPLE_NUMBER);\n\n\t\t\n\t\tvec3 H = importanceSampleGGX(Xi, roughness, N);\n\t\t\n\t\t\n\t\tvec3 L = 2.0 * dot(V, H) * H - V;\n\t\t\n\t\tfloat NoL = saturate(dot(N, L));\n\t\tfloat NoH = saturate(dot(N, H));\n\t\tfloat VoH = saturate(dot(V, H));\n\t\t\n\t\tif(NoL > 0.0) {\n\t\t\tfloat V_pdf = V_SmithGGXCorrelated(NoV, NoL, roughness) * VoH * NoL / NoH;\n\t\t\tfloat Fc = pow(1.0 - VoH, 5.0);\n\t\t\tA += (1.0 - Fc) * V_pdf;\n\t\t\tB += Fc * V_pdf;\n\t\t}\n\t}\n\n\treturn 4.0 * vec2(A, B) / float(SAMPLE_NUMBER);\n}\n\nvoid main() {\n\t\n\tvec2 uv = gl_FragCoord.xy / viewportSize;\n\tfloat a = uv.y;\n\tfloat mu = uv.x;\n\n\t\n\tvec2 res = integrateBRDF(a, mu);\n\t\n\t\n\t${Hs?"fragColor":"gl_FragColor"} = vec4(res.x, res.y, 0.0, 1.0);\n}`]),pl=Jr.createFramebuffer();Jr.bindFramebuffer(Jr.FRAMEBUFFER,pl);const Ol=Jr.createTexture();return Jr.bindTexture(Jr.TEXTURE_2D,Ol),Jr.texImage2D(Jr.TEXTURE_2D,0,el,mo,mo,0,js.format,Ll,null),Jr.texParameteri(Jr.TEXTURE_2D,Jr.TEXTURE_MAG_FILTER,Jr.LINEAR),Jr.texParameteri(Jr.TEXTURE_2D,Jr.TEXTURE_MIN_FILTER,Jr.LINEAR),Jr.texParameteri(Jr.TEXTURE_2D,Jr.TEXTURE_WRAP_S,Jr.CLAMP_TO_EDGE),Jr.texParameteri(Jr.TEXTURE_2D,Jr.TEXTURE_WRAP_T,Jr.CLAMP_TO_EDGE),Jr.framebufferTexture2D(Jr.FRAMEBUFFER,Jr.COLOR_ATTACHMENT0,Jr.TEXTURE_2D,Ol,0),Jr.bindTexture(Jr.TEXTURE_2D,null),Jr.bindFramebuffer(Jr.FRAMEBUFFER,pl),Vs.viewport(0,0,mo,mo),Vs.disable(Jr.CULL_FACE),Vs.disable(Jr.DEPTH_TEST),Vs.depthMask(!1),Vs.frontFace(Jr.CCW),Vs.useProgram(uh.program),(0,aa.setUniforms)(uh,{viewportSize:[mo,mo]}),(0,aa.setBuffersAndAttributes)(Jr,uh,Ul),(0,aa.drawBufferInfo)(Jr,Ul,Jr.TRIANGLES,3,0),Jr.bindFramebuffer(Jr.FRAMEBUFFER,null),Ol}(c,512,O)):wa.brdfLookUpTexture&&(c.deleteTexture(wa.brdfLookUpTexture),delete wa.brdfLookUpTexture)}function Hd(){Am(Fr,Si,ki),Si=Fr?.specularTexture||null,ki="image"===Fr?.irradianceMode&&Fr.irradianceTexture||null,Cu()}function af(){gi=!0,xi=!0}function ap(Jr){const mo=Ut.get(Jr.node);mo&&(Zs.has(mo)&&(Zs.dirtyFilter(),Zs.dirtySort()),As.has(mo)&&(As.dirtyFilter(),As.dirtySort()),Ii.length&&Jr.node.clippable&&mo.setDirty("transparency")),xi=!0}function lp(Jr){"material"===Jr.property&&(bi=!0),"layer"!==Jr.property&&"renderOrder"!==Jr.property||As.dirtySort(),xi=!0}function oh(){xi=!0}function cp(Jr){if(c.isContextLost())return;const mo=new ku(Jr,xu);Ut.set(Jr,mo),rn.set(mo,Jr),Jr.on("updateWorldBounds",ap),Jr.on("dirty",oh),Jr.on("change",lp),mo.on("dirty",oh),Tr.meshes++,bi=!0,xi=!0}function dp(Jr){const mo=Ut.get(Jr);Ut.delete(Jr),rn.delete(mo),Zs.delete(mo),As.delete(mo),mo.destroy(),Jr.off("updateWorldBounds",ap),Jr.off("dirty",oh),Jr.off("change",lp),mo.off("dirty",oh),Tr.meshes--,bi=!0,xi=!0}const up=Ge(Th,Vd,Tr,Ln,Ii,O),lf=nm(c,{beforeRender:up,glState:O}),Eg=fc(c,({bufferInfo:Jr,topology:mo,offset:Vs,count:Hs,depthMask:Sa})=>{if(0===Hs)return;const ya=ql[mo];O.depthMask(!(bo.noDepthMask||!Sa)),O.cullFace(c.BACK),(0,aa.drawBufferInfo)(c,Jr,ya,Hs,Vs)},{beforeRender:up,glState:O});let sh=!1,ah=-1/0;const cf=(Jr=!1)=>{if(c.isContextLost()||!Nr)return;const mo=performance.now();if(function(Sa,ya=1,js=1/0,el=0){ya=Math.max(0,ya),js=Math.max(1,js),el=Math.max(0,el);const Ll=0|Math.max(Sa.clientWidth*el,Math.min(js,Sa.clientWidth*ya)),Ul=0|Math.max(Sa.clientHeight*el,Math.min(js,Sa.clientHeight*ya));return(Sa.width!==Ll||Sa.height!==Ul)&&(Sa.width=Ll,Sa.height=Ul,!0)}(X,Math.min(window.devicePixelRatio,this.maxDevicePixelRatio),this.maxCanvasDimension,this.minDevicePixelRatio)&&(xi=!0,this.emit("resize")),!xi&&!Jr&&sh&&mo-ah<6)return;sh=!0,ah=mo,this.emit("begin",mo),Tr.drawCalls=0,Tr.drawVertices=0,this.emit("animate",mo);const Hs=X.clientWidth/X.clientHeight;if(Nr&&Hs!==Nr.aspect&&(Nr.aspect=Hs,Nr.dirtyProjection()),Jr||xi){for(const js of Un)js.updateWorldBounds();Nr.updateWorldMatrix(),Nr.projectionDirty&&Nr.updateProjectionMatrix(),Rn.forEach(js=>js.updateWorldMatrix()),Pn.forEach(js=>js.updateWorldMatrix()),this.emit("update"),(gi||Nr.dirty)&&(Nr.updateWorldMatrix(),Nr.updateProjectionMatrix(),(0,G.multiply)(Id,Nr.projectionMatrix,Nr.worldMatrixInverse),ma(Qo,Id),Me&&((0,G.copy)(ic[0],Nr.projectionMatrix),(0,G.copy)(Ud[0],Nr.worldMatrix),(0,G.copy)(Eu[0],Nr.worldMatrixInverse),(0,G.getTranslation)(rh[0],Nr.worldMatrix)),Array.isArray(Ss.cameraPosition)&&(0,G.getTranslation)(Ss.cameraPosition,Nr.worldMatrix),Zs.dirtySort(),As.dirtySort(),Zs.dirtyFilter(),As.dirtyFilter());const Sa=sf(),ya=_a();Sa===or&&ya===_r||(or=Sa,_r=ya,Cu());for(const js of Un){const el=Ut.get(js);(el.dirty||gi)&&((0,G.getTranslation)(el.screenPosition,js.worldMatrix),(0,v.transformMat4)(el.screenPosition,el.screenPosition,Id)),ih(js)}gi=!1,yc.begin(),O.viewport(0,0,X.width,X.height),Ss.screenResolution[0]=c.drawingBufferWidth,Ss.screenResolution[1]=c.drawingBufferHeight,O.depthMask(!0),O.clearColor(0,0,0,0),c.clear(ie),O.enable(c.DEPTH_TEST),O.enable(c.CULL_FACE),O.disable(c.BLEND),O.depthMask(!0),Vd.discardOpaque=!1,lf(Zs,[wa,Ss],Nr),As.filteredSize&&(O.enable(c.BLEND),Vd.discardOpaque=!0,Eg(As,[wa,Ss],Nr)),yc.render(Nr),xi=!1}bi&&(bi=!1),Tr.cpuTime=performance.now()-mo,this.emit("end")};function df(){cf(!1),sh=Gt,Hr&&(Yr=requestAnimationFrame(df))}const wg=fc(c,op((Jr,mo,Vs)=>{(0,aa.drawBufferInfo)(c,Vs,ql[Jr.topology],Jr.count,Jr.offset)}),{glState:O}),Mm=fc(c,op((Jr,mo,Vs)=>{O.depthMask(!(bo.noDepthMask||!Jr.depthMask)),O.cullFace(c.BACK),(0,aa.drawBufferInfo)(c,Vs,ql[Jr.topology],Jr.count,Jr.offset)}),{glState:O}),Ja=function(){var Jr=C(function*(){if(Ta&&!c.isContextLost()){try{yield Promise.all([c.makeXRCompatible(),Ta.requestReferenceSpace("local").then(mo=>{Es=mo})])}catch{}if(!c.isContextLost())if(Me){xl=c.createFramebuffer(),jd=new XRWebGLBinding(Ta,c);const mo=jd.createProjectionLayer({textureType:"texture-array",depthFormat:ne?c.DEPTH_COMPONENT24:c.DEPTH_COMPONENT});Ta.updateRenderState({layers:[mo]})}else{const mo=new XRWebGLLayer(Ta,c);yield Ta.updateRenderState({baseLayer:mo}),xl=mo.framebuffer}}});return function(){return Jr.apply(this,arguments)}}(),ol=(Jr,mo)=>{const Vs=performance.now();this.emit("begin",Vs),Tr.drawCalls=0,Tr.drawVertices=0;const Hs=mo.getViewerPose(this.xrRefSpace||Es);this.emit("xrframe",{frame:mo,viewerPose:Hs}),this.emit("animate",mo.predictedDisplayTime||Jr),sf(),_a(),this.emit("update");const Sa=mo.session;if(Hr&&(Yr=Sa.requestAnimationFrame(ol)),Hs&&Hs.views.length){const ya=Hs.views[0];(0,G.multiply)(Id,ya.projectionMatrix,ya.transform.inverse.matrix),ma(Qo,Id);for(const pl of Un){const Ol=Ut.get(pl);pl.dirty&&pl.updateWorldBounds(),(0,G.getTranslation)(Ol.screenPosition,pl.worldMatrix),(0,v.transformMat4)(Ol.screenPosition,Ol.screenPosition,ya.projectionMatrix),ih(pl)}Zs.dirtySort(),Zs.dirtyFilter(),As.dirtySort(),As.dirtyFilter();const js=Sa.renderState.baseLayer;if(c.bindFramebuffer(c.FRAMEBUFFER,xl),Me){const Ol=jd.getViewSubImage(Sa.renderState.layers[0],ya);c.bindFramebuffer(c.FRAMEBUFFER,xl);const $l=Ol.viewport;Me.framebufferTextureMultisampleMultiviewOVR(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0,Ol.colorTexture,0,at,0,2),null===Ol.depthStencilTexture?null===$a&&($a=c.createTexture(),c.bindTexture(c.TEXTURE_2D_ARRAY,$a),c.texStorage3D(c.TEXTURE_2D_ARRAY,1,c.DEPTH_COMPONENT24,$l.width,$l.height,2)):$a=Ol.depthStencilTexture,Me.framebufferTextureMultisampleMultiviewOVR(c.DRAW_FRAMEBUFFER,c.DEPTH_ATTACHMENT,$a,0,at,0,2);for(let sc=0;sc<Hs.views.length;sc++){const xc=Hs.views[sc];(0,G.copy)(ic[sc],xc.projectionMatrix),(0,G.copy)(Ud[sc],xc.transform.matrix),(0,G.copy)(Eu[sc],xc.transform.inverse.matrix),(0,G.getTranslation)(rh[sc],xc.transform.matrix)}O.viewport($l.x,$l.y,$l.width,$l.height),Ss.screenResolution[0]=$l.width,Ss.screenResolution[1]=$l.height}else{O.viewport(0,0,js.framebufferWidth,js.framebufferHeight);const pl=js.getViewport(ya);Ss.screenResolution[0]=pl.width,Ss.screenResolution[1]=pl.height}O.disable(c.SCISSOR_TEST),O.enable(c.DEPTH_TEST),O.enable(c.CULL_FACE),O.disable(c.BLEND),O.depthMask(!0),Vd.discardOpaque=!1;const[el,Ll,Ul,uh]=An;O.clearColor(el,Ll,Ul,uh),O.depthMask(!0),c.clear(ie),wg(Zs,[wa,Ss],js,Hs.views),As.filteredSize&&(O.enable(c.BLEND),Vd.discardOpaque=!0,Mm(As,[wa,Ss],js,Hs.views)),Mm(As,[wa,Ss],js,Hs.views)}this.emit("end")};function Au(Jr){Tl(c)?(console.log("WebGL context lost. Attempting to recover.",Jr),Jr?.preventDefault(),bc.release(),Un.forEach(mo=>dp(mo)),Za.destroy(),vc.destroy(),La.destroy(),ka.destroy(),zl.destroy(),Rl?.destroy(),cancelAnimationFrame(Yr)):console.warn("WebGL context lost.")}function Mu(Jr){console.log("Restoring lost WebGL context.",Jr),(0,aa.addExtensionsToContext)(c),c.getExtension("WEBGL_clip_cull_distance"),c.getExtension("OCULUS_multiview"),O.reset(),bc.restore(),Hd(),Un.forEach(cp),X.style.left="1px",setTimeout(C(function*(){X.style.left="",Ta?(yield Ja(),Hr&&(Yr=Ta.requestAnimationFrame(ol))):Hr&&(Yr=requestAnimationFrame(df))}),0)}const lh=function(){var Jr=C(function*(mo){mo!==Ta&&(Ta&&(Ta.cancelAnimationFrame(Yr),Ta.removeEventListener("end",ch),mo||($a&&(c.deleteTexture($a),$a=null),xl&&Me&&c.deleteFramebuffer(xl),xl=null)),Es=null,Ta=mo||null,Ta?(Ta.addEventListener("end",ch),yield Ja(),cancelAnimationFrame(Yr),Hr&&!c.isContextLost()&&(Yr=Ta.requestAnimationFrame(ol))):(g.xrRefSpace=null,c.bindFramebuffer(c.FRAMEBUFFER,null),Nr?.dirtyMatrix(),Hr&&(Yr=requestAnimationFrame(df))),xi=!0)});return function(Vs){return Jr.apply(this,arguments)}}();function ch(Jr){const{session:mo}=Jr;mo===Ta&&lh(null)}for(let Jr=0;Jr<6;Jr++)Qo.push((0,Lo.create)());Hu(bo,qn),Me&&[ic,Ud,rh,Eu].forEach(Jr=>Jr.forEach(G.identity)),La.on("create",()=>Tr.textures++),La.on("release",()=>Tr.textures--),ka.on("create",()=>Tr.textures++),ka.on("release",()=>Tr.textures--),Za.on("create",({geometry:Jr})=>{Jr&&Tr.geometries++}),Za.on("release",({geometry:Jr})=>{Jr&&Tr.geometries--}),Rl&&(Rl.on("create",()=>Tr.vaos++),Rl.on("release",()=>Tr.vaos--)),oc.on("add",Jr=>{Jr instanceof gt?(Un.add(Jr),Jr.updateWorldBounds(),cp(Jr)):Jr instanceof Vr?Rn.add(Jr):Jr instanceof yr&&Pn.add(Jr),this.emit("add",Jr)}),oc.on("remove",Jr=>{Jr instanceof gt?(Un.delete(Jr),dp(Jr)):Jr instanceof Vr?Rn.delete(Jr):Jr instanceof yr&&Pn.delete(Jr),this.emit("remove",Jr)}),zl.on("create",({material:Jr})=>{Tr.materials++,Tr.materialTypes[Jr.type]++,sp()}),zl.on("release",({material:Jr})=>{Tr.materials--,Tr.materialTypes[Jr.type]--,sp()}),bc.on("change",Cu),X.addEventListener("webglcontextlost",Au,!1),X.addEventListener("webglcontextrestored",Mu,!1);const dh=c.getSupportedExtensions()||[];Object.freeze(dh),void 0!==s?.optimizations?.computeBRDF||Mo||this.getGPUCapabilities().then(({webgl:Jr})=>{Mo=Jr.perfCaveat});const hp=ne?dd.webgl2:dd.webgl1,fp=Array.from(Object.keys(se)).filter(Jr=>{const mo=hp.get(Jr);return!(!mo||"extension"in mo&&!dh.includes(mo.extension)||mo.supported&&!mo.supported(c))});Object.defineProperties(this,{canvas:{value:X,writable:!1},root:{get:()=>oc.root,set(Jr){oc.root=Jr}},camera:{get:()=>Nr,set(Jr){Nr!==Jr&&(Nr&&Nr.off("dirty",af),Me||(Ss.projectionMatrix=null,Ss.viewMatrixInverse=null,Ss.cameraPosition=null,Ss.viewMatrix=null),Nr=Jr,Nr&&(Nr.on("dirty",af),Me||(Ss.projectionMatrix=Nr.projectionMatrix,Ss.viewMatrixInverse=Nr.worldMatrix,Ss.viewMatrix=Nr.worldMatrixInverse,Ss.cameraPosition=Nr.worldMatrix instanceof Float32Array?Nr.worldMatrix.subarray(12,15):(0,v.create)())))}},transparencyMode:{get:()=>qn,set(Jr){if(!this.supportsTransparencyMode(Jr))throw new Error(`Unsupported transparency mode: ${Jr}`);Jr!==qn&&(qn=Jr,Hu(bo,Jr),Cu())}},toneMapping:{get:()=>Br,set(Jr){Jr!==Br&&(Br=Jr,Cu())}},physicalImageLight:{get:()=>Fr,set(Jr){Jr!==Fr&&(Fr?.off("change",Hd),Fr=Jr,Fr?.on("change",Hd),Hd())}},xrSession:{set:lh,get:()=>Ta},clippingPlanes:{value:Ii,writable:!1},environment:{value:bc,writable:!1},extensions:{value:dh,writable:!1},textureFormats:{value:fp,writable:!1},stats:{value:Tr,writable:!1},running:{get:()=>Hr}}),this.setXRClearColor=(Jr,mo,Vs,Hs)=>{An[0]=Jr,An[1]=mo,An[2]=Vs,An[3]=Hs},this.setPostProcessingPipeline=yc.setPipeline,this.setClippingPlanes=Jr=>{const mo=wu(Jr);Ut.forEach(Vs=>{Vs.mesh?.clippable&&(mo&&Vs.setDirty("shader"),Vs.setDirty("transparency"))})},this.start=()=>{Hr||(Hr=!0,cancelAnimationFrame(Yr),Yr=Ta?Ta.requestAnimationFrame(ol):requestAnimationFrame(df),this.emit("start"))},this.stop=()=>{Hr&&(Hr=!1,Ta?Ta.cancelAnimationFrame(Yr):cancelAnimationFrame(Yr),this.emit("stop"))},this.render=()=>cf(!0);const uf=this.destroy;this.destroy=()=>{this.stop(),this.xrSession=null,X.removeEventListener("webglcontextlost",Au,!1),X.removeEventListener("webglcontextrestored",Mu,!1),La.destroy(),ka.destroy(),Za.destroy(),Rl?.destroy(),vc.destroy(),zl.destroy(),yc.destroy(),bc.destroy(),oc.destroy(),Ut.clear(),rn.clear(),Un.clear(),Pn.clear(),Rn.clear(),Zs.clear(),As.clear(),Fr&&(Fr.off("change",Hd),Fr=null,Hd()),wa.imageLightSpecularTexture&&(c.deleteTexture(wa.imageLightSpecularTexture),delete wa.imageLightSpecularTexture),wa.imageLightIrradianceTexture&&(c.deleteTexture(wa.imageLightIrradianceTexture),delete wa.imageLightIrradianceTexture),this.root=null,this.camera=null,this.xrRefSpace=null,c!==s?.gl&&c.getExtension("WEBGL_lose_context")?.loseContext(),uf()}}supportsTransparencyMode(s){return Rh.has(s)}}function Ff(h,s){const g=h[0],c=s[0],O=Math.abs(g-c);if((isNaN(O)||O===1/0)&&g!==c||O>$*Math.max(1,Math.abs(g),Math.abs(c)))return!1;const X=s[1],ie=h[1],ne=Math.abs(ie-X);if((isNaN(ne)||ne===1/0)&&ie!==X||ne>$*Math.max(1,Math.abs(ie),Math.abs(X)))return!1;const we=h[2],Te=s[2],Me=Math.abs(we-Te);return!((isNaN(Me)||Me===1/0)&&we!==Te||Me>$*Math.max(1,Math.abs(we),Math.abs(Te)))}class Uc{constructor(){d(this,"min",(0,v.fromValues)(1/0,1/0,1/0)),d(this,"max",(0,v.fromValues)(-1/0,-1/0,-1/0))}expand(s){return s.min[0]<this.min[0]&&(this.min[0]=s.min[0]),s.min[1]<this.min[1]&&(this.min[1]=s.min[1]),s.min[2]<this.min[2]&&(this.min[2]=s.min[2]),s.max[0]>this.max[0]&&(this.max[0]=s.max[0]),s.max[1]>this.max[1]&&(this.max[1]=s.max[1]),s.max[2]>this.max[2]&&(this.max[2]=s.max[2]),this}expandPoint(s){return s[0]<this.min[0]&&(this.min[0]=s[0]),s[1]<this.min[1]&&(this.min[1]=s[1]),s[2]<this.min[2]&&(this.min[2]=s[2]),s[0]>this.max[0]&&(this.max[0]=s[0]),s[1]>this.max[1]&&(this.max[1]=s[1]),s[2]>this.max[2]&&(this.max[2]=s[2]),this}equals(s){return Ff(this.min,s.min)&&Ff(this.max,s.max)}clear(){return(0,v.set)(this.min,1/0,1/0,1/0),(0,v.set)(this.max,-1/0,-1/0,-1/0),this}copy(s){return lt(this,s),this}}function Bf(h,s,g,c,O=0,X=0){const[ie,ne,we]=g,[Te,Me,Le]=c;let at=h[0+O]-ie,Ft=s[0+X]-ie,Gt=h[1+O]-ne,qt=s[1+X]-ne,Ut=h[2+O]-we,rn=s[2+X]-we;Te||at?at/=Te:at=1/Te,Te||Ft?Ft/=Te:Ft=1/Te,Me||Gt?Gt/=Me:Gt=1/Me,Me||qt?qt/=Me:qt=1/Me,Le||Ut?Ut/=Le:Ut=1/Le,Le||rn?rn/=Le:rn=1/Le;const Un=Math.min(Math.max(at,Ft),Math.max(Gt,qt),Math.max(Ut,rn));if(Un<0)return Un;const Pn=Math.max(Math.min(at,Ft),Math.min(Gt,qt),Math.min(Ut,rn));return Pn>Un?-1/0:Math.max(0,Pn)}function td(h,s,g){return h?Bf(h.min,h.max,s,g):-1/0}const Vc=E(68023);var su=P.n(Vc);const qa=new qe(()=>new Uc,h=>h.clear());class Rd{constructor(s,g){d(this,"getBounds",void 0),d(this,"box",new Uc),d(this,"centroid",(0,v.create)()),d(this,"object",void 0),d(this,"node",void 0),this.getBounds=s,this.object=g,this.update()}update(){const{centroid:s,box:g}=this;this.getBounds(g,this.object),s[0]=(g.min[0]+g.max[0])/2,s[1]=(g.min[1]+g.max[1])/2,s[2]=(g.min[2]+g.max[2])/2}}let Od=function(h){return h.Center="center",h.EqualCounts="equal",h.SurfaceArea="sah",h}({});function Wu(h,s){return(h.min[s]+h.max[s])/2}function Nf(h,s=h.axis){return Wu(h.box,s)}function ec(h){const{min:s,max:g}=h,c=Math.max(0,g[0]-s[0]),O=Math.max(0,g[1]-s[1]),X=Math.max(0,g[2]-s[2]);return 2*(c*O+c*X+O*X)}function Pd(h){return ec(h.box)}function tc(h){const s=qa.get();for(let c=0,O=h.length;c<O;c++)s.expand(h[c].box);const g=ec(s);return qa.release(s),g}function Nl(h,s=!0){do{const{left:g,right:c}=h;h.box.copy(g.box).expand(c.box),h=h.parent}while(s&&h)}class au{constructor(s,g,c,O=0){d(this,"box",void 0),d(this,"parent",null),d(this,"left",null),d(this,"right",null),d(this,"objects",null),d(this,"adapter",void 0),d(this,"axis",void 0),d(this,"depth",void 0),this.box=new Uc,this.axis=0,this.parent=g,this.depth=O,this.objects=c?Array.from(c):[],this.adapter=s,s.bvh.maxDepth<O&&(s.bvh.maxDepth=O);let X=null,ie=null;if(Object.defineProperties(this,{left:{get:()=>X,set:ne=>{X=ne,ne&&(ne.parent=this)}},right:{get:()=>ie,set:ne=>{ie=ne,ne&&(ne.parent=this)}}}),this.objects.length<=this.adapter.maxLeafObjects){for(let ne=0,we=this.objects.length;ne<we;ne++)this.objects[ne].node=this;_c(this),Ku(this)}else _c(this),Uf(this),Nl(this,!1)}add(s){!function(g,c){const O=ec(c.box),X=qa.get();for(;!g.objects;){const{left:ie,right:ne}=g,we=Pd(ie);X.copy(ie.box).expand(c.box);const Te=we+ec(X),Me=Pd(ne);X.copy(ne.box).expand(c.box);const Le=Me+ec(X);if(X.copy(ie.box).expand(ne.box),ec(X)+O<.3*Math.min(Te,Le))return Lf(g,c),void qa.release(X);g=Te<Le?ie:ne}qa.release(X),g.objects.push(c),c.node=g,fd(g),Ku(g)}(this,s)}delete(s){s.node=null;const g=this.objects.indexOf(s);g>=0&&this.objects.splice(g,1),this.objects.length>0?fd(this):this.parent&&(this.objects=null,function(c){const O=c.parent,X=c===O.left?O.right:O.left;if(O.box.copy(X.box),O.left=X.left,O.right=X.right,O.objects=X.objects,O.objects)for(let ie=0,ne=O.objects.length;ie<ne;ie++)O.objects[ie].node=O;else O.left.parent=O,O.right.parent=O,O.setDepth();O.parent&&Nl(O.parent)}(this),this.parent=null)}setDepth(s=this.depth){if(this.depth=s,s>this.adapter.bvh.maxDepth&&(this.adapter.bvh.maxDepth=s),!this.objects){const g=s+1;this.left.setDepth(g),this.right.setDepth(g)}}size(){return this.objects?this.left.size()+this.right.size():1}}function _c(h){if(h.box.clear(),h.objects)for(let s=0,g=h.objects.length;s<g;s++)h.box.expand(h.objects[s].box)}function fd(h){const s=qa.get();s.copy(h.box),_c(h);const g=!s.equals(h.box);return g&&h.parent&&Nl(h.parent),qa.release(s),g}function Lf(h,s){const{left:g,right:c}=h,O=new au(h.adapter,h);O.left=g,O.right=c,O.objects=null,g.parent=O,c.parent=O,Nl(O,!1);const X=new au(h.adapter,h);X.objects.push(s),s.node=X,_c(X),h.left=O,h.right=X,h.setDepth(),Nl(h)}function Uf(h){for(let X=0,ie=h.objects.length;X<ie;X++)h.objects[X].node=null;const s=h.objects,{splitMethod:g}=h.adapter;let c=null;if(g===Od.SurfaceArea){const X=Math.floor(h.objects.length/2);let ie=1/0;for(let ne=0;ne<3;ne++){su()(s,X,0,s.length-1,(Le,at)=>Le.centroid[ne]-at.centroid[ne]);const we=s.slice(0,X),Te=s.slice(X),Me=tc(we)*we.length+tc(Te)*Te.length;if(Me<ie&&(ie=Me,c={axis:ne,left:we,right:Te},0===Me))break}}else{const X=qa.get();for(let Me=0;Me<s.length;Me++)X.expandPoint(s[Me].centroid);let ie=-1,ne=-1/0;for(let Me=0;Me<3;Me++){const Le=X.max[Me]-X.min[Me];Le>ne&&(ie=Me,ne=Le)}const we=Wu(X,ie);qa.release(X);const Te=function(Me,Le){let at=-1,Ft=Me.length;for(;;){do{at++}while(at<Ft&&Le(Me[at])<=0);do{Ft--}while(Ft>=0&&Le(Me[Ft])>0);if(at>=Ft)return Ft+1;const Gt=Me[at];Me[at]=Me[Ft],Me[Ft]=Gt}}(s,Me=>Me.centroid[ie]-we);if(g===Od.Center&&Te>0&&Te<s.length-1){const Me=s.slice(0,Te),Le=s.slice(Te);c={axis:ie,left:Me,right:Le}}if(!c){const Me=Math.floor(s.length/2);su()(s,Me,0,s.length-1,(Ft,Gt)=>Ft.centroid[ie]-Gt.centroid[ie]);const Le=s.slice(0,Me),at=s.slice(Me);c={axis:ie,left:Le,right:at}}}h.objects=null;const O=h.depth+1;h.axis=c.axis,h.left=new au(h.adapter,h,c.left,O),h.right=new au(h.adapter,h,c.right,O)}function Ku(h){h.objects&&h.objects.length>h.adapter.maxLeafObjects&&Uf(h)}const nc=[[h=>h.right?.left,[h=>h.left,h=>h.right?.right]],[h=>h.right?.right,[h=>h.right?.left,h=>h.left]],[[h=>h.right,h=>h.left?.right],h=>h.left?.left],[[h=>h.left?.left,h=>h.right],h=>h.left?.right],[[h=>h.right?.right,h=>h.left?.right],[h=>h.right?.left,h=>h.left?.left]],[[h=>h.right?.left,h=>h.left?.right],[h=>h.left?.left,h=>h.right?.right]]];function Vf(h,s){if(Array.isArray(s)){const c=s[0](h),O=s[1](h);if(!c||!O)return 1/0;const X=qa.get();X.copy(c.box).expand(O.box);const ie=ec(X);return qa.release(X),ie}const g=s(h);return g?ec(g.box):1/0}function Xu(h){const{left:s,right:g,adapter:c}=h,{refitNodes:O}=c;if(h.parent&&s?.objects&&g?.objects)return void O.add(h.parent);const X=Pd(s)+Pd(g);let ie=null,ne=X;for(let Pn=0,Rn=nc.length;Pn<Rn;Pn++){const An=nc[Pn],Ln=Vf(h,An[0])+Vf(h,An[1]);Ln<ne&&(ne=Ln,ie=An)}if(!ie)return void(h.parent&&O.add(h.parent));if(h.parent&&O.add(h.parent),(X-ne)/X<.3)return;const[we,Te]=ie;let Me=!1;const Le=Array.isArray(we),at=Array.isArray(Te),Ft=Le?s:we(h),Gt=at?g:Te(h);let qt,Ut,rn,Un;Le?(qt=we[0](h),Ut=we[1](h)):(qt=s.left,Ut=s.right,Me=!0),h.left=Ft,Ft.left=qt,Ft.right=Ut,at?(rn=Te[0](h),Un=Te[1](h)):(rn=g.left,Un=g.right,Me=!0),h.right=Gt,Gt.left=rn,Gt.right=Un,Le&&Nl(Ft,!1),at&&Nl(Gt,!1),Me&&h.setDepth()}function pd(h,s,g=1/0,...c){const{origin:O,direction:X,inspect:ie,filter:ne}=s,we=s.near||0;let Te=null;const Me=X?td(h.box,O,X):Ka(h.box,O,g);if(Me<0||Me>g)return null;if(h.objects){for(const qt of h.objects)if(!ne||ne(qt.object)){let Ut=Me;if(h.objects.length>1&&(Ut=X?td(qt.box,O,X):Ka(qt.box,O,g)),Ut<=g+$)if(ie){const rn=ie(qt.object,O,Ut,g,s,...c);rn&&(Te&&rn.distance<Te.distance||rn.distance<=g)&&rn.distance>=we-$&&(Te=rn,g=Te.distance)}else Ut>=we-$&&(g=Ut,Te={object:qt.object,distance:Ut})}return Te}let Le=!0;if(X)Le=X[h.axis]>0;else{const qt=h.left?Nf(h.left,h.axis):-1/0,Ut=h.right?Nf(h.right,h.axis):1/0,rn=O[h.axis];Le=Math.abs(qt-rn)<=Math.abs(Ut-rn)}const Ft=Le?h.right:h.left,Gt=pd(Le?h.left:h.right,s,g,...c);if(Gt&&(Te=Gt,g=Te.distance),!Te||g>we){const qt=pd(Ft,s,g,...c);qt&&(Te=qt)}return Te}class sm{constructor(s,g,c){d(this,"maxDepth",0),d(this,"root",void 0),d(this,"size",void 0),d(this,"bounds",void 0),d(this,"maxLeafObjects",void 0),d(this,"add",void 0),d(this,"delete",void 0),d(this,"clear",void 0),d(this,"optimize",void 0),d(this,"query",void 0),d(this,"forEach",void 0);const O=c?.maxLeafObjects||1,X=new Set,ie={bvh:this,bounds:s,refitNodes:X,maxLeafObjects:O,splitMethod:Od.SurfaceArea},ne=new Map;let we=null;if(g){we=new Set;const Me=new Set;for(const Le of g)if(!Me.has(Le)){Me.add(Le);const at=new Rd(s,Le);we.add(at),ne.set(Le,at)}we.size&&(ie.splitMethod=Od.Center)}const Te=new au(ie,null,we);this.add=Me=>{let Le=ne.get(Me);Le?Le.update():Le=new Rd(s,Me),ne.set(Me,Le),Le.node?fd(Le.node)&&Le.node.parent&&X.add(Le.node.parent):Te.add(Le)},this.delete=Me=>{const Le=ne.get(Me);Le&&Le.node&&(Le.node.delete(Le),ne.delete(Me))},this.clear=()=>{if(ne.clear(),Te.objects)for(let Me=0,Le=Te.objects.length;Me<Le;Me++)Te.delete(Te.objects[Me]);else Te.left=null,Te.right=null,Te.box.clear(),Te.objects=[];this.maxDepth=0},this.query=(Me,...Le)=>{const at=isNaN(Me.radius)?1/0:Me.radius;return pd(Te,Me,at,...Le)},this.optimize=()=>{if(1===O)for(;X.size;){let Me=0;for(const at of X)Me=Math.max(Me,at.depth);const Le=new Set;for(const at of X)at.depth===Me&&(Le.add(at),X.delete(at));for(const at of Le)Xu(at)}else console.warn("Optimize only works if maxLeafObjects = 1")},this.forEach=Me=>{ne.forEach(Le=>Me(Le.object))},Object.defineProperties(this,{root:{get:()=>Te},size:{get:()=>ne.size},maxLeafObjects:{get:()=>O},bounds:{get:()=>Te.box}})}}function Oh(h,s=h.axis){return((g=h.box).min[c=s]+g.max[c])/2;var g,c}class lu{constructor(s,g,c,O=0,X=0){d(this,"box",void 0),d(this,"parent",null),d(this,"left",null),d(this,"right",null),d(this,"objects",null),d(this,"axis",void 0),d(this,"depth",void 0),this.box=new Uc,this.parent=g,this.axis=O,this.depth=X,this.objects=c?Array.from(c):[],s.tree.maxDepth<X&&(s.tree.maxDepth=X);for(let ne=0,we=this.objects.length;ne<we;ne++){const Te=s.boundingBoxes.get(this.objects[ne]);this.box.expand(Te)}if(X>=s.maxNodeDepth||this.objects.length<=s.maxLeafObjects)return;const{maxLeafObjects:ie}=s;for(let ne=0;ne<3;ne++){const we=(this.box.min[O]+this.box.max[O])/2,Te=[],Me=[];for(let Le=0,at=this.objects.length;Le<at;Le++){const Ft=this.objects[Le];s.boundingBoxes.get(Ft).min[O]<=we?Te.push(Ft):Me.push(Ft)}if(Te.length>=ie&&Me.length>=ie){this.axis=O,this.objects=null;const Le=(O+1)%3,at=X+1;return this.left=new lu(s,this,Te,Le,at),void(this.right=new lu(s,this,Me,Le,at))}O=(O+1)%3}}size(){return this.left&&this.right?this.left.size()+this.right.size():1}}function md(h,s,g,c=1/0,...O){const{origin:X,direction:ie,inspect:ne,filter:we}=s,Te=s.near||0;let Me=null;const Le=ie?td(h.box,X,ie):Ka(h.box,X,c);if(Le<0||Le>c)return null;if(h.objects){for(const Ut of h.objects)if(!we||we(Ut)){let rn=Le;if(h.objects.length>1&&!ne){const Un=g.get(Ut);rn=ie?td(Un,X,ie):Ka(Un,X,c)}if(rn<=c+$)if(ne){const Un=ne(Ut,X,rn,c,s,...O);Un&&(Me&&Un.distance<Me.distance||Un.distance<=c)&&Un.distance>=Te-$&&(Me=Un,c=Me.distance)}else rn>=Te-$&&(c=rn,Me={object:Ut,distance:rn})}return Me}let at=!0;if(ie)at=ie[h.axis]>0;else{const Ut=h.left?Oh(h.left,h.axis):-1/0,rn=h.right?Oh(h.right,h.axis):1/0,Un=X[h.axis];at=Math.abs(Ut-Un)<=Math.abs(rn-Un)}const Gt=at?h.right:h.left,qt=md(at?h.left:h.right,s,g,c,...O);if(qt&&(Me=qt,c=qt.distance),!Me||c>Te){const Ut=md(Gt,s,g,c,...O);Ut&&(Me=Ut)}return Me}class cu{constructor(s,g,c){d(this,"maxDepth",0),d(this,"root",void 0),d(this,"size",void 0),d(this,"bounds",void 0),d(this,"maxLeafObjects",void 0),d(this,"query",void 0),d(this,"forEach",void 0);const O=c?.maxLeafObjects||1,X=c?.maxNodeDepth||1/0,ie=new Map,{preserveBounds:ne=!0}=c||{},we={tree:this,bounds:s,maxLeafObjects:O,maxNodeDepth:X,boundingBoxes:ie},Te=new Set(g);Te.forEach(Le=>{const at=new Uc;s(at,Le),ie.set(Le,at)});const Me=new lu(we,null,Te);!1===ne&&ie.clear(),this.query=(Le,...at)=>{if(!Le.inspect&&!1===ne)throw new Error("KdTree queries without preserved object bounds require an inspect callback function.");const Ft=isNaN(Le.radius)?1/0:Le.radius;return md(Me,Le,we.boundingBoxes,Ft,...at)},this.forEach=Le=>{Te.forEach(at=>Le(at))},Object.defineProperties(this,{root:{get:()=>Me},size:{get:()=>Te.size},maxLeafObjects:{get:()=>O},bounds:{get:()=>Me.box}})}}function jc(h,s,g,c){const O=3*g,X=O+1;let ne=s[O],we=s[X],Te=s[X+1];c&&(ne=ne*c[0]+c[12],we=we*c[5]+c[13],Te=Te*c[10]+c[14]),ne<h.min[0]&&(h.min[0]=ne),we<h.min[1]&&(h.min[1]=we),Te<h.min[2]&&(h.min[2]=Te),ne>h.max[0]&&(h.max[0]=ne),we>h.max[1]&&(h.max[1]=we),Te>h.max[2]&&(h.max[2]=Te)}function am(h,s,g,c,O){h.clear();const X=s.attributes.position.data,ie=s.attributes.position.decodeMat;jc(h,X,g,ie),jc(h,X,c,ie),jc(h,X,O,ie)}function lm(h,s,g,c,O){h.clear();for(let X=0,ie=s.morphKeys.length;X<ie;X++){const ne=s.morphKeys[X],we=ne.attributes.position.data,Te=ne.attributes.position.decodeMat;jc(h,we,g,Te),jc(h,we,c,Te),jc(h,we,O,Te)}}class Ph extends ae{constructor(){super(),d(this,"get",void 0),d(this,"release",void 0);const s=new go({create:c=>{if(c.attributes&&c.topology===ut.triangles){const O=c.morphKeys?.length?lm:am,X=c.indices?(we,Te)=>{const{index:Me,geometry:Le}=Te,at=Me+1;return O(we,Le,Le.indices[Me],Le.indices[at],Le.indices[at+1])}:(we,Te)=>{const{index:Me,geometry:Le}=Te,at=Me+3;return O(we,Le,Me,at,at+3)},ie=[];if(c.indices)for(let we=0,Te=c.indices.length;we<Te;we+=3)ie.push({geometry:c,index:we});else for(let we=0,Te=c.attributes.position.data.length;we<Te;we+=9)ie.push({geometry:c,index:we});const ne=new cu(X,ie,{maxLeafObjects:8,preserveBounds:!1});return this.emit("create",{geometry:c}),ne}return null},release:()=>{}});this.get=c=>s.get(c),this.release=c=>s.release(c);const g=this.destroy;this.destroy=()=>{s.destroy(),g()}}}function dm(){const h=(0,M.create)(),s=(0,v.create)(),g=(0,v.create)();return{frame(c){(0,G.getRotation)(h,c)},update(c){c.updateWorldMatrix(),(0,G.getTranslation)(s,c.worldMatrix),(0,G.getScaling)(g,c.worldMatrix),(0,G.fromRotationTranslationScale)(c.worldMatrix,h,s,g),c.setWorldMatrix(c.worldMatrix)}}}function um(){const h=(0,v.create)();return{frame(s){(0,G.getTranslation)(h,s)},update(s){s.updateWorldMatrix();const[g,c,O]=h;s.worldMatrix[12]=g,s.worldMatrix[13]=c,s.worldMatrix[14]=O,s.setWorldMatrix(s.worldMatrix)}}}class Il{constructor(s){d(this,"update",void 0),d(this,"destroy",void 0);const g=new Set,c={copyPosition:um(),copyRotation:dm()};function O(ne){ne.constraints.length?g.add(ne):g.delete(ne)}function X(ne){"constraints"===ne.property&&O(ne.node)}const ie=new _i;ie.on("add",function(ne){ne.on("change",X),O(ne)}),ie.on("remove",function(ne){ne.off("change",X),g.delete(ne)}),ie.root=s,this.update=ne=>{const we={};g.forEach(Te=>{Te.constraints.forEach(Me=>{const Le=Me.type;if(Le in c){const at=c[Le];we[Le]||(we[Le]=!0,at.frame?.(ne)),at.update(Te,Me)}})})},this.destroy=()=>{ie.destroy(),g.clear()}}}const kd=(0,G.create)();function Yu(h,s,g){return h*h+s*s+g*g}function kh(h,s){const g=(0,v.create)(),c={origin:(0,v.create)(),direction:g,radius:1/0,near:0,inspect:s};return(O,X,ie,ne,{direction:we},...Te)=>{if(O.geometry.topology!==ut.triangles)return null;const Me=h(O.geometry);if(!Me){const Ft=[0,0,0];return(0,v.scaleAndAdd)(Ft,X,we,ie),{object:O,distance:ie,intersection:Ft}}let Le=null;const{worldMatrix:at}=O;if((0,G.invert)(kd,at),(0,v.transformMat4)(c.origin,X,kd),we)c.direction=g,ne<1/0?((0,v.scaleAndAdd)(g,X,we,ne),(0,v.transformMat4)(g,g,kd),(0,v.subtract)(g,g,c.origin),c.radius=(0,v.length)(g),(0,v.scale)(g,g,1/c.radius)):((0,v.add)(g,X,we),(0,v.transformMat4)(g,g,kd),(0,v.subtract)(g,g,c.origin),(0,v.normalize)(g,g),c.radius=1/0),Le=Me.query(c,O,...Te);else{c.direction=null;const Ft=Yu(at[0],at[1],at[2]),Gt=Yu(at[4],at[5],at[6]),qt=Yu(at[8],at[9],at[10]),Ut=Math.sqrt(Math.max(Ft,Gt,qt));c.radius=Math.max(1e-4,ne/Ut),Le=Me.query(c,O,...Te)}if(Le){const{object:Ft,intersection:Gt,...qt}=Le;(0,v.transformMat4)(Gt,Gt,at);let Ut=(0,v.distance)(X,Gt);if(Ut>=ie-$&&Ut<=ne+$)return Ut=me(Ut,ie,ne),{object:O,...qt,intersection:Gt,distance:Ut,triIndex:Ft.index}}return null}}const ga=(0,v.create)(),Hc=(0,v.create)(),Qu=(0,v.create)(),du=(0,v.create)();function Fh(h,s,g,c,O,X){(0,v.subtract)(ga,O,c),(0,v.subtract)(Hc,X,c),(0,v.cross)(Qu,ga,Hc);const ie=-(0,v.dot)(g,Qu);if(ie<0||0===ie)return!1;(0,v.subtract)(du,s,c),(0,v.cross)(Hc,du,Hc);const ne=-(0,v.dot)(g,Hc);if(ne<0)return!1;(0,v.cross)(ga,ga,du);const we=-(0,v.dot)(g,ga);if(we<0||ne+we>ie)return!1;const Te=(0,v.dot)(du,Qu);return!(Te<0)&&((0,v.scaleAndAdd)(h,s,g,Te/ie),!0)}function rc(h,s,g,c){let ie=s[g],ne=s[g+1],we=s[g+2];c&&(ie=ie*c[0]+c[12],ne=ne*c[5]+c[13],we=we*c[10]+c[14]),h[0]=ie,h[1]=ne,h[2]=we}function Bh(h,s,g,c,O){const{geometry:X}=h,{indices:ie}=X,ne=s+1,we=ne+1,{morphKeyIndex:Te,morphFactor:Me}=h;if(Te>=0&&X.morphKeys.length){const Le=X.morphKeys[Te],at=Le.attributes.position.data,Ft=Le.attributes.position.decodeMat;if(rc(g,at,3*ie[s],Ft),rc(c,at,3*ie[ne],Ft),rc(O,at,3*ie[we],Ft),Me>0){const Gt=X.morphKeys[Te+1],qt=Gt.attributes.position.data,Ut=Gt.attributes.position.decodeMat,rn=_e.get();rc(rn,qt,3*ie[s],Ut),(0,v.lerp)(g,g,rn,Me),rc(rn,qt,3*ie[ne],Ut),(0,v.lerp)(c,c,rn,Me),rc(rn,qt,3*ie[we],Ut),(0,v.lerp)(O,O,rn,Me),_e.release(rn)}}else{const Le=X.attributes.position.decodeMat,at=X.attributes.position.data;rc(g,at,3*ie[s],Le),rc(c,at,3*ie[ne],Le),rc(O,at,3*ie[we],Le)}}const jf=(h,s,g,c,{direction:O},X)=>{const ie=_e.get(),ne=_e.get(),we=_e.get(),Te=_e.get(),{index:Me}=h;Bh(X,Me,ie,ne,we);const Le=O?Fh(Te,s,O,ie,ne,we):function(Ft,Gt,qt,Ut,rn,Un){const Pn=qt*qt,Rn=_e.get(),An=_e.get(),Ln=_e.get();(0,v.subtract)(Rn,rn,Ut),(0,v.subtract)(An,Un,Ut),(0,v.subtract)(Ln,Gt,Ut);const or=(0,v.dot)(Rn,Ln),_r=(0,v.dot)(An,Ln);if(_e.release(Ln),or<=0&&_r<=0)return(0,v.copy)(Ft,Ut),_e.release(Rn),_e.release(An),(0,v.squaredDistance)(Gt,Ft)<=Pn;const qn=_e.get();(0,v.subtract)(qn,Gt,rn);const Br=(0,v.dot)(Rn,qn),Yr=(0,v.dot)(An,qn);if(_e.release(qn),Br>=0&&Yr>=Br)return(0,v.copy)(Ft,rn),_e.release(Rn),_e.release(An),(0,v.squaredDistance)(Gt,Ft)<=Pn;const Hr=or*Yr-Br*_r;if(Hr<=0&&or>=0&&Br<=0)return(0,v.scaleAndAdd)(Ft,Ut,Rn,or/(or-Br)),_e.release(Rn),_e.release(An),(0,v.squaredDistance)(Gt,Ft)<=Pn;const Nr=_e.get();(0,v.subtract)(Nr,Gt,Un);const bi=(0,v.dot)(Rn,Nr),gi=(0,v.dot)(An,Nr);if(_e.release(Nr),gi>=0&&bi<=gi)return(0,v.copy)(Ft,Un),_e.release(Rn),_e.release(An),(0,v.squaredDistance)(Gt,Ft)<=Pn;const xi=bi*_r-or*gi;if(xi<=0&&_r>=0&&gi<=0)return(0,v.scaleAndAdd)(Ft,Ut,An,_r/(_r-gi)),_e.release(Rn),_e.release(An),(0,v.squaredDistance)(Gt,Ft)<=Pn;const Fr=Br*gi-bi*Yr;if(Fr<=0&&Yr-Br>=0&&bi-gi>=0){const bo=_e.get();return(0,v.scaleAndAdd)(Ft,rn,bo,(Yr-Br)/(Yr-Br+(bi-gi))),_e.release(Rn),_e.release(An),_e.release(bo),(0,v.squaredDistance)(Gt,Ft)<=Pn}const Si=1/(Fr+xi+Hr),Mo=Hr*Si;return(0,v.scaleAndAdd)(Ft,Ut,Rn,xi*Si),(0,v.scaleAndAdd)(Ft,Ft,An,Mo),_e.release(Rn),_e.release(An),(0,v.squaredDistance)(Gt,Ft)<=Pn}(Te,s,c,ie,ne,we);_e.release(ie),_e.release(ne),_e.release(we);let at=null;return Le&&(at={object:h,distance:(0,v.distance)(s,Te),intersection:Array.from(Te)}),_e.release(Te),at};function Hf(h,s,g=$){const[c,O,X]=s.min,[ie,ne,we]=s.max,Te=h.worldMatrixInverse,Me=Te[2],Le=Te[6],at=Te[10],Ft=Te[14],Gt=ie-c,qt=ne-O,Ut=we-X,rn=Math.sqrt(Gt*Gt+qt*qt+Ut*Ut);let Un=c*Me+O*Le+X*at+Ft;if(isFinite(Un)){Un=Math.max(Un,ie*Me+O*Le+X*at+Ft),Un=Math.max(Un,c*Me+ne*Le+X*at+Ft),Un=Math.max(Un,c*Me+O*Le+we*at+Ft),Un=Math.max(Un,ie*Me+ne*Le+X*at+Ft),Un=Math.max(Un,ie*Me+O*Le+we*at+Ft),Un=Math.max(Un,c*Me+ne*Le+we*at+Ft),Un=Math.max(Un,ie*Me+ne*Le+we*at+Ft);const{near:Pn,far:Rn}=h;h.near=Math.max(-Un,g),h.far=Math.max(rn-Un,h.near+g),Pn===h.near&&Rn===h.far||h.dirtyProjection()}}const Gc=(0,Lo.create)();function hm(h,s,g){(0,Lo.transformMat4)(h.plane,s.plane,g),ea(h.plane),s.fade?((0,v.copy)(Gc,s.plane),Gc[3]=s.plane[3]+s.fade,(0,Lo.transformMat4)(Gc,Gc,g),ea(Gc),h.fade=Gc[3]-h.plane[3]):h.fade=0}const Gf=new Map([["bc1-rgba-unorm","s3"],["bc2-rgba-unorm","s3"],["bc3-rgba-unorm","s3"],["bc1-rgba-unorm-srgb","s3"],["bc2-rgba-unorm-srgb","s3"],["bc3-rgba-unorm-srgb","s3"],["bc4-r-unorm","rgtc"],["bc4-r-snorm","rgtc"],["bc5-rg-unorm","rgtc"],["bc5-rg-snorm","rgtc"],["bc6h-rgb-ufloat","bptc"],["bc6h-rgb-float","bptc"],["bc7-rgba-unorm","bptc"],["bc7-rgba-unorm-srgb","bptc"],["etc2-rgb8unorm","etc"],["etc2-rgb8unorm-srgb","etc"],["etc2-rgb8a1unorm","etc"],["etc2-rgb8a1unorm-srgb","etc"],["etc2-rgba8unorm","etc"],["etc2-rgba8unorm-srgb","etc"],["eac-r11unorm","etc"],["eac-r11snorm","etc"],["eac-rg11unorm","etc"],["eac-rg11snorm","etc"],["etc2-rgb8unorm","etc1"],["astc-4x4-unorm","astc"],["astc-5x4-unorm","astc"],["astc-5x5-unorm","astc"],["astc-6x5-unorm","astc"],["astc-6x6-unorm","astc"],["astc-8x5-unorm","astc"],["astc-8x6-unorm","astc"],["astc-8x8-unorm","astc"],["astc-10x5-unorm","astc"],["astc-10x6-unorm","astc"],["astc-10x8-unorm","astc"],["astc-10x10-unorm","astc"],["astc-12x10-unorm","astc"],["astc-12x12-unorm","astc"],["astc-4x4-unorm-srgb","astc"],["astc-5x4-unorm-srgb","astc"],["astc-5x5-unorm-srgb","astc"],["astc-6x5-unorm-srgb","astc"],["astc-6x6-unorm-srgb","astc"],["astc-8x5-unorm-srgb","astc"],["astc-8x6-unorm-srgb","astc"],["astc-8x8-unorm-srgb","astc"],["astc-10x5-unorm-srgb","astc"],["astc-10x6-unorm-srgb","astc"],["astc-10x8-unorm-srgb","astc"],["astc-10x10-unorm-srgb","astc"],["astc-12x10-unorm-srgb","astc"],["astc-12x12-unorm-srgb","astc"],["pvrtc-rgb4unorm","pvrtc"],["pvrtc-rgb2unorm","pvrtc"],["pvrtc-rgba4unorm","pvrtc"],["pvrtc-rgba2unorm","pvrtc"]]),fm=new Map([[Xn.Linear,"linear"],[Xn.Exponential,"exp"],[Xn.ExponentialSquared,"exp2"]]);class pm extends ae{constructor(s,g){let c;super(),d(this,"renderer",void 0),d(this,"rootNode",void 0),d(this,"contentNode",void 0),d(this,"environmentNode",void 0),d(this,"camera",void 0),d(this,"started",void 0),d(this,"story",void 0),d(this,"bounds",new Uc),d(this,"setStory",void 0),d(this,"rayCast",void 0),d(this,"rayCastCamera",void 0),d(this,"searchNearestObject",void 0),d(this,"start",void 0),d(this,"stop",void 0);let O=null,X=!1;const{baseUrl:ie,queryFilter:ne}=g,we=new Sl({canvas:g.canvas,contextName:g.contextName,optimizations:g.optimizations}),Te=new sm((Fr,Si)=>lt(Fr,Si.worldBounds)),Me=new Uc,Le=new Set;let at=!0;const Ft=[],Gt=new cr;Gt.name="camera",Gt.near=.001,Gt.dirtyProjection(),Gt.updateWorldMatrix();const qt=Fr=>!(Fr instanceof tn)&&(!ne||ne(Fr)),Ut=Fr=>{const{visible:Si}=Fr,ki=qt(Fr);Si&&ki?Te.add(Fr):Te.delete(Fr);const Mo=Le.has(Fr),bo=Si&&!ki;bo?Le.add(Fr):Le.delete(Fr),(bo||Mo)&&(at=!0)};function rn(Fr){"geometry"!==Fr.property&&"visible"!==Fr.property||Ut(Fr.node)}function Un(Fr){Ut(Fr.node)}we.on("add",Fr=>{Fr instanceof gt&&(Fr.on("updateWorldBounds",Un),Fr.on("change",rn),Fr.visible&&!qt(Fr)&&Le.add(Fr))}),we.on("remove",Fr=>{Fr instanceof gt&&(Fr.off("updateWorldBounds",Un),Fr.off("change",rn),Te.delete(Fr),Le.delete(Fr))}),we.on("xrframe",({viewerPose:Fr})=>{Fr&&(c=Fr.transform.matrix)});const Pn=new Ue({name:"BioDigitalEngine"});Pn.add(Gt),we.root=Pn;const Rn=new Ue({name:"BioDigitalEngine environment"});Rn.parent=Pn;const An=new Ue({name:"BioDigitalEngine content"});An.parent=Pn,we.camera=Gt;const Ln=new Il(Pn);we.on("animate",function(Fr){const Si=Fr/1e3;O?.update(Si),we.xrSession||(Gt.updateWorldMatrix(),c=Gt.worldMatrix),Ln.update(c,Pn)}),we.on("update",()=>{at&&(Me.clear(),Le.forEach(Fr=>{Me.expand(Fr.worldBounds)}),at=!1),this.bounds.copy(Te.bounds).expand(Me),we.xrSession||Hf(Gt,this.bounds,.1*ht)});const or=(0,G.create)();function _r(){const Fr=O?.activeChapter,Si=Fr?.clippingPlanes||[];for(let ki=Ft.length;ki<Si.length;ki++)Ft.push({plane:(0,Lo.create)(),fade:0});if(Ft.length=Si.length,Fr){Fr.contentNode.updateWorldMatrix(),(0,G.invert)(or,Fr.contentNode.worldMatrix),(0,G.transpose)(or,or);for(let ki=0;ki<Si.length;ki++){const Mo=Si[ki];Mo&&hm(Ft[ki],Mo,or)}}we.setClippingPlanes(Ft)}const qn=()=>{if(O){const Fr=O;O=null,An.remove(Fr.contentNode),Rn.remove(Fr.environmentNode),we.environment.fog.mode="",we.environment.lightMap.texture=null,we.environment.reflectionMap.texture=null,we.physicalImageLight=null,Fr.destroy()}},Br=Fr=>Te.query(Fr)||null,Yr=new Ph,Hr={origin:(0,v.create)(),direction:(0,v.create)(),near:0,radius:1/0,inspect:kh(Fr=>Yr.get(Fr),jf)},Nr={origin:null,near:0,radius:1/0,inspect:Hr.inspect},bi=(0,G.create)();this.rayCastCamera=(Fr,Si,ki)=>{const{canvas:Mo}=we,bo=Fr/Mo.width*2-1,Qo=-Si/Mo.height*2+1,{origin:Ii,direction:Tr}=Hr;return Hr.near=void 0===ki?.near?Gt.near:ki.near,Hr.filter=ki?.filter||void 0,Hr.radius=ki?.radius?ki.radius:Gt.far,(0,G.getTranslation)(Ii,Gt.worldMatrix),(0,v.set)(Tr,bo,Qo,.5),(0,G.invert)(bi,Gt.projectionMatrix),(0,v.transformMat4)(Tr,Tr,bi),(0,v.transformMat4)(Tr,Tr,Gt.worldMatrix),(0,v.subtract)(Tr,Tr,Ii),(0,v.normalize)(Tr,Tr),Br(Hr)},this.rayCast=(Fr,Si)=>{const{origin:ki,direction:Mo}=Hr;return(0,G.getTranslation)(ki,Fr),(0,v.set)(Mo,0,0,-1),(0,v.transformMat4)(Mo,Mo,Fr),(0,v.subtract)(Mo,Mo,ki),(0,v.normalize)(Mo,Mo),Hr.near=void 0===Si?.near?Gt.near:Si.near,Hr.filter=Si?.filter||void 0,Hr.radius=Si?.radius?Si.radius:1/0,Br(Hr)},this.searchNearestObject=(Fr,Si)=>(Nr.origin=Fr,Hr.near=void 0===Si?.near?Gt.near:Si.near,Hr.filter=Si?.filter||void 0,Hr.radius=Si?.radius?Si.radius:1/0,Br(Hr));const gi=(Fr=we.textureFormats,Si=g?.disableTextureCompression,Si?Fr.filter(ki=>!0===Si?!Gf.has(ki):!Si[Gf.get(ki)||ki]):Fr);var Fr,Si;this.setStory=Fr=>{if(qn(),!Fr)return;const Si=O=new vr(s,Fr,{decompressNormals:!1,decompressPositions:!1,computeTangents:!0,textureFormats:gi,baseUrl:ie,loadAllMorphs:g.loadAllMorphs,camera:Gt});let ki=Si.activeChapter;Si.on("changechapter",Mo=>{const bo=Si.chapters[Mo];var Qo;Qo=bo.environment,Object.assign(we.environment.lightMap,Qo?.lightMap||{texture:null}),Object.assign(we.environment.reflectionMap,Qo?.reflectionMap||{texture:null}),function(Ii){const{enabled:Tr,mode:vi,start:po=0,end:la=1e3,density:Zs=.01,...As}=Ii||{},La=Tr&&fm.get(vi)||"";Object.assign(we.environment.fog,As),we.environment.fog.start=po*ht,we.environment.fog.end=la*ht,we.environment.fog.density=Zs/ht,we.environment.fog.mode=La}(bo.properties.fog),_r(),we.physicalImageLight=bo.physicalImageLight,we.toneMapping=bo.toneMapping,we.transparencyMode=[bo.transparencyMode,bo.fallbackTransparency,$t.Alpha].find(Ii=>Ii&&we.supportsTransparencyMode(Ii)),we.setPostProcessingPipeline(bo.postProcess),ki!==bo&&(bo.clippingPlanes.on("change",_r),bo.contentNode.on("dirty",_r),ki?.clippingPlanes.off("change",_r),ki?.contentNode.off("dirty",_r),ki=bo),this.emit("changechapter",Mo)}),Si.on("destroy",()=>{qn()}),An.add(O.contentNode),Rn.add(O.environmentNode),X&&Si.start(),this.emit("changestory")},this.start=()=>{X||(X=!0,O?.start(),we.start(),this.emit("start"))},this.stop=()=>{X&&(X=!1,we.stop(),O?.stop(),this.emit("stop"))};const xi=this.destroy;this.destroy=()=>{qn(),Yr.destroy(),we.destroy(),this.emit("destroy"),xi()},Object.defineProperties(this,{renderer:{value:we,writable:!1},rootNode:{value:Pn,writable:!1},environmentNode:{value:Rn,writable:!1},contentNode:{value:An,writable:!1},camera:{value:Gt,writable:!1},story:{get:()=>O},started:{get:()=>X}})}}class zf extends hr{constructor(s={}){const{left:g,right:c,top:O,bottom:X,...ie}=s;super(ie),d(this,"left",void 0),d(this,"right",void 0),d(this,"top",void 0),d(this,"bottom",void 0),this.left=g??-1,this.right=c??1,this.top=O??1,this.bottom=X??-1;let ne=!0;this.dirtyProjection=()=>{ne=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{ne&&(0,G.ortho)(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far),ne=!1},Object.defineProperties(this,{dirty:{get:()=>ne||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>ne}})}}class $f extends ae{constructor(s,g){super(),d(this,"play",void 0),d(this,"pause",void 0),d(this,"update",void 0),d(this,"loop",void 0),d(this,"currentTime",void 0),d(this,"playBackRate",void 0),d(this,"animationSystem",void 0),d(this,"paused",void 0),d(this,"duration",void 0);const c=!!g?.autoAnimate,O=Math.max(1e3/60,g?.maxDelta||j);let X=!0,ie=!1,ne=1,we=0,Te=1/0,Me=0;const Le=()=>{if(X)return;const Ft=performance.now(),Gt=Ft-Me;Gt>O&&(Te-=O-Gt),Me=Ft;const qt=(Ft-Te)*ne/1e3,Ut=s.currentTime,{duration:rn}=s;if(qt>=rn)if(ie&&rn>0)s.currentTime=qt%rn;else{const Un=s.currentTime!==rn;s.currentTime=rn,this.pause(),Un&&this.emit("ended",this)}else s.currentTime=qt;qt!==Ut&&this.emit("timeupdate",this),!X&&c&&(we=requestAnimationFrame(Le))};this.update=Le,this.play=()=>{if(!X)return;const Ft=s.currentTime;let Gt=s.currentTime;Gt>=s.duration&&(s.currentTime=Gt=0);const qt=performance.now();Te=qt-1e3*Gt/ne,Me=qt,X=!1,c&&(we=requestAnimationFrame(Le)),this.emit("play",this),Gt!==Ft&&this.emit("timeupdate",this)},this.pause=()=>{X||(X=!0,cancelAnimationFrame(we),this.emit("pause",this))};const at=this.destroy;this.destroy=()=>{this.pause(),at()},Object.defineProperties(this,{loop:{get:()=>ie,set(Ft){ie=Ft}},currentTime:{get:()=>s.currentTime,set(Ft){if(Ft<0||Ft>s.duration||isNaN(Ft))throw new Error("Invalid animation system time: "+Ft);Ft!==s.currentTime&&(s.currentTime=Ft,this.emit("timeupdate",this))}},playBackRate:{get:()=>ne,set(Ft){if(!(Ft>0))throw new Error("Negative or zero playback rate not supported");ne!==Ft&&(ne=Ft,Te=performance.now()-1e3*s.currentTime/ne,this.emit("ratechange",this))}},paused:{get:()=>X},duration:{get:()=>s.duration},animationSystem:{value:s,writable:!1}})}}function Wf(h,s,g,c,O){const X=_e.get(),ie=_e.get(),ne=_e.get();(0,v.subtract)(X,O,g),(0,v.subtract)(ie,c,g),(0,v.subtract)(ne,s,g);const we=(0,v.dot)(X,X),Te=(0,v.dot)(X,ie),Me=(0,v.dot)(X,ne),Le=(0,v.dot)(ie,ie),at=(0,v.dot)(ie,ne);_e.release(X),_e.release(ie),_e.release(ne);const Ft=we*Le-Te*Te;if(0===Ft)return null;const Gt=1/Ft,qt=(Le*Me-Te*at)*Gt,Ut=(we*at-Te*Me)*Gt;return(0,v.set)(h,1-qt-Ut,Ut,qt),h}function uu(h,s,g,c,O){const X=s[0],ie=s[1],ne=s[2];return h[0]=g[0]*X+c[0]*ie+O[0]*ne,h[1]=g[1]*X+c[1]*ie+O[1]*ne,h[2]=g[2]*X+c[2]*ie+O[2]*ne,h}function Nh(h,s,g,c){const O=_e.get(),X=_e.get();(0,v.subtract)(O,c,g),(0,v.subtract)(X,s,g),(0,v.cross)(O,O,X),_e.release(X);const ie=(0,v.squaredLength)(O);return ie>0?((0,v.scale)(h,O,1/Math.sqrt(ie)),_e.release(O),h):(_e.release(O),null)}const Lh=(0,G.create)();class Uh{constructor(s,g){d(this,"title",void 0),d(this,"shown",void 0),d(this,"trackingMode",void 0),d(this,"renderableIndex",void 0),d(this,"primitiveIndex",void 0),d(this,"variantIndex",void 0),d(this,"anatomyObject",void 0),d(this,"barycenter",void 0),d(this,"direction",(0,v.fromValues)(0,0,1)),d(this,"position",(0,v.create)()),d(this,"visible",void 0),d(this,"update",void 0),d(this,"destroy",void 0);const{object:c,trackingMode:O,renderableIndex:X=-1,primitiveIndex:ie=-1,variantIndex:ne=0}=g,we="primitive"===O&&g.barycenter?(0,v.copy)((0,v.create)(),g.barycenter):null;if("primitive"===O){if(!(X>=0))throw new Error("Primitive-tracked marker must have a renderableIndex >= 0.");if(!(ie>=0))throw new Error("Primitive-tracked marker must have a primitiveIndex >= 0.");if(!(ne>=0))throw new Error("Primitive-tracked marker must have a variantIndex >= 0.");if(!(ne<c.variantCount))throw new Error("Primitive-tracked marker must have a variantIndex < object variant count.");if(!we)throw new Error("Primitive-tracked marker must have a barycenter.")}else{if("object"!==O)throw new Error("Unknown marker tracking mode: "+O);if(!g.worldPosition)throw new Error("Object-tracked marker must have a position.")}this.title=g.title||"";let Te=g.shown??!0,Me=!0,Le=!0,at=null;const{sceneNode:Ft}=c,Gt=(0,v.create)(),qt=()=>{if(Le&&Me){if("primitive"===O){if(!at)return;at.updateWorldMatrix();const Rn=ie,An=_e.get(),Ln=_e.get(),or=_e.get();Bh(at,Rn,An,Ln,or),uu(this.position,this.barycenter,An,Ln,or),(0,v.transformMat4)(this.position,this.position,at.worldMatrix),(0,v.transformMat4)(An,An,at.worldMatrix),(0,v.transformMat4)(Ln,Ln,at.worldMatrix),(0,v.transformMat4)(or,or,at.worldMatrix),Nh(this.direction,An,Ln,or),_e.release(An),_e.release(Ln),_e.release(or)}else Ft.updateWorldMatrix(),(0,v.transformMat4)(this.position,Gt,Ft.worldMatrix);Me=!1}},Ut=()=>{const Rn=Le;Le=Te&&c.shown&&s.active&&c.transformLoaded&&c.variant===ne&&("primitive"!==O||!!at?.visible),Le&&!Rn&&qt()},rn=()=>{Me=!0},Un=()=>{c.transformLoaded&&s.active&&(Ft.updateWorldMatrix(),(0,G.invert)(Lh,Ft.worldMatrix),(0,v.transformMat4)(Gt,g.worldPosition,Lh),Ft.on("updateWorldMatrix",rn),c.off("loadtransform",Un),s.off("activate",Un),Ut(),Me=!0)},Pn=()=>{if(c.loaded&&c.variant===ne){if(c.off("load",Pn),at=c.variants[ne][X]?.meshNode||null,!at)return console.warn("Missing meshNode on marker target object",c,X),void(Le=!1);at.on("updateWorldMatrix",rn),at.on("change",rn),Ut(),Me=!0}};this.update=()=>{qt()},this.destroy=()=>{s.off("activate",Ut),s.off("deactivate",Ut),c.off("load",Pn),c.off("loadtransform",Un),c.off("change",Ut),s.off("activate",Un),Ft.off("updateWorldMatrix",rn),at?.off("updateWorldMatrix",rn),at?.off("change",rn)},Object.defineProperties(this,{shown:{get:()=>Te,set:Rn=>{Te!==Rn&&(Te=Rn,Ut())}},visible:{get:()=>Le},trackingMode:{writable:!1,value:O},anatomyObject:{writable:!1,value:c},renderableIndex:{writable:!1,value:X},primitiveIndex:{writable:!1,value:ie},variantIndex:{writable:!1,value:ne},barycenter:{writable:!1,value:we}}),"primitive"===O?c.loaded?Pn():c.on("load",Pn):c.transformLoaded&&s.active?Un():(c.on("loadtransform",Un),s.on("activate",Un)),c.on("change",Ut),s.on("activate",Ut),s.on("deactivate",Ut),Ut(),qt()}}function Vh(h,s,g){return s.updateWorldMatrix(),s.updateProjectionMatrix(),(0,v.transformMat4)(h,g,s.worldMatrixInverse),(0,v.transformMat4)(h,h,s.projectionMatrix),h}function Kf(h,s,g){const{clientWidth:c,clientHeight:O}=s;return h[0]=(g[0]*c+c)/2,h[1]=(-g[1]*O+O)/2,h}const mm=.5*ht;class jh{static meshOccludesMarkers(s,g){const c=g.story.anatomySceneGraph.findAnatomyObject(s);return!!c&&("auto"===c.occludesMarkers?Rc(s)===Yl.opaque:"always"===c.occludesMarkers)}constructor(s,g,c,O){d(this,"id",void 0),d(this,"title",void 0),d(this,"visible",void 0),d(this,"clipped",void 0),d(this,"occluded",void 0),d(this,"position",(0,v.create)()),d(this,"viewPosition",(0,v.create)()),d(this,"canvasPosition",(0,ds.create)()),d(this,"anatomyObject",void 0),d(this,"marker3D",void 0),d(this,"update",void 0),d(this,"destroy",void 0);let X=!1,ie=!1,ne=!1;const we=new Uh(g,c),{camera:Te}=g.story;this.update=()=>{if(we.update(),X=we.visible,!X)return ie=!0,void(ne=!0);(0,v.transformMat4)(this.viewPosition,we.position,Te.worldMatrixInverse),Vh(this.position,Te,we.position),Kf(this.canvasPosition,s.renderer.canvas,this.position);const[Me,Le]=this.position;if(ie=Me<-1||Me>1||Le<-1||Le>1||this.viewPosition[2]>0,ie)return void(ne=!0);const at=_e.get(),Ft=_e.get();(0,G.getTranslation)(at,Te.worldMatrix),(0,v.subtract)(Ft,at,we.position);const Gt=(0,v.length)(Ft);_e.release(Ft);const qt=Math.min(.1*Gt,mm),[Ut,rn]=this.canvasPosition;ne=!!s.rayCastCamera(Ut,rn,{filter:Pn=>jh.meshOccludesMarkers(Pn,s),radius:Math.max(0,Gt-qt)}),_e.release(at)},this.destroy=()=>{we.destroy()},Object.defineProperties(this,{visible:{get:()=>X},clipped:{get:()=>ie},occluded:{get:()=>ne},id:{writable:!1,value:O},anatomyObject:{writable:!1,value:we.anatomyObject},marker3D:{writable:!1,value:we},title:{writable:!1,value:we.title}})}}class Xf extends ae{constructor(s,g){let c,O;super(),d(this,"object",void 0),d(this,"target",void 0),d(this,"update",void 0),d(this,"grab",void 0),d(this,"release",void 0);const X=(0,G.create)(),ie=(0,G.create)(),ne=ie;this.update=(Te,Me)=>{const at=Te.getPose(g.inputSource.targetRaySpace,Me);if(at)if(O)(0,G.multiply)(O.worldMatrix,at.transform.matrix,ie),O.setWorldMatrix(O.worldMatrix);else{const Ft=s(at)||null;Ft?(c=Ft.object,g.distance=Ft.distance,(0,G.copy)(X,at.transform.matrix)):(c=null,g.distance=1/0)}},this.grab=()=>!(O||!c||(O=c,this.emit("grab",{object:O}),O.updateWorldMatrix(),(0,G.invert)(ne,X),(0,G.multiply)(ie,ne,O.worldMatrix),0)),this.release=()=>{if(O){const Te=O;return O=null,this.emit("release",{object:Te}),!0}return!1};const we=this.destroy;this.destroy=()=>{this.release(),this.emit("destroy"),we()},Object.defineProperties(this,{object:{get:()=>O},target:{get:()=>O||c}})}}const Hh=E(28638);function Yf(h,s){if(!h)return null;if(s(h))return h;for(const g of h.children){const c=Yf(g,s);if(c)return c}return null}function Fd(h,s){return Yf(h,g=>g.name===s)}const gm=E(79258),qu=E(13128),_m=E(36848),vm=10240,Qf=10241,Gh=10242,ym=10243,zc=new Map([[9728,Ne.Nearest],[9729,Ne.Linear],[9984,Ne.Nearest],[9985,Ne.Linear],[9986,Ne.Nearest],[9987,Ne.Linear]]),qf=new Map([[9728,Ne.Nearest],[9729,Ne.Nearest],[9984,Ne.Nearest],[9985,Ne.Nearest],[9986,Ne.Linear],[9987,Ne.Linear]]),Zf=new Map([[33071,Xe.ClampToEdge],[10497,Xe.Repeat],[33648,Xe.MirrorRepeat]]);function zh(h,s,g){const{name:c,children:O,mesh:X,light:ie,matrix:ne,translation:we,scale:Te,rotation:Me}=h,Le=new Ue(Object.assign({name:c},ne?null:{position:we,scale:Te,quaternion:Me}));if(ne&&Le.setMatrix(ne),X){const at=s[X.id];if(at.parent)throw new Error("Duplicate mesh parent");Le.add(at)}if(void 0!==ie&&g){const at=g[ie];if(at.parent)throw new Error("Duplicate mesh parent");Le.add(at)}if(O)for(let at=0;at<O.length;at++){const Ft=zh(O[at],s,g);Le.add(Ft)}return Le}const Zu={TEXCOORD_0:"texcoord",COLOR_0:"color"};function Jf(h,s){return s===na?new Float32Array(h).map(g=>Math.max(g/127,-1)):s===bs?new Float32Array(h).map(g=>g/255):s===Ho?new Float32Array(h).map(g=>Math.max(g/32767,-1)):s===$o?new Float32Array(h).map(g=>g/65535):h}function hu(h,s){const{attributes:g,indices:c,mode:O=4}=h;4!==O&&console.warn("Unknown primitive mode: "+O);const X={};c?.value&&(X.indices=c.value);for(const[we,Te]of Object.entries(g)){const{value:Me,components:Le,normalized:at,componentType:Ft}=Te,Gt=at?Jf(Me,Ft):Me;X[Zu[we]||we.toLocaleLowerCase()]={numComponents:Le,data:Gt}}const ie=g.POSITION.min&&g.POSITION?.normalized?Jf(g.POSITION.min,g.POSITION.componentType):g.POSITION.min,ne=g.POSITION.max&&g.POSITION?.normalized?Jf(g.POSITION.max,g.POSITION.componentType):g.POSITION.max;return s(X,ie&&ne?{min:ie,max:ne}:void 0)}function ep(h,s){const g={},c=[],O={};let X=null;const ie=s.makeMaterial({id:"-no-material-",name:"<missing material>"},c),{makeMaterial:ne,makeGeometry:we=((at,Ft)=>new rt(at,Ft)),makeMeshNode:Te=((at,Ft,Gt)=>new Jn(at,Ft,Gt))}=s;h.textures?.forEach((at,Ft)=>{c[Ft]=function(Gt){const{sampler:qt,source:Ut}=Gt,{image:rn}=Ut,Un=qt.parameters||qt,Pn=qt.minFilter||Un[Qf],Rn=qt.magFilter||Un[vm],An=Un[Gh],Ln=Un[ym];return new Fo(rn,{name:Gt.source.name||Gt.id,min:zc.get(Pn)||Ne.Linear,mag:zc.get(Rn)||Ne.Linear,mipmapFilter:qf.get(Pn)||Ne.Nearest,wrapU:Zf.get(An)||Xe.Repeat,wrapV:Zf.get(Ln)||Xe.Repeat,rowOrder:"top-down"})}(at)}),h.materials?.forEach(at=>{g[at.id]=ne(at,c)}),h.meshes?.forEach(at=>{const Ft=new Ue({name:at.name||at.id});O[at.id]=Ft,at.primitives.forEach((Gt,qt)=>{const{material:Ut}=Gt,rn=Ut&&g[Ut.id]||ie,Un=hu(Gt,we),Pn=Te(Un,rn,{name:Ft.name+":"+qt});Pn.name=at.name||at.id,Un.name=Pn.name,Ft.add(Pn)})}),s.makeLight&&h.lights&&(X=h.lights.map(s.makeLight));const Me=h.scene||h.scenes[0],Le=new Ue({name:Me?.name||Me?.id||"GLTF Scene"});return Me.nodes.forEach(at=>{Le.add(zh(at,O,X))}),Le}function tp(h,s){return $h.apply(this,arguments)}function $h(){return $h=C(function*(h,s){const g=yield(0,gm.load)(h,qu.GLTFLoader,{DracoLoader:_m.DracoLoader});return{node:ep((0,qu.postProcessGLTF)(g),s),gltf:g}}),$h.apply(this,arguments)}const bg={position:{numComponents:3,normalized:!1,data:new Float32Array([0,-.01,0,0,-.01,-4,.00866,.005,0,.00866,.005,-4,-.00866,.005,0,-.00866,.005,-4].map(h=>.25*h))},indices:[1,2,0,3,4,2,5,0,4,1,3,2,3,5,4,5,1,0]};function bm(h){return new Ue(h)}function Bd(h,s=bm){const g=s(h);for(const c of h.children)g.add(Bd(c,s));return g}const Wh=Math.PI,Kh=2*Wh,Ju=new Map,Nd=typeof WeakMap<"u"?new WeakMap:new Map,Xh=typeof WeakMap<"u"?new WeakMap:new Map;function Yh(h){return h instanceof gt?new gt(h.geometry,h.material,h):new Ue(h)}class Ld extends Ue{constructor(s,g){super(g),d(this,"inputSource",void 0),d(this,"pointer",void 0),d(this,"distance",void 0),d(this,"load",void 0),d(this,"update",void 0);let c=null,O=null,X=!1,ie=H;const ne=new Map,we=new Ue;this.add(we);let Te=Nd.get(g.makeGeometry);Te||(Te=g.makeGeometry(bg));let Me=null;"tracked-pointer"===s.targetRayMode&&(Me=g.makeMeshNode(Te,g.lineMaterial,{name:"line",rotationSource:"euler"}),Me.scale[2]=ie,Me.dirtyMatrix(),we.add(Me));let Le=null,at=null;const Ft=[];if(s.hand){Le=new Float32Array(400),at=new Float32Array(25),O=new Ue({name:`hand.${s.handedness}`});let Ut=Xh.get(g.makeGeometry);if(!Ut){const Un=function(Pn){const Rn=Pn?.radius||1,An=Math.max(3,Math.floor(Pn?.widthSegments||32)),Ln=Math.max(2,Pn?.heightSegments||32),or=void 0!==Pn?.phiStart?Pn?.phiStart:0,_r=void 0!==Pn?.phiLength?Pn?.phiLength:Kh,qn=void 0!==Pn?.thetaStart?Pn?.thetaStart:0,Br=void 0!==Pn?.thetaLength?Pn?.thetaLength:Wh,Yr=void 0!==Pn?.uOffset?Pn?.uOffset:0,Hr=void 0!==Pn?.vOffset?Pn?.vOffset:0,Nr=void 0!==Pn?.uScale?Pn?.uScale:1,bi=void 0!==Pn?.vScale?Pn?.vScale:1,gi=qn+Br,xi=(An+1)*(Ln+1),Fr=new Float32Array(3*xi),Si=new Float32Array(3*xi),ki=new Float32Array(2*xi),Mo=[],bo={min:(0,v.fromValues)(-Rn,-Rn,-Rn),max:(0,v.fromValues)(Rn,Rn,Rn)};let Qo=0,Ii=0,Tr=0;for(let po=0;po<=Ln;po++){const la=[],Zs=po/Ln,As=Zs*Br,La=Math.sin(qn+As),ka=Math.cos(qn+As),Za=ka*Rn,Rl=Hr+bi*(1-Zs);for(let zl=0;zl<=An;zl++){const vc=zl/An,bu=Yr+Nr*vc,xu=vc*_r,yc=-Math.cos(or+xu)*La,wa=Math.sin(or+xu)*La,ic=wa*Rn;Fr[Ii]=yc*Rn,Si[Ii++]=yc,Fr[Ii]=Za,Si[Ii++]=ka,Fr[Ii]=ic,Si[Ii++]=wa,ki[Tr++]=bu,ki[Tr++]=Rl,la.push(Qo),Qo++}Mo.push(la)}const vi=[];for(let po=0;po<Ln;po++){const la=Mo[po],Zs=Mo[po+1];for(let As=0;As<An;As++){const ka=la[As],Za=Zs[As],Rl=Zs[As+1];(po||qn>0)&&vi.push(la[As+1],ka,Rl),(po!==Ln-1||gi<Wh)&&vi.push(ka,Za,Rl)}}return{arrays:{position:Fr,normal:Si,texcoord:ki,indices:jt(xi,vi)},bounds:bo}}({widthSegments:4,heightSegments:3});Ut=g.makeGeometry(Un.arrays),lt(Ut.bounds,Un.bounds)}let rn=0;s.hand.forEach((Un,Pn)=>{const Rn=g.makeMeshNode(Ut,g.handMaterial,{name:Pn,arrays:{matrix:Le.subarray(rn,rn+=16)}});Rn.parent=O,Ft.push(Rn)}),this.load=()=>Promise.resolve()}else{const Ut=C(function*(){const{profile:rn,assetPath:Un=""}=yield(0,Hh.fetchProfile)(s,"https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles");if(X)return;c=new Hh.MotionController(s,rn,Un);const{rootNodeName:Pn}=c.layoutDescription;let Rn=Ju.get(Un);Rn||(Rn=tp(Un,g).then(({node:Ln})=>Fd(Ln,Pn)||Ln),Ju.set(Un,Rn));const An=yield Rn;X||(An?(O=Bd(An,Yh),Object.values(c.components).forEach(Ln=>{Object.values(Ln.visualResponses).forEach(or=>{const _r=Fd(O,or.valueNodeName);if(!_r)return void console.warn("Missing controller visual response object: "+or.valueNodeName);const qn={visualResponse:or,valueNode:_r,parentNode:_r.parent};ne.set(or.valueNodeName,qn),"transform"===or.valueNodeProperty&&(qn.minNode=Fd(O,or.minNodeName),qn.maxNode=Fd(O,or.maxNodeName))})})):console.warn("Missing controller root "+Pn))})();this.load=()=>Ut}const Gt=(Ut,rn)=>{const Un=Ut.getPose(s.gripSpace,rn);if(!Un)return we.parent=null,void(O&&(O.parent=null));this.setWorldMatrix(Un.transform.matrix),we.parent=this;let Pn=null;try{Pn=Ut.getPose(s.targetRaySpace,s.gripSpace)||Un}catch{Pn=Un}we.setMatrix(Pn.transform.matrix),O&&(!1===g.renderOpaque&&"opaque"!==Ut.session.environmentBlendMode||!s.gripSpace?O.parent=null:(O.parent=this,s.hand&&(Ut.fillPoses(s.hand.values(),s.gripSpace,Le),Ut.fillJointRadii(s.hand.values(),at),Ft.forEach((Rn,An)=>{Rn.setMatrix(Rn.matrix);const Ln=at[An];(0,v.set)(Rn.scale,Ln,Ln,Ln),Rn.dirtyMatrix()})),ne.forEach(({valueNode:Rn,parentNode:An,minNode:Ln,maxNode:or,visualResponse:_r})=>{"visibility"===_r.valueNodeProperty?Rn.parent=_r.value?An:null:"transform"===_r.valueNodeProperty&&((0,M.slerp)(Rn.quaternion,Ln.quaternion,or.quaternion,_r.value),(0,v.lerp)(Rn.position,Ln.position,or.position,_r.value),Rn.dirtyMatrix())})))};this.update=(Ut,rn)=>{Gt(Ut,rn),O&&c&&c.updateFromGamepad()};const qt=this.destroy;this.destroy=()=>{X=!0,we.destroy(),Me&&(Me.destroy(),Me=null),O&&(O.destroy(),O=null),qt()},Object.defineProperties(this,{pointer:{value:we,writable:!1},inputSource:{value:s,writable:!1},distance:{get:()=>ie,set(Ut){const rn=ie!==Ut;ie=me(Ut,-H,H),Me&&rn&&(Me.scale[2]=ie,Me.dirtyMatrix())}}})}}class fu extends ae{constructor(s){super(),d(this,"session",void 0),d(this,"controllers",void 0),d(this,"get",void 0),d(this,"update",void 0),d(this,"destroy",void 0);const{sceneRoot:g,...c}=s,O=new Map,X=new Set;let ie=null;const ne=Me=>{for(const Le of Me)if(Le.gamepad){let at=O.get(Le);at||(at=new Ld(Le,c),O.set(Le,at)),X.add(at),g.add(at),this.emit("add",{controller:at})}},we=Me=>{for(const Le of Me){const at=O.get(Le);at&&(X.delete(at),at.parent=null),this.emit("remove",{controller:at})}};function Te(Me){ne(Me.added),we(Me.removed)}this.get=Me=>{const Le=O.get(Me);return X.has(Le)?Le:null},this.update=(Me,Le)=>{X.forEach(at=>at.update(Me,Le))},this.destroy=()=>{this.session=null,O.forEach(Me=>Me.destroy()),O.clear(),X.clear()},Object.defineProperties(this,{controllers:{value:X,writable:!1},session:{get:()=>ie,set(Me){Me!==ie&&(ie&&we(O.keys()),ie=Me,ie&&(ie.addEventListener("inputsourceschange",Te),ne(ie.inputSources)))}}})}}function gd(h,s){const g=[],c=(ne,we)=>{if(ne){const Te=s[ne.index];if(!Te)return void console.warn(`Texture '${ne.index}' missing from GLTF`);g.push({texture:Te,applyTo:we,blendMode:"over",blendFactor:1})}},O={name:h.name,textures:g};if(h.emissiveFactor){const[ne,we,Te]=h.emissiveFactor;O.emitColor=[ne,we,Te,1]}const{pbrMetallicRoughness:X}=h;if(X&&(O.type="metallic"),X?.baseColorFactor){const[ne,we,Te,Me]=X.baseColorFactor;O.baseColor=[ne,we,Te],O.opacity=Me}O.metallic=X?.metallicFactor??1,O.roughness=X?.roughnessFactor??1,c(h.emissiveTexture,"emit"),c(h.normalTexture,"normals"),c(h.occlusionTexture,"occlusion"),c(X?.baseColorTexture,"baseColor");const ie=h.extensions?.KHR_materials_specular;return ie&&(ie.specularFactor<1&&console.warn(`GLTF specularFactor (${ie.specularFactor}) not supported`),ie.specularColorFactor&&(O.specularColor=ie.specularColorFactor),ie.specularTexture&&console.warn("GLTF specularTexture not supported"),c(ie.specularColorTexture,"specular")),new En(O)}function eh(h,s){const g={name:h.name},{pbrMetallicRoughness:c}=h;if(c?.baseColorFactor){const[O,X,ie,ne]=c.baseColorFactor;g.baseColor=[O,X,ie],g.opacity=ne}if(c?.baseColorTexture){const O=s[c.baseColorTexture.index];O?(g.baseColorMaps=[{texture:O,blendMode:"multiply",blendFactor:1}],"image/jpeg"===c.baseColorTexture.texture?.source.mimeType||O.source instanceof HTMLImageElement&&/\.jpg$/i.test(O.source.src)||(g.opacityMaps=[{texture:O,blendMode:"multiply",channel:"a"}])):console.warn(`Texture [${c.baseColorTexture.index}] missing from GLTF`)}return new Pi(g)}function pu(h,s){const g={name:h.name},c=(ie,ne,we)=>{if(ne){const Te=s[ne.index];if(!Te)return void console.warn(`Texture '${ne.index}' missing from GLTF`);ne.texCoord>0&&console.warn(`Texture '${ne.index}' unsupported multiple UVs`),ne.extensions?.KHR_texture_transform&&console.warn(`Texture '${ne.index}' unsupported KHR_texture_transform`);const Me={texture:Te,blendFactor:1};we&&Object.assign(Me,we),g[ie]=[Me]}};h.emissiveFactor&&(g.emissive=h.emissiveFactor);const{pbrMetallicRoughness:O}=h;if(O?.baseColorFactor){const[ie,ne,we,Te]=O.baseColorFactor;g.baseColor=[ie,ne,we],g.opacity=Te}g.metallic=O?.metallicFactor??1,g.roughness=O?.roughnessFactor??1,h.extensions?.KHR_materials_ior&&(g.ior=h.extensions.KHR_materials_ior.ior),c("baseColorMaps",O?.baseColorTexture),c("opacityMaps",O?.baseColorTexture,{channel:"a"}),c("normalMaps",h.normalTexture,{blendMode:"over"}),c("emissiveMaps",h.emissiveTexture),c("occlusionMaps",h.occlusionTexture),c("metallicMaps",O?.metallicRoughnessTexture,{blendMode:"multiply",channel:"b"}),c("roughnessMaps",O?.metallicRoughnessTexture,{blendMode:"multiply",channel:"g"}),"BLEND"!==h.alphaMode&&"MASK"!==h.alphaMode||c("baseColorMaps",O?.baseColorTexture,{blendMode:"multiply",channel:"a"});const X=h.extensions?.KHR_materials_specular;return X&&(isNaN(X.specularFactor)||(g.specularFactor=X.specularFactor),X.specularColorFactor&&(g.specularColor=X.specularColorFactor),c("specularFactorMaps",X.specularTexture,{blendMode:"multiply",channel:"a"}),c("specularColorMaps",X.specularColorTexture,{blendMode:"multiply"})),new ti(g)}class mu{constructor(s){d(this,"session",void 0),d(this,"isGrabbable",void 0),d(this,"destroy",void 0);const{renderer:g,engine:c,materialMode:O}=s,X=new Pi({baseColor:[.6,.6,.7],opacity:.8}),ie=new Pi({baseColor:[.6,.6,.6]}),ne=new fu({sceneRoot:c.rootNode,makeMaterial:(Ut,rn)=>"unlit"===O||Ut.unlit||Ut.extensions?.KHR_materials_unlit?eh(Ut,rn):"physical"===O?pu(Ut,rn):gd(Ut,rn),makeGeometry:(Ut,rn)=>new Kt(Ut,rn),makeMeshNode:(Ut,rn,Un)=>new gt(Ut,rn,{clippable:!1,...Un}),lineMaterial:X,handMaterial:ie,renderOpaque:!1}),we=new Map,Te=new Map,Me=new Set;let Le=null;function at({frame:Ut}){const{xrRefSpace:rn}=g;ne?.update(Ut,rn),Te.forEach(Un=>Un.update(Ut,rn))}function Ft(Ut){const rn=c.rayCast(Ut.transform.matrix,{near:0}),Un=rn?.object,Pn=Un&&c.story.anatomySceneGraph.findAnatomyObject(Un),Rn=Pn?.sceneNode||Un;return!Rn||Me.has(Rn)?null:{object:Rn,distance:rn.distance}}function Gt(Ut){const rn=ne.get(Ut.inputSource),Un=rn&&Te.get(rn);Un&&Un.grab()}function qt(Ut){const rn=ne.get(Ut.inputSource),Un=rn&&Te.get(rn);Un&&Un.release()}ne.on("add",({controller:Ut})=>{const rn=new Xf(Ft,Ut);rn.on("grab",({object:Pn})=>Me.add(Pn)),rn.on("release",({object:Pn})=>Me.delete(Pn)),Te.set(Ut,rn);const Un=new _i(Ut);we.set(Ut,Un)}),ne.on("remove",({controller:Ut})=>{const rn=Te.get(Ut);rn&&(Te.delete(Ut),rn.destroy());const Un=we.get(Ut);Un&&(we.delete(Ut),Un.destroy())}),g.on("xrframe",at),this.isGrabbable=Ut=>{for(const[,rn]of we)if(rn.has(Ut))return!1;return!0},this.destroy=()=>{g.off("xrframe",at),this.session=null,we.forEach(Ut=>Ut.destroy()),we.clear(),Te.forEach(Ut=>Ut.destroy()),Te.clear(),ne.destroy()},Object.defineProperties(this,{session:{get:()=>Le,set(Ut){Ut!==Le&&(Le&&(Le.removeEventListener("selectstart",Gt),Le.removeEventListener("selectend",qt)),Le=Ut,ne.session=Le,Le&&(Le.addEventListener("selectstart",Gt),Le.addEventListener("selectend",qt)))}}})}}function xm(h,s,g,c="utf-8"){s=s||0,g=g||h.byteLength;const O=new Uint8Array(h,s,g);return new TextDecoder(c).decode(O)}const Qh=globalThis.fetch;function nd(){return qh.apply(this,arguments)}function qh(){return qh=C(function*(...h){const s=yield Qh(...h);if(!s.ok&&!/^file:\/\//.test(s.url))throw new Error(s.statusText?`Fetch [code ${s.status}]: '${s.statusText}'`:`Fetch request failed: '${s.status||"unknown status"}'`);return s}),qh.apply(this,arguments)}function _d(h,s,g,c){return Zh.apply(this,arguments)}function Zh(){return Zh=C(function*(h,s,g,c){const O=g.split("/"),X=et(h,"content/states",O[0],s,O[1],c);try{return(yield nd(X)).json()}catch(ie){throw new Error(`Error loading asset library: ${ie.message}`)}}),Zh.apply(this,arguments)}const Em={geometry:"geometry"};class Jh{fetch(s,g){var c=this;return C(function*(){const O=yield nd(s),X=O.clone(),ie=yield X.blob();return c.dataSize[g]=c.dataSize[g]+ie.size,O})()}constructor(s,g={}){d(this,"getAsset",void 0),d(this,"getAssetLibrary",void 0),d(this,"destroy",void 0),d(this,"dataSize",{material:0,morph:0,geometry:0,transform:0,texture:0,"image-light":0,environment:0});const{timeout:c=12e3,sendInterval:O=5,reconnectInterval:X=500,socketProtocol:ie="wss",makeSocket:ne=(or=>new WebSocket(or))}=g,we=new Map,Te=[],Me=ie+"://"+s+"/assets/ws3",{dataSize:Le}=this;let at=null,Ft=1/0,Gt=0,qt=0,Ut=0;function rn(){Date.now()-Ft>=c&&An("Asset server connection timed out")}function Un(){Ft=Date.now(),clearTimeout(Ut),Ut=setTimeout(rn,c)}function Pn(){return!(!at||at.readyState!==at.OPEN||(Te.length&&(at.send(JSON.stringify({assets:Te})),Te.length=0),Un(),0))}function Rn(){clearTimeout(qt),qt=0,at&&at.readyState!==at.CLOSING&&at.readyState!==at.CLOSED||(at=function(){const or=ne(Me);return or.binaryType="arraybuffer",or.addEventListener("open",()=>{Pn()}),or.addEventListener("close",_r=>{at===or&&(at=null,Te.length&&(qt=setTimeout(Rn,X))),rn()}),or.addEventListener("message",_r=>{const qn=_r.data;let Br,Yr,Hr=0;if(Un(),"string"==typeof qn){if("\u{1f37a}"===qn)return;const bi=JSON.parse(qn);Yr=bi.id,Hr=new Blob([qn]).size,Br=bi.error||!bi.asset?null:bi.asset}else{Br=qn;const bi=new DataView(Br),gi=bi.getUint32(0,!0);let xi;const Fr=bi.getUint32(4,!0);Hr=qn.byteLength,xi=17===gi?11*Uint32Array.BYTES_PER_ELEMENT:bi.getUint32(12,!0),Yr=xm(Br,xi,Fr).trim()}const Nr=we.get(Yr);we.delete(Yr),Nr&&(Le[Nr.type]+=Hr,Nr.resolve(Br))}),or}())}function An(or){we.forEach((_r,qn)=>{if(_r){const{reject:Br}=_r;we.delete(qn),Br(new Error(or))}})}function Ln(){clearTimeout(Gt),Gt=0,Pn()||(rn(),Rn())}Rn(),this.getAsset=(or,_r)=>{const qn=_r.split("/");if(2!==qn.length&&3!==qn.length)throw new Error("Incorrectly formattted asset id: "+_r);const Hr=qn[2];let Nr=qn[0]+"/"+(Em[or]||or+"s")+"/"+qn[1];Hr&&(Nr+="/"+Hr);let bi=we.get(Nr);bi||(bi={...le(),type:or},we.set(Nr,bi),Te.push(Nr));const gi=bi.promise;return Gt||(Gt=setTimeout(Ln,O)),gi},this.getAssetLibrary=_d,this.destroy=()=>{clearTimeout(Gt),Gt=0,clearTimeout(qt),qt=0,clearTimeout(Ut),Ut=0,An("Asset server connection destroyed"),we.clear(),Te.length=0,at&&at.readyState!==at.CLOSING&&at.readyState!==at.CLOSED&&at.close(),at=null}}}const ef=(h,s)=>et(h,"assets",s.replaceAll(":",";").replaceAll("|","/")+".bda"),wm=/\.[\w\d]+$/,Cm={material:(h,s,g)=>C(function*(){const c=ef(s,g);return(yield(yield fetch(c,{signal:h})).json()).asset})(),morph(h,s,g){const c=ef(s,g);return fetch(c,{signal:h}).then(O=>O.arrayBuffer())},geometry:(h,s,g,c,O)=>{return(X=ne=>fetch(ne,{signal:h}).then(we=>we.json()),ie=ne=>fetch(ne,{signal:h}).then(we=>we.arrayBuffer()),function(){var ne=C(function*(we,Te,Me,Le){Le.geometry||(Le.geometry={index:null,blocks:new Map});const{blocks:at}=Le.geometry;let Ft=Le.geometry.index;if(!Ft){const Ln=et(we,"blocks/geometry/modules/models",Me,"index.json");Ft=X(Ln),Le.geometry.index=Ft}const Gt=yield Ft,{block:qt,offlen:Ut}=Gt[Te],rn=Me+"/"+qt;let Un=at.get(rn);if(!Un){const Ln=et(we,"blocks/geometry/modules/models",Me,qt);Un=ie(Ln),at.set(rn,Un)}const Pn=yield Un,[Rn,An]=Ut;return Pn.slice(Rn,Rn+An)});return function(we,Te,Me,Le){return ne.apply(this,arguments)}}())(s,g,c,O);var X,ie},transform:(h,s,g,c,O)=>C(function*(){if(!O.transform){const ie=et(s,"transforms/modules",c+".json");O.transform=fetch(ie,{signal:h}).then(ne=>ne.json())}return(yield O.transform)[g]?.asset})()};class gu{fetch(s){return nd(s)}constructor(s,g=""){d(this,"getAsset",void 0),d(this,"getAssetLibrary",void 0),d(this,"destroy",void 0),d(this,"moduleId",void 0),d(this,"requiresFileExtensions",!1),this.moduleId=g;const c={},O=typeof AbortController>"u"?null:new re;this.getAsset=D((ie,ne)=>{const we=Cm[ie];if(!we)throw new Error("BioDigitalFileServer: Unsupported type '$type'");let Te=null;O&&(Te=new AbortController,O.set(ie,ne,Te));let Me=we(Te?.signal,s,ne,this.moduleId,c);return O&&(Me=Me.then(Le=>(O?.delete(ie,ne),Le))),Me});const X=D(_d);this.getAssetLibrary=(ie,ne,we,Te)=>{return X(ie,ne,we,this.requiresFileExtensions?wm.test(Me=Te)?Me:Me+".json":Te);var Me},this.destroy=()=>{O&&(O.forEach(ie=>ie.abort()),O.clear())}}}const tf=Math.PI/2,th=h=>!!(1&h.buttons),np=h=>!!(6&h.buttons);class xg{constructor(s,g=(0,v.create)()){d(this,"camera",void 0),d(this,"target",void 0),d(this,"minPolarAngle",void 0),d(this,"maxPolarAngle",void 0),d(this,"minAzimuthAngle",void 0),d(this,"maxAzimuthAngle",void 0),d(this,"minDistance",void 0),d(this,"maxDistance",void 0),d(this,"azimuthRate",void 0),d(this,"polarRate",void 0),d(this,"zoomRate",void 0),d(this,"attach",void 0),d(this,"detach",void 0),this.camera=s,this.target=g,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minPolarAngle=-tf,this.maxPolarAngle=tf,this.minDistance=.1,this.maxDistance=1/0,this.azimuthRate=.005,this.polarRate=.01,this.zoomRate=.002;let c=null,O=-1,X=!1,ie=!1,ne=0,we=0;function Te(Gt){X=th(Gt),ie=!X&&np(Gt)}const Me=Gt=>{!Gt.isPrimary||O>=0||(th(Gt)||np(Gt))&&(O=Gt.pointerId,Te(Gt),ne=Gt.pageX,we=Gt.pageY)},Le=Gt=>{if(Gt.isPrimary&&O===Gt.pointerId&&(Te(Gt),X)){const qt=Gt.pageX-ne,Ut=Gt.pageY-we;ne=Gt.pageX,we=Gt.pageY,this.panZoom(this.azimuthRate*qt,this.polarRate*Ut)}};function at(Gt){Gt.isPrimary&&O===Gt.pointerId&&(Te(Gt),X||ie||(O=-1))}const Ft=Gt=>{this.panZoom(0,0,Gt.deltaY*this.zoomRate)};this.attach=Gt=>{c&&this.detach(),c=Gt,Gt.addEventListener("pointerdown",Me),window.addEventListener("pointermove",Le),window.addEventListener("pointerup",at),window.addEventListener("pointercancel",at),window.addEventListener("wheel",Ft)},this.detach=()=>{c&&c.removeEventListener("pointerdown",Me),window.removeEventListener("pointermove",Le),window.removeEventListener("pointerup",at),window.removeEventListener("pointercancel",at),window.removeEventListener("wheel",Ft)}}panZoom(s=0,g=0,c=0){const{camera:O,target:X}=this,ie=_e.get();if(O.parent){const qt=_e.get();O.updateWorldMatrix(),(0,G.getTranslation)(qt,O.worldMatrix),(0,v.subtract)(ie,qt,X),_e.release(qt)}else(0,v.subtract)(ie,O.position,X);const ne=(0,v.length)(ie),we=ne?Math.asin(ie[1]/ne):0,Te=Math.atan2(ie[2],ie[0]),Me=this.minAzimuthAngle<=this.maxAzimuthAngle?this.minAzimuthAngle:this.minAzimuthAngle-Math.PI,Le=this.minAzimuthAngle<=this.maxAzimuthAngle?this.maxAzimuthAngle:this.minAzimuthAngle+this.minAzimuthAngle-this.maxAzimuthAngle,at=me(ne*(1+c),this.minDistance,this.maxDistance),Ft=me(we+g,this.minPolarAngle,this.maxPolarAngle),Gt=me(Te+s,Me,Le);if(at!==ne||Ft!==we||Gt!==Te){const qt=at?Math.sin(Ft)*at:0,Ut=qt?Math.cos(Ft)*at:at,rn=Ut?Math.cos(Gt)*Ut:0,Un=Ut?Math.sin(Gt)*Ut:0;O.parent?(O.worldMatrix[12]=rn+X[0],O.worldMatrix[13]=qt+X[1],O.worldMatrix[14]=Un+X[2],O.setWorldMatrix(O.worldMatrix)):(ie[0]=rn,ie[1]=qt,ie[2]=Un,(0,v.add)(O.position,ie,X),O.dirtyMatrix())}O.lookAt(X),_e.release(ie)}update(){this.panZoom(0,0,0)}}let nf=(()=>{var h,s=new WeakMap,g=new WeakMap,c=new WeakMap,O=new WeakMap,X=new WeakMap,ie=new WeakMap,ne=new WeakMap,we=new WeakMap,Te=new WeakSet;class Me{constructor(qt){i(this,Te),d(this,"enabled",void 0),d(this,"rootNode",void 0),d(this,"parentNode",void 0),x(this,s,void 0),x(this,g,null),x(this,c,void 0),x(this,O,void 0),x(this,X,void 0),x(this,ie,void 0),x(this,ne,void 0),x(this,we,void 0),this.rootNode=new Ue({scale:[ht,ht,ht],name:"BioDigitalEngine particle system debug view",rotationSource:"euler"}),this.parentNode=qt.rootNode,f(c,this,new re),u(Te,this,Le).call(this),u(Te,this,at).call(this),u(Te,this,Ft).call(this);let Ut=!1;Object.defineProperties(this,{enabled:{get:()=>Ut,set:rn=>{this.rootNode.parent=rn?this.parentNode:null,Ut=rn}}}),this.enabled=!0}get size(){return w(c,this).size}destroy(){this.enabled=!1,this.chapter=null,w(O,this).destroy(),w(X,this).destroy(),w(ie,this).destroy(),w(ne,this).destroy(),w(we,this).destroy(),this.rootNode.destroy()}get chapter(){return w(g,this)}set chapter(qt){w(g,this)!==qt&&(this.rootNode.children.forEach(Ut=>Ut.destroy()),f(g,this,qt),w(c,this).clear(),qt?.particleSystemIds.forEach(Ut=>{const rn=qt.story.particleSystemDefs.get(Ut),Un=[];for(let Pn=0;Pn<rn.creators.length;Pn++){const Rn=rn.creators[Pn];if(void 0!==w(s,this)[Rn.type]){const An=w(s,this)[Rn.type],Ln=w(X,this);let or;if("translate"in Rn?or={position:new Float32Array(Rn.translate),rotation:Rn.rotate,scale:Rn.scale}:"position"in Rn&&(or={position:new Float32Array(Rn.position)}),void 0!==or){const _r=new gt(An,Ln,or);Un.push({psId:Ut,creatorId:Rn.id,legacyMeshNode:_r})}}}Un.length>0&&(Un.at(-1).legacyMeshNode.material=w(O,this));for(let Pn=0;Pn<Un.length;Pn++){const{psId:Rn,creatorId:An,legacyMeshNode:Ln}=Un[Pn];w(c,this).set(Rn,An,Ln),this.rootNode.add(Ln)}}))}update(){this.enabled&&w(c,this).forEach((qt,Ut,rn)=>{const Un=w(g,this).particleSystems.get(Ut),Pn=Un.get(rn,"translate")||Un.get(rn,"position"),Rn=Un.get(rn,"rotate"),An=Un.get(rn,"scale");Pn&&(0,v.copy)(qt.position,Pn),Rn&&(0,v.copy)(qt.rotation,Rn),An&&(0,v.copy)(qt.scale,An),(Pn||Rn||An)&&qt.dirtyMatrix()})}}function Le(){f(O,this,new Pi({baseColor:h.creatorColor})),f(X,this,new Pi({baseColor:h.warningColor}))}function at(){const{arrays:Gt,bounds:qt}=function(Rn={}){const An=Rn.width??1,Ln=Rn.height??1,or=Rn.depth??1,_r=new Float32Array(24),qn=An/2,Br=Ln/2,Yr=or/2;_r[0]=qn,_r[1]=Br,_r[2]=-Yr,_r[3]=-qn,_r[4]=Br,_r[5]=-Yr,_r[6]=-qn,_r[7]=-Br,_r[8]=-Yr,_r[9]=qn,_r[10]=-Br,_r[11]=-Yr,_r[12]=qn,_r[13]=Br,_r[14]=Yr,_r[15]=-qn,_r[16]=Br,_r[17]=Yr,_r[18]=-qn,_r[19]=-Br,_r[20]=Yr,_r[21]=qn,_r[22]=-Br,_r[23]=Yr;const Hr={min:(0,v.fromValues)(-qn,-Br,-Yr),max:(0,v.fromValues)(qn,Br,Yr)};return{arrays:{position:_r,indices:jt(8,[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7])},bounds:Hr}}();f(ie,this,new Kt(Gt,qt)),w(ie,this).topology=ut.lines;const{arrays:Ut,bounds:rn}=function(Rn={}){const An=Rn.radius??1,Ln=Rn.radialSegments??32,or=3*Ln,_r=new Float32Array(3*or),qn=[],Br=2*Math.PI/Ln;let Yr=0,Hr=0,Nr=3*Ln;for(let gi=0;gi<Nr;gi+=3){const xi=gi+0,Fr=gi+1,Si=gi+2;Yr+=Br;const ki=Math.cos(Yr)*An,Mo=Math.sin(Yr)*An,bo=0;_r[xi]=ki,_r[Fr]=Mo,_r[Si]=bo}Hr=0,Nr=Ln;for(let gi=Hr;gi<Nr;gi++)qn.push(gi,(gi+1)%Nr==0?Hr:(gi+1)%Nr);Yr=0,Hr=3*Ln,Nr=3*(Ln+Ln);for(let gi=Hr;gi<Nr;gi+=3){const xi=gi+0,Fr=gi+1,Si=gi+2;Yr+=Br;const ki=Math.cos(Yr)*An,Mo=0,bo=Math.sin(Yr)*An;_r[xi]=ki,_r[Fr]=Mo,_r[Si]=bo}Hr=Ln,Nr=Ln+Ln;for(let gi=Hr;gi<Nr;gi++)qn.push(gi,(gi+1)%Nr==0?Hr:(gi+1)%Nr);Yr=0,Hr=3*(Ln+Ln),Nr=3*(Ln+Ln+Ln);for(let gi=Hr;gi<Nr;gi+=3){const xi=gi+0,Fr=gi+1,Si=gi+2;Yr+=Br;const ki=0,Mo=Math.sin(Yr)*An,bo=Math.cos(Yr)*An;_r[xi]=ki,_r[Fr]=Mo,_r[Si]=bo}Hr=Ln+Ln,Nr=Ln+Ln+Ln;for(let gi=Hr;gi<Nr;gi++)qn.push(gi,(gi+1)%Nr==0?Hr:(gi+1)%Nr);const bi={min:(0,v.fromValues)(-An,-An,-An),max:(0,v.fromValues)(An,An,An)};return{arrays:{position:_r,indices:jt(or,qn)},bounds:bi}}();f(ne,this,new Kt(Ut,rn)),w(ne,this).topology=ut.lines;const{arrays:Un,bounds:Pn}=function(Rn={}){const An=Rn.radius??1,Ln=Rn.height??1,or=Rn.radialSegments??32,_r=2*or+2,qn=new Float32Array(3*_r),Br=[],Yr=2*Math.PI/or;let Hr=0,Nr=0,bi=3*or;for(let Fr=Nr;Fr<bi;Fr+=3){const Si=Fr+0,ki=Fr+1,Mo=Fr+2;Hr+=Yr;const bo=Math.cos(Hr)*An,Qo=Ln,Ii=Math.sin(Hr)*An;qn[Si]=bo,qn[ki]=Qo,qn[Mo]=Ii}Nr=0,bi=or;for(let Fr=Nr;Fr<bi;Fr++)Br.push(Fr,(Fr+1)%bi==0?Nr:(Fr+1)%bi);Hr=0,Nr=3*or,bi=3*(or+or);for(let Fr=Nr;Fr<bi;Fr+=3){const Si=Fr+0,ki=Fr+1,Mo=Fr+2;Hr+=Yr;const bo=Math.cos(Hr)*An,Qo=-Ln,Ii=Math.sin(Hr)*An;qn[Si]=bo,qn[ki]=Qo,qn[Mo]=Ii}Nr=or,bi=or+or;for(let Fr=Nr;Fr<bi;Fr++)Br.push(Fr,(Fr+1)%bi==0?Nr:(Fr+1)%bi);for(let Fr=0;Fr<or;Fr+=4)Br.push(Fr,Fr+or);const gi=3*(or+or);qn[gi+0]=0,qn[gi+1]=Ln,qn[gi+2]=0,qn[gi+3]=0,qn[gi+4]=-Ln,qn[gi+5]=0;for(let Fr=0;Fr<or;Fr+=4)Br.push(Fr,_r-2),Br.push(Fr+or,_r-1);const xi={min:(0,v.fromValues)(-An,-Ln,-An),max:(0,v.fromValues)(An,Ln,An)};return{arrays:{position:qn,indices:jt(_r,Br)},bounds:xi}}();f(we,this,new Kt(Un,Pn)),w(we,this).topology=ut.lines}function Ft(){f(s,this,{PointPosition:w(ne,this),SpherePosition:w(ne,this),CylinderPosition:w(we,this),CubePosition:w(ie,this)})}return h=Me,d(Me,"creatorColor",[0,1,0]),d(Me,"warningColor",[1,1,0]),Me})();function rd(h,s=new Set){if(Array.isArray(h))h.forEach(g=>rd(g,s));else if(h?.buffer instanceof ArrayBuffer)s.add(h.buffer);else if(h&&"object"==typeof h)for(const g in h)Object.prototype.hasOwnProperty.call(h,g)&&rd(h[g],s);return s}function rp(h,s){self.onmessage=function(){var g=C(function*(c){const{requestId:O,options:X}=c.data;try{let ie=h(X);ie instanceof Promise&&(ie=yield ie),function(ne,we){const Te=s?s(we):rd(we);self.postMessage({requestId:ne,resource:we},Array.from(Te))}(O,ie)}catch(ie){!function(ne,we){const{message:Te,stack:Me}=we;self.postMessage({requestId:ne,error:{message:Te,stack:Me}})}(O,ie)}});return function(c){return g.apply(this,arguments)}}()}function _u(h,s){const g=s[0],c=s[4],O=s[8],X=s[5],ie=s[9],ne=s[6],we=s[10];return h[1]=Math.asin(me(O,-1,1)),Math.abs(O)<.9999999?(h[0]=Math.atan2(-ie,we),h[2]=Math.atan2(-c,g)):(h[0]=Math.atan2(ne,X),h[2]=0),h}function vu(h,s,g,c){s*=.5,c*=.5,g*=.5;const O=Math.sin(s),X=Math.cos(s),ie=Math.sin(g),ne=Math.cos(g),we=Math.sin(c),Te=Math.cos(c);return h[0]=O*ne*Te+X*ie*we,h[1]=X*ie*Te-O*ne*we,h[2]=X*ne*we+O*ie*Te,h[3]=X*ne*Te-O*ie*we,h}class ip extends ae{constructor(s,g={optionalFeatures:["local-floor"]}){super(),d(this,"enter",void 0),d(this,"exit",void 0),d(this,"session",void 0),d(this,"lastSession",void 0),d(this,"supported",void 0),d(this,"presenting",void 0),d(this,"sessionMode",void 0);let c=!1,O=!1,X=!1,ie=null,ne=null;this.enter=()=>Promise.reject(new Error(`XR Session mode '${s}' Not Supported`)),this.exit=()=>{},this.destroy=()=>{X=!0},Object.defineProperties(this,{sessionMode:{writable:!1,value:s},session:{get:()=>ie},lastSession:{get:()=>ne},supported:{get:()=>c},presenting:{get:()=>O}});const we=navigator?.xr;if(!we||!("isSessionSupported"in we))return void setTimeout(()=>this.emit("disable"),10);let Te=null;const Me=()=>{X||(c=!0,this.emit("enable"))},Le=()=>{X||(c=!1,this.emit("disable"))},at=()=>{ie&&ie.removeEventListener("end",at),ie=null,O=!1,this.emit("exit",ne)},Ft=rn=>(ie=rn,ne=rn,O=!0,ie.addEventListener("end",at),this.emit("enter",ie),ie),Gt=()=>{we.isSessionSupported(s).then(rn=>{X||(rn?Me():Le())}).catch(Le)},qt=()=>{this.emit("devicechange"),Gt()};this.enter=()=>ie?Te||Promise.resolve(ie):(Te=we.requestSession(s,g).then(Ft),Te),this.exit=()=>{Te=Promise.resolve(null),ie&&(ie.end(),ie=null)};const Ut=this.destroy;this.destroy=()=>{this.exit(),X=!0,we.removeEventListener("devicechange",qt),Ut()},Gt(),we.addEventListener("devicechange",qt)}}const rf="cb148a09",nh="2024-08-28T21:49:29.000Z",yu="0.40.1";en.exports=y})()},84288:en=>{"use strict";var Ve=String.prototype.replace,E=/%20/g;en.exports={default:"RFC3986",formatters:{RFC1738:function(u){return Ve.call(u,E,"+")},RFC3986:function(u){return String(u)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},69984:(en,Ve,E)=>{"use strict";var i=E(26413),u=E(67875),f=E(84288);en.exports={formats:f,parse:u,stringify:i}},67875:(en,Ve,E)=>{"use strict";var i=E(57369),u=Object.prototype.hasOwnProperty,f=Array.isArray,C={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},w=function(v,M){return v&&"string"==typeof v&&M.comma&&v.indexOf(",")>-1?v.split(","):v},P=function(M,G,K,V){if(M){var Z=K.allowDots?M.replace(/\.([^.[]+)/g,"[$1]"):M,te=/(\[[^[\]]*])/g,ae=K.depth>0&&/(\[[^[\]]*])/.exec(Z),Y=ae?Z.slice(0,ae.index):Z,$=[];if(Y){if(!K.plainObjects&&u.call(Object.prototype,Y)&&!K.allowPrototypes)return;$.push(Y)}for(var H=0;K.depth>0&&null!==(ae=te.exec(Z))&&H<K.depth;){if(H+=1,!K.plainObjects&&u.call(Object.prototype,ae[1].slice(1,-1))&&!K.allowPrototypes)return;$.push(ae[1])}if(ae){if(!0===K.strictDepth)throw new RangeError("Input depth exceeded depth option of "+K.depth+" and strictDepth is true");$.push("["+Z.slice(ae.index)+"]")}return function(v,M,G,K){for(var V=K?M:w(M,G),Z=v.length-1;Z>=0;--Z){var J,te=v[Z];if("[]"===te&&G.parseArrays)J=G.allowEmptyArrays&&(""===V||G.strictNullHandling&&null===V)?[]:[].concat(V);else{J=G.plainObjects?Object.create(null):{};var ae="["===te.charAt(0)&&"]"===te.charAt(te.length-1)?te.slice(1,-1):te,Y=G.decodeDotInKeys?ae.replace(/%2E/g,"."):ae,$=parseInt(Y,10);G.parseArrays||""!==Y?!isNaN($)&&te!==Y&&String($)===Y&&$>=0&&G.parseArrays&&$<=G.arrayLimit?(J=[])[$]=V:"__proto__"!==Y&&(J[Y]=V):J={0:V}}V=J}return V}($,G,K,V)}};en.exports=function(v,M){var G=function(M){if(!M)return C;if(typeof M.allowEmptyArrays<"u"&&"boolean"!=typeof M.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof M.decodeDotInKeys<"u"&&"boolean"!=typeof M.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==M.decoder&&typeof M.decoder<"u"&&"function"!=typeof M.decoder)throw new TypeError("Decoder has to be a function.");if(typeof M.charset<"u"&&"utf-8"!==M.charset&&"iso-8859-1"!==M.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var G=typeof M.charset>"u"?C.charset:M.charset,K=typeof M.duplicates>"u"?C.duplicates:M.duplicates;if("combine"!==K&&"first"!==K&&"last"!==K)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof M.allowDots>"u"?!0===M.decodeDotInKeys||C.allowDots:!!M.allowDots,allowEmptyArrays:"boolean"==typeof M.allowEmptyArrays?!!M.allowEmptyArrays:C.allowEmptyArrays,allowPrototypes:"boolean"==typeof M.allowPrototypes?M.allowPrototypes:C.allowPrototypes,allowSparse:"boolean"==typeof M.allowSparse?M.allowSparse:C.allowSparse,arrayLimit:"number"==typeof M.arrayLimit?M.arrayLimit:C.arrayLimit,charset:G,charsetSentinel:"boolean"==typeof M.charsetSentinel?M.charsetSentinel:C.charsetSentinel,comma:"boolean"==typeof M.comma?M.comma:C.comma,decodeDotInKeys:"boolean"==typeof M.decodeDotInKeys?M.decodeDotInKeys:C.decodeDotInKeys,decoder:"function"==typeof M.decoder?M.decoder:C.decoder,delimiter:"string"==typeof M.delimiter||i.isRegExp(M.delimiter)?M.delimiter:C.delimiter,depth:"number"==typeof M.depth||!1===M.depth?+M.depth:C.depth,duplicates:K,ignoreQueryPrefix:!0===M.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof M.interpretNumericEntities?M.interpretNumericEntities:C.interpretNumericEntities,parameterLimit:"number"==typeof M.parameterLimit?M.parameterLimit:C.parameterLimit,parseArrays:!1!==M.parseArrays,plainObjects:"boolean"==typeof M.plainObjects?M.plainObjects:C.plainObjects,strictDepth:"boolean"==typeof M.strictDepth?!!M.strictDepth:C.strictDepth,strictNullHandling:"boolean"==typeof M.strictNullHandling?M.strictNullHandling:C.strictNullHandling}}(M);if(""===v||null===v||typeof v>"u")return G.plainObjects?Object.create(null):{};for(var K="string"==typeof v?function(M,G){var ae,K={__proto__:null},V=G.ignoreQueryPrefix?M.replace(/^\?/,""):M,J=(V=V.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(G.delimiter,G.parameterLimit===1/0?void 0:G.parameterLimit),te=-1,Y=G.charset;if(G.charsetSentinel)for(ae=0;ae<J.length;++ae)0===J[ae].indexOf("utf8=")&&("utf8=%E2%9C%93"===J[ae]?Y="utf-8":"utf8=%26%2310003%3B"===J[ae]&&(Y="iso-8859-1"),te=ae,ae=J.length);for(ae=0;ae<J.length;++ae)if(ae!==te){var B,ce,$=J[ae],H=$.indexOf("]="),me=-1===H?$.indexOf("="):H+1;-1===me?(B=G.decoder($,C.decoder,Y,"key"),ce=G.strictNullHandling?null:""):(B=G.decoder($.slice(0,me),C.decoder,Y,"key"),ce=i.maybeMap(w($.slice(me+1),G),function(Ue){return G.decoder(Ue,C.decoder,Y,"value")})),ce&&G.interpretNumericEntities&&"iso-8859-1"===Y&&(ce=ce.replace(/&#(\d+);/g,function(M,G){return String.fromCharCode(parseInt(G,10))})),$.indexOf("[]=")>-1&&(ce=f(ce)?[ce]:ce);var Oe=u.call(K,B);Oe&&"combine"===G.duplicates?K[B]=i.combine(K[B],ce):(!Oe||"last"===G.duplicates)&&(K[B]=ce)}return K}(v,G):v,V=G.plainObjects?Object.create(null):{},Z=Object.keys(K),J=0;J<Z.length;++J){var te=Z[J],ae=P(te,K[te],G,"string"==typeof v);V=i.merge(V,ae,G)}return!0===G.allowSparse?V:i.compact(V)}},26413:(en,Ve,E)=>{"use strict";var i=E(68241),u=E(57369),f=E(84288),C=Object.prototype.hasOwnProperty,x={brackets:function(V){return V+"[]"},comma:"comma",indices:function(V,Z){return V+"["+Z+"]"},repeat:function(V){return V}},w=Array.isArray,d=Array.prototype.push,k=function(K,V){d.apply(K,w(V)?V:[V])},S=Date.prototype.toISOString,U=f.default,P={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:u.encode,encodeValuesOnly:!1,format:U,formatter:f.formatters[U],indices:!1,serializeDate:function(V){return S.call(V)},skipNulls:!1,strictNullHandling:!1},v={},M=function K(V,Z,J,te,ae,Y,$,H,me,B,ce,Oe,Ue,qe,_e,ht,Bt,de){for(var R=V,j=de,he=0,Ce=!1;void 0!==(j=j.get(v))&&!Ce;){var Re=j.get(V);if(he+=1,typeof Re<"u"){if(Re===he)throw new RangeError("Cyclic object value");Ce=!0}typeof j.get(v)>"u"&&(he=0)}if("function"==typeof B?R=B(Z,R):R instanceof Date?R=Ue(R):"comma"===J&&w(R)&&(R=u.maybeMap(R,function(z){return z instanceof Date?Ue(z):z})),null===R){if(Y)return me&&!ht?me(Z,P.encoder,Bt,"key",qe):Z;R=""}if(function(V){return"string"==typeof V||"number"==typeof V||"boolean"==typeof V||"symbol"==typeof V||"bigint"==typeof V}(R)||u.isBuffer(R))return me?[_e(ht?Z:me(Z,P.encoder,Bt,"key",qe))+"="+_e(me(R,P.encoder,Bt,"value",qe))]:[_e(Z)+"="+_e(String(R))];var Mn,zt=[];if(typeof R>"u")return zt;if("comma"===J&&w(R))ht&&me&&(R=u.maybeMap(R,me)),Mn=[{value:R.length>0?R.join(",")||null:void 0}];else if(w(B))Mn=B;else{var It=Object.keys(R);Mn=ce?It.sort(ce):It}var Ne=H?Z.replace(/\./g,"%2E"):Z,Xe=te&&w(R)&&1===R.length?Ne+"[]":Ne;if(ae&&w(R)&&0===R.length)return Xe+"[]";for(var Ot=0;Ot<Mn.length;++Ot){var re=Mn[Ot],D="object"==typeof re&&typeof re.value<"u"?re.value:R[re];if(!$||null!==D){var F=Oe&&H?re.replace(/\./g,"%2E"):re,T=w(R)?"function"==typeof J?J(Xe,F):Xe:Xe+(Oe?"."+F:"["+F+"]");de.set(V,he);var W=i();W.set(v,de),k(zt,K(D,T,J,te,ae,Y,$,H,"comma"===J&&ht&&w(R)?null:me,B,ce,Oe,Ue,qe,_e,ht,Bt,W))}}return zt};en.exports=function(K,V){var te,Z=K,J=function(V){if(!V)return P;if(typeof V.allowEmptyArrays<"u"&&"boolean"!=typeof V.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof V.encodeDotInKeys<"u"&&"boolean"!=typeof V.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==V.encoder&&typeof V.encoder<"u"&&"function"!=typeof V.encoder)throw new TypeError("Encoder has to be a function.");var Z=V.charset||P.charset;if(typeof V.charset<"u"&&"utf-8"!==V.charset&&"iso-8859-1"!==V.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var J=f.default;if(typeof V.format<"u"){if(!C.call(f.formatters,V.format))throw new TypeError("Unknown format option provided.");J=V.format}var Y,te=f.formatters[J],ae=P.filter;if(("function"==typeof V.filter||w(V.filter))&&(ae=V.filter),Y=V.arrayFormat in x?V.arrayFormat:"indices"in V?V.indices?"indices":"repeat":P.arrayFormat,"commaRoundTrip"in V&&"boolean"!=typeof V.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof V.addQueryPrefix?V.addQueryPrefix:P.addQueryPrefix,allowDots:typeof V.allowDots>"u"?!0===V.encodeDotInKeys||P.allowDots:!!V.allowDots,allowEmptyArrays:"boolean"==typeof V.allowEmptyArrays?!!V.allowEmptyArrays:P.allowEmptyArrays,arrayFormat:Y,charset:Z,charsetSentinel:"boolean"==typeof V.charsetSentinel?V.charsetSentinel:P.charsetSentinel,commaRoundTrip:V.commaRoundTrip,delimiter:typeof V.delimiter>"u"?P.delimiter:V.delimiter,encode:"boolean"==typeof V.encode?V.encode:P.encode,encodeDotInKeys:"boolean"==typeof V.encodeDotInKeys?V.encodeDotInKeys:P.encodeDotInKeys,encoder:"function"==typeof V.encoder?V.encoder:P.encoder,encodeValuesOnly:"boolean"==typeof V.encodeValuesOnly?V.encodeValuesOnly:P.encodeValuesOnly,filter:ae,format:J,formatter:te,serializeDate:"function"==typeof V.serializeDate?V.serializeDate:P.serializeDate,skipNulls:"boolean"==typeof V.skipNulls?V.skipNulls:P.skipNulls,sort:"function"==typeof V.sort?V.sort:null,strictNullHandling:"boolean"==typeof V.strictNullHandling?V.strictNullHandling:P.strictNullHandling}}(V);"function"==typeof J.filter?Z=(0,J.filter)("",Z):w(J.filter)&&(te=J.filter);var Y=[];if("object"!=typeof Z||null===Z)return"";var $=x[J.arrayFormat],H="comma"===$&&J.commaRoundTrip;te||(te=Object.keys(Z)),J.sort&&te.sort(J.sort);for(var me=i(),B=0;B<te.length;++B){var ce=te[B];J.skipNulls&&null===Z[ce]||k(Y,M(Z[ce],ce,$,H,J.allowEmptyArrays,J.strictNullHandling,J.skipNulls,J.encodeDotInKeys,J.encode?J.encoder:null,J.filter,J.sort,J.allowDots,J.serializeDate,J.format,J.formatter,J.encodeValuesOnly,J.charset,me))}var Oe=Y.join(J.delimiter),Ue=!0===J.addQueryPrefix?"?":"";return J.charsetSentinel&&(Ue+="iso-8859-1"===J.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Oe.length>0?Ue+Oe:""}},57369:(en,Ve,E)=>{"use strict";var i=E(84288),u=Object.prototype.hasOwnProperty,f=Array.isArray,C=function(){for(var V=[],Z=0;Z<256;++Z)V.push("%"+((Z<16?"0":"")+Z.toString(16)).toUpperCase());return V}(),w=function(Z,J){for(var te=J&&J.plainObjects?Object.create(null):{},ae=0;ae<Z.length;++ae)typeof Z[ae]<"u"&&(te[ae]=Z[ae]);return te},U=1024;en.exports={arrayToObject:w,assign:function(Z,J){return Object.keys(J).reduce(function(te,ae){return te[ae]=J[ae],te},Z)},combine:function(Z,J){return[].concat(Z,J)},compact:function(Z){for(var J=[{obj:{o:Z},prop:"o"}],te=[],ae=0;ae<J.length;++ae)for(var Y=J[ae],$=Y.obj[Y.prop],H=Object.keys($),me=0;me<H.length;++me){var B=H[me],ce=$[B];"object"==typeof ce&&null!==ce&&-1===te.indexOf(ce)&&(J.push({obj:$,prop:B}),te.push(ce))}return function(Z){for(;Z.length>1;){var J=Z.pop(),te=J.obj[J.prop];if(f(te)){for(var ae=[],Y=0;Y<te.length;++Y)typeof te[Y]<"u"&&ae.push(te[Y]);J.obj[J.prop]=ae}}}(J),Z},decode:function(V,Z,J){var te=V.replace(/\+/g," ");if("iso-8859-1"===J)return te.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(te)}catch{return te}},encode:function(Z,J,te,ae,Y){if(0===Z.length)return Z;var $=Z;if("symbol"==typeof Z?$=Symbol.prototype.toString.call(Z):"string"!=typeof Z&&($=String(Z)),"iso-8859-1"===te)return escape($).replace(/%u[0-9a-f]{4}/gi,function(qe){return"%26%23"+parseInt(qe.slice(2),16)+"%3B"});for(var H="",me=0;me<$.length;me+=U){for(var B=$.length>=U?$.slice(me,me+U):$,ce=[],Oe=0;Oe<B.length;++Oe){var Ue=B.charCodeAt(Oe);45===Ue||46===Ue||95===Ue||126===Ue||Ue>=48&&Ue<=57||Ue>=65&&Ue<=90||Ue>=97&&Ue<=122||Y===i.RFC1738&&(40===Ue||41===Ue)?ce[ce.length]=B.charAt(Oe):Ue<128?ce[ce.length]=C[Ue]:Ue<2048?ce[ce.length]=C[192|Ue>>6]+C[128|63&Ue]:Ue<55296||Ue>=57344?ce[ce.length]=C[224|Ue>>12]+C[128|Ue>>6&63]+C[128|63&Ue]:(Ue=65536+((1023&Ue)<<10|1023&B.charCodeAt(Oe+=1)),ce[ce.length]=C[240|Ue>>18]+C[128|Ue>>12&63]+C[128|Ue>>6&63]+C[128|63&Ue])}H+=ce.join("")}return H},isBuffer:function(Z){return!(!Z||"object"!=typeof Z||!(Z.constructor&&Z.constructor.isBuffer&&Z.constructor.isBuffer(Z)))},isRegExp:function(Z){return"[object RegExp]"===Object.prototype.toString.call(Z)},maybeMap:function(Z,J){if(f(Z)){for(var te=[],ae=0;ae<Z.length;ae+=1)te.push(J(Z[ae]));return te}return J(Z)},merge:function V(Z,J,te){if(!J)return Z;if("object"!=typeof J){if(f(Z))Z.push(J);else{if(!Z||"object"!=typeof Z)return[Z,J];(te&&(te.plainObjects||te.allowPrototypes)||!u.call(Object.prototype,J))&&(Z[J]=!0)}return Z}if(!Z||"object"!=typeof Z)return[Z].concat(J);var ae=Z;return f(Z)&&!f(J)&&(ae=w(Z,te)),f(Z)&&f(J)?(J.forEach(function(Y,$){if(u.call(Z,$)){var H=Z[$];H&&"object"==typeof H&&Y&&"object"==typeof Y?Z[$]=V(H,Y,te):Z.push(Y)}else Z[$]=Y}),Z):Object.keys(J).reduce(function(Y,$){var H=J[$];return Y[$]=u.call(Y,$)?V(Y[$],H,te):H,Y},ae)}}},68023:(en,Ve,E)=>{"use strict";function i(x,w,d,k,S){u(x,w,d||0,k||x.length-1,S||C)}function u(x,w,d,k,S){for(;k>d;){if(k-d>600){var U=k-d+1,P=w-d+1,y=Math.log(U),v=.5*Math.exp(2*y/3),M=.5*Math.sqrt(y*v*(U-v)/U)*(P-U/2<0?-1:1);u(x,w,Math.max(d,Math.floor(w-P*v/U+M)),Math.min(k,Math.floor(w+(U-P)*v/U+M)),S)}var V=x[w],Z=d,J=k;for(f(x,d,w),S(x[k],V)>0&&f(x,d,k);Z<J;){for(f(x,Z,J),Z++,J--;S(x[Z],V)<0;)Z++;for(;S(x[J],V)>0;)J--}0===S(x[d],V)?f(x,d,J):f(x,++J,k),J<=w&&(d=J+1),w<=J&&(k=J-1)}}function f(x,w,d){var k=x[w];x[w]=x[d],x[d]=k}function C(x,w){return x<w?-1:x>w?1:0}E.r(Ve),E.d(Ve,{default:()=>i})},77015:function(en){var E;E=()=>{return Ve={276:function(){!function(i){"use strict";i.console||(i.console={});for(var u,f,C=i.console,x=function(){},w=["memory"],d="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");u=w.pop();)C[u]||(C[u]={});for(;f=d.pop();)C[f]||(C[f]=x)}(typeof window>"u"?this:window)},180:function(i,u,f){var C,x,w;!function(d,k){"use strict";x=[f(124)],void 0===(w="function"==typeof(C=function(S){var U=/(^|@)\S+:\d+/,P=/^\s*at .*(\S+:\d+|\(native\))/m,y=/^(eval@)?(\[native code])?$/;return{parse:function(v){if(void 0!==v.stacktrace||void 0!==v["opera#sourceloc"])return this.parseOpera(v);if(v.stack&&v.stack.match(P))return this.parseV8OrIE(v);if(v.stack)return this.parseFFOrSafari(v);throw new Error("Cannot parse given Error object")},extractLocation:function(v){if(-1===v.indexOf(":"))return[v];var M=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(v.replace(/[()]/g,""));return[M[1],M[2]||void 0,M[3]||void 0]},parseV8OrIE:function(v){return v.stack.split("\n").filter(function(M){return!!M.match(P)},this).map(function(M){M.indexOf("(eval ")>-1&&(M=M.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var G=M.replace(/^\s+/,"").replace(/\(eval code/g,"("),K=G.match(/ (\((.+):(\d+):(\d+)\)$)/),V=(G=K?G.replace(K[0],""):G).split(/\s+/).slice(1),Z=this.extractLocation(K?K[1]:V.pop()),J=V.join(" ")||void 0,te=["eval","<anonymous>"].indexOf(Z[0])>-1?void 0:Z[0];return new S({functionName:J,fileName:te,lineNumber:Z[1],columnNumber:Z[2],source:M})},this)},parseFFOrSafari:function(v){return v.stack.split("\n").filter(function(M){return!M.match(y)},this).map(function(M){if(M.indexOf(" > eval")>-1&&(M=M.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===M.indexOf("@")&&-1===M.indexOf(":"))return new S({functionName:M});var G=/((.*".+"[^@]*)?[^@]*)(?:@)/,K=M.match(G),V=K&&K[1]?K[1]:void 0,Z=this.extractLocation(M.replace(G,""));return new S({functionName:V,fileName:Z[0],lineNumber:Z[1],columnNumber:Z[2],source:M})},this)},parseOpera:function(v){return!v.stacktrace||v.message.indexOf("\n")>-1&&v.message.split("\n").length>v.stacktrace.split("\n").length?this.parseOpera9(v):v.stack?this.parseOpera11(v):this.parseOpera10(v)},parseOpera9:function(v){for(var M=/Line (\d+).*script (?:in )?(\S+)/i,G=v.message.split("\n"),K=[],V=2,Z=G.length;V<Z;V+=2){var J=M.exec(G[V]);J&&K.push(new S({fileName:J[2],lineNumber:J[1],source:G[V]}))}return K},parseOpera10:function(v){for(var M=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,G=v.stacktrace.split("\n"),K=[],V=0,Z=G.length;V<Z;V+=2){var J=M.exec(G[V]);J&&K.push(new S({functionName:J[3]||void 0,fileName:J[2],lineNumber:J[1],source:G[V]}))}return K},parseOpera11:function(v){return v.stack.split("\n").filter(function(M){return!!M.match(U)&&!M.match(/^Error created at/)},this).map(function(M){var G,K=M.split("@"),V=this.extractLocation(K.pop()),Z=K.shift()||"",J=Z.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;Z.match(/\(([^)]*)\)/)&&(G=Z.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var te=void 0===G||"[arguments not available]"===G?void 0:G.split(",");return new S({functionName:J,args:te,fileName:V[0],lineNumber:V[1],columnNumber:V[2],source:M})},this)}}})?C.apply(u,x):C)||(i.exports=w)}()},124:function(i,u){var f,C,x;!function(w,d){"use strict";C=[],void 0===(x="function"==typeof(f=function(){function k(ae){return!isNaN(parseFloat(ae))&&isFinite(ae)}function S(ae){return ae.charAt(0).toUpperCase()+ae.substring(1)}function U(ae){return function(){return this[ae]}}var P=["isConstructor","isEval","isNative","isToplevel"],y=["columnNumber","lineNumber"],v=["fileName","functionName","source"],K=P.concat(y,v,["args"],["evalOrigin"]);function V(ae){if(ae)for(var Y=0;Y<K.length;Y++)void 0!==ae[K[Y]]&&this["set"+S(K[Y])](ae[K[Y]])}V.prototype={getArgs:function(){return this.args},setArgs:function(ae){if("[object Array]"!==Object.prototype.toString.call(ae))throw new TypeError("Args must be an Array");this.args=ae},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(ae){if(ae instanceof V)this.evalOrigin=ae;else{if(!(ae instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new V(ae)}},toString:function(){var ae=this.getFileName()||"",Y=this.getLineNumber()||"",$=this.getColumnNumber()||"",H=this.getFunctionName()||"";return this.getIsEval()?ae?"[eval] ("+ae+":"+Y+":"+$+")":"[eval]:"+Y+":"+$:H?H+" ("+ae+":"+Y+":"+$+")":ae+":"+Y+":"+$}},V.fromString=function(ae){var Y=ae.indexOf("("),$=ae.lastIndexOf(")"),H=ae.substring(0,Y),me=ae.substring(Y+1,$).split(","),B=ae.substring($+1);if(0===B.indexOf("@"))var ce=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(B,""),Oe=ce[1],Ue=ce[2],qe=ce[3];return new V({functionName:H,args:me||void 0,fileName:Oe,lineNumber:Ue||void 0,columnNumber:qe||void 0})};for(var Z=0;Z<P.length;Z++)V.prototype["get"+S(P[Z])]=U(P[Z]),V.prototype["set"+S(P[Z])]=function(ae){return function(Y){this[ae]=!!Y}}(P[Z]);for(var J=0;J<y.length;J++)V.prototype["get"+S(y[J])]=U(y[J]),V.prototype["set"+S(y[J])]=function(ae){return function(Y){if(!k(Y))throw new TypeError(ae+" must be a Number");this[ae]=Number(Y)}}(y[J]);for(var te=0;te<v.length;te++)V.prototype["get"+S(v[te])]=U(v[te]),V.prototype["set"+S(v[te])]=function(ae){return function(Y){this[ae]=String(Y)}}(v[te]);return V})?f.apply(u,C):f)||(i.exports=x)}()},815:(i,u,f)=>{"use strict";var C=f(702),x=f(817),w={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function d(S,U,P,y,v){this.options=S,this.transport=U,this.url=P,this.truncation=y,this.jsonBackup=v,this.accessToken=S.accessToken,this.transportOptions=k(S,P)}function k(S,U){return x.getTransportFromOptions(S,w,U)}d.prototype.postItem=function(S,U){var P=x.transportOptions(this.transportOptions,"POST"),y=x.buildPayload(this.accessToken,S,this.jsonBackup),v=this;setTimeout(function(){v.transport.post(v.accessToken,P,y,U)},0)},d.prototype.buildJsonPayload=function(S,U){var P,y=x.buildPayload(this.accessToken,S,this.jsonBackup);return(P=this.truncation?this.truncation.truncate(y):C.stringify(y)).error?(U&&U(P.error),null):P.value},d.prototype.postJsonPayload=function(S,U){var P=x.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,P,S,U)},d.prototype.configure=function(S){return this.options=C.merge(this.oldOptions,S),this.transportOptions=k(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},i.exports=d},817:(i,u,f)=>{"use strict";var C=f(702);i.exports={buildPayload:function(x,w,d){if(!C.isType(w.context,"string")){var k=C.stringify(w.context,d);w.context=k.error?"Error: could not serialize 'context'":k.value||"",w.context.length>255&&(w.context=w.context.substr(0,255))}return{access_token:x,data:w}},getTransportFromOptions:function(x,w,d){var Z,J,k=w.hostname,S=w.protocol,U=w.port,P=w.path,y=w.search,v=x.timeout,M=(Z=typeof window<"u"&&window||typeof self<"u"&&self,J=x.defaultTransport||"xhr",void 0===Z.fetch&&(J="xhr"),void 0===Z.XMLHttpRequest&&(J="fetch"),J),G=x.proxy;if(x.endpoint){var K=d.parse(x.endpoint);k=K.hostname,S=K.protocol,U=K.port,P=K.pathname,y=K.search}return{timeout:v,hostname:k,protocol:S,port:U,path:P,search:y,proxy:G,transport:M}},transportOptions:function(x,w){var d=x.protocol||"https:",k=x.port||("http:"===d?80:"https:"===d?443:void 0),S=x.hostname,U=x.path;return x.search&&(U+=x.search),x.proxy&&(U=d+"//"+S+U,S=x.proxy.host||x.proxy.hostname,k=x.proxy.port,d=x.proxy.protocol||d),{timeout:x.timeout,protocol:d,hostname:S,path:U,port:k,method:w,transport:x.transport}},appendPathToPath:function(x,w){var d=/\/$/.test(x),k=/^\//.test(w);return d&&k?w=w.substring(1):d||k||(w="/"+w),x+w}}},409:(i,u,f)=>{"use strict";var C=f(343),x=typeof window<"u"&&window._rollbarConfig,w=x&&x.globalAlias||"Rollbar",d=typeof window<"u"&&window[w]&&"function"==typeof window[w].shimId&&void 0!==window[w].shimId();if(typeof window>"u"||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!d&&x){var k=new C(x);window[w]=k}else typeof window<"u"?(window.rollbar=C,window._rollbarDidLoad=!0):typeof self<"u"&&(self.rollbar=C,self._rollbarDidLoad=!0);i.exports=C},403:(i,u,f)=>{"use strict";var C=f(562),x=f(702),w=f(815),d=f(802),k=f(349),S=f(477),U=f(509),P=f(860),y=f(417),v=f(172),M=f(61),G=f(303);function K(H,me){this.options=x.handleOptions($,H,null,d),this.options._configuredOptions=H;var B=this.components.telemeter,ce=this.components.instrumenter,Oe=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var Ue=this.components.truncation,qe=new S(Ue),_e=new w(this.options,qe,U,Ue);B&&(this.telemeter=new B(this.options)),this.client=me||new C(this.options,_e,d,this.telemeter,"browser");var j,ht=te(),Bt=typeof document<"u"&&document;this.isChrome=ht.chrome&&ht.chrome.runtime,this.anonymousErrorsPending=0,j=ht,this.client.notifier.addTransform(P.handleDomException).addTransform(P.handleItemWithError).addTransform(P.ensureItemHasSomethingToSay).addTransform(P.addBaseInfo).addTransform(P.addRequestInfo(j)).addTransform(P.addClientInfo(j)).addTransform(P.addPluginInfo(j)).addTransform(P.addBody).addTransform(y.addMessageWithError).addTransform(y.addTelemetryData).addTransform(y.addConfigToPayload).addTransform(P.addScrubber(this.scrub)).addTransform(y.addPayloadOptions).addTransform(y.userTransform(d)).addTransform(y.addConfiguredOptions).addTransform(y.addDiagnosticKeys).addTransform(y.itemToPayload),this.client.queue.addPredicate(M.checkLevel).addPredicate(v.checkIgnore).addPredicate(M.userCheckIgnore(d)).addPredicate(M.urlIsNotBlockListed(d)).addPredicate(M.urlIsSafeListed(d)).addPredicate(M.messageIsIgnored(d)),this.setupUnhandledCapture(),ce&&(this.instrumenter=new ce(this.options,this.client.telemeter,this,ht,Bt),this.instrumenter.instrument()),x.setupJSON(Oe),this.rollbar=this}var V=null;function Z(H){var me="Rollbar is not initialized";d.error(me),H&&H(new Error(me))}function J(H){for(var me=0,B=H.length;me<B;++me)if(x.isFunction(H[me]))return H[me]}function te(){return typeof window<"u"&&window||typeof self<"u"&&self}K.init=function(H,me){return V?V.global(H).configure(H):V=new K(H,me)},K.prototype.components={},K.setComponents=function(H){K.prototype.components=H},K.prototype.global=function(H){return this.client.global(H),this},K.global=function(H){if(V)return V.global(H);Z()},K.prototype.configure=function(H,me){var B=this.options,ce={};return me&&(ce={payload:me}),this.options=x.handleOptions(B,H,ce,d),this.options._configuredOptions=x.handleOptions(B._configuredOptions,H,ce),this.client.configure(this.options,me),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},K.configure=function(H,me){if(V)return V.configure(H,me);Z()},K.prototype.lastError=function(){return this.client.lastError},K.lastError=function(){if(V)return V.lastError();Z()},K.prototype.log=function(){var H=this._createItem(arguments),me=H.uuid;return this.client.log(H),{uuid:me}},K.log=function(){if(V)return V.log.apply(V,arguments);Z(J(arguments))},K.prototype.debug=function(){var H=this._createItem(arguments),me=H.uuid;return this.client.debug(H),{uuid:me}},K.debug=function(){if(V)return V.debug.apply(V,arguments);Z(J(arguments))},K.prototype.info=function(){var H=this._createItem(arguments),me=H.uuid;return this.client.info(H),{uuid:me}},K.info=function(){if(V)return V.info.apply(V,arguments);Z(J(arguments))},K.prototype.warn=function(){var H=this._createItem(arguments),me=H.uuid;return this.client.warn(H),{uuid:me}},K.warn=function(){if(V)return V.warn.apply(V,arguments);Z(J(arguments))},K.prototype.warning=function(){var H=this._createItem(arguments),me=H.uuid;return this.client.warning(H),{uuid:me}},K.warning=function(){if(V)return V.warning.apply(V,arguments);Z(J(arguments))},K.prototype.error=function(){var H=this._createItem(arguments),me=H.uuid;return this.client.error(H),{uuid:me}},K.error=function(){if(V)return V.error.apply(V,arguments);Z(J(arguments))},K.prototype.critical=function(){var H=this._createItem(arguments),me=H.uuid;return this.client.critical(H),{uuid:me}},K.critical=function(){if(V)return V.critical.apply(V,arguments);Z(J(arguments))},K.prototype.buildJsonPayload=function(H){return this.client.buildJsonPayload(H)},K.buildJsonPayload=function(){if(V)return V.buildJsonPayload.apply(V,arguments);Z()},K.prototype.sendJsonPayload=function(H){return this.client.sendJsonPayload(H)},K.sendJsonPayload=function(){if(V)return V.sendJsonPayload.apply(V,arguments);Z()},K.prototype.setupUnhandledCapture=function(){var H=te();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(k.captureUncaughtExceptions(H,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(H,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(k.captureUnhandledRejections(H,this),this.unhandledRejectionsInitialized=!0)},K.prototype.handleUncaughtException=function(H,me,B,ce,Oe,Ue){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===Oe&&""===me)return"anonymous";var qe,_e=x.makeUnhandledStackInfo(H,me,B,ce,Oe,"onerror","uncaught exception",G);x.isError(Oe)?(qe=this._createItem([H,Oe,Ue]))._unhandledStackInfo=_e:x.isError(me)?(qe=this._createItem([H,me,Ue]))._unhandledStackInfo=_e:(qe=this._createItem([H,Ue])).stackInfo=_e,qe.level=this.options.uncaughtErrorLevel,qe._isUncaught=!0,this.client.log(qe)}},K.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var H=this;try{Error.prepareStackTrace=function(me,B){if(H.options.inspectAnonymousErrors&&H.anonymousErrorsPending){if(H.anonymousErrorsPending-=1,!me)return;me._isAnonymous=!0,H.handleUncaughtException(me.message,null,null,null,me)}return me.stack}}catch(me){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",me)}}},K.prototype.handleUnhandledRejection=function(H,me){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var B="unhandled rejection was null or undefined!";if(H)if(H.message)B=H.message;else{var ce=x.stringify(H);ce.value&&(B=ce.value)}var Oe,Ue=H&&H._rollbarContext||me&&me._rollbarContext;x.isError(H)?Oe=this._createItem([B,H,Ue]):(Oe=this._createItem([B,H,Ue])).stackInfo=x.makeUnhandledStackInfo(B,"",0,0,null,"unhandledrejection","",G),Oe.level=this.options.uncaughtErrorLevel,Oe._isUncaught=!0,Oe._originalArgs=Oe._originalArgs||[],Oe._originalArgs.push(me),this.client.log(Oe)}},K.prototype.wrap=function(H,me,B){try{var ce;if(ce=x.isFunction(me)?me:function(){return me||{}},!x.isFunction(H)||H._isWrap)return H;if(!H._rollbar_wrapped&&(H._rollbar_wrapped=function(){B&&x.isFunction(B)&&B.apply(this,arguments);try{return H.apply(this,arguments)}catch(qe){var Ue=qe;throw Ue&&window._rollbarWrappedError!==Ue&&(x.isType(Ue,"string")&&(Ue=new String(Ue)),Ue._rollbarContext=ce()||{},Ue._rollbarContext._wrappedSource=H.toString(),window._rollbarWrappedError=Ue),Ue}},H._rollbar_wrapped._isWrap=!0,H.hasOwnProperty))for(var Oe in H)H.hasOwnProperty(Oe)&&"_rollbar_wrapped"!==Oe&&(H._rollbar_wrapped[Oe]=H[Oe]);return H._rollbar_wrapped}catch{return H}},K.wrap=function(H,me){if(V)return V.wrap(H,me);Z()},K.prototype.captureEvent=function(){var H=x.createTelemetryEvent(arguments);return this.client.captureEvent(H.type,H.metadata,H.level)},K.captureEvent=function(){if(V)return V.captureEvent.apply(V,arguments);Z()},K.prototype.captureDomContentLoaded=function(H,me){return me||(me=new Date),this.client.captureDomContentLoaded(me)},K.prototype.captureLoad=function(H,me){return me||(me=new Date),this.client.captureLoad(me)},K.prototype.loadFull=function(){d.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},K.prototype._createItem=function(H){return x.createItem(H,d,this)};var ae=f(948),Y=f(677),$={version:ae.version,scrubFields:Y.scrubFields,logLevel:ae.logLevel,reportLevel:ae.reportLevel,uncaughtErrorLevel:ae.uncaughtErrorLevel,endpoint:ae.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};i.exports=K},677:i=>{"use strict";i.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},616:i=>{"use strict";i.exports={ieVersion:function(){var f;if(typeof document>"u")return f;for(var C=3,x=document.createElement("div"),w=x.getElementsByTagName("i");x.innerHTML="\x3c!--[if gt IE "+ ++C+"]><i></i><![endif]--\x3e",w[0];);return C>4?C:f}}},300:i=>{"use strict";function u(x){return(x.getAttribute("type")||"").toLowerCase()}function f(x){if(!x||!x.tagName)return"";var w=[x.tagName];x.id&&w.push("#"+x.id),x.classes&&w.push("."+x.classes.join("."));for(var d=0;d<x.attributes.length;d++)w.push("["+x.attributes[d].key+'="'+x.attributes[d].value+'"]');return w.join("")}function C(x){if(!x||!x.tagName)return null;var w,d,k,S,U={};U.tagName=x.tagName.toLowerCase(),x.id&&(U.id=x.id),(w=x.className)&&"string"==typeof w&&(U.classes=w.split(/\s+/));var P=["type","name","title","alt"];for(U.attributes=[],S=0;S<P.length;S++)(k=x.getAttribute(d=P[S]))&&U.attributes.push({key:d,value:k});return U}i.exports={describeElement:C,descriptionToString:f,elementArrayToString:function(x){for(var w,k=[],S=0,U=x.length-1;U>=0;U--){if(w=f(x[U]),U<x.length-1&&S+3*k.length+w.length>=83){k.unshift("...");break}k.unshift(w),S+=w.length}return k.join(" > ")},treeToArray:function(x){for(var w,d=[],k=0;x&&k<5&&"html"!==(w=C(x)).tagName;k++)d.unshift(w),x=x.parentNode;return d},getElementFromEvent:function(x,w){return x.target?x.target:w&&w.elementFromPoint?w.elementFromPoint(x.clientX,x.clientY):void 0},isDescribedElement:function(x,w,d){if(x.tagName.toLowerCase()!==w.toLowerCase())return!1;if(!d)return!0;x=u(x);for(var k=0;k<d.length;k++)if(d[k]===x)return!0;return!1},getElementType:u}},349:i=>{"use strict";i.exports={captureUncaughtExceptions:function(u,f,C){if(u){var x;if("function"==typeof f._rollbarOldOnError)x=f._rollbarOldOnError;else if(u.onerror){for(x=u.onerror;x._rollbarOldOnError;)x=x._rollbarOldOnError;f._rollbarOldOnError=x}f.handleAnonymousErrors();var w=function(){var d=Array.prototype.slice.call(arguments,0);!function(k,S,U,P){k._rollbarWrappedError&&(P[4]||(P[4]=k._rollbarWrappedError),P[5]||(P[5]=k._rollbarWrappedError._rollbarContext),k._rollbarWrappedError=null);var y=S.handleUncaughtException.apply(S,P);U&&U.apply(k,P),"anonymous"===y&&(S.anonymousErrorsPending+=1)}(u,f,x,d)};C&&(w._rollbarOldOnError=x),u.onerror=w}},captureUnhandledRejections:function(u,f,C){if(u){"function"==typeof u._rollbarURH&&u._rollbarURH.belongsToShim&&u.removeEventListener("unhandledrejection",u._rollbarURH);var x=function(w){var d,k,S;try{d=w.reason}catch{d=void 0}try{k=w.promise}catch{k="[unhandledrejection] error getting `promise` from event"}try{S=w.detail,!d&&S&&(d=S.reason,k=S.promise)}catch{}d||(d="[unhandledrejection] error getting `reason` from event"),f&&f.handleUnhandledRejection&&f.handleUnhandledRejection(d,k)};x.belongsToShim=C,u._rollbarURH=x,u.addEventListener("unhandledrejection",x)}}}},802:(i,u,f)=>{"use strict";f(276);var C=f(616),x=f(702);i.exports={error:function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("Rollbar:"),C.ieVersion()<=8?console.error(x.formatArgsAsString(w)):console.error.apply(console,w)},info:function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("Rollbar:"),C.ieVersion()<=8?console.info(x.formatArgsAsString(w)):console.info.apply(console,w)},log:function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("Rollbar:"),C.ieVersion()<=8?console.log(x.formatArgsAsString(w)):console.log.apply(console,w)}}},172:(i,u,f)=>{"use strict";var C=f(702);i.exports={checkIgnore:function(x,w){return!C.get(w,"plugins.jquery.ignoreAjaxErrors")||!C.get(x,"body.message.extra.isAjax")}}},343:(i,u,f)=>{"use strict";var C=f(403),x=f(773),w=f(568),d=f(876),k=f(965),S=f(369),U=f(473);C.setComponents({telemeter:x,instrumenter:w,polyfillJSON:d,wrapGlobals:k,scrub:S,truncation:U}),i.exports=C},568:(i,u,f)=>{"use strict";var C=f(702),x=f(650),w=f(297),d=f(369),k=f(509),S=f(300),U={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function P(M,G){for(var K;M[G].length;)(K=M[G].shift())[0][K[1]]=K[2]}function y(M,G,K,V,Z){this.options=M;var J=M.autoInstrument;!1===M.enabled||!1===J?this.autoInstrument={}:(C.isType(J,"object")||(J=U),this.autoInstrument=C.merge(U,J)),this.scrubTelemetryInputs=!!M.scrubTelemetryInputs,this.telemetryScrubber=M.telemetryScrubber,this.defaultValueScrubber=function(te){for(var ae=[],Y=0;Y<te.length;++Y)ae.push(new RegExp(te[Y],"i"));return function($){var H=function(B){if(!B||!B.attributes)return null;for(var ce=B.attributes,Oe=0;Oe<ce.length;++Oe)if("name"===ce[Oe].key)return ce[Oe].value;return null}($);if(!H)return!1;for(var me=0;me<ae.length;++me)if(ae[me].test(H))return!0;return!1}}(M.scrubFields),this.telemeter=G,this.rollbar=K,this.diagnostic=K.client.notifier.diagnostic,this._window=V||{},this._document=Z||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}function v(M){return typeof URL<"u"&&M instanceof URL}y.prototype.configure=function(M){this.options=C.merge(this.options,M);var G=M.autoInstrument,K=C.merge(this.autoInstrument);!1===M.enabled||!1===G?this.autoInstrument={}:(C.isType(G,"object")||(G=U),this.autoInstrument=C.merge(U,G)),this.instrument(K),void 0!==M.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!M.scrubTelemetryInputs),void 0!==M.telemetryScrubber&&(this.telemetryScrubber=M.telemetryScrubber)},y.prototype.instrument=function(M){!this.autoInstrument.network||M&&M.network?!this.autoInstrument.network&&M&&M.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||M&&M.log?!this.autoInstrument.log&&M&&M.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||M&&M.dom?!this.autoInstrument.dom&&M&&M.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||M&&M.navigation?!this.autoInstrument.navigation&&M&&M.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||M&&M.connectivity?!this.autoInstrument.connectivity&&M&&M.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||M&&M.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&M&&M.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},y.prototype.deinstrumentNetwork=function(){P(this.replacements,"network")},y.prototype.instrumentNetwork=function(){var M=this;function G(V,Z){V in Z&&C.isFunction(Z[V])&&w(Z,V,function(J){return M.rollbar.wrap(J)})}if("XMLHttpRequest"in this._window){var K=this._window.XMLHttpRequest.prototype;w(K,"open",function(V){return function(Z,J){var te=v(J);return(C.isType(J,"string")||te)&&(J=te?J.toString():J,this.__rollbar_xhr?(this.__rollbar_xhr.method=Z,this.__rollbar_xhr.url=J,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=C.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:Z,url:J,status_code:null,start_time_ms:C.now(),end_time_ms:null}),V.apply(this,arguments)}},this.replacements,"network"),w(K,"setRequestHeader",function(V){return function(Z,J){return this.__rollbar_xhr||(this.__rollbar_xhr={}),C.isType(Z,"string")&&C.isType(J,"string")&&(M.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[Z]=J),"content-type"===Z.toLowerCase()&&(this.__rollbar_xhr.request_content_type=J)),V.apply(this,arguments)}},this.replacements,"network"),w(K,"send",function(V){return function(Z){var J=this;function te(){if(J.__rollbar_xhr&&(null===J.__rollbar_xhr.status_code&&(J.__rollbar_xhr.status_code=0,M.autoInstrument.networkRequestBody&&(J.__rollbar_xhr.request=Z),J.__rollbar_event=M.captureNetwork(J.__rollbar_xhr,"xhr",void 0)),J.readyState<2&&(J.__rollbar_xhr.start_time_ms=C.now()),J.readyState>3)){J.__rollbar_xhr.end_time_ms=C.now();var ae=null;if(J.__rollbar_xhr.response_content_type=J.getResponseHeader("Content-Type"),M.autoInstrument.networkResponseHeaders){var Y=M.autoInstrument.networkResponseHeaders;ae={};try{var $,H;if(!0===Y){var me=J.getAllResponseHeaders();if(me){var B,ce,Oe=me.trim().split(/[\r\n]+/);for(H=0;H<Oe.length;H++)$=(B=Oe[H].split(": ")).shift(),ce=B.join(": "),ae[$]=ce}}else for(H=0;H<Y.length;H++)ae[$=Y[H]]=J.getResponseHeader($)}catch{}}var Ue=null;if(M.autoInstrument.networkResponseBody)try{Ue=J.responseText}catch{}var qe=null;(Ue||ae)&&(qe={},Ue&&(qe.body=M.isJsonContentType(J.__rollbar_xhr.response_content_type)?M.scrubJson(Ue):Ue),ae&&(qe.headers=ae)),qe&&(J.__rollbar_xhr.response=qe);try{var _e=J.status;J.__rollbar_xhr.status_code=_e=1223===_e?204:_e,J.__rollbar_event.level=M.telemeter.levelFromStatus(_e),M.errorOnHttpStatus(J.__rollbar_xhr)}catch{}}}return G("onload",J),G("onerror",J),G("onprogress",J),"onreadystatechange"in J&&C.isFunction(J.onreadystatechange)?w(J,"onreadystatechange",function(ae){return M.rollbar.wrap(ae,void 0,te)}):J.onreadystatechange=te,J.__rollbar_xhr&&M.trackHttpErrors()&&(J.__rollbar_xhr.stack=(new Error).stack),V.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&w(this._window,"fetch",function(V){return function(Z,J){for(var te=new Array(arguments.length),ae=0,Y=te.length;ae<Y;ae++)te[ae]=arguments[ae];var $,H=te[0],me="GET",B=v(H);C.isType(H,"string")||B?$=B?H.toString():H:H&&($=H.url,H.method&&(me=H.method)),te[1]&&te[1].method&&(me=te[1].method);var ce={method:me,url:$,status_code:null,start_time_ms:C.now(),end_time_ms:null};if(te[1]&&te[1].headers){var Oe=x(te[1].headers);ce.request_content_type=Oe.get("Content-Type"),M.autoInstrument.networkRequestHeaders&&(ce.request_headers=M.fetchHeaders(Oe,M.autoInstrument.networkRequestHeaders))}return M.autoInstrument.networkRequestBody&&(te[1]&&te[1].body?ce.request=te[1].body:te[0]&&!C.isType(te[0],"string")&&te[0].body&&(ce.request=te[0].body)),M.captureNetwork(ce,"fetch",void 0),M.trackHttpErrors()&&(ce.stack=(new Error).stack),V.apply(this,te).then(function(Ue){ce.end_time_ms=C.now(),ce.status_code=Ue.status,ce.response_content_type=Ue.headers.get("Content-Type");var qe=null;M.autoInstrument.networkResponseHeaders&&(qe=M.fetchHeaders(Ue.headers,M.autoInstrument.networkResponseHeaders));var _e=null;return M.autoInstrument.networkResponseBody&&"function"==typeof Ue.text&&(_e=Ue.clone().text()),(qe||_e)&&(ce.response={},_e&&("function"==typeof _e.then?_e.then(function(ht){ce.response.body=ht&&M.isJsonContentType(ce.response_content_type)?M.scrubJson(ht):ht}):ce.response.body=_e),qe&&(ce.response.headers=qe)),M.errorOnHttpStatus(ce),Ue})}},this.replacements,"network")},y.prototype.captureNetwork=function(M,G,K){return M.request&&this.isJsonContentType(M.request_content_type)&&(M.request=this.scrubJson(M.request)),this.telemeter.captureNetwork(M,G,K)},y.prototype.isJsonContentType=function(M){return!!(M&&C.isType(M,"string")&&M.toLowerCase().includes("json"))},y.prototype.scrubJson=function(M){return JSON.stringify(d(JSON.parse(M),this.options.scrubFields))},y.prototype.fetchHeaders=function(M,G){var K={};try{var V;if(!0===G){if("function"==typeof M.entries)for(var Z=M.entries(),J=Z.next();!J.done;)K[J.value[0]]=J.value[1],J=Z.next()}else for(V=0;V<G.length;V++){var te=G[V];K[te]=M.get(te)}}catch{}return K},y.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},y.prototype.errorOnHttpStatus=function(M){var G=M.status_code;if(G>=500&&this.autoInstrument.networkErrorOnHttp5xx||G>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===G&&this.autoInstrument.networkErrorOnHttp0){var K=new Error("HTTP request failed with Status "+G);K.stack=M.stack,this.rollbar.error(K,{skipFrames:1})}},y.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var M;this.replacements.log.length;)M=this.replacements.log.shift(),this._window.console[M[0]]=M[1]},y.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var M=this,G=this._window.console,K=["debug","info","warn","error","log"];try{for(var V=0,Z=K.length;V<Z;V++)J(K[V])}catch(te){this.diagnostic.instrumentConsole={error:te.message}}}function J(te){var ae=G[te],Y=G,$="warn"===te?"warning":te;G[te]=function(){var H=Array.prototype.slice.call(arguments),me=C.formatArgsAsString(H);M.telemeter.captureLog(me,$),ae&&Function.prototype.apply.call(ae,Y,H)},M.replacements.log.push([te,ae])}},y.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},y.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var M=this.handleClick.bind(this),G=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",M,!0),this.addListener("dom",this._window,"blur","onfocusout",G,!0)}},y.prototype.handleClick=function(M){try{var G=S.getElementFromEvent(M,this._document),K=G&&G.tagName,V=S.isDescribedElement(G,"a")||S.isDescribedElement(G,"button");K&&(V||S.isDescribedElement(G,"input",["button","submit"]))?this.captureDomEvent("click",G):S.isDescribedElement(G,"input",["checkbox","radio"])&&this.captureDomEvent("input",G,G.value,G.checked)}catch{}},y.prototype.handleBlur=function(M){try{var G=S.getElementFromEvent(M,this._document);G&&G.tagName&&(S.isDescribedElement(G,"textarea")?this.captureDomEvent("input",G,G.value):S.isDescribedElement(G,"select")&&G.options&&G.options.length?this.handleSelectInputChanged(G):S.isDescribedElement(G,"input")&&!S.isDescribedElement(G,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",G,G.value))}catch{}},y.prototype.handleSelectInputChanged=function(M){if(M.multiple)for(var G=0;G<M.options.length;G++)M.options[G].selected&&this.captureDomEvent("input",M,M.options[G].value);else M.selectedIndex>=0&&M.options[M.selectedIndex]&&this.captureDomEvent("input",M,M.options[M.selectedIndex].value)},y.prototype.captureDomEvent=function(M,G,K,V){if(void 0!==K)if(this.scrubTelemetryInputs||"password"===S.getElementType(G))K="[scrubbed]";else{var Z=S.describeElement(G);this.telemetryScrubber?this.telemetryScrubber(Z)&&(K="[scrubbed]"):this.defaultValueScrubber(Z)&&(K="[scrubbed]")}var J=S.elementArrayToString(S.treeToArray(G));this.telemeter.captureDom(M,J,K,V)},y.prototype.deinstrumentNavigation=function(){var M=this._window.chrome;!(M&&M.app&&M.app.runtime)&&this._window.history&&this._window.history.pushState&&P(this.replacements,"navigation")},y.prototype.instrumentNavigation=function(){var M=this._window.chrome;if(!(M&&M.app&&M.app.runtime)&&this._window.history&&this._window.history.pushState){var G=this;w(this._window,"onpopstate",function(K){return function(){G.handleUrlChange(G._lastHref,G._location.href),K&&K.apply(this,arguments)}},this.replacements,"navigation"),w(this._window.history,"pushState",function(K){return function(){var V=arguments.length>2?arguments[2]:void 0;return V&&G.handleUrlChange(G._lastHref,V+""),K.apply(this,arguments)}},this.replacements,"navigation")}},y.prototype.handleUrlChange=function(M,G){var K=k.parse(this._location.href),V=k.parse(G),Z=k.parse(M);this._lastHref=G,K.protocol===V.protocol&&K.host===V.host&&(G=V.path+(V.hash||"")),K.protocol===Z.protocol&&K.host===Z.host&&(M=Z.path+(Z.hash||"")),this.telemeter.captureNavigation(M,G)},y.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):P(this.replacements,"connectivity"))},y.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var M=this;w(this._document.body,"ononline",function(G){return function(){M.telemeter.captureConnectivityChange("online"),G&&G.apply(this,arguments)}},this.replacements,"connectivity"),w(this._document.body,"onoffline",function(G){return function(){M.telemeter.captureConnectivityChange("offline"),G&&G.apply(this,arguments)}},this.replacements,"connectivity")}},y.prototype.handleCspEvent=function(M){var G="Security Policy Violation: blockedURI: "+M.blockedURI+", violatedDirective: "+M.violatedDirective+", effectiveDirective: "+M.effectiveDirective+", ";M.sourceFile&&(G+="location: "+M.sourceFile+", line: "+M.lineNumber+", col: "+M.columnNumber+", "),this.telemeter.captureLog(G+="originalPolicy: "+M.originalPolicy,"error"),this.handleCspError(G)},y.prototype.handleCspError=function(M){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(M)},y.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},y.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var M=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,M,!1)}},y.prototype.addListener=function(M,G,K,V,Z,J){G.addEventListener?(G.addEventListener(K,Z,J),this.eventRemovers[M].push(function(){G.removeEventListener(K,Z,J)})):V&&(G.attachEvent(V,Z),this.eventRemovers[M].push(function(){G.detachEvent(V,Z)}))},y.prototype.removeListeners=function(M){for(;this.eventRemovers[M].length;)this.eventRemovers[M].shift()()},i.exports=y},860:(i,u,f)=>{"use strict";var C=f(702),x=f(303),w=f(802);function d(P,y,v){var M=P.message,G=P.custom;M||(M="Item sent with null or missing arguments.");var K={body:M};G&&(K.extra=C.merge(G)),C.set(P,"data.body",{message:K}),v(null,P)}function k(P){var y=P.stackInfo.stack;return y&&0===y.length&&P._unhandledStackInfo&&P._unhandledStackInfo.stack&&(y=P._unhandledStackInfo.stack),y}function S(P,y,v){var M=P&&P.data.description,G=P&&P.custom,K=k(P),V=x.guessErrorClass(y.message),Z={exception:{class:U(y,V[0],v),message:V[1]}};if(M&&(Z.exception.description=M),K){var J,te,ae,Y,$,H,me,B;for(0===K.length&&(Z.exception.stack=y.rawStack,Z.exception.raw=String(y.rawException)),Z.frames=[],me=0;me<K.length;++me)te={filename:(J=K[me]).url?C.sanitizeUrl(J.url):"(unknown)",lineno:J.line||null,method:J.func&&"?"!==J.func?J.func:"[anonymous]",colno:J.column},v.sendFrameUrl&&(te.url=J.url),te.method&&te.method.endsWith&&te.method.endsWith("_rollbar_wrapped")||(ae=Y=$=null,(H=J.context?J.context.length:0)&&(B=Math.floor(H/2),Y=J.context.slice(0,B),ae=J.context[B],$=J.context.slice(B)),ae&&(te.code=ae),(Y||$)&&(te.context={},Y&&Y.length&&(te.context.pre=Y),$&&$.length&&(te.context.post=$)),J.args&&(te.args=J.args),Z.frames.push(te));Z.frames.reverse(),G&&(Z.extra=C.merge(G))}return Z}function U(P,y,v){return P.name?P.name:v.guessErrorClass?y:"(unknown)"}i.exports={handleDomException:function(P,y,v){if(P.err&&"DOMException"===x.Stack(P.err).name){var M=new Error;M.name=P.err.name,M.message=P.err.message,M.stack=P.err.stack,M.nested=P.err,P.err=M}v(null,P)},handleItemWithError:function(P,y,v){if(P.data=P.data||{},P.err)try{P.stackInfo=P.err._savedStackTrace||x.parse(P.err,P.skipFrames),y.addErrorContext&&function(M){var G=[],K=M.err;for(G.push(K);K.nested||K.cause;)G.push(K=K.nested||K.cause);C.addErrorContext(M,G)}(P)}catch(M){w.error("Error while parsing the error object.",M);try{P.message=P.err.message||P.err.description||P.message||String(P.err)}catch(G){P.message=String(P.err)||String(G)}delete P.err}v(null,P)},ensureItemHasSomethingToSay:function(P,y,v){P.message||P.stackInfo||P.custom||v(new Error("No message, stack info, or custom data"),null),v(null,P)},addBaseInfo:function(P,y,v){P.data=C.merge(P.data,{environment:y.payload&&y.payload.environment||y.environment,level:P.level,endpoint:y.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:P.uuid,notifier:{name:"rollbar-browser-js",version:y.version},custom:P.custom}),v(null,P)},addRequestInfo:function(P){return function(y,v,M){var G={};P&&P.location&&(G.url=P.location.href,G.query_string=P.location.search);var K="$remote_ip";v.captureIp?!0!==v.captureIp&&(K+="_anonymize"):K=null,K&&(G.user_ip=K),Object.keys(G).length>0&&C.set(y,"data.request",G),M(null,y)}},addClientInfo:function(P){return function(y,v,M){if(!P)return M(null,y);var G=P.navigator||{},K=P.screen||{};C.set(y,"data.client",{runtime_ms:y.timestamp-P._rollbarStartTime,timestamp:Math.round(y.timestamp/1e3),javascript:{browser:G.userAgent,language:G.language,cookie_enabled:G.cookieEnabled,screen:{width:K.width,height:K.height}}}),M(null,y)}},addPluginInfo:function(P){return function(y,v,M){if(!P||!P.navigator)return M(null,y);for(var G,K=[],V=P.navigator.plugins||[],Z=0,J=V.length;Z<J;++Z)K.push({name:(G=V[Z]).name,description:G.description});C.set(y,"data.client.javascript.plugins",K),M(null,y)}},addBody:function(P,y,v){P.stackInfo?P.stackInfo.traceChain?function(M,G,K){for(var V=M.stackInfo.traceChain,Z=[],J=V.length,te=0;te<J;te++){var ae=S(M,V[te],G);Z.push(ae)}C.set(M,"data.body",{trace_chain:Z}),K(null,M)}(P,y,v):function(M,G,K){if(k(M)){var Z=S(M,M.stackInfo,G);C.set(M,"data.body",{trace:Z}),K(null,M)}else{var J=M.stackInfo,te=x.guessErrorClass(J.message),ae=U(J,te[0],G);M.message=ae+": "+te[1],d(M,0,K)}}(P,y,v):d(P,0,v)},addScrubber:function(P){return function(y,v,M){P&&(y.data=P(y.data,v.scrubFields||[],v.scrubPaths||[])),M(null,y)}}}},477:(i,u,f)=>{"use strict";var C=f(702),x=f(656),w=f(86);function d(k){this.truncation=k}d.prototype.get=function(k,S,U,P,y){P&&C.isFunction(P)||(P=function(){}),C.addParamsAndAccessTokenToPath(k,S,U);var v=C.formatUrl(S);this._makeZoneRequest(k,v,"GET",null,P,y,S.timeout,S.transport)},d.prototype.post=function(k,S,U,P,y){if(P&&C.isFunction(P)||(P=function(){}),!U)return P(new Error("Cannot send empty request"));var v;if((v=this.truncation?this.truncation.truncate(U):C.stringify(U)).error)return P(v.error);var M=v.value,G=C.formatUrl(S);this._makeZoneRequest(k,G,"POST",M,P,y,S.timeout,S.transport)},d.prototype.postJsonPayload=function(k,S,U,P,y){P&&C.isFunction(P)||(P=function(){});var v=C.formatUrl(S);this._makeZoneRequest(k,v,"POST",U,P,y,S.timeout,S.transport)},d.prototype._makeZoneRequest=function(){var k=typeof window<"u"&&window||void 0!==y&&y,S=k&&k.Zone&&k.Zone.current,U=Array.prototype.slice.call(arguments);if(S&&"angular"===S._name){var y=this;S._parent.run(function(){y._makeRequest.apply(void 0,U)})}else this._makeRequest.apply(void 0,U)},d.prototype._makeRequest=function(k,S,U,P,y,v,M,G){if(typeof RollbarProxy<"u")return K=P,V=y,void(new RollbarProxy).sendJsonPayload(K,function(Z){},function(Z){V(new Error(Z))});var K,V;"fetch"===G?x(k,S,U,P,y,M):w(k,S,U,P,y,v,M)},i.exports=d},656:(i,u,f)=>{"use strict";var C=f(802),x=f(702);i.exports=function(w,d,k,S,U,P){var y,v;x.isFiniteNumber(P)&&(y=new AbortController,v=setTimeout(function(){y.abort()},P)),fetch(d,{method:k,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":w,signal:y&&y.signal},body:S}).then(function(M){return v&&clearTimeout(v),M.json()}).then(function(M){U(null,M)}).catch(function(M){C.error(M.message),U(M)})}},86:(i,u,f)=>{"use strict";var C=f(702),x=f(802);function w(d,k){var S=new Error(d);return S.code=k||"ENOTFOUND",S}i.exports=function(d,k,S,U,P,y,v){var M;if(!(M=y?y():function(){var V,Z,J=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],te=J.length;for(Z=0;Z<te;Z++)try{V=J[Z]();break}catch{}return V}()))return P(new Error("No way to send a request"));try{try{var G=function(){try{if(G&&4===M.readyState){G=void 0;var V=C.jsonParse(M.responseText);if((te=M)&&te.status&&200===te.status)return void P(V.error,V.value);(ae=M)&&C.isType(ae.status,"number")&&ae.status>=400&&ae.status<600?(403===M.status&&x.error(V.value&&V.value.message),P(new Error(String(M.status)))):P(w("XHR response had no status code (likely connection failure)"))}}catch(ae){var J;J=ae&&ae.stack?ae:new Error(ae),P(J)}var ae,te};M.open(S,k,!0),M.setRequestHeader&&(M.setRequestHeader("Content-Type","application/json"),M.setRequestHeader("X-Rollbar-Access-Token",d)),C.isFiniteNumber(v)&&(M.timeout=v),M.onreadystatechange=G,M.send(U)}catch{if(typeof XDomainRequest<"u"){if(!window||!window.location)return P(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===k.substring(0,5)&&(k="http"+k.substring(5));var K=new XDomainRequest;K.onprogress=function(){},K.ontimeout=function(){P(w("Request timed out","ETIMEDOUT"))},K.onerror=function(){P(new Error("Error during request"))},K.onload=function(){var Z=C.jsonParse(K.responseText);P(Z.error,Z.value)},K.open(S,k,!0),K.send(U)}else P(new Error("Cannot find a method to transport a request"))}}catch(V){P(V)}}},509:i=>{"use strict";i.exports={parse:function(u){var f,C,x={protocol:null,auth:null,host:null,path:null,hash:null,href:u,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(f=u.indexOf("//"))?(x.protocol=u.substring(0,f),C=f+2):C=0,-1!==(f=u.indexOf("@",C))&&(x.auth=u.substring(C,f),C=f+1),-1===(f=u.indexOf("/",C))){if(-1===(f=u.indexOf("?",C)))return-1===(f=u.indexOf("#",C))?x.host=u.substring(C):(x.host=u.substring(C,f),x.hash=u.substring(f)),x.hostname=x.host.split(":")[0],x.port=x.host.split(":")[1],x.port&&(x.port=parseInt(x.port,10)),x;x.host=u.substring(C,f),x.hostname=x.host.split(":")[0],x.port=x.host.split(":")[1],x.port&&(x.port=parseInt(x.port,10)),C=f}else x.host=u.substring(C,f),x.hostname=x.host.split(":")[0],x.port=x.host.split(":")[1],x.port&&(x.port=parseInt(x.port,10)),C=f;if(-1===(f=u.indexOf("#",C))?x.path=u.substring(C):(x.path=u.substring(C,f),x.hash=u.substring(f)),x.path){var w=x.path.split("?");x.pathname=w[0],x.query=w[1],x.search=x.query?"?"+x.query:null}return x}}},965:i=>{"use strict";function u(f,C,x){if(C.hasOwnProperty&&C.hasOwnProperty("addEventListener")){for(var w=C.addEventListener;w._rollbarOldAdd&&w.belongsToShim;)w=w._rollbarOldAdd;var d=function(U,P,y){w.call(this,U,f.wrap(P),y)};d._rollbarOldAdd=w,d.belongsToShim=x,C.addEventListener=d;for(var k=C.removeEventListener;k._rollbarOldRemove&&k.belongsToShim;)k=k._rollbarOldRemove;var S=function(U,P,y){k.call(this,U,P&&P._rollbar_wrapped||P,y)};S._rollbarOldRemove=k,S.belongsToShim=x,C.removeEventListener=S}}i.exports=function(f,C,x){if(f){var w,d,k="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(w=0;w<k.length;++w)f[d=k[w]]&&f[d].prototype&&u(C,f[d].prototype,x)}}},948:i=>{"use strict";i.exports={version:"2.26.4",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},303:(i,u,f)=>{"use strict";var C=f(180),x=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function d(S){var U={};return U._stackFrame=S,U.url=S.fileName,U.line=S.lineNumber,U.func=S.functionName,U.column=S.columnNumber,U.args=S.args,U.context=null,U}function k(S,U){return{stack:function(){var M=[];U=U||0;try{M=C.parse(S)}catch{M=[]}for(var G=[],K=U;K<M.length;K++)G.push(new d(M[K]));return G}(),message:S.message,name:(P=S,y=P.name&&P.name.length&&P.name,v=P.constructor.name&&P.constructor.name.length&&P.constructor.name,y&&v?"Error"===y?v:y:y||v),rawStack:S.stack,rawException:S};var P,y,v}i.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(S){if(!S||!S.match)return["Unknown error. There was no error message to display.",""];var U=S.match(x),P="(unknown)";return U&&(S=(S=S.replace((U[U.length-2]||"")+(P=U[U.length-1])+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[P,S]},gatherContext:function w(){return null},parse:function(S,U){var P=S;if(P.nested||P.cause){for(var y=[];P;)y.push(new k(P,U)),P=P.nested||P.cause,U=0;return y[0].traceChain=y,y[0]}return new k(P,U)},Stack:k,Frame:d}},420:i=>{"use strict";var u=Object.prototype.hasOwnProperty,f=Object.prototype.toString,C=function(x){if(!x||"[object Object]"!==f.call(x))return!1;var w,d=u.call(x,"constructor"),k=x.constructor&&x.constructor.prototype&&u.call(x.constructor.prototype,"isPrototypeOf");if(x.constructor&&!d&&!k)return!1;for(w in x);return void 0===w||u.call(x,w)};i.exports=function x(){var w,d,k,S,U,P={},y=null,v=arguments.length;for(w=0;w<v;w++)if(null!=(y=arguments[w]))for(U in y)d=P[U],P!==(k=y[U])&&(k&&C(k)?(S=d&&C(d)?d:{},P[U]=x(S,k)):void 0!==k&&(P[U]=k));return P}},314:(i,u,f)=>{"use strict";var C=f(702);function x(w,d){this.queue=w,this.options=d,this.transforms=[],this.diagnostic={}}x.prototype.configure=function(w){return this.queue&&this.queue.configure(w),this.options=C.merge(this.options,w),this},x.prototype.addTransform=function(w){return C.isFunction(w)&&this.transforms.push(w),this},x.prototype.log=function(w,d){if(d&&C.isFunction(d)||(d=function(){}),!this.options.enabled)return d(new Error("Rollbar is not enabled"));this.queue.addPendingItem(w);var k=w.err;this._applyTransforms(w,function(S,U){if(S)return this.queue.removePendingItem(w),d(S,null);this.queue.addItem(U,d,k,w)}.bind(this))},x.prototype._applyTransforms=function(w,d){var k=-1,S=this.transforms.length,U=this.transforms,P=this.options,y=function(v,M){v?d(v,null):++k!==S?U[k](M,P,y):d(null,M)};y(null,w)},i.exports=x},61:(i,u,f)=>{"use strict";var C=f(702);function x(d,k,S){if(!d)return!S;var U,y=d.frames;if(!y||0===y.length)return!S;for(var v=k.length,M=y.length,G=0;G<M;G++){if(!C.isType(U=y[G].filename,"string"))return!S;for(var K=0;K<v;K++)if(new RegExp(k[K]).test(U))return!0}return!1}function w(d,k,S,U){var P,y,v=!1;"blocklist"===S&&(v=!0);try{if(P=v?k.hostBlockList:k.hostSafeList,y=C.get(d,"body.trace_chain")||[C.get(d,"body.trace")],!P||0===P.length||0===y.length||!y[0])return!v;for(var M=y.length,G=0;G<M;G++)if(x(y[G],P,v))return!0}catch(V){v?k.hostBlockList=null:k.hostSafeList=null;var K=v?"hostBlockList":"hostSafeList";return U.error("Error while reading your configuration's "+K+" option. Removing custom "+K+".",V),!v}return!1}i.exports={checkLevel:function(d,k){return!((C.LEVELS[d.level]||0)<(C.LEVELS[k.reportLevel]||0))},userCheckIgnore:function(d){return function(k,S){var U=!!k._isUncaught;delete k._isUncaught;var P=k._originalArgs;delete k._originalArgs;try{C.isFunction(S.onSendCallback)&&S.onSendCallback(U,P,k)}catch(y){S.onSendCallback=null,d.error("Error while calling onSendCallback, removing",y)}try{if(C.isFunction(S.checkIgnore)&&S.checkIgnore(U,P,k))return!1}catch(y){S.checkIgnore=null,d.error("Error while calling custom checkIgnore(), removing",y)}return!0}},urlIsNotBlockListed:function(d){return function(k,S){return!w(k,S,"blocklist",d)}},urlIsSafeListed:function(d){return function(k,S){return w(k,S,"safelist",d)}},messageIsIgnored:function(d){return function(k,S){var U,P,y,v,M,G;try{if(!(y=S.ignoredMessages)||0===y.length||0===(G=function(K){var V=K.body,Z=[];if(V.trace_chain)for(var J=V.trace_chain,te=0;te<J.length;te++)Z.push(C.get(J[te],"exception.message"));return V.trace&&Z.push(C.get(V,"trace.exception.message")),V.message&&Z.push(C.get(V,"message.body")),Z}(k)).length)return!0;for(v=y.length,U=0;U<v;U++)for(M=new RegExp(y[U],"gi"),P=0;P<G.length;P++)if(M.test(G[P]))return!1}catch{S.ignoredMessages=null,d.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},358:(i,u,f)=>{"use strict";var C=f(702);function x(d,k,S,U){this.rateLimiter=d,this.api=k,this.logger=S,this.options=U,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}x.prototype.configure=function(d){return this.api&&this.api.configure(d),this.options=C.merge(this.options,d),this},x.prototype.addPredicate=function(d){return C.isFunction(d)&&this.predicates.push(d),this},x.prototype.addPendingItem=function(d){this.pendingItems.push(d)},x.prototype.removePendingItem=function(d){var k=this.pendingItems.indexOf(d);-1!==k&&this.pendingItems.splice(k,1)},x.prototype.addItem=function(d,k,S,U){k&&C.isFunction(k)||(k=function(){});var P=this._applyPredicates(d);if(P.stop)return this.removePendingItem(U),void k(P.err);if(this._maybeLog(d,S),this.removePendingItem(U),this.options.transmit){this.pendingRequests.push(d);try{this._makeApiRequest(d,function(y,v){this._dequeuePendingRequest(d),k(y,v)}.bind(this))}catch(y){this._dequeuePendingRequest(d),k(y)}}else k(new Error("Transmit disabled"))},x.prototype.wait=function(d){C.isFunction(d)&&(this.waitCallback=d,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},x.prototype._applyPredicates=function(d){for(var k=null,S=0,U=this.predicates.length;S<U;S++)if(!(k=this.predicates[S](d,this.options))||void 0!==k.err)return{stop:!0,err:k.err};return{stop:!1,err:null}},x.prototype._makeApiRequest=function(d,k){var S=this.rateLimiter.shouldSend(d);S.shouldSend?this.api.postItem(d,function(U,P){U?this._maybeRetry(U,d,k):k(U,P)}.bind(this)):S.error?k(S.error):this.api.postItem(S.payload,k)};var w=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];x.prototype._maybeRetry=function(d,k,S){var U=!1;if(this.options.retryInterval){for(var P=0,y=w.length;P<y;P++)if(d.code===w[P]){U=!0;break}U&&C.isFiniteNumber(this.options.maxRetries)&&(k.retries=k.retries?k.retries+1:1,k.retries>this.options.maxRetries&&(U=!1))}U?this._retryApiRequest(k,S):S(d)},x.prototype._retryApiRequest=function(d,k){this.retryQueue.push({item:d,callback:k}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var S=this.retryQueue.shift();this._makeApiRequest(S.item,S.callback)}}.bind(this),this.options.retryInterval))},x.prototype._dequeuePendingRequest=function(d){var k=this.pendingRequests.indexOf(d);-1!==k&&(this.pendingRequests.splice(k,1),this._maybeCallWait())},x.prototype._maybeLog=function(d,k){if(this.logger&&this.options.verbose){var S=k;if(S=(S=S||C.get(d,"body.trace.exception.message"))||C.get(d,"body.trace_chain.0.exception.message"))return void this.logger.error(S);(S=C.get(d,"body.message.body"))&&this.logger.log(S)}},x.prototype._maybeCallWait=function(){return!(!C.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},i.exports=x},790:(i,u,f)=>{"use strict";var C=f(702);function x(k){this.startTime=C.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(k)}function w(k,S,U){return!k.ignoreRateLimit&&S>=1&&U>S}function d(k,S,U,P,y,v,M){var K,V,Y,G=null;return U&&(U=new Error(U)),U||P||(Y={body:{message:{body:M?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:y,itemsPerMinute:v}}},language:"javascript",environment:(V=S).environment||V.payload&&V.payload.environment,notifier:{version:V.notifier&&V.notifier.version||V.version}},"browser"===(K=k)?(Y.platform="browser",Y.framework="browser-js",Y.notifier.name="rollbar-browser-js"):"server"===K?(Y.framework=V.framework||"node-js",Y.notifier.name=V.notifier.name):"react-native"===K&&(Y.framework=V.framework||"react-native",Y.notifier.name=V.notifier.name),G=Y),{error:U,shouldSend:P,payload:G}}x.globalSettings={startTime:C.now(),maxItems:void 0,itemsPerMinute:void 0},x.prototype.configureGlobal=function(k){void 0!==k.startTime&&(x.globalSettings.startTime=k.startTime),void 0!==k.maxItems&&(x.globalSettings.maxItems=k.maxItems),void 0!==k.itemsPerMinute&&(x.globalSettings.itemsPerMinute=k.itemsPerMinute)},x.prototype.shouldSend=function(k,S){var U=(S=S||C.now())-this.startTime;(U<0||U>=6e4)&&(this.startTime=S,this.perMinCounter=0);var P=x.globalSettings.maxItems,y=x.globalSettings.itemsPerMinute;if(w(k,P,this.counter))return d(this.platform,this.platformOptions,P+" max items reached",!1);if(w(k,y,this.perMinCounter))return d(this.platform,this.platformOptions,y+" items per minute reached",!1);this.counter++,this.perMinCounter++;var v=!w(k,P,this.counter),M=v;return v=v&&!w(k,y,this.perMinCounter),d(this.platform,this.platformOptions,null,v,P,y,M)},x.prototype.setPlatformOptions=function(k,S){this.platform=k,this.platformOptions=S},i.exports=x},562:(i,u,f)=>{"use strict";var C=f(790),x=f(358),w=f(314),d=f(702);function k(P,y,v,M,G){this.options=d.merge(P),this.logger=v,k.rateLimiter.configureGlobal(this.options),k.rateLimiter.setPlatformOptions(G,this.options),this.api=y,this.queue=new x(k.rateLimiter,y,v,this.options);var K=this.options.tracer||null;U(K)?(this.tracer=K,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new w(this.queue,this.options),this.telemeter=M,S(P),this.lastError=null,this.lastErrorHash="none"}function S(P){P.stackTraceLimit&&(Error.stackTraceLimit=P.stackTraceLimit)}function U(P){if(!P||!P.scope||"function"!=typeof P.scope)return!1;var y=P.scope();return!(!y||!y.active||"function"!=typeof y.active)}k.rateLimiter=new C({maxItems:0,itemsPerMinute:60}),k.prototype.global=function(P){return k.rateLimiter.configureGlobal(P),this},k.prototype.configure=function(P,y){var M={};y&&(M={payload:y}),this.options=d.merge(this.options,P,M);var G=this.options.tracer||null;return U(G)?(this.tracer=G,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),S(P),this.global(this.options),U(P.tracer)&&(this.tracer=P.tracer),this},k.prototype.log=function(P){var y=this._defaultLogLevel();return this._log(y,P)},k.prototype.debug=function(P){this._log("debug",P)},k.prototype.info=function(P){this._log("info",P)},k.prototype.warn=function(P){this._log("warning",P)},k.prototype.warning=function(P){this._log("warning",P)},k.prototype.error=function(P){this._log("error",P)},k.prototype.critical=function(P){this._log("critical",P)},k.prototype.wait=function(P){this.queue.wait(P)},k.prototype.captureEvent=function(P,y,v){return this.telemeter&&this.telemeter.captureEvent(P,y,v)},k.prototype.captureDomContentLoaded=function(P){return this.telemeter&&this.telemeter.captureDomContentLoaded(P)},k.prototype.captureLoad=function(P){return this.telemeter&&this.telemeter.captureLoad(P)},k.prototype.buildJsonPayload=function(P){return this.api.buildJsonPayload(P)},k.prototype.sendJsonPayload=function(P){this.api.postJsonPayload(P)},k.prototype._log=function(P,y){var v;if(y.callback&&(v=y.callback,delete y.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(y)){if(v){var M=new Error("ignored identical item");M.item=y,v(M)}}else try{this._addTracingInfo(y),y.level=y.level||P,this.telemeter&&this.telemeter._captureRollbarItem(y),y.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(y,v)}catch(G){v&&v(G),this.logger.error(G)}},k.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},k.prototype._sameAsLastError=function(P){if(!P._isUncaught)return!1;var v,y=((v=P).message||"")+"::"+((v.err||{}).stack||String(v.err));return this.lastErrorHash===y||(this.lastError=P.err,this.lastErrorHash=y,!1)},k.prototype._addTracingInfo=function(P){if(this.tracer){var y=this.tracer.scope().active();if(function(G){if(!G||!G.context||"function"!=typeof G.context)return!1;var K=G.context();return!!(K&&K.toSpanId&&K.toTraceId&&"function"==typeof K.toSpanId&&"function"==typeof K.toTraceId)}(y)){y.setTag("rollbar.error_uuid",P.uuid),y.setTag("rollbar.has_error",!0),y.setTag("error",!0),y.setTag("rollbar.item_url",`https://rollbar.com/item/uuid/?uuid=${P.uuid}`),y.setTag("rollbar.occurrence_url",`https://rollbar.com/occurrence/uuid/?uuid=${P.uuid}`);var v=y.context().toSpanId(),M=y.context().toTraceId();P.custom?(P.custom.opentracing_span_id=v,P.custom.opentracing_trace_id=M):P.custom={opentracing_span_id:v,opentracing_trace_id:M}}}},i.exports=k},369:(i,u,f)=>{"use strict";var C=f(702),x=f(267);function w(d,k){var S=k.split("."),U=S.length-1;try{for(var P=0;P<=U;++P)P<U?d=d[S[P]]:d[S[P]]=C.redact()}catch{}}i.exports=function(d,k,S){if(k=k||[],S)for(var U=0;U<S.length;++U)w(d,S[U]);var P=function(M){for(var K=[],V=0;V<M.length;++V)K.push(new RegExp("^\\[?(%5[bB])?"+M[V]+"\\[?(%5[bB])?\\]?(%5[dD])?$","i"));return K}(k),y=function(M){for(var K=[],V=0;V<M.length;++V)K.push(new RegExp("(\\[?(%5[bB])?"+M[V]+"\\[?(%5[bB])?\\]?(%5[dD])?=)([^&\\n]+)","igm"));return K}(k);function v(M,G){return G+C.redact()}return x(d,function M(G,K,V){var Z=function(J,te){var ae;for(ae=0;ae<P.length;++ae)if(P[ae].test(J)){te=C.redact();break}return te}(G,K);return Z===K?C.isType(K,"object")||C.isType(K,"array")?x(K,M,V):function(J){var te;if(C.isType(J,"string"))for(te=0;te<y.length;++te)J=J.replace(y[te],v);return J}(Z):Z})}},773:(i,u,f)=>{"use strict";var C=f(702),x=100;function w(k){this.queue=[],this.options=C.merge(k),this.maxQueueSize=Math.max(0,Math.min(this.options.maxTelemetryEvents||x,x))}function d(k,S){return S||{error:"error",manual:"info"}[k]||"info"}w.prototype.configure=function(k){this.options=C.merge(this.options,k);var P=Math.max(0,Math.min(this.options.maxTelemetryEvents||x,x)),y=0;this.queue.length>P&&(y=this.queue.length-P),this.maxQueueSize=P,this.queue.splice(0,y)},w.prototype.copyEvents=function(){var k=Array.prototype.slice.call(this.queue,0);if(C.isFunction(this.options.filterTelemetry))try{for(var S=k.length;S--;)this.options.filterTelemetry(k[S])&&k.splice(S,1)}catch{this.options.filterTelemetry=null}return k},w.prototype.capture=function(k,S,U,P,y){var v={level:d(k,U),type:k,timestamp_ms:y||C.now(),body:S,source:"client"};P&&(v.uuid=P);try{if(C.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(v))return!1}catch{this.options.filterTelemetry=null}return this.push(v),v},w.prototype.captureEvent=function(k,S,U,P){return this.capture(k,S,U,P)},w.prototype.captureError=function(k,S,U,P){var y={message:k.message||String(k)};return k.stack&&(y.stack=k.stack),this.capture("error",y,S,U,P)},w.prototype.captureLog=function(k,S,U,P){return this.capture("log",{message:k},S,U,P)},w.prototype.captureNetwork=function(k,S,U,P){S=S||"xhr",k.subtype=k.subtype||S,P&&(k.request=P);var y=this.levelFromStatus(k.status_code);return this.capture("network",k,y,U)},w.prototype.levelFromStatus=function(k){return k>=200&&k<400?"info":0===k||k>=400?"error":"info"},w.prototype.captureDom=function(k,S,U,P,y){var v={subtype:k,element:S};return void 0!==U&&(v.value=U),void 0!==P&&(v.checked=P),this.capture("dom",v,"info",y)},w.prototype.captureNavigation=function(k,S,U){return this.capture("navigation",{from:k,to:S},"info",U)},w.prototype.captureDomContentLoaded=function(k){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,k&&k.getTime())},w.prototype.captureLoad=function(k){return this.capture("navigation",{subtype:"load"},"info",void 0,k&&k.getTime())},w.prototype.captureConnectivityChange=function(k,S){return this.captureNetwork({change:k},"connectivity",S)},w.prototype._captureRollbarItem=function(k){if(this.options.includeItemsInTelemetry)return k.err?this.captureError(k.err,k.level,k.uuid,k.timestamp):k.message?this.captureLog(k.message,k.level,k.uuid,k.timestamp):k.custom?this.capture("log",k.custom,k.level,k.uuid,k.timestamp):void 0},w.prototype.push=function(k){this.queue.push(k),this.queue.length>this.maxQueueSize&&this.queue.shift()},i.exports=w},417:(i,u,f)=>{"use strict";var C=f(702);function x(w,d){C.isFunction(w[d])&&(w[d]=w[d].toString())}i.exports={itemToPayload:function(w,d,k){var S=w.data;w._isUncaught&&(S._isUncaught=!0),w._originalArgs&&(S._originalArgs=w._originalArgs),k(null,S)},addPayloadOptions:function(w,d,k){var S=d.payload||{};S.body&&delete S.body,w.data=C.merge(w.data,S),k(null,w)},addTelemetryData:function(w,d,k){w.telemetryEvents&&C.set(w,"data.body.telemetry",w.telemetryEvents),k(null,w)},addMessageWithError:function(w,d,k){if(w.message){var S="data.body.trace_chain.0",U=C.get(w,S);if(U||(U=C.get(w,S="data.body.trace")),U){if(!U.exception||!U.exception.description)return C.set(w,S+".exception.description",w.message),void k(null,w);var P=C.get(w,S+".extra")||{},y=C.merge(P,{message:w.message});C.set(w,S+".extra",y)}k(null,w)}else k(null,w)},userTransform:function(w){return function(d,k,S){var U=C.merge(d),P=null;try{C.isFunction(k.transform)&&(P=k.transform(U.data,d))}catch(y){return k.transform=null,w.error("Error while calling custom transform() function. Removing custom transform().",y),void S(null,d)}C.isPromise(P)?P.then(function(y){y&&(U.data=y),S(null,U)},function(y){S(y,d)}):S(null,U)}},addConfigToPayload:function(w,d,k){if(!d.sendConfig)return k(null,w);var S=C.get(w,"data.custom")||{};S._rollbarConfig=d,w.data.custom=S,k(null,w)},addConfiguredOptions:function(w,d,k){var S=d._configuredOptions;x(S,"transform"),x(S,"checkIgnore"),x(S,"onSendCallback"),delete S.accessToken,w.data.notifier.configured_options=S,k(null,w)},addDiagnosticKeys:function(w,d,k){var S=C.merge(w.notifier.client.notifier.diagnostic,w.diagnostic);if(C.get(w,"err._isAnonymous")&&(S.is_anonymous=!0),w._isUncaught&&(S.is_uncaught=w._isUncaught),w.err)try{S.raw_error={message:w.err.message,name:w.err.name,constructor_name:w.err.constructor&&w.err.constructor.name,filename:w.err.fileName,line:w.err.lineNumber,column:w.err.columnNumber,stack:w.err.stack}}catch(U){S.raw_error={failed:String(U)}}w.data.notifier.diagnostic=C.merge(w.data.notifier.diagnostic,S),k(null,w)}}},473:(i,u,f)=>{"use strict";var C=f(702),x=f(267);function w(M,G){return[M,C.stringify(M,G)]}function d(M,G){var K=M.length;return K>2*G?M.slice(0,G).concat(M.slice(K-G)):M}function k(M,G,K){K=void 0===K?30:K;var V,Z=M.data.body;if(Z.trace_chain)for(var J=Z.trace_chain,te=0;te<J.length;te++)V=d(V=J[te].frames,K),J[te].frames=V;else Z.trace&&(V=d(V=Z.trace.frames,K),Z.trace.frames=V);return[M,C.stringify(M,G)]}function S(M,G){return G&&G.length>M?G.slice(0,M-3).concat("..."):G}function U(M,G,K){return[G=x(G,function V(Z,J,te){switch(C.typeName(J)){case"string":return S(M,J);case"object":case"array":return x(J,V,te);default:return J}}),C.stringify(G,K)]}function P(M){return M.exception&&(delete M.exception.description,M.exception.message=S(255,M.exception.message)),M.frames=d(M.frames,1),M}function y(M,G){var K=M.data.body;if(K.trace_chain)for(var V=K.trace_chain,Z=0;Z<V.length;Z++)V[Z]=P(V[Z]);else K.trace&&(K.trace=P(K.trace));return[M,C.stringify(M,G)]}function v(M,G){return C.maxByteSize(M)>G}i.exports={truncate:function(M,G,K){K=void 0===K?524288:K;for(var V,Z,J,te=[w,k,U.bind(null,1024),U.bind(null,512),U.bind(null,256),y];V=te.shift();)if(M=(Z=V(M,G))[0],(J=Z[1]).error||!v(J.value,K))return J;return J},raw:w,truncateFrames:k,truncateStrings:U,maybeTruncateValue:S}},702:(i,u,f)=>{"use strict";var C=f(420),x={};function w(te,ae){return ae===d(te)}function d(te){var ae=typeof te;return"object"!==ae?ae:te?te instanceof Error?"error":{}.toString.call(te).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function k(te){return w(te,"function")}function S(te){var ae=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),Y=RegExp("^"+ae+"$");return U(te)&&Y.test(te)}function U(te){var ae=typeof te;return null!=te&&("object"==ae||"function"==ae)}function P(){var te=J();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ae){var Y=(te+16*Math.random())%16|0;return te=Math.floor(te/16),("x"===ae?Y:7&Y|8).toString(16)})}var y={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function v(te,ae){var Y,$;try{Y=x.stringify(te)}catch(H){if(ae&&k(ae))try{Y=ae(te)}catch(me){$=me}else $=H}return{error:$,value:Y}}function M(te,ae){return function(Y,$){try{ae(Y,$)}catch(H){te.error(H)}}}function G(te){return function ae(Y,$){var H,me,B,ce={};try{for(me in Y)(H=Y[me])&&(w(H,"object")||w(H,"array"))?$.includes(H)?ce[me]="Removed circular reference: "+d(H):((B=$.slice()).push(H),ce[me]=ae(H,B)):ce[me]=H}catch(Oe){ce="Failed cloning custom data: "+Oe.message}return ce}(te,[te])}var K=["log","network","dom","navigation","error","manual"],V=["critical","error","warning","info","debug"];function Z(te,ae){for(var Y=0;Y<te.length;++Y)if(te[Y]===ae)return!0;return!1}function J(){return Date.now?+Date.now():+new Date}i.exports={addParamsAndAccessTokenToPath:function(te,ae,Y){(Y=Y||{}).access_token=te;var $,H=[];for($ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&H.push([$,Y[$]].join("="));var me="?"+H.sort().join("&");(ae=ae||{}).path=ae.path||"";var B,ce=ae.path.indexOf("?"),Oe=ae.path.indexOf("#");ae.path=-1!==ce&&(-1===Oe||Oe>ce)?(B=ae.path).substring(0,ce)+me+"&"+B.substring(ce+1):-1!==Oe?(B=ae.path).substring(0,Oe)+me+B.substring(Oe):ae.path+me},createItem:function(te,ae,Y,$,H){for(var me,B,ce,Oe,Ue,qe,_e=[],ht=[],Bt=0,de=te.length;Bt<de;++Bt){var R=d(qe=te[Bt]);switch(ht.push(R),R){case"undefined":break;case"string":me?_e.push(qe):me=qe;break;case"function":Oe=M(ae,qe);break;case"date":_e.push(qe);break;case"error":case"domexception":case"exception":B?_e.push(qe):B=qe;break;case"object":case"array":if(qe instanceof Error||typeof DOMException<"u"&&qe instanceof DOMException){B?_e.push(qe):B=qe;break}if($&&"object"===R&&!Ue){for(var j=0,he=$.length;j<he;++j)if(void 0!==qe[$[j]]){Ue=qe;break}if(Ue)break}ce?_e.push(qe):ce=qe;break;default:if(qe instanceof Error||typeof DOMException<"u"&&qe instanceof DOMException){B?_e.push(qe):B=qe;break}_e.push(qe)}}ce&&(ce=G(ce)),_e.length>0&&(ce||(ce=G({})),ce.extraArgs=G(_e));var Re,pt,Ce={message:me,err:B,custom:ce,timestamp:J(),callback:Oe,notifier:Y,diagnostic:{},uuid:P()};return Re=Ce,(pt=ce)&&void 0!==pt.level&&(Re.level=pt.level,delete pt.level),pt&&void 0!==pt.skipFrames&&(Re.skipFrames=pt.skipFrames,delete pt.skipFrames),$&&Ue&&(Ce.request=Ue),H&&(Ce.lambdaContext=H),Ce._originalArgs=te,Ce.diagnostic.original_arg_types=ht,Ce},addErrorContext:function(te,ae){var Y=te.data.custom||{},$=!1;try{for(var H=0;H<ae.length;++H)ae[H].hasOwnProperty("rollbarContext")&&(Y=C(Y,G(ae[H].rollbarContext)),$=!0);$&&(te.data.custom=Y)}catch(me){te.diagnostic.error_context="Failed: "+me.message}},createTelemetryEvent:function(te){for(var ae,Y,$,H,me=0,B=te.length;me<B;++me)switch(d(H=te[me])){case"string":!ae&&Z(K,H)?ae=H:!$&&Z(V,H)&&($=H);break;case"object":Y=H}return{type:ae||"manual",metadata:Y||{},level:$}},filterIp:function(te,ae){if(te&&te.user_ip&&!0!==ae){var Y=te.user_ip;if(ae)try{var $;if(-1!==Y.indexOf("."))($=Y.split(".")).pop(),$.push("0"),Y=$.join(".");else if(-1!==Y.indexOf(":")){if(($=Y.split(":")).length>2){var H=$.slice(0,3),me=H[2].indexOf("/");-1!==me&&(H[2]=H[2].substring(0,me)),Y=H.concat("0000:0000:0000:0000:0000").join(":")}}else Y=null}catch{Y=null}else Y=null;te.user_ip=Y}},formatArgsAsString:function(te){var ae,Y,$,H=[];for(ae=0,Y=te.length;ae<Y;++ae){switch(d($=te[ae])){case"object":($=($=v($)).error||$.value).length>500&&($=$.substr(0,497)+"...");break;case"null":$="null";break;case"undefined":$="undefined";break;case"symbol":$=$.toString()}H.push($)}return H.join(" ")},formatUrl:function(te,ae){if(!(ae=ae||te.protocol)&&te.port&&(80===te.port?ae="http:":443===te.port&&(ae="https:")),!te.hostname)return null;var Y=(ae=ae||"https:")+"//"+te.hostname;return te.port&&(Y=Y+":"+te.port),te.path&&(Y+=te.path),Y},get:function(te,ae){if(te){var Y=ae.split("."),$=te;try{for(var H=0,me=Y.length;H<me;++H)$=$[Y[H]]}catch{$=void 0}return $}},handleOptions:function(te,ae,Y,$){var me,B,H=C(te,ae,Y);return B=$,(me=H).hostWhiteList&&!me.hostSafeList&&(me.hostSafeList=me.hostWhiteList,me.hostWhiteList=void 0,B&&B.log("hostWhiteList is deprecated. Use hostSafeList.")),me.hostBlackList&&!me.hostBlockList&&(me.hostBlockList=me.hostBlackList,me.hostBlackList=void 0,B&&B.log("hostBlackList is deprecated. Use hostBlockList.")),H=me,!ae||ae.overwriteScrubFields||ae.scrubFields&&(H.scrubFields=(te.scrubFields||[]).concat(ae.scrubFields)),H},isError:function(te){return w(te,"error")||w(te,"exception")},isFiniteNumber:function(te){return Number.isFinite(te)},isFunction:k,isIterable:function(te){var ae=d(te);return"object"===ae||"array"===ae},isNativeFunction:S,isObject:U,isString:function(te){return"string"==typeof te||te instanceof String},isType:w,isPromise:function(te){return U(te)&&w(te.then,"function")},jsonParse:function(te){var ae,Y;try{ae=x.parse(te)}catch($){Y=$}return{error:Y,value:ae}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(te,ae,Y,$,H,me,B,ce){var Oe={url:ae||"",line:Y,column:$};Oe.func=ce.guessFunctionName(Oe.url,Oe.line),Oe.context=ce.gatherContext(Oe.url,Oe.line);var Ue=typeof document<"u"&&document&&document.location&&document.location.href,qe=typeof window<"u"&&window&&window.navigator&&window.navigator.userAgent;return{mode:me,message:H?String(H):te||B,url:Ue,stack:[Oe],useragent:qe}},merge:C,now:J,redact:function(){return"********"},RollbarJSON:x,sanitizeUrl:function(te){var ae=function(Y){if(w(Y,"string")){for(var $=y,H=$.parser[$.strictMode?"strict":"loose"].exec(Y),me={},B=0,ce=$.key.length;B<ce;++B)me[$.key[B]]=H[B]||"";return me[$.q.name]={},me[$.key[12]].replace($.q.parser,function(Oe,Ue,qe){Ue&&(me[$.q.name][Ue]=qe)}),me}}(te);return ae?(""===ae.anchor&&(ae.source=ae.source.replace("#","")),te=ae.source.replace("?"+ae.query,"")):"(unknown)"},set:function(te,ae,Y){if(te){var $=ae.split("."),H=$.length;if(!(H<1))if(1!==H)try{for(var me=te[$[0]]||{},B=me,ce=1;ce<H-1;++ce)me[$[ce]]=me[$[ce]]||{},me=me[$[ce]];me[$[H-1]]=Y,te[$[0]]=B}catch{return}else te[$[0]]=Y}},setupJSON:function(te){k(x.stringify)&&k(x.parse)||(w(JSON,"undefined")||(te?(S(JSON.stringify)&&(x.stringify=JSON.stringify),S(JSON.parse)&&(x.parse=JSON.parse)):(k(JSON.stringify)&&(x.stringify=JSON.stringify),k(JSON.parse)&&(x.parse=JSON.parse))),k(x.stringify)&&k(x.parse)||te&&te(x))},stringify:v,maxByteSize:function(te){for(var ae=0,Y=te.length,$=0;$<Y;$++){var H=te.charCodeAt($);H<128?ae+=1:H<2048?ae+=2:H<65536&&(ae+=3)}return ae},typeName:d,uuid4:P}},650:i=>{"use strict";function u(C){return"string"!=typeof C&&(C=String(C)),C.toLowerCase()}function f(C){this.map={},C instanceof f?C.forEach(function(x,w){this.append(w,x)},this):Array.isArray(C)?C.forEach(function(x){this.append(x[0],x[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(x){this.append(x,C[x])},this)}f.prototype.append=function(C,x){var d;C=u(C),"string"!=typeof(d=x)&&(d=String(d)),x=d;var w=this.map[C];this.map[C]=w?w+", "+x:x},f.prototype.get=function(C){return C=u(C),this.has(C)?this.map[C]:null},f.prototype.has=function(C){return this.map.hasOwnProperty(u(C))},f.prototype.forEach=function(C,x){for(var w in this.map)this.map.hasOwnProperty(w)&&C.call(x,this.map[w],w,this)},f.prototype.entries=function(){var C=[];return this.forEach(function(x,w){C.push([w,x])}),function(x){return{next:function(){var w=x.shift();return{done:void 0===w,value:w}}}}(C)},i.exports=function(C){return typeof Headers>"u"?new f(C):new Headers(C)}},876:(i,u,f)=>{"use strict";var C=f(708);i.exports=C},297:i=>{"use strict";i.exports=function(u,f,C,x,w){var d=u[f];u[f]=C(d),x&&x[w].push([u,f,d])}},267:(i,u,f)=>{"use strict";var C=f(702);i.exports=function(x,w,d){var k,S,U,P,y=C.isType(x,"object"),v=C.isType(x,"array"),M=[];if(d=d||{obj:[],mapped:[]},y){if(P=d.obj.indexOf(x),y&&-1!==P)return d.mapped[P]||d.obj[P];d.obj.push(x),P=d.obj.length-1}if(y)for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&M.push(k);else if(v)for(U=0;U<x.length;++U)M.push(U);var G=y?{}:[],K=!0;for(U=0;U<M.length;++U)S=x[k=M[U]],G[k]=w(k,S,d),K=K&&G[k]===x[k];return y&&!K&&(d.mapped[P]=G),K?x:G}},708:i=>{i.exports=function(u){var f,C,x,w,d,k,S,U,P,y,v,M,G,K=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function V(ae){return ae<10?"0"+ae:ae}function Z(){return this.valueOf()}function J(ae){return K.lastIndex=0,K.test(ae)?'"'+ae.replace(K,function(Y){var $=x[Y];return"string"==typeof $?$:"\\u"+("0000"+Y.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+ae+'"'}function te(ae,Y){var $,H,me,B,ce,Oe=f,Ue=Y[ae];switch(Ue&&"object"==typeof Ue&&"function"==typeof Ue.toJSON&&(Ue=Ue.toJSON(ae)),"function"==typeof w&&(Ue=w.call(Y,ae,Ue)),typeof Ue){case"string":return J(Ue);case"number":return isFinite(Ue)?String(Ue):"null";case"boolean":case"null":return String(Ue);case"object":if(!Ue)return"null";if(f+=C,ce=[],"[object Array]"===Object.prototype.toString.apply(Ue)){for(B=Ue.length,$=0;$<B;$+=1)ce[$]=te($,Ue)||"null";return me=0===ce.length?"[]":f?"[\n"+f+ce.join(",\n"+f)+"\n"+Oe+"]":"["+ce.join(",")+"]",f=Oe,me}if(w&&"object"==typeof w)for(B=w.length,$=0;$<B;$+=1)"string"==typeof w[$]&&(me=te(H=w[$],Ue))&&ce.push(J(H)+(f?": ":":")+me);else for(H in Ue)Object.prototype.hasOwnProperty.call(Ue,H)&&(me=te(H,Ue))&&ce.push(J(H)+(f?": ":":")+me);return me=0===ce.length?"{}":f?"{\n"+f+ce.join(",\n"+f)+"\n"+Oe+"}":"{"+ce.join(",")+"}",f=Oe,me}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+V(this.getUTCMonth()+1)+"-"+V(this.getUTCDate())+"T"+V(this.getUTCHours())+":"+V(this.getUTCMinutes())+":"+V(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=Z,Number.prototype.toJSON=Z,String.prototype.toJSON=Z),"function"!=typeof u.stringify&&(x={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u.stringify=function(ae,Y,$){var H;if(f="",C="","number"==typeof $)for(H=0;H<$;H+=1)C+=" ";else"string"==typeof $&&(C=$);if(w=Y,Y&&"function"!=typeof Y&&("object"!=typeof Y||"number"!=typeof Y.length))throw new Error("JSON.stringify");return te("",{"":ae})}),"function"!=typeof u.parse&&(u.parse=(y={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},v={go:function(){d="ok"},firstokey:function(){U=P,d="colon"},okey:function(){U=P,d="colon"},ovalue:function(){d="ocomma"},firstavalue:function(){d="acomma"},avalue:function(){d="acomma"}},M={go:function(){d="ok"},ovalue:function(){d="ocomma"},firstavalue:function(){d="acomma"},avalue:function(){d="acomma"}},G={"{":{go:function(){k.push({state:"ok"}),S={},d="firstokey"},ovalue:function(){k.push({container:S,state:"ocomma",key:U}),S={},d="firstokey"},firstavalue:function(){k.push({container:S,state:"acomma"}),S={},d="firstokey"},avalue:function(){k.push({container:S,state:"acomma"}),S={},d="firstokey"}},"}":{firstokey:function(){var ae=k.pop();P=S,S=ae.container,U=ae.key,d=ae.state},ocomma:function(){var ae=k.pop();S[U]=P,P=S,S=ae.container,U=ae.key,d=ae.state}},"[":{go:function(){k.push({state:"ok"}),S=[],d="firstavalue"},ovalue:function(){k.push({container:S,state:"ocomma",key:U}),S=[],d="firstavalue"},firstavalue:function(){k.push({container:S,state:"acomma"}),S=[],d="firstavalue"},avalue:function(){k.push({container:S,state:"acomma"}),S=[],d="firstavalue"}},"]":{firstavalue:function(){var ae=k.pop();P=S,S=ae.container,U=ae.key,d=ae.state},acomma:function(){var ae=k.pop();S.push(P),P=S,S=ae.container,U=ae.key,d=ae.state}},":":{colon:function(){if(Object.hasOwnProperty.call(S,U))throw new SyntaxError("Duplicate key '"+U+'"');d="ovalue"}},",":{ocomma:function(){S[U]=P,d="okey"},acomma:function(){S.push(P),d="avalue"}},true:{go:function(){P=!0,d="ok"},ovalue:function(){P=!0,d="ocomma"},firstavalue:function(){P=!0,d="acomma"},avalue:function(){P=!0,d="acomma"}},false:{go:function(){P=!1,d="ok"},ovalue:function(){P=!1,d="ocomma"},firstavalue:function(){P=!1,d="acomma"},avalue:function(){P=!1,d="acomma"}},null:{go:function(){P=null,d="ok"},ovalue:function(){P=null,d="ocomma"},firstavalue:function(){P=null,d="acomma"},avalue:function(){P=null,d="acomma"}}},function(ae,Y){var $,me=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;d="go",k=[];try{for(;$=me.exec(ae);)$[1]?G[$[1]][d]():$[2]?(P=+$[2],M[d]()):(P=$[3].replace(/\\(?:u(.{4})|([^u]))/g,function(B,ce,Oe){return ce?String.fromCharCode(parseInt(ce,16)):y[Oe]}),v[d]()),ae=ae.slice($[0].length)}catch(B){d=B}if("ok"!==d||/[^\u0020\t\n\r]/.test(ae))throw d instanceof SyntaxError?d:new SyntaxError("JSON");return"function"==typeof Y?function B(ce,Oe){var Ue,qe,_e=ce[Oe];if(_e&&"object"==typeof _e)for(Ue in P)Object.prototype.hasOwnProperty.call(_e,Ue)&&(void 0!==(qe=B(_e,Ue))?_e[Ue]=qe:delete _e[Ue]);return Y.call(ce,Oe,_e)}({"":P},""):P}))}}},E={},function i(u){var f=E[u];if(void 0!==f)return f.exports;var C=E[u]={exports:{}};return Ve[u].call(C.exports,C,C.exports,i),C.exports}(409);var Ve,E},en.exports=E()},29160:(en,Ve,E)=>{"use strict";E.d(Ve,{t:()=>u});var i=E(85052);class u extends i.B{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const x=super._subscribe(C);return!x.closed&&C.next(this._value),x}getValue(){const{hasError:C,thrownError:x,_value:w}=this;if(C)throw x;return this._throwIfClosed(),w}next(C){super.next(this._value=C)}}},2573:(en,Ve,E)=>{"use strict";E.d(Ve,{c:()=>k});var i=E(36567),u=E(81027),f=E(76138),C=E(37479),x=E(8502),w=E(34403),d=E(32926);let k=(()=>{class y{constructor(M){M&&(this._subscribe=M)}lift(M){const G=new y;return G.source=this,G.operator=M,G}subscribe(M,G,K){const V=function P(y){return y&&y instanceof i.vU||function U(y){return y&&(0,w.T)(y.next)&&(0,w.T)(y.error)&&(0,w.T)(y.complete)}(y)&&(0,u.Uv)(y)}(M)?M:new i.Ms(M,G,K);return(0,d.Y)(()=>{const{operator:Z,source:J}=this;V.add(Z?Z.call(V,J):J?this._subscribe(V):this._trySubscribe(V))}),V}_trySubscribe(M){try{return this._subscribe(M)}catch(G){M.error(G)}}forEach(M,G){return new(G=S(G))((K,V)=>{const Z=new i.Ms({next:J=>{try{M(J)}catch(te){V(te),Z.unsubscribe()}},error:V,complete:K});this.subscribe(Z)})}_subscribe(M){var G;return null===(G=this.source)||void 0===G?void 0:G.subscribe(M)}[f.s](){return this}pipe(...M){return(0,C.m)(M)(this)}toPromise(M){return new(M=S(M))((G,K)=>{let V;this.subscribe(Z=>V=Z,Z=>K(Z),()=>G(V))})}}return y.create=v=>new y(v),y})();function S(y){var v;return null!==(v=y??x.$.Promise)&&void 0!==v?v:Promise}},60391:(en,Ve,E)=>{"use strict";E.d(Ve,{m:()=>f});var i=E(85052),u=E(59309);class f extends i.B{constructor(x=1/0,w=1/0,d=u.U){super(),this._bufferSize=x,this._windowTime=w,this._timestampProvider=d,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=w===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,w)}next(x){const{isStopped:w,_buffer:d,_infiniteTimeWindow:k,_timestampProvider:S,_windowTime:U}=this;w||(d.push(x),!k&&d.push(S.now()+U)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const w=this._innerSubscribe(x),{_infiniteTimeWindow:d,_buffer:k}=this,S=k.slice();for(let U=0;U<S.length&&!x.closed;U+=d?1:2)x.next(S[U]);return this._checkFinalizedStatuses(x),w}_trimBuffer(){const{_bufferSize:x,_timestampProvider:w,_buffer:d,_infiniteTimeWindow:k}=this,S=(k?1:2)*x;if(x<1/0&&S<d.length&&d.splice(0,d.length-S),!k){const U=w.now();let P=0;for(let y=1;y<d.length&&d[y]<=U;y+=2)P=y;P&&d.splice(0,P+1)}}}},85052:(en,Ve,E)=>{"use strict";E.d(Ve,{B:()=>d});var i=E(2573),u=E(81027);const C=(0,E(87385).L)(S=>function(){S(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=E(67584),w=E(32926);let d=(()=>{class S extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(P){const y=new k(this,this);return y.operator=P,y}_throwIfClosed(){if(this.closed)throw new C}next(P){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const y of this.currentObservers)y.next(P)}})}error(P){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=P;const{observers:y}=this;for(;y.length;)y.shift().error(P)}})}complete(){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:P}=this;for(;P.length;)P.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var P;return(null===(P=this.observers)||void 0===P?void 0:P.length)>0}_trySubscribe(P){return this._throwIfClosed(),super._trySubscribe(P)}_subscribe(P){return this._throwIfClosed(),this._checkFinalizedStatuses(P),this._innerSubscribe(P)}_innerSubscribe(P){const{hasError:y,isStopped:v,observers:M}=this;return y||v?u.Kn:(this.currentObservers=null,M.push(P),new u.yU(()=>{this.currentObservers=null,(0,x.o)(M,P)}))}_checkFinalizedStatuses(P){const{hasError:y,thrownError:v,isStopped:M}=this;y?P.error(v):M&&P.complete()}asObservable(){const P=new i.c;return P.source=this,P}}return S.create=(U,P)=>new k(U,P),S})();class k extends d{constructor(U,P){super(),this.destination=U,this.source=P}next(U){var P,y;null===(y=null===(P=this.destination)||void 0===P?void 0:P.next)||void 0===y||y.call(P,U)}error(U){var P,y;null===(y=null===(P=this.destination)||void 0===P?void 0:P.error)||void 0===y||y.call(P,U)}complete(){var U,P;null===(P=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===P||P.call(U)}_subscribe(U){var P,y;return null!==(y=null===(P=this.source)||void 0===P?void 0:P.subscribe(U))&&void 0!==y?y:u.Kn}}},36567:(en,Ve,E)=>{"use strict";E.d(Ve,{Ms:()=>K,vU:()=>y});var i=E(34403),u=E(81027),f=E(8502),C=E(46642),x=E(19827);const w=S("C",void 0,void 0);function S(ae,Y,$){return{kind:ae,value:Y,error:$}}var U=E(12386),P=E(32926);class y extends u.yU{constructor(Y){super(),this.isStopped=!1,Y?(this.destination=Y,(0,u.Uv)(Y)&&Y.add(this)):this.destination=te}static create(Y,$,H){return new K(Y,$,H)}next(Y){this.isStopped?J(function k(ae){return S("N",ae,void 0)}(Y),this):this._next(Y)}error(Y){this.isStopped?J(function d(ae){return S("E",void 0,ae)}(Y),this):(this.isStopped=!0,this._error(Y))}complete(){this.isStopped?J(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Y){this.destination.next(Y)}_error(Y){try{this.destination.error(Y)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const v=Function.prototype.bind;function M(ae,Y){return v.call(ae,Y)}class G{constructor(Y){this.partialObserver=Y}next(Y){const{partialObserver:$}=this;if($.next)try{$.next(Y)}catch(H){V(H)}}error(Y){const{partialObserver:$}=this;if($.error)try{$.error(Y)}catch(H){V(H)}else V(Y)}complete(){const{partialObserver:Y}=this;if(Y.complete)try{Y.complete()}catch($){V($)}}}class K extends y{constructor(Y,$,H){let me;if(super(),(0,i.T)(Y)||!Y)me={next:Y??void 0,error:$??void 0,complete:H??void 0};else{let B;this&&f.$.useDeprecatedNextContext?(B=Object.create(Y),B.unsubscribe=()=>this.unsubscribe(),me={next:Y.next&&M(Y.next,B),error:Y.error&&M(Y.error,B),complete:Y.complete&&M(Y.complete,B)}):me=Y}this.destination=new G(me)}}function V(ae){f.$.useDeprecatedSynchronousErrorHandling?(0,P.l)(ae):(0,C.m)(ae)}function J(ae,Y){const{onStoppedNotification:$}=f.$;$&&U.f.setTimeout(()=>$(ae,Y))}const te={closed:!0,next:x.l,error:function Z(ae){throw ae},complete:x.l}},81027:(en,Ve,E)=>{"use strict";E.d(Ve,{Kn:()=>w,yU:()=>x,Uv:()=>d});var i=E(34403);const f=(0,E(87385).L)(S=>function(P){S(this),this.message=P?`${P.length} errors occurred during unsubscription:\n${P.map((y,v)=>`${v+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=P});var C=E(67584);class x{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:P}=this;if(P)if(this._parentage=null,Array.isArray(P))for(const M of P)M.remove(this);else P.remove(this);const{initialTeardown:y}=this;if((0,i.T)(y))try{y()}catch(M){U=M instanceof f?M.errors:[M]}const{_finalizers:v}=this;if(v){this._finalizers=null;for(const M of v)try{k(M)}catch(G){U=U??[],G instanceof f?U=[...U,...G.errors]:U.push(G)}}if(U)throw new f(U)}}add(U){var P;if(U&&U!==this)if(this.closed)k(U);else{if(U instanceof x){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(P=this._finalizers)&&void 0!==P?P:[]).push(U)}}_hasParent(U){const{_parentage:P}=this;return P===U||Array.isArray(P)&&P.includes(U)}_addParent(U){const{_parentage:P}=this;this._parentage=Array.isArray(P)?(P.push(U),P):P?[P,U]:U}_removeParent(U){const{_parentage:P}=this;P===U?this._parentage=null:Array.isArray(P)&&(0,C.o)(P,U)}remove(U){const{_finalizers:P}=this;P&&(0,C.o)(P,U),U instanceof x&&U._removeParent(this)}}x.EMPTY=(()=>{const S=new x;return S.closed=!0,S})();const w=x.EMPTY;function d(S){return S instanceof x||S&&"closed"in S&&(0,i.T)(S.remove)&&(0,i.T)(S.add)&&(0,i.T)(S.unsubscribe)}function k(S){(0,i.T)(S)?S():S.unsubscribe()}},8502:(en,Ve,E)=>{"use strict";E.d(Ve,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},40215:(en,Ve,E)=>{"use strict";E.d(Ve,{_:()=>f});var i=E(50330),u=E(36567);function f(C,x){const w="object"==typeof x;return new Promise((d,k)=>{const S=new u.Ms({next:U=>{d(U),S.unsubscribe()},error:k,complete:()=>{w?d(x.defaultValue):k(new i.G)}});C.subscribe(S)})}},7221:(en,Ve,E)=>{"use strict";E.d(Ve,{G:()=>w});var i=E(2573),u=E(81027),f=E(44710),C=E(66196),x=E(15210);class w extends i.c{constructor(k,S){super(),this.source=k,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,x.S)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new u.yU;const S=this.getSubject();k.add(this.source.subscribe((0,C._)(S,void 0,()=>{this._teardown(),S.complete()},U=>{this._teardown(),S.error(U)},()=>this._teardown()))),k.closed&&(this._connection=null,k=u.yU.EMPTY)}return k}refCount(){return(0,f.B)()(this)}}},82656:(en,Ve,E)=>{"use strict";E.d(Ve,{z:()=>U});var i=E(2573),u=E(15437),f=E(21472),C=E(19577),x=E(7694),w=E(17106),d=E(25436),k=E(66196),S=E(82733);function U(...v){const M=(0,w.lI)(v),G=(0,w.ms)(v),{args:K,keys:V}=(0,u.D)(v);if(0===K.length)return(0,f.H)([],M);const Z=new i.c(function P(v,M,G=C.D){return K=>{y(M,()=>{const{length:V}=v,Z=new Array(V);let J=V,te=V;for(let ae=0;ae<V;ae++)y(M,()=>{const Y=(0,f.H)(v[ae],M);let $=!1;Y.subscribe((0,k._)(K,H=>{Z[ae]=H,$||($=!0,te--),te||K.next(G(Z.slice()))},()=>{--J||K.complete()}))},K)},K)}}(K,M,V?J=>(0,d.e)(V,J):C.D));return G?Z.pipe((0,x.I)(G)):Z}function y(v,M,G){v?(0,S.N)(G,v,M):M()}},35892:(en,Ve,E)=>{"use strict";E.d(Ve,{x:()=>C});var i=E(26727),u=E(17106),f=E(21472);function C(...x){return(0,i.K)()((0,f.H)(x,(0,u.lI)(x)))}},45946:(en,Ve,E)=>{"use strict";E.d(Ve,{v:()=>f});var i=E(2573),u=E(81954);function f(C){return new i.c(x=>{(0,u.Tg)(C()).subscribe(x)})}},26047:(en,Ve,E)=>{"use strict";E.d(Ve,{d:()=>C});var i=E(2573);const u={now:()=>(u.delegate||performance).now(),delegate:void 0};var f=E(40812);function C(d){return d?x(d):w}function x(d){return new i.c(k=>{const S=d||u,U=S.now();let P=0;const y=()=>{k.closed||(P=f.H.requestAnimationFrame(v=>{P=0;const M=S.now();k.next({timestamp:d?M:v,elapsed:M-U}),y()}))};return y(),()=>{P&&f.H.cancelAnimationFrame(P)}})}const w=x()},2515:(en,Ve,E)=>{"use strict";E.d(Ve,{I:()=>f,w:()=>u});var i=E(2573);const u=new i.c(x=>x.complete());function f(x){return x?function C(x){return new i.c(w=>x.schedule(()=>w.complete()))}(x):u}},46104:(en,Ve,E)=>{"use strict";E.d(Ve,{p:()=>k});var i=E(2573),u=E(15437),f=E(81954),C=E(17106),x=E(66196),w=E(7694),d=E(25436);function k(...S){const U=(0,C.ms)(S),{args:P,keys:y}=(0,u.D)(S),v=new i.c(M=>{const{length:G}=P;if(!G)return void M.complete();const K=new Array(G);let V=G,Z=G;for(let J=0;J<G;J++){let te=!1;(0,f.Tg)(P[J]).subscribe((0,x._)(M,ae=>{te||(te=!0,Z--),K[J]=ae},()=>V--,void 0,()=>{(!V||!te)&&(Z||M.next(y?(0,d.e)(y,K):K),M.complete())}))}});return U?v.pipe((0,w.I)(U)):v}},21472:(en,Ve,E)=>{"use strict";E.d(Ve,{H:()=>f});var i=E(7974),u=E(81954);function f(C,x){return x?(0,i.c)(C,x):(0,u.Tg)(C)}},35426:(en,Ve,E)=>{"use strict";E.d(Ve,{R:()=>U});var i=E(81954),u=E(2573),f=E(11756),C=E(48629),x=E(34403),w=E(7694);const d=["addListener","removeListener"],k=["addEventListener","removeEventListener"],S=["on","off"];function U(G,K,V,Z){if((0,x.T)(V)&&(Z=V,V=void 0),Z)return U(G,K,V).pipe((0,w.I)(Z));const[J,te]=function M(G){return(0,x.T)(G.addEventListener)&&(0,x.T)(G.removeEventListener)}(G)?k.map(ae=>Y=>G[ae](K,Y,V)):function y(G){return(0,x.T)(G.addListener)&&(0,x.T)(G.removeListener)}(G)?d.map(P(G,K)):function v(G){return(0,x.T)(G.on)&&(0,x.T)(G.off)}(G)?S.map(P(G,K)):[];if(!J&&(0,C.X)(G))return(0,f.Z)(ae=>U(ae,K,V))((0,i.Tg)(G));if(!J)throw new TypeError("Invalid event target");return new u.c(ae=>{const Y=(...$)=>ae.next(1<$.length?$:$[0]);return J(Y),()=>te(Y)})}function P(G,K){return V=>Z=>G[V](K,Z)}},81954:(en,Ve,E)=>{"use strict";E.d(Ve,{Tg:()=>v});var i=E(31635),u=E(48629),f=E(67854),C=E(2573),x=E(69531),w=E(97757),d=E(5835),k=E(34401),S=E(18432),U=E(34403),P=E(46642),y=E(76138);function v(ae){if(ae instanceof C.c)return ae;if(null!=ae){if((0,x.l)(ae))return function M(ae){return new C.c(Y=>{const $=ae[y.s]();if((0,U.T)($.subscribe))return $.subscribe(Y);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,u.X)(ae))return function G(ae){return new C.c(Y=>{for(let $=0;$<ae.length&&!Y.closed;$++)Y.next(ae[$]);Y.complete()})}(ae);if((0,f.y)(ae))return function K(ae){return new C.c(Y=>{ae.then($=>{Y.closed||(Y.next($),Y.complete())},$=>Y.error($)).then(null,P.m)})}(ae);if((0,w.T)(ae))return Z(ae);if((0,k.x)(ae))return function V(ae){return new C.c(Y=>{for(const $ of ae)if(Y.next($),Y.closed)return;Y.complete()})}(ae);if((0,S.U)(ae))return function J(ae){return Z((0,S.C)(ae))}(ae)}throw(0,d.L)(ae)}function Z(ae){return new C.c(Y=>{(function te(ae,Y){var $,H,me,B;return(0,i.sH)(this,void 0,void 0,function*(){try{for($=(0,i.xN)(ae);!(H=yield $.next()).done;)if(Y.next(H.value),Y.closed)return}catch(ce){me={error:ce}}finally{try{H&&!H.done&&(B=$.return)&&(yield B.call($))}finally{if(me)throw me.error}}Y.complete()})})(ae,Y).catch($=>Y.error($))})}},96513:(en,Ve,E)=>{"use strict";E.d(Ve,{Y:()=>f});var i=E(8360),u=E(43654);function f(C=0,x=i.E){return C<0&&(C=0),(0,u.O)(C,C,x)}},76718:(en,Ve,E)=>{"use strict";E.d(Ve,{h:()=>w});var i=E(98297),u=E(81954),f=E(2515),C=E(17106),x=E(21472);function w(...d){const k=(0,C.lI)(d),S=(0,C.R0)(d,1/0),U=d;return U.length?1===U.length?(0,u.Tg)(U[0]):(0,i.U)(S)((0,x.H)(U,k)):f.w}},15877:(en,Ve,E)=>{"use strict";E.d(Ve,{of:()=>f});var i=E(17106),u=E(21472);function f(...C){const x=(0,i.lI)(C);return(0,u.H)(C,x)}},45326:(en,Ve,E)=>{"use strict";E.d(Ve,{$:()=>f});var i=E(2573),u=E(34403);function f(C,x){const w=(0,u.T)(C)?C:()=>C,d=k=>k.error(w());return new i.c(x?k=>x.schedule(d,0,k):d)}},43654:(en,Ve,E)=>{"use strict";E.d(Ve,{O:()=>x});var i=E(2573),u=E(8360),f=E(41498);function x(w=0,d,k=u.b){let S=-1;return null!=d&&((0,f.m)(d)?k=d:S=d),new i.c(U=>{let P=function C(w){return w instanceof Date&&!isNaN(w)}(w)?+w-k.now():w;P<0&&(P=0);let y=0;return k.schedule(function(){U.closed||(U.next(y++),0<=S?this.schedule(void 0,S):U.complete())},P)})}},66196:(en,Ve,E)=>{"use strict";E.d(Ve,{_:()=>u});var i=E(36567);function u(C,x,w,d,k){return new f(C,x,w,d,k)}class f extends i.vU{constructor(x,w,d,k,S,U){super(x),this.onFinalize=S,this.shouldUnsubscribe=U,this._next=w?function(P){try{w(P)}catch(y){x.error(y)}}:super._next,this._error=k?function(P){try{k(P)}catch(y){x.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=d?function(){try{d()}catch(P){x.error(P)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:w}=this;super.unsubscribe(),!w&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},9065:(en,Ve,E)=>{"use strict";E.d(Ve,{Z:()=>d});var i=E(8360),u=E(15210),f=E(81954),C=E(66196),w=E(43654);function d(k,S=i.E){return function x(k){return(0,u.N)((S,U)=>{let P=!1,y=null,v=null,M=!1;const G=()=>{if(v?.unsubscribe(),v=null,P){P=!1;const V=y;y=null,U.next(V)}M&&U.complete()},K=()=>{v=null,M&&U.complete()};S.subscribe((0,C._)(U,V=>{P=!0,y=V,v||(0,f.Tg)(k(V)).subscribe(v=(0,C._)(U,G,K))},()=>{M=!0,(!P||!v||v.closed)&&U.complete()}))})}(()=>(0,w.O)(k,S))}},66017:(en,Ve,E)=>{"use strict";E.d(Ve,{S:()=>C});var i=E(15210),u=E(66196),f=E(67584);function C(x,w=null){return w=w??x,(0,i.N)((d,k)=>{let S=[],U=0;d.subscribe((0,u._)(k,P=>{let y=null;U++%w==0&&S.push([]);for(const v of S)v.push(P),x<=v.length&&(y=y??[],y.push(v));if(y)for(const v of y)(0,f.o)(S,v),k.next(v)},()=>{for(const P of S)k.next(P);k.complete()},void 0,()=>{S=null}))})}},83609:(en,Ve,E)=>{"use strict";E.d(Ve,{w:()=>k});var i=E(81027),u=E(15210),f=E(66196),C=E(67584),x=E(8360),w=E(17106),d=E(82733);function k(S,...U){var P,y;const v=null!==(P=(0,w.lI)(U))&&void 0!==P?P:x.E,M=null!==(y=U[0])&&void 0!==y?y:null,G=U[1]||1/0;return(0,u.N)((K,V)=>{let Z=[],J=!1;const te=$=>{const{buffer:H,subs:me}=$;me.unsubscribe(),(0,C.o)(Z,$),V.next(H),J&&ae()},ae=()=>{if(Z){const $=new i.yU;V.add($);const me={buffer:[],subs:$};Z.push(me),(0,d.N)($,v,()=>te(me),S)}};null!==M&&M>=0?(0,d.N)(V,v,ae,M,!0):J=!0,ae();const Y=(0,f._)(V,$=>{const H=Z.slice();for(const me of H){const{buffer:B}=me;B.push($),G<=B.length&&te(me)}},()=>{for(;Z?.length;)V.next(Z.shift().buffer);Y?.unsubscribe(),V.complete(),V.unsubscribe()},void 0,()=>Z=null);K.subscribe(Y)})}},28577:(en,Ve,E)=>{"use strict";E.d(Ve,{W:()=>C});var i=E(81954),u=E(66196),f=E(15210);function C(x){return(0,f.N)((w,d)=>{let U,k=null,S=!1;k=w.subscribe((0,u._)(d,void 0,void 0,P=>{U=(0,i.Tg)(x(P,C(x)(w))),k?(k.unsubscribe(),k=null,U.subscribe(d)):S=!0})),S&&(k.unsubscribe(),k=null,U.subscribe(d))})}},65533:(en,Ve,E)=>{"use strict";E.d(Ve,{p:()=>v});var i=E(82656),u=E(19577),f=E(7694),C=E(37479),x=E(11756),w=E(95773),d=E(15210);const S=(M,G)=>(M.push(G),M);const v=function y(M){return function P(M,G){return(0,C.F)(function U(){return(0,d.N)((M,G)=>{(function k(M,G){return(0,d.N)((0,w.S)(M,G,arguments.length>=2,!1,!0))})(S,[])(M).subscribe(G)})}(),(0,x.Z)(K=>M(K)),G?(0,f.I)(G):u.D)}(i.z,M)}},26727:(en,Ve,E)=>{"use strict";E.d(Ve,{K:()=>u});var i=E(98297);function u(){return(0,i.U)(1)}},26758:(en,Ve,E)=>{"use strict";E.d(Ve,{H:()=>f});var i=E(11756),u=E(34403);function f(C,x){return(0,u.T)(x)?(0,i.Z)(C,x,1):(0,i.Z)(C,1)}},15913:(en,Ve,E)=>{"use strict";E.d(Ve,{s:()=>x});var i=E(15210),u=E(19827),f=E(66196),C=E(81954);function x(w){return(0,i.N)((d,k)=>{let S=!1,U=null,P=null;const y=()=>{if(P?.unsubscribe(),P=null,S){S=!1;const v=U;U=null,k.next(v)}};d.subscribe((0,f._)(k,v=>{P?.unsubscribe(),S=!0,U=v,P=(0,f._)(k,y,u.l),(0,C.Tg)(w(v)).subscribe(P)},()=>{y(),k.complete()},void 0,()=>{U=P=null}))})}},87996:(en,Ve,E)=>{"use strict";E.d(Ve,{B:()=>C});var i=E(8360),u=E(15210),f=E(66196);function C(x,w=i.E){return(0,u.N)((d,k)=>{let S=null,U=null,P=null;const y=()=>{if(S){S.unsubscribe(),S=null;const M=U;U=null,k.next(M)}};function v(){const M=P+x,G=w.now();if(G<M)return S=this.schedule(void 0,M-G),void k.add(S);y()}d.subscribe((0,f._)(k,M=>{U=M,P=w.now(),S||(S=w.schedule(v,x),k.add(S))},()=>{y(),k.complete()},void 0,()=>{U=S=null}))})}},47369:(en,Ve,E)=>{"use strict";E.d(Ve,{U:()=>f});var i=E(15210),u=E(66196);function f(C){return(0,i.N)((x,w)=>{let d=!1;x.subscribe((0,u._)(w,k=>{d=!0,w.next(k)},()=>{d||w.next(C),w.complete()}))})}},19833:(en,Ve,E)=>{"use strict";E.d(Ve,{c:()=>y});var i=E(8360),u=E(35892),f=E(17365),C=E(15210),x=E(66196),w=E(19827),k=E(99539),S=E(11756);function U(v,M){return M?G=>(0,u.x)(M.pipe((0,f.s)(1),function d(){return(0,C.N)((v,M)=>{v.subscribe((0,x._)(M,w.l))})}()),G.pipe(U(v))):(0,S.Z)((G,K)=>v(G,K).pipe((0,f.s)(1),(0,k.u)(G)))}var P=E(43654);function y(v,M=i.E){const G=(0,P.O)(v,M);return U(()=>G)}},21082:(en,Ve,E)=>{"use strict";E.d(Ve,{F:()=>C});var i=E(19577),u=E(15210),f=E(66196);function C(w,d=i.D){return w=w??x,(0,u.N)((k,S)=>{let U,P=!0;k.subscribe((0,f._)(S,y=>{const v=d(y);(P||!w(U,v))&&(P=!1,U=v,S.next(y))}))})}function x(w,d){return w===d}},14264:(en,Ve,E)=>{"use strict";E.d(Ve,{p:()=>f});var i=E(15210),u=E(66196);function f(C,x){return(0,i.N)((w,d)=>{let k=0;w.subscribe((0,u._)(d,S=>C.call(x,S,k++)&&d.next(S)))})}},15152:(en,Ve,E)=>{"use strict";E.d(Ve,{j:()=>u});var i=E(15210);function u(f){return(0,i.N)((C,x)=>{try{C.subscribe(x)}finally{x.add(f)}})}},60830:(en,Ve,E)=>{"use strict";E.d(Ve,{$:()=>d});var i=E(50330),u=E(14264),f=E(17365),C=E(47369),x=E(67074),w=E(19577);function d(k,S){const U=arguments.length>=2;return P=>P.pipe(k?(0,u.p)((y,v)=>k(y,v,P)):w.D,(0,f.s)(1),U?(0,C.U)(S):(0,x.v)(()=>new i.G))}},38399:(en,Ve,E)=>{"use strict";E.d(Ve,{q:()=>u});const u=E(11756).Z},36110:(en,Ve,E)=>{"use strict";E.d(Ve,{T:()=>f});var i=E(15210),u=E(66196);function f(C,x){return(0,i.N)((w,d)=>{let k=0;w.subscribe((0,u._)(d,S=>{d.next(C.call(x,S,k++))}))})}},99539:(en,Ve,E)=>{"use strict";E.d(Ve,{u:()=>u});var i=E(36110);function u(f){return(0,i.T)(()=>f)}},98297:(en,Ve,E)=>{"use strict";E.d(Ve,{U:()=>f});var i=E(11756),u=E(19577);function f(C=1/0){return(0,i.Z)(u.D,C)}},11756:(en,Ve,E)=>{"use strict";E.d(Ve,{Z:()=>k});var i=E(36110),u=E(81954),f=E(15210),C=E(82733),x=E(66196),d=E(34403);function k(S,U,P=1/0){return(0,d.T)(U)?k((y,v)=>(0,i.T)((M,G)=>U(y,M,v,G))((0,u.Tg)(S(y,v))),P):("number"==typeof U&&(P=U),(0,f.N)((y,v)=>function w(S,U,P,y,v,M,G,K){const V=[];let Z=0,J=0,te=!1;const ae=()=>{te&&!V.length&&!Z&&U.complete()},Y=H=>Z<y?$(H):V.push(H),$=H=>{M&&U.next(H),Z++;let me=!1;(0,u.Tg)(P(H,J++)).subscribe((0,x._)(U,B=>{v?.(B),M?Y(B):U.next(B)},()=>{me=!0},void 0,()=>{if(me)try{for(Z--;V.length&&Z<y;){const B=V.shift();G?(0,C.N)(U,G,()=>$(B)):$(B)}ae()}catch(B){U.error(B)}}))};return S.subscribe((0,x._)(U,Y,()=>{te=!0,ae()})),()=>{K?.()}}(y,v,S,P)))}},1670:(en,Ve,E)=>{"use strict";E.d(Ve,{J:()=>f});var i=E(15210),u=E(66196);function f(){return(0,i.N)((C,x)=>{let w,d=!1;C.subscribe((0,u._)(x,k=>{const S=w;w=k,d&&x.next([S,k]),d=!0}))})}},44710:(en,Ve,E)=>{"use strict";E.d(Ve,{B:()=>f});var i=E(15210),u=E(66196);function f(){return(0,i.N)((C,x)=>{let w=null;C._refCount++;const d=(0,u._)(x,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(w=null);const k=C._connection,S=w;w=null,k&&(!S||k===S)&&k.unsubscribe(),x.unsubscribe()});C.subscribe(d),d.closed||(w=C.connect())})}},64346:(en,Ve,E)=>{"use strict";E.d(Ve,{l:()=>C});var i=E(85052),u=E(15210),f=E(66196);function C(x){return(0,u.N)((w,d)=>{let k,U,S=!1;const P=()=>{k=w.subscribe((0,f._)(d,void 0,void 0,y=>{U||(U=new i.B,x(U).subscribe((0,f._)(d,()=>k?P():S=!0))),U&&U.next(y)})),S&&(k.unsubscribe(),k=null,S=!1,P())};P()})}},95773:(en,Ve,E)=>{"use strict";E.d(Ve,{S:()=>u});var i=E(66196);function u(f,C,x,w,d){return(k,S)=>{let U=x,P=C,y=0;k.subscribe((0,i._)(S,v=>{const M=y++;P=U?f(P,v,M):(U=!0,v),w&&S.next(P)},d&&(()=>{U&&S.next(P),S.complete()})))}}},20075:(en,Ve,E)=>{"use strict";E.d(Ve,{u:()=>x});var i=E(81954),u=E(85052),f=E(36567),C=E(15210);function x(d={}){const{connector:k=(()=>new u.B),resetOnError:S=!0,resetOnComplete:U=!0,resetOnRefCountZero:P=!0}=d;return y=>{let v,M,G,K=0,V=!1,Z=!1;const J=()=>{M?.unsubscribe(),M=void 0},te=()=>{J(),v=G=void 0,V=Z=!1},ae=()=>{const Y=v;te(),Y?.unsubscribe()};return(0,C.N)((Y,$)=>{K++,!Z&&!V&&J();const H=G=G??k();$.add(()=>{K--,0===K&&!Z&&!V&&(M=w(ae,P))}),H.subscribe($),!v&&K>0&&(v=new f.Ms({next:me=>H.next(me),error:me=>{Z=!0,J(),M=w(te,S,me),H.error(me)},complete:()=>{V=!0,J(),M=w(te,U),H.complete()}}),(0,i.Tg)(Y).subscribe(v))})(y)}}function w(d,k,...S){if(!0===k)return void d();if(!1===k)return;const U=new f.Ms({next:()=>{U.unsubscribe(),d()}});return k(...S).subscribe(U)}},49784:(en,Ve,E)=>{"use strict";E.d(Ve,{t:()=>f});var i=E(60391),u=E(20075);function f(C,x,w){let d,k=!1;return C&&"object"==typeof C?({bufferSize:d=1/0,windowTime:x=1/0,refCount:k=!1,scheduler:w}=C):d=C??1/0,(0,u.u)({connector:()=>new i.m(d,x,w),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:k})}},87145:(en,Ve,E)=>{"use strict";E.d(Ve,{i:()=>u});var i=E(14264);function u(f){return(0,i.p)((C,x)=>f<=x)}},68545:(en,Ve,E)=>{"use strict";E.d(Ve,{U:()=>x});var i=E(15210),u=E(66196),f=E(81954),C=E(19827);function x(w){return(0,i.N)((d,k)=>{let S=!1;const U=(0,u._)(k,()=>{U?.unsubscribe(),S=!0},C.l);(0,f.Tg)(w).subscribe(U),d.subscribe((0,u._)(k,P=>S&&k.next(P)))})}},35160:(en,Ve,E)=>{"use strict";E.d(Ve,{Z:()=>C});var i=E(35892),u=E(17106),f=E(15210);function C(...x){const w=(0,u.lI)(x);return(0,f.N)((d,k)=>{(w?(0,i.x)(x,d,w):(0,i.x)(x,d)).subscribe(k)})}},32914:(en,Ve,E)=>{"use strict";E.d(Ve,{n:()=>C});var i=E(81954),u=E(15210),f=E(66196);function C(x,w){return(0,u.N)((d,k)=>{let S=null,U=0,P=!1;const y=()=>P&&!S&&k.complete();d.subscribe((0,f._)(k,v=>{S?.unsubscribe();let M=0;const G=U++;(0,i.Tg)(x(v,G)).subscribe(S=(0,f._)(k,K=>k.next(w?w(v,K,G,M++):K),()=>{S=null,y()}))},()=>{P=!0,y()}))})}},17365:(en,Ve,E)=>{"use strict";E.d(Ve,{s:()=>C});var i=E(2515),u=E(15210),f=E(66196);function C(x){return x<=0?()=>i.w:(0,u.N)((w,d)=>{let k=0;w.subscribe((0,f._)(d,S=>{++k<=x&&(d.next(S),x<=k&&d.complete())}))})}},37925:(en,Ve,E)=>{"use strict";E.d(Ve,{Q:()=>x});var i=E(15210),u=E(66196),f=E(81954),C=E(19827);function x(w){return(0,i.N)((d,k)=>{(0,f.Tg)(w).subscribe((0,u._)(k,()=>k.complete(),C.l)),!k.closed&&d.subscribe(k)})}},39705:(en,Ve,E)=>{"use strict";E.d(Ve,{M:()=>x});var i=E(34403),u=E(15210),f=E(66196),C=E(19577);function x(w,d,k){const S=(0,i.T)(w)||d||k?{next:w,error:d,complete:k}:w;return S?(0,u.N)((U,P)=>{var y;null===(y=S.subscribe)||void 0===y||y.call(S);let v=!0;U.subscribe((0,f._)(P,M=>{var G;null===(G=S.next)||void 0===G||G.call(S,M),P.next(M)},()=>{var M;v=!1,null===(M=S.complete)||void 0===M||M.call(S),P.complete()},M=>{var G;v=!1,null===(G=S.error)||void 0===G||G.call(S,M),P.error(M)},()=>{var M,G;v&&(null===(M=S.unsubscribe)||void 0===M||M.call(S)),null===(G=S.finalize)||void 0===G||G.call(S)}))}):C.D}},2094:(en,Ve,E)=>{"use strict";E.d(Ve,{c:()=>k});var i=E(8360),u=E(15210),f=E(66196),C=E(81954);const x={leading:!0,trailing:!1};var d=E(43654);function k(S,U=i.E,P=x){const y=(0,d.O)(S,U);return function w(S,U=x){return(0,u.N)((P,y)=>{const{leading:v,trailing:M}=U;let G=!1,K=null,V=null,Z=!1;const J=()=>{V?.unsubscribe(),V=null,M&&(Y(),Z&&y.complete())},te=()=>{V=null,Z&&y.complete()},ae=$=>V=(0,C.Tg)(S($)).subscribe((0,f._)(y,J,te)),Y=()=>{if(G){G=!1;const $=K;K=null,y.next($),!Z&&ae($)}};P.subscribe((0,f._)(y,$=>{G=!0,K=$,(!V||V.closed)&&(v?Y():ae($))},()=>{Z=!0,(!(M&&G&&V)||V.closed)&&y.complete()}))})}(()=>y,P)}},67074:(en,Ve,E)=>{"use strict";E.d(Ve,{v:()=>C});var i=E(50330),u=E(15210),f=E(66196);function C(w=x){return(0,u.N)((d,k)=>{let S=!1;d.subscribe((0,f._)(k,U=>{S=!0,k.next(U)},()=>S?k.complete():k.error(w())))})}function x(){return new i.G}},94909:(en,Ve,E)=>{"use strict";E.d(Ve,{E:()=>d});var i=E(15210),u=E(66196),f=E(81954),C=E(19577),x=E(19827),w=E(17106);function d(...k){const S=(0,w.ms)(k);return(0,i.N)((U,P)=>{const y=k.length,v=new Array(y);let M=k.map(()=>!1),G=!1;for(let K=0;K<y;K++)(0,f.Tg)(k[K]).subscribe((0,u._)(P,V=>{v[K]=V,!G&&!M[K]&&(M[K]=!0,(G=M.every(C.D))&&(M=null))},x.l));U.subscribe((0,u._)(P,K=>{if(G){const V=[K,...v];P.next(S?S(...V):V)}}))})}},7974:(en,Ve,E)=>{"use strict";E.d(Ve,{c:()=>$});var i=E(81954),u=E(82733),f=E(15210),C=E(66196);function x(H,me=0){return(0,f.N)((B,ce)=>{B.subscribe((0,C._)(ce,Oe=>(0,u.N)(ce,H,()=>ce.next(Oe),me),()=>(0,u.N)(ce,H,()=>ce.complete(),me),Oe=>(0,u.N)(ce,H,()=>ce.error(Oe),me)))})}function w(H,me=0){return(0,f.N)((B,ce)=>{ce.add(H.schedule(()=>B.subscribe(ce),me))})}var S=E(2573),P=E(1301),y=E(34403);function M(H,me){if(!H)throw new Error("Iterable cannot be null");return new S.c(B=>{(0,u.N)(B,me,()=>{const ce=H[Symbol.asyncIterator]();(0,u.N)(B,me,()=>{ce.next().then(Oe=>{Oe.done?B.complete():B.next(Oe.value)})},0,!0)})})}var G=E(69531),K=E(67854),V=E(48629),Z=E(34401),J=E(97757),te=E(5835),ae=E(18432);function $(H,me){if(null!=H){if((0,G.l)(H))return function d(H,me){return(0,i.Tg)(H).pipe(w(me),x(me))}(H,me);if((0,V.X)(H))return function U(H,me){return new S.c(B=>{let ce=0;return me.schedule(function(){ce===H.length?B.complete():(B.next(H[ce++]),B.closed||this.schedule())})})}(H,me);if((0,K.y)(H))return function k(H,me){return(0,i.Tg)(H).pipe(w(me),x(me))}(H,me);if((0,J.T)(H))return M(H,me);if((0,Z.x)(H))return function v(H,me){return new S.c(B=>{let ce;return(0,u.N)(B,me,()=>{ce=H[P.l](),(0,u.N)(B,me,()=>{let Oe,Ue;try{({value:Oe,done:Ue}=ce.next())}catch(qe){return void B.error(qe)}Ue?B.complete():B.next(Oe)},0,!0)}),()=>(0,y.T)(ce?.return)&&ce.return()})}(H,me);if((0,ae.U)(H))return function Y(H,me){return M((0,ae.C)(H),me)}(H,me)}throw(0,te.L)(H)}},44726:(en,Ve,E)=>{"use strict";E.d(Ve,{R:()=>x});var i=E(81027);class u extends i.yU{constructor(d,k){super()}schedule(d,k=0){return this}}const f={setInterval(w,d,...k){const{delegate:S}=f;return S?.setInterval?S.setInterval(w,d,...k):setInterval(w,d,...k)},clearInterval(w){const{delegate:d}=f;return(d?.clearInterval||clearInterval)(w)},delegate:void 0};var C=E(67584);class x extends u{constructor(d,k){super(d,k),this.scheduler=d,this.work=k,this.pending=!1}schedule(d,k=0){var S;if(this.closed)return this;this.state=d;const U=this.id,P=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(P,U,k)),this.pending=!0,this.delay=k,this.id=null!==(S=this.id)&&void 0!==S?S:this.requestAsyncId(P,this.id,k),this}requestAsyncId(d,k,S=0){return f.setInterval(d.flush.bind(d,this),S)}recycleAsyncId(d,k,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return k;null!=k&&f.clearInterval(k)}execute(d,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(d,k);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(d,k){let U,S=!1;try{this.work(d)}catch(P){S=!0,U=P||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:d,scheduler:k}=this,{actions:S}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,C.o)(S,this),null!=d&&(this.id=this.recycleAsyncId(k,d,null)),this.delay=null,super.unsubscribe()}}}},25474:(en,Ve,E)=>{"use strict";E.d(Ve,{q:()=>f});var i=E(59309);class u{constructor(x,w=u.now){this.schedulerActionCtor=x,this.now=w}schedule(x,w=0,d){return new this.schedulerActionCtor(this,x).schedule(d,w)}}u.now=i.U.now;class f extends u{constructor(x,w=u.now){super(x,w),this.actions=[],this._active=!1}flush(x){const{actions:w}=this;if(this._active)return void w.push(x);let d;this._active=!0;do{if(d=x.execute(x.state,x.delay))break}while(x=w.shift());if(this._active=!1,d){for(;x=w.shift();)x.unsubscribe();throw d}}}},40798:(en,Ve,E)=>{"use strict";E.d(Ve,{X:()=>w});var i=E(44726),u=E(40812),C=E(25474);const w=new class x extends C.q{flush(S){this._active=!0;const U=this._scheduled;this._scheduled=void 0;const{actions:P}=this;let y;S=S||P.shift();do{if(y=S.execute(S.state,S.delay))break}while((S=P[0])&&S.id===U&&P.shift());if(this._active=!1,y){for(;(S=P[0])&&S.id===U&&P.shift();)S.unsubscribe();throw y}}}(class f extends i.R{constructor(S,U){super(S,U),this.scheduler=S,this.work=U}requestAsyncId(S,U,P=0){return null!==P&&P>0?super.requestAsyncId(S,U,P):(S.actions.push(this),S._scheduled||(S._scheduled=u.H.requestAnimationFrame(()=>S.flush(void 0))))}recycleAsyncId(S,U,P=0){var y;if(null!=P?P>0:this.delay>0)return super.recycleAsyncId(S,U,P);const{actions:v}=S;null!=U&&(null===(y=v[v.length-1])||void 0===y?void 0:y.id)!==U&&(u.H.cancelAnimationFrame(U),S._scheduled=void 0)}})},40812:(en,Ve,E)=>{"use strict";E.d(Ve,{H:()=>u});var i=E(81027);const u={schedule(f){let C=requestAnimationFrame,x=cancelAnimationFrame;const{delegate:w}=u;w&&(C=w.requestAnimationFrame,x=w.cancelAnimationFrame);const d=C(k=>{x=void 0,f(k)});return new i.yU(()=>x?.(d))},requestAnimationFrame(...f){const{delegate:C}=u;return(C?.requestAnimationFrame||requestAnimationFrame)(...f)},cancelAnimationFrame(...f){const{delegate:C}=u;return(C?.cancelAnimationFrame||cancelAnimationFrame)(...f)},delegate:void 0}},82755:(en,Ve,E)=>{"use strict";E.d(Ve,{$:()=>M});var i=E(44726);let f,u=1;const C={};function x(K){return K in C&&(delete C[K],!0)}const w={setImmediate(K){const V=u++;return C[V]=!0,f||(f=Promise.resolve()),f.then(()=>x(V)&&K()),V},clearImmediate(K){x(K)}},{setImmediate:k,clearImmediate:S}=w,U={setImmediate(...K){const{delegate:V}=U;return(V?.setImmediate||k)(...K)},clearImmediate(K){const{delegate:V}=U;return(V?.clearImmediate||S)(K)},delegate:void 0};var y=E(25474);const M=new class v extends y.q{flush(V){this._active=!0;const Z=this._scheduled;this._scheduled=void 0;const{actions:J}=this;let te;V=V||J.shift();do{if(te=V.execute(V.state,V.delay))break}while((V=J[0])&&V.id===Z&&J.shift());if(this._active=!1,te){for(;(V=J[0])&&V.id===Z&&J.shift();)V.unsubscribe();throw te}}}(class P extends i.R{constructor(V,Z){super(V,Z),this.scheduler=V,this.work=Z}requestAsyncId(V,Z,J=0){return null!==J&&J>0?super.requestAsyncId(V,Z,J):(V.actions.push(this),V._scheduled||(V._scheduled=U.setImmediate(V.flush.bind(V,void 0))))}recycleAsyncId(V,Z,J=0){var te;if(null!=J?J>0:this.delay>0)return super.recycleAsyncId(V,Z,J);const{actions:ae}=V;null!=Z&&(null===(te=ae[ae.length-1])||void 0===te?void 0:te.id)!==Z&&(U.clearImmediate(Z),V._scheduled=void 0)}})},8360:(en,Ve,E)=>{"use strict";E.d(Ve,{E:()=>f,b:()=>C});var i=E(44726);const f=new(E(25474).q)(i.R),C=f},59309:(en,Ve,E)=>{"use strict";E.d(Ve,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},63831:(en,Ve,E)=>{"use strict";E.d(Ve,{T:()=>x});var i=E(44726),f=E(25474);const x=new class C extends f.q{}(class u extends i.R{constructor(k,S){super(k,S),this.scheduler=k,this.work=S}schedule(k,S=0){return S>0?super.schedule(k,S):(this.delay=S,this.state=k,this.scheduler.flush(this),this)}execute(k,S){return S>0||this.closed?super.execute(k,S):this._execute(k,S)}requestAsyncId(k,S,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(k,S,U):(k.flush(this),0)}})},12386:(en,Ve,E)=>{"use strict";E.d(Ve,{f:()=>i});const i={setTimeout(u,f,...C){const{delegate:x}=i;return x?.setTimeout?x.setTimeout(u,f,...C):setTimeout(u,f,...C)},clearTimeout(u){const{delegate:f}=i;return(f?.clearTimeout||clearTimeout)(u)},delegate:void 0}},1301:(en,Ve,E)=>{"use strict";E.d(Ve,{l:()=>u});const u=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},76138:(en,Ve,E)=>{"use strict";E.d(Ve,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},50330:(en,Ve,E)=>{"use strict";E.d(Ve,{G:()=>u});const u=(0,E(87385).L)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"})},17106:(en,Ve,E)=>{"use strict";E.d(Ve,{R0:()=>w,lI:()=>x,ms:()=>C});var i=E(34403),u=E(41498);function f(d){return d[d.length-1]}function C(d){return(0,i.T)(f(d))?d.pop():void 0}function x(d){return(0,u.m)(f(d))?d.pop():void 0}function w(d,k){return"number"==typeof f(d)?d.pop():k}},15437:(en,Ve,E)=>{"use strict";E.d(Ve,{D:()=>x});const{isArray:i}=Array,{getPrototypeOf:u,prototype:f,keys:C}=Object;function x(d){if(1===d.length){const k=d[0];if(i(k))return{args:k,keys:null};if(function w(d){return d&&"object"==typeof d&&u(d)===f}(k)){const S=C(k);return{args:S.map(U=>k[U]),keys:S}}}return{args:d,keys:null}}},67584:(en,Ve,E)=>{"use strict";function i(u,f){if(u){const C=u.indexOf(f);0<=C&&u.splice(C,1)}}E.d(Ve,{o:()=>i})},87385:(en,Ve,E)=>{"use strict";function i(u){const C=u(x=>{Error.call(x),x.stack=(new Error).stack});return C.prototype=Object.create(Error.prototype),C.prototype.constructor=C,C}E.d(Ve,{L:()=>i})},25436:(en,Ve,E)=>{"use strict";function i(u,f){return u.reduce((C,x,w)=>(C[x]=f[w],C),{})}E.d(Ve,{e:()=>i})},32926:(en,Ve,E)=>{"use strict";E.d(Ve,{Y:()=>f,l:()=>C});var i=E(8502);let u=null;function f(x){if(i.$.useDeprecatedSynchronousErrorHandling){const w=!u;if(w&&(u={errorThrown:!1,error:null}),x(),w){const{errorThrown:d,error:k}=u;if(u=null,d)throw k}}else x()}function C(x){i.$.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=x)}},82733:(en,Ve,E)=>{"use strict";function i(u,f,C,x=0,w=!1){const d=f.schedule(function(){C(),w?u.add(this.schedule(null,x)):this.unsubscribe()},x);if(u.add(d),!w)return d}E.d(Ve,{N:()=>i})},19577:(en,Ve,E)=>{"use strict";function i(u){return u}E.d(Ve,{D:()=>i})},48629:(en,Ve,E)=>{"use strict";E.d(Ve,{X:()=>i});const i=u=>u&&"number"==typeof u.length&&"function"!=typeof u},97757:(en,Ve,E)=>{"use strict";E.d(Ve,{T:()=>u});var i=E(34403);function u(f){return Symbol.asyncIterator&&(0,i.T)(f?.[Symbol.asyncIterator])}},34403:(en,Ve,E)=>{"use strict";function i(u){return"function"==typeof u}E.d(Ve,{T:()=>i})},69531:(en,Ve,E)=>{"use strict";E.d(Ve,{l:()=>f});var i=E(76138),u=E(34403);function f(C){return(0,u.T)(C[i.s])}},34401:(en,Ve,E)=>{"use strict";E.d(Ve,{x:()=>f});var i=E(1301),u=E(34403);function f(C){return(0,u.T)(C?.[i.l])}},28454:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>f});var i=E(2573),u=E(34403);function f(C){return!!C&&(C instanceof i.c||(0,u.T)(C.lift)&&(0,u.T)(C.subscribe))}},67854:(en,Ve,E)=>{"use strict";E.d(Ve,{y:()=>u});var i=E(34403);function u(f){return(0,i.T)(f?.then)}},18432:(en,Ve,E)=>{"use strict";E.d(Ve,{C:()=>f,U:()=>C});var i=E(31635),u=E(34403);function f(x){return(0,i.AQ)(this,arguments,function*(){const d=x.getReader();try{for(;;){const{value:k,done:S}=yield(0,i.N3)(d.read());if(S)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(k)}}finally{d.releaseLock()}})}function C(x){return(0,u.T)(x?.getReader)}},41498:(en,Ve,E)=>{"use strict";E.d(Ve,{m:()=>u});var i=E(34403);function u(f){return f&&(0,i.T)(f.schedule)}},15210:(en,Ve,E)=>{"use strict";E.d(Ve,{N:()=>f,S:()=>u});var i=E(34403);function u(C){return(0,i.T)(C?.lift)}function f(C){return x=>{if(u(x))return x.lift(function(w){try{return C(w,this)}catch(d){this.error(d)}});throw new TypeError("Unable to lift unknown Observable type")}}},7694:(en,Ve,E)=>{"use strict";E.d(Ve,{I:()=>C});var i=E(36110);const{isArray:u}=Array;function C(x){return(0,i.T)(w=>function f(x,w){return u(w)?x(...w):x(w)}(x,w))}},19827:(en,Ve,E)=>{"use strict";function i(){}E.d(Ve,{l:()=>i})},37479:(en,Ve,E)=>{"use strict";E.d(Ve,{F:()=>u,m:()=>f});var i=E(19577);function u(...C){return f(C)}function f(C){return 0===C.length?i.D:1===C.length?C[0]:function(w){return C.reduce((d,k)=>k(d),w)}}},46642:(en,Ve,E)=>{"use strict";E.d(Ve,{m:()=>f});var i=E(8502),u=E(12386);function f(C){u.f.setTimeout(()=>{const{onUnhandledError:x}=i.$;if(!x)throw C;x(C)})}},5835:(en,Ve,E)=>{"use strict";function i(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(Ve,{L:()=>i})},93330:(en,Ve,E)=>{"use strict";var i=E(89222),u=E(2948),f=E(70401)(),C=E(99234),x=E(63698),w=i("%Math.floor%");en.exports=function(k,S){if("function"!=typeof k)throw new x("`fn` is not a function");if("number"!=typeof S||S<0||S>4294967295||w(S)!==S)throw new x("`length` must be a positive 32-bit integer");var U=arguments.length>2&&!!arguments[2],P=!0,y=!0;if("length"in k&&C){var v=C(k,"length");v&&!v.configurable&&(P=!1),v&&!v.writable&&(y=!1)}return(P||y||!U)&&(f?u(k,"length",S,!0,!0):u(k,"length",S)),k}},68241:(en,Ve,E)=>{"use strict";var i=E(89222),u=E(64680),f=E(92298),C=E(63698),x=i("%WeakMap%",!0),w=i("%Map%",!0),d=u("WeakMap.prototype.get",!0),k=u("WeakMap.prototype.set",!0),S=u("WeakMap.prototype.has",!0),U=u("Map.prototype.get",!0),P=u("Map.prototype.set",!0),y=u("Map.prototype.has",!0),v=function(V,Z){for(var te,J=V;null!==(te=J.next);J=te)if(te.key===Z)return J.next=te.next,te.next=V.next,V.next=te,te};en.exports=function(){var Z,J,te,ae={assert:function(Y){if(!ae.has(Y))throw new C("Side channel does not contain "+f(Y))},get:function(Y){if(x&&Y&&("object"==typeof Y||"function"==typeof Y)){if(Z)return d(Z,Y)}else if(w){if(J)return U(J,Y)}else if(te)return function(V,Z){var J=v(V,Z);return J&&J.value}(te,Y)},has:function(Y){if(x&&Y&&("object"==typeof Y||"function"==typeof Y)){if(Z)return S(Z,Y)}else if(w){if(J)return y(J,Y)}else if(te)return function(V,Z){return!!v(V,Z)}(te,Y);return!1},set:function(Y,$){x&&Y&&("object"==typeof Y||"function"==typeof Y)?(Z||(Z=new x),k(Z,Y,$)):w?(J||(J=new w),P(J,Y,$)):(te||(te={key:{},next:null}),function(V,Z,J){var te=v(V,Z);te?te.value=J:V.next={key:Z,next:V.next,value:J}}(te,Y,$))}};return ae}},5662:function(en){var i;typeof self<"u"&&self,i=()=>(()=>{"use strict";var Ve={"./src/attributes.js":
/*!***************************!*\
                !*** ./src/attributes.js ***!
                \***************************/(f,C,x)=>{function w(T){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(T)}C.__esModule=!0,C.createAttribsFromArrays=zt,C.createBufferFromArray=D,C.createBufferFromTypedArray=ce,C.createBufferInfoFromArrays=function re(T,W,z){var p=zt(T,W),I=Object.assign({},z||{});I.attribs=Object.assign({},z?z.attribs:{},p);var Ae=W.indices;if(Ae){var se=R(Ae,"indices");I.indices=ce(T,se,v),I.numElements=se.length,I.elementType=d.getGLTypeForTypedArray(se)}else I.numElements||(I.numElements=function Ot(T,W){var z,p;for(p=0;p<Ne.length&&!((z=Ne[p])in W)&&!((z=$.attribPrefix+z)in W);++p);p===Ne.length&&(z=Object.keys(W)[0]);var I=W[z];if(!I.buffer)return 1;T.bindBuffer(y,I.buffer);var Ae=T.getBufferParameter(y,M);T.bindBuffer(y,null);var se=function It(T,W){return W===G||W===K?1:W===V||W===Z?2:W===J||W===te||W===ae?4:0}(0,I.type),ve=I.numComponents||I.size,ge=Ae/se/ve;if(ge%1!=0)throw new Error("numComponents ".concat(ve," not correct for length ").concat(length));return ge}(T,I.attribs));return I},C.createBuffersFromArrays=function F(T,W){var z={};return Object.keys(W).forEach(function(p){z[p]=D(T,W[p],p)}),W.indices?(z.numElements=W.indices.length,z.elementType=d.getGLTypeForTypedArray(R(W.indices),"indices")):z.numElements=function Xe(T){var W,z;for(z=0;z<Ne.length&&!((W=Ne[z])in T);++z);z===Ne.length&&(W=Object.keys(T)[0]);var p=T[W],I=qe(p).length;if(void 0===I)return 1;var Ae=de(p,W),se=I/Ae;if(I%Ae>0)throw new Error("numComponents ".concat(Ae," not correct for length ").concat(I));return se}(W),z},C.getArray_=qe,C.getNumComponents_=de,C.setAttribInfoBufferFromArray=function Mn(T,W,z,p){z=R(z),void 0!==p?(T.bindBuffer(y,W.buffer),T.bufferSubData(y,p,z)):B(T,y,W.buffer,z,W.drawType)},C.setAttributeDefaults_=function me(T){k.copyExistingProperties(T,$)},C.setAttributePrefix=function H(T){$.attribPrefix=T};var d=U(x(
/*! ./typedarrays.js */
"./src/typedarrays.js")),k=U(x(
/*! ./helper.js */
"./src/helper.js"));function S(T){if("function"!=typeof WeakMap)return null;var W=new WeakMap,z=new WeakMap;return(S=function(I){return I?z:W})(T)}function U(T,W){if(!W&&T&&T.__esModule)return T;if(null===T||"object"!=w(T)&&"function"!=typeof T)return{default:T};var z=S(W);if(z&&z.has(T))return z.get(T);var p={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ae in T)if("default"!==Ae&&Object.prototype.hasOwnProperty.call(T,Ae)){var se=I?Object.getOwnPropertyDescriptor(T,Ae):null;se&&(se.get||se.set)?Object.defineProperty(p,Ae,se):p[Ae]=T[Ae]}return p.default=T,z&&z.set(T,p),p}var P=35044,y=34962,v=34963,M=34660,G=5120,K=5121,V=5122,Z=5123,J=5124,te=5125,ae=5126,$={attribPrefix:""};function B(T,W,z,p,I){T.bindBuffer(W,z),T.bufferData(W,p,I||P)}function ce(T,W,z,p){if(k.isBuffer(T,W))return W;z=z||y;var I=T.createBuffer();return B(T,z,I,W,p),I}function Oe(T){return"indices"===T}function qe(T){return T.length?T:T.data}var _e=/coord|texture/i,ht=/color|colour/i;function de(T,W,z){return T.numComponents||T.size||function Bt(T,W){var z;if(W%(z=_e.test(T)?2:ht.test(T)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(T,"'. Tried ").concat(z," but ").concat(W," values is not evenly divisible by ").concat(z,". You should specify it."));return z}(W,z||qe(T).length)}function R(T,W){if(d.isArrayBuffer(T))return T;if(d.isArrayBuffer(T.data))return T.data;Array.isArray(T)&&(T={data:T});var z=T.type?he(T.type):void 0;return z||(z=Oe(W)?Uint16Array:Float32Array),new z(T.data)}function j(T){return"number"==typeof T?T:T?d.getGLTypeForTypedArrayType(T):ae}function he(T){return"number"==typeof T?d.getTypedArrayTypeForGLType(T):T||Float32Array}function Ce(T,W){return{buffer:W.buffer,numValues:24,type:j(W.type),arrayType:he(W.type)}}function Re(T,W){var z=W.data||W,p=he(W.type),I=z*p.BYTES_PER_ELEMENT,Ae=T.createBuffer();return T.bindBuffer(y,Ae),T.bufferData(y,I,W.drawType||P),{buffer:Ae,numValues:z,type:d.getGLTypeForTypedArrayType(p),arrayType:p}}function pt(T,W,z){var p=R(W,z);return{arrayType:p.constructor,buffer:ce(T,p,void 0,W.drawType),type:d.getGLTypeForTypedArray(p),numValues:0}}function zt(T,W){var z={};return Object.keys(W).forEach(function(p){if(!Oe(p)){var I=W[p],Ae=I.attrib||I.name||I.attribName||$.attribPrefix+p;if(I.value){if(!Array.isArray(I.value)&&!d.isArrayBuffer(I.value))throw new Error("array.value is not array or typedarray");z[Ae]={value:I.value}}else{var L=(I.buffer&&I.buffer instanceof WebGLBuffer?Ce:"number"==typeof I||"number"==typeof I.data?Re:pt)(T,I,p),ve=L.buffer,ge=L.type,et=L.numValues,Rt=void 0!==I.normalize?I.normalize:function Ue(T){return T===Int8Array||T===Uint8Array}(L.arrayType),ln=de(I,p,et);z[Ae]={buffer:ve,numComponents:ln,type:ge,normalize:Rt,stride:I.stride||0,offset:I.offset||0,divisor:void 0===I.divisor?void 0:I.divisor,drawType:I.drawType}}}}),T.bindBuffer(y,null),z}var Ne=["position","positions","a_position"];function D(T,W,z){var p="indices"===z?v:y;return ce(T,R(W,z),p)}},"./src/draw.js":
/*!*********************!*\
                !*** ./src/draw.js ***!
                \*********************/(f,C,x)=>{function w(M){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(M)}C.__esModule=!0,C.drawBufferInfo=y,C.drawObjectList=function v(M,G){var K=null,V=null;G.forEach(function(Z){if(!1!==Z.active){var J=Z.programInfo,te=Z.vertexArrayInfo||Z.bufferInfo,ae=!1,Y=void 0===Z.type?U:Z.type;J!==K&&(K=J,M.useProgram(J.program),ae=!0),(ae||te!==V)&&(V&&V.vertexArrayObject&&!te.vertexArrayObject&&M.bindVertexArray(null),V=te,d.setBuffersAndAttributes(M,J,te)),d.setUniforms(J,Z.uniforms),y(M,te,Y,Z.count,Z.offset,Z.instanceCount)}}),V&&V.vertexArrayObject&&M.bindVertexArray(null)};var d=function S(M,G){if(!G&&M&&M.__esModule)return M;if(null===M||"object"!=w(M)&&"function"!=typeof M)return{default:M};var K=k(G);if(K&&K.has(M))return K.get(M);var V={__proto__:null},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in M)if("default"!==J&&Object.prototype.hasOwnProperty.call(M,J)){var te=Z?Object.getOwnPropertyDescriptor(M,J):null;te&&(te.get||te.set)?Object.defineProperty(V,J,te):V[J]=M[J]}return V.default=M,K&&K.set(M,V),V}(x(
/*! ./programs.js */
"./src/programs.js"));function k(M){if("function"!=typeof WeakMap)return null;var G=new WeakMap,K=new WeakMap;return(k=function(Z){return Z?K:G})(M)}var U=4,P=5123;function y(M,G,K,V,Z,J){K=void 0===K?U:K;var ae=G.elementType,Y=void 0===V?G.numElements:V;Z=void 0===Z?0:Z,ae||G.indices?void 0!==J?M.drawElementsInstanced(K,Y,void 0===ae?P:G.elementType,Z,J):M.drawElements(K,Y,void 0===ae?P:G.elementType,Z):void 0!==J?M.drawArraysInstanced(K,Z,Y,J):M.drawArrays(K,Z,Y)}},"./src/framebuffers.js":
/*!*****************************!*\
                !*** ./src/framebuffers.js ***!
                \*****************************/(f,C,x)=>{function w(Xe){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ot){return typeof Ot}:function(Ot){return Ot&&"function"==typeof Symbol&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot})(Xe)}C.__esModule=!0,C.bindFramebufferInfo=function Ne(Xe,Ot,re){re=re||y,Ot?(Xe.bindFramebuffer(re,Ot.framebuffer),Xe.viewport(0,0,Ot.width,Ot.height)):(Xe.bindFramebuffer(re,null),Xe.viewport(0,0,Xe.drawingBufferWidth,Xe.drawingBufferHeight))},C.createFramebufferInfo=function Mn(Xe,Ot,re,D){var F=y,T=Xe.createFramebuffer();Xe.bindFramebuffer(F,T);var W=[],z={framebuffer:T,attachments:[],width:re=re||Xe.drawingBufferWidth,height:D=D||Xe.drawingBufferHeight};return(Ot=Ot||R).forEach(function(p,I){var Ae=p.attachment,se=p.samples,L=p.format,ve=p.attachmentPoint||function he(Xe,Ot){return j[Xe]||j[Ot]}(L,p.internalFormat);if(ve||(ve=Ue+I),function zt(Xe){return Xe>=Ue&&Xe<Ue+pt}(ve)&&W.push(ve),!Ae)if(void 0!==se||function Re(Xe){return Ce[Xe]}(L))Ae=Xe.createRenderbuffer(),Xe.bindRenderbuffer(v,Ae),se>1?Xe.renderbufferStorageMultisample(v,se,L,re,D):Xe.renderbufferStorage(v,L,re,D);else{var ge=Object.assign({},p);ge.width=re,ge.height=D,void 0===ge.auto&&(ge.auto=!1,ge.min=ge.min||ge.minMag||de,ge.mag=ge.mag||ge.minMag||de,ge.wrapS=ge.wrapS||ge.wrap||Bt,ge.wrapT=ge.wrapT||ge.wrap||Bt),Ae=d.createTexture(Xe,ge)}if(k.isRenderbuffer(Xe,Ae))Xe.framebufferRenderbuffer(F,ve,v,Ae);else{if(!k.isTexture(Xe,Ae))throw new Error("unknown attachment type");void 0!==p.layer?Xe.framebufferTextureLayer(F,ve,Ae,p.level||0,p.layer):Xe.framebufferTexture2D(F,ve,p.target||M,Ae,p.level||0)}z.attachments.push(Ae)}),Xe.drawBuffers&&Xe.drawBuffers(W),z},C.resizeFramebufferInfo=function It(Xe,Ot,re,D,F){F=F||Xe.drawingBufferHeight,Ot.width=D=D||Xe.drawingBufferWidth,Ot.height=F,(re=re||R).forEach(function(T,W){var z=Ot.attachments[W],p=T.format,I=T.samples;if(void 0!==I||k.isRenderbuffer(Xe,z))Xe.bindRenderbuffer(v,z),I>1?Xe.renderbufferStorageMultisample(v,I,p,D,F):Xe.renderbufferStorage(v,p,D,F);else{if(!k.isTexture(Xe,z))throw new Error("unknown attachment type");d.resizeTexture(Xe,z,T,D,F)}})};var d=U(x(
/*! ./textures.js */
"./src/textures.js")),k=U(x(
/*! ./helper.js */
"./src/helper.js"));function S(Xe){if("function"!=typeof WeakMap)return null;var Ot=new WeakMap,re=new WeakMap;return(S=function(F){return F?re:Ot})(Xe)}function U(Xe,Ot){if(!Ot&&Xe&&Xe.__esModule)return Xe;if(null===Xe||"object"!=w(Xe)&&"function"!=typeof Xe)return{default:Xe};var re=S(Ot);if(re&&re.has(Xe))return re.get(Xe);var D={__proto__:null},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in Xe)if("default"!==T&&Object.prototype.hasOwnProperty.call(Xe,T)){var W=F?Object.getOwnPropertyDescriptor(Xe,T):null;W&&(W.get||W.set)?Object.defineProperty(D,T,W):D[T]=Xe[T]}return D.default=Xe,re&&re.set(Xe,D),D}var y=36160,v=36161,M=3553,Ue=36064,qe=36096,Bt=33071,de=9729,R=[{format:6408,type:5121,min:de,wrap:Bt},{format:34041}],j={34041:33306,6401:36128,36168:36128};j[6402]=qe,j[33189]=qe,j[33190]=qe,j[36012]=qe,j[35056]=33306,j[36013]=33306;var Ce={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0},pt=32},"./src/helper.js":
/*!***********************!*\
                !*** ./src/helper.js ***!
                \***********************/(f,C)=>{function x(V){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(V)}C.__esModule=!0,C.copyExistingProperties=function d(V,Z){Object.keys(Z).forEach(function(J){Z.hasOwnProperty(J)&&V.hasOwnProperty(J)&&(Z[J]=V[J])})},C.copyNamedProperties=function w(V,Z,J){V.forEach(function(te){var ae=Z[te];void 0!==ae&&(J[te]=ae)})},C.error=function k(){var V;(V=console).error.apply(V,arguments)},C.isBuffer=function y(V,Z){return typeof WebGLBuffer<"u"&&P(Z,"WebGLBuffer")},C.isRenderbuffer=function v(V,Z){return typeof WebGLRenderbuffer<"u"&&P(Z,"WebGLRenderbuffer")},C.isSampler=function K(V,Z){return typeof WebGLSampler<"u"&&P(Z,"WebGLSampler")},C.isShader=function M(V,Z){return typeof WebGLShader<"u"&&P(Z,"WebGLShader")},C.isTexture=function G(V,Z){return typeof WebGLTexture<"u"&&P(Z,"WebGLTexture")},C.warn=function S(){var V;(V=console).warn.apply(V,arguments)};var U=new Map;function P(V,Z){if(!V||"object"!==x(V))return!1;var J=U.get(Z);J||U.set(Z,J=new WeakMap);var te=J.get(V);if(void 0===te){var ae=Object.prototype.toString.call(V);te=ae.substring(8,ae.length-1)===Z,J.set(V,te)}return te}},"./src/programs.js":
/*!*************************!*\
                !*** ./src/programs.js ***!
                \*************************/(f,C,x)=>{function w($e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Nt){return typeof Nt}:function(Nt){return Nt&&"function"==typeof Symbol&&Nt.constructor===Symbol&&Nt!==Symbol.prototype?"symbol":typeof Nt})($e)}C.__esModule=!0,C.bindTransformFeedbackInfo=$i,C.bindUniformBlock=Lo,C.createAttributeSetters=cs,C.createProgram=Ro,C.createProgramAsync=void 0,C.createProgramFromScripts=function ar($e,Nt,nn,Zn,Er){var pi,Cr=Ir(nn,Zn,Er),Kr=[],$r=$(Nt);try{for($r.s();!(pi=$r.n()).done;){var ri=pi.value,Xi=ht(ri);if(!Xi)return sn(Cr,"unknown script element: ".concat(ri));Kr.push(Xi.text)}}catch(vo){$r.e(vo)}finally{$r.f()}return Ro($e,Kr,Cr)},C.createProgramFromSources=ur,C.createProgramInfo=Pr,C.createProgramInfoAsync=void 0,C.createProgramInfoFromProgram=pr,C.createProgramInfos=xn,C.createProgramInfosAsync=void 0,C.createPrograms=ot,C.createProgramsAsync=void 0,C.createTransformFeedback=function No($e,Nt,nn){var Zn=$e.createTransformFeedback();return $e.bindTransformFeedback(Re,Zn),$e.useProgram(Nt.program),$i($e,Nt,nn),$e.bindTransformFeedback(Re,null),Zn},C.createTransformFeedbackInfo=xo,C.createUniformBlockInfo=function Gs($e,Nt,nn){return qo($e,Nt.program,Nt.uniformBlockSpec,nn)},C.createUniformBlockInfoFromProgram=qo,C.createUniformBlockSpecFromProgram=ls,C.createUniformSetters=to,C.setAttributes=ua,C.setBlockUniforms=function ca($e,Nt){var nn=$e.setters;for(var Zn in Nt){var Er=nn[Zn];Er&&Er(Nt[Zn])}},C.setBuffersAndAttributes=function tr($e,Nt,nn){nn.vertexArrayObject?$e.bindVertexArray(nn.vertexArrayObject):(ua(Nt.attribSetters||Nt,nn.attribs),nn.indices&&$e.bindBuffer(j,nn.indices))},C.setUniformBlock=function pa($e,Nt,nn){Lo($e,Nt,nn)&&$e.bufferData(he,nn.array,de)},C.setUniforms=Ks,C.setUniformsAndBindTextures=void 0;var d=U(x(
/*! ./utils.js */
"./src/utils.js")),k=U(x(
/*! ./helper.js */
"./src/helper.js"));function S($e){if("function"!=typeof WeakMap)return null;var Nt=new WeakMap,nn=new WeakMap;return(S=function(Er){return Er?nn:Nt})($e)}function U($e,Nt){if(!Nt&&$e&&$e.__esModule)return $e;if(null===$e||"object"!=w($e)&&"function"!=typeof $e)return{default:$e};var nn=S(Nt);if(nn&&nn.has($e))return nn.get($e);var Zn={__proto__:null},Er=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Cr in $e)if("default"!==Cr&&Object.prototype.hasOwnProperty.call($e,Cr)){var Kr=Er?Object.getOwnPropertyDescriptor($e,Cr):null;Kr&&(Kr.get||Kr.set)?Object.defineProperty(Zn,Cr,Kr):Zn[Cr]=$e[Cr]}return Zn.default=$e,nn&&nn.set($e,Zn),Zn}function P(){P=function(){return Nt};var $e,Nt={},nn=Object.prototype,Zn=nn.hasOwnProperty,Er=Object.defineProperty||function(di,Lr,wi){di[Lr]=wi.value},Cr="function"==typeof Symbol?Symbol:{},Kr=Cr.iterator||"@@iterator",$r=Cr.asyncIterator||"@@asyncIterator",pi=Cr.toStringTag||"@@toStringTag";function ri(di,Lr,wi){return Object.defineProperty(di,Lr,{value:wi,enumerable:!0,configurable:!0,writable:!0}),di[Lr]}try{ri({},"")}catch{ri=function(wi,Zi,Ui){return wi[Zi]=Ui}}function Xi(di,Lr,wi,Zi){var pe=Object.create((Lr&&Lr.prototype instanceof ft?Lr:ft).prototype),le=new Vr(Zi||[]);return Er(pe,"_invoke",{value:$t(di,wi,le)}),pe}function vo(di,Lr,wi){try{return{type:"normal",arg:di.call(Lr,wi)}}catch(Zi){return{type:"throw",arg:Zi}}}Nt.wrap=Xi;var ko="suspendedStart",Ao="suspendedYield",st="executing",Qe="completed",dn={};function ft(){}function fe(){}function St(){}var cn={};ri(cn,Kr,function(){return this});var Yn=Object.getPrototypeOf,wt=Yn&&Yn(Yn(ci([])));wt&&wt!==nn&&Zn.call(wt,Kr)&&(cn=wt);var Q=St.prototype=ft.prototype=Object.create(cn);function be(di){["next","throw","return"].forEach(function(Lr){ri(di,Lr,function(wi){return this._invoke(Lr,wi)})})}function Ke(di,Lr){function wi(Ui,pe,le,Ge){var Mt=vo(di[Ui],di,pe);if("throw"!==Mt.type){var Lt=Mt.arg,pn=Lt.value;return pn&&"object"==w(pn)&&Zn.call(pn,"__await")?Lr.resolve(pn.__await).then(function(Bn){wi("next",Bn,le,Ge)},function(Bn){wi("throw",Bn,le,Ge)}):Lr.resolve(pn).then(function(Bn){Lt.value=Bn,le(Lt)},function(Bn){return wi("throw",Bn,le,Ge)})}Ge(Mt.arg)}var Zi;Er(this,"_invoke",{value:function(pe,le){function Ge(){return new Lr(function(Mt,Lt){wi(pe,le,Mt,Lt)})}return Zi=Zi?Zi.then(Ge,Ge):Ge()}})}function $t(di,Lr,wi){var Zi=ko;return function(Ui,pe){if(Zi===st)throw new Error("Generator is already running");if(Zi===Qe){if("throw"===Ui)throw pe;return{value:$e,done:!0}}for(wi.method=Ui,wi.arg=pe;;){var le=wi.delegate;if(le){var Ge=Sn(le,wi);if(Ge){if(Ge===dn)continue;return Ge}}if("next"===wi.method)wi.sent=wi._sent=wi.arg;else if("throw"===wi.method){if(Zi===ko)throw Zi=Qe,wi.arg;wi.dispatchException(wi.arg)}else"return"===wi.method&&wi.abrupt("return",wi.arg);Zi=st;var Mt=vo(di,Lr,wi);if("normal"===Mt.type){if(Zi=wi.done?Qe:Ao,Mt.arg===dn)continue;return{value:Mt.arg,done:wi.done}}"throw"===Mt.type&&(Zi=Qe,wi.method="throw",wi.arg=Mt.arg)}}}function Sn(di,Lr){var wi=Lr.method,Zi=di.iterator[wi];if(Zi===$e)return Lr.delegate=null,"throw"===wi&&di.iterator.return&&(Lr.method="return",Lr.arg=$e,Sn(di,Lr),"throw"===Lr.method)||"return"!==wi&&(Lr.method="throw",Lr.arg=new TypeError("The iterator does not provide a '"+wi+"' method")),dn;var Ui=vo(Zi,di.iterator,Lr.arg);if("throw"===Ui.type)return Lr.method="throw",Lr.arg=Ui.arg,Lr.delegate=null,dn;var pe=Ui.arg;return pe?pe.done?(Lr[di.resultName]=pe.value,Lr.next=di.nextLoc,"return"!==Lr.method&&(Lr.method="next",Lr.arg=$e),Lr.delegate=null,dn):pe:(Lr.method="throw",Lr.arg=new TypeError("iterator result is not an object"),Lr.delegate=null,dn)}function Xn(di){var Lr={tryLoc:di[0]};1 in di&&(Lr.catchLoc=di[1]),2 in di&&(Lr.finallyLoc=di[2],Lr.afterLoc=di[3]),this.tryEntries.push(Lr)}function yr(di){var Lr=di.completion||{};Lr.type="normal",delete Lr.arg,di.completion=Lr}function Vr(di){this.tryEntries=[{tryLoc:"root"}],di.forEach(Xn,this),this.reset(!0)}function ci(di){if(di||""===di){var Lr=di[Kr];if(Lr)return Lr.call(di);if("function"==typeof di.next)return di;if(!isNaN(di.length)){var wi=-1,Zi=function Ui(){for(;++wi<di.length;)if(Zn.call(di,wi))return Ui.value=di[wi],Ui.done=!1,Ui;return Ui.value=$e,Ui.done=!0,Ui};return Zi.next=Zi}}throw new TypeError(w(di)+" is not iterable")}return fe.prototype=St,Er(Q,"constructor",{value:St,configurable:!0}),Er(St,"constructor",{value:fe,configurable:!0}),fe.displayName=ri(St,pi,"GeneratorFunction"),Nt.isGeneratorFunction=function(di){var Lr="function"==typeof di&&di.constructor;return!!Lr&&(Lr===fe||"GeneratorFunction"===(Lr.displayName||Lr.name))},Nt.mark=function(di){return Object.setPrototypeOf?Object.setPrototypeOf(di,St):(di.__proto__=St,ri(di,pi,"GeneratorFunction")),di.prototype=Object.create(Q),di},Nt.awrap=function(di){return{__await:di}},be(Ke.prototype),ri(Ke.prototype,$r,function(){return this}),Nt.AsyncIterator=Ke,Nt.async=function(di,Lr,wi,Zi,Ui){void 0===Ui&&(Ui=Promise);var pe=new Ke(Xi(di,Lr,wi,Zi),Ui);return Nt.isGeneratorFunction(Lr)?pe:pe.next().then(function(le){return le.done?le.value:pe.next()})},be(Q),ri(Q,pi,"Generator"),ri(Q,Kr,function(){return this}),ri(Q,"toString",function(){return"[object Generator]"}),Nt.keys=function(di){var Lr=Object(di),wi=[];for(var Zi in Lr)wi.push(Zi);return wi.reverse(),function Ui(){for(;wi.length;){var pe=wi.pop();if(pe in Lr)return Ui.value=pe,Ui.done=!1,Ui}return Ui.done=!0,Ui}},Nt.values=ci,Vr.prototype={constructor:Vr,reset:function(Lr){if(this.prev=0,this.next=0,this.sent=this._sent=$e,this.done=!1,this.delegate=null,this.method="next",this.arg=$e,this.tryEntries.forEach(yr),!Lr)for(var wi in this)"t"===wi.charAt(0)&&Zn.call(this,wi)&&!isNaN(+wi.slice(1))&&(this[wi]=$e)},stop:function(){this.done=!0;var Lr=this.tryEntries[0].completion;if("throw"===Lr.type)throw Lr.arg;return this.rval},dispatchException:function(Lr){if(this.done)throw Lr;var wi=this;function Zi(Lt,pn){return le.type="throw",le.arg=Lr,wi.next=Lt,pn&&(wi.method="next",wi.arg=$e),!!pn}for(var Ui=this.tryEntries.length-1;Ui>=0;--Ui){var pe=this.tryEntries[Ui],le=pe.completion;if("root"===pe.tryLoc)return Zi("end");if(pe.tryLoc<=this.prev){var Ge=Zn.call(pe,"catchLoc"),Mt=Zn.call(pe,"finallyLoc");if(Ge&&Mt){if(this.prev<pe.catchLoc)return Zi(pe.catchLoc,!0);if(this.prev<pe.finallyLoc)return Zi(pe.finallyLoc)}else if(Ge){if(this.prev<pe.catchLoc)return Zi(pe.catchLoc,!0)}else{if(!Mt)throw new Error("try statement without catch or finally");if(this.prev<pe.finallyLoc)return Zi(pe.finallyLoc)}}}},abrupt:function(Lr,wi){for(var Zi=this.tryEntries.length-1;Zi>=0;--Zi){var Ui=this.tryEntries[Zi];if(Ui.tryLoc<=this.prev&&Zn.call(Ui,"finallyLoc")&&this.prev<Ui.finallyLoc){var pe=Ui;break}}pe&&("break"===Lr||"continue"===Lr)&&pe.tryLoc<=wi&&wi<=pe.finallyLoc&&(pe=null);var le=pe?pe.completion:{};return le.type=Lr,le.arg=wi,pe?(this.method="next",this.next=pe.finallyLoc,dn):this.complete(le)},complete:function(Lr,wi){if("throw"===Lr.type)throw Lr.arg;return"break"===Lr.type||"continue"===Lr.type?this.next=Lr.arg:"return"===Lr.type?(this.rval=this.arg=Lr.arg,this.method="return",this.next="end"):"normal"===Lr.type&&wi&&(this.next=wi),dn},finish:function(Lr){for(var wi=this.tryEntries.length-1;wi>=0;--wi){var Zi=this.tryEntries[wi];if(Zi.finallyLoc===Lr)return this.complete(Zi.completion,Zi.afterLoc),yr(Zi),dn}},catch:function(Lr){for(var wi=this.tryEntries.length-1;wi>=0;--wi){var Zi=this.tryEntries[wi];if(Zi.tryLoc===Lr){var Ui=Zi.completion;if("throw"===Ui.type){var pe=Ui.arg;yr(Zi)}return pe}}throw new Error("illegal catch attempt")},delegateYield:function(Lr,wi,Zi){return this.delegate={iterator:ci(Lr),resultName:wi,nextLoc:Zi},"next"===this.method&&(this.arg=$e),dn}},Nt}function y($e,Nt){var nn=Object.keys($e);if(Object.getOwnPropertySymbols){var Zn=Object.getOwnPropertySymbols($e);Nt&&(Zn=Zn.filter(function(Er){return Object.getOwnPropertyDescriptor($e,Er).enumerable})),nn.push.apply(nn,Zn)}return nn}function v($e){for(var Nt=1;Nt<arguments.length;Nt++){var nn=null!=arguments[Nt]?arguments[Nt]:{};Nt%2?y(Object(nn),!0).forEach(function(Zn){M($e,Zn,nn[Zn])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(nn)):y(Object(nn)).forEach(function(Zn){Object.defineProperty($e,Zn,Object.getOwnPropertyDescriptor(nn,Zn))})}return $e}function M($e,Nt,nn){return Nt=function G($e){var Nt=function K($e,Nt){if("object"!=w($e)||!$e)return $e;var nn=$e[Symbol.toPrimitive];if(void 0!==nn){var Zn=nn.call($e,Nt||"default");if("object"!=w(Zn))return Zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Nt?String:Number)($e)}($e,"string");return"symbol"==w(Nt)?Nt:String(Nt)}(Nt),Nt in $e?Object.defineProperty($e,Nt,{value:nn,enumerable:!0,configurable:!0,writable:!0}):$e[Nt]=nn,$e}function V($e,Nt,nn,Zn,Er,Cr,Kr){try{var $r=$e[Cr](Kr),pi=$r.value}catch(ri){return void nn(ri)}$r.done?Nt(pi):Promise.resolve(pi).then(Zn,Er)}function Z($e){return function(){var Nt=this,nn=arguments;return new Promise(function(Zn,Er){var Cr=$e.apply(Nt,nn);function Kr(pi){V(Cr,Zn,Er,Kr,$r,"next",pi)}function $r(pi){V(Cr,Zn,Er,Kr,$r,"throw",pi)}Kr(void 0)})}}function J($e,Nt){return function Y($e){if(Array.isArray($e))return $e}($e)||function ae($e,Nt){var nn=null==$e?null:typeof Symbol<"u"&&$e[Symbol.iterator]||$e["@@iterator"];if(null!=nn){var Zn,Er,Cr,Kr,$r=[],pi=!0,ri=!1;try{if(Cr=(nn=nn.call($e)).next,0===Nt){if(Object(nn)!==nn)return;pi=!1}else for(;!(pi=(Zn=Cr.call(nn)).done)&&($r.push(Zn.value),$r.length!==Nt);pi=!0);}catch(Xi){ri=!0,Er=Xi}finally{try{if(!pi&&null!=nn.return&&(Kr=nn.return(),Object(Kr)!==Kr))return}finally{if(ri)throw Er}}return $r}}($e,Nt)||B($e,Nt)||function te(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $($e,Nt){var nn=typeof Symbol<"u"&&$e[Symbol.iterator]||$e["@@iterator"];if(!nn){if(Array.isArray($e)||(nn=B($e))||Nt&&$e&&"number"==typeof $e.length){nn&&($e=nn);var Zn=0,Er=function(){};return{s:Er,n:function(){return Zn>=$e.length?{done:!0}:{done:!1,value:$e[Zn++]}},e:function(ri){throw ri},f:Er}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $r,Cr=!0,Kr=!1;return{s:function(){nn=nn.call($e)},n:function(){var ri=nn.next();return Cr=ri.done,ri},e:function(ri){Kr=!0,$r=ri},f:function(){try{!Cr&&null!=nn.return&&nn.return()}finally{if(Kr)throw $r}}}}function B($e,Nt){if($e){if("string"==typeof $e)return Ue($e,Nt);var nn=Object.prototype.toString.call($e).slice(8,-1);if("Object"===nn&&$e.constructor&&(nn=$e.constructor.name),"Map"===nn||"Set"===nn)return Array.from($e);if("Arguments"===nn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nn))return Ue($e,Nt)}}function Ue($e,Nt){(null==Nt||Nt>$e.length)&&(Nt=$e.length);for(var nn=0,Zn=new Array(Nt);nn<Nt;nn++)Zn[nn]=$e[nn];return Zn}var qe=k.error,_e=k.warn;function ht($e){return typeof document<"u"&&document.getElementById?document.getElementById($e):null}var Bt=33984,de=35048,R=34962,j=34963,he=35345,Ce=35982,Re=36386,pt=35713,zt=35714,Mn=35632,It=35633,Ne=35981,Xe=35718,Ot=35721,re=35971,D=35382,F=35396,T=35398,W=35392,z=35395,p=5126,L=5124,wn=34067,dr=35866,sr={};function Gr($e,Nt){return sr[Nt].bindPoint}function Pi($e,Nt){return function(nn){$e.uniform1i(Nt,nn)}}function ti($e,Nt){return function(nn){$e.uniform1iv(Nt,nn)}}function mr($e,Nt){return function(nn){$e.uniform2iv(Nt,nn)}}function Li($e,Nt){return function(nn){$e.uniform3iv(Nt,nn)}}function ro($e,Nt){return function(nn){$e.uniform4iv(Nt,nn)}}function Ti($e,Nt,nn,Zn){var Er=Gr(0,Nt);return d.isWebGL2($e)?function(Cr){var Kr,$r;!Cr||k.isTexture($e,Cr)?(Kr=Cr,$r=null):(Kr=Cr.texture,$r=Cr.sampler),$e.uniform1i(Zn,nn),$e.activeTexture(Bt+nn),$e.bindTexture(Er,Kr),$e.bindSampler(nn,$r)}:function(Cr){$e.uniform1i(Zn,nn),$e.activeTexture(Bt+nn),$e.bindTexture(Er,Cr)}}function ni($e,Nt,nn,Zn,Er){for(var Cr=Gr(0,Nt),Kr=new Int32Array(Er),$r=0;$r<Er;++$r)Kr[$r]=nn+$r;return d.isWebGL2($e)?function(pi){$e.uniform1iv(Zn,Kr),pi.forEach(function(ri,Xi){var vo,ko;$e.activeTexture(Bt+Kr[Xi]),!ri||k.isTexture($e,ri)?(vo=ri,ko=null):(vo=ri.texture,ko=ri.sampler),$e.bindSampler(nn,ko),$e.bindTexture(Cr,vo)})}:function(pi){$e.uniform1iv(Zn,Kr),pi.forEach(function(ri,Xi){$e.activeTexture(Bt+Kr[Xi]),$e.bindTexture(Cr,ri)})}}function ai($e,Nt){return function(nn){if(nn.value)switch($e.disableVertexAttribArray(Nt),nn.value.length){case 4:$e.vertexAttrib4fv(Nt,nn.value);break;case 3:$e.vertexAttrib3fv(Nt,nn.value);break;case 2:$e.vertexAttrib2fv(Nt,nn.value);break;case 1:$e.vertexAttrib1fv(Nt,nn.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else $e.bindBuffer(R,nn.buffer),$e.enableVertexAttribArray(Nt),$e.vertexAttribPointer(Nt,nn.numComponents||nn.size,nn.type||p,nn.normalize||!1,nn.stride||0,nn.offset||0),$e.vertexAttribDivisor&&$e.vertexAttribDivisor(Nt,nn.divisor||0)}}function Oi($e,Nt){return function(nn){if(nn.value){if($e.disableVertexAttribArray(Nt),4!==nn.value.length)throw new Error("The length of an integer constant value must be 4!");$e.vertexAttrib4iv(Nt,nn.value)}else $e.bindBuffer(R,nn.buffer),$e.enableVertexAttribArray(Nt),$e.vertexAttribIPointer(Nt,nn.numComponents||nn.size,nn.type||L,nn.stride||0,nn.offset||0),$e.vertexAttribDivisor&&$e.vertexAttribDivisor(Nt,nn.divisor||0)}}function so($e,Nt){return function(nn){if(nn.value){if($e.disableVertexAttribArray(Nt),4!==nn.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");$e.vertexAttrib4uiv(Nt,nn.value)}else $e.bindBuffer(R,nn.buffer),$e.enableVertexAttribArray(Nt),$e.vertexAttribIPointer(Nt,nn.numComponents||nn.size,nn.type||5125,nn.stride||0,nn.offset||0),$e.vertexAttribDivisor&&$e.vertexAttribDivisor(Nt,nn.divisor||0)}}function wo($e,Nt,nn){var Zn=nn.size,Er=nn.count;return function(Cr){$e.bindBuffer(R,Cr.buffer);for(var Kr=Cr.size||Cr.numComponents||Zn,$r=Kr/Er,pi=Cr.type||p,Xi=sr[pi].size*Kr,vo=Cr.normalize||!1,ko=Cr.offset||0,Ao=Xi/Er,st=0;st<Er;++st)$e.enableVertexAttribArray(Nt+st),$e.vertexAttribPointer(Nt+st,$r,pi,vo,Xi,ko+Ao*st),$e.vertexAttribDivisor&&$e.vertexAttribDivisor(Nt+st,Cr.divisor||0)}}sr[p]={Type:Float32Array,size:4,setter:function hi($e,Nt){return function(nn){$e.uniform1f(Nt,nn)}},arraySetter:function Ei($e,Nt){return function(nn){$e.uniform1fv(Nt,nn)}}},sr[35664]={Type:Float32Array,size:8,setter:function fi($e,Nt){return function(nn){$e.uniform2fv(Nt,nn)}},cols:2},sr[35665]={Type:Float32Array,size:12,setter:function co($e,Nt){return function(nn){$e.uniform3fv(Nt,nn)}},cols:3},sr[35666]={Type:Float32Array,size:16,setter:function uo($e,Nt){return function(nn){$e.uniform4fv(Nt,nn)}},cols:4},sr[L]={Type:Int32Array,size:4,setter:Pi,arraySetter:ti},sr[35667]={Type:Int32Array,size:8,setter:mr,cols:2},sr[35668]={Type:Int32Array,size:12,setter:Li,cols:3},sr[35669]={Type:Int32Array,size:16,setter:ro,cols:4},sr[5125]={Type:Uint32Array,size:4,setter:function Pe($e,Nt){return function(nn){$e.uniform1ui(Nt,nn)}},arraySetter:function dt($e,Nt){return function(nn){$e.uniform1uiv(Nt,nn)}}},sr[36294]={Type:Uint32Array,size:8,setter:function vn($e,Nt){return function(nn){$e.uniform2uiv(Nt,nn)}},cols:2},sr[36295]={Type:Uint32Array,size:12,setter:function bn($e,Nt){return function(nn){$e.uniform3uiv(Nt,nn)}},cols:3},sr[36296]={Type:Uint32Array,size:16,setter:function Gn($e,Nt){return function(nn){$e.uniform4uiv(Nt,nn)}},cols:4},sr[35670]={Type:Uint32Array,size:4,setter:Pi,arraySetter:ti},sr[35671]={Type:Uint32Array,size:8,setter:mr,cols:2},sr[35672]={Type:Uint32Array,size:12,setter:Li,cols:3},sr[35673]={Type:Uint32Array,size:16,setter:ro,cols:4},sr[35674]={Type:Float32Array,size:32,setter:function nr($e,Nt){return function(nn){$e.uniformMatrix2fv(Nt,!1,nn)}},rows:2,cols:2},sr[35675]={Type:Float32Array,size:48,setter:function er($e,Nt){return function(nn){$e.uniformMatrix3fv(Nt,!1,nn)}},rows:3,cols:3},sr[35676]={Type:Float32Array,size:64,setter:function Be($e,Nt){return function(nn){$e.uniformMatrix4fv(Nt,!1,nn)}},rows:4,cols:4},sr[35685]={Type:Float32Array,size:32,setter:function tt($e,Nt){return function(nn){$e.uniformMatrix2x3fv(Nt,!1,nn)}},rows:2,cols:3},sr[35686]={Type:Float32Array,size:32,setter:function fr($e,Nt){return function(nn){$e.uniformMatrix2x4fv(Nt,!1,nn)}},rows:2,cols:4},sr[35687]={Type:Float32Array,size:48,setter:function un($e,Nt){return function(nn){$e.uniformMatrix3x2fv(Nt,!1,nn)}},rows:3,cols:2},sr[35688]={Type:Float32Array,size:48,setter:function zr($e,Nt){return function(nn){$e.uniformMatrix3x4fv(Nt,!1,nn)}},rows:3,cols:4},sr[35689]={Type:Float32Array,size:64,setter:function Ar($e,Nt){return function(nn){$e.uniformMatrix4x2fv(Nt,!1,nn)}},rows:4,cols:2},sr[35690]={Type:Float32Array,size:64,setter:function si($e,Nt){return function(nn){$e.uniformMatrix4x3fv(Nt,!1,nn)}},rows:4,cols:3},sr[35678]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:3553},sr[35680]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:wn},sr[35679]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:32879},sr[35682]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:3553},sr[36289]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:dr},sr[36292]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:dr},sr[36293]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:wn},sr[36298]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:3553},sr[36299]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:32879},sr[36300]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:wn},sr[36303]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:dr},sr[36306]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:3553},sr[36307]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:32879},sr[36308]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:wn},sr[36311]={Type:null,size:0,setter:Ti,arraySetter:ni,bindPoint:dr};var eo={};eo[p]={size:4,setter:ai},eo[35664]={size:8,setter:ai},eo[35665]={size:12,setter:ai},eo[35666]={size:16,setter:ai},eo[L]={size:4,setter:Oi},eo[35667]={size:8,setter:Oi},eo[35668]={size:12,setter:Oi},eo[35669]={size:16,setter:Oi},eo[5125]={size:4,setter:so},eo[36294]={size:8,setter:so},eo[36295]={size:12,setter:so},eo[36296]={size:16,setter:so},eo[35670]={size:4,setter:Oi},eo[35671]={size:8,setter:Oi},eo[35672]={size:12,setter:Oi},eo[35673]={size:16,setter:Oi},eo[35674]={size:4,setter:wo,count:2},eo[35675]={size:9,setter:wo,count:3},eo[35676]={size:16,setter:wo,count:4};var $n=/ERROR:\s*\d+:(\d+)/gi,ze=/^[ \t]*\n/;function Dt($e){var Nt=0;return ze.test($e)&&(Nt=1,$e=$e.replace(ze,"")),{lineOffset:Nt,shaderSource:$e}}function sn($e,Nt){return $e.errorCallback(Nt),$e.callback&&setTimeout(function(){$e.callback("".concat(Nt,"\n").concat($e.errors.join("\n")))}),null}function Wn($e,Nt,nn,Zn){if(Zn=Zn||qe,!$e.getShaderParameter(nn,pt)){var Cr=$e.getShaderInfoLog(nn),Kr=Dt($e.getShaderSource(nn)),ri="".concat(function fn($e){var Nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,Zn=function H($e){return function Oe($e){if(Array.isArray($e))return Ue($e)}($e)||function ce($e){if(typeof Symbol<"u"&&null!=$e[Symbol.iterator]||null!=$e["@@iterator"])return Array.from($e)}($e)||B($e)||function me(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nt.matchAll($n)),Er=new Map(Zn.map(function(Cr,Kr){var $r=parseInt(Cr[1]),pi=Zn[Kr+1];return[$r-1,Nt.substring(Cr.index,pi?pi.index:Nt.length)]}));return $e.split("\n").map(function(Cr,Kr){var $r=Er.get(Kr);return"".concat(Kr+1+nn,": ").concat(Cr).concat($r?"\n\n^^^ ".concat($r):"")}).join("\n")}(Kr.shaderSource,Cr,Kr.lineOffset),"\nError compiling ").concat(d.glEnumToString($e,Nt),": ").concat(Cr);return Zn(ri),ri}return""}function Ir($e,Nt,nn){var Zn,Er,Cr;if("function"==typeof Nt&&(nn=Nt,Nt=void 0),"function"==typeof $e)nn=$e,$e=void 0;else if($e&&!Array.isArray($e)){var Kr=$e;nn=Kr.errorCallback,$e=Kr.attribLocations,Zn=Kr.transformFeedbackVaryings,Er=Kr.transformFeedbackMode,Cr=Kr.callback}var $r=nn||qe,pi=[],ri={errorCallback:function(ko){pi.push(ko);for(var Ao=arguments.length,st=new Array(Ao>1?Ao-1:0),Qe=1;Qe<Ao;Qe++)st[Qe-1]=arguments[Qe];$r.apply(void 0,[ko].concat(st))},transformFeedbackVaryings:Zn,transformFeedbackMode:Er,callback:Cr,errors:pi},Xi={};return Array.isArray($e)?$e.forEach(function(vo,ko){Xi[vo]=Nt?Nt[ko]:ko}):Xi=$e||{},ri.attribLocations=Xi,ri}var Zr=["VERTEX_SHADER","FRAGMENT_SHADER"];function io($e,Nt){return Nt.indexOf("frag")>=0?Mn:Nt.indexOf("vert")>=0?It:void 0}var _o=function(){var Nt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(nn){return setTimeout(nn,Nt)})};function Co($e,Nt,nn){for(var Zn=$e.createProgram(),Er=Ir(nn),Cr=Er.attribLocations,Kr=Er.transformFeedbackVaryings,$r=Er.transformFeedbackMode,pi=0;pi<Nt.length;++pi){var ri=Nt[pi];if("string"==typeof ri){var Xi=ht(ri),vo=Xi?Xi.text:ri,ko=$e[Zr[pi]];Xi&&Xi.type&&(ko=io(0,Xi.type)||ko),ri=$e.createShader(ko),$e.shaderSource(ri,Dt(vo).shaderSource),$e.compileShader(ri),$e.attachShader(Zn,ri)}}Object.entries(Cr).forEach(function(st){var Qe=J(st,2);return $e.bindAttribLocation(Zn,Qe[1],Qe[0])});var Ao=Kr;return Ao&&(Ao.attribs&&(Ao=Ao.attribs),Array.isArray(Ao)||(Ao=Object.keys(Ao)),$e.transformFeedbackVaryings(Zn,Ao,$r||Ne)),$e.linkProgram(Zn),Zn}function Ro($e,Nt,nn,Zn,Er){var Cr=Ir(nn,Zn,Er),Kr=new Set(Nt),$r=Co($e,Nt,Cr);function pi(ri,Xi){var vo=Rs(ri,Xi,Cr.errorCallback);return vo&&function Hi($e,Nt,nn){var Cr,Er=$($e.getAttachedShaders(Nt));try{for(Er.s();!(Cr=Er.n()).done;){var Kr=Cr.value;nn.has(Kr)&&$e.deleteShader(Kr)}}catch($r){Er.e($r)}finally{Er.f()}$e.deleteProgram(Nt)}(ri,Xi,Kr),vo}if(!Cr.callback)return pi($e,$r)?void 0:$r;zo($e,$r).then(function(){var ri=pi($e,$r);Cr.callback(ri,ri?void 0:$r)})}function Is($e){return function(Nt,nn){for(var Zn=arguments.length,Er=new Array(Zn>2?Zn-2:0),Cr=2;Cr<Zn;Cr++)Er[Cr-2]=arguments[Cr];return new Promise(function(Kr,$r){var pi=Ir.apply(void 0,Er);pi.callback=function(ri,Xi){ri?$r(ri):Kr(Xi)},$e(Nt,nn,pi)})}}function zo($e,Nt){return Zo.apply(this,arguments)}function Zo(){return(Zo=Z(P().mark(function $e(Nt,nn){var Zn,Er,Cr;return P().wrap(function($r){for(;;)switch($r.prev=$r.next){case 0:Zn=Nt.getExtension("KHR_parallel_shader_compile"),Er=Zn?function(pi,ri){return pi.getProgramParameter(ri,Zn.COMPLETION_STATUS_KHR)}:function(){return!0},Cr=0;case 3:return $r.next=5,_o(Cr);case 5:Cr=16.666666666666668;case 6:if(!Er(Nt,nn)){$r.next=3;break}case 7:case"end":return $r.stop()}},$e)}))).apply(this,arguments)}function ns(){return(ns=Z(P().mark(function $e(Nt,nn){var Zn,Er,Cr;return P().wrap(function($r){for(;;)switch($r.prev=$r.next){case 0:Zn=0,Er=Object.values(nn);case 1:if(!(Zn<Er.length)){$r.next=8;break}return Cr=Er[Zn],$r.next=5,zo(Nt,Cr);case 5:Zn++,$r.next=1;break;case 8:case"end":return $r.stop()}},$e)}))).apply(this,arguments)}function Rs($e,Nt,nn){if(nn=nn||qe,!$e.getProgramParameter(Nt,zt)){var Er=$e.getProgramInfoLog(Nt);nn("Error in program linking: ".concat(Er));var Kr=$e.getAttachedShaders(Nt).map(function($r){return Wn($e,$e.getShaderParameter($r,$e.SHADER_TYPE),$r,nn)});return"".concat(Er,"\n").concat(Kr.filter(function($r){return $r}).join("\n"))}}function ur($e,Nt,nn,Zn,Er){return Ro($e,Nt,nn,Zn,Er)}function jr($e){var Nt=$e.name;return Nt.startsWith("gl_")||Nt.startsWith("webgl_")}C.createProgramAsync=Is(Ro),C.createProgramInfoAsync=Is(Pr);var Mi=/(\.|\[|]|\w+)/g,Ri=function(Nt){return Nt>="0"&&Nt<="9"};function zi($e,Nt,nn,Zn){for(var Er=$e.split(Mi).filter(function(st){return""!==st}),Cr=0,Kr="";;){var $r=Er[Cr++];Kr+=$r;var pi=Ri($r[0]),ri=pi?parseInt($r):$r;if(pi&&(Kr+=Er[Cr++]),Cr===Er.length){nn[ri]=Nt;break}var vo=Er[Cr++],Ao=nn[ri]||("["===vo?[]:{});nn[ri]=Ao,nn=Ao,Zn[Kr]=Zn[Kr]||function(st){return function(Qe){Ms(st,Qe)}}(Ao),Kr+=vo}}function to($e,Nt){var nn=0;function Zn(ko,Ao,st){var fe,Qe=Ao.name.endsWith("[0]"),dn=Ao.type,ft=sr[dn];if(!ft)throw new Error("unknown type: 0x".concat(dn.toString(16)));if(ft.bindPoint){var St=nn;nn+=Ao.size,fe=Qe?ft.arraySetter($e,dn,St,st,Ao.size):ft.setter($e,dn,St,st,Ao.size)}else fe=ft.arraySetter&&Qe?ft.arraySetter($e,st):ft.setter($e,st);return fe.location=st,fe}for(var Er={},Cr={},Kr=$e.getProgramParameter(Nt,Xe),$r=0;$r<Kr;++$r){var pi=$e.getActiveUniform(Nt,$r);if(!jr(pi)){var ri=pi.name;ri.endsWith("[0]")&&(ri=ri.substr(0,ri.length-3));var Xi=$e.getUniformLocation(Nt,pi.name);if(Xi){var vo=Zn(0,pi,Xi);Er[ri]=vo,zi(ri,vo,Cr,Er)}}}return Er}function xo($e,Nt){for(var nn={},Zn=$e.getProgramParameter(Nt,re),Er=0;Er<Zn;++Er){var Cr=$e.getTransformFeedbackVarying(Nt,Er);nn[Cr.name]={index:Er,type:Cr.type,size:Cr.size}}return nn}function $i($e,Nt,nn){for(var Zn in Nt.transformFeedbackInfo&&(Nt=Nt.transformFeedbackInfo),nn.attribs&&(nn=nn.attribs),nn){var Er=Nt[Zn];if(Er){var Cr=nn[Zn];Cr.offset?$e.bindBufferRange(Ce,Er.index,Cr.buffer,Cr.offset,Cr.size):$e.bindBufferBase(Ce,Er.index,Cr.buffer)}}}function ls($e,Nt){for(var nn=$e.getProgramParameter(Nt,Xe),Zn=[],Er=[],Cr=0;Cr<nn;++Cr){Er.push(Cr),Zn.push({});var Kr=$e.getActiveUniform(Nt,Cr);Zn[Cr].name=Kr.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(ko){var st=ko[1];$e.getActiveUniforms(Nt,Er,$e[ko[0]]).forEach(function(Qe,dn){Zn[dn][st]=Qe})});for(var $r={},pi=$e.getProgramParameter(Nt,D),ri=0;ri<pi;++ri){var Xi=$e.getActiveUniformBlockName(Nt,ri),vo={index:$e.getUniformBlockIndex(Nt,Xi),usedByVertexShader:$e.getActiveUniformBlockParameter(Nt,ri,F),usedByFragmentShader:$e.getActiveUniformBlockParameter(Nt,ri,T),size:$e.getActiveUniformBlockParameter(Nt,ri,W),uniformIndices:$e.getActiveUniformBlockParameter(Nt,ri,z)};vo.used=vo.usedByVertexShader||vo.usedByFragmentShader,$r[Xi]=vo}return{blockSpecs:$r,uniformData:Zn}}var Ns=/\[\d+\]\.$/,ys=function(Nt,nn){return((Nt+(nn-1))/nn|0)*nn};function qo($e,Nt,nn,Zn){var Cr=nn.uniformData,Kr=nn.blockSpecs[Zn];if(!Kr)return _e("no uniform block object named:",Zn),{name:Zn,uniforms:{}};var $r=new ArrayBuffer(Kr.size),pi=$e.createBuffer(),ri=Kr.index;$e.bindBuffer(he,pi),$e.uniformBlockBinding(Nt,Kr.index,ri);var Xi=Zn+".";Ns.test(Xi)&&(Xi=Xi.replace(Ns,"."));var vo={},ko={},Ao={};return Kr.uniformIndices.forEach(function(st){var Qe=Cr[st],dn=Qe.name;dn.startsWith(Xi)&&(dn=dn.substr(Xi.length));var ft=dn.endsWith("[0]");ft&&(dn=dn.substr(0,dn.length-3));var fe=sr[Qe.type],St=fe.Type,cn=ft?ys(fe.size,16)*Qe.size:fe.size*Qe.size,Yn=new St($r,Qe.offset,cn/St.BYTES_PER_ELEMENT);vo[dn]=Yn;var wt=function Os($e,Nt,nn,Zn){if(Nt||nn){Zn=Zn||1;var Cr=$e.length/4;return function(Kr){for(var $r=0,pi=0,ri=0;ri<Cr;++ri){for(var Xi=0;Xi<Zn;++Xi)$e[$r++]=Kr[pi++];$r+=4-Zn}}}return function(Kr){Kr.length?$e.set(Kr):$e[0]=Kr}}(Yn,ft,fe.rows,fe.cols);ko[dn]=wt,zi(dn,wt,Ao,ko)}),{name:Zn,array:$r,asFloat:new Float32Array($r),buffer:pi,uniforms:vo,setters:ko}}function Lo($e,Nt,nn){var Er=(Nt.uniformBlockSpec||Nt).blockSpecs[nn.name];return!!Er&&($e.bindBufferRange(he,Er.index,nn.buffer,nn.offset||0,nn.array.byteLength),!0)}function Ms($e,Nt){for(var nn in Nt){var Zn=$e[nn];"function"==typeof Zn?Zn(Nt[nn]):Ms($e[nn],Nt[nn])}}function Ks($e){for(var Nt=$e.uniformSetters||$e,nn=arguments.length<=1?0:arguments.length-1,Zn=0;Zn<nn;++Zn){var Er=Zn+1<1||arguments.length<=Zn+1?void 0:arguments[Zn+1];if(Array.isArray(Er))for(var Cr=Er.length,Kr=0;Kr<Cr;++Kr)Ks(Nt,Er[Kr]);else for(var $r in Er){var pi=Nt[$r];pi&&pi(Er[$r])}}}function cs($e,Nt){for(var nn={},Zn=$e.getProgramParameter(Nt,Ot),Er=0;Er<Zn;++Er){var Cr=$e.getActiveAttrib(Nt,Er);if(!jr(Cr)){var Kr=$e.getAttribLocation(Nt,Cr.name),$r=eo[Cr.type],pi=$r.setter($e,Kr,$r);pi.location=Kr,nn[Cr.name]=pi}}return nn}function ua($e,Nt){for(var nn in Nt){var Zn=$e[nn];Zn&&Zn(Nt[nn])}}function pr($e,Nt){var Er={program:Nt,uniformSetters:to($e,Nt),attribSetters:cs($e,Nt)};return d.isWebGL2($e)&&(Er.uniformBlockSpec=ls($e,Nt),Er.transformFeedbackInfo=xo($e,Nt)),Er}C.setUniformsAndBindTextures=Ks;var xr=/\s|{|}|;/;function Pr($e,Nt,nn,Zn,Er){var Cr=Ir(nn,Zn,Er),Kr=[];if(Nt=Nt.map(function(ri){if(!xr.test(ri)){var Xi=ht(ri);if(Xi)ri=Xi.text;else{var vo="no element with id: ".concat(ri);Cr.errorCallback(vo),Kr.push(vo)}}return ri}),Kr.length)return sn(Cr,"");var $r=Cr.callback;$r&&(Cr.callback=function(ri,Xi){$r(ri,ri?void 0:pr($e,Xi))});var pi=ur($e,Nt,Cr);return pi?pr($e,pi):null}function Bi($e,Nt,nn,Zn,Er){for(var Cr=0,Kr=Object.entries(Nt);Cr<Kr.length;Cr++){var $r=J(Kr[Cr],2),pi=$r[0],ri=$r[1],Xi=v({},Er),vo=nn[pi];Array.isArray(vo)||Object.assign(Xi,vo);var ko=Rs($e,ri,Xi.errorCallback);if(ko){for(var Ao=0,st=Object.values(Nt);Ao<st.length;Ao++){var Qe=st[Ao],dn=$e.getAttachedShaders(Qe);$e.deleteProgram(Qe);var fe,ft=$(dn);try{for(ft.s();!(fe=ft.n()).done;){var St=fe.value;Zn.has(St)||$e.deleteShader(St)}}catch(cn){ft.e(cn)}finally{ft.f()}}return ko}}}function ot($e,Nt){var nn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Zn=new Set,Er=Object.fromEntries(Object.entries(Nt).map(function(Kr){var $r=J(Kr,2),pi=$r[0],ri=$r[1],Xi=v({},nn),vo=Array.isArray(ri)?ri:ri.shaders;return Array.isArray(ri)||Object.assign(Xi,ri),vo.forEach(Zn.add,Zn),[pi,Co($e,vo,Xi)]}));if(!nn.callback)return Bi($e,Er,Nt,Zn,nn)?void 0:Er;(function os($e,Nt){return ns.apply(this,arguments)})($e,Er).then(function(){var Kr=Bi($e,Er,Nt,Zn,nn);nn.callback(Kr,Kr?void 0:Er)})}function xn($e,Nt,nn){function Zn(Kr,$r){return Object.fromEntries(Object.entries($r).map(function(pi){var ri=J(pi,2);return[ri[0],pr(Kr,ri[1])]}))}var Er=(nn=Ir(nn)).callback;Er&&(nn.callback=function(Kr,$r){Er(Kr,Kr?void 0:Zn($e,$r))});var Cr=ot($e,Nt,nn);if(!Er&&Cr)return Zn($e,Cr)}C.createProgramsAsync=Is(ot),C.createProgramInfosAsync=Is(xn)},"./src/textures.js":
/*!*************************!*\
                !*** ./src/textures.js ***!
                \*************************/(f,C,x)=>{function w(tr){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pr){return typeof pr}:function(pr){return pr&&"function"==typeof Symbol&&pr.constructor===Symbol&&pr!==Symbol.prototype?"symbol":typeof pr})(tr)}C.__esModule=!0,C.canFilter=_o,C.canGenerateMipmap=Hi,C.createSampler=ar,C.createSamplers=function ur(tr,pr){var xr={};return Object.keys(pr).forEach(function(Pr){xr[Pr]=ar(tr,pr[Pr])}),xr},C.createTexture=Ks,C.createTextures=function ua(tr,pr,xr){xr=xr||$i;var Pr=0,Bi=[],ot={},xn={};function Wt(){0===Pr&&setTimeout(function(){xr(Bi.length?Bi:void 0,ot,xn)},0)}return Object.keys(pr).forEach(function(hn){var Nt,$e=pr[hn];(function cs(tr){return"string"==typeof tr||Array.isArray(tr)&&"string"==typeof tr[0]})($e.src)&&(Nt=function(Zn,Er,Cr){xn[hn]=Cr,--Pr,Zn&&Bi.push(Zn),Wt()},++Pr),ot[hn]=Ks(tr,$e,Nt)}),Wt(),ot},C.getBytesPerElementForInternalFormat=Ir,C.getFormatAndTypeForInternalFormat=Zr,C.getNumComponentsForFormat=function Co(tr){var pr=ze[tr];if(!pr)throw"unknown format: "+tr;return pr.numColorComponents},C.loadTextureFromUrl=Gs,C.resizeTexture=function Ds(tr,pr,xr,Pr,Bi,ot){Pr=Pr||xr.width,Bi=Bi||xr.height,ot=ot||xr.depth;var xn=xr.target||B;tr.bindTexture(xn,pr);var nn,Wt=xr.level||0,hn=xr.internalFormat||xr.format||Z,$e=Zr(hn),Nt=xr.format||$e.format,Zn=xr.src;if(nn=Zn&&(M(Zn)||Array.isArray(Zn)&&"number"==typeof Zn[0])?xr.type||Ro(0,Zn,$e.type):xr.type||$e.type,xn===ce)for(var Er=0;Er<6;++Er)tr.texImage2D(qe+Er,Wt,hn,Pr,Bi,0,Nt,nn,null);else xn===Oe||xn===Ue?tr.texImage3D(xn,Wt,hn,Pr,Bi,ot,0,Nt,nn,null):tr.texImage2D(xn,Wt,hn,Pr,Bi,0,Nt,nn,null)},C.setDefaultTextureColor=Ws,C.setEmptyTexture=Ms,C.setSamplerParameters=Rs,C.setTextureDefaults_=function ms(tr){S.copyExistingProperties(tr,v),tr.textureColor&&Ws(tr.textureColor)},C.setTextureFilteringForSize=Mi,C.setTextureFromArray=ca,C.setTextureFromElement=xo,C.setTextureParameters=ns;var d=P(x(
/*! ./utils.js */
"./src/utils.js")),k=P(x(
/*! ./typedarrays.js */
"./src/typedarrays.js")),S=P(x(
/*! ./helper.js */
"./src/helper.js"));function U(tr){if("function"!=typeof WeakMap)return null;var pr=new WeakMap,xr=new WeakMap;return(U=function(Bi){return Bi?xr:pr})(tr)}function P(tr,pr){if(!pr&&tr&&tr.__esModule)return tr;if(null===tr||"object"!=w(tr)&&"function"!=typeof tr)return{default:tr};var xr=U(pr);if(xr&&xr.has(tr))return xr.get(tr);var Pr={__proto__:null},Bi=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ot in tr)if("default"!==ot&&Object.prototype.hasOwnProperty.call(tr,ot)){var xn=Bi?Object.getOwnPropertyDescriptor(tr,ot):null;xn&&(xn.get||xn.set)?Object.defineProperty(Pr,ot,xn):Pr[ot]=tr[ot]}return Pr.default=tr,xr&&xr.set(tr,Pr),Pr}var sn,v={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},M=k.isArrayBuffer,G=function(){var tr;return function(){return tr=tr||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null)}}(),K=6406,V=6407,Z=6408,J=6409,te=6410,ae=6402,Y=34041,$=33071,H=9728,me=9729,B=3553,ce=34067,Oe=32879,Ue=35866,qe=34069,_e=34070,ht=34071,Bt=34072,de=34073,R=34074,j=10241,he=10240,Ce=10242,Re=10243,pt=32882,zt=33082,Mn=33083,It=33084,Ne=33085,Xe=34892,Ot=34893,re=3317,D=3314,F=32878,T=3316,W=3315,z=32877,p=37443,I=37441,Ae=37440,se=33321,L=36756,ve=33325,ge=33326,et=33330,Pt=33329,Rt=33338,ln=33337,je=33340,Ht=33339,ut=33323,jt=36757,gn=33327,lt=33328,bt=33336,He=33335,ye=33332,mt=33331,rt=33334,Kt=33333,Dn=32849,Jn=35905,lr=36194,an=36758,At=35898,Et=35901,xt=34843,gt=34837,tn=36221,Xt=36239,Ye=36215,Vt=36233,En=36209,it=36227,ke=32856,Jt=35907,We=36759,Tt=32855,wn=32854,In=32857,dr=34842,sr=34836,Gr=36220,hi=36238,Ei=36975,fi=36214,co=36232,uo=36226,Pi=36208,ti=33189,mr=33190,Li=36012,ro=36013,Pe=35056,dt=5120,vn=5121,bn=5122,Gn=5123,nr=5124,er=5125,Be=5126,tt=32819,un=32820,fr=33635,Ar=5131,zr=36193,si=33640,Ti=35899,ni=35902,ai=36269,Oi=34042,so=33319,wo=33320,eo=6403,Vo=36244,$n=36248,fn=36249,ze={},Dt=ze;function Wn(tr){if(!sn){var pr={};pr[K]={textureFormat:K,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[vn,Ar,zr,Be]},pr[J]={textureFormat:J,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[vn,Ar,zr,Be]},pr[te]={textureFormat:te,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[vn,Ar,zr,Be]},pr[V]={textureFormat:V,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[vn,Ar,zr,Be,fr]},pr[Z]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[vn,Ar,zr,Be,tt,un]},pr[ae]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[er,Gn]},pr[se]={textureFormat:eo,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[vn]},pr[L]={textureFormat:eo,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[dt]},pr[ve]={textureFormat:eo,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Be,Ar]},pr[ge]={textureFormat:eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Be]},pr[et]={textureFormat:Vo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[vn]},pr[Pt]={textureFormat:Vo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[dt]},pr[ye]={textureFormat:Vo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Gn]},pr[mt]={textureFormat:Vo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[bn]},pr[rt]={textureFormat:Vo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[er]},pr[Kt]={textureFormat:Vo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[nr]},pr[ut]={textureFormat:so,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[vn]},pr[jt]={textureFormat:so,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[dt]},pr[gn]={textureFormat:so,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Be,Ar]},pr[lt]={textureFormat:so,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Be]},pr[bt]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[vn]},pr[He]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[dt]},pr[Rt]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Gn]},pr[ln]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[bn]},pr[je]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[er]},pr[Ht]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[nr]},pr[Dn]={textureFormat:V,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[vn]},pr[Jn]={textureFormat:V,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[vn]},pr[lr]={textureFormat:V,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[vn,fr]},pr[an]={textureFormat:V,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[dt]},pr[At]={textureFormat:V,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Be,Ar,Ti]},pr[Et]={textureFormat:V,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Be,Ar,ni]},pr[xt]={textureFormat:V,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Be,Ar]},pr[gt]={textureFormat:V,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Be]},pr[tn]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[vn]},pr[Xt]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[dt]},pr[Ye]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Gn]},pr[Vt]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[bn]},pr[En]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[er]},pr[it]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[nr]},pr[ke]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[vn]},pr[Jt]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[vn]},pr[We]={textureFormat:Z,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[dt]},pr[Tt]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[vn,un,si]},pr[wn]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[vn,tt]},pr[In]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[si]},pr[dr]={textureFormat:Z,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Be,Ar]},pr[sr]={textureFormat:Z,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Be]},pr[Gr]={textureFormat:fn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[vn]},pr[hi]={textureFormat:fn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[dt]},pr[Ei]={textureFormat:fn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[si]},pr[fi]={textureFormat:fn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Gn]},pr[co]={textureFormat:fn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[bn]},pr[uo]={textureFormat:fn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[nr]},pr[Pi]={textureFormat:fn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[er]},pr[ti]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Gn,er]},pr[mr]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[er]},pr[Li]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Be]},pr[Pe]={textureFormat:Y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Oi]},pr[ro]={textureFormat:Y,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ai]},Object.keys(pr).forEach(function(xr){var Pr=pr[xr];Pr.bytesPerElementMap={},Pr.bytesPerElement.forEach(function(Bi,ot){Pr.bytesPerElementMap[Pr.type[ot]]=Bi})}),sn=pr}return sn[tr]}function Ir(tr,pr){var xr=Wn(tr);if(!xr)throw"unknown internal format";var Pr=xr.bytesPerElementMap[pr];if(void 0===Pr)throw"unknown internal format";return Pr}function Zr(tr){var pr=Wn(tr);if(!pr)throw"unknown internal format";return{format:pr.textureFormat,type:pr.type[0]}}function io(tr){return!(tr&tr-1)}function Hi(tr,pr,xr,Pr){if(!d.isWebGL2(tr))return io(pr)&&io(xr);var Bi=Wn(Pr);if(!Bi)throw"unknown internal format";return Bi.colorRenderable&&Bi.textureFilterable}function _o(tr){var pr=Wn(tr);if(!pr)throw"unknown internal format";return pr.textureFilterable}function Ro(tr,pr,xr){return M(pr)?k.getGLTypeForTypedArray(pr):xr||vn}function Is(tr,pr,xr,Pr,Bi){if(Bi%1!=0)throw"can't guess dimensions";if(xr||Pr){if(Pr){if(!xr&&(xr=Bi/Pr)%1)throw"can't guess dimensions"}else if((Pr=Bi/xr)%1)throw"can't guess dimensions"}else{var ot=Math.sqrt(Bi/(pr===ce?6:1));ot%1==0?(xr=ot,Pr=ot):(xr=Bi,Pr=1)}return{width:xr,height:Pr}}function Ws(tr){v.textureColor=new Uint8Array([255*tr[0],255*tr[1],255*tr[2],255*tr[3]])}function zo(tr,pr){void 0!==pr.colorspaceConversion&&tr.pixelStorei(p,pr.colorspaceConversion),void 0!==pr.premultiplyAlpha&&tr.pixelStorei(I,pr.premultiplyAlpha),void 0!==pr.flipY&&tr.pixelStorei(Ae,pr.flipY)}function Zo(tr){tr.pixelStorei(re,4),d.isWebGL2(tr)&&(tr.pixelStorei(D,0),tr.pixelStorei(F,0),tr.pixelStorei(T,0),tr.pixelStorei(W,0),tr.pixelStorei(z,0))}function os(tr,pr,xr,Pr){Pr.minMag&&(xr.call(tr,pr,j,Pr.minMag),xr.call(tr,pr,he,Pr.minMag)),Pr.min&&xr.call(tr,pr,j,Pr.min),Pr.mag&&xr.call(tr,pr,he,Pr.mag),Pr.wrap&&(xr.call(tr,pr,Ce,Pr.wrap),xr.call(tr,pr,Re,Pr.wrap),(pr===Oe||S.isSampler(tr,pr))&&xr.call(tr,pr,pt,Pr.wrap)),Pr.wrapR&&xr.call(tr,pr,pt,Pr.wrapR),Pr.wrapS&&xr.call(tr,pr,Ce,Pr.wrapS),Pr.wrapT&&xr.call(tr,pr,Re,Pr.wrapT),void 0!==Pr.minLod&&xr.call(tr,pr,zt,Pr.minLod),void 0!==Pr.maxLod&&xr.call(tr,pr,Mn,Pr.maxLod),void 0!==Pr.baseLevel&&xr.call(tr,pr,It,Pr.baseLevel),void 0!==Pr.maxLevel&&xr.call(tr,pr,Ne,Pr.maxLevel),void 0!==Pr.compareFunc&&xr.call(tr,pr,Ot,Pr.compareFunc),void 0!==Pr.compareMode&&xr.call(tr,pr,Xe,Pr.compareMode)}function ns(tr,pr,xr){var Pr=xr.target||B;tr.bindTexture(Pr,pr),os(tr,Pr,tr.texParameteri,xr)}function Rs(tr,pr,xr){os(tr,pr,tr.samplerParameteri,xr)}function ar(tr,pr){var xr=tr.createSampler();return Rs(tr,xr,pr),xr}function Mi(tr,pr,xr,Pr,Bi,ot){ot=ot||Z;var xn=(xr=xr||v.textureOptions).target||B;if(Pr=Pr||xr.width,Bi=Bi||xr.height,tr.bindTexture(xn,pr),Hi(tr,Pr,Bi,ot))tr.generateMipmap(xn);else{var Wt=_o(ot)?me:H;tr.texParameteri(xn,j,Wt),tr.texParameteri(xn,he,Wt),tr.texParameteri(xn,Ce,$),tr.texParameteri(xn,Re,$)}}function Ri(tr){return!0===tr.auto||void 0===tr.auto&&void 0===tr.level}function zi(tr,pr){return(pr=pr||{}).cubeFaceOrder||[qe,_e,ht,Bt,de,R]}function to(tr,pr){var Pr=zi(0,pr).map(function(Bi,ot){return{face:Bi,ndx:ot}});return Pr.sort(function(Bi,ot){return Bi.face-ot.face}),Pr}function xo(tr,pr,xr,Pr){var Bi=(Pr=Pr||v.textureOptions).target||B,ot=Pr.level||0,xn=xr.width,Wt=xr.height,hn=Pr.internalFormat||Pr.format||Z,$e=Zr(hn),Nt=Pr.format||$e.format,nn=Pr.type||$e.type;if(zo(tr,Pr),tr.bindTexture(Bi,pr),Bi===ce){var Cr,Kr,Zn=xr.width,Er=xr.height;if(Zn/6===Er)Cr=Er,Kr=[0,0,1,0,2,0,3,0,4,0,5,0];else if(Er/6===Zn)Cr=Zn,Kr=[0,0,0,1,0,2,0,3,0,4,0,5];else if(Zn/3==Er/2)Cr=Zn/3,Kr=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(Zn/2!=Er/3)throw"can't figure out cube map from element: "+(xr.src?xr.src:xr.nodeName);Cr=Zn/2,Kr=[0,0,1,0,0,1,1,1,0,2,1,2]}var $r=G();$r?($r.canvas.width=Cr,$r.canvas.height=Cr,xn=Cr,Wt=Cr,to(0,Pr).forEach(function(dn){$r.drawImage(xr,Kr[2*dn.ndx+0]*Cr,Kr[2*dn.ndx+1]*Cr,Cr,Cr,0,0,Cr,Cr),tr.texImage2D(dn.face,ot,hn,Nt,nn,$r.canvas)}),$r.canvas.width=1,$r.canvas.height=1):typeof createImageBitmap<"u"&&(xn=Cr,Wt=Cr,to(0,Pr).forEach(function(dn){var ft=Kr[2*dn.ndx+0]*Cr,fe=Kr[2*dn.ndx+1]*Cr;tr.texImage2D(dn.face,ot,hn,Cr,Cr,0,Nt,nn,null),createImageBitmap(xr,ft,fe,Cr,Cr,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(St){zo(tr,Pr),tr.bindTexture(Bi,pr),tr.texImage2D(dn.face,ot,hn,Nt,nn,St),Ri(Pr)&&Mi(tr,pr,Pr,xn,Wt,hn)})}))}else if(Bi===Oe||Bi===Ue){var pi=Math.min(xr.width,xr.height),ri=Math.max(xr.width,xr.height),Xi=ri/pi;if(Xi%1!=0)throw"can not compute 3D dimensions of element";var vo=xr.width===ri?1:0,ko=xr.height===ri?1:0;tr.pixelStorei(re,1),tr.pixelStorei(D,xr.width),tr.pixelStorei(F,0),tr.pixelStorei(z,0),tr.texImage3D(Bi,ot,hn,pi,pi,pi,0,Nt,nn,null);for(var Ao=0;Ao<Xi;++Ao){var Qe=Ao*pi*ko;tr.pixelStorei(T,Ao*pi*vo),tr.pixelStorei(W,Qe),tr.texSubImage3D(Bi,ot,0,0,Ao,pi,pi,1,Nt,nn,xr)}Zo(tr)}else tr.texImage2D(Bi,ot,hn,Nt,nn,xr);Ri(Pr)&&Mi(tr,pr,Pr,xn,Wt,hn),ns(tr,pr,Pr)}function $i(){}function ys(tr){return typeof ImageBitmap<"u"&&tr instanceof ImageBitmap||typeof ImageData<"u"&&tr instanceof ImageData||typeof HTMLElement<"u"&&tr instanceof HTMLElement}function Os(tr,pr,xr){return ys(tr)?(setTimeout(function(){xr(null,tr)}),tr):function Ns(tr,pr,xr){var Pr;if(xr=xr||$i,pr=function ls(tr,pr){return void 0!==pr||function No(tr){if(typeof document<"u"){var pr=document.createElement("a");return pr.href=tr,pr.hostname===location.hostname&&pr.port===location.port&&pr.protocol===location.protocol}var xr=new URL(location.href).origin;return new URL(tr,location.href).origin===xr}(tr)?pr:"anonymous"}(tr,pr=void 0!==pr?pr:v.crossOrigin),typeof Image<"u"){Pr=new Image,void 0!==pr&&(Pr.crossOrigin=pr);var Bi=function(){Pr.removeEventListener("error",ot),Pr.removeEventListener("load",xn),Pr=null},ot=function(){var Zn="couldn't load image: "+tr;S.error(Zn),xr(Zn,Pr),Bi()},xn=function(){xr(null,Pr),Bi()};return Pr.addEventListener("error",ot),Pr.addEventListener("load",xn),Pr.src=tr,Pr}if(typeof ImageBitmap<"u"){var Wt,hn,$e=function(){xr(Wt,hn)},Nt={};pr&&(Nt.mode="cors"),fetch(tr,Nt).then(function(nn){if(!nn.ok)throw nn;return nn.blob()}).then(function(nn){return createImageBitmap(nn,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(nn){hn=nn,setTimeout($e)}).catch(function(nn){Wt=nn,setTimeout($e)}),Pr=null}return Pr}(tr,pr,xr)}function qo(tr,pr,xr){var Pr=(xr=xr||v.textureOptions).target||B;if(tr.bindTexture(Pr,pr),!1!==xr.color){var Bi=function jr(tr){return M(tr=tr||v.textureColor)?tr:new Uint8Array([255*tr[0],255*tr[1],255*tr[2],255*tr[3]])}(xr.color);if(Pr===ce)for(var ot=0;ot<6;++ot)tr.texImage2D(qe+ot,0,Z,1,1,0,Z,vn,Bi);else Pr===Oe||Pr===Ue?tr.texImage3D(Pr,0,Z,1,1,1,0,Z,vn,Bi):tr.texImage2D(Pr,0,Z,1,1,0,Z,vn,Bi)}}function Gs(tr,pr,xr,Pr){return Pr=Pr||$i,qo(tr,pr,xr=xr||v.textureOptions),Os((xr=Object.assign({},xr)).src,xr.crossOrigin,function(ot,xn){ot?Pr(ot,pr,xn):(xo(tr,pr,xn,xr),Pr(null,pr,xn))})}function ca(tr,pr,xr,Pr){var Bi=(Pr=Pr||v.textureOptions).target||B;tr.bindTexture(Bi,pr);var ot=Pr.width,xn=Pr.height,Wt=Pr.depth,hn=Pr.level||0,$e=Pr.internalFormat||Pr.format||Z,Nt=Zr($e),nn=Pr.format||Nt.format,Zn=Pr.type||Ro(0,xr,Nt.type);if(M(xr))xr instanceof Uint8ClampedArray&&(xr=new Uint8Array(xr.buffer));else{var Er=k.getTypedArrayTypeForGLType(Zn);xr=new Er(xr)}var $r,Cr=Ir($e,Zn),Kr=xr.byteLength/Cr;if(Kr%1)throw"length wrong size for format: "+d.glEnumToString(tr,nn);if(Bi===Oe||Bi===Ue)if(ot||xn||Wt)!ot||xn&&Wt?!xn||ot&&Wt?($r=Is(0,Bi,ot,xn,Kr/Wt),ot=$r.width,xn=$r.height):($r=Is(0,Bi,ot,Wt,Kr/xn),ot=$r.width,Wt=$r.height):($r=Is(0,Bi,xn,Wt,Kr/ot),xn=$r.width,Wt=$r.height);else{var pi=Math.cbrt(Kr);if(pi%1!=0)throw"can't guess cube size of array of numElements: "+Kr;ot=pi,xn=pi,Wt=pi}else $r=Is(0,Bi,ot,xn,Kr),ot=$r.width,xn=$r.height;if(Zo(tr),tr.pixelStorei(re,Pr.unpackAlignment||1),zo(tr,Pr),Bi===ce){var Xi=Kr/6*(Cr/xr.BYTES_PER_ELEMENT);to(0,Pr).forEach(function(vo){var ko=Xi*vo.ndx,Ao=xr.subarray(ko,ko+Xi);tr.texImage2D(vo.face,hn,$e,ot,xn,0,nn,Zn,Ao)})}else Bi===Oe||Bi===Ue?tr.texImage3D(Bi,hn,$e,ot,xn,Wt,0,nn,Zn,xr):tr.texImage2D(Bi,hn,$e,ot,xn,0,nn,Zn,xr);return{width:ot,height:xn,depth:Wt,type:Zn}}function Ms(tr,pr,xr){var Pr=xr.target||B;tr.bindTexture(Pr,pr);var Bi=xr.level||0,ot=xr.internalFormat||xr.format||Z,xn=Zr(ot),Wt=xr.format||xn.format,hn=xr.type||xn.type;if(zo(tr,xr),Pr===ce)for(var $e=0;$e<6;++$e)tr.texImage2D(qe+$e,Bi,ot,xr.width,xr.height,0,Wt,hn,null);else Pr===Oe||Pr===Ue?tr.texImage3D(Pr,Bi,ot,xr.width,xr.height,xr.depth,0,Wt,hn,null):tr.texImage2D(Pr,Bi,ot,xr.width,xr.height,0,Wt,hn,null)}function Ks(tr,pr,xr){xr=xr||$i,pr=pr||v.textureOptions;var Pr=tr.createTexture(),Bi=pr.target||B,ot=pr.width||1,xn=pr.height||1,Wt=pr.internalFormat||Z;tr.bindTexture(Bi,Pr),Bi===ce&&(tr.texParameteri(Bi,Ce,$),tr.texParameteri(Bi,Re,$));var hn=pr.src;if(hn)if("function"==typeof hn&&(hn=hn(tr,pr)),"string"==typeof hn)Gs(tr,Pr,pr,xr);else if(M(hn)||Array.isArray(hn)&&("number"==typeof hn[0]||Array.isArray(hn[0])||M(hn[0]))){var $e=ca(tr,Pr,hn,pr);ot=$e.width,xn=$e.height}else Array.isArray(hn)&&("string"==typeof hn[0]||ys(hn[0]))?Bi===ce?function Lo(tr,pr,xr,Pr){Pr=Pr||$i;var Bi=xr.src;if(6!==Bi.length)throw"there must be 6 urls for a cubemap";var ot=xr.level||0,xn=xr.internalFormat||xr.format||Z,Wt=Zr(xn),hn=xr.format||Wt.format,$e=xr.type||vn,Nt=xr.target||B;if(Nt!==ce)throw"target must be TEXTURE_CUBE_MAP";qo(tr,pr,xr),xr=Object.assign({},xr);var Cr,nn=6,Zn=[],Er=zi(0,xr);Cr=Bi.map(function($r,pi){return Os($r,xr.crossOrigin,function Kr($r){return function(pi,ri){--nn,pi?Zn.push(pi):ri.width!==ri.height?Zn.push("cubemap face img is not a square: "+ri.src):(zo(tr,xr),tr.bindTexture(Nt,pr),5===nn?zi().forEach(function(Xi){tr.texImage2D(Xi,ot,xn,hn,$e,ri)}):tr.texImage2D($r,ot,xn,hn,$e,ri),Ri(xr)&&tr.generateMipmap(Nt)),0===nn&&Pr(Zn.length?Zn:void 0,pr,Cr)}}(Er[pi]))})}(tr,Pr,pr,xr):function pa(tr,pr,xr,Pr){Pr=Pr||$i;var Bi=xr.src,ot=xr.internalFormat||xr.format||Z,xn=Zr(ot),Wt=xr.format||xn.format,hn=xr.type||vn,$e=xr.target||Ue;if($e!==Oe&&$e!==Ue)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";qo(tr,pr,xr),xr=Object.assign({},xr);var Zn,Nt=Bi.length,nn=[],Er=xr.level||0,Cr=xr.width,Kr=xr.height,$r=Bi.length,pi=!0;Zn=Bi.map(function(Xi,vo){return Os(Xi,xr.crossOrigin,function ri(Xi){return function(vo,ko){if(--Nt,vo)nn.push(vo);else{if(zo(tr,xr),tr.bindTexture($e,pr),pi){pi=!1,tr.texImage3D($e,Er,ot,Cr=xr.width||ko.width,Kr=xr.height||ko.height,$r,0,Wt,hn,null);for(var Ao=0;Ao<$r;++Ao)tr.texSubImage3D($e,Er,0,0,Ao,Cr,Kr,1,Wt,hn,ko)}else{var Qe,st=ko;(ko.width!==Cr||ko.height!==Kr)&&(st=(Qe=G()).canvas,Qe.canvas.width=Cr,Qe.canvas.height=Kr,Qe.drawImage(ko,0,0,Cr,Kr)),tr.texSubImage3D($e,Er,0,0,Xi,Cr,Kr,1,Wt,hn,st),Qe&&st===Qe.canvas&&(Qe.canvas.width=0,Qe.canvas.height=0)}Ri(xr)&&tr.generateMipmap($e)}0===Nt&&Pr(nn.length?nn:void 0,pr,Zn)}}(vo))})}(tr,Pr,pr,xr):(xo(tr,Pr,hn,pr),ot=hn.width,xn=hn.height);else Ms(tr,Pr,pr);return Ri(pr)&&Mi(tr,Pr,pr,ot,xn,Wt),ns(tr,Pr,pr),Pr}Dt[K]={numColorComponents:1},Dt[J]={numColorComponents:1},Dt[te]={numColorComponents:2},Dt[V]={numColorComponents:3},Dt[Z]={numColorComponents:4},Dt[eo]={numColorComponents:1},Dt[Vo]={numColorComponents:1},Dt[so]={numColorComponents:2},Dt[wo]={numColorComponents:2},Dt[V]={numColorComponents:3},Dt[$n]={numColorComponents:3},Dt[Z]={numColorComponents:4},Dt[fn]={numColorComponents:4},Dt[ae]={numColorComponents:1},Dt[Y]={numColorComponents:2}},"./src/twgl-base.js":
/*!**************************!*\
                !*** ./src/twgl-base.js ***!
                \**************************/(f,C,x)=>{C.__esModule=!0;var w=x(
/*! ./twgl.js */
"./src/twgl.js");Object.keys(w).forEach(function(d){"default"===d||"__esModule"===d||d in C&&C[d]===w[d]||(C[d]=w[d])})},"./src/twgl.js":
/*!*********************!*\
                !*** ./src/twgl.js ***!
                \*********************/(f,C,x)=>{function w(_e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ht){return typeof ht}:function(ht){return ht&&"function"==typeof Symbol&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(_e)}C.__esModule=!0;var d={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};C.addExtensionsToContext=me,C.framebuffers=C.draw=C.attributes=void 0,C.getContext=function Ue(_e,ht){return function Oe(_e,ht){for(var Bt=["webgl2","webgl","experimental-webgl"],de=null,R=0;R<Bt.length;++R)if(de=_e.getContext(Bt[R],ht)){te.addExtensionsToContext&&me(de);break}return de}(_e,ht)},C.getWebGLContext=function ce(_e,ht){return function B(_e,ht){for(var Bt=["webgl","experimental-webgl"],de=null,R=0;R<Bt.length;++R)if(de=_e.getContext(Bt[R],ht)){te.addExtensionsToContext&&me(de);break}return de}(_e,ht)},C.programs=void 0,C.resizeCanvasToDisplaySize=function qe(_e,ht){ht=ht||1,ht=Math.max(0,ht);var Bt=_e.clientWidth*ht|0,de=_e.clientHeight*ht|0;return(_e.width!==Bt||_e.height!==de)&&(_e.width=Bt,_e.height=de,!0)},C.setDefaults=function ae(_e){U.copyExistingProperties(_e,te),k.setAttributeDefaults_(_e),S.setTextureDefaults_(_e)},C.vertexArrays=C.utils=C.typedarrays=C.textures=void 0;var k=Z(x(
/*! ./attributes.js */
"./src/attributes.js"));C.attributes=k,Object.keys(k).forEach(function(_e){"default"===_e||"__esModule"===_e||Object.prototype.hasOwnProperty.call(d,_e)||_e in C&&C[_e]===k[_e]||(C[_e]=k[_e])});var S=Z(x(
/*! ./textures.js */
"./src/textures.js"));C.textures=S,Object.keys(S).forEach(function(_e){"default"===_e||"__esModule"===_e||Object.prototype.hasOwnProperty.call(d,_e)||_e in C&&C[_e]===S[_e]||(C[_e]=S[_e])});var U=Z(x(
/*! ./helper.js */
"./src/helper.js")),P=Z(x(
/*! ./utils.js */
"./src/utils.js"));C.utils=P,Object.keys(P).forEach(function(_e){"default"===_e||"__esModule"===_e||Object.prototype.hasOwnProperty.call(d,_e)||_e in C&&C[_e]===P[_e]||(C[_e]=P[_e])});var y=Z(x(
/*! ./draw.js */
"./src/draw.js"));C.draw=y,Object.keys(y).forEach(function(_e){"default"===_e||"__esModule"===_e||Object.prototype.hasOwnProperty.call(d,_e)||_e in C&&C[_e]===y[_e]||(C[_e]=y[_e])});var v=Z(x(
/*! ./framebuffers.js */
"./src/framebuffers.js"));C.framebuffers=v,Object.keys(v).forEach(function(_e){"default"===_e||"__esModule"===_e||Object.prototype.hasOwnProperty.call(d,_e)||_e in C&&C[_e]===v[_e]||(C[_e]=v[_e])});var M=Z(x(
/*! ./programs.js */
"./src/programs.js"));C.programs=M,Object.keys(M).forEach(function(_e){"default"===_e||"__esModule"===_e||Object.prototype.hasOwnProperty.call(d,_e)||_e in C&&C[_e]===M[_e]||(C[_e]=M[_e])});var G=Z(x(
/*! ./typedarrays.js */
"./src/typedarrays.js"));C.typedarrays=G,Object.keys(G).forEach(function(_e){"default"===_e||"__esModule"===_e||Object.prototype.hasOwnProperty.call(d,_e)||_e in C&&C[_e]===G[_e]||(C[_e]=G[_e])});var K=Z(x(
/*! ./vertex-arrays.js */
"./src/vertex-arrays.js"));function V(_e){if("function"!=typeof WeakMap)return null;var ht=new WeakMap,Bt=new WeakMap;return(V=function(R){return R?Bt:ht})(_e)}function Z(_e,ht){if(!ht&&_e&&_e.__esModule)return _e;if(null===_e||"object"!=w(_e)&&"function"!=typeof _e)return{default:_e};var Bt=V(ht);if(Bt&&Bt.has(_e))return Bt.get(_e);var de={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in _e)if("default"!==j&&Object.prototype.hasOwnProperty.call(_e,j)){var he=R?Object.getOwnPropertyDescriptor(_e,j):null;he&&(he.get||he.set)?Object.defineProperty(de,j,he):de[j]=_e[j]}return de.default=_e,Bt&&Bt.set(_e,de),de}C.vertexArrays=K,Object.keys(K).forEach(function(_e){"default"===_e||"__esModule"===_e||Object.prototype.hasOwnProperty.call(d,_e)||_e in C&&C[_e]===K[_e]||(C[_e]=K[_e])});var te={addExtensionsToContext:!0},Y=/^(.*?)_/;function $(_e,ht){P.glEnumToString(_e,0);var Bt=_e.getExtension(ht);if(Bt){var de={},R=Y.exec(ht)[1],j="_"+R;for(var he in Bt){var Ce=Bt[he],Re="function"==typeof Ce,pt=Re?R:j,zt=he;he.endsWith(pt)&&(zt=he.substring(0,he.length-pt.length)),void 0!==_e[zt]?!Re&&_e[zt]!==Ce&&U.warn(zt,_e[zt],Ce,he):Re?_e[zt]=function(Mn){return function(){return Mn.apply(Bt,arguments)}}(Ce):(_e[zt]=Ce,de[zt]=Ce)}de.constructor={name:Bt.constructor.name},P.glEnumToString(de,0)}return Bt}var H=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function me(_e){for(var ht=0;ht<H.length;++ht)$(_e,H[ht])}},"./src/typedarrays.js":
/*!****************************!*\
                !*** ./src/typedarrays.js ***!
                \****************************/(f,C)=>{C.__esModule=!0,C.getGLTypeForTypedArray=function H(Oe){if(Oe instanceof Int8Array)return w;if(Oe instanceof Uint8Array||Oe instanceof Uint8ClampedArray)return d;if(Oe instanceof Int16Array)return k;if(Oe instanceof Uint16Array)return S;if(Oe instanceof Int32Array)return U;if(Oe instanceof Uint32Array)return P;if(Oe instanceof Float32Array)return y;throw new Error("unsupported typed array type")},C.getGLTypeForTypedArrayType=function me(Oe){if(Oe===Int8Array)return w;if(Oe===Uint8Array||Oe===Uint8ClampedArray)return d;if(Oe===Int16Array)return k;if(Oe===Uint16Array)return S;if(Oe===Int32Array)return U;if(Oe===Uint32Array)return P;if(Oe===Float32Array)return y;throw new Error("unsupported typed array type")},C.getTypedArrayTypeForGLType=function B(Oe){var Ue=Y[Oe];if(!Ue)throw new Error("unknown gl type");return Ue},C.isArrayBuffer=void 0;var w=5120,d=5121,k=5122,S=5123,U=5124,P=5125,y=5126,Y={},$=Y;$[w]=Int8Array,$[d]=Uint8Array,$[k]=Int16Array,$[S]=Uint16Array,$[U]=Int32Array,$[P]=Uint32Array,$[y]=Float32Array,$[32819]=Uint16Array,$[32820]=Uint16Array,$[33635]=Uint16Array,$[5131]=Uint16Array,$[33640]=Uint32Array,$[35899]=Uint32Array,$[35902]=Uint32Array,$[36269]=Uint32Array,$[34042]=Uint32Array,C.isArrayBuffer=typeof SharedArrayBuffer<"u"?function(Ue){return Ue&&Ue.buffer&&(Ue.buffer instanceof ArrayBuffer||Ue.buffer instanceof SharedArrayBuffer)}:function(Ue){return Ue&&Ue.buffer&&Ue.buffer instanceof ArrayBuffer}},"./src/utils.js":
/*!**********************!*\
                !*** ./src/utils.js ***!
                \**********************/(f,C)=>{C.__esModule=!0,C.glEnumToString=void 0,C.isWebGL1=function w(k){return!k.texStorage2D},C.isWebGL2=function x(k){return!!k.texStorage2D},C.glEnumToString=function(){var k={},S={};return function(y,v){return function U(P){var y=P.constructor.name;if(!k[y]){for(var v in P)if("number"==typeof P[v]){var M=S[P[v]];S[P[v]]=M?"".concat(M," | ").concat(v):v}k[y]=!0}}(y),S[v]||("number"==typeof v?"0x".concat(v.toString(16)):v)}}()},"./src/vertex-arrays.js":
/*!******************************!*\
                !*** ./src/vertex-arrays.js ***!
                \******************************/(f,C,x)=>{function w(M){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(M)}C.__esModule=!0,C.createVAOAndSetAttributes=y,C.createVAOFromBufferInfo=function v(M,G,K){return y(M,G.attribSetters||G,K.attribs,K.indices)},C.createVertexArrayInfo=function P(M,G,K){var V=M.createVertexArray();return M.bindVertexArray(V),G.length||(G=[G]),G.forEach(function(Z){d.setBuffersAndAttributes(M,Z,K)}),M.bindVertexArray(null),{numElements:K.numElements,elementType:K.elementType,vertexArrayObject:V}};var d=function S(M,G){if(!G&&M&&M.__esModule)return M;if(null===M||"object"!=w(M)&&"function"!=typeof M)return{default:M};var K=k(G);if(K&&K.has(M))return K.get(M);var V={__proto__:null},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in M)if("default"!==J&&Object.prototype.hasOwnProperty.call(M,J)){var te=Z?Object.getOwnPropertyDescriptor(M,J):null;te&&(te.get||te.set)?Object.defineProperty(V,J,te):V[J]=M[J]}return V.default=M,K&&K.set(M,V),V}(x(
/*! ./programs.js */
"./src/programs.js"));function k(M){if("function"!=typeof WeakMap)return null;var G=new WeakMap,K=new WeakMap;return(k=function(Z){return Z?K:G})(M)}var U=34963;function y(M,G,K,V){var Z=M.createVertexArray();return M.bindVertexArray(Z),d.setAttributes(G,K),V&&M.bindBuffer(U,V),M.bindVertexArray(null),Z}}},E={},u=function i(f){var C=E[f];if(void 0!==C)return C.exports;var x=E[f]={exports:{}};return Ve[f](x,x.exports,i),x.exports}("./src/twgl-base.js");return u})(),en.exports=i()},71245:(en,Ve,E)=>{"use strict";E.r(Ve),E.d(Ve,{DOMException:()=>H,Headers:()=>S,Request:()=>J,Response:()=>Y,fetch:()=>me});var i=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},u={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};if(u.arrayBuffer)var C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=ArrayBuffer.isView||function(B){return B&&C.indexOf(Object.prototype.toString.call(B))>-1};function w(B){if("string"!=typeof B&&(B=String(B)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(B)||""===B)throw new TypeError('Invalid character in header field name: "'+B+'"');return B.toLowerCase()}function d(B){return"string"!=typeof B&&(B=String(B)),B}function k(B){var ce={next:function(){var Oe=B.shift();return{done:void 0===Oe,value:Oe}}};return u.iterable&&(ce[Symbol.iterator]=function(){return ce}),ce}function S(B){this.map={},B instanceof S?B.forEach(function(ce,Oe){this.append(Oe,ce)},this):Array.isArray(B)?B.forEach(function(ce){if(2!=ce.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ce.length);this.append(ce[0],ce[1])},this):B&&Object.getOwnPropertyNames(B).forEach(function(ce){this.append(ce,B[ce])},this)}function U(B){if(!B._noBody){if(B.bodyUsed)return Promise.reject(new TypeError("Already read"));B.bodyUsed=!0}}function P(B){return new Promise(function(ce,Oe){B.onload=function(){ce(B.result)},B.onerror=function(){Oe(B.error)}})}function y(B){var ce=new FileReader,Oe=P(ce);return ce.readAsArrayBuffer(B),Oe}function G(B){if(B.slice)return B.slice(0);var ce=new Uint8Array(B.byteLength);return ce.set(new Uint8Array(B)),ce.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(B){this.bodyUsed=this.bodyUsed,this._bodyInit=B,B?"string"==typeof B?this._bodyText=B:u.blob&&Blob.prototype.isPrototypeOf(B)?this._bodyBlob=B:u.formData&&FormData.prototype.isPrototypeOf(B)?this._bodyFormData=B:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)?this._bodyText=B.toString():u.arrayBuffer&&u.blob&&function f(B){return B&&DataView.prototype.isPrototypeOf(B)}(B)?(this._bodyArrayBuffer=G(B.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(B)||x(B))?this._bodyArrayBuffer=G(B):this._bodyText=B=Object.prototype.toString.call(B):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof B?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var B=U(this);if(B)return B;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return U(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(u.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var B=U(this);if(B)return B;if(this._bodyBlob)return function v(B){var ce=new FileReader,Oe=P(ce),Ue=/charset=([A-Za-z0-9_-]+)/.exec(B.type);return ce.readAsText(B,Ue?Ue[1]:"utf-8"),Oe}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function M(B){for(var ce=new Uint8Array(B),Oe=new Array(ce.length),Ue=0;Ue<ce.length;Ue++)Oe[Ue]=String.fromCharCode(ce[Ue]);return Oe.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(te)}),this.json=function(){return this.text().then(JSON.parse)},this}S.prototype.append=function(B,ce){B=w(B),ce=d(ce);var Oe=this.map[B];this.map[B]=Oe?Oe+", "+ce:ce},S.prototype.delete=function(B){delete this.map[w(B)]},S.prototype.get=function(B){return B=w(B),this.has(B)?this.map[B]:null},S.prototype.has=function(B){return this.map.hasOwnProperty(w(B))},S.prototype.set=function(B,ce){this.map[w(B)]=d(ce)},S.prototype.forEach=function(B,ce){for(var Oe in this.map)this.map.hasOwnProperty(Oe)&&B.call(ce,this.map[Oe],Oe,this)},S.prototype.keys=function(){var B=[];return this.forEach(function(ce,Oe){B.push(Oe)}),k(B)},S.prototype.values=function(){var B=[];return this.forEach(function(ce){B.push(ce)}),k(B)},S.prototype.entries=function(){var B=[];return this.forEach(function(ce,Oe){B.push([Oe,ce])}),k(B)},u.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);var V=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function J(B,ce){if(!(this instanceof J))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Oe=(ce=ce||{}).body;if(B instanceof J){if(B.bodyUsed)throw new TypeError("Already read");this.url=B.url,this.credentials=B.credentials,ce.headers||(this.headers=new S(B.headers)),this.method=B.method,this.mode=B.mode,this.signal=B.signal,!Oe&&null!=B._bodyInit&&(Oe=B._bodyInit,B.bodyUsed=!0)}else this.url=String(B);if(this.credentials=ce.credentials||this.credentials||"same-origin",(ce.headers||!this.headers)&&(this.headers=new S(ce.headers)),this.method=function Z(B){var ce=B.toUpperCase();return V.indexOf(ce)>-1?ce:B}(ce.method||this.method||"GET"),this.mode=ce.mode||this.mode||null,this.signal=ce.signal||this.signal||function(){if("AbortController"in i)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Oe)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Oe),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==ce.cache&&"no-cache"!==ce.cache)){var Ue=/([?&])_=[^&]*/;Ue.test(this.url)?this.url=this.url.replace(Ue,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function te(B){var ce=new FormData;return B.trim().split("&").forEach(function(Oe){if(Oe){var Ue=Oe.split("="),qe=Ue.shift().replace(/\+/g," "),_e=Ue.join("=").replace(/\+/g," ");ce.append(decodeURIComponent(qe),decodeURIComponent(_e))}}),ce}function ae(B){var ce=new S;return B.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(Ue){return 0===Ue.indexOf("\n")?Ue.substr(1,Ue.length):Ue}).forEach(function(Ue){var qe=Ue.split(":"),_e=qe.shift().trim();if(_e){var ht=qe.join(":").trim();try{ce.append(_e,ht)}catch(Bt){console.warn("Response "+Bt.message)}}}),ce}function Y(B,ce){if(!(this instanceof Y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ce||(ce={}),this.type="default",this.status=void 0===ce.status?200:ce.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===ce.statusText?"":""+ce.statusText,this.headers=new S(ce.headers),this.url=ce.url||"",this._initBody(B)}J.prototype.clone=function(){return new J(this,{body:this._bodyInit})},K.call(J.prototype),K.call(Y.prototype),Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},Y.error=function(){var B=new Y(null,{status:200,statusText:""});return B.ok=!1,B.status=0,B.type="error",B};var $=[301,302,303,307,308];Y.redirect=function(B,ce){if(-1===$.indexOf(ce))throw new RangeError("Invalid status code");return new Y(null,{status:ce,headers:{location:B}})};var H=i.DOMException;try{new H}catch{(H=function(ce,Oe){this.message=ce,this.name=Oe;var Ue=Error(ce);this.stack=Ue.stack}).prototype=Object.create(Error.prototype),H.prototype.constructor=H}function me(B,ce){return new Promise(function(Oe,Ue){var qe=new J(B,ce);if(qe.signal&&qe.signal.aborted)return Ue(new H("Aborted","AbortError"));var _e=new XMLHttpRequest;function ht(){_e.abort()}if(_e.onload=function(){var R={statusText:_e.statusText,headers:ae(_e.getAllResponseHeaders()||"")};R.status=0===qe.url.indexOf("file://")&&(_e.status<200||_e.status>599)?200:_e.status,R.url="responseURL"in _e?_e.responseURL:R.headers.get("X-Request-URL");var j="response"in _e?_e.response:_e.responseText;setTimeout(function(){Oe(new Y(j,R))},0)},_e.onerror=function(){setTimeout(function(){Ue(new TypeError("Network request failed"))},0)},_e.ontimeout=function(){setTimeout(function(){Ue(new TypeError("Network request timed out"))},0)},_e.onabort=function(){setTimeout(function(){Ue(new H("Aborted","AbortError"))},0)},_e.open(qe.method,function Bt(R){try{return""===R&&i.location.href?i.location.href:R}catch{return R}}(qe.url),!0),"include"===qe.credentials?_e.withCredentials=!0:"omit"===qe.credentials&&(_e.withCredentials=!1),"responseType"in _e&&(u.blob?_e.responseType="blob":u.arrayBuffer&&(_e.responseType="arraybuffer")),ce&&"object"==typeof ce.headers&&!(ce.headers instanceof S||i.Headers&&ce.headers instanceof i.Headers)){var de=[];Object.getOwnPropertyNames(ce.headers).forEach(function(R){de.push(w(R)),_e.setRequestHeader(R,d(ce.headers[R]))}),qe.headers.forEach(function(R,j){-1===de.indexOf(j)&&_e.setRequestHeader(j,R)})}else qe.headers.forEach(function(R,j){_e.setRequestHeader(j,R)});qe.signal&&(qe.signal.addEventListener("abort",ht),_e.onreadystatechange=function(){4===_e.readyState&&qe.signal.removeEventListener("abort",ht)}),_e.send(typeof qe._bodyInit>"u"?null:qe._bodyInit)})}me.polyfill=!0,i.fetch||(i.fetch=me,i.Headers=S,i.Request=J,i.Response=Y)},75067:()=>{"use strict";const en=globalThis;function Ve(He){return(en.__Zone_symbol_prefix||"__zone_symbol__")+He}const u=Object.getOwnPropertyDescriptor,f=Object.defineProperty,C=Object.getPrototypeOf,x=Object.create,w=Array.prototype.slice,d="addEventListener",k="removeEventListener",S=Ve(d),U=Ve(k),P="true",y="false",v=Ve("");function M(He,ye){return Zone.current.wrap(He,ye)}function G(He,ye,mt,rt,Kt){return Zone.current.scheduleMacroTask(He,ye,mt,rt,Kt)}const K=Ve,V=typeof window<"u",Z=V?window:void 0,J=V&&Z||globalThis,te="removeAttribute";function ae(He,ye){for(let mt=He.length-1;mt>=0;mt--)"function"==typeof He[mt]&&(He[mt]=M(He[mt],ye+"_"+mt));return He}function $(He){return!He||!1!==He.writable&&!("function"==typeof He.get&&typeof He.set>"u")}const H=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,me=!("nw"in J)&&typeof J.process<"u"&&"[object process]"===J.process.toString(),B=!me&&!H&&!(!V||!Z.HTMLElement),ce=typeof J.process<"u"&&"[object process]"===J.process.toString()&&!H&&!(!V||!Z.HTMLElement),Oe={},Ue=K("enable_beforeunload"),qe=function(He){if(!(He=He||J.event))return;let ye=Oe[He.type];ye||(ye=Oe[He.type]=K("ON_PROPERTY"+He.type));const mt=this||He.target||J,rt=mt[ye];let Kt;return B&&mt===Z&&"error"===He.type?(Kt=rt&&rt.call(this,He.message,He.filename,He.lineno,He.colno,He.error),!0===Kt&&He.preventDefault()):(Kt=rt&&rt.apply(this,arguments),"beforeunload"===He.type&&J[Ue]&&"string"==typeof Kt?He.returnValue=Kt:null!=Kt&&!Kt&&He.preventDefault()),Kt};function _e(He,ye,mt){let rt=u(He,ye);if(!rt&&mt&&u(mt,ye)&&(rt={enumerable:!0,configurable:!0}),!rt||!rt.configurable)return;const Kt=K("on"+ye+"patched");if(He.hasOwnProperty(Kt)&&He[Kt])return;delete rt.writable,delete rt.value;const Dn=rt.get,Jn=rt.set,lr=ye.slice(2);let an=Oe[lr];an||(an=Oe[lr]=K("ON_PROPERTY"+lr)),rt.set=function(At){let Et=this;!Et&&He===J&&(Et=J),Et&&("function"==typeof Et[an]&&Et.removeEventListener(lr,qe),Jn&&Jn.call(Et,null),Et[an]=At,"function"==typeof At&&Et.addEventListener(lr,qe,!1))},rt.get=function(){let At=this;if(!At&&He===J&&(At=J),!At)return null;const Et=At[an];if(Et)return Et;if(Dn){let xt=Dn.call(this);if(xt)return rt.set.call(this,xt),"function"==typeof At[te]&&At.removeAttribute(ye),xt}return null},f(He,ye,rt),He[Kt]=!0}function ht(He,ye,mt){if(ye)for(let rt=0;rt<ye.length;rt++)_e(He,"on"+ye[rt],mt);else{const rt=[];for(const Kt in He)"on"==Kt.slice(0,2)&&rt.push(Kt);for(let Kt=0;Kt<rt.length;Kt++)_e(He,rt[Kt],mt)}}const Bt=K("originalInstance");function de(He){const ye=J[He];if(!ye)return;J[K(He)]=ye,J[He]=function(){const Kt=ae(arguments,He);switch(Kt.length){case 0:this[Bt]=new ye;break;case 1:this[Bt]=new ye(Kt[0]);break;case 2:this[Bt]=new ye(Kt[0],Kt[1]);break;case 3:this[Bt]=new ye(Kt[0],Kt[1],Kt[2]);break;case 4:this[Bt]=new ye(Kt[0],Kt[1],Kt[2],Kt[3]);break;default:throw new Error("Arg list too long.")}},he(J[He],ye);const mt=new ye(function(){});let rt;for(rt in mt)"XMLHttpRequest"===He&&"responseBlob"===rt||function(Kt){"function"==typeof mt[Kt]?J[He].prototype[Kt]=function(){return this[Bt][Kt].apply(this[Bt],arguments)}:f(J[He].prototype,Kt,{set:function(Dn){"function"==typeof Dn?(this[Bt][Kt]=M(Dn,He+"."+Kt),he(this[Bt][Kt],Dn)):this[Bt][Kt]=Dn},get:function(){return this[Bt][Kt]}})}(rt);for(rt in ye)"prototype"!==rt&&ye.hasOwnProperty(rt)&&(J[He][rt]=ye[rt])}function R(He,ye,mt){let rt=He;for(;rt&&!rt.hasOwnProperty(ye);)rt=C(rt);!rt&&He[ye]&&(rt=He);const Kt=K(ye);let Dn=null;if(rt&&(!(Dn=rt[Kt])||!rt.hasOwnProperty(Kt))&&(Dn=rt[Kt]=rt[ye],$(rt&&u(rt,ye)))){const lr=mt(Dn,Kt,ye);rt[ye]=function(){return lr(this,arguments)},he(rt[ye],Dn)}return Dn}function j(He,ye,mt){let rt=null;function Kt(Dn){const Jn=Dn.data;return Jn.args[Jn.cbIdx]=function(){Dn.invoke.apply(this,arguments)},rt.apply(Jn.target,Jn.args),Dn}rt=R(He,ye,Dn=>function(Jn,lr){const an=mt(Jn,lr);return an.cbIdx>=0&&"function"==typeof lr[an.cbIdx]?G(an.name,lr[an.cbIdx],an,Kt):Dn.apply(Jn,lr)})}function he(He,ye){He[K("OriginalDelegate")]=ye}let Ce=!1,Re=!1;function zt(){if(Ce)return Re;Ce=!0;try{const He=Z.navigator.userAgent;(-1!==He.indexOf("MSIE ")||-1!==He.indexOf("Trident/")||-1!==He.indexOf("Edge/"))&&(Re=!0)}catch{}return Re}function Mn(He){return"function"==typeof He}function It(He){return"number"==typeof He}let Ne=!1;if(typeof window<"u")try{const He=Object.defineProperty({},"passive",{get:function(){Ne=!0}});window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch{Ne=!1}const Xe={useG:!0},Ot={},re={},D=new RegExp("^"+v+"(\\w+)(true|false)$"),F=K("propagationStopped");function T(He,ye){const mt=(ye?ye(He):He)+y,rt=(ye?ye(He):He)+P,Kt=v+mt,Dn=v+rt;Ot[He]={},Ot[He][y]=Kt,Ot[He][P]=Dn}function W(He,ye,mt,rt){const Kt=rt&&rt.add||d,Dn=rt&&rt.rm||k,Jn=rt&&rt.listeners||"eventListeners",lr=rt&&rt.rmAll||"removeAllListeners",an=K(Kt),At="."+Kt+":",Et="prependListener",xt="."+Et+":",gt=function(it,ke,Jt){if(it.isRemoved)return;const We=it.callback;let Tt;"object"==typeof We&&We.handleEvent&&(it.callback=In=>We.handleEvent(In),it.originalDelegate=We);try{it.invoke(it,ke,[Jt])}catch(In){Tt=In}const wn=it.options;return wn&&"object"==typeof wn&&wn.once&&ke[Dn].call(ke,Jt.type,it.originalDelegate?it.originalDelegate:it.callback,wn),Tt};function tn(it,ke,Jt){if(!(ke=ke||He.event))return;const We=it||ke.target||He,Tt=We[Ot[ke.type][Jt?P:y]];if(Tt){const wn=[];if(1===Tt.length){const In=gt(Tt[0],We,ke);In&&wn.push(In)}else{const In=Tt.slice();for(let dr=0;dr<In.length&&(!ke||!0!==ke[F]);dr++){const sr=gt(In[dr],We,ke);sr&&wn.push(sr)}}if(1===wn.length)throw wn[0];for(let In=0;In<wn.length;In++){const dr=wn[In];ye.nativeScheduleMicroTask(()=>{throw dr})}}}const Xt=function(it){return tn(this,it,!1)},Ye=function(it){return tn(this,it,!0)};function Vt(it,ke){if(!it)return!1;let Jt=!0;ke&&void 0!==ke.useG&&(Jt=ke.useG);const We=ke&&ke.vh;let Tt=!0;ke&&void 0!==ke.chkDup&&(Tt=ke.chkDup);let wn=!1;ke&&void 0!==ke.rt&&(wn=ke.rt);let In=it;for(;In&&!In.hasOwnProperty(Kt);)In=C(In);if(!In&&it[Kt]&&(In=it),!In||In[an])return!1;const dr=ke&&ke.eventNameToString,sr={},Gr=In[an]=In[Kt],hi=In[K(Dn)]=In[Dn],Ei=In[K(Jn)]=In[Jn],fi=In[K(lr)]=In[lr];let co;ke&&ke.prepend&&(co=In[K(ke.prepend)]=In[ke.prepend]);const Pe=Jt?function(tt){if(!sr.isExisting)return Gr.call(sr.target,sr.eventName,sr.capture?Ye:Xt,sr.options)}:function(tt){return Gr.call(sr.target,sr.eventName,tt.invoke,sr.options)},dt=Jt?function(tt){if(!tt.isRemoved){const un=Ot[tt.eventName];let fr;un&&(fr=un[tt.capture?P:y]);const Ar=fr&&tt.target[fr];if(Ar)for(let zr=0;zr<Ar.length;zr++)if(Ar[zr]===tt){Ar.splice(zr,1),tt.isRemoved=!0,tt.removeAbortListener&&(tt.removeAbortListener(),tt.removeAbortListener=null),0===Ar.length&&(tt.allRemoved=!0,tt.target[fr]=null);break}}if(tt.allRemoved)return hi.call(tt.target,tt.eventName,tt.capture?Ye:Xt,tt.options)}:function(tt){return hi.call(tt.target,tt.eventName,tt.invoke,tt.options)},bn=ke&&ke.diff?ke.diff:function(tt,un){const fr=typeof un;return"function"===fr&&tt.callback===un||"object"===fr&&tt.originalDelegate===un},Gn=Zone[K("UNPATCHED_EVENTS")],nr=He[K("PASSIVE_EVENTS")],Be=function(tt,un,fr,Ar,zr=!1,si=!1){return function(){const Ti=this||He;let ni=arguments[0];ke&&ke.transferEventName&&(ni=ke.transferEventName(ni));let ai=arguments[1];if(!ai)return tt.apply(this,arguments);if(me&&"uncaughtException"===ni)return tt.apply(this,arguments);let Oi=!1;if("function"!=typeof ai){if(!ai.handleEvent)return tt.apply(this,arguments);Oi=!0}if(We&&!We(tt,ai,Ti,arguments))return;const so=Ne&&!!nr&&-1!==nr.indexOf(ni),wo=function er(tt){if("object"==typeof tt&&null!==tt){const un={...tt};return tt.signal&&(un.signal=tt.signal),un}return tt}(function uo(tt,un){return!Ne&&"object"==typeof tt&&tt?!!tt.capture:Ne&&un?"boolean"==typeof tt?{capture:tt,passive:!0}:tt?"object"==typeof tt&&!1!==tt.passive?{...tt,passive:!0}:tt:{passive:!0}:tt}(arguments[2],so)),eo=wo?.signal;if(eo?.aborted)return;if(Gn)for(let Co=0;Co<Gn.length;Co++)if(ni===Gn[Co])return so?tt.call(Ti,ni,ai,wo):tt.apply(this,arguments);const Vo=!!wo&&("boolean"==typeof wo||wo.capture),$n=!(!wo||"object"!=typeof wo)&&wo.once,fn=Zone.current;let ze=Ot[ni];ze||(T(ni,dr),ze=Ot[ni]);const Dt=ze[Vo?P:y];let Ir,sn=Ti[Dt],Wn=!1;if(sn){if(Wn=!0,Tt)for(let Co=0;Co<sn.length;Co++)if(bn(sn[Co],ai))return}else sn=Ti[Dt]=[];const Zr=Ti.constructor.name,io=re[Zr];io&&(Ir=io[ni]),Ir||(Ir=Zr+un+(dr?dr(ni):ni)),sr.options=wo,$n&&(sr.options.once=!1),sr.target=Ti,sr.capture=Vo,sr.eventName=ni,sr.isExisting=Wn;const Hi=Jt?Xe:void 0;Hi&&(Hi.taskData=sr),eo&&(sr.options.signal=void 0);const _o=fn.scheduleEventTask(Ir,ai,Hi,fr,Ar);if(eo){sr.options.signal=eo;const Co=()=>_o.zone.cancelTask(_o);tt.call(eo,"abort",Co,{once:!0}),_o.removeAbortListener=()=>eo.removeEventListener("abort",Co)}return sr.target=null,Hi&&(Hi.taskData=null),$n&&(sr.options.once=!0),!Ne&&"boolean"==typeof _o.options||(_o.options=wo),_o.target=Ti,_o.capture=Vo,_o.eventName=ni,Oi&&(_o.originalDelegate=ai),si?sn.unshift(_o):sn.push(_o),zr?Ti:void 0}};return In[Kt]=Be(Gr,At,Pe,dt,wn),co&&(In[Et]=Be(co,xt,function(tt){return co.call(sr.target,sr.eventName,tt.invoke,sr.options)},dt,wn,!0)),In[Dn]=function(){const tt=this||He;let un=arguments[0];ke&&ke.transferEventName&&(un=ke.transferEventName(un));const fr=arguments[2],Ar=!!fr&&("boolean"==typeof fr||fr.capture),zr=arguments[1];if(!zr)return hi.apply(this,arguments);if(We&&!We(hi,zr,tt,arguments))return;const si=Ot[un];let Ti;si&&(Ti=si[Ar?P:y]);const ni=Ti&&tt[Ti];if(ni)for(let ai=0;ai<ni.length;ai++){const Oi=ni[ai];if(bn(Oi,zr))return ni.splice(ai,1),Oi.isRemoved=!0,0!==ni.length||(Oi.allRemoved=!0,tt[Ti]=null,Ar||"string"!=typeof un)||(tt[v+"ON_PROPERTY"+un]=null),Oi.zone.cancelTask(Oi),wn?tt:void 0}return hi.apply(this,arguments)},In[Jn]=function(){const tt=this||He;let un=arguments[0];ke&&ke.transferEventName&&(un=ke.transferEventName(un));const fr=[],Ar=z(tt,dr?dr(un):un);for(let zr=0;zr<Ar.length;zr++){const si=Ar[zr];fr.push(si.originalDelegate?si.originalDelegate:si.callback)}return fr},In[lr]=function(){const tt=this||He;let un=arguments[0];if(un){ke&&ke.transferEventName&&(un=ke.transferEventName(un));const fr=Ot[un];if(fr){const si=tt[fr[y]],Ti=tt[fr[P]];if(si){const ni=si.slice();for(let ai=0;ai<ni.length;ai++){const Oi=ni[ai];this[Dn].call(this,un,Oi.originalDelegate?Oi.originalDelegate:Oi.callback,Oi.options)}}if(Ti){const ni=Ti.slice();for(let ai=0;ai<ni.length;ai++){const Oi=ni[ai];this[Dn].call(this,un,Oi.originalDelegate?Oi.originalDelegate:Oi.callback,Oi.options)}}}}else{const fr=Object.keys(tt);for(let Ar=0;Ar<fr.length;Ar++){const si=D.exec(fr[Ar]);let Ti=si&&si[1];Ti&&"removeListener"!==Ti&&this[lr].call(this,Ti)}this[lr].call(this,"removeListener")}if(wn)return this},he(In[Kt],Gr),he(In[Dn],hi),fi&&he(In[lr],fi),Ei&&he(In[Jn],Ei),!0}let En=[];for(let it=0;it<mt.length;it++)En[it]=Vt(mt[it],rt);return En}function z(He,ye){if(!ye){const Dn=[];for(let Jn in He){const lr=D.exec(Jn);let an=lr&&lr[1];if(an&&(!ye||an===ye)){const At=He[Jn];if(At)for(let Et=0;Et<At.length;Et++)Dn.push(At[Et])}}return Dn}let mt=Ot[ye];mt||(T(ye),mt=Ot[ye]);const rt=He[mt[y]],Kt=He[mt[P]];return rt?Kt?rt.concat(Kt):rt.slice():Kt?Kt.slice():[]}function p(He,ye){const mt=He.Event;mt&&mt.prototype&&ye.patchMethod(mt.prototype,"stopImmediatePropagation",rt=>function(Kt,Dn){Kt[F]=!0,rt&&rt.apply(Kt,Dn)})}const Ae=K("zoneTask");function se(He,ye,mt,rt){let Kt=null,Dn=null;mt+=rt;const Jn={};function lr(At){const Et=At.data;Et.args[0]=function(){return At.invoke.apply(this,arguments)};const xt=Kt.apply(He,Et.args);return It(xt)?Et.handleId=xt:(Et.handle=xt,Et.isRefreshable=Mn(xt.refresh)),At}function an(At){const{handle:Et,handleId:xt}=At.data;return Dn.call(He,Et??xt)}Kt=R(He,ye+=rt,At=>function(Et,xt){if(Mn(xt[0])){const gt={isRefreshable:!1,isPeriodic:"Interval"===rt,delay:"Timeout"===rt||"Interval"===rt?xt[1]||0:void 0,args:xt},tn=xt[0];xt[0]=function(){try{return tn.apply(this,arguments)}finally{const{handle:Jt,handleId:We,isPeriodic:Tt,isRefreshable:wn}=gt;!Tt&&!wn&&(We?delete Jn[We]:Jt&&(Jt[Ae]=null))}};const Xt=G(ye,xt[0],gt,lr,an);if(!Xt)return Xt;const{handleId:Ye,handle:Vt,isRefreshable:En,isPeriodic:it}=Xt.data;if(Ye)Jn[Ye]=Xt;else if(Vt&&(Vt[Ae]=Xt,En&&!it)){const ke=Vt.refresh;Vt.refresh=function(){const{zone:Jt,state:We}=Xt;return"notScheduled"===We?(Xt._state="scheduled",Jt._updateTaskCount(Xt,1)):"running"===We&&(Xt._state="scheduling"),ke.call(this)}}return Vt??Ye??Xt}return At.apply(He,xt)}),Dn=R(He,mt,At=>function(Et,xt){const gt=xt[0];let tn;It(gt)?(tn=Jn[gt],delete Jn[gt]):(tn=gt?.[Ae],tn?gt[Ae]=null:tn=gt),tn?.type?tn.cancelFn&&tn.zone.cancelTask(tn):At.apply(He,xt)})}function et(He,ye,mt){if(!mt||0===mt.length)return ye;const rt=mt.filter(Dn=>Dn.target===He);if(!rt||0===rt.length)return ye;const Kt=rt[0].ignoreProperties;return ye.filter(Dn=>-1===Kt.indexOf(Dn))}function Pt(He,ye,mt,rt){He&&ht(He,et(He,ye,mt),rt)}function Rt(He){return Object.getOwnPropertyNames(He).filter(ye=>ye.startsWith("on")&&ye.length>2).map(ye=>ye.substring(2))}function jt(He,ye,mt,rt,Kt){const Dn=Zone.__symbol__(rt);if(ye[Dn])return;const Jn=ye[Dn]=ye[rt];ye[rt]=function(lr,an,At){return an&&an.prototype&&Kt.forEach(function(Et){const xt=`${mt}.${rt}::`+Et,gt=an.prototype;try{if(gt.hasOwnProperty(Et)){const tn=He.ObjectGetOwnPropertyDescriptor(gt,Et);tn&&tn.value?(tn.value=He.wrapWithCurrentZone(tn.value,xt),He._redefineProperty(an.prototype,Et,tn)):gt[Et]&&(gt[Et]=He.wrapWithCurrentZone(gt[Et],xt))}else gt[Et]&&(gt[Et]=He.wrapWithCurrentZone(gt[Et],xt))}catch{}}),Jn.call(ye,lr,an,At)},He.attachOriginToPatched(ye[rt],Jn)}const bt=function i(){const He=globalThis,ye=!0===He[Ve("forceDuplicateZoneCheck")];if(He.Zone&&(ye||"function"!=typeof He.Zone.__symbol__))throw new Error("Zone already loaded.");return He.Zone??=function E(){const He=en.performance;function ye(uo){He&&He.mark&&He.mark(uo)}function mt(uo,Pi){He&&He.measure&&He.measure(uo,Pi)}ye("Zone");let rt=(()=>{class Pi{static assertZonePatched(){if(en.Promise!==sr.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let mr=Pi.current;for(;mr.parent;)mr=mr.parent;return mr}static get current(){return hi.zone}static get currentTask(){return Ei}static __load_patch(mr,Li,ro=!1){if(sr.hasOwnProperty(mr)){const Pe=!0===en[Ve("forceDuplicateZoneCheck")];if(!ro&&Pe)throw Error("Already loaded patch: "+mr)}else if(!en["__Zone_disable_"+mr]){const Pe="Zone:"+mr;ye(Pe),sr[mr]=Li(en,Pi,Gr),mt(Pe,Pe)}}get parent(){return this._parent}get name(){return this._name}constructor(mr,Li){this._parent=mr,this._name=Li?Li.name||"unnamed":"<root>",this._properties=Li&&Li.properties||{},this._zoneDelegate=new Dn(this,this._parent&&this._parent._zoneDelegate,Li)}get(mr){const Li=this.getZoneWith(mr);if(Li)return Li._properties[mr]}getZoneWith(mr){let Li=this;for(;Li;){if(Li._properties.hasOwnProperty(mr))return Li;Li=Li._parent}return null}fork(mr){if(!mr)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,mr)}wrap(mr,Li){if("function"!=typeof mr)throw new Error("Expecting function got: "+mr);const ro=this._zoneDelegate.intercept(this,mr,Li),Pe=this;return function(){return Pe.runGuarded(ro,this,arguments,Li)}}run(mr,Li,ro,Pe){hi={parent:hi,zone:this};try{return this._zoneDelegate.invoke(this,mr,Li,ro,Pe)}finally{hi=hi.parent}}runGuarded(mr,Li=null,ro,Pe){hi={parent:hi,zone:this};try{try{return this._zoneDelegate.invoke(this,mr,Li,ro,Pe)}catch(dt){if(this._zoneDelegate.handleError(this,dt))throw dt}}finally{hi=hi.parent}}runTask(mr,Li,ro){if(mr.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(mr.zone||Vt).name+"; Execution: "+this.name+")");const Pe=mr,{type:dt,data:{isPeriodic:vn=!1,isRefreshable:bn=!1}={}}=mr;if(mr.state===En&&(dt===dr||dt===In))return;const Gn=mr.state!=Jt;Gn&&Pe._transitionTo(Jt,ke);const nr=Ei;Ei=Pe,hi={parent:hi,zone:this};try{dt==In&&mr.data&&!vn&&!bn&&(mr.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Pe,Li,ro)}catch(er){if(this._zoneDelegate.handleError(this,er))throw er}}finally{const er=mr.state;if(er!==En&&er!==Tt)if(dt==dr||vn||bn&&er===it)Gn&&Pe._transitionTo(ke,Jt,it);else{const Be=Pe._zoneDelegates;this._updateTaskCount(Pe,-1),Gn&&Pe._transitionTo(En,Jt,En),bn&&(Pe._zoneDelegates=Be)}hi=hi.parent,Ei=nr}}scheduleTask(mr){if(mr.zone&&mr.zone!==this){let ro=this;for(;ro;){if(ro===mr.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${mr.zone.name}`);ro=ro.parent}}mr._transitionTo(it,En);const Li=[];mr._zoneDelegates=Li,mr._zone=this;try{mr=this._zoneDelegate.scheduleTask(this,mr)}catch(ro){throw mr._transitionTo(Tt,it,En),this._zoneDelegate.handleError(this,ro),ro}return mr._zoneDelegates===Li&&this._updateTaskCount(mr,1),mr.state==it&&mr._transitionTo(ke,it),mr}scheduleMicroTask(mr,Li,ro,Pe){return this.scheduleTask(new Jn(wn,mr,Li,ro,Pe,void 0))}scheduleMacroTask(mr,Li,ro,Pe,dt){return this.scheduleTask(new Jn(In,mr,Li,ro,Pe,dt))}scheduleEventTask(mr,Li,ro,Pe,dt){return this.scheduleTask(new Jn(dr,mr,Li,ro,Pe,dt))}cancelTask(mr){if(mr.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(mr.zone||Vt).name+"; Execution: "+this.name+")");if(mr.state===ke||mr.state===Jt){mr._transitionTo(We,ke,Jt);try{this._zoneDelegate.cancelTask(this,mr)}catch(Li){throw mr._transitionTo(Tt,We),this._zoneDelegate.handleError(this,Li),Li}return this._updateTaskCount(mr,-1),mr._transitionTo(En,We),mr.runCount=-1,mr}}_updateTaskCount(mr,Li){const ro=mr._zoneDelegates;-1==Li&&(mr._zoneDelegates=null);for(let Pe=0;Pe<ro.length;Pe++)ro[Pe]._updateTaskCount(mr.type,Li)}}return Pi.__symbol__=Ve,Pi})();const Kt={name:"",onHasTask:(uo,Pi,ti,mr)=>uo.hasTask(ti,mr),onScheduleTask:(uo,Pi,ti,mr)=>uo.scheduleTask(ti,mr),onInvokeTask:(uo,Pi,ti,mr,Li,ro)=>uo.invokeTask(ti,mr,Li,ro),onCancelTask:(uo,Pi,ti,mr)=>uo.cancelTask(ti,mr)};class Dn{get zone(){return this._zone}constructor(Pi,ti,mr){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=Pi,this._parentDelegate=ti,this._forkZS=mr&&(mr&&mr.onFork?mr:ti._forkZS),this._forkDlgt=mr&&(mr.onFork?ti:ti._forkDlgt),this._forkCurrZone=mr&&(mr.onFork?this._zone:ti._forkCurrZone),this._interceptZS=mr&&(mr.onIntercept?mr:ti._interceptZS),this._interceptDlgt=mr&&(mr.onIntercept?ti:ti._interceptDlgt),this._interceptCurrZone=mr&&(mr.onIntercept?this._zone:ti._interceptCurrZone),this._invokeZS=mr&&(mr.onInvoke?mr:ti._invokeZS),this._invokeDlgt=mr&&(mr.onInvoke?ti:ti._invokeDlgt),this._invokeCurrZone=mr&&(mr.onInvoke?this._zone:ti._invokeCurrZone),this._handleErrorZS=mr&&(mr.onHandleError?mr:ti._handleErrorZS),this._handleErrorDlgt=mr&&(mr.onHandleError?ti:ti._handleErrorDlgt),this._handleErrorCurrZone=mr&&(mr.onHandleError?this._zone:ti._handleErrorCurrZone),this._scheduleTaskZS=mr&&(mr.onScheduleTask?mr:ti._scheduleTaskZS),this._scheduleTaskDlgt=mr&&(mr.onScheduleTask?ti:ti._scheduleTaskDlgt),this._scheduleTaskCurrZone=mr&&(mr.onScheduleTask?this._zone:ti._scheduleTaskCurrZone),this._invokeTaskZS=mr&&(mr.onInvokeTask?mr:ti._invokeTaskZS),this._invokeTaskDlgt=mr&&(mr.onInvokeTask?ti:ti._invokeTaskDlgt),this._invokeTaskCurrZone=mr&&(mr.onInvokeTask?this._zone:ti._invokeTaskCurrZone),this._cancelTaskZS=mr&&(mr.onCancelTask?mr:ti._cancelTaskZS),this._cancelTaskDlgt=mr&&(mr.onCancelTask?ti:ti._cancelTaskDlgt),this._cancelTaskCurrZone=mr&&(mr.onCancelTask?this._zone:ti._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const Li=mr&&mr.onHasTask;(Li||ti&&ti._hasTaskZS)&&(this._hasTaskZS=Li?mr:Kt,this._hasTaskDlgt=ti,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,mr.onScheduleTask||(this._scheduleTaskZS=Kt,this._scheduleTaskDlgt=ti,this._scheduleTaskCurrZone=this._zone),mr.onInvokeTask||(this._invokeTaskZS=Kt,this._invokeTaskDlgt=ti,this._invokeTaskCurrZone=this._zone),mr.onCancelTask||(this._cancelTaskZS=Kt,this._cancelTaskDlgt=ti,this._cancelTaskCurrZone=this._zone))}fork(Pi,ti){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,Pi,ti):new rt(Pi,ti)}intercept(Pi,ti,mr){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,Pi,ti,mr):ti}invoke(Pi,ti,mr,Li,ro){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,Pi,ti,mr,Li,ro):ti.apply(mr,Li)}handleError(Pi,ti){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,Pi,ti)}scheduleTask(Pi,ti){let mr=ti;if(this._scheduleTaskZS)this._hasTaskZS&&mr._zoneDelegates.push(this._hasTaskDlgtOwner),mr=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,Pi,ti),mr||(mr=ti);else if(ti.scheduleFn)ti.scheduleFn(ti);else{if(ti.type!=wn)throw new Error("Task is missing scheduleFn.");Xt(ti)}return mr}invokeTask(Pi,ti,mr,Li){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,Pi,ti,mr,Li):ti.callback.apply(mr,Li)}cancelTask(Pi,ti){let mr;if(this._cancelTaskZS)mr=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,Pi,ti);else{if(!ti.cancelFn)throw Error("Task is not cancelable");mr=ti.cancelFn(ti)}return mr}hasTask(Pi,ti){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,Pi,ti)}catch(mr){this.handleError(Pi,mr)}}_updateTaskCount(Pi,ti){const mr=this._taskCounts,Li=mr[Pi],ro=mr[Pi]=Li+ti;if(ro<0)throw new Error("More tasks executed then were scheduled.");0!=Li&&0!=ro||this.hasTask(this._zone,{microTask:mr.microTask>0,macroTask:mr.macroTask>0,eventTask:mr.eventTask>0,change:Pi})}}class Jn{constructor(Pi,ti,mr,Li,ro,Pe){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=Pi,this.source=ti,this.data=Li,this.scheduleFn=ro,this.cancelFn=Pe,!mr)throw new Error("callback is not defined");this.callback=mr;const dt=this;this.invoke=Pi===dr&&Li&&Li.useG?Jn.invokeTask:function(){return Jn.invokeTask.call(en,dt,this,arguments)}}static invokeTask(Pi,ti,mr){Pi||(Pi=this),fi++;try{return Pi.runCount++,Pi.zone.runTask(Pi,ti,mr)}finally{1==fi&&Ye(),fi--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(En,it)}_transitionTo(Pi,ti,mr){if(this._state!==ti&&this._state!==mr)throw new Error(`${this.type} '${this.source}': can not transition to '${Pi}', expecting state '${ti}'${mr?" or '"+mr+"'":""}, was '${this._state}'.`);this._state=Pi,Pi==En&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const lr=Ve("setTimeout"),an=Ve("Promise"),At=Ve("then");let gt,Et=[],xt=!1;function tn(uo){if(gt||en[an]&&(gt=en[an].resolve(0)),gt){let Pi=gt[At];Pi||(Pi=gt.then),Pi.call(gt,uo)}else en[lr](uo,0)}function Xt(uo){0===fi&&0===Et.length&&tn(Ye),uo&&Et.push(uo)}function Ye(){if(!xt){for(xt=!0;Et.length;){const uo=Et;Et=[];for(let Pi=0;Pi<uo.length;Pi++){const ti=uo[Pi];try{ti.zone.runTask(ti,null,null)}catch(mr){Gr.onUnhandledError(mr)}}}Gr.microtaskDrainDone(),xt=!1}}const Vt={name:"NO ZONE"},En="notScheduled",it="scheduling",ke="scheduled",Jt="running",We="canceling",Tt="unknown",wn="microTask",In="macroTask",dr="eventTask",sr={},Gr={symbol:Ve,currentZoneFrame:()=>hi,onUnhandledError:co,microtaskDrainDone:co,scheduleMicroTask:Xt,showUncaughtError:()=>!rt[Ve("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:co,patchMethod:()=>co,bindArguments:()=>[],patchThen:()=>co,patchMacroTask:()=>co,patchEventPrototype:()=>co,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>co,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>co,wrapWithCurrentZone:()=>co,filterProperties:()=>[],attachOriginToPatched:()=>co,_redefineProperty:()=>co,patchCallbacks:()=>co,nativeScheduleMicroTask:tn};let hi={parent:null,zone:new rt(null,null)},Ei=null,fi=0;function co(){}return mt("Zone","Zone"),rt}(),He.Zone}();(function lt(He){(function Ht(He){He.__load_patch("ZoneAwarePromise",(ye,mt,rt)=>{const Kt=Object.getOwnPropertyDescriptor,Dn=Object.defineProperty,lr=rt.symbol,an=[],At=!1!==ye[lr("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Et=lr("Promise"),xt=lr("then"),gt="__creationTrace__";rt.onUnhandledError=er=>{if(rt.showUncaughtError()){const Be=er&&er.rejection;Be?console.error("Unhandled Promise rejection:",Be instanceof Error?Be.message:Be,"; Zone:",er.zone.name,"; Task:",er.task&&er.task.source,"; Value:",Be,Be instanceof Error?Be.stack:void 0):console.error(er)}},rt.microtaskDrainDone=()=>{for(;an.length;){const er=an.shift();try{er.zone.runGuarded(()=>{throw er.throwOriginal?er.rejection:er})}catch(Be){Xt(Be)}}};const tn=lr("unhandledPromiseRejectionHandler");function Xt(er){rt.onUnhandledError(er);try{const Be=mt[tn];"function"==typeof Be&&Be.call(this,er)}catch{}}function Ye(er){return er&&er.then}function Vt(er){return er}function En(er){return dt.reject(er)}const it=lr("state"),ke=lr("value"),Jt=lr("finally"),We=lr("parentPromiseValue"),Tt=lr("parentPromiseState"),wn="Promise.then",In=null,dr=!0,sr=!1,Gr=0;function hi(er,Be){return tt=>{try{uo(er,Be,tt)}catch(un){uo(er,!1,un)}}}const Ei=function(){let er=!1;return function(tt){return function(){er||(er=!0,tt.apply(null,arguments))}}},fi="Promise resolved with itself",co=lr("currentTaskTrace");function uo(er,Be,tt){const un=Ei();if(er===tt)throw new TypeError(fi);if(er[it]===In){let fr=null;try{("object"==typeof tt||"function"==typeof tt)&&(fr=tt&&tt.then)}catch(Ar){return un(()=>{uo(er,!1,Ar)})(),er}if(Be!==sr&&tt instanceof dt&&tt.hasOwnProperty(it)&&tt.hasOwnProperty(ke)&&tt[it]!==In)ti(tt),uo(er,tt[it],tt[ke]);else if(Be!==sr&&"function"==typeof fr)try{fr.call(tt,un(hi(er,Be)),un(hi(er,!1)))}catch(Ar){un(()=>{uo(er,!1,Ar)})()}else{er[it]=Be;const Ar=er[ke];if(er[ke]=tt,er[Jt]===Jt&&Be===dr&&(er[it]=er[Tt],er[ke]=er[We]),Be===sr&&tt instanceof Error){const zr=mt.currentTask&&mt.currentTask.data&&mt.currentTask.data[gt];zr&&Dn(tt,co,{configurable:!0,enumerable:!1,writable:!0,value:zr})}for(let zr=0;zr<Ar.length;)mr(er,Ar[zr++],Ar[zr++],Ar[zr++],Ar[zr++]);if(0==Ar.length&&Be==sr){er[it]=Gr;let zr=tt;try{throw new Error("Uncaught (in promise): "+function Jn(er){return er&&er.toString===Object.prototype.toString?(er.constructor&&er.constructor.name||"")+": "+JSON.stringify(er):er?er.toString():Object.prototype.toString.call(er)}(tt)+(tt&&tt.stack?"\n"+tt.stack:""))}catch(si){zr=si}At&&(zr.throwOriginal=!0),zr.rejection=tt,zr.promise=er,zr.zone=mt.current,zr.task=mt.currentTask,an.push(zr),rt.scheduleMicroTask()}}}return er}const Pi=lr("rejectionHandledHandler");function ti(er){if(er[it]===Gr){try{const Be=mt[Pi];Be&&"function"==typeof Be&&Be.call(this,{rejection:er[ke],promise:er})}catch{}er[it]=sr;for(let Be=0;Be<an.length;Be++)er===an[Be].promise&&an.splice(Be,1)}}function mr(er,Be,tt,un,fr){ti(er);const Ar=er[it],zr=Ar?"function"==typeof un?un:Vt:"function"==typeof fr?fr:En;Be.scheduleMicroTask(wn,()=>{try{const si=er[ke],Ti=!!tt&&Jt===tt[Jt];Ti&&(tt[We]=si,tt[Tt]=Ar);const ni=Be.run(zr,void 0,Ti&&zr!==En&&zr!==Vt?[]:[si]);uo(tt,!0,ni)}catch(si){uo(tt,!1,si)}},tt)}const ro=function(){},Pe=ye.AggregateError;class dt{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Be){return Be instanceof dt?Be:uo(new this(null),dr,Be)}static reject(Be){return uo(new this(null),sr,Be)}static withResolvers(){const Be={};return Be.promise=new dt((tt,un)=>{Be.resolve=tt,Be.reject=un}),Be}static any(Be){if(!Be||"function"!=typeof Be[Symbol.iterator])return Promise.reject(new Pe([],"All promises were rejected"));const tt=[];let un=0;try{for(let zr of Be)un++,tt.push(dt.resolve(zr))}catch{return Promise.reject(new Pe([],"All promises were rejected"))}if(0===un)return Promise.reject(new Pe([],"All promises were rejected"));let fr=!1;const Ar=[];return new dt((zr,si)=>{for(let Ti=0;Ti<tt.length;Ti++)tt[Ti].then(ni=>{fr||(fr=!0,zr(ni))},ni=>{Ar.push(ni),un--,0===un&&(fr=!0,si(new Pe(Ar,"All promises were rejected")))})})}static race(Be){let tt,un,fr=new this((si,Ti)=>{tt=si,un=Ti});function Ar(si){tt(si)}function zr(si){un(si)}for(let si of Be)Ye(si)||(si=this.resolve(si)),si.then(Ar,zr);return fr}static all(Be){return dt.allWithCallback(Be)}static allSettled(Be){return(this&&this.prototype instanceof dt?this:dt).allWithCallback(Be,{thenCallback:un=>({status:"fulfilled",value:un}),errorCallback:un=>({status:"rejected",reason:un})})}static allWithCallback(Be,tt){let un,fr,Ar=new this((ni,ai)=>{un=ni,fr=ai}),zr=2,si=0;const Ti=[];for(let ni of Be){Ye(ni)||(ni=this.resolve(ni));const ai=si;try{ni.then(Oi=>{Ti[ai]=tt?tt.thenCallback(Oi):Oi,zr--,0===zr&&un(Ti)},Oi=>{tt?(Ti[ai]=tt.errorCallback(Oi),zr--,0===zr&&un(Ti)):fr(Oi)})}catch(Oi){fr(Oi)}zr++,si++}return zr-=2,0===zr&&un(Ti),Ar}constructor(Be){const tt=this;if(!(tt instanceof dt))throw new Error("Must be an instanceof Promise.");tt[it]=In,tt[ke]=[];try{const un=Ei();Be&&Be(un(hi(tt,dr)),un(hi(tt,sr)))}catch(un){uo(tt,!1,un)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return dt}then(Be,tt){let un=this.constructor?.[Symbol.species];(!un||"function"!=typeof un)&&(un=this.constructor||dt);const fr=new un(ro),Ar=mt.current;return this[it]==In?this[ke].push(Ar,fr,Be,tt):mr(this,Ar,fr,Be,tt),fr}catch(Be){return this.then(null,Be)}finally(Be){let tt=this.constructor?.[Symbol.species];(!tt||"function"!=typeof tt)&&(tt=dt);const un=new tt(ro);un[Jt]=Jt;const fr=mt.current;return this[it]==In?this[ke].push(fr,un,Be,Be):mr(this,fr,un,Be,Be),un}}dt.resolve=dt.resolve,dt.reject=dt.reject,dt.race=dt.race,dt.all=dt.all;const vn=ye[Et]=ye.Promise;ye.Promise=dt;const bn=lr("thenPatched");function Gn(er){const Be=er.prototype,tt=Kt(Be,"then");if(tt&&(!1===tt.writable||!tt.configurable))return;const un=Be.then;Be[xt]=un,er.prototype.then=function(fr,Ar){return new dt((si,Ti)=>{un.call(this,si,Ti)}).then(fr,Ar)},er[bn]=!0}return rt.patchThen=Gn,vn&&(Gn(vn),R(ye,"fetch",er=>function nr(er){return function(Be,tt){let un=er.apply(Be,tt);if(un instanceof dt)return un;let fr=un.constructor;return fr[bn]||Gn(fr),un}}(er))),Promise[mt.__symbol__("uncaughtPromiseErrors")]=an,dt})})(He),function ut(He){He.__load_patch("toString",ye=>{const mt=Function.prototype.toString,rt=K("OriginalDelegate"),Kt=K("Promise"),Dn=K("Error"),Jn=function(){if("function"==typeof this){const Et=this[rt];if(Et)return"function"==typeof Et?mt.call(Et):Object.prototype.toString.call(Et);if(this===Promise){const xt=ye[Kt];if(xt)return mt.call(xt)}if(this===Error){const xt=ye[Dn];if(xt)return mt.call(xt)}}return mt.call(this)};Jn[rt]=mt,Function.prototype.toString=Jn;const lr=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":lr.call(this)}})}(He),function gn(He){He.__load_patch("util",(ye,mt,rt)=>{const Kt=Rt(ye);rt.patchOnProperties=ht,rt.patchMethod=R,rt.bindArguments=ae,rt.patchMacroTask=j;const Dn=mt.__symbol__("BLACK_LISTED_EVENTS"),Jn=mt.__symbol__("UNPATCHED_EVENTS");ye[Jn]&&(ye[Dn]=ye[Jn]),ye[Dn]&&(mt[Dn]=mt[Jn]=ye[Dn]),rt.patchEventPrototype=p,rt.patchEventTarget=W,rt.isIEOrEdge=zt,rt.ObjectDefineProperty=f,rt.ObjectGetOwnPropertyDescriptor=u,rt.ObjectCreate=x,rt.ArraySlice=w,rt.patchClass=de,rt.wrapWithCurrentZone=M,rt.filterProperties=et,rt.attachOriginToPatched=he,rt._redefineProperty=Object.defineProperty,rt.patchCallbacks=jt,rt.getGlobalObjects=()=>({globalSources:re,zoneSymbolEventNames:Ot,eventNames:Kt,isBrowser:B,isMix:ce,isNode:me,TRUE_STR:P,FALSE_STR:y,ZONE_SYMBOL_PREFIX:v,ADD_EVENT_LISTENER_STR:d,REMOVE_EVENT_LISTENER_STR:k})})}(He)})(bt),function je(He){He.__load_patch("legacy",ye=>{const mt=ye[He.__symbol__("legacyPatch")];mt&&mt()}),He.__load_patch("timers",ye=>{const rt="clear";se(ye,"set",rt,"Timeout"),se(ye,"set",rt,"Interval"),se(ye,"set",rt,"Immediate")}),He.__load_patch("requestAnimationFrame",ye=>{se(ye,"request","cancel","AnimationFrame"),se(ye,"mozRequest","mozCancel","AnimationFrame"),se(ye,"webkitRequest","webkitCancel","AnimationFrame")}),He.__load_patch("blocking",(ye,mt)=>{const rt=["alert","prompt","confirm"];for(let Kt=0;Kt<rt.length;Kt++)R(ye,rt[Kt],(Jn,lr,an)=>function(At,Et){return mt.current.run(Jn,ye,Et,an)})}),He.__load_patch("EventTarget",(ye,mt,rt)=>{(function ge(He,ye){ye.patchEventPrototype(He,ye)})(ye,rt),function ve(He,ye){if(Zone[ye.symbol("patchEventTarget")])return;const{eventNames:mt,zoneSymbolEventNames:rt,TRUE_STR:Kt,FALSE_STR:Dn,ZONE_SYMBOL_PREFIX:Jn}=ye.getGlobalObjects();for(let an=0;an<mt.length;an++){const At=mt[an],gt=Jn+(At+Dn),tn=Jn+(At+Kt);rt[At]={},rt[At][Dn]=gt,rt[At][Kt]=tn}const lr=He.EventTarget;lr&&lr.prototype&&ye.patchEventTarget(He,ye,[lr&&lr.prototype])}(ye,rt);const Kt=ye.XMLHttpRequestEventTarget;Kt&&Kt.prototype&&rt.patchEventTarget(ye,rt,[Kt.prototype])}),He.__load_patch("MutationObserver",(ye,mt,rt)=>{de("MutationObserver"),de("WebKitMutationObserver")}),He.__load_patch("IntersectionObserver",(ye,mt,rt)=>{de("IntersectionObserver")}),He.__load_patch("FileReader",(ye,mt,rt)=>{de("FileReader")}),He.__load_patch("on_property",(ye,mt,rt)=>{!function ln(He,ye){if(me&&!ce||Zone[He.symbol("patchEvents")])return;const mt=ye.__Zone_ignore_on_properties;let rt=[];if(B){const Kt=window;rt=rt.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Dn=function pt(){try{const He=Z.navigator.userAgent;if(-1!==He.indexOf("MSIE ")||-1!==He.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:Kt,ignoreProperties:["error"]}]:[];Pt(Kt,Rt(Kt),mt&&mt.concat(Dn),C(Kt))}rt=rt.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let Kt=0;Kt<rt.length;Kt++){const Dn=ye[rt[Kt]];Dn&&Dn.prototype&&Pt(Dn.prototype,Rt(Dn.prototype),mt)}}(rt,ye)}),He.__load_patch("customElements",(ye,mt,rt)=>{!function L(He,ye){const{isBrowser:mt,isMix:rt}=ye.getGlobalObjects();(mt||rt)&&He.customElements&&"customElements"in He&&ye.patchCallbacks(ye,He.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(ye,rt)}),He.__load_patch("XHR",(ye,mt)=>{!function At(Et){const xt=Et.XMLHttpRequest;if(!xt)return;const gt=xt.prototype;let Xt=gt[S],Ye=gt[U];if(!Xt){const Gr=Et.XMLHttpRequestEventTarget;if(Gr){const hi=Gr.prototype;Xt=hi[S],Ye=hi[U]}}const Vt="readystatechange",En="scheduled";function it(Gr){const hi=Gr.data,Ei=hi.target;Ei[Jn]=!1,Ei[an]=!1;const fi=Ei[Dn];Xt||(Xt=Ei[S],Ye=Ei[U]),fi&&Ye.call(Ei,Vt,fi);const co=Ei[Dn]=()=>{if(Ei.readyState===Ei.DONE)if(!hi.aborted&&Ei[Jn]&&Gr.state===En){const Pi=Ei[mt.__symbol__("loadfalse")];if(0!==Ei.status&&Pi&&Pi.length>0){const ti=Gr.invoke;Gr.invoke=function(){const mr=Ei[mt.__symbol__("loadfalse")];for(let Li=0;Li<mr.length;Li++)mr[Li]===Gr&&mr.splice(Li,1);!hi.aborted&&Gr.state===En&&ti.call(Gr)},Pi.push(Gr)}else Gr.invoke()}else!hi.aborted&&!1===Ei[Jn]&&(Ei[an]=!0)};return Xt.call(Ei,Vt,co),Ei[rt]||(Ei[rt]=Gr),dr.apply(Ei,hi.args),Ei[Jn]=!0,Gr}function ke(){}function Jt(Gr){const hi=Gr.data;return hi.aborted=!0,sr.apply(hi.target,hi.args)}const We=R(gt,"open",()=>function(Gr,hi){return Gr[Kt]=0==hi[2],Gr[lr]=hi[1],We.apply(Gr,hi)}),wn=K("fetchTaskAborting"),In=K("fetchTaskScheduling"),dr=R(gt,"send",()=>function(Gr,hi){if(!0===mt.current[In]||Gr[Kt])return dr.apply(Gr,hi);{const Ei={target:Gr,url:Gr[lr],isPeriodic:!1,args:hi,aborted:!1},fi=G("XMLHttpRequest.send",ke,Ei,it,Jt);Gr&&!0===Gr[an]&&!Ei.aborted&&fi.state===En&&fi.invoke()}}),sr=R(gt,"abort",()=>function(Gr,hi){const Ei=function tn(Gr){return Gr[rt]}(Gr);if(Ei&&"string"==typeof Ei.type){if(null==Ei.cancelFn||Ei.data&&Ei.data.aborted)return;Ei.zone.cancelTask(Ei)}else if(!0===mt.current[wn])return sr.apply(Gr,hi)})}(ye);const rt=K("xhrTask"),Kt=K("xhrSync"),Dn=K("xhrListener"),Jn=K("xhrScheduled"),lr=K("xhrURL"),an=K("xhrErrorBeforeScheduled")}),He.__load_patch("geolocation",ye=>{ye.navigator&&ye.navigator.geolocation&&function Y(He,ye){const mt=He.constructor.name;for(let rt=0;rt<ye.length;rt++){const Kt=ye[rt],Dn=He[Kt];if(Dn){if(!$(u(He,Kt)))continue;He[Kt]=(lr=>{const an=function(){return lr.apply(this,ae(arguments,mt+"."+Kt))};return he(an,lr),an})(Dn)}}}(ye.navigator.geolocation,["getCurrentPosition","watchPosition"])}),He.__load_patch("PromiseRejectionEvent",(ye,mt)=>{function rt(Kt){return function(Dn){z(ye,Kt).forEach(lr=>{const an=ye.PromiseRejectionEvent;if(an){const At=new an(Kt,{promise:Dn.promise,reason:Dn.rejection});lr.invoke(At)}})}}ye.PromiseRejectionEvent&&(mt[K("unhandledPromiseRejectionHandler")]=rt("unhandledrejection"),mt[K("rejectionHandledHandler")]=rt("rejectionhandled"))}),He.__load_patch("queueMicrotask",(ye,mt,rt)=>{!function I(He,ye){ye.patchMethod(He,"queueMicrotask",mt=>function(rt,Kt){Zone.current.scheduleMicroTask("queueMicrotask",Kt[0])})}(ye,rt)})}(bt)},79258:(en,Ve,E)=>{"use strict";var fe,i=E(31049).default,u=E(15985).default,f=E(88429).default,C=E(57909).default,x=E(47604).default,w=E(88322).default,d=Object.defineProperty,k=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,U=Object.prototype.hasOwnProperty,M={};((fe,St)=>{for(var cn in St)d(fe,cn,{get:St[cn],enumerable:!0})})(M,{FetchError:()=>Bt,JSONLoader:()=>$r.JSONLoader,NullLoader:()=>Cr,NullWorkerLoader:()=>Er,RequestScheduler:()=>Nt.RequestScheduler,_BrowserFileSystem:()=>Ao,_fetchProgress:()=>pi,_unregisterLoaders:()=>En,assert:()=>Qe.assert,concatenateArrayBuffersAsync:()=>dn.concatenateArrayBuffersAsync,document:()=>st.document,encode:()=>Ks,encodeInBatches:()=>xr,encodeSync:()=>cs,encodeTable:()=>Ns,encodeTableAsText:()=>Os,encodeTableInBatches:()=>Gs,encodeText:()=>ua,encodeTextSync:()=>pr,encodeURLtoURL:()=>Pr,fetchFile:()=>ve,forEach:()=>dn.forEach,getLoaderOptions:()=>mt,getPathPrefix:()=>$e.getPathPrefix,global:()=>st.global,isAsyncIterable:()=>Y,isBrowser:()=>st.isBrowser,isIterable:()=>ae,isIterator:()=>$,isPromise:()=>te,isPureObject:()=>J,isReadableStream:()=>_e,isResponse:()=>H,isWorker:()=>st.isWorker,isWritableStream:()=>ht,load:()=>zi,loadInBatches:()=>xo,makeIterator:()=>Oi,makeLineIterator:()=>ft.makeLineIterator,makeNumberedLineIterator:()=>ft.makeNumberedLineIterator,makeStream:()=>nn,makeTextDecoderIterator:()=>ft.makeTextDecoderIterator,makeTextEncoderIterator:()=>ft.makeTextEncoderIterator,parse:()=>Zr,parseInBatches:()=>ms,parseSync:()=>Co,readArrayBuffer:()=>et,registerLoaders:()=>Ye,resolvePath:()=>$e.resolvePath,selectLoader:()=>Tt,selectLoaderSync:()=>In,self:()=>st.self,setLoaderOptions:()=>rt,setPathPrefix:()=>$e.setPathPrefix,window:()=>st.window}),en.exports=(fe=M,((fe,St,cn,Yn)=>{if(St&&"object"==typeof St||"function"==typeof St)for(let wt of S(St))!U.call(fe,wt)&&undefined!==wt&&d(fe,wt,{get:()=>St[wt],enumerable:!(Yn=k(St,wt))||Yn.enumerable});return fe})(d({},"__esModule",{value:!0}),fe));var G=E(28690),K=fe=>"boolean"==typeof fe,V=fe=>"function"==typeof fe,Z=fe=>null!==fe&&"object"==typeof fe,J=fe=>Z(fe)&&fe.constructor==={}.constructor,te=fe=>Z(fe)&&V(fe.then),ae=fe=>!!fe&&"function"==typeof fe[Symbol.iterator],Y=fe=>fe&&"function"==typeof fe[Symbol.asyncIterator],$=fe=>fe&&V(fe.next),H=fe=>typeof Response<"u"&&fe instanceof Response||fe&&fe.arrayBuffer&&fe.text&&fe.json,me=fe=>typeof Blob<"u"&&fe instanceof Blob,B=fe=>fe&&"object"==typeof fe&&fe.isBuffer,_e=fe=>(fe=>typeof ReadableStream<"u"&&fe instanceof ReadableStream||Z(fe)&&V(fe.tee)&&V(fe.cancel)&&V(fe.getReader))(fe)||(fe=>Z(fe)&&V(fe.read)&&V(fe.pipe)&&K(fe.readable))(fe),ht=fe=>(fe=>Z(fe)&&V(fe.abort)&&V(fe.getWriter))(fe)||(fe=>Z(fe)&&V(fe.end)&&V(fe.write)&&K(fe.writable))(fe),Bt=class extends Error{constructor(St,cn){super(St),u(this,"reason",void 0),u(this,"url",void 0),u(this,"response",void 0),this.reason=cn.reason,this.url=cn.url,this.response=cn.response}},de=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,R=/^([-\w.]+\/[-\w.+]+)/;function j(fe,St){return fe.toLowerCase()===St.toLowerCase()}function Ce(fe){const St=de.exec(fe);return St?St[1]:""}var Re=/\?.*/;function zt(fe){return fe.replace(Re,"")}function It(fe){return H(fe)?fe.url:me(fe)?fe.name||"":"string"==typeof fe?fe:""}function Ne(fe){if(H(fe)){const St=fe,cn=St.headers.get("content-type")||"",Yn=zt(St.url);return function he(fe){const St=R.exec(fe);return St?St[1]:fe}(cn)||Ce(Yn)}return me(fe)?fe.type||"":"string"==typeof fe?Ce(fe):""}function Ot(fe){return re.apply(this,arguments)}function re(){return re=i(function*(fe){if(H(fe))return fe;const St={},cn=function Xe(fe){return H(fe)?fe.headers["content-length"]||-1:me(fe)?fe.size:"string"==typeof fe?fe.length:fe instanceof ArrayBuffer||ArrayBuffer.isView(fe)?fe.byteLength:-1}(fe);cn>=0&&(St["content-length"]=String(cn));const Yn=It(fe),wt=Ne(fe);wt&&(St["content-type"]=wt);const Q=yield function z(fe){return p.apply(this,arguments)}(fe);Q&&(St["x-first-bytes"]=Q),"string"==typeof fe&&(fe=(new TextEncoder).encode(fe));const be=new Response(fe,{headers:St});return Object.defineProperty(be,"url",{value:Yn}),be}),re.apply(this,arguments)}function D(fe){return F.apply(this,arguments)}function F(){return F=i(function*(fe){if(!fe.ok)throw yield function T(fe){return W.apply(this,arguments)}(fe)}),F.apply(this,arguments)}function W(){return W=i(function*(fe){const St=function Mn(fe){if(fe.length<50)return fe;const St=fe.slice(fe.length-15);return`${fe.substr(0,32)}...${St}`}(fe.url);let cn=`Failed to fetch resource (${fe.status}) ${fe.statusText}: ${St}`;cn=cn.length>100?`${cn.slice(0,100)}...`:cn;const Yn={reason:fe.statusText,url:fe.url,response:fe};try{const wt=fe.headers.get("Content-Type");Yn.reason=wt?.includes("application/json")?yield fe.json():fe.text()}catch{}return new Bt(cn,Yn)}),W.apply(this,arguments)}function p(){return p=i(function*(fe){if("string"==typeof fe)return`data:,${fe.slice(0,5)}`;if(fe instanceof Blob){const cn=fe.slice(0,5);return yield new Promise(Yn=>{const wt=new FileReader;wt.onload=Q=>{var be;return Yn(null==(be=Q?.target)?void 0:be.result)},wt.readAsDataURL(cn)})}return fe instanceof ArrayBuffer?`data:base64,${function I(fe){let St="";const cn=new Uint8Array(fe);for(let Yn=0;Yn<cn.byteLength;Yn++)St+=String.fromCharCode(cn[Yn]);return btoa(St)}(fe.slice(0,5))}`:null}),p.apply(this,arguments)}function ve(fe,St){return ge.apply(this,arguments)}function ge(){return ge=i(function*(fe,St){var cn,Yn;if("string"==typeof fe){const wt=(0,G.resolvePath)(fe);return function Ae(fe){return!function se(fe){return fe.startsWith("http:")||fe.startsWith("https:")}(fe)&&!function L(fe){return fe.startsWith("data:")}(fe)}(wt)&&null!=(cn=globalThis.loaders)&&cn.fetchNode?null==(Yn=globalThis.loaders)?void 0:Yn.fetchNode(wt,St):yield fetch(wt,St)}return yield Ot(fe)}),ge.apply(this,arguments)}function et(fe,St,cn){return Pt.apply(this,arguments)}function Pt(){return Pt=i(function*(fe,St,cn){fe instanceof Blob||(fe=new Blob([fe]));const Yn=fe.slice(St,St+cn);return yield function Rt(fe){return ln.apply(this,arguments)}(Yn)}),Pt.apply(this,arguments)}function ln(){return ln=i(function*(fe){return yield new Promise((St,cn)=>{const Yn=new FileReader;Yn.onload=wt=>{var Q;return St(null==(Q=wt?.target)?void 0:Q.result)},Yn.onerror=wt=>cn(wt),Yn.readAsArrayBuffer(fe)})}),ln.apply(this,arguments)}var je=E(28690),ut=new(E(69243).Log)({id:"loaders.gl"}),jt=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}},lt=E(28690),bt={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){u(this,"console",void 0),this.console=console}log(...St){return this.console.log.bind(this.console,...St)}info(...St){return this.console.info.bind(this.console,...St)}warn(...St){return this.console.warn.bind(this.console,...St)}error(...St){return this.console.error.bind(this.console,...St)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:lt.isBrowser,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},He={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function ye(){globalThis.loaders=globalThis.loaders||{};const{loaders:fe}=globalThis;return fe._state||(fe._state={}),fe._state}function mt(){const fe=ye();return fe.globalOptions=fe.globalOptions||{...bt},fe.globalOptions}function rt(fe){const St=ye(),cn=mt();St.globalOptions=an(cn,fe),(0,je.registerJSModules)(fe.modules)}function Kt(fe,St,cn,Yn){return cn=cn||[],function Dn(fe,St){Jn(fe,null,bt,He,St);for(const cn of St)Jn(fe&&fe[cn.id]||{},cn.id,cn.options&&cn.options[cn.id]||{},cn.deprecatedOptions&&cn.deprecatedOptions[cn.id]||{},St)}(fe,cn=Array.isArray(cn)?cn:[cn]),an(St,fe,Yn)}function Jn(fe,St,cn,Yn,wt){const Q=St||"Top level",be=St?`${St}.`:"";for(const Ke in fe){const $t=!St&&Z(fe[Ke]);if(!(Ke in cn)&&("baseUri"!==Ke||St)&&("workerUrl"!==Ke||!St))if(Ke in Yn)ut.warn(`${Q} loader option '${be}${Ke}' no longer supported, use '${Yn[Ke]}'`)();else if(!$t){const yr=lr(Ke,wt);ut.warn(`${Q} loader option '${be}${Ke}' not recognized. ${yr}`)()}}}function lr(fe,St){const cn=fe.toLowerCase();let Yn="";for(const wt of St)for(const Q in wt.options){if(fe===Q)return`Did you mean '${wt.id}.${Q}'?`;const be=Q.toLowerCase();(cn.startsWith(be)||be.startsWith(cn))&&(Yn=Yn||`Did you mean '${wt.id}.${Q}'?`)}return Yn}function an(fe,St,cn){const wt={...fe.options||{}};return function Et(fe,St){St&&!("baseUri"in fe)&&(fe.baseUri=St)}(wt,cn),null===wt.log&&(wt.log=new jt),At(wt,mt()),At(wt,St),wt}function At(fe,St){for(const cn in St)cn in St&&(fe[cn]=J(St[cn])&&J(fe[cn])?{...fe[cn],...St[cn]}:St[cn])}var xt=E(28690);function gt(fe){return!!fe&&(Array.isArray(fe)&&(fe=fe[0]),Array.isArray(fe?.extensions))}function tn(fe){let St;return(0,xt.assert)(fe,"null loader"),(0,xt.assert)(gt(fe),"invalid loader"),Array.isArray(fe)&&(St=fe[1],fe=fe[0],fe={...fe,options:{...fe.options,...St}}),(fe?.parseTextSync||fe?.parseText)&&(fe.text=!0),fe.text||(fe.binary=!0),fe}var Xt=()=>{const fe=ye();return fe.loaderRegistry=fe.loaderRegistry||[],fe.loaderRegistry};function Ye(fe){const St=Xt();fe=Array.isArray(fe)?fe:[fe];for(const cn of fe){const Yn=tn(cn);St.find(wt=>Yn===wt)||St.unshift(Yn)}}function En(){ye().loaderRegistry=[]}var it=E(28690),Jt=new(E(69243).Log)({id:"loaders.gl"}),We=/\.([^.]+)$/;function Tt(fe){return wn.apply(this,arguments)}function wn(){return wn=i(function*(fe,St=[],cn,Yn){if(!sr(fe))return null;let wt=In(fe,St,{...cn,nothrow:!0},Yn);if(wt)return wt;if(me(fe)&&(wt=In(fe=yield fe.slice(0,10).arrayBuffer(),St,cn,Yn)),!wt&&!cn?.nothrow)throw new Error(Gr(fe));return wt}),wn.apply(this,arguments)}function In(fe,St=[],cn,Yn){if(!sr(fe))return null;if(St&&!Array.isArray(St))return tn(St);let wt=[];St&&(wt=wt.concat(St)),cn?.ignoreRegisteredLoaders||wt.push(...function Vt(){return Xt()}()),function hi(fe){for(const St of fe)tn(St)}(wt);const Q=function dr(fe,St,cn,Yn){const wt=It(fe),Q=Ne(fe),be=zt(wt)||Yn?.url;let Ke=null,$t="";return cn?.mimeType&&(Ke=co(St,cn?.mimeType),$t=`match forced by supplied MIME type ${cn?.mimeType}`),Ke=Ke||function Ei(fe,St){const cn=St&&We.exec(St),Yn=cn&&cn[1];return Yn?function fi(fe,St){St=St.toLowerCase();for(const cn of fe)for(const Yn of cn.extensions)if(Yn.toLowerCase()===St)return cn;return null}(fe,Yn):null}(St,be),$t=$t||(Ke?`matched url ${be}`:""),Ke=Ke||co(St,Q),$t=$t||(Ke?`matched MIME type ${Q}`:""),Ke=Ke||function uo(fe,St){if(!St)return null;for(const cn of fe)if("string"==typeof St){if(Pi(St,cn))return cn}else if(ArrayBuffer.isView(St)){if(ti(St.buffer,St.byteOffset,cn))return cn}else if(St instanceof ArrayBuffer&&ti(St,0,cn))return cn;return null}(St,fe),$t=$t||(Ke?`matched initial data ${Li(fe)}`:""),cn?.fallbackMimeType&&(Ke=Ke||co(St,cn?.fallbackMimeType),$t=$t||(Ke?`matched fallback MIME type ${Q}`:"")),$t&&Jt.log(1,`selectLoader selected ${Ke?.name}: ${$t}.`),Ke}(fe,wt,cn,Yn);if(!Q&&!cn?.nothrow)throw new Error(Gr(fe));return Q}function sr(fe){return!(fe instanceof Response&&204===fe.status)}function Gr(fe){const St=It(fe),cn=Ne(fe);let Yn="No valid loader found (";Yn+=St?`${it.path.filename(St)}, `:"no url provided, ",Yn+=`MIME type: ${cn?`"${cn}"`:"not provided"}, `;const wt=fe?Li(fe):"";return Yn+=wt?` first bytes: "${wt}"`:"first bytes: not available",Yn+=")",Yn}function co(fe,St){var cn;for(const Yn of fe)if(null!=(cn=Yn.mimeTypes)&&cn.some(wt=>j(St,wt))||j(St,`application/x.${Yn.id}`))return Yn;return null}function Pi(fe,St){return St.testText?St.testText(fe):(Array.isArray(St.tests)?St.tests:[St.tests]).some(Yn=>fe.startsWith(Yn))}function ti(fe,St,cn){return(Array.isArray(cn.tests)?cn.tests:[cn.tests]).some(wt=>function mr(fe,St,cn,Yn){if(Yn instanceof ArrayBuffer)return(0,it.compareArrayBuffers)(Yn,fe,Yn.byteLength);switch(typeof Yn){case"function":return Yn(fe);case"string":return Yn===ro(fe,St,Yn.length);default:return!1}}(fe,St,0,wt))}function Li(fe,St=5){return"string"==typeof fe?fe.slice(0,St):ArrayBuffer.isView(fe)?ro(fe.buffer,fe.byteOffset,St):fe instanceof ArrayBuffer?ro(fe,0,St):""}function ro(fe,St,cn){if(fe.byteLength<St+cn)return"";const Yn=new DataView(fe);let wt="";for(let Q=0;Q<cn;Q++)wt+=String.fromCharCode(Yn.getUint8(St+Q));return wt}var Pe=E(28690),dt=E(13827),vn=E(28690),bn=E(28690),Gn=262144,er=262144,tt=1048576;function fr(){return fr=w(function*(fe,St){const cn=St?.chunkSize||tt;let Yn=0;for(;Yn<fe.size;){const wt=Yn+cn,Q=yield x(fe.slice(Yn,wt).arrayBuffer());Yn=wt,yield Q}}),fr.apply(this,arguments)}var Ar=E(28690);function zr(fe,St){return Ar.isBrowser?function si(fe,St){return Ti.apply(this,arguments)}(fe,St):function ni(fe,St){return ai.apply(this,arguments)}(fe,St)}function Ti(){return Ti=w(function*(fe,St){const cn=fe.getReader();let Yn;try{for(;;){const wt=Yn||cn.read();St?._streamReadAhead&&(Yn=cn.read());const{done:Q,value:be}=yield x(wt);if(Q)return;yield(0,Ar.toArrayBuffer)(be)}}catch{cn.releaseLock()}}),Ti.apply(this,arguments)}function ai(){return ai=w(function*(fe,St){var wt,cn=!1,Yn=!1;try{for(var be,Q=C(fe);cn=!(be=yield x(Q.next())).done;cn=!1){const Ke=be.value;yield(0,Ar.toArrayBuffer)(Ke)}}catch(Ke){Yn=!0,wt=Ke}finally{try{cn&&null!=Q.return&&(yield x(Q.return()))}finally{if(Yn)throw wt}}}),ai.apply(this,arguments)}function Oi(fe,St){if("string"==typeof fe)return function*nr(fe,St){const cn=St?.chunkSize||Gn;let Yn=0;const wt=new TextEncoder;for(;Yn<fe.length;){const Q=Math.min(fe.length-Yn,cn),be=fe.slice(Yn,Yn+Q);Yn+=Q,yield wt.encode(be)}}(fe,St);if(fe instanceof ArrayBuffer)return function*Be(fe,St={}){const{chunkSize:cn=er}=St;let Yn=0;for(;Yn<fe.byteLength;){const wt=Math.min(fe.byteLength-Yn,cn),Q=new ArrayBuffer(wt),be=new Uint8Array(fe,Yn,wt);new Uint8Array(Q).set(be),Yn+=wt,yield Q}}(fe,St);if(me(fe))return function un(fe,St){return fr.apply(this,arguments)}(fe,St);if(_e(fe))return zr(fe,St);if(H(fe))return zr(fe.body,St);throw new Error("makeIterator")}var so="Cannot convert supplied data type";function wo(fe,St,cn){if(St.text&&"string"==typeof fe)return fe;if(B(fe)&&(fe=fe.buffer),fe instanceof ArrayBuffer){const Yn=fe;return St.text&&!St.binary?new TextDecoder("utf8").decode(Yn):Yn}if(ArrayBuffer.isView(fe)){if(St.text&&!St.binary)return new TextDecoder("utf8").decode(fe);let Yn=fe.buffer;const wt=fe.byteLength||fe.length;return(0!==fe.byteOffset||wt!==Yn.byteLength)&&(Yn=Yn.slice(fe.byteOffset,fe.byteOffset+wt)),Yn}throw new Error(so)}function Vo(){return Vo=i(function*(fe,St,cn){const Yn=fe instanceof ArrayBuffer||ArrayBuffer.isView(fe);if("string"==typeof fe||Yn)return wo(fe,St);if(me(fe)&&(fe=yield Ot(fe)),H(fe)){const wt=fe;return yield D(wt),St.binary?yield wt.arrayBuffer():yield wt.text()}if(_e(fe)&&(fe=Oi(fe,cn)),ae(fe)||Y(fe))return(0,bn.concatenateArrayBuffersAsync)(fe);throw new Error(so)}),Vo.apply(this,arguments)}function fn(){return fn=i(function*(fe,St){if($(fe))return fe;if(H(fe)){const cn=fe;return yield D(cn),Oi(yield cn.body,St)}return me(fe)||_e(fe)?Oi(fe,St):Y(fe)?fe:function ze(fe){if(ArrayBuffer.isView(fe))return function*(){yield fe.buffer}();if(fe instanceof ArrayBuffer)return function*(){yield fe}();if($(fe))return fe;if(ae(fe))return fe[Symbol.iterator]();throw new Error(so)}(fe)}),fn.apply(this,arguments)}function Dt(fe,St){const cn=mt(),Yn=fe||cn;return"function"==typeof Yn.fetch?Yn.fetch:Z(Yn.fetch)?wt=>ve(wt,Yn.fetch):St?.fetch?St?.fetch:ve}var sn=E(28690);function Wn(fe,St,cn){if(cn)return cn;const Yn={fetch:Dt(St,fe),...fe};if(Yn.url){const wt=zt(Yn.url);Yn.baseUrl=wt,Yn.queryString=function pt(fe){const St=fe.match(Re);return St&&St[0]}(Yn.url),Yn.filename=sn.path.filename(wt),Yn.baseUrl=sn.path.dirname(wt)}return Array.isArray(Yn.loaders)||(Yn.loaders=null),Yn}function Ir(fe,St){if(fe&&!Array.isArray(fe))return fe;let cn;if(fe&&(cn=Array.isArray(fe)?fe:[fe]),St&&St.loaders){const Yn=Array.isArray(St.loaders)?St.loaders:[St.loaders];cn=cn?[...cn,...Yn]:Yn}return cn&&cn.length?cn:void 0}function Zr(fe,St,cn,Yn){return io.apply(this,arguments)}function io(){return io=i(function*(fe,St,cn,Yn){St&&!Array.isArray(St)&&!gt(St)&&(Yn=void 0,cn=St,St=void 0),cn=cn||{};const wt=It(fe=yield fe),be=Ir(St,Yn),Ke=yield Tt(fe,be,cn);return Ke?(Yn=Wn({url:wt,_parse:Zr,loaders:be},cn=Kt(cn,Ke,be,wt),Yn||null),yield function Hi(fe,St,cn,Yn){return _o.apply(this,arguments)}(Ke,fe,cn,Yn)):null}),io.apply(this,arguments)}function _o(){return _o=i(function*(fe,St,cn,Yn){if((0,dt.validateWorkerVersion)(fe),cn=(0,vn.mergeLoaderOptions)(fe.options,cn),H(St)){const Q=St,{ok:be,redirected:Ke,status:$t,statusText:Sn,type:Xn,url:yr}=Q,Vr=Object.fromEntries(Q.headers.entries());Yn.response={headers:Vr,ok:be,redirected:Ke,status:$t,statusText:Sn,type:Xn,url:yr}}St=yield function eo(fe,St,cn){return Vo.apply(this,arguments)}(St,fe,cn);const wt=fe;if(wt.parseTextSync&&"string"==typeof St)return wt.parseTextSync(St,cn,Yn);if((0,Pe.canParseWithWorker)(fe,cn))return yield(0,Pe.parseWithWorker)(fe,St,cn,Yn,Zr);if(wt.parseText&&"string"==typeof St)return yield wt.parseText(St,cn,Yn);if(wt.parse)return yield wt.parse(St,cn,Yn);throw(0,dt.assert)(!wt.parseSync),new Error(`${fe.id} loader - no parser found and worker is disabled`)}),_o.apply(this,arguments)}function Co(fe,St,cn,Yn){!Array.isArray(St)&&!gt(St)&&(Yn=void 0,cn=St,St=void 0),cn=cn||{};const Q=Ir(St,Yn),be=In(fe,Q,cn);if(!be)return null;const $t=()=>{throw new Error("parseSync called parse (which is async")};return function Ro(fe,St,cn,Yn){if(St=wo(St,fe),fe.parseTextSync&&"string"==typeof St)return fe.parseTextSync(St,cn);if(fe.parseSync&&St instanceof ArrayBuffer)return fe.parseSync(St,cn,Yn);throw new Error(`${fe.name} loader: 'parseSync' not supported by this loader, use 'parse' instead. ${Yn.url||""}`)}(be,fe,cn=Kt(cn,be,Q),Yn=Wn({url:It(fe),_parseSync:$t,_parse:$t,loaders:St},cn,Yn||null))}var Is=E(47526),Ws=E(28690);function ms(fe,St,cn,Yn){return zo.apply(this,arguments)}function zo(){return zo=i(function*(fe,St,cn,Yn){const wt=Array.isArray(St)?St:void 0;!Array.isArray(St)&&!gt(St)&&(Yn=void 0,cn=St,St=void 0),cn=cn||{};const Q=It(fe=yield fe),be=yield Tt(fe,St,cn);return be?(Yn=Wn({url:Q,_parseInBatches:ms,_parse:Zr,loaders:wt},cn=Kt(cn,be,wt,Q),Yn||null),yield function Zo(fe,St,cn,Yn){return os.apply(this,arguments)}(be,fe,cn,Yn)):[]}),zo.apply(this,arguments)}function os(){return os=i(function*(fe,St,cn,Yn){const wt=yield function ns(fe,St,cn,Yn){return Rs.apply(this,arguments)}(fe,St,cn,Yn);if(!cn.metadata)return wt;const Q={shape:"metadata",batchType:"metadata",metadata:{_loader:fe,_context:Yn},data:[],bytesUsed:0};function Ke(){return(Ke=w(function*($t){yield Q,yield*f(C($t),x)})).apply(this,arguments)}return function be($t){return Ke.apply(this,arguments)}(wt)}),os.apply(this,arguments)}function Rs(){return Rs=i(function*(fe,St,cn,Yn){const wt=yield function $n(fe,St){return fn.apply(this,arguments)}(St,cn),Q=yield function Mi(fe){return Ri.apply(this,arguments)}(wt,cn?.transforms||[]);return fe.parseInBatches?fe.parseInBatches(Q,cn,Yn):function ar(fe,St,cn,Yn){return ur.apply(this,arguments)}(Q,fe,cn,Yn)}),Rs.apply(this,arguments)}function ur(){return ur=w(function*(fe,St,cn,Yn){const wt=yield x((0,Ws.concatenateArrayBuffersAsync)(fe)),Q=yield x(Zr(wt,St,{...cn,mimeType:St.mimeTypes[0]},Yn));yield function jr(fe,St){const cn=(0,Is.isTable)(fe)?(0,Is.makeBatchFromTable)(fe):{shape:"unknown",batchType:"data",data:fe,length:Array.isArray(fe)?fe.length:1};return cn.mimeType=St.mimeTypes[0],cn}(Q,St)}),ur.apply(this,arguments)}function Ri(){return Ri=i(function*(fe,St=[]){let cn=fe;var Q,Yn=!1,wt=!1;try{for(var Ke,be=C(St);Yn=!(Ke=yield be.next()).done;Yn=!1)cn=(0,Ke.value)(cn)}catch($t){wt=!0,Q=$t}finally{try{Yn&&null!=be.return&&(yield be.return())}finally{if(wt)throw Q}}return cn}),Ri.apply(this,arguments)}function zi(fe,St,cn,Yn){return to.apply(this,arguments)}function to(){return to=i(function*(fe,St,cn,Yn){let wt,Q;Array.isArray(St)||gt(St)?(wt=St,Q=cn):(wt=[],Q=St);const be=Dt(Q);let Ke=fe;return"string"==typeof fe&&(Ke=yield be(fe)),me(fe)&&(Ke=yield be(fe)),Array.isArray(wt),yield Zr(Ke,wt,Q)}),to.apply(this,arguments)}function xo(fe,St,cn,Yn){let wt;Array.isArray(St)||gt(St)?wt=St:(cn=St,wt=void 0);const Q=Dt(cn||{});return Array.isArray(fe)?fe.map(Ke=>$i(Ke,wt,cn||{},Q)):$i(fe,wt,cn||{},Q)}function $i(fe,St,cn,Yn){return No.apply(this,arguments)}function No(){return No=i(function*(fe,St,cn,Yn){if("string"==typeof fe){const Q=yield Yn(fe);return Array.isArray(St),yield ms(Q,St,cn)}return Array.isArray(St),yield ms(fe,St,cn)}),No.apply(this,arguments)}var ls=E(28690);function Ns(fe,St,cn){return ys.apply(this,arguments)}function ys(){return ys=i(function*(fe,St,cn){if(St.encode)return yield St.encode(fe,cn);if(St.encodeText){const $t=yield St.encodeText(fe,cn);return(new TextEncoder).encode($t)}if(St.encodeInBatches){const $t=Gs(fe,St,cn),Sn=[];var Q,Yn=!1,wt=!1;try{for(var Ke,be=C($t);Yn=!(Ke=yield be.next()).done;Yn=!1)Sn.push(Ke.value)}catch(Xn){wt=!0,Q=Xn}finally{try{Yn&&null!=be.return&&(yield be.return())}finally{if(wt)throw Q}}return(0,ls.concatenateArrayBuffers)(...Sn)}throw new Error("Writer could not encode data")}),ys.apply(this,arguments)}function Os(fe,St,cn){return qo.apply(this,arguments)}function qo(){return qo=i(function*(fe,St,cn){if(St.text&&St.encodeText)return yield St.encodeText(fe,cn);if(St.text){const Yn=yield Ns(fe,St,cn);return(new TextDecoder).decode(Yn)}throw new Error(`Writer ${St.name} could not encode data as text`)}),qo.apply(this,arguments)}function Gs(fe,St,cn){if(St.encodeInBatches){const Yn=function Lo(fe){return[{...fe,start:0,end:fe.length}]}(fe);return St.encodeInBatches(Yn,cn)}throw new Error("Writer could not encode data in batches")}var pa=E(28690),ca=E(13827),Ms=E(28690);function Ks(fe,St,cn){return Ds.apply(this,arguments)}function Ds(){return Ds=i(function*(fe,St,cn){return cn={...mt(),...cn},St.encodeURLtoURL?function ot(fe,St,cn){return xn.apply(this,arguments)}(St,fe,cn):(0,pa.canEncodeWithWorker)(St,cn)?yield(0,ca.processOnWorker)(St,fe,cn):yield St.encode(fe,cn)}),Ds.apply(this,arguments)}function cs(fe,St,cn){if(St.encodeSync)return St.encodeSync(fe,cn);if(St.encodeTextSync)return(new TextEncoder).encode(St.encodeTextSync(fe,cn));throw new Error(`Writer ${St.name} could not synchronously encode data`)}function ua(fe,St,cn){return tr.apply(this,arguments)}function tr(){return tr=i(function*(fe,St,cn){if(St.encodeText)return yield St.encodeText(fe,cn);if(St.encodeTextSync)return St.encodeTextSync(fe,cn);if(St.text){const Yn=yield St.encode(fe,cn);return(new TextDecoder).decode(Yn)}throw new Error(`Writer ${St.name} could not encode data as text`)}),tr.apply(this,arguments)}function pr(fe,St,cn){if(St.encodeTextSync)return St.encodeTextSync(fe,cn);if(St.text&&St.encodeSync){const Yn=cs(fe,St,cn);return(new TextDecoder).decode(Yn)}throw new Error(`Writer ${St.name} could not encode data as text`)}function xr(fe,St,cn){if(St.encodeInBatches){const Yn=function Wt(fe){return[{...fe,start:0,end:fe.length}]}(fe);return St.encodeInBatches(Yn,cn)}throw new Error(`Writer ${St.name} could not encode in batches`)}function Pr(fe,St,cn,Yn){return Bi.apply(this,arguments)}function Bi(){return Bi=i(function*(fe,St,cn,Yn){if(fe=(0,pa.resolvePath)(fe),St=(0,pa.resolvePath)(St),Ms.isBrowser||!cn.encodeURLtoURL)throw new Error;return yield cn.encodeURLtoURL(fe,St,Yn)}),Bi.apply(this,arguments)}function xn(){return xn=i(function*(fe,St,cn){if(Ms.isBrowser)throw new Error(`Writer ${fe.name} not supported in browser`);const Yn=hn("input");yield new pa.NodeFile(Yn,"w").write(St);const Q=hn("output"),be=yield Pr(Yn,Q,fe,cn);return(yield ve(be)).arrayBuffer()}),xn.apply(this,arguments)}function hn(fe){return`/tmp/${fe}`}var $e=E(28690),Nt=E(28690);function nn(fe,St){if(globalThis.loaders.makeNodeStream)return globalThis.loaders.makeNodeStream(fe,St);const cn=fe[Symbol.asyncIterator]?fe[Symbol.asyncIterator]():fe[Symbol.iterator]();return new ReadableStream({type:"bytes",pull:Yn=>i(function*(){try{const{done:wt,value:Q}=yield cn.next();wt?Yn.close():Yn.enqueue(new Uint8Array(Q))}catch(wt){Yn.error(wt)}})(),cancel:()=>i(function*(){var Yn;yield null==(Yn=cn?.return)?void 0:Yn.call(cn)})()},{highWaterMark:2**24,...St})}var Er={dataType:null,batchType:null,name:"Null loader",id:"null",module:"core",version:"4.2.1",worker:!0,mimeTypes:["application/x.empty"],extensions:["null"],tests:[()=>!1],options:{null:{}}},Cr={dataType:null,batchType:null,name:"Null loader",id:"null",module:"core",version:"4.2.1",mimeTypes:["application/x.empty"],extensions:["null"],parse:function(){var fe=i(function*(St,cn,Yn){return null});return function(cn,Yn,wt){return fe.apply(this,arguments)}}(),parseSync:function Kr(fe,St,cn){return null},parseInBatches:function(){var fe=w(function*(cn,Yn,wt){var Ke,Q=!1,be=!1;try{for(var $t=C(cn);Q=!(yield x($t.next())).done;Q=!1)yield null}catch(Xn){be=!0,Ke=Xn}finally{try{Q&&null!=$t.return&&(yield x($t.return()))}finally{if(be)throw Ke}}});return function St(cn,Yn,wt){return fe.apply(this,arguments)}}(),tests:[()=>!1],options:{null:{}}};var $r=E(28690);function pi(fe,St){return ri.apply(this,arguments)}function ri(){return ri=i(function*(fe,St,cn=(()=>{}),Yn=(()=>{})){if(!(fe=yield fe).ok)return fe;const wt=fe.body;if(!wt)return fe;const Q=fe.headers.get("content-length")||0,be=Q?parseInt(Q):0;if(!(be>0)||typeof ReadableStream>"u"||!wt.getReader)return fe;const Ke=new ReadableStream({start:$t=>i(function*(){const Sn=wt.getReader();yield Xi($t,Sn,0,be,St,cn,Yn)})()});return new Response(Ke)}),ri.apply(this,arguments)}function Xi(fe,St,cn,Yn,wt,Q,be){return vo.apply(this,arguments)}function vo(){return vo=i(function*(fe,St,cn,Yn,wt,Q,be){try{const{done:Ke,value:$t}=yield St.read();if(Ke)return Q(),void fe.close();cn+=$t.byteLength,wt(Math.round(cn/Yn*100),{loadedBytes:cn,totalBytes:Yn}),fe.enqueue($t),yield Xi(fe,St,cn,Yn,wt,Q,be)}catch(Ke){fe.error(Ke),be(Ke)}}),vo.apply(this,arguments)}var ko=E(28690),Ao=class{constructor(St,cn){u(this,"_fetch",void 0),u(this,"files",{}),u(this,"lowerCaseFiles",{}),u(this,"usedFiles",{}),this._fetch=cn?.fetch||fetch;for(let Yn=0;Yn<St.length;++Yn){const wt=St[Yn];this.files[wt.name]=wt,this.lowerCaseFiles[wt.name.toLowerCase()]=wt,this.usedFiles[wt.name]=!1}this.fetch=this.fetch.bind(this)}fetch(St,cn){var Yn=this;return i(function*(){if(St.includes("://"))return Yn._fetch(St,cn);const wt=Yn.files[St];if(!wt)return new Response(St,{status:400,statusText:"NOT FOUND"});const be=new Headers(cn?.headers).get("Range"),Ke=be&&/bytes=($1)-($2)/.exec(be);if(Ke){const Sn=parseInt(Ke[1]),Xn=parseInt(Ke[2]),yr=yield wt.slice(Sn,Xn).arrayBuffer(),Vr=new Response(yr);return Object.defineProperty(Vr,"url",{value:St}),Vr}const $t=new Response(wt);return Object.defineProperty($t,"url",{value:St}),$t})()}readdir(St){var cn=this;return i(function*(){const Yn=[];for(const wt in cn.files)Yn.push(wt);return Yn})()}stat(St,cn){var Yn=this;return i(function*(){const wt=Yn.files[St];if(!wt)throw new Error(St);return{size:wt.size}})()}unlink(St){var cn=this;return i(function*(){delete cn.files[St],delete cn.lowerCaseFiles[St],cn.usedFiles[St]=!0})()}openReadableFile(St,cn){var Yn=this;return i(function*(){return new ko.BlobFile(Yn.files[St])})()}_getFile(St,cn){const Yn=this.files[St]||this.lowerCaseFiles[St];return Yn&&cn&&(this.usedFiles[St]=!0),Yn}},st=E(28690),Qe=E(28690),dn=E(28690),ft=E(28690)},36848:(en,Ve,E)=>{"use strict";var se,i=E(31049).default,u=E(15985).default,f=Object.defineProperty,C=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,U={};((se,L)=>{for(var ve in L)f(se,ve,{get:L[ve],enumerable:!0})})(U,{DRACO_EXTERNAL_LIBRARIES:()=>qe,DRACO_EXTERNAL_LIBRARY_URLS:()=>_e,DracoLoader:()=>p,DracoWorkerLoader:()=>y,DracoWriter:()=>F,DracoWriterWorker:()=>z}),en.exports=(se=U,((se,L,ve,ge)=>{if(L&&"object"==typeof L||"function"==typeof L)for(let et of x(L))!w.call(se,et)&&undefined!==et&&f(se,et,{get:()=>L[et],enumerable:!(ge=C(L,et))||ge.enumerable});return se})(f({},"__esModule",{value:!0}),se));var P="4.2.1",y={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:P,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}},v=E(47526),M=E(47526);function V(se,L,ve){const ge=ve?Z(ve.metadata):void 0;return(0,M.deduceMeshField)(se,L,ge)}function Z(se){Object.entries(se);const L={};for(const ve in se)L[`${ve}.string`]=JSON.stringify(se[ve]);return L}var ht,Bt,J={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},te={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},Y=class{constructor(L){u(this,"draco",void 0),u(this,"decoder",void 0),u(this,"metadataQuerier",void 0),this.draco=L,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(L,ve={}){const ge=new this.draco.DecoderBuffer;ge.Init(new Int8Array(L),L.byteLength),this._disableAttributeTransforms(ve);const et=this.decoder.GetEncodedGeometryType(ge),Pt=et===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let Rt;switch(et){case this.draco.TRIANGULAR_MESH:Rt=this.decoder.DecodeBufferToMesh(ge,Pt);break;case this.draco.POINT_CLOUD:Rt=this.decoder.DecodeBufferToPointCloud(ge,Pt);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!Rt.ok()||!Pt.ptr){const gn=`DRACO decompression failed: ${Rt.error_msg()}`;throw new Error(gn)}const ln=this._getDracoLoaderData(Pt,et,ve),je=this._getMeshData(Pt,ln,ve),Ht=(0,v.getMeshBoundingBox)(je.attributes),ut=function G(se,L,ve){const ge=Z(L.metadata),et=[],Pt=function K(se){const L={};for(const ve in se){const ge=se[ve];L[ge.name||"undefined"]=ge}return L}(L.attributes);for(const Rt in se){const je=V(Rt,se[Rt],Pt[Rt]);et.push(je)}if(ve){const Rt=V("indices",ve);et.push(Rt)}return{fields:et,metadata:ge}}(je.attributes,ln,je.indices);return{loader:"draco",loaderData:ln,header:{vertexCount:Pt.num_points(),boundingBox:Ht},...je,schema:ut}}finally{this.draco.destroy(ge),Pt&&this.draco.destroy(Pt)}}_getDracoLoaderData(L,ve,ge){const et=this._getTopLevelMetadata(L),Pt=this._getDracoAttributes(L,ge);return{geometry_type:ve,num_attributes:L.num_attributes(),num_points:L.num_points(),num_faces:L instanceof this.draco.Mesh?L.num_faces():0,metadata:et,attributes:Pt}}_getDracoAttributes(L,ve){const ge={};for(let et=0;et<L.num_attributes();et++){const Pt=this.decoder.GetAttribute(L,et),Rt=this._getAttributeMetadata(L,et);ge[Pt.unique_id()]={unique_id:Pt.unique_id(),attribute_type:Pt.attribute_type(),data_type:Pt.data_type(),num_components:Pt.num_components(),byte_offset:Pt.byte_offset(),byte_stride:Pt.byte_stride(),normalized:Pt.normalized(),attribute_index:et,metadata:Rt};const ln=this._getQuantizationTransform(Pt,ve);ln&&(ge[Pt.unique_id()].quantization_transform=ln);const je=this._getOctahedronTransform(Pt,ve);je&&(ge[Pt.unique_id()].octahedron_transform=je)}return ge}_getMeshData(L,ve,ge){const et=this._getMeshAttributes(ve,L,ge);if(!et.POSITION)throw new Error("DRACO: No position attribute found.");return L instanceof this.draco.Mesh?"triangle-strip"===ge.topology?{topology:"triangle-strip",mode:4,attributes:et,indices:{value:this._getTriangleStripIndices(L),size:1}}:{topology:"triangle-list",mode:5,attributes:et,indices:{value:this._getTriangleListIndices(L),size:1}}:{topology:"point-list",mode:0,attributes:et}}_getMeshAttributes(L,ve,ge){const et={};for(const Pt of Object.values(L.attributes)){const Rt=this._deduceAttributeName(Pt,ge);Pt.name=Rt;const ln=this._getAttributeValues(ve,Pt);if(ln){const{value:je,size:Ht}=ln;et[Rt]={value:je,size:Ht,byteOffset:Pt.byte_offset,byteStride:Pt.byte_stride,normalized:Pt.normalized}}}return et}_getTriangleListIndices(L){const ge=3*L.num_faces(),et=4*ge,Pt=this.draco._malloc(et);try{return this.decoder.GetTrianglesUInt32Array(L,et,Pt),new Uint32Array(this.draco.HEAPF32.buffer,Pt,ge).slice()}finally{this.draco._free(Pt)}}_getTriangleStripIndices(L){const ve=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(L,ve),function me(se){const L=se.size(),ve=new Int32Array(L);for(let ge=0;ge<L;ge++)ve[ge]=se.GetValue(ge);return ve}(ve)}finally{this.draco.destroy(ve)}}_getAttributeValues(L,ve){const ge=te[ve.data_type];if(!ge)return console.warn(`DRACO: Unsupported attribute type ${ve.data_type}`),null;const et=ve.num_components,Rt=L.num_points()*et,ln=Rt*ge.BYTES_PER_ELEMENT,je=function $(se,L){switch(L){case Float32Array:return se.DT_FLOAT32;case Int8Array:return se.DT_INT8;case Int16Array:return se.DT_INT16;case Int32Array:return se.DT_INT32;case Uint8Array:return se.DT_UINT8;case Uint16Array:return se.DT_UINT16;case Uint32Array:return se.DT_UINT32;default:return se.DT_INVALID}}(this.draco,ge);let Ht;const ut=this.draco._malloc(ln);try{const jt=this.decoder.GetAttribute(L,ve.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(L,jt,je,ln,ut),Ht=new ge(this.draco.HEAPF32.buffer,ut,Rt).slice()}finally{this.draco._free(ut)}return{value:Ht,size:et}}_deduceAttributeName(L,ve){const ge=L.unique_id;for(const[Rt,ln]of Object.entries(ve.extraAttributes||{}))if(ln===ge)return Rt;const et=L.attribute_type;for(const Rt in J)if(this.draco[Rt]===et)return J[Rt];const Pt=ve.attributeNameEntry||"name";return L.metadata[Pt]?L.metadata[Pt].string:`CUSTOM_ATTRIBUTE_${ge}`}_getTopLevelMetadata(L){const ve=this.decoder.GetMetadata(L);return this._getDracoMetadata(ve)}_getAttributeMetadata(L,ve){const ge=this.decoder.GetAttributeMetadata(L,ve);return this._getDracoMetadata(ge)}_getDracoMetadata(L){if(!L||!L.ptr)return{};const ve={},ge=this.metadataQuerier.NumEntries(L);for(let et=0;et<ge;et++){const Pt=this.metadataQuerier.GetEntryName(L,et);ve[Pt]=this._getDracoMetadataField(L,Pt)}return ve}_getDracoMetadataField(L,ve){const ge=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(L,ve,ge);const et=function H(se){const L=se.size(),ve=new Int32Array(L);for(let ge=0;ge<L;ge++)ve[ge]=se.GetValue(ge);return ve}(ge);return{int:this.metadataQuerier.GetIntEntry(L,ve),string:this.metadataQuerier.GetStringEntry(L,ve),double:this.metadataQuerier.GetDoubleEntry(L,ve),intArray:et}}finally{this.draco.destroy(ge)}}_disableAttributeTransforms(L){const{quantizedAttributes:ve=[],octahedronAttributes:ge=[]}=L,et=[...ve,...ge];for(const Pt of et)this.decoder.SkipAttributeTransform(this.draco[Pt])}_getQuantizationTransform(L,ve){const{quantizedAttributes:ge=[]}=ve,et=L.attribute_type();if(ge.map(Rt=>this.decoder[Rt]).includes(et)){const Rt=new this.draco.AttributeQuantizationTransform;try{if(Rt.InitFromAttribute(L))return{quantization_bits:Rt.quantization_bits(),range:Rt.range(),min_values:new Float32Array([1,2,3]).map(ln=>Rt.min_value(ln))}}finally{this.draco.destroy(Rt)}}return null}_getOctahedronTransform(L,ve){const{octahedronAttributes:ge=[]}=ve,et=L.attribute_type();if(ge.map(Rt=>this.decoder[Rt]).includes(et)){const Rt=new this.draco.AttributeQuantizationTransform;try{if(Rt.InitFromAttribute(L))return{quantization_bits:Rt.quantization_bits()}}finally{this.draco.destroy(Rt)}}return null}},B=E(13827),Ue="https://www.gstatic.com/draco/versioned/decoders/1.5.6",qe={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},_e={[qe.DECODER]:`${Ue}/${qe.DECODER}`,[qe.DECODER_WASM]:`${Ue}/${qe.DECODER_WASM}`,[qe.FALLBACK_DECODER]:`${Ue}/${qe.FALLBACK_DECODER}`,[qe.ENCODER]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${qe.ENCODER}`};function R(){return R=i(function*(se){const L=se.modules||{};return ht||=L.draco3d?L.draco3d.createDecoderModule({}).then(ve=>({draco:ve})):function Ce(se){return Re.apply(this,arguments)}(se),yield ht}),R.apply(this,arguments)}function he(){return he=i(function*(se){const L=se.modules||{};return Bt||=L.draco3d?L.draco3d.createEncoderModule({}).then(ve=>({draco:ve})):function zt(se){return Mn.apply(this,arguments)}(se),yield Bt}),he.apply(this,arguments)}function Re(){return Re=i(function*(se){let L,ve;return"js"===(se.draco&&se.draco.decoderType)?L=yield(0,B.loadLibrary)(_e[qe.FALLBACK_DECODER],"draco",se,qe.FALLBACK_DECODER):[L,ve]=yield Promise.all([yield(0,B.loadLibrary)(_e[qe.DECODER],"draco",se,qe.DECODER),yield(0,B.loadLibrary)(_e[qe.DECODER_WASM],"draco",se,qe.DECODER_WASM)]),L=L||globalThis.DracoDecoderModule,yield function pt(se,L){const ve={};return L&&(ve.wasmBinary=L),new Promise(ge=>{se({...ve,onModuleLoaded:et=>ge({draco:et})})})}(L,ve)}),Re.apply(this,arguments)}function Mn(){return Mn=i(function*(se){let L=yield(0,B.loadLibrary)(_e[qe.ENCODER],"draco",se,qe.ENCODER);return L=L||globalThis.DracoEncoderModule,new Promise(ve=>{L({onModuleLoaded:ge=>ve({draco:ge})})})}),Mn.apply(this,arguments)}var It={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"},Ne=()=>{},Xe=class{constructor(L){u(this,"draco",void 0),u(this,"dracoEncoder",void 0),u(this,"dracoMeshBuilder",void 0),u(this,"dracoMetadataBuilder",void 0),u(this,"log",void 0),this.draco=L,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder}destroy(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}destroyEncodedObject(L){L&&this.draco.destroy(L)}encodeSync(L,ve={}){return this.log=Ne,this._setOptions(ve),ve.pointcloud?this._encodePointCloud(L,ve):this._encodeMesh(L,ve)}_getAttributesFromMesh(L){const ve={...L,...L.attributes};return L.indices&&(ve.indices=L.indices),ve}_encodePointCloud(L,ve){const ge=new this.draco.PointCloud;ve.metadata&&this._addGeometryMetadata(ge,ve.metadata);const et=this._getAttributesFromMesh(L);this._createDracoPointCloud(ge,et,ve);const Pt=new this.draco.DracoInt8Array;try{const Rt=this.dracoEncoder.EncodePointCloudToDracoBuffer(ge,!1,Pt);if(!(Rt>0))throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${ge.num_points()} points\n        with ${ge.num_attributes()} attributes into ${Rt} bytes`),Ot(Pt)}finally{this.destroyEncodedObject(Pt),this.destroyEncodedObject(ge)}}_encodeMesh(L,ve){const ge=new this.draco.Mesh;ve.metadata&&this._addGeometryMetadata(ge,ve.metadata);const et=this._getAttributesFromMesh(L);this._createDracoMesh(ge,et,ve);const Pt=new this.draco.DracoInt8Array;try{const Rt=this.dracoEncoder.EncodeMeshToDracoBuffer(ge,Pt);if(Rt<=0)throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${ge.num_points()} points\n        with ${ge.num_attributes()} attributes into ${Rt} bytes`),Ot(Pt)}finally{this.destroyEncodedObject(Pt),this.destroyEncodedObject(ge)}}_setOptions(L){if("speed"in L&&this.dracoEncoder.SetSpeedOptions(...L.speed),"method"in L&&this.dracoEncoder.SetEncodingMethod(this.draco[L.method||"MESH_SEQUENTIAL_ENCODING"]),"quantization"in L)for(const ve in L.quantization)this.dracoEncoder.SetAttributeQuantization(this.draco[ve],L.quantization[ve])}_createDracoMesh(L,ve,ge){const et=ge.attributesMetadata||{};try{const Pt=this._getPositionAttribute(ve);if(!Pt)throw new Error("positions");const Rt=Pt.length/3;for(let ln in ve){const je=ve[ln];ln=It[ln]||ln;const Ht=this._addAttributeToMesh(L,ln,je,Rt);-1!==Ht&&this._addAttributeMetadata(L,Ht,{name:ln,...et[ln]||{}})}}catch(Pt){throw this.destroyEncodedObject(L),Pt}return L}_createDracoPointCloud(L,ve,ge){const et=ge.attributesMetadata||{};try{const Pt=this._getPositionAttribute(ve);if(!Pt)throw new Error("positions");const Rt=Pt.length/3;for(let ln in ve){const je=ve[ln];ln=It[ln]||ln;const Ht=this._addAttributeToMesh(L,ln,je,Rt);-1!==Ht&&this._addAttributeMetadata(L,Ht,{name:ln,...et[ln]||{}})}}catch(Pt){throw this.destroyEncodedObject(L),Pt}return L}_addAttributeToMesh(L,ve,ge,et){if(!ArrayBuffer.isView(ge))return-1;const Pt=this._getDracoAttributeType(ve),Rt=ge.length/et;if("indices"===Pt){const Ht=ge.length/3;return this.log(`Adding attribute ${ve}, size ${Ht}`),this.dracoMeshBuilder.AddFacesToMesh(L,Ht,ge),-1}this.log(`Adding attribute ${ve}, size ${Rt}`);const ln=this.dracoMeshBuilder,{buffer:je}=ge;switch(ge.constructor){case Int8Array:return ln.AddInt8Attribute(L,Pt,et,Rt,new Int8Array(je));case Int16Array:return ln.AddInt16Attribute(L,Pt,et,Rt,new Int16Array(je));case Int32Array:return ln.AddInt32Attribute(L,Pt,et,Rt,new Int32Array(je));case Uint8Array:case Uint8ClampedArray:return ln.AddUInt8Attribute(L,Pt,et,Rt,new Uint8Array(je));case Uint16Array:return ln.AddUInt16Attribute(L,Pt,et,Rt,new Uint16Array(je));case Uint32Array:return ln.AddUInt32Attribute(L,Pt,et,Rt,new Uint32Array(je));case Float32Array:return ln.AddFloatAttribute(L,Pt,et,Rt,new Float32Array(je));default:return console.warn("Unsupported attribute type",ge),-1}}_getDracoAttributeType(L){switch(L.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texcoord":case"texcoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}_getPositionAttribute(L){for(const ve in L){const ge=L[ve];if(this._getDracoAttributeType(ve)===this.draco.POSITION)return ge}return null}_addGeometryMetadata(L,ve){const ge=new this.draco.Metadata;this._populateDracoMetadata(ge,ve),this.dracoMeshBuilder.AddMetadata(L,ge)}_addAttributeMetadata(L,ve,ge){const et=new this.draco.Metadata;this._populateDracoMetadata(et,ge),this.dracoMeshBuilder.SetMetadataForAttribute(L,ve,et)}_populateDracoMetadata(L,ve){for(const[ge,et]of function re(se){return se.entries&&!se.hasOwnProperty("entries")?se.entries():Object.entries(se)}(ve))switch(typeof et){case"number":Math.trunc(et)===et?this.dracoMetadataBuilder.AddIntEntry(L,ge,et):this.dracoMetadataBuilder.AddDoubleEntry(L,ge,et);break;case"object":et instanceof Int32Array&&this.dracoMetadataBuilder.AddIntEntryArray(L,ge,et,et.length);break;default:this.dracoMetadataBuilder.AddStringEntry(L,ge,et)}}};function Ot(se){const L=se.size(),ve=new ArrayBuffer(L),ge=new Int8Array(ve);for(let et=0;et<L;++et)ge[et]=se.GetValue(et);return ve}var F={name:"DRACO",id:"draco",module:"draco",version:P,extensions:["drc"],options:{draco:{pointcloud:!1,attributeNameEntry:"name"}},encode:function T(se){return W.apply(this,arguments)}};function W(){return W=i(function*(se,L={}){const{draco:ve}=yield function j(se){return he.apply(this,arguments)}(L),ge=new Xe(ve);try{return ge.encodeSync(se,L.draco)}finally{ge.destroy()}}),W.apply(this,arguments)}var z={id:"draco-writer",name:"Draco compressed geometry writer",module:"draco",version:P,worker:!0,options:{draco:{},source:null}},p={...y,parse:function I(se,L){return Ae.apply(this,arguments)}};function Ae(){return Ae=i(function*(se,L){const{draco:ve}=yield function de(se){return R.apply(this,arguments)}(L),ge=new Y(ve);try{return ge.parseSync(se,L?.draco)}finally{ge.destroy()}}),Ae.apply(this,arguments)}},13128:(en,Ve,E)=>{"use strict";var Yt,i=E(31049).default,u=E(15985).default,f=Object.defineProperty,C=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,d=(Yt,De)=>{for(var ct in De)f(Yt,ct,{get:De[ct],enumerable:!0})},U={};d(U,{EXT_FEATURE_METADATA:()=>Dn,EXT_MESH_FEATURES:()=>D,EXT_STRUCTURAL_METADATA:()=>Ae,GLBLoader:()=>Hn,GLBWriter:()=>Xr,GLTFLoader:()=>Ge,GLTFScenegraph:()=>_e,GLTFWriter:()=>Ci,_getMemoryUsageGLTF:()=>ce,postProcessGLTF:()=>rs}),en.exports=(Yt=U,((Yt,De,ct,kt)=>{if(De&&"object"==typeof De||"function"==typeof De)for(let mn of x(De))!w.call(Yt,mn)&&undefined!==mn&&f(Yt,mn,{get:()=>De[mn],enumerable:!(kt=C(De,mn))||kt.enumerable});return Yt})(f({},"__esModule",{value:!0}),Yt));var P={};d(P,{decode:()=>F,name:()=>D});var y=E(14315),v=E(28690);function M(Yt,De){if(!Yt)throw new Error(De||"assert failed: gltf")}var G={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},K={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},V=1.33,Z=["SCALAR","VEC2","VEC3","VEC4"],J=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],te=new Map(J),ae={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Y={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},$={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function H(Yt){return Z[Yt-1]||Z[0]}function me(Yt){const De=te.get(Yt.constructor);if(!De)throw new Error("Illegal typed array");return De}function B(Yt,De){const ct=$[Yt.componentType],kt=ae[Yt.type],zn=Yt.count*kt,ir=Yt.count*kt*Y[Yt.componentType];return M(ir>=0&&ir<=De.byteLength),{ArrayType:ct,length:zn,byteLength:ir,componentByteSize:K[Yt.componentType],numberOfComponentsInElement:G[Yt.type]}}function ce(Yt){let{images:De,bufferViews:ct}=Yt;De=De||[],ct=ct||[];const kt=De.map(ir=>ir.bufferView);ct=ct.filter(ir=>!kt.includes(ir));const mn=ct.reduce((ir,li)=>ir+li.byteLength,0),zn=De.reduce((ir,li)=>{const{width:ji,height:ho}=li.image;return ir+ji*ho},0);return mn+Math.ceil(4*zn*V)}var _e=class{constructor(De){u(this,"gltf",void 0),u(this,"sourceBuffers",void 0),u(this,"byteLength",void 0),this.gltf={json:De?.json||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:De?.buffers||[],images:De?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(De){return this.json[De]}getExtraData(De){return(this.json.extras||{})[De]}hasExtension(De){const ct=this.getUsedExtensions().find(mn=>mn===De),kt=this.getRequiredExtensions().find(mn=>mn===De);return"string"==typeof ct||"string"==typeof kt}getExtension(De){return this.getUsedExtensions().find(mn=>mn===De)?(this.json.extensions||{})[De]:null}getRequiredExtension(De){return this.getRequiredExtensions().find(kt=>kt===De)?this.getExtension(De):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(De,ct){return(De.extensions||{})[ct]}getScene(De){return this.getObject("scenes",De)}getNode(De){return this.getObject("nodes",De)}getSkin(De){return this.getObject("skins",De)}getMesh(De){return this.getObject("meshes",De)}getMaterial(De){return this.getObject("materials",De)}getAccessor(De){return this.getObject("accessors",De)}getTexture(De){return this.getObject("textures",De)}getSampler(De){return this.getObject("samplers",De)}getImage(De){return this.getObject("images",De)}getBufferView(De){return this.getObject("bufferViews",De)}getBuffer(De){return this.getObject("buffers",De)}getObject(De,ct){if("object"==typeof ct)return ct;const kt=this.json[De]&&this.json[De][ct];if(!kt)throw new Error(`glTF file error: Could not find ${De}[${ct}]`);return kt}getTypedArrayForBufferView(De){De=this.getBufferView(De);const kt=this.gltf.buffers[De.buffer];return M(kt),new Uint8Array(kt.arrayBuffer,(De.byteOffset||0)+kt.byteOffset,De.byteLength)}getTypedArrayForAccessor(De){const ct=this.getAccessor(De);return function Ue(Yt,De,ct){var kt,mn;const zn="number"==typeof ct?null==(kt=Yt.accessors)?void 0:kt[ct]:ct;if(!zn)throw new Error(`No gltf accessor ${JSON.stringify(ct)}`);const ir=null==(mn=Yt.bufferViews)?void 0:mn[zn.bufferView||0];if(!ir)throw new Error(`No gltf buffer view for accessor ${ir}`);const{arrayBuffer:li,byteOffset:ji}=De[ir.buffer],ho=(ji||0)+(zn.byteOffset||0)+(ir.byteOffset||0),{ArrayType:go,length:Fo,componentByteSize:ss,numberOfComponentsInElement:oa}=B(zn,ir),Ca=ss*oa,xe=ir.byteStride||Ca;if(typeof ir.byteStride>"u"||ir.byteStride===Ca)return new go(li,ho,Fo);const vt=new go(Fo);for(let Nn=0;Nn<zn.count;Nn++){const Ze=new go(li,ho+Nn*xe,oa);vt.set(Ze,Nn*oa)}return vt}(this.gltf.json,this.gltf.buffers,ct)}getTypedArrayForImageData(De){De=this.getAccessor(De);const ct=this.getBufferView(De.bufferView),mn=this.getBuffer(ct.buffer).data;return new Uint8Array(mn,ct.byteOffset||0,ct.byteLength)}addApplicationData(De,ct){return this.json[De]=ct,this}addExtraData(De,ct){return this.json.extras=this.json.extras||{},this.json.extras[De]=ct,this}addObjectExtension(De,ct,kt){return De.extensions=De.extensions||{},De.extensions[ct]=kt,this.registerUsedExtension(ct),this}setObjectExtension(De,ct,kt){(De.extensions||{})[ct]=kt}removeObjectExtension(De,ct){const kt=De?.extensions||{};if(kt[ct]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const mn=this.json.extensionsRemoved;mn.includes(ct)||mn.push(ct)}delete kt[ct]}addExtension(De,ct={}){return M(ct),this.json.extensions=this.json.extensions||{},this.json.extensions[De]=ct,this.registerUsedExtension(De),ct}addRequiredExtension(De,ct={}){return M(ct),this.addExtension(De,ct),this.registerRequiredExtension(De),ct}registerUsedExtension(De){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(ct=>ct===De)||this.json.extensionsUsed.push(De)}registerRequiredExtension(De){this.registerUsedExtension(De),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(ct=>ct===De)||this.json.extensionsRequired.push(De)}removeExtension(De){var ct;if(null!=(ct=this.json.extensions)&&ct[De]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const kt=this.json.extensionsRemoved;kt.includes(De)||kt.push(De)}this.json.extensions&&delete this.json.extensions[De],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,De),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,De)}setDefaultScene(De){this.json.scene=De}addScene(De){const{nodeIndices:ct}=De;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:ct}),this.json.scenes.length-1}addNode(De){const{meshIndex:ct,matrix:kt}=De;this.json.nodes=this.json.nodes||[];const mn={mesh:ct};return kt&&(mn.matrix=kt),this.json.nodes.push(mn),this.json.nodes.length-1}addMesh(De){const{attributes:ct,indices:kt,material:mn,mode:zn=4}=De,li={primitives:[{attributes:this._addAttributes(ct),mode:zn}]};if(kt){const ji=this._addIndices(kt);li.primitives[0].indices=ji}return Number.isFinite(mn)&&(li.primitives[0].material=mn),this.json.meshes=this.json.meshes||[],this.json.meshes.push(li),this.json.meshes.length-1}addPointCloud(De){const kt={primitives:[{attributes:this._addAttributes(De),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(kt),this.json.meshes.length-1}addImage(De,ct){const kt=(0,y.getBinaryImageMetadata)(De),mn=ct||kt?.mimeType,ir={bufferView:this.addBufferView(De),mimeType:mn};return this.json.images=this.json.images||[],this.json.images.push(ir),this.json.images.length-1}addBufferView(De,ct=0,kt=this.byteLength){const mn=De.byteLength;M(Number.isFinite(mn)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(De);const zn={buffer:ct,byteOffset:kt,byteLength:mn};return this.byteLength+=(0,v.padToNBytes)(mn,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(zn),this.json.bufferViews.length-1}addAccessor(De,ct){const kt={bufferView:De,type:H(ct.size),componentType:ct.componentType,count:ct.count,max:ct.max,min:ct.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(kt),this.json.accessors.length-1}addBinaryBuffer(De,ct={size:3}){const kt=this.addBufferView(De);let mn={min:ct.min,max:ct.max};(!mn.min||!mn.max)&&(mn=this._getAccessorMinMax(De,ct.size));const zn={size:ct.size,componentType:me(De),count:Math.round(De.length/ct.size),min:mn.min,max:mn.max};return this.addAccessor(kt,Object.assign(zn,ct))}addTexture(De){const{imageIndex:ct}=De,kt={source:ct};return this.json.textures=this.json.textures||[],this.json.textures.push(kt),this.json.textures.length-1}addMaterial(De){return this.json.materials=this.json.materials||[],this.json.materials.push(De),this.json.materials.length-1}createBinaryChunk(){var De,ct;this.gltf.buffers=[];const kt=this.byteLength,mn=new ArrayBuffer(kt),zn=new Uint8Array(mn);let ir=0;for(const li of this.sourceBuffers||[])ir=(0,v.copyToArray)(li,zn,ir);null!=(ct=null==(De=this.json)?void 0:De.buffers)&&ct[0]?this.json.buffers[0].byteLength=kt:this.json.buffers=[{byteLength:kt}],this.gltf.binary=mn,this.sourceBuffers=[mn]}_removeStringFromArray(De,ct){let kt=!0;for(;kt;){const mn=De.indexOf(ct);mn>-1?De.splice(mn,1):kt=!1}}_addAttributes(De={}){const ct={};for(const kt in De){const mn=De[kt],zn=this._getGltfAttributeName(kt),ir=this.addBinaryBuffer(mn.value,mn);ct[zn]=ir}return ct}_addIndices(De){return this.addBinaryBuffer(De,{size:1})}_getGltfAttributeName(De){switch(De.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return De}}_getAccessorMinMax(De,ct){const kt={min:null,max:null};if(De.length<ct)return kt;kt.min=[],kt.max=[];const mn=De.subarray(0,ct);for(const zn of mn)kt.min.push(zn),kt.max.push(zn);for(let zn=ct;zn<De.length;zn+=ct)for(let ir=0;ir<ct;ir++)kt.min[0+ir]=Math.min(kt.min[0+ir],De[zn+ir]),kt.max[0+ir]=Math.max(kt.max[0+ir],De[zn+ir]);return kt}},ht=E(14315);function Bt(Yt){return(Yt%1+1)%1}var de={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},R={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},j={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function he(Yt,De){return j[De]*de[Yt]}function Ce(Yt,De,ct,kt){if("UINT8"!==ct&&"UINT16"!==ct&&"UINT32"!==ct&&"UINT64"!==ct)return null;const zn=Re(Yt.getTypedArrayForBufferView(De),"SCALAR",ct,kt+1);return zn instanceof BigInt64Array||zn instanceof BigUint64Array?null:zn}function Re(Yt,De,ct,kt=1){const zn=R[ct],ir=j[ct],li=kt*de[De],ji=li*ir;let ho=Yt.buffer,go=Yt.byteOffset;return go%ir!=0&&(ho=new Uint8Array(ho).slice(go,go+ji).buffer,go=0),new zn(ho,go,li)}function pt(Yt,De,ct){var kt,mn,zn,ir,li;const go=Yt.getTypedArrayForAccessor(ct.attributes[`TEXCOORD_${De.texCoord||0}`]),Fo=Yt.gltf.json,oa=null==(mn=null==(kt=Fo.textures)?void 0:kt[De.index])?void 0:mn.source;if(typeof oa<"u"){const Ca=null==(ir=null==(zn=Fo.images)?void 0:zn[oa])?void 0:ir.mimeType,xe=null==(li=Yt.gltf.images)?void 0:li[oa];if(xe&&typeof xe.width<"u"){const vt=[];for(let Nn=0;Nn<go.length;Nn+=2){const Ze=Mn(xe,Ca,go,Nn,De.channels);vt.push(Ze)}return vt}}return[]}function zt(Yt,De,ct,kt,mn){if(!ct?.length)return;const zn=[];for(const go of ct){let Fo=kt.findIndex(ss=>ss===go);-1===Fo&&(Fo=kt.push(go)-1),zn.push(Fo)}const ir=new Uint32Array(zn),li=Yt.gltf.buffers.push({arrayBuffer:ir.buffer,byteOffset:ir.byteOffset,byteLength:ir.byteLength})-1,ji=Yt.addBufferView(ir,li,0),ho=Yt.addAccessor(ji,{size:1,componentType:me(ir),count:ir.length});mn.attributes[De]=ho}function Mn(Yt,De,ct,kt,mn=[0]){const zn={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},ir=ct[kt],li=ct[kt+1];let ji=1;De&&(-1!==De.indexOf("image/jpeg")||-1!==De.indexOf("image/png"))&&(ji=4);const ho=function It(Yt,De,ct,kt=1){const mn=ct.width,zn=Bt(Yt)*(mn-1),ir=Math.round(zn),li=ct.height,ji=Bt(De)*(li-1);return(Math.round(ji)*mn+ir)*(ct.components?ct.components:kt)}(ir,li,Yt,ji);let go=0;for(const Fo of mn){const ss="number"==typeof Fo?Object.values(zn)[Fo]:zn[Fo],oa=ho+ss.offset,Ca=(0,ht.getImageData)(Yt);if(Ca.data.length<=oa)throw new Error(`${Ca.data.length} <= ${oa}`);go|=Ca.data[oa]<<ss.shift}return go}function Ne(Yt,De,ct,kt,mn){const zn=[];for(let ir=0;ir<De;ir++){const li=ct[ir],ji=ct[ir+1]-ct[ir];if(ji+li>kt)break;const ho=li/mn;zn.push(Yt.slice(ho,ho+ji/mn))}return zn}function Xe(Yt,De,ct){const kt=[];for(let mn=0;mn<De;mn++){const zn=mn*ct;kt.push(Yt.slice(zn,zn+ct))}return kt}function Ot(Yt,De,ct,kt){if(ct)throw new Error("Not implemented - arrayOffsets for strings is specified");if(kt){const mn=[],zn=new TextDecoder("utf8");let ir=0;for(let li=0;li<Yt;li++){const ji=kt[li+1]-kt[li];if(ji+ir<=De.length){const ho=De.subarray(ir,ji+ir),go=zn.decode(ho);mn.push(go),ir+=ji}}return mn}return[]}var re="EXT_mesh_features",D=re;function F(Yt,De){return T.apply(this,arguments)}function T(){return T=i(function*(Yt,De){!function W(Yt,De){const ct=Yt.gltf.json;if(ct.meshes)for(const kt of ct.meshes)for(const mn of kt.primitives)z(Yt,mn,De)}(new _e(Yt),De)}),T.apply(this,arguments)}function z(Yt,De,ct){var kt,mn,zn;if(null==(kt=ct?.gltf)||!kt.loadBuffers)return;const ir=null==(mn=De.extensions)?void 0:mn[re],li=ir?.featureIds;if(li)for(const ji of li){let ho;ho=typeof ji.attribute<"u"?Yt.getTypedArrayForAccessor(De.attributes[`_FEATURE_ID_${ji.attribute}`]):typeof ji.texture<"u"&&null!=(zn=ct?.gltf)&&zn.loadImages?pt(Yt,ji.texture,De):[],ji.data=ho}}var p={};d(p,{decode:()=>se,name:()=>Ae});var I="EXT_structural_metadata",Ae=I;function se(Yt,De){return L.apply(this,arguments)}function L(){return L=i(function*(Yt,De){!function ve(Yt,De){var ct,kt;if(null==(ct=De.gltf)||!ct.loadBuffers)return;const mn=Yt.getExtension(I);mn&&(null!=(kt=De.gltf)&&kt.loadImages&&function ge(Yt,De){const ct=De.propertyTextures,kt=Yt.gltf.json;if(ct&&kt.meshes)for(const mn of kt.meshes)for(const zn of mn.primitives)Rt(Yt,ct,zn,De)}(Yt,mn),function et(Yt,De){const ct=De.schema;if(!ct)return;const kt=ct.classes,mn=De.propertyTables;if(kt&&mn)for(const zn in kt){const ir=Pt(mn,zn);ir&&je(Yt,ct,ir)}}(Yt,mn))}(new _e(Yt),De)}),L.apply(this,arguments)}function Pt(Yt,De){for(const ct of Yt)if(ct.class===De)return ct;return null}function Rt(Yt,De,ct,kt){var mn;if(!De)return;const zn=null==(mn=ct.extensions)?void 0:mn[I],ir=zn?.propertyTextures;if(ir)for(const li of ir)ln(Yt,De[li],ct,kt)}function ln(Yt,De,ct,kt){var mn;if(!De.properties)return;kt.dataAttributeNames||(kt.dataAttributeNames=[]);const zn=De.class;for(const ir in De.properties){const li=`${zn}_${ir}`,ji=null==(mn=De.properties)?void 0:mn[ir];if(!ji)continue;ji.data||(ji.data=[]);const ho=ji.data,go=pt(Yt,ji,ct);null!==go&&(zt(Yt,li,go,ho,ct),ji.data=ho,kt.dataAttributeNames.push(li))}}function je(Yt,De,ct){var kt,mn;const zn=null==(kt=De.classes)?void 0:kt[ct.class];if(!zn)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${ct.class}`);const ir=ct.count;for(const li in zn.properties){const ho=null==(mn=ct.properties)?void 0:mn[li];if(ho){const go=Ht(Yt,De,zn.properties[li],ir,ho);ho.data=go}}}function Ht(Yt,De,ct,kt,mn){let zn=[];const li=Yt.getTypedArrayForBufferView(mn.values),ji=function ut(Yt,De,ct,kt){return De.array&&typeof De.count>"u"&&typeof ct.arrayOffsets<"u"?Ce(Yt,ct.arrayOffsets,ct.arrayOffsetType||"UINT32",kt):null}(Yt,ct,mn,kt),ho=function jt(Yt,De,ct){return typeof De.stringOffsets<"u"?Ce(Yt,De.stringOffsets,De.stringOffsetType||"UINT32",ct):null}(Yt,mn,kt);switch(ct.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":zn=function gn(Yt,De,ct,kt){const mn=Yt.array,zn=Yt.count,ir=he(Yt.type,Yt.componentType);let ji;return ji=Yt.componentType?Re(ct,Yt.type,Yt.componentType,ct.byteLength/ir):ct,mn?kt?Ne(ji,De,kt,ct.length,ir):zn?Xe(ji,De,zn):[]:ji}(ct,kt,li,ji);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${ct.type}`);case"STRING":zn=Ot(kt,li,ji,ho);break;case"ENUM":zn=function lt(Yt,De,ct,kt,mn){var zn;const ir=De.enumType;if(!ir)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const li=null==(zn=Yt.enums)?void 0:zn[ir];if(!li)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${ir}`);const ji=li.valueType||"UINT16",ho=he(De.type,ji);let Fo=Re(kt,De.type,ji,kt.byteLength/ho);if(Fo||(Fo=kt),De.array){if(mn)return function bt(Yt){const{valuesData:De,numberOfElements:ct,arrayOffsets:kt,valuesDataBytesLength:mn,elementSize:zn,enumEntry:ir}=Yt,li=[];for(let ji=0;ji<ct;ji++){const ho=kt[ji],go=kt[ji+1]-kt[ji];if(go+ho>mn)break;const oa=ye(De,ho/zn,go/zn,ir);li.push(oa)}return li}({valuesData:Fo,numberOfElements:ct,arrayOffsets:mn,valuesDataBytesLength:kt.length,elementSize:ho,enumEntry:li});const ss=De.count;return ss?function He(Yt,De,ct,kt){const mn=[];for(let zn=0;zn<De;zn++){const li=ye(Yt,ct*zn,ct,kt);mn.push(li)}return mn}(Fo,ct,ss,li):[]}return ye(Fo,0,ct,li)}(De,ct,kt,li,ji);break;default:throw new Error(`Unknown classProperty type ${ct.type}`)}return zn}function ye(Yt,De,ct,kt){const mn=[];for(let zn=0;zn<ct;zn++)if(Yt instanceof BigInt64Array||Yt instanceof BigUint64Array)mn.push("");else{const li=mt(kt,Yt[De+zn]);mn.push(li?li.name:"")}return mn}function mt(Yt,De){for(const ct of Yt.values)if(ct.value===De)return ct;return null}var rt={};d(rt,{decode:()=>Jn,name:()=>Dn});var Kt="EXT_feature_metadata",Dn=Kt;function Jn(Yt,De){return lr.apply(this,arguments)}function lr(){return lr=i(function*(Yt,De){!function an(Yt,De){var ct,kt;if(null==(ct=De.gltf)||!ct.loadBuffers)return;const mn=Yt.getExtension(Kt);mn&&(null!=(kt=De.gltf)&&kt.loadImages&&function At(Yt,De){const ct=De.schema;if(!ct)return;const kt=ct.classes,{featureTextures:mn}=De;if(kt&&mn)for(const zn in kt){const ir=kt[zn],li=gt(mn,zn);li&&Xt(Yt,li,ir)}}(Yt,mn),function Et(Yt,De){const ct=De.schema;if(!ct)return;const kt=ct.classes,mn=De.featureTables;if(kt&&mn)for(const zn in kt){const ir=xt(mn,zn);ir&&tn(Yt,ct,ir)}}(Yt,mn))}(new _e(Yt),De)}),lr.apply(this,arguments)}function xt(Yt,De){for(const ct in Yt){const kt=Yt[ct];if(kt.class===De)return kt}return null}function gt(Yt,De){for(const ct in Yt){const kt=Yt[ct];if(kt.class===De)return kt}return null}function tn(Yt,De,ct){var kt,mn;if(!ct.class)return;const zn=null==(kt=De.classes)?void 0:kt[ct.class];if(!zn)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${ct.class}`);const ir=ct.count;for(const li in zn.properties){const ho=null==(mn=ct.properties)?void 0:mn[li];if(ho){const go=Ye(Yt,0,zn.properties[li],ir,ho);ho.data=go}}}function Xt(Yt,De,ct){var kt;const mn=De.class;for(const zn in ct.properties){const ir=null==(kt=De?.properties)?void 0:kt[zn];if(ir){const li=Jt(Yt,ir,mn);ir.data=li}}}function Ye(Yt,De,ct,kt,mn){let zn=[];const li=Yt.getTypedArrayForBufferView(mn.bufferView),ji=function Vt(Yt,De,ct,kt){return"ARRAY"===De.type&&typeof De.componentCount>"u"&&typeof ct.arrayOffsetBufferView<"u"?Ce(Yt,ct.arrayOffsetBufferView,ct.offsetType||"UINT32",kt):null}(Yt,ct,mn,kt),ho=function En(Yt,De,ct,kt){return typeof ct.stringOffsetBufferView<"u"?Ce(Yt,ct.stringOffsetBufferView,ct.offsetType||"UINT32",kt):null}(Yt,0,mn,kt);return"STRING"===ct.type||"STRING"===ct.componentType?zn=Ot(kt,li,ji,ho):function it(Yt){const De=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return De.includes(Yt.type)||typeof Yt.componentType<"u"&&De.includes(Yt.componentType)}(ct)&&(zn=function ke(Yt,De,ct,kt){const mn="ARRAY"===Yt.type,zn=Yt.componentCount,li=Yt.componentType||Yt.type,ji=he("SCALAR",li),go=Re(ct,"SCALAR",li,ct.byteLength/ji);return mn?kt?Ne(go,De,kt,ct.length,ji):zn?Xe(go,De,zn):[]:go}(ct,kt,li,ji)),zn}function Jt(Yt,De,ct){const kt=Yt.gltf.json;if(!kt.meshes)return[];const mn=[];for(const zn of kt.meshes)for(const ir of zn.primitives)We(Yt,ct,De,mn,ir);return mn}function We(Yt,De,ct,kt,mn){const ir=pt(Yt,{channels:ct.channels,...ct.texture},mn);ir&&zt(Yt,De,ir,kt,mn)}var Tt="4.2.1",wn=E(28690),In=E(14315),dr=E(74389),sr=E(28690),Gr=!0,hi=1735152710,Ei=12,fi=8,co=1313821514,uo=5130562,Pi=0,ti=0,mr=1;function Pe(Yt,De,ct=0,kt={}){const mn=new DataView(De),zn=function Li(Yt,De=0){return`${String.fromCharCode(Yt.getUint8(De+0))}${String.fromCharCode(Yt.getUint8(De+1))}${String.fromCharCode(Yt.getUint8(De+2))}${String.fromCharCode(Yt.getUint8(De+3))}`}(mn,ct+0),ir=mn.getUint32(ct+4,Gr),li=mn.getUint32(ct+8,Gr);switch(Object.assign(Yt,{header:{byteOffset:ct,byteLength:li,hasBinChunk:!1},type:zn,version:ir,json:{},binChunks:[]}),ct+=Ei,Yt.version){case 1:return function dt(Yt,De,ct){(0,sr.assert)(Yt.header.byteLength>Ei+fi);const kt=De.getUint32(ct+0,Gr),mn=De.getUint32(ct+4,Gr);return ct+=fi,(0,sr.assert)(mn===Pi),Gn(Yt,De,ct,kt),ct+=kt,ct+=nr(Yt,De,ct,Yt.header.byteLength)}(Yt,mn,ct);case 2:return function vn(Yt,De,ct,kt){return(0,sr.assert)(Yt.header.byteLength>Ei+fi),function bn(Yt,De,ct,kt){for(;ct+8<=Yt.header.byteLength;){const mn=De.getUint32(ct+0,Gr),zn=De.getUint32(ct+4,Gr);switch(ct+=fi,zn){case co:Gn(Yt,De,ct,mn);break;case uo:nr(Yt,De,ct,mn);break;case ti:kt.strict||Gn(Yt,De,ct,mn);break;case mr:kt.strict||nr(Yt,De,ct,mn)}ct+=(0,sr.padToNBytes)(mn,4)}}(Yt,De,ct,kt),ct+Yt.header.byteLength}(Yt,mn,ct,{});default:throw new Error(`Invalid GLB version ${Yt.version}. Only supports version 1 and 2.`)}}function Gn(Yt,De,ct,kt){const mn=new Uint8Array(De.buffer,ct,kt),ir=new TextDecoder("utf8").decode(mn);return Yt.json=JSON.parse(ir),(0,sr.padToNBytes)(kt,4)}function nr(Yt,De,ct,kt){return Yt.header.hasBinChunk=!0,Yt.binChunks.push({byteOffset:ct,byteLength:kt,arrayBuffer:De.buffer}),(0,sr.padToNBytes)(kt,4)}function er(Yt,De){if(Yt.startsWith("data:")||Yt.startsWith("http:")||Yt.startsWith("https:"))return Yt;const kt=De.baseUri||De.uri;if(!kt)throw new Error(`'baseUri' must be provided to resolve relative url ${Yt}`);return kt.substr(0,kt.lastIndexOf("/")+1)+Yt}var Be={};d(Be,{decode:()=>Dt,name:()=>ze});var ai,tt="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",un="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",fr=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),Ar=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),zr={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},si={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function ni(){return ni=i(function*(Yt,De,ct,kt,mn,zn="NONE"){const ir=yield function Oi(){return so.apply(this,arguments)}();!function $n(Yt,De,ct,kt,mn,zn,ir){const li=Yt.exports.sbrk,ji=kt+3&-4,ho=li(ji*mn),go=li(zn.length),Fo=new Uint8Array(Yt.exports.memory.buffer);Fo.set(zn,go);const ss=De(ho,kt,mn,go,zn.length);if(0===ss&&ir&&ir(ho,ji,mn),ct.set(Fo.subarray(ho,ho+kt*mn)),li(ho-li(0)),0!==ss)throw new Error(`Malformed buffer data: ${ss}`)}(ir,ir.exports[si[mn]],Yt,De,ct,kt,ir.exports[zr[zn||"NONE"]])}),ni.apply(this,arguments)}function so(){return so=i(function*(){return ai||(ai=function wo(){return eo.apply(this,arguments)}()),ai}),so.apply(this,arguments)}function eo(){return eo=i(function*(){let Yt=tt;WebAssembly.validate(fr)&&(Yt=un,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const De=yield WebAssembly.instantiate(function Vo(Yt){const De=new Uint8Array(Yt.length);for(let kt=0;kt<Yt.length;++kt){const mn=Yt.charCodeAt(kt);De[kt]=mn>96?mn-71:mn>64?mn-65:mn>47?mn+4:mn>46?63:62}let ct=0;for(let kt=0;kt<Yt.length;++kt)De[ct++]=De[kt]<60?Ar[De[kt]]:64*(De[kt]-60)+De[++kt];return De.buffer.slice(0,ct)}(Yt),{});return yield De.instance.exports.__wasm_call_ctors(),De.instance}),eo.apply(this,arguments)}var fn="EXT_meshopt_compression",ze=fn;function Dt(Yt,De){return sn.apply(this,arguments)}function sn(){return sn=i(function*(Yt,De){var ct,kt;const mn=new _e(Yt);if(null==(ct=De?.gltf)||!ct.decompressMeshes||null==(kt=De.gltf)||!kt.loadBuffers)return;const zn=[];for(const ir of Yt.json.bufferViews||[])zn.push(Wn(mn,ir));yield Promise.all(zn),mn.removeExtension(fn)}),sn.apply(this,arguments)}function Wn(Yt,De){return Ir.apply(this,arguments)}function Ir(){return Ir=i(function*(Yt,De){const ct=Yt.getObjectExtension(De,fn);if(ct){const{byteOffset:kt=0,byteLength:mn=0,byteStride:zn,count:ir,mode:li,filter:ji="NONE",buffer:ho}=ct,go=Yt.gltf.buffers[ho],Fo=new Uint8Array(go.arrayBuffer,go.byteOffset+kt,mn),ss=new Uint8Array(Yt.gltf.buffers[De.buffer].arrayBuffer,De.byteOffset,De.byteLength);yield function Ti(Yt,De,ct,kt,mn){return ni.apply(this,arguments)}(ss,ir,zn,Fo,li,ji),Yt.removeObjectExtension(De,fn)}}),Ir.apply(this,arguments)}var Zr={};d(Zr,{name:()=>_o,preprocess:()=>Co});var io=E(14315),Hi="EXT_texture_webp",_o=Hi;function Co(Yt,De){const ct=new _e(Yt);if(!(0,io.isImageFormatSupported)("image/webp")){if(ct.getRequiredExtensions().includes(Hi))throw new Error(`gltf: Required extension ${Hi} not supported by browser`);return}const{json:kt}=ct;for(const mn of kt.textures||[]){const zn=ct.getObjectExtension(mn,Hi);zn&&(mn.source=zn.source),ct.removeObjectExtension(mn,Hi)}ct.removeExtension(Hi)}var Ro={};d(Ro,{name:()=>Ws,preprocess:()=>ms});var Is="KHR_texture_basisu",Ws=Is;function ms(Yt,De){const ct=new _e(Yt),{json:kt}=ct;for(const mn of kt.textures||[]){const zn=ct.getObjectExtension(mn,Is);zn&&(mn.source=zn.source,ct.removeObjectExtension(mn,Is))}ct.removeExtension(Is)}var zo={};d(zo,{decode:()=>zi,encode:()=>xo,name:()=>Mi,preprocess:()=>Ri});var Zo=E(28690),os=E(36848);function Rs(Yt){const{buffer:De,size:ct,count:kt}=function ar(Yt){let De=Yt,ct=1,kt=0;return Yt&&Yt.value&&(De=Yt.value,ct=Yt.size||1),De&&(ArrayBuffer.isView(De)||(De=function ur(Yt,De,ct=!1){return Yt?Array.isArray(Yt)?new De(Yt):!ct||Yt instanceof De?Yt:new De(Yt):null}(De,Float32Array)),kt=De.length/ct),{buffer:De,size:ct,count:kt}}(Yt);return{value:De,size:ct,byteOffset:0,count:kt,type:H(ct),componentType:me(De)}}var jr="KHR_draco_mesh_compression",Mi=jr;function Ri(Yt,De,ct){const kt=new _e(Yt);for(const mn of ys(kt))kt.getObjectExtension(mn,jr)}function zi(Yt,De,ct){return to.apply(this,arguments)}function to(){return to=i(function*(Yt,De,ct){var kt;if(null==(kt=De?.gltf)||!kt.decompressMeshes)return;const mn=new _e(Yt),zn=[];for(const ir of ys(mn))mn.getObjectExtension(ir,jr)&&zn.push($i(mn,ir,De,ct));yield Promise.all(zn),mn.removeExtension(jr)}),to.apply(this,arguments)}function xo(Yt,De={}){const ct=new _e(Yt);for(const kt of ct.json.meshes||[])ls(kt),ct.addRequiredExtension(jr)}function $i(Yt,De,ct,kt){return No.apply(this,arguments)}function No(){return No=i(function*(Yt,De,ct,kt){const mn=Yt.getObjectExtension(De,jr);if(!mn)return;const zn=Yt.getTypedArrayForBufferView(mn.bufferView),ir=(0,Zo.sliceArrayBuffer)(zn.buffer,zn.byteOffset),li={...ct};delete li["3d-tiles"];const ji=yield(0,Zo.parseFromContext)(ir,os.DracoLoader,li,kt),ho=function ns(Yt){const De={};for(const ct in Yt)if("indices"!==ct){const mn=Rs(Yt[ct]);De[ct]=mn}return De}(ji.attributes);for(const[go,Fo]of Object.entries(ho))if(go in De.attributes){const oa=Yt.getAccessor(De.attributes[go]);oa?.min&&oa?.max&&(Fo.min=oa.min,Fo.max=oa.max)}De.attributes=ho,ji.indices&&(De.indices=Rs(ji.indices)),Yt.removeObjectExtension(De,jr),function Ns(Yt){if(!Yt.attributes&&Object.keys(Yt.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(De)}),No.apply(this,arguments)}function ls(Yt,De,ct=4,kt,mn){var zn;if(!kt.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const ir=kt.DracoWriter.encodeSync({attributes:Yt}),li=null==(zn=mn?.parseSync)?void 0:zn.call(mn,{attributes:Yt}),ji=kt._addFauxAttributes(li.attributes),ho=kt.addBufferView(ir);return{primitives:[{attributes:ji,mode:ct,extensions:{[jr]:{bufferView:ho,attributes:ji}}}]}}function*ys(Yt){for(const De of Yt.json.meshes||[])for(const ct of De.primitives)yield ct}var Os={};d(Os,{decode:()=>Ks,name:()=>Lo});var qo=E(87974),Gs="KHR_texture_transform",Lo=Gs,pa=new qo.Vector3,ca=new qo.Matrix3,Ms=new qo.Matrix3;function Ks(Yt,De){return Ds.apply(this,arguments)}function Ds(){return Ds=i(function*(Yt,De){var ct;if(!new _e(Yt).hasExtension(Gs)||null==(ct=De.gltf)||!ct.loadBuffers)return;const zn=Yt.json.materials||[];for(let ir=0;ir<zn.length;ir++)cs(ir,Yt)}),Ds.apply(this,arguments)}function cs(Yt,De){var ct,kt,mn,zn;const ir=null==(ct=De.json.materials)?void 0:ct[Yt],li=[null==(kt=ir?.pbrMetallicRoughness)?void 0:kt.baseColorTexture,ir?.emissiveTexture,ir?.normalTexture,ir?.occlusionTexture,null==(mn=ir?.pbrMetallicRoughness)?void 0:mn.metallicRoughnessTexture],ji=[];for(const ho of li)ho&&null!=(zn=ho?.extensions)&&zn[Gs]&&ua(De,Yt,ho,ji)}function ua(Yt,De,ct,kt){const mn=function tr(Yt,De){var ct;const kt=null==(ct=Yt.extensions)?void 0:ct[Gs],{texCoord:mn=0}=Yt,{texCoord:zn=mn}=kt;if(-1===De.findIndex(([li,ji])=>li===mn&&ji===zn)){const li=function Bi(Yt){const{offset:De=[0,0],rotation:ct=0,scale:kt=[1,1]}=Yt,mn=(new qo.Matrix3).set(1,0,0,0,1,0,De[0],De[1],1),zn=ca.set(Math.cos(ct),Math.sin(ct),0,-Math.sin(ct),Math.cos(ct),0,0,0,1),ir=Ms.set(kt[0],0,0,0,kt[1],0,0,0,1);return mn.multiplyRight(zn).multiplyRight(ir)}(kt);return mn!==zn&&(Yt.texCoord=zn),De.push([mn,zn]),{originalTexCoord:mn,texCoord:zn,matrix:li}}return null}(ct,kt);if(!mn)return;const zn=Yt.json.meshes||[];for(const ir of zn)for(const li of ir.primitives){const ji=li.material;Number.isFinite(ji)&&De===ji&&pr(Yt,li,mn)}}function pr(Yt,De,ct){var kt,mn;const{originalTexCoord:zn,texCoord:ir,matrix:li}=ct,ji=De.attributes[`TEXCOORD_${zn}`];if(Number.isFinite(ji)){const ho=null==(kt=Yt.json.accessors)?void 0:kt[ji];if(ho&&ho.bufferView){const go=null==(mn=Yt.json.bufferViews)?void 0:mn[ho.bufferView];if(go){const{arrayBuffer:Fo,byteOffset:ss}=Yt.buffers[go.buffer],oa=(ss||0)+(ho.byteOffset||0)+(go.byteOffset||0),{ArrayType:Ca,length:xe}=B(ho,go),Nn=G[ho.type],Ze=go.byteStride||K[ho.componentType]*Nn,Tn=new Float32Array(xe);for(let vr=0;vr<ho.count;vr++){const _i=new Ca(Fo,oa+vr*Ze,2);pa.set(_i[0],_i[1],1),pa.transformByMatrix3(li),Tn.set([pa[0],pa[1]],vr*Nn)}zn===ir?function xr(Yt,De,ct,kt){Yt.componentType=5126,ct.push({arrayBuffer:kt.buffer,byteOffset:0,byteLength:kt.buffer.byteLength}),De.buffer=ct.length-1,De.byteLength=kt.buffer.byteLength,De.byteOffset=0,delete De.byteStride}(ho,go,Yt.buffers,Tn):function Pr(Yt,De,ct,kt,mn){kt.buffers.push({arrayBuffer:mn.buffer,byteOffset:0,byteLength:mn.buffer.byteLength});const zn=kt.json.bufferViews;if(!zn)return;zn.push({buffer:kt.buffers.length-1,byteLength:mn.buffer.byteLength,byteOffset:0});const ir=kt.json.accessors;ir&&(ir.push({bufferView:zn?.length-1,byteOffset:0,componentType:5126,count:De.count,type:"VEC2"}),ct.attributes[`TEXCOORD_${Yt}`]=ir.length-1)}(ir,ho,De,Yt,Tn)}}}}var ot={};d(ot,{decode:()=>hn,encode:()=>Nt,name:()=>Wt});var xn="KHR_lights_punctual",Wt=xn;function hn(Yt){return $e.apply(this,arguments)}function $e(){return $e=i(function*(Yt){const De=new _e(Yt),{json:ct}=De,kt=De.getExtension(xn);kt&&(De.json.lights=kt.lights,De.removeExtension(xn));for(const mn of ct.nodes||[]){const zn=De.getObjectExtension(mn,xn);zn&&(mn.light=zn.light),De.removeObjectExtension(mn,xn)}}),$e.apply(this,arguments)}function Nt(Yt){return nn.apply(this,arguments)}function nn(){return nn=i(function*(Yt){const De=new _e(Yt),{json:ct}=De;if(ct.lights){const kt=De.addExtension(xn);M(!kt.lights),kt.lights=ct.lights,delete ct.lights}if(De.json.lights){for(const kt of De.json.lights)De.addObjectExtension(kt.node,xn,kt);delete De.json.lights}}),nn.apply(this,arguments)}var Zn={};d(Zn,{decode:()=>Kr,encode:()=>pi,name:()=>Cr});var Er="KHR_materials_unlit",Cr=Er;function Kr(Yt){return $r.apply(this,arguments)}function $r(){return $r=i(function*(Yt){const De=new _e(Yt),{json:ct}=De;for(const kt of ct.materials||[])kt.extensions&&kt.extensions.KHR_materials_unlit&&(kt.unlit=!0),De.removeObjectExtension(kt,Er);De.removeExtension(Er)}),$r.apply(this,arguments)}function pi(Yt){const De=new _e(Yt),{json:ct}=De;if(De.materials)for(const kt of ct.materials||[])kt.unlit&&(delete kt.unlit,De.addObjectExtension(kt,Er,{}),De.addExtension(Er))}var ri={};d(ri,{decode:()=>ko,encode:()=>st,name:()=>vo});var Xi="KHR_techniques_webgl",vo=Xi;function ko(Yt){return Ao.apply(this,arguments)}function Ao(){return Ao=i(function*(Yt){const De=new _e(Yt),{json:ct}=De,kt=De.getExtension(Xi);if(kt){const mn=function dn(Yt,De){const{programs:ct=[],shaders:kt=[],techniques:mn=[]}=Yt,zn=new TextDecoder;return kt.forEach(ir=>{if(!Number.isFinite(ir.bufferView))throw new Error("KHR_techniques_webgl: no shader code");ir.code=zn.decode(De.getTypedArrayForBufferView(ir.bufferView))}),ct.forEach(ir=>{ir.fragmentShader=kt[ir.fragmentShader],ir.vertexShader=kt[ir.vertexShader]}),mn.forEach(ir=>{ir.program=ct[ir.program]}),mn}(kt,De);for(const zn of ct.materials||[]){const ir=De.getObjectExtension(zn,Xi);ir&&(zn.technique=Object.assign({},ir,mn[ir.technique]),zn.technique.values=ft(zn.technique,De)),De.removeObjectExtension(zn,Xi)}De.removeExtension(Xi)}}),Ao.apply(this,arguments)}function st(Yt,De){return Qe.apply(this,arguments)}function Qe(){return(Qe=i(function*(Yt,De){})).apply(this,arguments)}function ft(Yt,De){const ct=Object.assign({},Yt.values);return Object.keys(Yt.uniforms||{}).forEach(kt=>{Yt.uniforms[kt].value&&!(kt in ct)&&(ct[kt]=Yt.uniforms[kt].value)}),Object.keys(ct).forEach(kt=>{"object"==typeof ct[kt]&&void 0!==ct[kt].index&&(ct[kt].texture=De.getTexture(ct[kt].index))}),ct}var fe=[p,P,Be,Zr,Ro,zo,ot,Zn,ri,Os,rt];function Yn(){return Yn=i(function*(Yt,De={},ct){var kt;const mn=fe.filter(zn=>wt(zn.name,De));for(const zn of mn)yield null==(kt=zn.decode)?void 0:kt.call(zn,Yt,De,ct)}),Yn.apply(this,arguments)}function wt(Yt,De){var ct;const kt=(null==(ct=De?.gltf)?void 0:ct.excludeExtensions)||{};return!(Yt in kt&&!kt[Yt])}var Q="KHR_binary_glTF",Ke={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},$t={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},Sn=class{constructor(){u(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),u(this,"json",void 0)}normalize(De,ct){this.json=De.json;const kt=De.json;switch(kt.asset&&kt.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${kt.asset.version}`)}if(!ct.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(kt),this._convertTopLevelObjectsToArrays(kt),function be(Yt){const De=new _e(Yt),{json:ct}=De;for(const kt of ct.images||[]){const mn=De.getObjectExtension(kt,Q);mn&&Object.assign(kt,mn),De.removeObjectExtension(kt,Q)}ct.buffers&&ct.buffers[0]&&delete ct.buffers[0].uri,De.removeExtension(Q)}(De),this._convertObjectIdsToArrayIndices(kt),this._updateObjects(kt),this._updateMaterial(kt)}_addAsset(De){De.asset=De.asset||{},De.asset.version="2.0",De.asset.generator=De.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(De){for(const ct in Ke)this._convertTopLevelObjectToArray(De,ct)}_convertTopLevelObjectToArray(De,ct){const kt=De[ct];if(kt&&!Array.isArray(kt)){De[ct]=[];for(const mn in kt){const zn=kt[mn];zn.id=zn.id||mn;const ir=De[ct].length;De[ct].push(zn),this.idToIndexMap[ct][mn]=ir}}}_convertObjectIdsToArrayIndices(De){for(const ct in Ke)this._convertIdsToIndices(De,ct);"scene"in De&&(De.scene=this._convertIdToIndex(De.scene,"scene"));for(const ct of De.textures)this._convertTextureIds(ct);for(const ct of De.meshes)this._convertMeshIds(ct);for(const ct of De.nodes)this._convertNodeIds(ct);for(const ct of De.scenes)this._convertSceneIds(ct)}_convertTextureIds(De){De.source&&(De.source=this._convertIdToIndex(De.source,"image"))}_convertMeshIds(De){for(const ct of De.primitives){const{attributes:kt,indices:mn,material:zn}=ct;for(const ir in kt)kt[ir]=this._convertIdToIndex(kt[ir],"accessor");mn&&(ct.indices=this._convertIdToIndex(mn,"accessor")),zn&&(ct.material=this._convertIdToIndex(zn,"material"))}}_convertNodeIds(De){De.children&&(De.children=De.children.map(ct=>this._convertIdToIndex(ct,"node"))),De.meshes&&(De.meshes=De.meshes.map(ct=>this._convertIdToIndex(ct,"mesh")))}_convertSceneIds(De){De.nodes&&(De.nodes=De.nodes.map(ct=>this._convertIdToIndex(ct,"node")))}_convertIdsToIndices(De,ct){De[ct]||(console.warn(`gltf v1: json doesn't contain attribute ${ct}`),De[ct]=[]);for(const kt of De[ct])for(const mn in kt){const ir=this._convertIdToIndex(kt[mn],mn);kt[mn]=ir}}_convertIdToIndex(De,ct){const kt=$t[ct];if(kt in this.idToIndexMap){const mn=this.idToIndexMap[kt][De];if(!Number.isFinite(mn))throw new Error(`gltf v1: failed to resolve ${ct} with id ${De}`);return mn}return De}_updateObjects(De){for(const ct of this.json.buffers)delete ct.type}_updateMaterial(De){var ct,kt,mn;for(const zn of De.materials){zn.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const ir=(null==(ct=zn.values)?void 0:ct.tex)||(null==(kt=zn.values)?void 0:kt.texture2d_0)||(null==(mn=zn.values)?void 0:mn.diffuseTex),li=De.textures.findIndex(ji=>ji.id===ir);-1!==li&&(zn.pbrMetallicRoughness.baseColorTexture={index:li})}}};function Vr(){return Vr=i(function*(Yt,De,ct=0,kt,mn){var zn,ir,li;return function ci(Yt,De,ct,kt){if(kt.uri&&(Yt.baseUri=kt.uri),De instanceof ArrayBuffer&&!function ro(Yt,De=0,ct={}){const kt=new DataView(Yt),{magic:mn=hi}=ct,zn=kt.getUint32(De,!1);return zn===mn||zn===hi}(De,ct,kt)&&(De=(new TextDecoder).decode(De)),"string"==typeof De)Yt.json=(0,wn.parseJSON)(De);else if(De instanceof ArrayBuffer){const ir={};ct=Pe(ir,De,ct,kt.glb),M("glTF"===ir.type,`Invalid GLB magic string ${ir.type}`),Yt._glb=ir,Yt.json=ir.json}else M(!1,"GLTF: must be ArrayBuffer or string");if(Yt.buffers=new Array((Yt.json.buffers||[]).length).fill(null),Yt._glb&&Yt._glb.header.hasBinChunk){const{binChunks:ir}=Yt._glb;Yt.buffers[0]={arrayBuffer:ir[0].arrayBuffer,byteOffset:ir[0].byteOffset,byteLength:ir[0].byteLength}}Yt.images=new Array((Yt.json.images||[]).length).fill({})}(Yt,De,ct,kt),function Xn(Yt,De={}){(new Sn).normalize(Yt,De)}(Yt,{normalize:null==(zn=kt?.gltf)?void 0:zn.normalize}),function St(Yt,De={},ct){var kt;const mn=fe.filter(zn=>wt(zn.name,De));for(const zn of mn)null==(kt=zn.preprocess)||kt.call(zn,Yt,De,ct)}(Yt,kt,mn),null!=(ir=kt?.gltf)&&ir.loadBuffers&&Yt.json.buffers&&(yield function di(Yt,De,ct){return Lr.apply(this,arguments)}(Yt,kt,mn)),null!=(li=kt?.gltf)&&li.loadImages&&(yield function wi(Yt,De,ct){return Zi.apply(this,arguments)}(Yt,kt,mn)),yield function cn(Yt){return Yn.apply(this,arguments)}(Yt,kt,mn),Yt}),Vr.apply(this,arguments)}function Lr(){return Lr=i(function*(Yt,De,ct){var kt,mn;const zn=Yt.json.buffers||[];for(let ir=0;ir<zn.length;++ir){const li=zn[ir];if(li.uri){const{fetch:ji}=ct;M(ji);const ho=er(li.uri,De),go=yield null==(kt=ct?.fetch)?void 0:kt.call(ct,ho),Fo=yield null==(mn=go?.arrayBuffer)?void 0:mn.call(go);Yt.buffers[ir]={arrayBuffer:Fo,byteOffset:0,byteLength:Fo.byteLength},delete li.uri}else null===Yt.buffers[ir]&&(Yt.buffers[ir]={arrayBuffer:new ArrayBuffer(li.byteLength),byteOffset:0,byteLength:li.byteLength})}}),Lr.apply(this,arguments)}function Zi(){return Zi=i(function*(Yt,De,ct){const kt=function Ui(Yt){const De=new Set,ct=Yt.json.textures||[];for(const kt of ct)void 0!==kt.source&&De.add(kt.source);return Array.from(De).sort()}(Yt),mn=Yt.json.images||[],zn=[];for(const ir of kt)zn.push(pe(Yt,mn[ir],ir,De,ct));return yield Promise.all(zn)}),Zi.apply(this,arguments)}function pe(Yt,De,ct,kt,mn){return le.apply(this,arguments)}function le(){return le=i(function*(Yt,De,ct,kt,mn){let zn;if(De.uri&&!De.hasOwnProperty("bufferView")){const li=er(De.uri,kt),{fetch:ji}=mn;zn=yield(yield ji(li)).arrayBuffer(),De.bufferView={data:zn}}if(Number.isFinite(De.bufferView)){const li=function Oe(Yt,De,ct){const kt=Yt.bufferViews[ct];M(kt);const zn=De[kt.buffer];return M(zn),new Uint8Array(zn.arrayBuffer,(kt.byteOffset||0)+zn.byteOffset,kt.byteLength)}(Yt.json,Yt.buffers,De.bufferView);zn=(0,wn.sliceArrayBuffer)(li.buffer,li.byteOffset,li.byteLength)}M(zn,"glTF image has no data");let ir=yield(0,wn.parseFromContext)(zn,[In.ImageLoader,dr.BasisLoader],{...kt,mimeType:De.mimeType,basis:kt.basis||{format:(0,dr.selectSupportedBasisFormat)()}},mn);ir&&ir[0]&&(ir={compressed:!0,mipmaps:!1,width:ir[0].width,height:ir[0].height,data:ir[0]}),Yt.images=Yt.images||[],Yt.images[ct]=ir}),le.apply(this,arguments)}var Ge={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:Tt,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function Mt(Yt){return Lt.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};function Lt(){return Lt=i(function*(Yt,De={},ct){(De={...Ge.options,...De}).gltf={...Ge.options.gltf,...De.gltf};const{byteOffset:kt=0}=De;return yield function yr(Yt,De){return Vr.apply(this,arguments)}({},Yt,kt,De,ct)}),Lt.apply(this,arguments)}var pn=E(28690),Bn=1179937895,hr=1313821514,cr=5130562,kr=!0;function Sr(Yt,De,ct=0,kt={}){const{magic:mn=Bn,version:zn=2,json:ir={},binary:li}=Yt,ji=ct;De&&(De.setUint32(ct+0,mn,kr),De.setUint32(ct+4,zn,kr),De.setUint32(ct+8,0,kr));const ho=ct+8,go=ct+=12;De&&(De.setUint32(ct+0,0,kr),De.setUint32(ct+4,hr,kr)),ct+=8;const Fo=JSON.stringify(ir);if(ct=(0,pn.copyPaddedStringToDataView)(De,ct,Fo,4),De&&De.setUint32(go+0,ct-go-8,kr),li){const ss=ct;De&&(De.setUint32(ct+0,0,kr),De.setUint32(ct+4,cr,kr)),ct=(0,pn.copyPaddedArrayBufferToDataView)(De,ct+=8,li,4),De&&De.setUint32(ss+0,ct-ss-8,kr)}return De&&De.setUint32(ho,ct-ji,kr),ct}function Wr(Yt,De,ct,kt){return function Ur(Yt,{firstBuffer:De=0}={}){if(Yt.buffers&&Yt.buffers.length>De)throw new Error("encodeGLTF: multiple buffers not yet implemented")}(Yt),Sr(Yt,De,ct,kt)}var Ci={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:Tt,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{gltf:{}},encode:function(){var Yt=i(function*(De,ct={}){return Wi(De,ct)});return function(ct){return Yt.apply(this,arguments)}}(),encodeSync:Wi};function Wi(Yt,De={}){const{byteOffset:ct=0}=De,kt=Wr(Yt,null,ct,De),mn=new ArrayBuffer(kt);return Wr(Yt,new DataView(mn),ct,De),mn}var Hn={dataType:null,batchType:null,name:"GLB",id:"glb",module:"gltf",version:Tt,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,parse:function br(Yt,De){return kn.apply(this,arguments)},parseSync:rr,options:{glb:{strict:!1}}};function kn(){return kn=i(function*(Yt,De){return rr(Yt,De)}),kn.apply(this,arguments)}function rr(Yt,De){const{byteOffset:ct=0}=De||{},kt={};return Pe(kt,Yt,ct,De?.glb),kt}var Xr={name:"GLB",id:"glb",module:"gltf",version:Tt,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{glb:{}},encode:function(){var Yt=i(function*(De,ct={}){return mi(De,ct)});return function(ct){return Yt.apply(this,arguments)}}(),encodeSync:mi};function mi(Yt,De){const{byteOffset:ct=0}=De,kt=Sr(Yt,null,ct,De),mn=new ArrayBuffer(kt);return Sr(Yt,new DataView(mn),ct,De),mn}var Yi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Gi={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Yo={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},Ni={10240:9729,10241:9986,10242:10497,10243:10497},Cs=class{constructor(){u(this,"baseUri",""),u(this,"jsonUnprocessed",void 0),u(this,"json",void 0),u(this,"buffers",[]),u(this,"images",[])}postProcess(De,ct={}){const{json:kt,buffers:mn=[],images:zn=[]}=De,{baseUri:ir=""}=De;return M(kt),this.baseUri=ir,this.buffers=mn,this.images=zn,this.jsonUnprocessed=kt,this.json=this._resolveTree(De.json,ct),this.json}_resolveTree(De,ct={}){const kt={...De};return this.json=kt,De.bufferViews&&(kt.bufferViews=De.bufferViews.map((mn,zn)=>this._resolveBufferView(mn,zn))),De.images&&(kt.images=De.images.map((mn,zn)=>this._resolveImage(mn,zn))),De.samplers&&(kt.samplers=De.samplers.map((mn,zn)=>this._resolveSampler(mn,zn))),De.textures&&(kt.textures=De.textures.map((mn,zn)=>this._resolveTexture(mn,zn))),De.accessors&&(kt.accessors=De.accessors.map((mn,zn)=>this._resolveAccessor(mn,zn))),De.materials&&(kt.materials=De.materials.map((mn,zn)=>this._resolveMaterial(mn,zn))),De.meshes&&(kt.meshes=De.meshes.map((mn,zn)=>this._resolveMesh(mn,zn))),De.nodes&&(kt.nodes=De.nodes.map((mn,zn)=>this._resolveNode(mn,zn)),kt.nodes=kt.nodes.map((mn,zn)=>this._resolveNodeChildren(mn))),De.skins&&(kt.skins=De.skins.map((mn,zn)=>this._resolveSkin(mn,zn))),De.scenes&&(kt.scenes=De.scenes.map((mn,zn)=>this._resolveScene(mn,zn))),"number"==typeof this.json.scene&&kt.scenes&&(kt.scene=kt.scenes[this.json.scene]),kt}getScene(De){return this._get(this.json.scenes,De)}getNode(De){return this._get(this.json.nodes,De)}getSkin(De){return this._get(this.json.skins,De)}getMesh(De){return this._get(this.json.meshes,De)}getMaterial(De){return this._get(this.json.materials,De)}getAccessor(De){return this._get(this.json.accessors,De)}getCamera(De){return this._get(this.json.cameras,De)}getTexture(De){return this._get(this.json.textures,De)}getSampler(De){return this._get(this.json.samplers,De)}getImage(De){return this._get(this.json.images,De)}getBufferView(De){return this._get(this.json.bufferViews,De)}getBuffer(De){return this._get(this.json.buffers,De)}_get(De,ct){if("object"==typeof ct)return ct;const kt=De&&De[ct];return kt||console.warn(`glTF file error: Could not find ${De}[${ct}]`),kt}_resolveScene(De,ct){return{...De,id:De.id||`scene-${ct}`,nodes:(De.nodes||[]).map(kt=>this.getNode(kt))}}_resolveNode(De,ct){const kt={...De,id:De?.id||`node-${ct}`};return void 0!==De.mesh&&(kt.mesh=this.getMesh(De.mesh)),void 0!==De.camera&&(kt.camera=this.getCamera(De.camera)),void 0!==De.skin&&(kt.skin=this.getSkin(De.skin)),void 0!==De.meshes&&De.meshes.length&&(kt.mesh=De.meshes.reduce((mn,zn)=>{const ir=this.getMesh(zn);return mn.id=ir.id,mn.primitives=mn.primitives.concat(ir.primitives),mn},{primitives:[]})),kt}_resolveNodeChildren(De){return De.children&&(De.children=De.children.map(ct=>this.getNode(ct))),De}_resolveSkin(De,ct){const kt="number"==typeof De.inverseBindMatrices?this.getAccessor(De.inverseBindMatrices):void 0;return{...De,id:De.id||`skin-${ct}`,inverseBindMatrices:kt}}_resolveMesh(De,ct){const kt={...De,id:De.id||`mesh-${ct}`,primitives:[]};return De.primitives&&(kt.primitives=De.primitives.map(mn=>{const zn={...mn,attributes:{},indices:void 0,material:void 0},ir=mn.attributes;for(const li in ir)zn.attributes[li]=this.getAccessor(ir[li]);return void 0!==mn.indices&&(zn.indices=this.getAccessor(mn.indices)),void 0!==mn.material&&(zn.material=this.getMaterial(mn.material)),zn})),kt}_resolveMaterial(De,ct){const kt={...De,id:De.id||`material-${ct}`};if(kt.normalTexture&&(kt.normalTexture={...kt.normalTexture},kt.normalTexture.texture=this.getTexture(kt.normalTexture.index)),kt.occlusionTexture&&(kt.occlusionTexture={...kt.occlusionTexture},kt.occlusionTexture.texture=this.getTexture(kt.occlusionTexture.index)),kt.emissiveTexture&&(kt.emissiveTexture={...kt.emissiveTexture},kt.emissiveTexture.texture=this.getTexture(kt.emissiveTexture.index)),kt.emissiveFactor||(kt.emissiveFactor=kt.emissiveTexture?[1,1,1]:[0,0,0]),kt.pbrMetallicRoughness){kt.pbrMetallicRoughness={...kt.pbrMetallicRoughness};const mn=kt.pbrMetallicRoughness;mn.baseColorTexture&&(mn.baseColorTexture={...mn.baseColorTexture},mn.baseColorTexture.texture=this.getTexture(mn.baseColorTexture.index)),mn.metallicRoughnessTexture&&(mn.metallicRoughnessTexture={...mn.metallicRoughnessTexture},mn.metallicRoughnessTexture.texture=this.getTexture(mn.metallicRoughnessTexture.index))}return kt}_resolveAccessor(De,ct){const kt=function ws(Yt){return Gi[Yt]}(De.componentType),mn=function Jo(Yt){return Yi[Yt]}(De.type),zn=kt*mn,ir={...De,id:De.id||`accessor-${ct}`,bytesPerComponent:kt,components:mn,bytesPerElement:zn,value:void 0,bufferView:void 0,sparse:void 0};if(void 0!==De.bufferView&&(ir.bufferView=this.getBufferView(De.bufferView)),ir.bufferView){const li=ir.bufferView.buffer,{ArrayType:ji,byteLength:ho}=B(ir,ir.bufferView),go=(ir.bufferView.byteOffset||0)+(ir.byteOffset||0)+li.byteOffset;let Fo=li.arrayBuffer.slice(go,go+ho);ir.bufferView.byteStride&&(Fo=this._getValueFromInterleavedBuffer(li,go,ir.bufferView.byteStride,ir.bytesPerElement,ir.count)),ir.value=new ji(Fo)}return ir}_getValueFromInterleavedBuffer(De,ct,kt,mn,zn){const ir=new Uint8Array(zn*mn);for(let li=0;li<zn;li++){const ji=ct+li*kt;ir.set(new Uint8Array(De.arrayBuffer.slice(ji,ji+mn)),li*mn)}return ir.buffer}_resolveTexture(De,ct){return{...De,id:De.id||`texture-${ct}`,sampler:"number"==typeof De.sampler?this.getSampler(De.sampler):{id:"default-sampler",parameters:Ni},source:"number"==typeof De.source?this.getImage(De.source):void 0}}_resolveSampler(De,ct){const kt={id:De.id||`sampler-${ct}`,...De,parameters:{}};for(const mn in kt){const zn=this._enumSamplerParameter(mn);void 0!==zn&&(kt.parameters[zn]=kt[mn])}return kt}_enumSamplerParameter(De){return Yo[De]}_resolveImage(De,ct){const kt={...De,id:De.id||`image-${ct}`,image:null,bufferView:void 0!==De.bufferView?this.getBufferView(De.bufferView):void 0},mn=this.images[ct];return mn&&(kt.image=mn),kt}_resolveBufferView(De,ct){const kt=De.buffer,mn=this.buffers[kt].arrayBuffer;let zn=this.buffers[kt].byteOffset||0;return De.byteOffset&&(zn+=De.byteOffset),{id:`bufferView-${ct}`,...De,buffer:this.buffers[kt],data:new Uint8Array(mn,zn,De.byteLength)}}_resolveCamera(De,ct){return{...De,id:De.id||`camera-${ct}`}}};function rs(Yt,De){return(new Cs).postProcess(Yt,De)}},14315:(en,Ve,E)=>{"use strict";var We,i=E(31049).default,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,S={};((We,Tt)=>{for(var wn in Tt)u(We,wn,{get:Tt[wn],enumerable:!0})})(S,{ImageLoader:()=>ut,ImageWriter:()=>Kt,getBinaryImageMetadata:()=>T,getDefaultImageType:()=>te,getImageData:()=>H,getImageSize:()=>$,getImageType:()=>Y,getSupportedImageFormats:()=>an,isImage:()=>ae,isImageFormatSupported:()=>xt,isImageTypeSupported:()=>J,loadImage:()=>Jt}),en.exports=(We=S,((We,Tt,wn,In)=>{if(Tt&&"object"==typeof Tt||"function"==typeof Tt)for(let dr of C(Tt))!x.call(We,dr)&&undefined!==dr&&u(We,dr,{get:()=>Tt[dr],enumerable:!(In=f(Tt,dr))||In.enumerable});return We})(u({},"__esModule",{value:!0}),We));var v,U="4.2.1",P=E(28690),y=E(28690),M=null==(v=globalThis.loaders)?void 0:v.parseImageNode,G=typeof Image<"u",K=typeof ImageBitmap<"u",Z=!!y.isBrowser||!!M;function J(We){switch(We){case"auto":return K||G||Z;case"imagebitmap":return K;case"image":return G;case"data":return Z;default:throw new Error(`@loaders.gl/images: image ${We} not supported in this environment`)}}function te(){if(K)return"imagebitmap";if(G)return"image";if(Z)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function ae(We){return!!me(We)}function Y(We){const Tt=me(We);if(!Tt)throw new Error("Not an image");return Tt}function $(We){return H(We)}function H(We){switch(Y(We)){case"data":return We;case"image":case"imagebitmap":const Tt=document.createElement("canvas"),wn=Tt.getContext("2d");if(!wn)throw new Error("getImageData");return Tt.width=We.width,Tt.height=We.height,wn.drawImage(We,0,0),wn.getImageData(0,0,We.width,We.height);default:throw new Error("getImageData")}}function me(We){return typeof ImageBitmap<"u"&&We instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&We instanceof Image?"image":We&&"object"==typeof We&&We.data&&We.width&&We.height?"data":null}var B=/^data:image\/svg\+xml/,ce=/\.svg((\?|#).*)?$/;function Oe(We){return We&&(B.test(We)||ce.test(We))}function qe(We,Tt){if(Oe(Tt))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(We)])}function _e(We,Tt,wn){return ht.apply(this,arguments)}function ht(){return ht=i(function*(We,Tt,wn){const In=function Ue(We,Tt){if(Oe(Tt)){let In=(new TextDecoder).decode(We);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(In=unescape(encodeURIComponent(In)))}catch(sr){throw new Error(sr.message)}return`data:image/svg+xml;base64,${btoa(In)}`}return qe(We,Tt)}(We,wn),dr=self.URL||self.webkitURL,sr="string"!=typeof In&&dr.createObjectURL(In);try{return yield function Bt(We,Tt){return de.apply(this,arguments)}(sr||In,Tt)}finally{sr&&dr.revokeObjectURL(sr)}}),ht.apply(this,arguments)}function de(){return de=i(function*(We,Tt){const wn=new Image;return wn.src=We,Tt.image&&Tt.image.decode&&wn.decode?(yield wn.decode(),wn):yield new Promise((In,dr)=>{try{wn.onload=()=>In(wn),wn.onerror=sr=>{const Gr=sr instanceof Error?sr.message:"error";dr(new Error(Gr))}}catch(sr){dr(sr)}})}),de.apply(this,arguments)}var R={},j=!0;function Ce(){return Ce=i(function*(We,Tt,wn){let In;In=Oe(wn)?yield _e(We,Tt,wn):qe(We,wn);const dr=Tt&&Tt.imagebitmap;return yield function Re(We){return pt.apply(this,arguments)}(In,dr)}),Ce.apply(this,arguments)}function pt(){return pt=i(function*(We,Tt=null){if((function zt(We){for(const Tt in We||R)return!1;return!0}(Tt)||!j)&&(Tt=null),Tt)try{return yield createImageBitmap(We,Tt)}catch(wn){console.warn(wn),j=!1}return yield createImageBitmap(We)}),pt.apply(this,arguments)}var Mn=E(28690);var D=!1,F=!0;function T(We){const Tt=L(We);return function z(We){const Tt=L(We);return Tt.byteLength>=24&&2303741511===Tt.getUint32(0,D)?{mimeType:"image/png",width:Tt.getUint32(16,D),height:Tt.getUint32(20,D)}:null}(Tt)||function Ae(We){const Tt=L(We);if(!(Tt.byteLength>=3&&65496===Tt.getUint16(0,D)&&255===Tt.getUint8(2)))return null;const{tableMarkers:In,sofMarkers:dr}=function se(){const We=new Set([65499,65476,65484,65501,65534]);for(let wn=65504;wn<65520;++wn)We.add(wn);return{tableMarkers:We,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let sr=2;for(;sr+9<Tt.byteLength;){const Gr=Tt.getUint16(sr,D);if(dr.has(Gr))return{mimeType:"image/jpeg",height:Tt.getUint16(sr+5,D),width:Tt.getUint16(sr+7,D)};if(!In.has(Gr))return null;sr+=2,sr+=Tt.getUint16(sr,D)}return null}(Tt)||function p(We){const Tt=L(We);return Tt.byteLength>=10&&1195984440===Tt.getUint32(0,D)?{mimeType:"image/gif",width:Tt.getUint16(6,F),height:Tt.getUint16(8,F)}:null}(Tt)||function I(We){const Tt=L(We);return Tt.byteLength>=14&&16973===Tt.getUint16(0,D)&&Tt.getUint32(2,F)===Tt.byteLength?{mimeType:"image/bmp",width:Tt.getUint32(18,F),height:Tt.getUint32(22,F)}:null}(Tt)||function W(We){const wn=function It(We){return function re(We,Tt,wn=0){const In=function Ot(We){return[...We].map(Tt=>Tt.charCodeAt(0))}(Tt);for(let dr=0;dr<In.length;++dr)if(In[dr]!==We[dr+wn])return!1;return!0}(We,"ftyp",4)&&96&We[8]?function Ne(We){switch(function Xe(We,Tt,wn){return String.fromCharCode(...We.slice(Tt,wn))}(We,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(We):null}(new Uint8Array(We instanceof DataView?We.buffer:We));return wn?{mimeType:wn.mimeType,width:0,height:0}:null}(Tt)}function L(We){if(We instanceof DataView)return We;if(ArrayBuffer.isView(We))return new DataView(We.buffer);if(We instanceof ArrayBuffer)return new DataView(We);throw new Error("toDataView")}function ge(){return ge=i(function*(We,Tt){var wn;const{mimeType:In}=T(We)||{},dr=null==(wn=globalThis.loaders)?void 0:wn.parseImageNode;return(0,Mn.assert)(dr),yield dr(We,In)}),ge.apply(this,arguments)}function Pt(){return Pt=i(function*(We,Tt,wn){const dr=((Tt=Tt||{}).image||{}).type||"auto",{url:sr}=wn||{},Gr=function Rt(We){switch(We){case"auto":case"data":return te();default:return J(We),We}}(dr);let hi;switch(Gr){case"imagebitmap":hi=yield function he(We,Tt,wn){return Ce.apply(this,arguments)}(We,Tt,sr);break;case"image":hi=yield _e(We,Tt,sr);break;case"data":hi=yield function ve(We,Tt){return ge.apply(this,arguments)}(We,Tt);break;default:(0,P.assert)(!1)}return"data"===dr&&(hi=H(hi)),hi}),Pt.apply(this,arguments)}var jt,ut={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:U,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function et(We,Tt,wn){return Pt.apply(this,arguments)},tests:[We=>!!T(new DataView(We))],options:{image:{type:"auto",decode:!0}}},gn=null==(jt=globalThis.loaders)?void 0:jt.encodeImageNode;function bt(){return bt=i(function*(We,Tt){return(Tt=Tt||{}).image=Tt.image||{},gn?gn(We,{type:Tt.image.mimeType}):function ye(We,Tt){return mt.apply(this,arguments)}(We,Tt)}),bt.apply(this,arguments)}var He=!0;function mt(){return mt=i(function*(We,Tt){const{mimeType:wn,jpegQuality:In}=Tt.image,{width:dr,height:sr}=$(We),Gr=document.createElement("canvas");Gr.width=dr,Gr.height=sr,function rt(We,Tt,wn=0,In=0){if(0===wn&&0===In&&typeof ImageBitmap<"u"&&We instanceof ImageBitmap){const sr=Tt.getContext("bitmaprenderer");if(sr)return sr.transferFromImageBitmap(We),Tt}const dr=Tt.getContext("2d");if(We.data){const sr=new Uint8ClampedArray(We.data),Gr=new ImageData(sr,We.width,We.height);return dr.putImageData(Gr,0,0),Tt}dr.drawImage(We,0,0)}(We,Gr);const hi=yield new Promise(Ei=>{if(In&&He)try{return void Gr.toBlob(Ei,wn,In)}catch{He=!1}Gr.toBlob(Ei,wn)});if(!hi)throw new Error("image encoding failed");return yield hi.arrayBuffer()}),mt.apply(this,arguments)}var Kt={name:"Images",id:"image",module:"images",version:U,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:function lt(We,Tt){return bt.apply(this,arguments)}},Dn=E(28690),Jn=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/tiff","image/svg","image/svg+xml","image/bmp","image/vnd.microsoft.icon"],lr=null;function an(){return At.apply(this,arguments)}function At(){return At=i(function*(){if(lr)return yield lr;const We=new Set;for(const Tt of Jn)(Dn.isBrowser?yield Ye(Tt):gt(Tt))&&We.add(Tt);return We}),At.apply(this,arguments)}var Et={};function xt(We){if(void 0===Et[We]){const Tt=Dn.isBrowser?function tn(We){switch(We){case"image/avif":case"image/webp":return function En(We){try{return 0===document.createElement("canvas").toDataURL(We).indexOf(`data:${We}`)}catch{return!1}}(We);default:return!0}}(We):gt(We);Et[We]=Tt}return Et[We]}function gt(We){var Tt,wn;const dr=(null==(Tt=globalThis.loaders)?void 0:Tt.imageFormatsNode)||["image/png","image/jpeg","image/gif"];return!!(null==(wn=globalThis.loaders)?void 0:wn.parseImageNode)&&dr.includes(We)}var Xt={"image/avif":"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=","image/webp":"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"};function Ye(We){return Vt.apply(this,arguments)}function Vt(){return Vt=i(function*(We){const Tt=Xt[We];return!Tt||(yield function it(We){return ke.apply(this,arguments)}(Tt))}),Vt.apply(this,arguments)}function ke(){return ke=i(function*(We){return new Promise(Tt=>{const wn=new Image;wn.src=We,wn.onload=()=>Tt(wn.height>0),wn.onerror=()=>Tt(!1)})}),ke.apply(this,arguments)}function Jt(){throw new Error("loadImage has moved to @loaders.gl/textures")}},28690:(en,Ve,E)=>{"use strict";var $n,i=E(15985).default,u=E(31049).default,f=E(47604).default,C=E(88322).default,x=E(57909).default,w=Object.defineProperty,d=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,P=($n,fn)=>{for(var ze in fn)w($n,ze,{get:fn[ze],enumerable:!0})},M=($n,fn,ze)=>((($n,fn,ze)=>{fn in $n?w($n,fn,{enumerable:!0,configurable:!0,writable:!0,value:ze}):$n[fn]=ze})($n,"symbol"!=typeof fn?fn+"":fn,ze),ze),G={};function K($n,fn,ze,Dt){return V.apply(this,arguments)}function V(){return V=u(function*($n,fn,ze,Dt){return Dt._parse($n,fn,ze,Dt)}),V.apply(this,arguments)}function Z($n,fn,ze,Dt){if(!Dt._parseSync)throw new Error("parseSync");return Dt._parseSync($n,fn,ze,Dt)}function J($n,fn,ze,Dt){return te.apply(this,arguments)}function te(){return te=u(function*($n,fn,ze,Dt){if(!Dt._parseInBatches)throw new Error("parseInBatches");return Dt._parseInBatches($n,fn,ze,Dt)}),te.apply(this,arguments)}function ae($n,fn){if(!$n)throw new Error(fn||"loader assertion failed.")}P(G,{BlobFile:()=>un,DataSource:()=>wo,DataViewFile:()=>so,FileHandleFile:()=>ai,HttpFile:()=>fr,ImageSource:()=>Vo,JSONLoader:()=>Gr,NodeFile:()=>zr,NodeFilesystem:()=>Ti,RequestScheduler:()=>ke,_addAliases:()=>In,assert:()=>ae,canEncodeWithWorker:()=>I,canParseWithWorker:()=>D,checkJSModule:()=>j,compareArrayBuffers:()=>ve,concatenateArrayBuffers:()=>ge,concatenateArrayBuffersAsync:()=>Et,concatenateArrayBuffersFromArray:()=>et,concatenateTypedArrays:()=>Pt,copyArrayBuffer:()=>je,copyBinaryToDataView:()=>gn,copyPaddedArrayBufferToDataView:()=>lt,copyPaddedStringToDataView:()=>bt,copyStringToDataView:()=>jt,copyToArray:()=>Ht,createLoaderWorker:()=>zt,document:()=>B,forEach:()=>an,getFirstCharacters:()=>Ae,getJSModule:()=>he,getJSModuleOrNull:()=>Ce,getMagicString:()=>se,getPathPrefix:()=>wn,global:()=>me,isBrowser:()=>ce,isBuffer:()=>co,isFileProvider:()=>ni,isWorker:()=>Oe,log:()=>ht,makeLineIterator:()=>Kt,makeNumberedLineIterator:()=>Jn,makeTextDecoderIterator:()=>He,makeTextEncoderIterator:()=>mt,mergeLoaderOptions:()=>Bt,nodeVersion:()=>qe,padStringToByteAlignment:()=>ut,padToNBytes:()=>ln,parseFromContext:()=>K,parseInBatchesFromContext:()=>J,parseJSON:()=>L,parseSyncFromContext:()=>Z,parseWithWorker:()=>F,path:()=>Li,promisify1:()=>ti,promisify2:()=>mr,registerJSModules:()=>R,resolvePath:()=>dr,self:()=>$,setPathPrefix:()=>Tt,sliceArrayBuffer:()=>Rt,stream:()=>Be,toArrayBuffer:()=>Pi,toBuffer:()=>uo,window:()=>H}),en.exports=($n=G,(($n,fn,ze,Dt)=>{if(fn&&"object"==typeof fn||"function"==typeof fn)for(let sn of k(fn))!S.call($n,sn)&&undefined!==sn&&w($n,sn,{get:()=>fn[sn],enumerable:!(Dt=d(fn,sn))||Dt.enumerable});return $n})(w({},"__esModule",{value:!0}),$n));var Y={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},$=Y.self||Y.window||Y.global||{},H=Y.window||Y.self||Y.global||{},me=Y.global||Y.self||Y.window||{},B=Y.document||{},ce=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),Oe="function"==typeof importScripts,Ue=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),qe=Ue&&parseFloat(Ue[1])||0,ht=new(E(69243).Log)({id:"loaders.gl"});function Bt($n,fn){return de($n||{},fn)}function de($n,fn,ze=0){if(ze>3)return fn;const Dt={...$n};for(const[sn,Wn]of Object.entries(fn))Dt[sn]=Wn&&"object"==typeof Wn&&!Array.isArray(Wn)?de(Dt[sn]||{},fn[sn],ze+1):fn[sn];return Dt}function R($n){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,$n)}function j($n,fn){var ze,Dt;(null==(Dt=null==(ze=globalThis.loaders)?void 0:ze.modules)?void 0:Dt[$n])||ht.warn(`${fn}: ${$n} library not installed`)()}function he($n,fn){var ze,Dt;const sn=null==(Dt=null==(ze=globalThis.loaders)?void 0:ze.modules)?void 0:Dt[$n];if(!sn)throw new Error(`${fn}: ${$n} library not installed`);return sn}function Ce($n){var fn,ze;return(null==(ze=null==(fn=globalThis.loaders)?void 0:fn.modules)?void 0:ze[$n])||null}var Re=E(13827),pt=0;function zt($n){return Mn.apply(this,arguments)}function Mn(){return Mn=u(function*($n){(yield Re.WorkerBody.inWorkerThread())&&(Re.WorkerBody.onmessage=function(){var fn=u(function*(ze,Dt){if("process"===ze)try{const{input:sn,options:Wn={},context:Ir={}}=Dt,Zr=yield function Ne($n){return Xe.apply(this,arguments)}({loader:$n,arrayBuffer:sn,options:Wn,context:{...Ir,_parse:It}});Re.WorkerBody.postMessage("done",{result:Zr})}catch(sn){const Wn=sn instanceof Error?sn.message:"";Re.WorkerBody.postMessage("error",{error:Wn})}});return function(ze,Dt){return fn.apply(this,arguments)}}())}),Mn.apply(this,arguments)}function It($n,fn,ze,Dt){return new Promise((sn,Wn)=>{const Ir=pt++,Zr=(Hi,_o)=>{if(_o.id===Ir)switch(Hi){case"done":Re.WorkerBody.removeEventListener(Zr),sn(_o.result);break;case"error":Re.WorkerBody.removeEventListener(Zr),Wn(_o.error)}};Re.WorkerBody.addEventListener(Zr),Re.WorkerBody.postMessage("process",{id:Ir,input:$n,options:ze})})}function Xe(){return Xe=u(function*({loader:$n,arrayBuffer:fn,options:ze,context:Dt}){let sn,Wn;if($n.parseSync||$n.parse)sn=fn,Wn=$n.parseSync||$n.parse;else{if(!$n.parseTextSync)throw new Error(`Could not load data with ${$n.name} loader`);sn=(new TextDecoder).decode(fn),Wn=$n.parseTextSync}return ze={...ze,modules:$n&&$n.options&&$n.options.modules||{},worker:!1},yield Wn(sn,{...ze},Dt,$n)}),Xe.apply(this,arguments)}var Ot=E(13827),re=E(13827);function D($n,fn){return!(!re.WorkerFarm.isSupported()||!Ot.isBrowser&&!fn?._nodeWorkers)&&$n.worker&&fn?.worker}function F($n,fn,ze,Dt,sn){return T.apply(this,arguments)}function T(){return T=u(function*($n,fn,ze,Dt,sn){const Wn=$n.id,Ir=(0,re.getWorkerURL)($n,ze),io=re.WorkerFarm.getWorkerFarm(ze).getWorkerPool({name:Wn,url:Ir});ze=JSON.parse(JSON.stringify(ze)),Dt=JSON.parse(JSON.stringify(Dt||{}));const Hi=yield io.startJob("process-on-worker",W.bind(null,sn));return Hi.postMessage("process",{input:fn,options:ze,context:Dt}),yield(yield Hi.result).result}),T.apply(this,arguments)}function W($n,fn,ze,Dt){return z.apply(this,arguments)}function z(){return z=u(function*($n,fn,ze,Dt){switch(ze){case"done":fn.done(Dt);break;case"error":fn.error(new Error(Dt.error));break;case"process":const{id:sn,input:Wn,options:Ir}=Dt;try{const Zr=yield $n(Wn,Ir);fn.postMessage("done",{id:sn,result:Zr})}catch(Zr){const io=Zr instanceof Error?Zr.message:"unknown error";fn.postMessage("error",{id:sn,error:io})}break;default:console.warn(`parse-with-worker unknown message ${ze}`)}}),z.apply(this,arguments)}var p=E(13827);function I($n,fn){return!(!p.WorkerFarm.isSupported()||!ce&&!fn?._nodeWorkers)&&$n.worker&&fn?.worker}function Ae($n,fn=5){return"string"==typeof $n?$n.slice(0,fn):ArrayBuffer.isView($n)?se($n.buffer,$n.byteOffset,fn):$n instanceof ArrayBuffer?se($n,0,fn):""}function se($n,fn,ze){if($n.byteLength<=fn+ze)return"";const Dt=new DataView($n);let sn="";for(let Wn=0;Wn<ze;Wn++)sn+=String.fromCharCode(Dt.getUint8(fn+Wn));return sn}function L($n){try{return JSON.parse($n)}catch{throw new Error(`Failed to parse JSON from data starting with "${Ae($n)}"`)}}function ve($n,fn,ze){if($n.byteLength<(ze=ze||$n.byteLength)||fn.byteLength<ze)return!1;const Dt=new Uint8Array($n),sn=new Uint8Array(fn);for(let Wn=0;Wn<Dt.length;++Wn)if(Dt[Wn]!==sn[Wn])return!1;return!0}function ge(...$n){return et($n)}function et($n){const fn=$n.map(Wn=>Wn instanceof ArrayBuffer?new Uint8Array(Wn):Wn),ze=fn.reduce((Wn,Ir)=>Wn+Ir.byteLength,0),Dt=new Uint8Array(ze);let sn=0;for(const Wn of fn)Dt.set(Wn,sn),sn+=Wn.byteLength;return Dt.buffer}function Pt(...$n){const fn=$n,ze=fn&&fn.length>1&&fn[0].constructor||null;if(!ze)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');const sn=new ze(fn.reduce((Ir,Zr)=>Ir+Zr.length,0));let Wn=0;for(const Ir of fn)sn.set(Ir,Wn),Wn+=Ir.length;return sn}function Rt($n,fn,ze){const Dt=void 0!==ze?new Uint8Array($n).subarray(fn,fn+ze):new Uint8Array($n).subarray(fn);return new Uint8Array(Dt).buffer}function ln($n,fn){return ae($n>=0),ae(fn>0),$n+(fn-1)&~(fn-1)}function je($n,fn,ze,Dt=fn.byteLength){const sn=new Uint8Array($n,ze,Dt),Wn=new Uint8Array(fn);return sn.set(Wn),$n}function Ht($n,fn,ze){let Dt;return Dt=$n instanceof ArrayBuffer?new Uint8Array($n):new Uint8Array($n.buffer||$n.arrayBuffer,$n.byteOffset,$n.byteLength),fn.set(Dt,ze),ze+ln(Dt.byteLength,4)}function ut($n,fn){const ze=$n.length,sn=Math.ceil(ze/fn)*fn-ze;let Wn="";for(let Ir=0;Ir<sn;++Ir)Wn+=" ";return $n+Wn}function jt($n,fn,ze,Dt){if($n)for(let sn=0;sn<Dt;sn++)$n.setUint8(fn+sn,ze.charCodeAt(sn));return fn+Dt}function gn($n,fn,ze,Dt){if($n)for(let sn=0;sn<Dt;sn++)$n.setUint8(fn+sn,ze[sn]);return fn+Dt}function lt($n,fn,ze,Dt){const sn=ln(ze.byteLength,Dt),Wn=sn-ze.byteLength;if($n){const Ir=new Uint8Array($n.buffer,$n.byteOffset+fn,ze.byteLength),Zr=new Uint8Array(ze);Ir.set(Zr);for(let io=0;io<Wn;++io)$n.setUint8(fn+ze.byteLength+io,32)}return fn+sn}function bt($n,fn,ze,Dt){return lt($n,fn,(new TextEncoder).encode(ze),Dt)}function He($n){return ye.apply(this,arguments)}function ye(){return ye=C(function*($n,fn={}){const ze=new TextDecoder(void 0,fn);var Wn,Dt=!1,sn=!1;try{for(var Zr,Ir=x($n);Dt=!(Zr=yield f(Ir.next())).done;Dt=!1){const io=Zr.value;yield"string"==typeof io?io:ze.decode(io,{stream:!0})}}catch(io){sn=!0,Wn=io}finally{try{Dt&&null!=Ir.return&&(yield f(Ir.return()))}finally{if(sn)throw Wn}}}),ye.apply(this,arguments)}function mt($n){return rt.apply(this,arguments)}function rt(){return rt=C(function*($n){const fn=new TextEncoder;var sn,ze=!1,Dt=!1;try{for(var Ir,Wn=x($n);ze=!(Ir=yield f(Wn.next())).done;ze=!1){const Zr=Ir.value;yield"string"==typeof Zr?fn.encode(Zr):Zr}}catch(Zr){Dt=!0,sn=Zr}finally{try{ze&&null!=Wn.return&&(yield f(Wn.return()))}finally{if(Dt)throw sn}}}),rt.apply(this,arguments)}function Kt($n){return Dn.apply(this,arguments)}function Dn(){return Dn=C(function*($n){let fn="";var sn,ze=!1,Dt=!1;try{for(var Ir,Wn=x($n);ze=!(Ir=yield f(Wn.next())).done;ze=!1){let io;for(fn+=Ir.value;(io=fn.indexOf("\n"))>=0;){const Hi=fn.slice(0,io+1);fn=fn.slice(io+1),yield Hi}}}catch(Zr){Dt=!0,sn=Zr}finally{try{ze&&null!=Wn.return&&(yield f(Wn.return()))}finally{if(Dt)throw sn}}fn.length>0&&(yield fn)}),Dn.apply(this,arguments)}function Jn($n){return lr.apply(this,arguments)}function lr(){return lr=C(function*($n){let fn=1;var sn,ze=!1,Dt=!1;try{for(var Ir,Wn=x($n);ze=!(Ir=yield f(Wn.next())).done;ze=!1){const Zr=Ir.value;yield{counter:fn,line:Zr},fn++}}catch(Zr){Dt=!0,sn=Zr}finally{try{ze&&null!=Wn.return&&(yield f(Wn.return()))}finally{if(Dt)throw sn}}}),lr.apply(this,arguments)}function an($n,fn){return At.apply(this,arguments)}function At(){return At=u(function*($n,fn){for(;;){const{done:ze,value:Dt}=yield $n.next();if(ze)return void $n.return();if(fn(Dt))return}}),At.apply(this,arguments)}function Et($n){return xt.apply(this,arguments)}function xt(){return xt=u(function*($n){const fn=[];var sn,ze=!1,Dt=!1;try{for(var Ir,Wn=x($n);ze=!(Ir=yield Wn.next()).done;ze=!1)fn.push(Ir.value)}catch(Zr){Dt=!0,sn=Zr}finally{try{ze&&null!=Wn.return&&(yield Wn.return())}finally{if(Dt)throw sn}}return ge(...fn)}),xt.apply(this,arguments)}var gt=E(750),it={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0},ke=class{constructor(fn={}){i(this,"props",void 0),i(this,"stats",void 0),i(this,"activeRequestCount",0),i(this,"requestQueue",[]),i(this,"requestMap",new Map),i(this,"updateTimer",null),this.props={...it,...fn},this.stats=new gt.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(fn,ze=(()=>0)){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(fn))return this.requestMap.get(fn);const Dt={handle:fn,priority:0,getPriority:ze},sn=new Promise(Wn=>(Dt.resolve=Wn,Dt));return this.requestQueue.push(Dt),this.requestMap.set(fn,sn),this._issueNewRequests(),sn}_issueRequest(fn){const{handle:ze,resolve:Dt}=fn;let sn=!1;const Wn=()=>{sn||(sn=!0,this.requestMap.delete(ze),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,Dt?Dt({done:Wn}):Promise.resolve({done:Wn})}_issueNewRequests(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>this._issueNewRequestsAsync(),this.props.debounceTime)}_issueNewRequestsAsync(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=null;const fn=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==fn){this._updateAllRequests();for(let ze=0;ze<fn;++ze){const Dt=this.requestQueue.shift();Dt&&this._issueRequest(Dt)}}}_updateAllRequests(){const fn=this.requestQueue;for(let ze=0;ze<fn.length;++ze){const Dt=fn[ze];this._updateRequest(Dt)||(fn.splice(ze,1),this.requestMap.delete(Dt.handle),ze--)}fn.sort((ze,Dt)=>ze.priority-Dt.priority)}_updateRequest(fn){return fn.priority=fn.getPriority(fn.handle),!(fn.priority<0&&(fn.resolve(null),1))}},Jt="",We={};function Tt($n){Jt=$n}function wn(){return Jt}function In($n){Object.assign(We,$n)}function dr($n){for(const fn in We)$n.startsWith(fn)&&($n=$n.replace(fn,We[fn]));return!$n.startsWith("http://")&&!$n.startsWith("https://")&&($n=`${Jt}${$n}`),$n}var Gr={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:"4.2.1",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:hi,parse:function(){var $n=u(function*(fn){return hi((new TextDecoder).decode(fn))});return function(ze){return $n.apply(this,arguments)}}(),options:{}};function hi($n){return JSON.parse($n)}function fi($n){throw new Error("Buffer not supported in browser")}function co($n){return $n&&"object"==typeof $n&&$n.isBuffer}function uo($n){return fi?fi():$n}function Pi($n){if(co($n))return $n;if($n instanceof ArrayBuffer)return $n;if(ArrayBuffer.isView($n))return 0===$n.byteOffset&&$n.byteLength===$n.buffer.byteLength?$n.buffer:$n.buffer.slice($n.byteOffset,$n.byteOffset+$n.byteLength);if("string"==typeof $n){const fn=$n;return(new TextEncoder).encode(fn).buffer}if($n&&"object"==typeof $n&&$n._toArrayBuffer)return $n._toArrayBuffer();throw new Error("toArrayBuffer")}function ti($n){return fn=>new Promise((ze,Dt)=>$n(fn,(sn,Wn)=>sn?Dt(sn):ze(Wn)))}function mr($n){return(fn,ze)=>new Promise((Dt,sn)=>$n(fn,ze,(Wn,Ir)=>Wn?sn(Wn):Dt(Ir)))}var Li={};function ro(){var $n;if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();const fn=null==($n=window.location)?void 0:$n.pathname;return fn?.slice(0,fn.lastIndexOf("/")+1)||""}function Pe($n){const fn=$n?$n.lastIndexOf("/"):-1;return fn>=0?$n.substr(fn+1):""}function dt($n){const fn=$n?$n.lastIndexOf("/"):-1;return fn>=0?$n.substr(0,fn):""}function vn(...$n){return($n=$n.map((ze,Dt)=>(Dt&&(ze=ze.replace(new RegExp("^/"),"")),Dt!==$n.length-1&&(ze=ze.replace(new RegExp("/$"),"")),ze))).join("/")}function bn(...$n){const fn=[];for(let Wn=0;Wn<$n.length;Wn++)fn[Wn]=$n[Wn];let sn,ze="",Dt=!1;for(let Wn=fn.length-1;Wn>=-1&&!Dt;Wn--){let Ir;Wn>=0?Ir=fn[Wn]:(void 0===sn&&(sn=ro()),Ir=sn),0!==Ir.length&&(ze=`${Ir}/${ze}`,Dt=Ir.charCodeAt(0)===Gn)}return ze=function er($n,fn){let Wn,ze="",Dt=-1,sn=0,Ir=!1;for(let Zr=0;Zr<=$n.length;++Zr){if(Zr<$n.length)Wn=$n.charCodeAt(Zr);else{if(Wn===Gn)break;Wn=Gn}if(Wn===Gn){if(Dt!==Zr-1&&1!==sn)if(Dt!==Zr-1&&2===sn){if(ze.length<2||!Ir||ze.charCodeAt(ze.length-1)!==nr||ze.charCodeAt(ze.length-2)!==nr)if(ze.length>2){const io=ze.length-1;let Hi=io;for(;Hi>=0&&ze.charCodeAt(Hi)!==Gn;--Hi);if(Hi!==io){ze=-1===Hi?"":ze.slice(0,Hi),Dt=Zr,sn=0,Ir=!1;continue}}else if(2===ze.length||1===ze.length){ze="",Dt=Zr,sn=0,Ir=!1;continue}fn&&(ze.length>0?ze+="/..":ze="..",Ir=!0)}else{const io=$n.slice(Dt+1,Zr);ze.length>0?ze+=`/${io}`:ze=io,Ir=!1}Dt=Zr,sn=0}else Wn===nr&&-1!==sn?++sn:sn=-1}return ze}(ze,!Dt),Dt?`/${ze}`:ze.length>0?ze:"."}P(Li,{dirname:()=>dt,filename:()=>Pe,join:()=>vn,resolve:()=>bn});var Gn=47,nr=46,Be={};P(Be,{isSupported:()=>tt});var tt=!1,un=class{constructor(fn){i(this,"handle",void 0),i(this,"size",void 0),i(this,"bigsize",void 0),i(this,"url",void 0),this.handle=fn instanceof ArrayBuffer?new Blob([fn]):fn,this.size=fn instanceof ArrayBuffer?fn.byteLength:fn.size,this.bigsize=BigInt(this.size),this.url=fn instanceof File?fn.name:""}close(){return u(function*(){})()}stat(){var fn=this;return u(function*(){return{size:fn.handle.size,bigsize:BigInt(fn.handle.size),isDirectory:!1}})()}read(fn,ze){var Dt=this;return u(function*(){return yield Dt.handle.slice(fn,fn+ze).arrayBuffer()})()}},fr=class{constructor(fn){i(this,"handle",void 0),i(this,"size",0),i(this,"bigsize",0n),i(this,"url",void 0),this.handle=fn,this.url=fn}close(){return u(function*(){})()}stat(){var fn=this;return u(function*(){const ze=yield fetch(fn.handle,{method:"HEAD"});if(!ze.ok)throw new Error(`Failed to fetch HEAD ${fn.handle}`);const Dt=parseInt(ze.headers.get("Content-Length")||"0");return{size:Dt,bigsize:BigInt(Dt),isDirectory:!1}})()}read(fn,ze){var Dt=this;return u(function*(){return yield(yield Dt.fetchRange(fn,ze)).arrayBuffer()})()}fetchRange(fn,ze,Dt){var sn=this;return u(function*(){const Wn=Number(fn),Ir=Number(ze);let Zr;Dt||(Zr=new AbortController,Dt=Zr.signal);const io=sn.handle;let Hi=yield fetch(io,{signal:Dt,headers:{Range:`bytes=${Wn}-${Wn+Ir-1}`}});switch(Hi.status){case 206:break;case 200:const _o=Hi.headers.get("Content-Length");if(!_o||Number(_o)>ze)throw Zr&&Zr.abort(),Error("content-length header missing or exceeding request. Server must support HTTP Byte Serving.");case 416:if(0===fn){const Co=Hi.headers.get("Content-Range");if(!Co||!Co.startsWith("bytes *"))throw Error("Missing content-length on 416 response");const Ro=Number(Co.substr(8));Hi=yield fetch(sn.url,{signal:Dt,headers:{Range:"bytes=0-"+(Ro-1)}})}break;default:if(Hi.status>=300)throw Error(`Bad response code: ${Hi.status}`)}return Hi})()}},Ar=new Error("Not implemented"),zr=class{constructor(fn,ze,Dt){var sn;if(i(this,"handle",void 0),i(this,"size",0),i(this,"bigsize",0n),i(this,"url",""),null!=(sn=globalThis.loaders)&&sn.NodeFile)return new globalThis.loaders.NodeFile(fn,ze,Dt);throw ce?new Error("Can't instantiate NodeFile in browser."):new Error("Can't instantiate NodeFile. Make sure to import @loaders.gl/polyfills first.")}read(fn,ze){return u(function*(){throw Ar})()}write(fn,ze,Dt){return u(function*(){throw Ar})()}stat(){return u(function*(){throw Ar})()}truncate(fn){return u(function*(){throw Ar})()}append(fn){return u(function*(){throw Ar})()}close(){return u(function*(){})()}},si=new Error("Not implemented"),Ti=class{constructor(fn){var ze;if(i(this,"readable",!0),i(this,"writable",!0),null!=(ze=globalThis.loaders)&&ze.NodeFileSystem)return new globalThis.loaders.NodeFileSystem(fn);throw ce?new Error("Can't instantiate NodeFileSystem in browser."):new Error("Can't instantiate NodeFileSystem. Make sure to import @loaders.gl/polyfills first.")}openReadableFile(fn,ze){return u(function*(){throw si})()}openWritableFile(fn,ze,Dt){return u(function*(){throw si})()}readdir(fn=".",ze){return u(function*(){throw si})()}stat(fn,ze){return u(function*(){throw si})()}unlink(fn){return u(function*(){throw si})()}fetch(fn,ze){return u(function*(){throw si})()}},ni=$n=>$n?.getUint8&&$n?.slice&&$n?.length,ai=class{constructor(fn,ze=!1){i(this,"file",void 0),this.file=new zr(fn,ze?"a+":"r")}truncate(fn){var ze=this;return u(function*(){yield ze.file.truncate(fn)})()}append(fn){var ze=this;return u(function*(){yield ze.file.append(fn)})()}destroy(){var fn=this;return u(function*(){yield fn.file.close()})()}getUint8(fn){var ze=this;return u(function*(){const Dt=yield ze.file.read(fn,1),sn=new Uint8Array(Dt).at(0);if(void 0===sn)throw new Error("something went wrong");return sn})()}getUint16(fn){var ze=this;return u(function*(){const Dt=yield ze.file.read(fn,2),sn=new Uint16Array(Dt).at(0);if(void 0===sn)throw new Error("something went wrong");return sn})()}getUint32(fn){var ze=this;return u(function*(){const Dt=yield ze.file.read(fn,4),sn=new Uint32Array(Dt).at(0);if(void 0===sn)throw new Error("something went wrong");return sn})()}getBigUint64(fn){var ze=this;return u(function*(){const Dt=yield ze.file.read(fn,8),sn=new BigInt64Array(Dt).at(0);if(void 0===sn)throw new Error("something went wrong");return sn})()}slice(fn,ze){var Dt=this;return u(function*(){const sn=ze-fn;if(sn>Number.MAX_SAFE_INTEGER)throw new Error("too big slice");const Wn=Number(sn);return yield Dt.file.read(fn,Wn)})()}get length(){return this.file.bigsize}},Oi=$n=>{if($n>Number.MAX_SAFE_INTEGER)throw new Error("Offset is out of bounds");return Number($n)},so=class{constructor(fn){i(this,"file",void 0),this.file=fn}destroy(){return u(function*(){})()}getUint8(fn){var ze=this;return u(function*(){return ze.file.getUint8(Oi(fn))})()}getUint16(fn){var ze=this;return u(function*(){return ze.file.getUint16(Oi(fn),!0)})()}getUint32(fn){var ze=this;return u(function*(){return ze.file.getUint32(Oi(fn),!0)})()}getBigUint64(fn){var ze=this;return u(function*(){return ze.file.getBigUint64(Oi(fn),!0)})()}slice(fn,ze){var Dt=this;return u(function*(){return Dt.file.buffer.slice(Oi(fn),Oi(ze))})()}get length(){return BigInt(this.file.byteLength)}},wo=class{constructor(fn){i(this,"fetch",void 0),i(this,"loadOptions",void 0),i(this,"_needsRefresh",!0),i(this,"props",void 0),this.props={...fn},this.loadOptions={...fn.loadOptions},this.fetch=function eo($n){const fn=$n?.fetch;if(fn&&"function"==typeof fn)return(Dt,sn)=>fn(Dt,sn);const ze=$n?.fetch;return ze&&"function"!=typeof ze?Dt=>fetch(Dt,ze):Dt=>fetch(Dt)}(this.loadOptions)}setProps(fn){this.props=Object.assign(this.props,fn),this.setNeedsRefresh()}setNeedsRefresh(){this._needsRefresh=!0}getNeedsRefresh(fn=!0){const ze=this._needsRefresh;return fn&&(this._needsRefresh=!1),ze}},Vo=class extends wo{};M(Vo,"type","template"),M(Vo,"testURL",$n=>!1)},47526:(en,Ve,E)=>{"use strict";var Be,i=E(31049).default,u=E(15985).default,f=E(57909).default,C=Object.defineProperty,x=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,v={};((Be,tt)=>{for(var un in tt)C(Be,un,{get:tt[un],enumerable:!0})})(v,{ArrowLikeDataType:()=>mt,ArrowLikeField:()=>pt,ArrowLikeSchema:()=>zt,ArrowLikeTable:()=>p,AsyncQueue:()=>er,Binary:()=>ke,Bool:()=>Kt,ColumnarTableBatchAggregator:()=>$,Date:()=>Tt,DateDay:()=>wn,DateMillisecond:()=>In,FixedSizeList:()=>Pe,Float:()=>Ye,Float16:()=>Vt,Float32:()=>En,Float64:()=>it,Int:()=>Dn,Int16:()=>lr,Int32:()=>an,Int64:()=>At,Int8:()=>Jn,Interval:()=>mr,IntervalDayTime:()=>Li,IntervalYearMonth:()=>ro,Null:()=>rt,RowTableBatchAggregator:()=>ae,Struct:()=>dt,TableBatchBuilder:()=>ce,Time:()=>sr,TimeMillisecond:()=>hi,TimeSecond:()=>Gr,Timestamp:()=>Ei,TimestampMicrosecond:()=>uo,TimestampMillisecond:()=>co,TimestampNanosecond:()=>Pi,TimestampSecond:()=>fi,Uint16:()=>xt,Uint32:()=>gt,Uint64:()=>tn,Uint8:()=>Et,Utf8:()=>Jt,convertTable:()=>Pt,convertToArrayRow:()=>V,convertToObjectRow:()=>K,deduceMeshField:()=>lt,deduceMeshSchema:()=>gn,deduceTableSchema:()=>re,getDataTypeFromArray:()=>Ne,getMeshBoundingBox:()=>jt,getMeshSize:()=>ut,getTableCell:()=>_e,getTableColumnIndex:()=>Bt,getTableColumnName:()=>de,getTableLength:()=>Ue,getTableNumCols:()=>qe,getTableRowAsArray:()=>j,getTableRowAsObject:()=>R,getTableRowShape:()=>ht,getTypeInfo:()=>vn,isTable:()=>Oe,makeArrayRowIterator:()=>Ce,makeBatchFromTable:()=>L,makeMeshAttributeMetadata:()=>He,makeObjectRowIterator:()=>Re,makeRowIterator:()=>he,makeTableFromBatches:()=>ve,makeTableFromData:()=>I}),en.exports=(Be=v,((Be,tt,un,fr)=>{if(tt&&"object"==typeof tt||"function"==typeof tt)for(let Ar of w(tt))!d.call(Be,Ar)&&undefined!==Ar&&C(Be,Ar,{get:()=>tt[Ar],enumerable:!(fr=x(tt,Ar))||fr.enumerable});return Be})(C({},"__esModule",{value:!0}),Be));var G=class{constructor(tt,un){if(u(this,"schema",void 0),u(this,"options",void 0),u(this,"shape",void 0),u(this,"length",0),u(this,"rows",null),u(this,"cursor",0),u(this,"_headers",[]),this.options=un,this.schema=tt,!Array.isArray(tt)){this._headers=[];for(const fr in tt)this._headers[tt[fr].index]=tt[fr].name}}rowCount(){return this.length}addArrayRow(tt,un){Number.isFinite(un)&&(this.cursor=un),this.shape="array-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=tt,this.length++}addObjectRow(tt,un){Number.isFinite(un)&&(this.cursor=un),this.shape="object-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=tt,this.length++}getBatch(){let tt=this.rows;return tt?(tt=tt.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:tt,length:this.length,schema:this.schema,cursor:this.cursor}):null}};function K(Be,tt){if(!Be)throw new Error("null row");const un={};if(tt)for(let fr=0;fr<tt.length;fr++)un[tt[fr]]=Be[fr];else for(let fr=0;fr<Be.length;fr++)un[`column-${fr}`]=Be[fr];return un}function V(Be,tt){if(!Be)throw new Error("null row");if(tt){const un=new Array(tt.length);for(let fr=0;fr<tt.length;fr++)un[fr]=Be[tt[fr]];return un}return Object.values(Be)}var ae=class{constructor(tt,un){if(u(this,"schema",void 0),u(this,"options",void 0),u(this,"length",0),u(this,"objectRows",null),u(this,"arrayRows",null),u(this,"cursor",0),u(this,"_headers",null),this.options=un,this.schema=tt,tt){this._headers=[];for(const fr in tt)this._headers[tt[fr].index]=tt[fr].name}}rowCount(){return this.length}addArrayRow(tt,un){switch(Number.isFinite(un)&&(this.cursor=un),this._headers||=function Z(Be){const tt=[];for(let un=0;un<Be.length;un++)tt.push(`column-${un}`);return tt}(tt),this.options.shape){case"object-row-table":const fr=K(tt,this._headers);this.addObjectRow(fr,un);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=tt,this.length++}}addObjectRow(tt,un){switch(Number.isFinite(un)&&(this.cursor=un),this._headers||=function J(Be){return Object.keys(Be)}(tt),this.options.shape){case"array-row-table":const fr=V(tt,this._headers);this.addArrayRow(fr,un);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=tt,this.length++}}getBatch(){let tt=this.arrayRows||this.objectRows;return tt?(tt=tt.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:tt,length:this.length,schema:this.schema,cursor:this.cursor}):null}},$=class{constructor(tt,un){u(this,"schema",void 0),u(this,"length",0),u(this,"allocated",0),u(this,"columns",{}),this.schema=tt,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(tt){this._reallocateColumns();let un=0;for(const fr in this.columns)this.columns[fr][this.length]=tt[un++];this.length++}addObjectRow(tt){this._reallocateColumns();for(const un in tt)this.columns[un][this.length]=tt[un];this.length++}getBatch(){this._pruneColumns();const tt=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const fr in this.schema){const Ar=this.schema[fr];tt[Ar.name]=this.columns[Ar.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:tt,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const tt in this.schema){const un=this.schema[tt],fr=un.type||Float32Array,Ar=this.columns[un.index];if(Ar&&ArrayBuffer.isView(Ar)){const zr=new fr(this.allocated);zr.set(Ar),this.columns[un.index]=zr}else Ar?(Ar.length=this.allocated,this.columns[un.index]=Ar):this.columns[un.index]=new fr(this.allocated)}}}_pruneColumns(){for(const[tt,un]of Object.entries(this.columns))this.columns[tt]=un.slice(0,this.length)}},H={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},B=class{constructor(tt,un){u(this,"schema",void 0),u(this,"options",void 0),u(this,"aggregator",null),u(this,"batchCount",0),u(this,"bytesUsed",0),u(this,"isChunkComplete",!1),u(this,"lastBatchEmittedMs",Date.now()),u(this,"totalLength",0),u(this,"totalBytes",0),u(this,"rowBytes",0),this.schema=tt,this.options={...H,...un}}limitReached(){var tt,un;return!!(null!=(tt=this.options)&&tt.limit&&this.totalLength>=this.options.limit||null!=(un=this.options)&&un._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(tt){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(tt),this.totalBytes+=this.rowBytes,Array.isArray(tt)?this.addArrayRow(tt):this.addObjectRow(tt))}addArrayRow(tt){if(!this.aggregator){const un=this._getTableBatchType();this.aggregator=new un(this.schema,this.options)}this.aggregator.addArrayRow(tt)}addObjectRow(tt){if(!this.aggregator){const un=this._getTableBatchType();this.aggregator=new un(this.schema,this.options)}this.aggregator.addObjectRow(tt)}chunkComplete(tt){tt instanceof ArrayBuffer&&(this.bytesUsed+=tt.byteLength),"string"==typeof tt&&(this.bytesUsed+=tt.length),this.isChunkComplete=!0}getFullBatch(tt){return this._isFull()?this._getBatch(tt):null}getFinalBatch(tt){return this._getBatch(tt)}_estimateRowMB(tt){return Array.isArray(tt)?8*tt.length:8*Object.keys(tt).length}_isFull(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs||(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),0))}_getBatch(tt){if(!this.aggregator)return null;tt?.bytesUsed&&(this.bytesUsed=tt.bytesUsed);const un=this.aggregator.getBatch();return un.count=this.batchCount,un.bytesUsed=this.bytesUsed,Object.assign(un,tt),this.batchCount++,this.aggregator=null,un}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return ae;case"columnar-table":return $;case"arrow-table":if(!B.ArrowBatch)throw new Error("TableBatchBuilder");return B.ArrowBatch;default:return G}}},ce=B;function Oe(Be){var tt;switch("object"==typeof Be&&Be?.shape){case"array-row-table":case"object-row-table":return Array.isArray(Be.data);case"geojson-table":return Array.isArray(Be.features);case"columnar-table":return Be.data&&"object"==typeof Be.data;case"arrow-table":return void 0!==(null==(tt=Be?.data)?void 0:tt.numRows);default:return!1}}function Ue(Be){switch(Be.shape){case"array-row-table":case"object-row-table":return Be.data.length;case"geojson-table":return Be.features.length;case"arrow-table":return Be.data.numRows;case"columnar-table":for(const un of Object.values(Be.data))return un.length||0;return 0;default:throw new Error("table")}}function qe(Be){if(Be.schema)return Be.schema.fields.length;if(0===Ue(Be))throw new Error("empty table");switch(Be.shape){case"array-row-table":return Be.data[0].length;case"object-row-table":return Object.keys(Be.data[0]).length;case"geojson-table":return Object.keys(Be.features[0]).length;case"columnar-table":return Object.keys(Be.data).length;case"arrow-table":return Be.data.numCols;default:throw new Error("table")}}function _e(Be,tt,un){var fr;switch(Be.shape){case"array-row-table":const Ar=Bt(Be,un);return Be.data[tt][Ar];case"object-row-table":return Be.data[tt][un];case"geojson-table":return Be.features[tt][un];case"columnar-table":return Be.data[un][tt];case"arrow-table":const si=Be.data,Ti=si.schema.fields.findIndex(ni=>ni.name===un);return null==(fr=si.getChildAt(Ti))?void 0:fr.get(tt);default:throw new Error("todo")}}function ht(Be){switch(Be.shape){case"array-row-table":case"object-row-table":return Be.shape;case"geojson-table":return"object-row-table";default:throw new Error("Not a row table")}}function Bt(Be,tt){var un;const fr=null==(un=Be.schema)?void 0:un.fields.findIndex(Ar=>Ar.name===tt);if(void 0===fr)throw new Error(tt);return fr}function de(Be,tt){var un,fr;const Ar=null==(fr=null==(un=Be.schema)?void 0:un.fields[tt])?void 0:fr.name;if(!Ar)throw new Error(`${tt}`);return Ar}function R(Be,tt,un,fr){switch(Be.shape){case"object-row-table":return fr?Object.fromEntries(Object.entries(Be.data[tt])):Be.data[tt];case"array-row-table":if(Be.schema){const ni=un||{};for(let ai=0;ai<Be.schema.fields.length;ai++)ni[Be.schema.fields[ai].name]=Be.data[tt][ai];return ni}throw new Error("no schema");case"geojson-table":if(Be.schema){const ni=un||{};for(let ai=0;ai<Be.schema.fields.length;ai++)ni[Be.schema.fields[ai].name]=Be.features[tt][ai];return ni}throw new Error("no schema");case"columnar-table":if(Be.schema){const ni=un||{};for(let ai=0;ai<Be.schema.fields.length;ai++)ni[Be.schema.fields[ai].name]=Be.data[Be.schema.fields[ai].name][tt];return ni}{const ni=un||{};for(const[ai,Oi]of Object.entries(Be.data))ni[ai]=Oi[tt];return ni}case"arrow-table":const Ar=Be.data,zr=un||{},si=Ar.get(tt),Ti=Ar.schema;for(let ni=0;ni<Ti.fields.length;ni++)zr[Ti.fields[ni].name]=si?.[Ti.fields[ni].name];return zr;default:throw new Error("shape")}}function j(Be,tt,un,fr){switch(Be.shape){case"array-row-table":return fr?Array.from(Be.data[tt]):Be.data[tt];case"object-row-table":if(Be.schema){const ni=un||[];for(let ai=0;ai<Be.schema.fields.length;ai++)ni[ai]=Be.data[tt][Be.schema.fields[ai].name];return ni}return Object.values(Be.data[tt]);case"geojson-table":if(Be.schema){const ni=un||[];for(let ai=0;ai<Be.schema.fields.length;ai++)ni[ai]=Be.features[tt][Be.schema.fields[ai].name];return ni}return Object.values(Be.features[tt]);case"columnar-table":if(Be.schema){const ni=un||[];for(let ai=0;ai<Be.schema.fields.length;ai++)ni[ai]=Be.data[Be.schema.fields[ai].name][tt];return ni}{const ni=un||[];let ai=0;for(const Oi of Object.values(Be.data))ni[ai]=Oi[tt],ai++;return ni}case"arrow-table":const Ar=Be.data,zr=un||[],si=Ar.get(tt),Ti=Ar.schema;for(let ni=0;ni<Ti.fields.length;ni++)zr[ni]=si?.[Ti.fields[ni].name];return zr;default:throw new Error("shape")}}function*he(Be,tt){switch(tt){case"array-row-table":yield*Ce(Be);break;case"object-row-table":yield*Re(Be);break;default:throw new Error(`Unknown row type ${tt}`)}}function*Ce(Be,tt=[]){const un=Ue(Be);for(let fr=0;fr<un;fr++)yield j(Be,fr,tt)}function*Re(Be,tt={}){const un=Ue(Be);for(let fr=0;fr<un;fr++)yield R(Be,fr,tt)}((Be,tt,un)=>{((Be,tt,un)=>{tt in Be?C(Be,tt,{enumerable:!0,configurable:!0,writable:!0,value:undefined}):Be[tt]=undefined})(Be,tt+"")})(ce,"ArrowBatch");var pt=class{constructor(tt,un,fr=!1,Ar=new Map){u(this,"name",void 0),u(this,"type",void 0),u(this,"nullable",void 0),u(this,"metadata",void 0),this.name=tt,this.type=un,this.nullable=fr,this.metadata=Ar}get typeId(){return this.type&&this.type.typeId}clone(){return new pt(this.name,this.type,this.nullable,this.metadata)}compareTo(tt){return this.name===tt.name&&this.type===tt.type&&this.nullable===tt.nullable&&this.metadata===tt.metadata}toString(){return`${JSON.stringify(this.type)}${this.nullable?", nullable":""}${this.metadata?`, metadata: ${JSON.stringify(this.metadata)}`:""}`}},zt=class{constructor(tt,un=new Map){u(this,"fields",void 0),u(this,"metadata",void 0),this.fields=tt.map(fr=>new pt(fr.name,fr.type,fr.nullable,fr.metadata)),this.metadata=un instanceof Map?un:new Map(Object.entries(un))}compareTo(tt){if(this.metadata!==tt.metadata||this.fields.length!==tt.fields.length)return!1;for(let un=0;un<this.fields.length;++un)if(!this.fields[un].compareTo(tt.fields[un]))return!1;return!0}select(...tt){const un=Object.create(null);for(const Ar of tt)un[Ar]=!0;const fr=this.fields.filter(Ar=>un[Ar.name]);return new zt(fr,this.metadata)}selectAt(...tt){const un=tt.map(fr=>this.fields[fr]).filter(Boolean);return new zt(un,this.metadata)}assign(tt){let un,fr=this.metadata;if(tt instanceof zt){const si=tt;un=si.fields,fr=Mn(Mn(new Map,this.metadata),si.metadata)}else un=tt;const Ar=Object.create(null);for(const si of this.fields)Ar[si.name]=si;for(const si of un)Ar[si.name]=si;const zr=Object.values(Ar);return new zt(zr,fr)}};function Mn(Be,tt){return new Map([...Be||new Map,...tt||new Map])}function It(Be,tt="float32"){return Be instanceof Date?"date-millisecond":Be instanceof Number?tt:"string"==typeof Be?"utf8":"null"}function Ne(Be){let tt=Xe(Be);return"null"!==tt?{type:tt,nullable:!1}:Be.length>0?(tt=It(Be[0]),{type:tt,nullable:!0}):{type:"null",nullable:!0}}function Xe(Be){switch(Be.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function re(Be){switch(Be.shape){case"array-row-table":case"object-row-table":return function F(Be){if(!Be.length)throw new Error("deduce from empty table");const tt=[],un=Be[0];for(const[fr,Ar]of Object.entries(un))tt.push(W(Ar,fr));return{fields:tt,metadata:{}}}(Be.data);case"columnar-table":return function D(Be){const tt=[];for(const[un,fr]of Object.entries(Be)){const Ar=T(fr,un);tt.push(Ar)}return{fields:tt,metadata:{}}}(Be.data);default:throw new Error("Deduce schema")}}function T(Be,tt){if(ArrayBuffer.isView(Be)){const un=Ne(Be);return{name:tt,type:un.type||"null",nullable:un.nullable}}if(Array.isArray(Be)&&Be.length>0)return{name:tt,type:It(Be[0]),nullable:!0};throw new Error("empty table")}function W(Be,tt){return{name:tt,type:It(Be),nullable:!0}}var z=class{constructor(tt,un){u(this,"table",void 0),u(this,"columnName",void 0),this.table=tt,this.columnName=un}get(tt){return _e(this.table,tt,this.columnName)}toArray(){var tt;switch(this.table.shape){case"arrow-table":return null==(tt=this.table.data.getChild(this.columnName))?void 0:tt.toArray();case"columnar-table":return this.table.data[this.columnName];default:throw new Error(this.table.shape)}}},p=class{constructor(tt){u(this,"schema",void 0),u(this,"table",void 0);const un=tt.schema||re(tt);this.schema=new zt(un.fields,un.metadata),this.table={...tt,schema:un}}get data(){return"geojson-table"===this.table.shape?this.table.features:this.table.data}get numCols(){return qe(this.table)}get length(){return Ue(this.table)}getChild(tt){return new z(this.table,tt)}};function I(Be){let tt;switch(function Ae(Be){if(Array.isArray(Be)){if(0===Be.length)throw new Error("cannot deduce type of empty table");const tt=Be[0];if(Array.isArray(tt))return"array-row-table";if(tt&&"object"==typeof tt)return"object-row-table"}if(Be&&"object"==typeof Be)return"columnar-table";throw new Error("invalid table")}(Be)){case"array-row-table":tt={shape:"array-row-table",data:Be};break;case"object-row-table":tt={shape:"object-row-table",data:Be};break;case"columnar-table":tt={shape:"columnar-table",data:Be};break;default:throw new Error("table")}const un=re(tt);return{...tt,schema:un}}var se=E(47526);function L(Be){return{...Be,length:(0,se.getTableLength)(Be),batchType:"data"}}function ve(Be){return ge.apply(this,arguments)}function ge(){return ge=i(function*(Be){let tt,un,fr,zr,Ar=null;var ni,si=!1,Ti=!1;try{for(var Oi,ai=f(Be);si=!(Oi=yield ai.next()).done;si=!1){const so=Oi.value;switch(Ar=Ar||so.shape,zr=zr||so.schema,so.shape){case"array-row-table":tt=tt||[];for(let wo=0;wo<(0,se.getTableLength)(so);wo++)tt.push(so.data[wo]);break;case"object-row-table":un=un||[];for(let wo=0;wo<(0,se.getTableLength)(so);wo++)un.push(so.data[wo]);break;case"geojson-table":fr=fr||[];for(let wo=0;wo<(0,se.getTableLength)(so);wo++)fr.push(so.features[wo]);break;default:throw new Error("shape")}}}catch(so){Ti=!0,ni=so}finally{try{si&&null!=ai.return&&(yield ai.return())}finally{if(Ti)throw ni}}if(!Ar)return null;switch(Ar){case"array-row-table":return{shape:"array-row-table",data:tt,schema:zr};case"object-row-table":return{shape:"object-row-table",data:un,schema:zr};case"geojson-table":return{shape:"geojson-table",type:"FeatureCollection",features:fr,schema:zr};default:return null}}),ge.apply(this,arguments)}function et(Be,tt){const un=function Ot(Be,tt){if(!tt)switch(Be){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array}return Array}(Be.type,Be.nullable);return new un(tt)}function Pt(Be,tt){switch(tt){case"object-row-table":return function Ht(Be){if("object-row-table"===Be.shape)return Be;const tt=Ue(Be),un=new Array(tt);for(let fr=0;fr<tt;fr++)un[fr]=R(Be,fr);return{shape:"object-row-table",schema:Be.schema,data:un}}(Be);case"array-row-table":return function je(Be){if("array-row-table"===Be.shape)return Be;const tt=Ue(Be),un=new Array(tt);for(let fr=0;fr<tt;fr++)un[fr]=j(Be,fr);return{shape:"array-row-table",schema:Be.schema,data:un}}(Be);case"columnar-table":return function ln(Be){var tt;const un=Be.schema||re(Be),fr=(null==(tt=Be.schema)?void 0:tt.fields)||[];if("columnar-table"===Be.shape)return{...Be,schema:un};const Ar=Ue(Be),zr={};for(const si of fr){const Ti=et(si,Ar);zr[si.name]=Ti;for(let ni=0;ni<Ar;ni++)Ti[ni]=_e(Be,ni,si.name)}return{shape:"columnar-table",schema:un,data:zr}}(Be);case"arrow-table":return function Rt(Be){var tt;const un=null==(tt=globalThis.__loaders)?void 0:tt._makeArrowTable;if(!un)throw new Error("");return un(Be)}(Be);default:throw new Error(tt)}}function ut(Be){let tt=0;for(const un in Be){const fr=Be[un];ArrayBuffer.isView(fr)&&(tt+=fr.byteLength*fr.BYTES_PER_ELEMENT)}return tt}function jt(Be){let tt=1/0,un=1/0,fr=1/0,Ar=-1/0,zr=-1/0,si=-1/0;const Ti=Be.POSITION?Be.POSITION.value:[],ni=Ti&&Ti.length;for(let ai=0;ai<ni;ai+=3){const Oi=Ti[ai],so=Ti[ai+1],wo=Ti[ai+2];tt=Oi<tt?Oi:tt,un=so<un?so:un,fr=wo<fr?wo:fr,Ar=Oi>Ar?Oi:Ar,zr=so>zr?so:zr,si=wo>si?wo:si}return[[tt,un,fr],[Ar,zr,si]]}function gn(Be,tt={}){return{fields:bt(Be),metadata:tt}}function lt(Be,tt,un){const fr=Xe(tt.value),Ar=un||He(tt);return{name:Be,type:{type:"fixed-size-list",listSize:tt.size,children:[{name:"value",type:fr}]},nullable:!1,metadata:Ar}}function bt(Be){const tt=[];for(const un in Be)tt.push(lt(un,Be[un]));return tt}function He(Be){const tt={};return"byteOffset"in Be&&(tt.byteOffset=Be.byteOffset.toString(10)),"byteStride"in Be&&(tt.byteStride=Be.byteStride.toString(10)),"normalized"in Be&&(tt.normalized=Be.normalized.toString()),tt}var ye=function(Be){return Be[Be.NONE=0]="NONE",Be[Be.Null=1]="Null",Be[Be.Int=2]="Int",Be[Be.Float=3]="Float",Be[Be.Binary=4]="Binary",Be[Be.Utf8=5]="Utf8",Be[Be.Bool=6]="Bool",Be[Be.Decimal=7]="Decimal",Be[Be.Date=8]="Date",Be[Be.Time=9]="Time",Be[Be.Timestamp=10]="Timestamp",Be[Be.Interval=11]="Interval",Be[Be.List=12]="List",Be[Be.Struct=13]="Struct",Be[Be.Union=14]="Union",Be[Be.FixedSizeBinary=15]="FixedSizeBinary",Be[Be.FixedSizeList=16]="FixedSizeList",Be[Be.Map=17]="Map",Be[Be.Dictionary=-1]="Dictionary",Be[Be.Int8=-2]="Int8",Be[Be.Int16=-3]="Int16",Be[Be.Int32=-4]="Int32",Be[Be.Int64=-5]="Int64",Be[Be.Uint8=-6]="Uint8",Be[Be.Uint16=-7]="Uint16",Be[Be.Uint32=-8]="Uint32",Be[Be.Uint64=-9]="Uint64",Be[Be.Float16=-10]="Float16",Be[Be.Float32=-11]="Float32",Be[Be.Float64=-12]="Float64",Be[Be.DateDay=-13]="DateDay",Be[Be.DateMillisecond=-14]="DateMillisecond",Be[Be.TimestampSecond=-15]="TimestampSecond",Be[Be.TimestampMillisecond=-16]="TimestampMillisecond",Be[Be.TimestampMicrosecond=-17]="TimestampMicrosecond",Be[Be.TimestampNanosecond=-18]="TimestampNanosecond",Be[Be.TimeSecond=-19]="TimeSecond",Be[Be.TimeMillisecond=-20]="TimeMillisecond",Be[Be.TimeMicrosecond=-21]="TimeMicrosecond",Be[Be.TimeNanosecond=-22]="TimeNanosecond",Be[Be.DenseUnion=-23]="DenseUnion",Be[Be.SparseUnion=-24]="SparseUnion",Be[Be.IntervalDayTime=-25]="IntervalDayTime",Be[Be.IntervalYearMonth=-26]="IntervalYearMonth",Be}(ye||{}),mt=class{static isNull(Be){return Be&&Be.typeId===ye.Null}static isInt(Be){return Be&&Be.typeId===ye.Int}static isFloat(Be){return Be&&Be.typeId===ye.Float}static isBinary(Be){return Be&&Be.typeId===ye.Binary}static isUtf8(Be){return Be&&Be.typeId===ye.Utf8}static isBool(Be){return Be&&Be.typeId===ye.Bool}static isDecimal(Be){return Be&&Be.typeId===ye.Decimal}static isDate(Be){return Be&&Be.typeId===ye.Date}static isTime(Be){return Be&&Be.typeId===ye.Time}static isTimestamp(Be){return Be&&Be.typeId===ye.Timestamp}static isInterval(Be){return Be&&Be.typeId===ye.Interval}static isList(Be){return Be&&Be.typeId===ye.List}static isStruct(Be){return Be&&Be.typeId===ye.Struct}static isUnion(Be){return Be&&Be.typeId===ye.Union}static isFixedSizeBinary(Be){return Be&&Be.typeId===ye.FixedSizeBinary}static isFixedSizeList(Be){return Be&&Be.typeId===ye.FixedSizeList}static isMap(Be){return Be&&Be.typeId===ye.Map}static isDictionary(Be){return Be&&Be.typeId===ye.Dictionary}get typeId(){return ye.NONE}compareTo(Be){return this===Be}},rt=class extends mt{get typeId(){return ye.Null}get[Symbol.toStringTag](){return"Null"}toString(){return"Null"}},Kt=class extends mt{get typeId(){return ye.Bool}get[Symbol.toStringTag](){return"Bool"}toString(){return"Bool"}},Dn=class extends mt{constructor(tt,un){super(),u(this,"isSigned",void 0),u(this,"bitWidth",void 0),this.isSigned=tt,this.bitWidth=un}get typeId(){return ye.Int}get[Symbol.toStringTag](){return"Int"}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}},Jn=class extends Dn{constructor(){super(!0,8)}},lr=class extends Dn{constructor(){super(!0,16)}},an=class extends Dn{constructor(){super(!0,32)}},At=class extends Dn{constructor(){super(!0,64)}},Et=class extends Dn{constructor(){super(!1,8)}},xt=class extends Dn{constructor(){super(!1,16)}},gt=class extends Dn{constructor(){super(!1,32)}},tn=class extends Dn{constructor(){super(!1,64)}},Ye=class extends mt{constructor(tt){super(),u(this,"precision",void 0),this.precision=tt}get typeId(){return ye.Float}get[Symbol.toStringTag](){return"Float"}toString(){return`Float${this.precision}`}},Vt=class extends Ye{constructor(){super(16)}},En=class extends Ye{constructor(){super(32)}},it=class extends Ye{constructor(){super(64)}},ke=class extends mt{constructor(){super()}get typeId(){return ye.Binary}toString(){return"Binary"}get[Symbol.toStringTag](){return"Binary"}},Jt=class extends mt{get typeId(){return ye.Utf8}get[Symbol.toStringTag](){return"Utf8"}toString(){return"Utf8"}},We={DAY:0,MILLISECOND:1},Tt=class extends mt{constructor(tt){super(),u(this,"unit",void 0),this.unit=tt}get typeId(){return ye.Date}get[Symbol.toStringTag](){return"Date"}toString(){return`Date${32*(this.unit+1)}<${We[this.unit]}>`}},wn=class extends Tt{constructor(){super(We.DAY)}},In=class extends Tt{constructor(){super(We.MILLISECOND)}},dr={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9},sr=class extends mt{constructor(tt,un){super(),u(this,"unit",void 0),u(this,"bitWidth",void 0),this.unit=tt,this.bitWidth=un}get typeId(){return ye.Time}toString(){return`Time${this.bitWidth}<${dr[this.unit]}>`}get[Symbol.toStringTag](){return"Time"}},Gr=class extends sr{constructor(){super(dr.SECOND,32)}},hi=class extends sr{constructor(){super(dr.MILLISECOND,32)}},Ei=class extends mt{constructor(tt,un=null){super(),u(this,"unit",void 0),u(this,"timezone",void 0),this.unit=tt,this.timezone=un}get typeId(){return ye.Timestamp}get[Symbol.toStringTag](){return"Timestamp"}toString(){return`Timestamp<${dr[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}},fi=class extends Ei{constructor(Be=null){super(dr.SECOND,Be)}},co=class extends Ei{constructor(Be=null){super(dr.MILLISECOND,Be)}},uo=class extends Ei{constructor(Be=null){super(dr.MICROSECOND,Be)}},Pi=class extends Ei{constructor(Be=null){super(dr.NANOSECOND,Be)}},ti={DAY_TIME:0,YEAR_MONTH:1},mr=class extends mt{constructor(tt){super(),u(this,"unit",void 0),this.unit=tt}get typeId(){return ye.Interval}get[Symbol.toStringTag](){return"Interval"}toString(){return`Interval<${ti[this.unit]}>`}},Li=class extends mr{constructor(){super(ti.DAY_TIME)}},ro=class extends mr{constructor(){super(ti.YEAR_MONTH)}},Pe=class extends mt{constructor(tt,un){super(),u(this,"listSize",void 0),u(this,"children",void 0),this.listSize=tt,this.children=[un]}get typeId(){return ye.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[Symbol.toStringTag](){return"FixedSizeList"}toString(){return`FixedSizeList[${this.listSize}]<${JSON.stringify(this.valueType)}>`}},dt=class extends mt{constructor(tt){super(),u(this,"children",void 0),this.children=tt}get typeId(){return ye.Struct}toString(){return`Struct<{${this.children.map(tt=>`${tt.name}:${JSON.stringify(tt.type)}`).join(", ")}}>`}get[Symbol.toStringTag](){return"Struct"}};function vn(Be){return{typeId:Be.typeId,ArrayType:Be.ArrayType,typeName:Be.toString(),typeEnumName:Gn(Be.typeId),precision:Be.precision}}var bn=null;function Gn(Be){if(!bn){bn={};for(const tt in ye)bn[ye[tt]]=tt}return bn[Be]}var nr=class extends Array{enqueue(Be){return this.push(Be)}dequeue(){return this.shift()}},er=class{constructor(){u(this,"_values",void 0),u(this,"_settlers",void 0),u(this,"_closed",void 0),this._values=new nr,this._settlers=new nr,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(tt){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const un=this._settlers.dequeue();tt instanceof Error?un.reject(tt):un.resolve({value:tt})}else this._values.enqueue(tt)}next(){if(this._values.length>0){const tt=this._values.dequeue();return tt instanceof Error?Promise.reject(tt):Promise.resolve({value:tt})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((tt,un)=>{this._settlers.enqueue({resolve:tt,reject:un})})}}},74389:(en,Ve,E)=>{"use strict";var ar,i=E(31049).default,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,S={};((ar,ur)=>{for(var jr in ur)u(ar,jr,{get:ur[jr],enumerable:!0})})(S,{BASIS_EXTERNAL_LIBRARIES:()=>v,BasisLoader:()=>W,BasisWorkerLoader:()=>T,CRUNCH_EXTERNAL_LIBRARIES:()=>co,CompressedTextureLoader:()=>En,CompressedTextureWorkerLoader:()=>Vt,CompressedTextureWriter:()=>mr,CrunchLoader:()=>it,CrunchWorkerLoader:()=>it,GL_EXTENSIONS_CONSTANTS:()=>B,KTX2BasisWriter:()=>Pe,KTX2BasisWriterWorker:()=>Rs,NPYLoader:()=>hi,NPYWorkerLoader:()=>Gr,getSupportedGPUTextureFormats:()=>qe,loadImageTexture:()=>so,loadImageTextureArray:()=>sn,loadImageTextureCube:()=>os,selectSupportedBasisFormat:()=>F}),en.exports=(ar=S,((ar,ur,jr,Mi)=>{if(ur&&"object"==typeof ur||"function"==typeof ur)for(let Ri of C(ur))!x.call(ar,Ri)&&undefined!==Ri&&u(ar,Ri,{get:()=>ur[Ri],enumerable:!(Mi=f(ur,Ri))||Mi.enumerable});return ar})(u({},"__esModule",{value:!0}),ar));var M,te,U="4.2.1",P=E(28690),y=E(13827),v={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};function G(ar){return K.apply(this,arguments)}function K(){return K=i(function*(ar){return(0,P.registerJSModules)(ar.modules),(0,P.getJSModuleOrNull)("basis")||(M||=function V(ar){return Z.apply(this,arguments)}(ar),yield M)}),K.apply(this,arguments)}function Z(){return Z=i(function*(ar){let ur=null,jr=null;return[ur,jr]=yield Promise.all([yield(0,y.loadLibrary)(v.TRANSCODER,"textures",ar),yield(0,y.loadLibrary)(v.TRANSCODER_WASM,"textures",ar)]),ur=ur||globalThis.BASIS,yield function J(ar,ur){const jr={};return ur&&(jr.wasmBinary=ur),new Promise(Mi=>{ar(jr).then(Ri=>{const{BasisFile:zi,initializeBasis:to}=Ri;to(),Mi({BasisFile:zi})})})}(ur,jr)}),Z.apply(this,arguments)}function ae(ar){return Y.apply(this,arguments)}function Y(){return Y=i(function*(ar){const ur=ar.modules||{};return ur.basisEncoder?ur.basisEncoder:(te=te||function $(ar){return H.apply(this,arguments)}(ar),yield te)}),Y.apply(this,arguments)}function H(){return H=i(function*(ar){let ur=null,jr=null;return[ur,jr]=yield Promise.all([yield(0,y.loadLibrary)(v.ENCODER,"textures",ar),yield(0,y.loadLibrary)(v.ENCODER_WASM,"textures",ar)]),ur=ur||globalThis.BASIS,yield function me(ar,ur){const jr={};return ur&&(jr.wasmBinary=ur),new Promise(Mi=>{ar(jr).then(Ri=>{const{BasisFile:zi,KTX2File:to,initializeBasis:xo,BasisEncoder:$i}=Ri;xo(),Mi({BasisFile:zi,KTX2File:to,BasisEncoder:$i})})})}(ur,jr)}),H.apply(this,arguments)}var B={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},ce=["","WEBKIT_","MOZ_"],Oe={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Ue=null;function qe(ar){if(!Ue){ar=ar||function _e(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,Ue=new Set;for(const ur of ce)for(const jr in Oe)ar&&ar.getExtension(`${ur}${jr}`)&&Ue.add(Oe[jr])}return Ue}var ht=E(5114);function Bt(ar,ur){const jr=new Array(ur.mipMapLevels);let Mi=ur.width,Ri=ur.height,zi=0;for(let to=0;to<ur.mipMapLevels;++to){const xo=R(ur,Mi,Ri,ar,to),$i=de(ar,to,zi,xo);jr[to]={compressed:!0,format:ur.internalFormat,data:$i,width:Mi,height:Ri,levelSize:xo},Mi=Math.max(1,Mi>>1),Ri=Math.max(1,Ri>>1),zi+=xo}return jr}function de(ar,ur,jr,Mi){return Array.isArray(ar)?ar[ur].levelData:new Uint8Array(ar.buffer,ar.byteOffset+jr,Mi)}function R(ar,ur,jr,Mi,Ri){return Array.isArray(Mi)?ar.sizeFunction(Mi[Ri]):ar.sizeFunction(ur,jr)}var j={131:B.COMPRESSED_RGB_S3TC_DXT1_EXT,132:B.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:B.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:B.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:B.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:B.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:B.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:B.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:B.COMPRESSED_RED_RGTC1_EXT,140:B.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:B.COMPRESSED_RED_GREEN_RGTC2_EXT,142:B.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:B.COMPRESSED_RGB8_ETC2,148:B.COMPRESSED_SRGB8_ETC2,149:B.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:B.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:B.COMPRESSED_RGBA8_ETC2_EAC,152:B.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:B.COMPRESSED_R11_EAC,154:B.COMPRESSED_SIGNED_R11_EAC,155:B.COMPRESSED_RG11_EAC,156:B.COMPRESSED_SIGNED_RG11_EAC,157:B.COMPRESSED_RGBA_ASTC_4x4_KHR,158:B.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:B.COMPRESSED_RGBA_ASTC_5x4_KHR,160:B.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:B.COMPRESSED_RGBA_ASTC_5x5_KHR,162:B.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:B.COMPRESSED_RGBA_ASTC_6x5_KHR,164:B.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:B.COMPRESSED_RGBA_ASTC_6x6_KHR,166:B.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:B.COMPRESSED_RGBA_ASTC_8x5_KHR,168:B.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:B.COMPRESSED_RGBA_ASTC_8x6_KHR,170:B.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:B.COMPRESSED_RGBA_ASTC_8x8_KHR,172:B.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:B.COMPRESSED_RGBA_ASTC_10x5_KHR,174:B.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:B.COMPRESSED_RGBA_ASTC_10x6_KHR,176:B.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:B.COMPRESSED_RGBA_ASTC_10x8_KHR,178:B.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:B.COMPRESSED_RGBA_ASTC_10x10_KHR,180:B.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:B.COMPRESSED_RGBA_ASTC_12x10_KHR,182:B.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:B.COMPRESSED_RGBA_ASTC_12x12_KHR,184:B.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:B.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:B.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:B.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:B.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:B.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:B.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:B.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:B.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:B.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:B.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:B.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:B.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:B.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:B.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:B.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:B.COMPRESSED_RGBA_ASTC_12x12_KHR},Ce=[171,75,84,88,32,50,48,187,13,10,26,10];function Re(ar){const ur=new Uint8Array(ar);return!(ur.byteLength<Ce.length||ur[0]!==Ce[0]||ur[1]!==Ce[1]||ur[2]!==Ce[2]||ur[3]!==Ce[3]||ur[4]!==Ce[4]||ur[5]!==Ce[5]||ur[6]!==Ce[6]||ur[7]!==Ce[7]||ur[8]!==Ce[8]||ur[9]!==Ce[9]||ur[10]!==Ce[10]||ur[11]!==Ce[11])}var zt={etc1:{basisFormat:0,compressed:!0,format:B.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:B.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:B.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:B.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:B.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:B.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function Mn(ar,ur){return It.apply(this,arguments)}function It(){return It=i(function*(ar,ur){if("auto"===ur.basis.containerFormat){if(Re(ar))return Ot((yield ae(ur)).KTX2File,ar,ur);const{BasisFile:jr}=yield G(ur);return Ne(jr,ar,ur)}if("encoder"===ur.basis.module){const jr=yield ae(ur);return"ktx2"===ur.basis.containerFormat?Ot(jr.KTX2File,ar,ur):Ne(jr.BasisFile,ar,ur)}{const{BasisFile:Mi}=yield G(ur);return Ne(Mi,ar,ur)}}),It.apply(this,arguments)}function Ne(ar,ur,jr){const Mi=new ar(new Uint8Array(ur));try{if(!Mi.startTranscoding())throw new Error("Failed to start basis transcoding");const Ri=Mi.getNumImages(),zi=[];for(let to=0;to<Ri;to++){const xo=Mi.getNumLevels(to),$i=[];for(let No=0;No<xo;No++)$i.push(Xe(Mi,to,No,jr));zi.push($i)}return zi}finally{Mi.close(),Mi.delete()}}function Xe(ar,ur,jr,Mi){const Ri=ar.getImageWidth(ur,jr),zi=ar.getImageHeight(ur,jr),to=ar.getHasAlpha(),{compressed:xo,format:$i,basisFormat:No}=D(Mi,to),ls=ar.getImageTranscodedSizeInBytes(ur,jr,No),Ns=new Uint8Array(ls);if(!ar.transcodeImage(Ns,ur,jr,No,0,0))throw new Error("failed to start Basis transcoding");return{width:Ri,height:zi,data:Ns,compressed:xo,format:$i,hasAlpha:to}}function Ot(ar,ur,jr){const Mi=new ar(new Uint8Array(ur));try{if(!Mi.startTranscoding())throw new Error("failed to start KTX2 transcoding");const Ri=Mi.getLevels(),zi=[];for(let to=0;to<Ri;to++){zi.push(re(Mi,to,jr));break}return[zi]}finally{Mi.close(),Mi.delete()}}function re(ar,ur,jr){const{alphaFlag:Mi,height:Ri,width:zi}=ar.getImageLevelInfo(ur,0,0),{compressed:to,format:xo,basisFormat:$i}=D(jr,Mi),No=ar.getImageTranscodedSizeInBytes(ur,0,0,$i),ls=new Uint8Array(No);if(!ar.transcodeImage(ls,ur,0,0,$i,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:zi,height:Ri,data:ls,compressed:to,levelSize:No,hasAlpha:Mi,format:xo}}function D(ar,ur){let jr=ar&&ar.basis&&ar.basis.format;return"auto"===jr&&(jr=F()),"object"==typeof jr&&(jr=ur?jr.alpha:jr.noAlpha),jr=jr.toLowerCase(),zt[jr]}function F(){const ar=qe();return ar.has("astc")?"astc-4x4":ar.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:ar.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:ar.has("etc1")?"etc1":ar.has("etc2")?"etc2":"rgb565"}var T={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:U,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},W={...T,parse:Mn},z=E(28690),p={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4},I={DXT1:B.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:B.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:B.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":B.COMPRESSED_RGB_ATC_WEBGL,ATCA:B.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:B.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},ve={DXT1:Pt,DXT3:Rt,DXT5:Rt,"ATC ":Pt,ATCA:Rt,ATCI:Rt};function Pt(ar,ur){return(ar+3>>2)*(ur+3>>2)*8}function Rt(ar,ur){return(ar+3>>2)*(ur+3>>2)*16}var je_MAGIC_NUMBER=55727696,je_MAGIC_NUMBER_EXTRA=1347834371,je_HEADER_LENGTH=13,je_HEADER_SIZE=52,je_MAGIC_NUMBER_INDEX=0,je_PIXEL_FORMAT_INDEX=2,je_COLOUR_SPACE_INDEX=4,je_HEIGHT_INDEX=6,je_WIDTH_INDEX=7,je_MIPMAPCOUNT_INDEX=11,je_METADATA_SIZE_INDEX=12,Ht={0:[B.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[B.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[B.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[B.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[B.COMPRESSED_RGB_ETC1_WEBGL],7:[B.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[B.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[B.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[B.COMPRESSED_RGB8_ETC2],23:[B.COMPRESSED_RGBA8_ETC2_EAC],24:[B.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[B.COMPRESSED_R11_EAC],26:[B.COMPRESSED_RG11_EAC],27:[B.COMPRESSED_RGBA_ASTC_4X4_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[B.COMPRESSED_RGBA_ASTC_5X4_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[B.COMPRESSED_RGBA_ASTC_5X5_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[B.COMPRESSED_RGBA_ASTC_6X5_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[B.COMPRESSED_RGBA_ASTC_6X6_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[B.COMPRESSED_RGBA_ASTC_8X5_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[B.COMPRESSED_RGBA_ASTC_8X6_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[B.COMPRESSED_RGBA_ASTC_8X8_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[B.COMPRESSED_RGBA_ASTC_10X5_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[B.COMPRESSED_RGBA_ASTC_10X6_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[B.COMPRESSED_RGBA_ASTC_10X8_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[B.COMPRESSED_RGBA_ASTC_10X10_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[B.COMPRESSED_RGBA_ASTC_12X10_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[B.COMPRESSED_RGBA_ASTC_12X12_KHR,B.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},ut={0:lt,1:lt,2:bt,3:bt,6:He,7:He,9:ye,11:ye,22:He,23:ye,24:He,25:He,26:ye,27:ye,28:function mt(ar,ur){return Math.floor((ar+4)/5)*Math.floor((ur+3)/4)*16},29:function rt(ar,ur){return Math.floor((ar+4)/5)*Math.floor((ur+4)/5)*16},30:function Kt(ar,ur){return Math.floor((ar+5)/6)*Math.floor((ur+4)/5)*16},31:function Dn(ar,ur){return Math.floor((ar+5)/6)*Math.floor((ur+5)/6)*16},32:function Jn(ar,ur){return Math.floor((ar+7)/8)*Math.floor((ur+4)/5)*16},33:function lr(ar,ur){return Math.floor((ar+7)/8)*Math.floor((ur+5)/6)*16},34:function an(ar,ur){return Math.floor((ar+7)/8)*Math.floor((ur+7)/8)*16},35:function At(ar,ur){return Math.floor((ar+9)/10)*Math.floor((ur+4)/5)*16},36:function Et(ar,ur){return Math.floor((ar+9)/10)*Math.floor((ur+5)/6)*16},37:function xt(ar,ur){return Math.floor((ar+9)/10)*Math.floor((ur+7)/8)*16},38:function gt(ar,ur){return Math.floor((ar+9)/10)*Math.floor((ur+9)/10)*16},39:function tn(ar,ur){return Math.floor((ar+11)/12)*Math.floor((ur+9)/10)*16},40:function Xt(ar,ur){return Math.floor((ar+11)/12)*Math.floor((ur+11)/12)*16}};function lt(ar,ur){return(ar=Math.max(ar,16))*(ur=Math.max(ur,8))/4}function bt(ar,ur){return(ar=Math.max(ar,8))*(ur=Math.max(ur,8))/2}function He(ar,ur){return Math.floor((ar+3)/4)*Math.floor((ur+3)/4)*8}function ye(ar,ur){return Math.floor((ar+3)/4)*Math.floor((ur+3)/4)*16}function Ye(ar){if(Re(ar))return function pt(ar){const ur=new Uint8Array(ar),jr=(0,ht.read)(ur),Mi=Math.max(1,jr.levels.length),Ri=jr.pixelWidth,zi=jr.pixelHeight,to=function he(ar){return j[ar]}(jr.vkFormat);return Bt(jr.levels,{mipMapLevels:Mi,width:Ri,height:zi,sizeFunction:xo=>xo.uncompressedByteLength,internalFormat:to})}(ar);if(function ge(ar){return new Uint32Array(ar,0,p.HEADER_LENGTH)[p.MAGIC_NUMBER_INDEX]===p.MAGIC_NUMBER}(ar))return function et(ar){const ur=new Int32Array(ar,0,p.HEADER_LENGTH),jr=ur[p.HEADER_PF_FOURCC_INDEX];(0,z.assert)(!!(ur[p.HEADER_PF_FLAGS_INDEX]&p.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");const Mi=function ln(ar){return String.fromCharCode(255&ar,ar>>8&255,ar>>16&255,ar>>24&255)}(jr),Ri=I[Mi],zi=ve[Mi];(0,z.assert)(Ri&&zi,`DDS: Unknown pixel format ${jr}`);let to=1;ur[p.HEADER_FLAGS_INDEX]&p.DDSD_MIPMAPCOUNT&&(to=Math.max(1,ur[p.MIPMAPCOUNT_INDEX]));const xo=ur[p.HEADER_WIDTH_INDEX],$i=ur[p.HEADER_HEIGHT_INDEX];return Bt(new Uint8Array(ar,ur[p.HEADER_SIZE_INDEX]+4),{mipMapLevels:to,width:xo,height:$i,sizeFunction:zi,internalFormat:Ri})}(ar);if(function jt(ar){const jr=new Uint32Array(ar,0,je_HEADER_LENGTH)[je_MAGIC_NUMBER_INDEX];return jr===je_MAGIC_NUMBER||jr===je_MAGIC_NUMBER_EXTRA}(ar))return function gn(ar){const ur=new Uint32Array(ar,0,je_HEADER_LENGTH),jr=ur[je_PIXEL_FORMAT_INDEX],Ri=Ht[jr]||[],zi=Ri.length>1&&ur[je_COLOUR_SPACE_INDEX]?Ri[1]:Ri[0],to=ut[jr],xo=ur[je_MIPMAPCOUNT_INDEX],$i=ur[je_WIDTH_INDEX],No=ur[je_HEIGHT_INDEX];return Bt(new Uint8Array(ar,je_HEADER_SIZE+ur[je_METADATA_SIZE_INDEX]),{mipMapLevels:xo,width:$i,height:No,sizeFunction:to,internalFormat:zi})}(ar);throw new Error("Texture container format not recognized")}var Vt={dataType:null,batchType:null,name:"Texture Containers",id:"compressed-texture",module:"textures",version:U,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/",useBasis:!1}}},En={...Vt,parse:function(){var ar=i(function*(ur,jr){var Mi;return null!=(Mi=jr?.["compressed-texture"])&&Mi.useBasis?(jr.basis={format:{alpha:"BC3",noAlpha:"BC1"},...jr.basis,containerFormat:"ktx2",module:"encoder"},(yield Mn(ur,jr))[0]):Ye(ur)});return function(jr,Mi){return ar.apply(this,arguments)}}()},it={dataType:null,batchType:null,id:"crunch",name:"Crunch",module:"textures",version:U,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}},ke=new Uint32Array([305419896]),Tt=18!==new Uint8Array(ke.buffer,ke.byteOffset,ke.byteLength)[0],wn={u1:Uint8Array,i1:Int8Array,u2:Uint16Array,i2:Int16Array,u4:Uint32Array,i4:Int32Array,f4:Float32Array,f8:Float64Array};function In(ar,ur){var jr;const Mi=new DataView(ar),{header:Ri,headerEndOffset:zi}=function dr(ar){const ur=ar.getUint8(6);let Mi,jr=8;ur>=2?(Mi=ar.getUint32(jr,!0),jr+=4):(Mi=ar.getUint16(jr,!0),jr+=2);const zi=new TextDecoder(ur<=2?"latin1":"utf-8"),to=new Uint8Array(ar.buffer,jr,Mi),xo=zi.decode(to);return jr+=Mi,{header:JSON.parse(xo.replace(/'/g,'"').replace("False","false").replace("(","[").replace(/,*\),*/g,"]")),headerEndOffset:jr}}(Mi),to=Ri.descr,xo=wn[to.slice(1,3)];if(!xo)throw new Error(`Unimplemented type ${to}`);const No=(null==(jr=Ri.shape)?void 0:jr.reduce((Ns,ys)=>Ns*ys))*xo.BYTES_PER_ELEMENT;if(ar.byteLength<zi+No)throw new Error("Buffer overflow");const ls=new xo(ar.slice(zi,zi+No));if(">"===to[0]&&Tt||"<"===to[0]&&!Tt)throw new Error("Incorrect endianness");return{data:ls,header:Ri}}var Gr={dataType:null,batchType:null,name:"NPY",id:"npy",module:"textures",version:U,worker:!0,extensions:["npy"],mimeTypes:[],tests:[new Uint8Array([147,78,85,77,80,89]).buffer],options:{npy:{}}},hi={...Gr,parseSync:In,parse:function(){var ar=i(function*(ur,jr){return In(ur)});return function(jr,Mi){return ar.apply(this,arguments)}}()},co=(E(28690),E(13827),{DECODER:"crunch.js"}),uo=E(13827);function ti(){return ti=i(function*(ar,ur,jr){const Mi=["texture-compressor","--type","s3tc","--compression","DXT1","--quality","normal","--input",ar,"--output",ur];return yield(new uo.ChildProcessProxy).start({command:"npx",arguments:Mi,spawn:jr}),ur}),ti.apply(this,arguments)}var mr={name:"DDS Texture Container",id:"dds",module:"textures",version:U,extensions:["dds"],options:{texture:{format:"auto",compression:"auto",quality:"auto",mipmap:!1,flipY:!1,toolFlags:""}},encodeURLtoURL:function Pi(ar,ur,jr){return ti.apply(this,arguments)},encode(){throw new Error("Not implemented")}};function ro(){return ro=i(function*(ar,ur={}){const{useSRGB:jr=!1,qualityLevel:Mi=10,encodeUASTC:Ri=!1,mipmaps:zi=!1}=ur?.["ktx2-basis-writer"]||{},{BasisEncoder:to}=yield ae(ur),xo=new to;try{const $i=new Uint8Array(ar.width*ar.height*4);xo.setCreateKTX2File(!0),xo.setKTX2UASTCSupercompression(!0),xo.setKTX2SRGBTransferFunc(!0),xo.setSliceSourceImage(0,ar.data,ar.width,ar.height,!1),xo.setPerceptual(jr),xo.setMipSRGB(jr),xo.setQualityLevel(Mi),xo.setUASTC(Ri),xo.setMipGen(zi);const No=xo.encode($i);return $i.subarray(0,No).buffer}catch($i){throw console.error("Basis Universal Supercompressed GPU Texture encoder Error: ",$i),$i}finally{xo.delete()}}),ro.apply(this,arguments)}var Pe={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:U,extensions:["ktx2"],options:{"ktx2-basis-writer":{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}},encode:function Li(ar){return ro.apply(this,arguments)}},dt=E(28690),vn=E(14315),bn=E(28690);function Gn(ar,ur,jr){let Mi="function"==typeof ar?ar({...ur,...jr}):ar;const Ri=ur.baseUrl;return Ri&&(Mi="/"===Ri[Ri.length-1]?`${Ri}${Mi}`:`${Ri}/${Mi}`),(0,bn.resolvePath)(Mi)}var nr=ar=>ar&&"object"==typeof ar;function Be(){return Be=i(function*(ar,ur,jr={}){return yield tt(ar,ur,jr)}),Be.apply(this,arguments)}function tt(ar,ur,jr){return un.apply(this,arguments)}function un(){return un=i(function*(ar,ur,jr){return Array.isArray(ar)?yield function zr(ar,ur){return si.apply(this,arguments)}(ar,ur,jr):nr(ar)?yield function fr(ar,ur,jr){return Ar.apply(this,arguments)}(ar,ur,jr):yield ur(ar,jr)}),un.apply(this,arguments)}function Ar(){return Ar=i(function*(ar,ur,jr){const Mi=[],Ri={};for(const zi in ar){const xo=tt(ar[zi],ur,jr).then($i=>{Ri[zi]=$i});Mi.push(xo)}return yield Promise.all(Mi),Ri}),Ar.apply(this,arguments)}function si(){return si=i(function*(ar,ur,jr={}){const Mi=ar.map(Ri=>tt(Ri,ur,jr));return yield Promise.all(Mi)}),si.apply(this,arguments)}function Ti(ar,ur,jr){return ni.apply(this,arguments)}function ni(){return ni=i(function*(ar,ur,jr){return yield function er(ar,ur){return Be.apply(this,arguments)}(ar,Mi=>ai(Mi,ur,jr))}),ni.apply(this,arguments)}function ai(ar,ur,jr){return Oi.apply(this,arguments)}function Oi(){return Oi=i(function*(ar,ur,jr){const Ri=yield(yield fetch(ar,jr.fetch)).arrayBuffer();return yield ur(Ri,jr)}),Oi.apply(this,arguments)}function so(ar){return wo.apply(this,arguments)}function wo(){return wo=i(function*(ar,ur={}){const jr=yield eo(ar,ur);return yield Ti(jr,vn.ImageLoader.parse,ur)}),wo.apply(this,arguments)}function eo(ar,ur){return Vo.apply(this,arguments)}function Vo(){return Vo=i(function*(ar,ur,jr={}){const Mi=ur&&ur.image&&ur.image.mipLevels||0;return 0!==Mi?yield function $n(ar,ur,jr,Mi){return fn.apply(this,arguments)}(ar,Mi,ur,jr):Gn(ar,ur,jr)}),Vo.apply(this,arguments)}function fn(){return fn=i(function*(ar,ur,jr,Mi){const Ri=[];if("auto"===ur){const zi=Gn(ar,jr,{...Mi,lod:0}),to=yield ai(zi,vn.ImageLoader.parse,jr),{width:xo,height:$i}=(0,vn.getImageSize)(to);ur=function ze(ar){return 1+Math.floor(Math.log2(Math.max(ar.width,ar.height)))}({width:xo,height:$i}),Ri.push(zi)}(0,dt.assert)(ur>0);for(let zi=Ri.length;zi<ur;++zi){const to=Gn(ar,jr,{...Mi,lod:zi});Ri.push(to)}return Ri}),fn.apply(this,arguments)}var Dt=E(14315);function sn(ar,ur){return Wn.apply(this,arguments)}function Wn(){return Wn=i(function*(ar,ur,jr={}){const Mi=yield function Ir(ar,ur){return Zr.apply(this,arguments)}(ar,ur,jr);return yield Ti(Mi,Dt.ImageLoader.parse,jr)}),Wn.apply(this,arguments)}function Zr(){return Zr=i(function*(ar,ur,jr={}){const Mi=[];for(let Ri=0;Ri<ar;Ri++){const zi=eo(ur,jr,{index:Ri});Mi.push(zi)}return yield Promise.all(Mi)}),Zr.apply(this,arguments)}var io=E(14315),ms=[{face:34069,direction:"right",axis:"x",sign:"positive"},{face:34070,direction:"left",axis:"x",sign:"negative"},{face:34071,direction:"top",axis:"y",sign:"positive"},{face:34072,direction:"bottom",axis:"y",sign:"negative"},{face:34073,direction:"front",axis:"z",sign:"positive"},{face:34074,direction:"back",axis:"z",sign:"negative"}];function Zo(){return Zo=i(function*(ar,ur){const jr={},Mi=[];let Ri=0;for(let zi=0;zi<ms.length;++zi){const to=ms[Ri],xo=eo(ar,ur,{...to,index:Ri++}).then($i=>{jr[to.face]=$i});Mi.push(xo)}return yield Promise.all(Mi),jr}),Zo.apply(this,arguments)}function os(ar){return ns.apply(this,arguments)}function ns(){return ns=i(function*(ar,ur={}){const jr=yield function zo(ar,ur){return Zo.apply(this,arguments)}(ar,ur);return yield Ti(jr,io.ImageLoader.parse,ur)}),ns.apply(this,arguments)}var Rs={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:U,extensions:["ktx2"],worker:!0,options:{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}}},13827:(en,Ve,E)=>{"use strict";var Xt,i=E(31049).default,u=E(15985).default,f=E(57909).default,C=Object.create,x=Object.defineProperty,w=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,k=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,y=(Xt,Ye,Vt,En)=>{if(Ye&&"object"==typeof Ye||"function"==typeof Ye)for(let it of d(Ye))!S.call(Xt,it)&&it!==Vt&&x(Xt,it,{get:()=>Ye[it],enumerable:!(En=w(Ye,it))||En.enumerable});return Xt},v=(Xt,Ye,Vt)=>(Vt=null!=Xt?C(k(Xt)):{},y(!Ye&&Xt&&Xt.__esModule?Vt:x(Vt,"default",{value:Xt,enumerable:!0}),Xt)),K={};((Xt,Ye)=>{for(var Vt in Ye)x(Xt,Vt,{get:Ye[Vt],enumerable:!0})})(K,{AsyncQueue:()=>et,ChildProcessProxy:()=>gt,NullWorker:()=>tn,WorkerBody:()=>W,WorkerFarm:()=>re,WorkerJob:()=>_e,WorkerPool:()=>Ne,WorkerThread:()=>It,assert:()=>te,canProcessOnWorker:()=>Ae,createWorker:()=>je,getLibraryUrl:()=>He,getTransferList:()=>Re,getTransferListForWriter:()=>zt,getWorkerURL:()=>I,isBrowser:()=>B,isWorker:()=>ce,loadLibrary:()=>lt,processOnWorker:()=>se,validateWorkerVersion:()=>jt}),en.exports=(Xt=K,y(x({},"__esModule",{value:!0}),Xt));var V="latest",J=function Z(){var Xt;return null!=(Xt=globalThis._loadersgl_)&&Xt.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.1"),globalThis._loadersgl_.version}();function te(Xt,Ye){if(!Xt)throw new Error(Ye||"loaders.gl assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;var B="object"!=typeof process||"[object process]"!==String(process)||process.browser,ce="function"==typeof importScripts,Oe=typeof window<"u"&&typeof window.orientation<"u",Ue=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),_e=(Ue&&parseFloat(Ue[1]),class{constructor(Ye,Vt){u(this,"name",void 0),u(this,"workerThread",void 0),u(this,"isRunning",!0),u(this,"result",void 0),u(this,"_resolve",()=>{}),u(this,"_reject",()=>{}),this.name=Ye,this.workerThread=Vt,this.result=new Promise((En,it)=>{this._resolve=En,this._reject=it})}postMessage(Ye,Vt){this.workerThread.postMessage({source:"loaders.gl",type:Ye,payload:Vt})}done(Ye){te(this.isRunning),this.isRunning=!1,this._resolve(Ye)}error(Ye){te(this.isRunning),this.isRunning=!1,this._reject(Ye)}}),ht=class{terminate(){}},Bt=null,de=new Map;function he(Xt){const Ye=new Blob([Xt],{type:"application/javascript"});return URL.createObjectURL(Ye)}function Re(Xt,Ye=!0,Vt){const En=Vt||new Set;if(Xt)if(pt(Xt))En.add(Xt);else if(pt(Xt.buffer))En.add(Xt.buffer);else if(!ArrayBuffer.isView(Xt)&&Ye&&"object"==typeof Xt)for(const it in Xt)Re(Xt[it],Ye,En);return void 0===Vt?Array.from(En):[]}function pt(Xt){return!!Xt&&(Xt instanceof ArrayBuffer||typeof MessagePort<"u"&&Xt instanceof MessagePort||typeof ImageBitmap<"u"&&Xt instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&Xt instanceof OffscreenCanvas)}function zt(Xt){if(null===Xt)return{};const Ye=Object.assign({},Xt);return Object.keys(Ye).forEach(Vt=>{Ye[Vt]="object"!=typeof Xt[Vt]||ArrayBuffer.isView(Xt[Vt])||Xt[Vt]instanceof Array?"function"==typeof Ye[Vt]||Ye[Vt]instanceof RegExp?{}:Xt[Vt]:zt(Xt[Vt])}),Ye}var Mn=()=>{},It=class{static isSupported(){return typeof Worker<"u"&&B||typeof ht<"u"&&!B}constructor(Ye){u(this,"name",void 0),u(this,"source",void 0),u(this,"url",void 0),u(this,"terminated",!1),u(this,"worker",void 0),u(this,"onMessage",void 0),u(this,"onError",void 0),u(this,"_loadableURL","");const{name:Vt,source:En,url:it}=Ye;te(En||it),this.name=Vt,this.source=En,this.url=it,this.onMessage=Mn,this.onError=ke=>console.log(ke),this.worker=B?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Mn,this.onError=Mn,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(Ye,Vt){Vt=Vt||Re(Ye),this.worker.postMessage(Ye,Vt)}_getErrorFromErrorEvent(Ye){let Vt="Failed to load ";return Vt+=`worker ${this.name} from ${this.url}. `,Ye.message&&(Vt+=`${Ye.message} in `),Ye.lineno&&(Vt+=`:${Ye.lineno}:${Ye.colno}`),new Error(Vt)}_createBrowserWorker(){this._loadableURL=function R(Xt){te(Xt.source&&!Xt.url||!Xt.source&&Xt.url);let Ye=de.get(Xt.source||Xt.url);return Ye||(Xt.url&&(Ye=function j(Xt){if(!Xt.startsWith("http"))return Xt;const Ye=function Ce(Xt){return`try {\n  importScripts('${Xt}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`}(Xt);return he(Ye)}(Xt.url),de.set(Xt.url,Ye)),Xt.source&&(Ye=he(Xt.source),de.set(Xt.source,Ye))),te(Ye),Ye}({source:this.source,url:this.url});const Ye=new Worker(this._loadableURL,{name:this.name});return Ye.onmessage=Vt=>{Vt.data?this.onMessage(Vt.data):this.onError(new Error("No data received"))},Ye.onerror=Vt=>{this.onError(this._getErrorFromErrorEvent(Vt)),this.terminated=!0},Ye.onmessageerror=Vt=>console.error(Vt),Ye}_createNodeWorker(){let Ye;if(this.url){const En=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;Ye=new ht(En,{eval:!1})}else{if(!this.source)throw new Error("no worker");Ye=new ht(this.source,{eval:!0})}return Ye.on("message",Vt=>{this.onMessage(Vt)}),Ye.on("error",Vt=>{this.onError(Vt)}),Ye.on("exit",Vt=>{}),Ye}},Ne=class{static isSupported(){return It.isSupported()}constructor(Ye){u(this,"name","unnamed"),u(this,"source",void 0),u(this,"url",void 0),u(this,"maxConcurrency",1),u(this,"maxMobileConcurrency",1),u(this,"onDebug",()=>{}),u(this,"reuseWorkers",!0),u(this,"props",{}),u(this,"jobQueue",[]),u(this,"idleQueue",[]),u(this,"count",0),u(this,"isDestroyed",!1),this.source=Ye.source,this.url=Ye.url,this.setProps(Ye)}destroy(){this.idleQueue.forEach(Ye=>Ye.destroy()),this.isDestroyed=!0}setProps(Ye){this.props={...this.props,...Ye},void 0!==Ye.name&&(this.name=Ye.name),void 0!==Ye.maxConcurrency&&(this.maxConcurrency=Ye.maxConcurrency),void 0!==Ye.maxMobileConcurrency&&(this.maxMobileConcurrency=Ye.maxMobileConcurrency),void 0!==Ye.reuseWorkers&&(this.reuseWorkers=Ye.reuseWorkers),void 0!==Ye.onDebug&&(this.onDebug=Ye.onDebug)}startJob(Ye,Vt=((it,ke,Jt)=>it.done(Jt)),En=((it,ke)=>it.error(ke))){var it=this;return i(function*(){const ke=new Promise(Jt=>(it.jobQueue.push({name:Ye,onMessage:Vt,onError:En,onStart:Jt}),it));return it._startQueuedJob(),yield ke})()}_startQueuedJob(){var Ye=this;return i(function*(){if(!Ye.jobQueue.length)return;const Vt=Ye._getAvailableWorker();if(!Vt)return;const En=Ye.jobQueue.shift();if(En){Ye.onDebug({message:"Starting job",name:En.name,workerThread:Vt,backlog:Ye.jobQueue.length});const it=new _e(En.name,Vt);Vt.onMessage=ke=>En.onMessage(it,ke.type,ke.payload),Vt.onError=ke=>En.onError(it,ke),En.onStart(it);try{yield it.result}catch(ke){console.error(`Worker exception: ${ke}`)}finally{Ye.returnWorkerToQueue(Vt)}}})()}returnWorkerToQueue(Ye){!B||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(Ye.destroy(),this.count--):this.idleQueue.push(Ye),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const Ye=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new It({name:Ye,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Oe?this.maxMobileConcurrency:this.maxConcurrency}},Xe={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Ot=class{static isSupported(){return It.isSupported()}static getWorkerFarm(Ye={}){return Ot._workerFarm=Ot._workerFarm||new Ot({}),Ot._workerFarm.setProps(Ye),Ot._workerFarm}constructor(Ye){u(this,"props",void 0),u(this,"workerPools",new Map),this.props={...Xe},this.setProps(Ye),this.workerPools=new Map}destroy(){for(const Ye of this.workerPools.values())Ye.destroy();this.workerPools=new Map}setProps(Ye){this.props={...this.props,...Ye};for(const Vt of this.workerPools.values())Vt.setProps(this._getWorkerPoolProps())}getWorkerPool(Ye){const{name:Vt,source:En,url:it}=Ye;let ke=this.workerPools.get(Vt);return ke||(ke=new Ne({name:Vt,source:En,url:it}),ke.setProps(this._getWorkerPoolProps()),this.workerPools.set(Vt,ke)),ke}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}},re=Ot;function D(){return F.apply(this,arguments)}function F(){return(F=i(function*(){return Bt})).apply(this,arguments)}((Xt,Ye,Vt)=>{((Xt,Ye,Vt)=>{Ye in Xt?x(Xt,Ye,{enumerable:!0,configurable:!0,writable:!0,value:undefined}):Xt[Ye]=undefined})(Xt,Ye+"")})(re,"_workerFarm");var T=new Map,W=class{static inWorkerThread(){return i(function*(){return typeof self<"u"||!!(yield D())})()}static set onmessage(Xt){function Ye(En){return Vt.apply(this,arguments)}function Vt(){return(Vt=i(function*(En){const it=yield D(),{type:ke,payload:Jt}=it?En:En.data;Xt(ke,Jt)})).apply(this,arguments)}D().then(En=>{En?(En.on("message",it=>{Ye(it)}),En.on("exit",()=>console.debug("Node worker closing"))):globalThis.onmessage=Ye})}static addEventListener(Xt){return i(function*(){let Ye=T.get(Xt);Ye||(Ye=function(){var En=i(function*(it){if(!function z(Xt){const{type:Ye,data:Vt}=Xt;return"message"===Ye&&Vt&&"string"==typeof Vt.source&&Vt.source.startsWith("loaders.gl")}(it))return;const ke=yield D(),{type:Jt,payload:We}=ke?it:it.data;Xt(Jt,We)});return function(ke){return En.apply(this,arguments)}}()),(yield D())?console.error("not implemented"):globalThis.addEventListener("message",Ye)})()}static removeEventListener(Xt){return i(function*(){const Ye=T.get(Xt);T.delete(Xt),(yield D())?console.error("not implemented"):globalThis.removeEventListener("message",Ye)})()}static postMessage(Xt,Ye){return i(function*(){const Vt={source:"loaders.gl",type:Xt,payload:Ye},En=Re(Ye),it=yield D();it?it.postMessage(Vt,En):globalThis.postMessage(Vt,En)})()}};function I(Xt,Ye={}){const En=B?`${Xt.id}-worker.js`:`${Xt.id}-worker-node.js`;let it=(Ye[Xt.id]||{}).workerUrl;if(!it&&"compression"===Xt.id&&(it=Ye.workerUrl),"test"===Ye._workerType&&(it=B?`modules/${Xt.module}/dist/${En}`:`modules/${Xt.module}/src/workers/${Xt.id}-worker-node.ts`),!it){let ke=Xt.version;"latest"===ke&&(ke=V),it=`https://unpkg.com/@loaders.gl/${Xt.module}${ke?`@${ke}`:""}/dist/${En}`}return te(it),it}function Ae(Xt,Ye){return!!re.isSupported()&&Xt.worker&&Ye?.worker}function se(Xt,Ye){return L.apply(this,arguments)}function L(){return L=i(function*(Xt,Ye,Vt={},En={}){const it=function p(Xt){return`${Xt.name}@${Xt.version}${Xt.version!==J?` (worker-utils@${J})`:""}`}(Xt),ke=re.getWorkerFarm(Vt),{source:Jt}=Vt,We={name:it,source:Jt};Jt||(We.url=I(Xt,Vt));const Tt=ke.getWorkerPool(We),wn=Vt.jobName||Xt.name,In=yield Tt.startJob(wn,ve.bind(null,En)),dr=zt(Vt);return In.postMessage("process",{input:Ye,options:dr}),(yield In.result).result}),L.apply(this,arguments)}function ve(Xt,Ye,Vt,En){return ge.apply(this,arguments)}function ge(){return ge=i(function*(Xt,Ye,Vt,En){switch(Vt){case"done":Ye.done(En);break;case"error":Ye.error(new Error(En.error));break;case"process":const{id:it,input:ke,options:Jt}=En;try{if(!Xt.process)return void Ye.postMessage("error",{id:it,error:"Worker not set up to process on main thread"});const We=yield Xt.process(ke,Jt);Ye.postMessage("done",{id:it,result:We})}catch(We){const Tt=We instanceof Error?We.message:"unknown error";Ye.postMessage("error",{id:it,error:Tt})}break;default:console.warn(`process-on-worker: unknown message ${Vt}`)}}),ge.apply(this,arguments)}var Rt,et=class{constructor(){u(this,"_values",void 0),u(this,"_settlers",void 0),u(this,"_closed",void 0),this._values=[],this._settlers=[],this._closed=!1}[Symbol.asyncIterator](){return this}push(Ye){return this.enqueue(Ye)}enqueue(Ye){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const Vt=this._settlers.shift();Ye instanceof Error?Vt.reject(Ye):Vt.resolve({value:Ye})}else this._values.push(Ye)}close(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}next(){if(this._values.length>0){const Ye=this._values.shift();return Ye instanceof Error?Promise.reject(Ye):Promise.resolve({done:!1,value:Ye})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((Ye,Vt)=>{this._settlers.push({resolve:Ye,reject:Vt})})}},Pt=0;function je(Xt,Ye){return Ht.apply(this,arguments)}function Ht(){return Ht=i(function*(Xt,Ye){if(!(yield W.inWorkerThread()))return;const Vt={process:ut};W.onmessage=function(){var En=i(function*(it,ke){try{switch(it){case"process":if(!Xt)throw new Error("Worker does not support atomic processing");const dr=yield Xt(ke.input,ke.options||{},Vt);W.postMessage("done",{result:dr});break;case"process-in-batches":if(!Ye)throw new Error("Worker does not support batched processing");Rt=new et;const sr=Ye(Rt,ke.options||{},Vt);var Tt,Jt=!1,We=!1;try{for(var In,wn=f(sr);Jt=!(In=yield wn.next()).done;Jt=!1)W.postMessage("output-batch",{result:In.value})}catch(Gr){We=!0,Tt=Gr}finally{try{Jt&&null!=wn.return&&(yield wn.return())}finally{if(We)throw Tt}}W.postMessage("done",{});break;case"input-batch":Rt.push(ke.input);break;case"input-done":Rt.close()}}catch(dr){const sr=dr instanceof Error?dr.message:"";W.postMessage("error",{error:sr})}});return function(it,ke){return En.apply(this,arguments)}}()}),Ht.apply(this,arguments)}function ut(Xt,Ye={}){return new Promise((Vt,En)=>{const it=Pt++,ke=(We,Tt)=>{if(Tt.id===it)switch(We){case"done":W.removeEventListener(ke),Vt(Tt.result);break;case"error":W.removeEventListener(ke),En(Tt.error)}};W.addEventListener(ke),W.postMessage("process",{id:it,input:Xt,options:Ye})})}function jt(Xt,Ye=J){return te(Xt,"no worker provided"),!(!Ye||!Xt.version)}var gn={};function lt(Xt){return bt.apply(this,arguments)}function bt(){return bt=i(function*(Xt,Ye=null,Vt={},En=null){return Ye&&(Xt=He(Xt,Ye,Vt,En)),gn[Xt]=gn[Xt]||function ye(Xt){return mt.apply(this,arguments)}(Xt),yield gn[Xt]}),bt.apply(this,arguments)}function He(Xt,Ye,Vt={},En=null){if(!Vt.useLocalLibraries&&Xt.startsWith("http"))return Xt;const it=Vt.modules||{};return it[En=En||Xt]?it[En]:B?Vt.CDN?(te(Vt.CDN.startsWith("http")),`${Vt.CDN}/${Ye}@${J}/dist/libs/${En}`):ce?`../src/libs/${En}`:`modules/${Ye}/src/libs/${En}`:`modules/${Ye}/dist/libs/${En}`}function mt(){return mt=i(function*(Xt){if(Xt.endsWith("wasm"))return yield function Kt(Xt){return Dn.apply(this,arguments)}(Xt);if(!B)try{const{requireFromFile:Vt}=globalThis.loaders||{};return yield Vt?.(Xt)}catch(Vt){return console.error(Vt),null}if(ce)return importScripts(Xt);const Ye=yield function Jn(Xt){return lr.apply(this,arguments)}(Xt);return function rt(Xt,Ye){if(!B){const{requireFromString:En}=globalThis.loaders||{};return En?.(Xt,Ye)}if(ce)return eval.call(globalThis,Xt),null;const Vt=document.createElement("script");Vt.id=Ye;try{Vt.appendChild(document.createTextNode(Xt))}catch{Vt.text=Xt}return document.body.appendChild(Vt),null}(Ye,Xt)}),mt.apply(this,arguments)}function Dn(){return Dn=i(function*(Xt){const{readFileAsArrayBuffer:Ye}=globalThis.loaders||{};return B||!Ye||Xt.startsWith("http")?yield(yield fetch(Xt)).arrayBuffer():yield Ye(Xt)}),Dn.apply(this,arguments)}function lr(){return lr=i(function*(Xt){const{readFileAsText:Ye}=globalThis.loaders||{};return B||!Ye||Xt.startsWith("http")?yield(yield fetch(Xt)).text():yield Ye(Xt)}),lr.apply(this,arguments)}var an=v(E(95904),1),At=v(E(95904),1),xt={command:"",arguments:[],port:5e3,autoPort:!0,wait:2e3,onSuccess:Xt=>{console.log(`Started ${Xt.props.command}`)}},gt=class{constructor({id:Ye="browser-driver"}={}){u(this,"id",void 0),u(this,"props",{...xt}),u(this,"childProcess",null),u(this,"port",0),u(this,"successTimer",void 0),this.id=Ye}start(Ye){var Vt=this;return i(function*(){Ye={...xt,...Ye},Vt.props=Ye;const En=[...Ye.arguments];return Vt.port=Number(Ye.port),Ye.portArg&&(Ye.autoPort&&(Vt.port=yield function Et(Xt=3e3){return new Promise(Ye=>{At.default.exec("lsof -i -P -n | grep LISTEN",(Vt,En)=>{if(Vt)return void Ye(Xt);const it=[],ke=/:(\d+) \(LISTEN\)/;En.split("\n").forEach(We=>{const Tt=ke.exec(We);Tt&&it.push(Number(Tt[1]))});let Jt=Xt;for(;it.includes(Jt);)Jt++;Ye(Jt)})})}(Ye.port)),En.push(Ye.portArg,String(Vt.port))),yield new Promise((it,ke)=>{try{Vt._setTimeout(()=>{Ye.onSuccess&&Ye.onSuccess(Vt),it({})}),console.log(`Spawning ${Ye.command} ${Ye.arguments.join(" ")}`);const Jt=an.spawn(Ye.command,En,Ye.spawn);Vt.childProcess=Jt,Jt.stdout.on("data",We=>{console.log(We.toString())}),Jt.stderr.on("data",We=>{console.log(`Child process wrote to stderr: "${We}".`),Ye.ignoreStderr||(Vt._clearTimeout(),ke(new Error(We)))}),Jt.on("error",We=>{console.log(`Child process errored with ${We}`),Vt._clearTimeout(),ke(We)}),Jt.on("close",We=>{console.log(`Child process exited with ${We}`),Vt.childProcess=null,Vt._clearTimeout(),it({})})}catch(Jt){ke(Jt)}})})()}stop(){var Ye=this;return i(function*(){Ye.childProcess&&(Ye.childProcess.kill(),Ye.childProcess=null)})()}exit(Ye=0){var Vt=this;return i(function*(){try{yield Vt.stop(),process.exit(Ye)}catch(En){console.error(En.message||En),process.exit(1)}})()}_setTimeout(Ye){Number(this.props.wait)>0&&(this.successTimer=setTimeout(Ye,this.props.wait))}_clearTimeout(){this.successTimer&&clearTimeout(this.successTimer)}},tn={id:"null",name:"null",module:"worker-utils",version:J,options:{null:{}}}},87974:en=>{var r,Ve=Object.defineProperty,E=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,f=(r,m)=>{for(var q in m)Ve(r,q,{get:m[q],enumerable:!0})},w={};f(w,{Euler:()=>ma,Matrix3:()=>nn,Matrix4:()=>xa,Pose:()=>ul,Quaternion:()=>Ji,SphericalCoordinates:()=>$s,Vector2:()=>In,Vector3:()=>Zo,Vector4:()=>ns,_Euler:()=>ma,_MathUtils:()=>xd,_Pose:()=>ul,_SphericalCoordinates:()=>$s,acos:()=>$,asin:()=>Y,assert:()=>he,atan:()=>H,clamp:()=>me,clone:()=>M,config:()=>U,configure:()=>P,cos:()=>te,degrees:()=>Z,equals:()=>ce,exactEquals:()=>Oe,formatValue:()=>y,isArray:()=>v,lerp:()=>B,mat3:()=>ar,mat4:()=>$r,quat:()=>Ac,radians:()=>V,sin:()=>J,tan:()=>ae,toDegrees:()=>K,toRadians:()=>G,vec2:()=>Re,vec3:()=>dr,vec4:()=>Vi,withEpsilon:()=>Ue}),en.exports=(r=w,((r,m,q,Fe)=>{if(m&&"object"==typeof m||"function"==typeof m)for(let _t of i(m))!u.call(r,_t)&&undefined!==_t&&Ve(r,_t,{get:()=>m[_t],enumerable:!(Fe=E(m,_t))||Fe.enumerable});return r})(Ve({},"__esModule",{value:!0}),r));var d=1/Math.PI*180,k=1/180*Math.PI;globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};var U=globalThis.mathgl.config;function P(r){return Object.assign(U,r),U}function y(r,{precision:m=U.precision}={}){return r=function qe(r){return Math.round(r/U.EPSILON)*U.EPSILON}(r),`${parseFloat(r.toPrecision(m))}`}function v(r){return Array.isArray(r)||ArrayBuffer.isView(r)&&!(r instanceof DataView)}function M(r){return"clone"in r?r.clone():r.slice()}function G(r){return V(r)}function K(r){return Z(r)}function V(r,m){return ht(r,q=>q*k,m)}function Z(r,m){return ht(r,q=>q*d,m)}function J(r,m){return ht(r,q=>Math.sin(q),m)}function te(r,m){return ht(r,q=>Math.cos(q),m)}function ae(r,m){return ht(r,q=>Math.tan(q),m)}function Y(r,m){return ht(r,q=>Math.asin(q),m)}function $(r,m){return ht(r,q=>Math.acos(q),m)}function H(r,m){return ht(r,q=>Math.atan(q),m)}function me(r,m,q){return ht(r,Fe=>Math.max(m,Math.min(q,Fe)))}function B(r,m,q){return v(r)?r.map((Fe,_t)=>B(Fe,m[_t],q)):q*m+(1-q)*r}function ce(r,m,q){const Fe=U.EPSILON;q&&(U.EPSILON=q);try{if(r===m)return!0;if(v(r)&&v(m)){if(r.length!==m.length)return!1;for(let _t=0;_t<r.length;++_t)if(!ce(r[_t],m[_t]))return!1;return!0}return r&&r.equals?r.equals(m):m&&m.equals?m.equals(r):"number"==typeof r&&"number"==typeof m&&Math.abs(r-m)<=U.EPSILON*Math.max(1,Math.abs(r),Math.abs(m))}finally{U.EPSILON=Fe}}function Oe(r,m){if(r===m)return!0;if(r&&"object"==typeof r&&m&&"object"==typeof m){if(r.constructor!==m.constructor)return!1;if(r.exactEquals)return r.exactEquals(m)}if(v(r)&&v(m)){if(r.length!==m.length)return!1;for(let q=0;q<r.length;++q)if(!Oe(r[q],m[q]))return!1;return!0}return!1}function Ue(r,m){const q=U.EPSILON;let Fe;U.EPSILON=r;try{Fe=m()}finally{U.EPSILON=q}return Fe}function ht(r,m,q){if(v(r)){const Fe=r;q=q||function _e(r){return r.clone?r.clone():new Array(r.length)}(Fe);for(let _t=0;_t<q.length&&_t<Fe.length;++_t)q[_t]=m("number"==typeof r?r:r[_t],_t,q);return q}return m(r)}var Bt=class extends Array{clone(){return(new this.constructor).copy(this)}fromArray(r,m=0){for(let q=0;q<this.ELEMENTS;++q)this[q]=r[q+m];return this.check()}toArray(r=[],m=0){for(let q=0;q<this.ELEMENTS;++q)r[m+q]=this[q];return r}toObject(r){return r}from(r){return Array.isArray(r)?this.copy(r):this.fromObject(r)}to(r){return r===this?this:v(r)?this.toArray(r):this.toObject(r)}toTarget(r){return r?this.to(r):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(U)}formatString(r){let m="";for(let q=0;q<this.ELEMENTS;++q)m+=(q>0?", ":"")+y(this[q],r);return`${r.printTypes?this.constructor.name:""}[${m}]`}equals(r){if(!r||this.length!==r.length)return!1;for(let m=0;m<this.ELEMENTS;++m)if(!ce(this[m],r[m]))return!1;return!0}exactEquals(r){if(!r||this.length!==r.length)return!1;for(let m=0;m<this.ELEMENTS;++m)if(this[m]!==r[m])return!1;return!0}negate(){for(let r=0;r<this.ELEMENTS;++r)this[r]=-this[r];return this.check()}lerp(r,m,q){if(void 0===q)return this.lerp(this,r,m);for(let Fe=0;Fe<this.ELEMENTS;++Fe){const _t=r[Fe];this[Fe]=_t+q*(("number"==typeof m?m:m[Fe])-_t)}return this.check()}min(r){for(let m=0;m<this.ELEMENTS;++m)this[m]=Math.min(r[m],this[m]);return this.check()}max(r){for(let m=0;m<this.ELEMENTS;++m)this[m]=Math.max(r[m],this[m]);return this.check()}clamp(r,m){for(let q=0;q<this.ELEMENTS;++q)this[q]=Math.min(Math.max(this[q],r[q]),m[q]);return this.check()}add(...r){for(const m of r)for(let q=0;q<this.ELEMENTS;++q)this[q]+=m[q];return this.check()}subtract(...r){for(const m of r)for(let q=0;q<this.ELEMENTS;++q)this[q]-=m[q];return this.check()}scale(r){if("number"==typeof r)for(let m=0;m<this.ELEMENTS;++m)this[m]*=r;else for(let m=0;m<this.ELEMENTS&&m<r.length;++m)this[m]*=r[m];return this.check()}multiplyByScalar(r){for(let m=0;m<this.ELEMENTS;++m)this[m]*=r;return this.check()}check(){if(U.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let r=this.length===this.ELEMENTS;for(let m=0;m<this.ELEMENTS;++m)r=r&&Number.isFinite(this[m]);return r}sub(r){return this.subtract(r)}setScalar(r){for(let m=0;m<this.ELEMENTS;++m)this[m]=r;return this.check()}addScalar(r){for(let m=0;m<this.ELEMENTS;++m)this[m]+=r;return this.check()}subScalar(r){return this.addScalar(-r)}multiplyScalar(r){for(let m=0;m<this.ELEMENTS;++m)this[m]*=r;return this.check()}divideScalar(r){return this.multiplyByScalar(1/r)}clampScalar(r,m){for(let q=0;q<this.ELEMENTS;++q)this[q]=Math.min(Math.max(this[q],r),m);return this.check()}get elements(){return this}};function R(r){if(!Number.isFinite(r))throw new Error(`Invalid number ${JSON.stringify(r)}`);return r}function j(r,m,q=""){if(U.debug&&!function de(r,m){if(r.length!==m)return!1;for(let q=0;q<r.length;++q)if(!Number.isFinite(r[q]))return!1;return!0}(r,m))throw new Error(`math.gl: ${q} some fields set to invalid numbers'`);return r}function he(r,m){if(!r)throw new Error(`math.gl assertion ${m}`)}var Ce=class extends Bt{get x(){return this[0]}set x(r){this[0]=R(r)}get y(){return this[1]}set y(r){this[1]=R(r)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let r=0;for(let m=0;m<this.ELEMENTS;++m)r+=this[m]*this[m];return r}magnitudeSquared(){return this.lengthSquared()}distance(r){return Math.sqrt(this.distanceSquared(r))}distanceSquared(r){let m=0;for(let q=0;q<this.ELEMENTS;++q){const Fe=this[q]-r[q];m+=Fe*Fe}return R(m)}dot(r){let m=0;for(let q=0;q<this.ELEMENTS;++q)m+=this[q]*r[q];return R(m)}normalize(){const r=this.magnitude();if(0!==r)for(let m=0;m<this.ELEMENTS;++m)this[m]/=r;return this.check()}multiply(...r){for(const m of r)for(let q=0;q<this.ELEMENTS;++q)this[q]*=m[q];return this.check()}divide(...r){for(const m of r)for(let q=0;q<this.ELEMENTS;++q)this[q]/=m[q];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(r){return this.distance(r)}distanceToSquared(r){return this.distanceSquared(r)}getComponent(r){return he(r>=0&&r<this.ELEMENTS,"index is out of range"),R(this[r])}setComponent(r,m){return he(r>=0&&r<this.ELEMENTS,"index is out of range"),this[r]=m,this.check()}addVectors(r,m){return this.copy(r).add(m)}subVectors(r,m){return this.copy(r).subtract(m)}multiplyVectors(r,m){return this.copy(r).multiply(m)}addScaledVector(r,m){return this.add(new this.constructor(r).multiplyScalar(m))}},Re={};f(Re,{add:()=>T,angle:()=>Jn,ceil:()=>I,clone:()=>Ot,copy:()=>D,create:()=>Xe,cross:()=>lt,dist:()=>Ye,distance:()=>Pt,div:()=>Xt,divide:()=>p,dot:()=>gn,equals:()=>Et,exactEquals:()=>At,floor:()=>Ae,forEach:()=>it,fromValues:()=>re,inverse:()=>ut,len:()=>xt,length:()=>ln,lerp:()=>bt,max:()=>L,min:()=>se,mul:()=>tn,multiply:()=>z,negate:()=>Ht,normalize:()=>jt,random:()=>He,rotate:()=>Dn,round:()=>ve,scale:()=>ge,scaleAndAdd:()=>et,set:()=>F,sqrDist:()=>Vt,sqrLen:()=>En,squaredDistance:()=>Rt,squaredLength:()=>je,str:()=>an,sub:()=>gt,subtract:()=>W,transformMat2:()=>ye,transformMat2d:()=>mt,transformMat3:()=>rt,transformMat4:()=>Kt,zero:()=>lr});var pt=1e-6,zt=typeof Float32Array<"u"?Float32Array:Array,Mn=Math.random;function It(r){return r>=0?Math.round(r):r%.5==0?Math.floor(r):Math.round(r)}function Xe(){const r=new zt(2);return zt!=Float32Array&&(r[0]=0,r[1]=0),r}function Ot(r){const m=new zt(2);return m[0]=r[0],m[1]=r[1],m}function re(r,m){const q=new zt(2);return q[0]=r,q[1]=m,q}function D(r,m){return r[0]=m[0],r[1]=m[1],r}function F(r,m,q){return r[0]=m,r[1]=q,r}function T(r,m,q){return r[0]=m[0]+q[0],r[1]=m[1]+q[1],r}function W(r,m,q){return r[0]=m[0]-q[0],r[1]=m[1]-q[1],r}function z(r,m,q){return r[0]=m[0]*q[0],r[1]=m[1]*q[1],r}function p(r,m,q){return r[0]=m[0]/q[0],r[1]=m[1]/q[1],r}function I(r,m){return r[0]=Math.ceil(m[0]),r[1]=Math.ceil(m[1]),r}function Ae(r,m){return r[0]=Math.floor(m[0]),r[1]=Math.floor(m[1]),r}function se(r,m,q){return r[0]=Math.min(m[0],q[0]),r[1]=Math.min(m[1],q[1]),r}function L(r,m,q){return r[0]=Math.max(m[0],q[0]),r[1]=Math.max(m[1],q[1]),r}function ve(r,m){return r[0]=It(m[0]),r[1]=It(m[1]),r}function ge(r,m,q){return r[0]=m[0]*q,r[1]=m[1]*q,r}function et(r,m,q,Fe){return r[0]=m[0]+q[0]*Fe,r[1]=m[1]+q[1]*Fe,r}function Pt(r,m){const q=m[0]-r[0],Fe=m[1]-r[1];return Math.sqrt(q*q+Fe*Fe)}function Rt(r,m){const q=m[0]-r[0],Fe=m[1]-r[1];return q*q+Fe*Fe}function ln(r){const m=r[0],q=r[1];return Math.sqrt(m*m+q*q)}function je(r){const m=r[0],q=r[1];return m*m+q*q}function Ht(r,m){return r[0]=-m[0],r[1]=-m[1],r}function ut(r,m){return r[0]=1/m[0],r[1]=1/m[1],r}function jt(r,m){const q=m[0],Fe=m[1];let _t=q*q+Fe*Fe;return _t>0&&(_t=1/Math.sqrt(_t)),r[0]=m[0]*_t,r[1]=m[1]*_t,r}function gn(r,m){return r[0]*m[0]+r[1]*m[1]}function lt(r,m,q){const Fe=m[0]*q[1]-m[1]*q[0];return r[0]=r[1]=0,r[2]=Fe,r}function bt(r,m,q,Fe){const _t=m[0],Qt=m[1];return r[0]=_t+Fe*(q[0]-_t),r[1]=Qt+Fe*(q[1]-Qt),r}function He(r,m){m=void 0===m?1:m;const q=2*Mn()*Math.PI;return r[0]=Math.cos(q)*m,r[1]=Math.sin(q)*m,r}function ye(r,m,q){const Fe=m[0],_t=m[1];return r[0]=q[0]*Fe+q[2]*_t,r[1]=q[1]*Fe+q[3]*_t,r}function mt(r,m,q){const Fe=m[0],_t=m[1];return r[0]=q[0]*Fe+q[2]*_t+q[4],r[1]=q[1]*Fe+q[3]*_t+q[5],r}function rt(r,m,q){const Fe=m[0],_t=m[1];return r[0]=q[0]*Fe+q[3]*_t+q[6],r[1]=q[1]*Fe+q[4]*_t+q[7],r}function Kt(r,m,q){const Fe=m[0],_t=m[1];return r[0]=q[0]*Fe+q[4]*_t+q[12],r[1]=q[1]*Fe+q[5]*_t+q[13],r}function Dn(r,m,q,Fe){const _t=m[0]-q[0],Qt=m[1]-q[1],_n=Math.sin(Fe),On=Math.cos(Fe);return r[0]=_t*On-Qt*_n+q[0],r[1]=_t*_n+Qt*On+q[1],r}function Jn(r,m){const q=r[0],Fe=r[1],_t=m[0],Qt=m[1],_n=Math.sqrt((q*q+Fe*Fe)*(_t*_t+Qt*Qt));return Math.acos(Math.min(Math.max(_n&&(q*_t+Fe*Qt)/_n,-1),1))}function lr(r){return r[0]=0,r[1]=0,r}function an(r){return`vec2(${r[0]}, ${r[1]})`}function At(r,m){return r[0]===m[0]&&r[1]===m[1]}function Et(r,m){const q=r[0],Fe=r[1],_t=m[0],Qt=m[1];return Math.abs(q-_t)<=pt*Math.max(1,Math.abs(q),Math.abs(_t))&&Math.abs(Fe-Qt)<=pt*Math.max(1,Math.abs(Fe),Math.abs(Qt))}Math;var xt=ln,gt=W,tn=z,Xt=p,Ye=Pt,Vt=Rt,En=je,it=function(){const r=Xe();return function(m,q,Fe,_t,Qt,_n){let On,Qn;for(q||(q=2),Fe||(Fe=0),Qn=_t?Math.min(_t*q+Fe,m.length):m.length,On=Fe;On<Qn;On+=q)r[0]=m[On],r[1]=m[On+1],Qt(r,r,_n),m[On]=r[0],m[On+1]=r[1];return m}}();function ke(r,m,q){const Fe=m[0],_t=m[1],Qt=q[3]*Fe+q[7]*_t||1;return r[0]=(q[0]*Fe+q[4]*_t)/Qt,r[1]=(q[1]*Fe+q[5]*_t)/Qt,r}function Jt(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=q[3]*Fe+q[7]*_t+q[11]*Qt||1;return r[0]=(q[0]*Fe+q[4]*_t+q[8]*Qt)/_n,r[1]=(q[1]*Fe+q[5]*_t+q[9]*Qt)/_n,r[2]=(q[2]*Fe+q[6]*_t+q[10]*Qt)/_n,r}function wn(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2];return r[0]=q[0]*Fe+q[3]*_t+q[6]*Qt,r[1]=q[1]*Fe+q[4]*_t+q[7]*Qt,r[2]=q[2]*Fe+q[5]*_t+q[8]*Qt,r[3]=m[3],r}var In=class extends Ce{constructor(r=0,m=0){super(2),v(r)&&1===arguments.length?this.copy(r):(U.debug&&(R(r),R(m)),this[0]=r,this[1]=m)}set(r,m){return this[0]=r,this[1]=m,this.check()}copy(r){return this[0]=r[0],this[1]=r[1],this.check()}fromObject(r){return U.debug&&(R(r.x),R(r.y)),this[0]=r.x,this[1]=r.y,this.check()}toObject(r){return r.x=this[0],r.y=this[1],r}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(r){return this.transformAsPoint(r)}transformAsPoint(r){return Kt(this,this,r),this.check()}transformAsVector(r){return ke(this,this,r),this.check()}transformByMatrix3(r){return rt(this,this,r),this.check()}transformByMatrix2x3(r){return mt(this,this,r),this.check()}transformByMatrix2(r){return ye(this,this,r),this.check()}},dr={};function sr(){const r=new zt(3);return zt!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Gr(r){const m=new zt(3);return m[0]=r[0],m[1]=r[1],m[2]=r[2],m}function hi(r){const m=r[0],q=r[1],Fe=r[2];return Math.sqrt(m*m+q*q+Fe*Fe)}function Ei(r,m,q){const Fe=new zt(3);return Fe[0]=r,Fe[1]=m,Fe[2]=q,Fe}function fi(r,m){return r[0]=m[0],r[1]=m[1],r[2]=m[2],r}function co(r,m,q,Fe){return r[0]=m,r[1]=q,r[2]=Fe,r}function uo(r,m,q){return r[0]=m[0]+q[0],r[1]=m[1]+q[1],r[2]=m[2]+q[2],r}function Pi(r,m,q){return r[0]=m[0]-q[0],r[1]=m[1]-q[1],r[2]=m[2]-q[2],r}function ti(r,m,q){return r[0]=m[0]*q[0],r[1]=m[1]*q[1],r[2]=m[2]*q[2],r}function mr(r,m,q){return r[0]=m[0]/q[0],r[1]=m[1]/q[1],r[2]=m[2]/q[2],r}function Li(r,m){return r[0]=Math.ceil(m[0]),r[1]=Math.ceil(m[1]),r[2]=Math.ceil(m[2]),r}function ro(r,m){return r[0]=Math.floor(m[0]),r[1]=Math.floor(m[1]),r[2]=Math.floor(m[2]),r}function Pe(r,m,q){return r[0]=Math.min(m[0],q[0]),r[1]=Math.min(m[1],q[1]),r[2]=Math.min(m[2],q[2]),r}function dt(r,m,q){return r[0]=Math.max(m[0],q[0]),r[1]=Math.max(m[1],q[1]),r[2]=Math.max(m[2],q[2]),r}function vn(r,m){return r[0]=It(m[0]),r[1]=It(m[1]),r[2]=It(m[2]),r}function bn(r,m,q){return r[0]=m[0]*q,r[1]=m[1]*q,r[2]=m[2]*q,r}function Gn(r,m,q,Fe){return r[0]=m[0]+q[0]*Fe,r[1]=m[1]+q[1]*Fe,r[2]=m[2]+q[2]*Fe,r}function nr(r,m){const q=m[0]-r[0],Fe=m[1]-r[1],_t=m[2]-r[2];return Math.sqrt(q*q+Fe*Fe+_t*_t)}function er(r,m){const q=m[0]-r[0],Fe=m[1]-r[1],_t=m[2]-r[2];return q*q+Fe*Fe+_t*_t}function Be(r){const m=r[0],q=r[1],Fe=r[2];return m*m+q*q+Fe*Fe}function tt(r,m){return r[0]=-m[0],r[1]=-m[1],r[2]=-m[2],r}function un(r,m){return r[0]=1/m[0],r[1]=1/m[1],r[2]=1/m[2],r}function fr(r,m){const q=m[0],Fe=m[1],_t=m[2];let Qt=q*q+Fe*Fe+_t*_t;return Qt>0&&(Qt=1/Math.sqrt(Qt)),r[0]=m[0]*Qt,r[1]=m[1]*Qt,r[2]=m[2]*Qt,r}function Ar(r,m){return r[0]*m[0]+r[1]*m[1]+r[2]*m[2]}function zr(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=q[0],On=q[1],Qn=q[2];return r[0]=_t*Qn-Qt*On,r[1]=Qt*_n-Fe*Qn,r[2]=Fe*On-_t*_n,r}function si(r,m,q,Fe){const _t=m[0],Qt=m[1],_n=m[2];return r[0]=_t+Fe*(q[0]-_t),r[1]=Qt+Fe*(q[1]-Qt),r[2]=_n+Fe*(q[2]-_n),r}function Ti(r,m,q,Fe){const _t=Math.acos(Math.min(Math.max(Ar(m,q),-1),1)),Qt=Math.sin(_t),_n=Math.sin((1-Fe)*_t)/Qt,On=Math.sin(Fe*_t)/Qt;return r[0]=_n*m[0]+On*q[0],r[1]=_n*m[1]+On*q[1],r[2]=_n*m[2]+On*q[2],r}function ni(r,m,q,Fe,_t,Qt){const _n=Qt*Qt,On=_n*(2*Qt-3)+1,Qn=_n*(Qt-2)+Qt,Kn=_n*(Qt-1),Mr=_n*(3-2*Qt);return r[0]=m[0]*On+q[0]*Qn+Fe[0]*Kn+_t[0]*Mr,r[1]=m[1]*On+q[1]*Qn+Fe[1]*Kn+_t[1]*Mr,r[2]=m[2]*On+q[2]*Qn+Fe[2]*Kn+_t[2]*Mr,r}function ai(r,m,q,Fe,_t,Qt){const _n=1-Qt,On=_n*_n,Qn=Qt*Qt,Kn=On*_n,Mr=3*Qt*On,ii=3*Qn*_n,oi=Qn*Qt;return r[0]=m[0]*Kn+q[0]*Mr+Fe[0]*ii+_t[0]*oi,r[1]=m[1]*Kn+q[1]*Mr+Fe[1]*ii+_t[1]*oi,r[2]=m[2]*Kn+q[2]*Mr+Fe[2]*ii+_t[2]*oi,r}function Oi(r,m){m=void 0===m?1:m;const q=2*Mn()*Math.PI,Fe=2*Mn()-1,_t=Math.sqrt(1-Fe*Fe)*m;return r[0]=Math.cos(q)*_t,r[1]=Math.sin(q)*_t,r[2]=Fe*m,r}function so(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2];let _n=q[3]*Fe+q[7]*_t+q[11]*Qt+q[15];return _n=_n||1,r[0]=(q[0]*Fe+q[4]*_t+q[8]*Qt+q[12])/_n,r[1]=(q[1]*Fe+q[5]*_t+q[9]*Qt+q[13])/_n,r[2]=(q[2]*Fe+q[6]*_t+q[10]*Qt+q[14])/_n,r}function wo(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2];return r[0]=Fe*q[0]+_t*q[3]+Qt*q[6],r[1]=Fe*q[1]+_t*q[4]+Qt*q[7],r[2]=Fe*q[2]+_t*q[5]+Qt*q[8],r}function eo(r,m,q){const Fe=q[0],_t=q[1],Qt=q[2],On=m[0],Qn=m[1],Kn=m[2];let Mr=_t*Kn-Qt*Qn,ii=Qt*On-Fe*Kn,oi=Fe*Qn-_t*On,ui=_t*oi-Qt*ii,Ai=Qt*Mr-Fe*oi,oo=Fe*ii-_t*Mr;const yi=2*q[3];return Mr*=yi,ii*=yi,oi*=yi,ui*=2,Ai*=2,oo*=2,r[0]=On+Mr+ui,r[1]=Qn+ii+Ai,r[2]=Kn+oi+oo,r}function Vo(r,m,q,Fe){const _t=[],Qt=[];return _t[0]=m[0]-q[0],_t[1]=m[1]-q[1],_t[2]=m[2]-q[2],Qt[0]=_t[0],Qt[1]=_t[1]*Math.cos(Fe)-_t[2]*Math.sin(Fe),Qt[2]=_t[1]*Math.sin(Fe)+_t[2]*Math.cos(Fe),r[0]=Qt[0]+q[0],r[1]=Qt[1]+q[1],r[2]=Qt[2]+q[2],r}function $n(r,m,q,Fe){const _t=[],Qt=[];return _t[0]=m[0]-q[0],_t[1]=m[1]-q[1],_t[2]=m[2]-q[2],Qt[0]=_t[2]*Math.sin(Fe)+_t[0]*Math.cos(Fe),Qt[1]=_t[1],Qt[2]=_t[2]*Math.cos(Fe)-_t[0]*Math.sin(Fe),r[0]=Qt[0]+q[0],r[1]=Qt[1]+q[1],r[2]=Qt[2]+q[2],r}function fn(r,m,q,Fe){const _t=[],Qt=[];return _t[0]=m[0]-q[0],_t[1]=m[1]-q[1],_t[2]=m[2]-q[2],Qt[0]=_t[0]*Math.cos(Fe)-_t[1]*Math.sin(Fe),Qt[1]=_t[0]*Math.sin(Fe)+_t[1]*Math.cos(Fe),Qt[2]=_t[2],r[0]=Qt[0]+q[0],r[1]=Qt[1]+q[1],r[2]=Qt[2]+q[2],r}function ze(r,m){const q=r[0],Fe=r[1],_t=r[2],Qt=m[0],_n=m[1],On=m[2],Qn=Math.sqrt((q*q+Fe*Fe+_t*_t)*(Qt*Qt+_n*_n+On*On)),Kn=Qn&&Ar(r,m)/Qn;return Math.acos(Math.min(Math.max(Kn,-1),1))}function Dt(r){return r[0]=0,r[1]=0,r[2]=0,r}function sn(r){return`vec3(${r[0]}, ${r[1]}, ${r[2]})`}function Wn(r,m){return r[0]===m[0]&&r[1]===m[1]&&r[2]===m[2]}function Ir(r,m){const q=r[0],Fe=r[1],_t=r[2],Qt=m[0],_n=m[1],On=m[2];return Math.abs(q-Qt)<=pt*Math.max(1,Math.abs(q),Math.abs(Qt))&&Math.abs(Fe-_n)<=pt*Math.max(1,Math.abs(Fe),Math.abs(_n))&&Math.abs(_t-On)<=pt*Math.max(1,Math.abs(_t),Math.abs(On))}f(dr,{add:()=>uo,angle:()=>ze,bezier:()=>ai,ceil:()=>Li,clone:()=>Gr,copy:()=>fi,create:()=>sr,cross:()=>zr,dist:()=>_o,distance:()=>nr,div:()=>Hi,divide:()=>mr,dot:()=>Ar,equals:()=>Ir,exactEquals:()=>Wn,floor:()=>ro,forEach:()=>Ws,fromValues:()=>Ei,hermite:()=>ni,inverse:()=>un,len:()=>Ro,length:()=>hi,lerp:()=>si,max:()=>dt,min:()=>Pe,mul:()=>io,multiply:()=>ti,negate:()=>tt,normalize:()=>fr,random:()=>Oi,rotateX:()=>Vo,rotateY:()=>$n,rotateZ:()=>fn,round:()=>vn,scale:()=>bn,scaleAndAdd:()=>Gn,set:()=>co,slerp:()=>Ti,sqrDist:()=>Co,sqrLen:()=>Is,squaredDistance:()=>er,squaredLength:()=>Be,str:()=>sn,sub:()=>Zr,subtract:()=>Pi,transformMat3:()=>wo,transformMat4:()=>so,transformQuat:()=>eo,zero:()=>Dt});var zo,os,Zr=Pi,io=ti,Hi=mr,_o=nr,Co=er,Ro=hi,Is=Be,Ws=function(){const r=sr();return function(m,q,Fe,_t,Qt,_n){let On,Qn;for(q||(q=3),Fe||(Fe=0),Qn=_t?Math.min(_t*q+Fe,m.length):m.length,On=Fe;On<Qn;On+=q)r[0]=m[On],r[1]=m[On+1],r[2]=m[On+2],Qt(r,r,_n),m[On]=r[0],m[On+1]=r[1],m[On+2]=r[2];return m}}(),ms=[0,0,0],Zo=class extends Ce{static get ZERO(){return zo||(zo=new Zo(0,0,0),Object.freeze(zo)),zo}constructor(r=0,m=0,q=0){super(-0,-0,-0),1===arguments.length&&v(r)?this.copy(r):(U.debug&&(R(r),R(m),R(q)),this[0]=r,this[1]=m,this[2]=q)}set(r,m,q){return this[0]=r,this[1]=m,this[2]=q,this.check()}copy(r){return this[0]=r[0],this[1]=r[1],this[2]=r[2],this.check()}fromObject(r){return U.debug&&(R(r.x),R(r.y),R(r.z)),this[0]=r.x,this[1]=r.y,this[2]=r.z,this.check()}toObject(r){return r.x=this[0],r.y=this[1],r.z=this[2],r}get ELEMENTS(){return 3}get z(){return this[2]}set z(r){this[2]=R(r)}angle(r){return ze(this,r)}cross(r){return zr(this,this,r),this.check()}rotateX({radians:r,origin:m=ms}){return Vo(this,this,m,r),this.check()}rotateY({radians:r,origin:m=ms}){return $n(this,this,m,r),this.check()}rotateZ({radians:r,origin:m=ms}){return fn(this,this,m,r),this.check()}transform(r){return this.transformAsPoint(r)}transformAsPoint(r){return so(this,this,r),this.check()}transformAsVector(r){return Jt(this,this,r),this.check()}transformByMatrix3(r){return wo(this,this,r),this.check()}transformByMatrix2(r){return function We(r,m,q){const Fe=m[0],_t=m[1];r[0]=q[0]*Fe+q[2]*_t,r[1]=q[1]*Fe+q[3]*_t,r[2]=m[2]}(this,this,r),this.check()}transformByQuaternion(r){return eo(this,this,r),this.check()}},ns=class extends Ce{static get ZERO(){return os||(os=new ns(0,0,0,0),Object.freeze(os)),os}constructor(r=0,m=0,q=0,Fe=0){super(-0,-0,-0,-0),v(r)&&1===arguments.length?this.copy(r):(U.debug&&(R(r),R(m),R(q),R(Fe)),this[0]=r,this[1]=m,this[2]=q,this[3]=Fe)}set(r,m,q,Fe){return this[0]=r,this[1]=m,this[2]=q,this[3]=Fe,this.check()}copy(r){return this[0]=r[0],this[1]=r[1],this[2]=r[2],this[3]=r[3],this.check()}fromObject(r){return U.debug&&(R(r.x),R(r.y),R(r.z),R(r.w)),this[0]=r.x,this[1]=r.y,this[2]=r.z,this[3]=r.w,this}toObject(r){return r.x=this[0],r.y=this[1],r.z=this[2],r.w=this[3],r}get ELEMENTS(){return 4}get z(){return this[2]}set z(r){this[2]=R(r)}get w(){return this[3]}set w(r){this[3]=R(r)}transform(r){return so(this,this,r),this.check()}transformByMatrix3(r){return wn(this,this,r),this.check()}transformByMatrix2(r){return function Tt(r,m,q){const Fe=m[0],_t=m[1];r[0]=q[0]*Fe+q[2]*_t,r[1]=q[1]*Fe+q[3]*_t,r[2]=m[2],r[3]=m[3]}(this,this,r),this.check()}transformByQuaternion(r){return eo(this,this,r),this.check()}applyMatrix4(r){return r.transform(this,this),this}},Rs=class extends Bt{toString(){let r="[";if(U.printRowMajor){r+="row-major:";for(let m=0;m<this.RANK;++m)for(let q=0;q<this.RANK;++q)r+=` ${this[q*this.RANK+m]}`}else{r+="column-major:";for(let m=0;m<this.ELEMENTS;++m)r+=` ${this[m]}`}return r+="]",r}getElementIndex(r,m){return m*this.RANK+r}getElement(r,m){return this[m*this.RANK+r]}setElement(r,m,q){return this[m*this.RANK+r]=R(q),this}getColumn(r,m=new Array(this.RANK).fill(-0)){const q=r*this.RANK;for(let Fe=0;Fe<this.RANK;++Fe)m[Fe]=this[q+Fe];return m}setColumn(r,m){const q=r*this.RANK;for(let Fe=0;Fe<this.RANK;++Fe)this[q+Fe]=m[Fe];return this}},ar={};function ur(){const r=new zt(9);return zt!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function jr(r,m){return r[0]=m[0],r[1]=m[1],r[2]=m[2],r[3]=m[4],r[4]=m[5],r[5]=m[6],r[6]=m[8],r[7]=m[9],r[8]=m[10],r}function Mi(r){const m=new zt(9);return m[0]=r[0],m[1]=r[1],m[2]=r[2],m[3]=r[3],m[4]=r[4],m[5]=r[5],m[6]=r[6],m[7]=r[7],m[8]=r[8],m}function Ri(r,m){return r[0]=m[0],r[1]=m[1],r[2]=m[2],r[3]=m[3],r[4]=m[4],r[5]=m[5],r[6]=m[6],r[7]=m[7],r[8]=m[8],r}function zi(r,m,q,Fe,_t,Qt,_n,On,Qn){const Kn=new zt(9);return Kn[0]=r,Kn[1]=m,Kn[2]=q,Kn[3]=Fe,Kn[4]=_t,Kn[5]=Qt,Kn[6]=_n,Kn[7]=On,Kn[8]=Qn,Kn}function to(r,m,q,Fe,_t,Qt,_n,On,Qn,Kn){return r[0]=m,r[1]=q,r[2]=Fe,r[3]=_t,r[4]=Qt,r[5]=_n,r[6]=On,r[7]=Qn,r[8]=Kn,r}function xo(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function $i(r,m){if(r===m){const q=m[1],Fe=m[2],_t=m[5];r[1]=m[3],r[2]=m[6],r[3]=q,r[5]=m[7],r[6]=Fe,r[7]=_t}else r[0]=m[0],r[1]=m[3],r[2]=m[6],r[3]=m[1],r[4]=m[4],r[5]=m[7],r[6]=m[2],r[7]=m[5],r[8]=m[8];return r}function No(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=m[4],On=m[5],Qn=m[6],Kn=m[7],Mr=m[8],ii=Mr*_n-On*Kn,oi=-Mr*Qt+On*Qn,ui=Kn*Qt-_n*Qn;let Ai=q*ii+Fe*oi+_t*ui;return Ai?(Ai=1/Ai,r[0]=ii*Ai,r[1]=(-Mr*Fe+_t*Kn)*Ai,r[2]=(On*Fe-_t*_n)*Ai,r[3]=oi*Ai,r[4]=(Mr*q-_t*Qn)*Ai,r[5]=(-On*q+_t*Qt)*Ai,r[6]=ui*Ai,r[7]=(-Kn*q+Fe*Qn)*Ai,r[8]=(_n*q-Fe*Qt)*Ai,r):null}function ls(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=m[4],On=m[5],Qn=m[6],Kn=m[7],Mr=m[8];return r[0]=_n*Mr-On*Kn,r[1]=_t*Kn-Fe*Mr,r[2]=Fe*On-_t*_n,r[3]=On*Qn-Qt*Mr,r[4]=q*Mr-_t*Qn,r[5]=_t*Qt-q*On,r[6]=Qt*Kn-_n*Qn,r[7]=Fe*Qn-q*Kn,r[8]=q*_n-Fe*Qt,r}function Ns(r){const _t=r[3],Qt=r[4],_n=r[5],On=r[6],Qn=r[7],Kn=r[8];return r[0]*(Kn*Qt-_n*Qn)+r[1]*(-Kn*_t+_n*On)+r[2]*(Qn*_t-Qt*On)}function ys(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=m[4],Qn=m[5],Kn=m[6],Mr=m[7],ii=m[8],oi=q[0],ui=q[1],Ai=q[2],oo=q[3],yi=q[4],To=q[5],Bo=q[6],Po=q[7],Oo=q[8];return r[0]=oi*Fe+ui*_n+Ai*Kn,r[1]=oi*_t+ui*On+Ai*Mr,r[2]=oi*Qt+ui*Qn+Ai*ii,r[3]=oo*Fe+yi*_n+To*Kn,r[4]=oo*_t+yi*On+To*Mr,r[5]=oo*Qt+yi*Qn+To*ii,r[6]=Bo*Fe+Po*_n+Oo*Kn,r[7]=Bo*_t+Po*On+Oo*Mr,r[8]=Bo*Qt+Po*Qn+Oo*ii,r}function Os(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=m[4],Qn=m[5],Kn=m[6],Mr=m[7],ii=m[8],oi=q[0],ui=q[1];return r[0]=Fe,r[1]=_t,r[2]=Qt,r[3]=_n,r[4]=On,r[5]=Qn,r[6]=oi*Fe+ui*_n+Kn,r[7]=oi*_t+ui*On+Mr,r[8]=oi*Qt+ui*Qn+ii,r}function qo(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=m[4],Qn=m[5],Kn=m[6],Mr=m[7],ii=m[8],oi=Math.sin(q),ui=Math.cos(q);return r[0]=ui*Fe+oi*_n,r[1]=ui*_t+oi*On,r[2]=ui*Qt+oi*Qn,r[3]=ui*_n-oi*Fe,r[4]=ui*On-oi*_t,r[5]=ui*Qn-oi*Qt,r[6]=Kn,r[7]=Mr,r[8]=ii,r}function Gs(r,m,q){const Fe=q[0],_t=q[1];return r[0]=Fe*m[0],r[1]=Fe*m[1],r[2]=Fe*m[2],r[3]=_t*m[3],r[4]=_t*m[4],r[5]=_t*m[5],r[6]=m[6],r[7]=m[7],r[8]=m[8],r}function Lo(r,m){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=m[0],r[7]=m[1],r[8]=1,r}function pa(r,m){const q=Math.sin(m),Fe=Math.cos(m);return r[0]=Fe,r[1]=q,r[2]=0,r[3]=-q,r[4]=Fe,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function ca(r,m){return r[0]=m[0],r[1]=0,r[2]=0,r[3]=0,r[4]=m[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Ms(r,m){return r[0]=m[0],r[1]=m[1],r[2]=0,r[3]=m[2],r[4]=m[3],r[5]=0,r[6]=m[4],r[7]=m[5],r[8]=1,r}function Ks(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=q+q,On=Fe+Fe,Qn=_t+_t,Kn=q*_n,Mr=Fe*_n,ii=Fe*On,oi=_t*_n,ui=_t*On,Ai=_t*Qn,oo=Qt*_n,yi=Qt*On,To=Qt*Qn;return r[0]=1-ii-Ai,r[3]=Mr-To,r[6]=oi+yi,r[1]=Mr+To,r[4]=1-Kn-Ai,r[7]=ui-oo,r[2]=oi-yi,r[5]=ui+oo,r[8]=1-Kn-ii,r}function Ds(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=m[4],On=m[5],Qn=m[6],Kn=m[7],Mr=m[8],ii=m[9],oi=m[10],ui=m[11],Ai=m[12],oo=m[13],yi=m[14],To=m[15],Bo=q*On-Fe*_n,Po=q*Qn-_t*_n,Oo=q*Kn-Qt*_n,Uo=Fe*Qn-_t*On,Or=Fe*Kn-Qt*On,Io=_t*Kn-Qt*Qn,Fs=Mr*oo-ii*Ai,Xs=Mr*yi-oi*Ai,yo=Mr*To-ui*Ai,ta=ii*yi-oi*oo,sa=ii*To-ui*oo,Us=oi*To-ui*yi;let is=Bo*Us-Po*sa+Oo*ta+Uo*yo-Or*Xs+Io*Fs;return is?(is=1/is,r[0]=(On*Us-Qn*sa+Kn*ta)*is,r[1]=(Qn*yo-_n*Us-Kn*Xs)*is,r[2]=(_n*sa-On*yo+Kn*Fs)*is,r[3]=(_t*sa-Fe*Us-Qt*ta)*is,r[4]=(q*Us-_t*yo+Qt*Xs)*is,r[5]=(Fe*yo-q*sa-Qt*Fs)*is,r[6]=(oo*Io-yi*Or+To*Uo)*is,r[7]=(yi*Oo-Ai*Io-To*Po)*is,r[8]=(Ai*Or-oo*Oo+To*Bo)*is,r):null}function cs(r,m,q){return r[0]=2/m,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/q,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}function ua(r){return`mat3(${r[0]}, ${r[1]}, ${r[2]}, ${r[3]}, ${r[4]}, ${r[5]}, ${r[6]}, ${r[7]}, ${r[8]})`}function tr(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3]+r[4]*r[4]+r[5]*r[5]+r[6]*r[6]+r[7]*r[7]+r[8]*r[8])}function pr(r,m,q){return r[0]=m[0]+q[0],r[1]=m[1]+q[1],r[2]=m[2]+q[2],r[3]=m[3]+q[3],r[4]=m[4]+q[4],r[5]=m[5]+q[5],r[6]=m[6]+q[6],r[7]=m[7]+q[7],r[8]=m[8]+q[8],r}function xr(r,m,q){return r[0]=m[0]-q[0],r[1]=m[1]-q[1],r[2]=m[2]-q[2],r[3]=m[3]-q[3],r[4]=m[4]-q[4],r[5]=m[5]-q[5],r[6]=m[6]-q[6],r[7]=m[7]-q[7],r[8]=m[8]-q[8],r}function Pr(r,m,q){return r[0]=m[0]*q,r[1]=m[1]*q,r[2]=m[2]*q,r[3]=m[3]*q,r[4]=m[4]*q,r[5]=m[5]*q,r[6]=m[6]*q,r[7]=m[7]*q,r[8]=m[8]*q,r}function Bi(r,m,q,Fe){return r[0]=m[0]+q[0]*Fe,r[1]=m[1]+q[1]*Fe,r[2]=m[2]+q[2]*Fe,r[3]=m[3]+q[3]*Fe,r[4]=m[4]+q[4]*Fe,r[5]=m[5]+q[5]*Fe,r[6]=m[6]+q[6]*Fe,r[7]=m[7]+q[7]*Fe,r[8]=m[8]+q[8]*Fe,r}function ot(r,m){return r[0]===m[0]&&r[1]===m[1]&&r[2]===m[2]&&r[3]===m[3]&&r[4]===m[4]&&r[5]===m[5]&&r[6]===m[6]&&r[7]===m[7]&&r[8]===m[8]}function xn(r,m){const q=r[0],Fe=r[1],_t=r[2],Qt=r[3],_n=r[4],On=r[5],Qn=r[6],Kn=r[7],Mr=r[8],ii=m[0],oi=m[1],ui=m[2],Ai=m[3],oo=m[4],yi=m[5],To=m[6],Bo=m[7],Po=m[8];return Math.abs(q-ii)<=pt*Math.max(1,Math.abs(q),Math.abs(ii))&&Math.abs(Fe-oi)<=pt*Math.max(1,Math.abs(Fe),Math.abs(oi))&&Math.abs(_t-ui)<=pt*Math.max(1,Math.abs(_t),Math.abs(ui))&&Math.abs(Qt-Ai)<=pt*Math.max(1,Math.abs(Qt),Math.abs(Ai))&&Math.abs(_n-oo)<=pt*Math.max(1,Math.abs(_n),Math.abs(oo))&&Math.abs(On-yi)<=pt*Math.max(1,Math.abs(On),Math.abs(yi))&&Math.abs(Qn-To)<=pt*Math.max(1,Math.abs(Qn),Math.abs(To))&&Math.abs(Kn-Bo)<=pt*Math.max(1,Math.abs(Kn),Math.abs(Bo))&&Math.abs(Mr-Po)<=pt*Math.max(1,Math.abs(Mr),Math.abs(Po))}f(ar,{add:()=>pr,adjoint:()=>ls,clone:()=>Mi,copy:()=>Ri,create:()=>ur,determinant:()=>Ns,equals:()=>xn,exactEquals:()=>ot,frob:()=>tr,fromMat2d:()=>Ms,fromMat4:()=>jr,fromQuat:()=>Ks,fromRotation:()=>pa,fromScaling:()=>ca,fromTranslation:()=>Lo,fromValues:()=>zi,identity:()=>xo,invert:()=>No,mul:()=>Wt,multiply:()=>ys,multiplyScalar:()=>Pr,multiplyScalarAndAdd:()=>Bi,normalFromMat4:()=>Ds,projection:()=>cs,rotate:()=>qo,scale:()=>Gs,set:()=>to,str:()=>ua,sub:()=>hn,subtract:()=>xr,translate:()=>Os,transpose:()=>$i});var Zn,Wt=ys,hn=xr,$e=function(r){return r[r.COL0ROW0=0]="COL0ROW0",r[r.COL0ROW1=1]="COL0ROW1",r[r.COL0ROW2=2]="COL0ROW2",r[r.COL1ROW0=3]="COL1ROW0",r[r.COL1ROW1=4]="COL1ROW1",r[r.COL1ROW2=5]="COL1ROW2",r[r.COL2ROW0=6]="COL2ROW0",r[r.COL2ROW1=7]="COL2ROW1",r[r.COL2ROW2=8]="COL2ROW2",r}($e||{}),Nt=Object.freeze([1,0,0,0,1,0,0,0,1]),nn=class extends Rs{static get IDENTITY(){return function Kr(){return Er||(Er=new nn,Object.freeze(Er)),Er}()}static get ZERO(){return function Cr(){return Zn||(Zn=new nn([0,0,0,0,0,0,0,0,0]),Object.freeze(Zn)),Zn}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return $e}constructor(r,...m){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(r)?this.copy(r):m.length>0?this.copy([r,...m]):this.identity()}copy(r){return this[0]=r[0],this[1]=r[1],this[2]=r[2],this[3]=r[3],this[4]=r[4],this[5]=r[5],this[6]=r[6],this[7]=r[7],this[8]=r[8],this.check()}identity(){return this.copy(Nt)}fromObject(r){return this.check()}fromQuaternion(r){return Ks(this,r),this.check()}set(r,m,q,Fe,_t,Qt,_n,On,Qn){return this[0]=r,this[1]=m,this[2]=q,this[3]=Fe,this[4]=_t,this[5]=Qt,this[6]=_n,this[7]=On,this[8]=Qn,this.check()}setRowMajor(r,m,q,Fe,_t,Qt,_n,On,Qn){return this[0]=r,this[1]=Fe,this[2]=_n,this[3]=m,this[4]=_t,this[5]=On,this[6]=q,this[7]=Qt,this[8]=Qn,this.check()}determinant(){return Ns(this)}transpose(){return $i(this,this),this.check()}invert(){return No(this,this),this.check()}multiplyLeft(r){return ys(this,r,this),this.check()}multiplyRight(r){return ys(this,this,r),this.check()}rotate(r){return qo(this,this,r),this.check()}scale(r){return Array.isArray(r)?Gs(this,this,r):Gs(this,this,[r,r]),this.check()}translate(r){return Os(this,this,r),this.check()}transform(r,m){let q;switch(r.length){case 2:q=rt(m||[-0,-0],r,this);break;case 3:q=wo(m||[-0,-0,-0],r,this);break;case 4:q=wn(m||[-0,-0,-0,-0],r,this);break;default:throw new Error("Illegal vector")}return j(q,r.length),q}transformVector(r,m){return this.transform(r,m)}transformVector2(r,m){return this.transform(r,m)}transformVector3(r,m){return this.transform(r,m)}},Er=null,$r={};function pi(){const r=new zt(16);return zt!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function ri(r){const m=new zt(16);return m[0]=r[0],m[1]=r[1],m[2]=r[2],m[3]=r[3],m[4]=r[4],m[5]=r[5],m[6]=r[6],m[7]=r[7],m[8]=r[8],m[9]=r[9],m[10]=r[10],m[11]=r[11],m[12]=r[12],m[13]=r[13],m[14]=r[14],m[15]=r[15],m}function Xi(r,m){return r[0]=m[0],r[1]=m[1],r[2]=m[2],r[3]=m[3],r[4]=m[4],r[5]=m[5],r[6]=m[6],r[7]=m[7],r[8]=m[8],r[9]=m[9],r[10]=m[10],r[11]=m[11],r[12]=m[12],r[13]=m[13],r[14]=m[14],r[15]=m[15],r}function vo(r,m,q,Fe,_t,Qt,_n,On,Qn,Kn,Mr,ii,oi,ui,Ai,oo){const yi=new zt(16);return yi[0]=r,yi[1]=m,yi[2]=q,yi[3]=Fe,yi[4]=_t,yi[5]=Qt,yi[6]=_n,yi[7]=On,yi[8]=Qn,yi[9]=Kn,yi[10]=Mr,yi[11]=ii,yi[12]=oi,yi[13]=ui,yi[14]=Ai,yi[15]=oo,yi}function ko(r,m,q,Fe,_t,Qt,_n,On,Qn,Kn,Mr,ii,oi,ui,Ai,oo,yi){return r[0]=m,r[1]=q,r[2]=Fe,r[3]=_t,r[4]=Qt,r[5]=_n,r[6]=On,r[7]=Qn,r[8]=Kn,r[9]=Mr,r[10]=ii,r[11]=oi,r[12]=ui,r[13]=Ai,r[14]=oo,r[15]=yi,r}function Ao(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function st(r,m){if(r===m){const q=m[1],Fe=m[2],_t=m[3],Qt=m[6],_n=m[7],On=m[11];r[1]=m[4],r[2]=m[8],r[3]=m[12],r[4]=q,r[6]=m[9],r[7]=m[13],r[8]=Fe,r[9]=Qt,r[11]=m[14],r[12]=_t,r[13]=_n,r[14]=On}else r[0]=m[0],r[1]=m[4],r[2]=m[8],r[3]=m[12],r[4]=m[1],r[5]=m[5],r[6]=m[9],r[7]=m[13],r[8]=m[2],r[9]=m[6],r[10]=m[10],r[11]=m[14],r[12]=m[3],r[13]=m[7],r[14]=m[11],r[15]=m[15];return r}function Qe(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=m[4],On=m[5],Qn=m[6],Kn=m[7],Mr=m[8],ii=m[9],oi=m[10],ui=m[11],Ai=m[12],oo=m[13],yi=m[14],To=m[15],Bo=q*On-Fe*_n,Po=q*Qn-_t*_n,Oo=q*Kn-Qt*_n,Uo=Fe*Qn-_t*On,Or=Fe*Kn-Qt*On,Io=_t*Kn-Qt*Qn,Fs=Mr*oo-ii*Ai,Xs=Mr*yi-oi*Ai,yo=Mr*To-ui*Ai,ta=ii*yi-oi*oo,sa=ii*To-ui*oo,Us=oi*To-ui*yi;let is=Bo*Us-Po*sa+Oo*ta+Uo*yo-Or*Xs+Io*Fs;return is?(is=1/is,r[0]=(On*Us-Qn*sa+Kn*ta)*is,r[1]=(_t*sa-Fe*Us-Qt*ta)*is,r[2]=(oo*Io-yi*Or+To*Uo)*is,r[3]=(oi*Or-ii*Io-ui*Uo)*is,r[4]=(Qn*yo-_n*Us-Kn*Xs)*is,r[5]=(q*Us-_t*yo+Qt*Xs)*is,r[6]=(yi*Oo-Ai*Io-To*Po)*is,r[7]=(Mr*Io-oi*Oo+ui*Po)*is,r[8]=(_n*sa-On*yo+Kn*Fs)*is,r[9]=(Fe*yo-q*sa-Qt*Fs)*is,r[10]=(Ai*Or-oo*Oo+To*Bo)*is,r[11]=(ii*Oo-Mr*Or-ui*Bo)*is,r[12]=(On*Xs-_n*ta-Qn*Fs)*is,r[13]=(q*ta-Fe*Xs+_t*Fs)*is,r[14]=(oo*Po-Ai*Uo-yi*Bo)*is,r[15]=(Mr*Uo-ii*Po+oi*Bo)*is,r):null}function dn(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=m[4],On=m[5],Qn=m[6],Kn=m[7],Mr=m[8],ii=m[9],oi=m[10],ui=m[11],Ai=m[12],oo=m[13],yi=m[14],To=m[15],Bo=q*On-Fe*_n,Po=q*Qn-_t*_n,Oo=q*Kn-Qt*_n,Uo=Fe*Qn-_t*On,Or=Fe*Kn-Qt*On,Io=_t*Kn-Qt*Qn,Fs=Mr*oo-ii*Ai,Xs=Mr*yi-oi*Ai,yo=Mr*To-ui*Ai,ta=ii*yi-oi*oo,sa=ii*To-ui*oo,Us=oi*To-ui*yi;return r[0]=On*Us-Qn*sa+Kn*ta,r[1]=_t*sa-Fe*Us-Qt*ta,r[2]=oo*Io-yi*Or+To*Uo,r[3]=oi*Or-ii*Io-ui*Uo,r[4]=Qn*yo-_n*Us-Kn*Xs,r[5]=q*Us-_t*yo+Qt*Xs,r[6]=yi*Oo-Ai*Io-To*Po,r[7]=Mr*Io-oi*Oo+ui*Po,r[8]=_n*sa-On*yo+Kn*Fs,r[9]=Fe*yo-q*sa-Qt*Fs,r[10]=Ai*Or-oo*Oo+To*Bo,r[11]=ii*Oo-Mr*Or-ui*Bo,r[12]=On*Xs-_n*ta-Qn*Fs,r[13]=q*ta-Fe*Xs+_t*Fs,r[14]=oo*Po-Ai*Uo-yi*Bo,r[15]=Mr*Uo-ii*Po+oi*Bo,r}function ft(r){const m=r[0],q=r[1],Fe=r[2],Qt=r[4],_n=r[5],On=r[6],Kn=r[8],Mr=r[9],ii=r[10],ui=r[12],Ai=r[13],oo=r[14],To=m*_n-q*Qt,Bo=m*On-Fe*Qt,Po=q*On-Fe*_n,Oo=Kn*Ai-Mr*ui,Uo=Kn*oo-ii*ui,Or=Mr*oo-ii*Ai;return r[7]*(m*Or-q*Uo+Fe*Oo)-r[3]*(Qt*Or-_n*Uo+On*Oo)+r[15]*(Kn*Po-Mr*Bo+ii*To)-r[11]*(ui*Po-Ai*Bo+oo*To)}function fe(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=m[4],Qn=m[5],Kn=m[6],Mr=m[7],ii=m[8],oi=m[9],ui=m[10],Ai=m[11],oo=m[12],yi=m[13],To=m[14],Bo=m[15];let Po=q[0],Oo=q[1],Uo=q[2],Or=q[3];return r[0]=Po*Fe+Oo*On+Uo*ii+Or*oo,r[1]=Po*_t+Oo*Qn+Uo*oi+Or*yi,r[2]=Po*Qt+Oo*Kn+Uo*ui+Or*To,r[3]=Po*_n+Oo*Mr+Uo*Ai+Or*Bo,Po=q[4],Oo=q[5],Uo=q[6],Or=q[7],r[4]=Po*Fe+Oo*On+Uo*ii+Or*oo,r[5]=Po*_t+Oo*Qn+Uo*oi+Or*yi,r[6]=Po*Qt+Oo*Kn+Uo*ui+Or*To,r[7]=Po*_n+Oo*Mr+Uo*Ai+Or*Bo,Po=q[8],Oo=q[9],Uo=q[10],Or=q[11],r[8]=Po*Fe+Oo*On+Uo*ii+Or*oo,r[9]=Po*_t+Oo*Qn+Uo*oi+Or*yi,r[10]=Po*Qt+Oo*Kn+Uo*ui+Or*To,r[11]=Po*_n+Oo*Mr+Uo*Ai+Or*Bo,Po=q[12],Oo=q[13],Uo=q[14],Or=q[15],r[12]=Po*Fe+Oo*On+Uo*ii+Or*oo,r[13]=Po*_t+Oo*Qn+Uo*oi+Or*yi,r[14]=Po*Qt+Oo*Kn+Uo*ui+Or*To,r[15]=Po*_n+Oo*Mr+Uo*Ai+Or*Bo,r}function St(r,m,q){const Fe=q[0],_t=q[1],Qt=q[2];let _n,On,Qn,Kn,Mr,ii,oi,ui,Ai,oo,yi,To;return m===r?(r[12]=m[0]*Fe+m[4]*_t+m[8]*Qt+m[12],r[13]=m[1]*Fe+m[5]*_t+m[9]*Qt+m[13],r[14]=m[2]*Fe+m[6]*_t+m[10]*Qt+m[14],r[15]=m[3]*Fe+m[7]*_t+m[11]*Qt+m[15]):(_n=m[0],On=m[1],Qn=m[2],Kn=m[3],Mr=m[4],ii=m[5],oi=m[6],ui=m[7],Ai=m[8],oo=m[9],yi=m[10],To=m[11],r[0]=_n,r[1]=On,r[2]=Qn,r[3]=Kn,r[4]=Mr,r[5]=ii,r[6]=oi,r[7]=ui,r[8]=Ai,r[9]=oo,r[10]=yi,r[11]=To,r[12]=_n*Fe+Mr*_t+Ai*Qt+m[12],r[13]=On*Fe+ii*_t+oo*Qt+m[13],r[14]=Qn*Fe+oi*_t+yi*Qt+m[14],r[15]=Kn*Fe+ui*_t+To*Qt+m[15]),r}function cn(r,m,q){const Fe=q[0],_t=q[1],Qt=q[2];return r[0]=m[0]*Fe,r[1]=m[1]*Fe,r[2]=m[2]*Fe,r[3]=m[3]*Fe,r[4]=m[4]*_t,r[5]=m[5]*_t,r[6]=m[6]*_t,r[7]=m[7]*_t,r[8]=m[8]*Qt,r[9]=m[9]*Qt,r[10]=m[10]*Qt,r[11]=m[11]*Qt,r[12]=m[12],r[13]=m[13],r[14]=m[14],r[15]=m[15],r}function Yn(r,m,q,Fe){let Qn,Kn,Mr,ii,oi,ui,Ai,oo,yi,To,Bo,Po,Oo,Uo,Or,Io,Fs,Xs,yo,ta,sa,Us,is,rl,_t=Fe[0],Qt=Fe[1],_n=Fe[2],On=Math.sqrt(_t*_t+Qt*Qt+_n*_n);return On<pt?null:(On=1/On,_t*=On,Qt*=On,_n*=On,Kn=Math.sin(q),Qn=Math.cos(q),Mr=1-Qn,ii=m[0],oi=m[1],ui=m[2],Ai=m[3],oo=m[4],yi=m[5],To=m[6],Bo=m[7],Po=m[8],Oo=m[9],Uo=m[10],Or=m[11],Io=_t*_t*Mr+Qn,Fs=Qt*_t*Mr+_n*Kn,Xs=_n*_t*Mr-Qt*Kn,yo=_t*Qt*Mr-_n*Kn,ta=Qt*Qt*Mr+Qn,sa=_n*Qt*Mr+_t*Kn,Us=_t*_n*Mr+Qt*Kn,is=Qt*_n*Mr-_t*Kn,rl=_n*_n*Mr+Qn,r[0]=ii*Io+oo*Fs+Po*Xs,r[1]=oi*Io+yi*Fs+Oo*Xs,r[2]=ui*Io+To*Fs+Uo*Xs,r[3]=Ai*Io+Bo*Fs+Or*Xs,r[4]=ii*yo+oo*ta+Po*sa,r[5]=oi*yo+yi*ta+Oo*sa,r[6]=ui*yo+To*ta+Uo*sa,r[7]=Ai*yo+Bo*ta+Or*sa,r[8]=ii*Us+oo*is+Po*rl,r[9]=oi*Us+yi*is+Oo*rl,r[10]=ui*Us+To*is+Uo*rl,r[11]=Ai*Us+Bo*is+Or*rl,m!==r&&(r[12]=m[12],r[13]=m[13],r[14]=m[14],r[15]=m[15]),r)}function wt(r,m,q){const Fe=Math.sin(q),_t=Math.cos(q),Qt=m[4],_n=m[5],On=m[6],Qn=m[7],Kn=m[8],Mr=m[9],ii=m[10],oi=m[11];return m!==r&&(r[0]=m[0],r[1]=m[1],r[2]=m[2],r[3]=m[3],r[12]=m[12],r[13]=m[13],r[14]=m[14],r[15]=m[15]),r[4]=Qt*_t+Kn*Fe,r[5]=_n*_t+Mr*Fe,r[6]=On*_t+ii*Fe,r[7]=Qn*_t+oi*Fe,r[8]=Kn*_t-Qt*Fe,r[9]=Mr*_t-_n*Fe,r[10]=ii*_t-On*Fe,r[11]=oi*_t-Qn*Fe,r}function Q(r,m,q){const Fe=Math.sin(q),_t=Math.cos(q),Qt=m[0],_n=m[1],On=m[2],Qn=m[3],Kn=m[8],Mr=m[9],ii=m[10],oi=m[11];return m!==r&&(r[4]=m[4],r[5]=m[5],r[6]=m[6],r[7]=m[7],r[12]=m[12],r[13]=m[13],r[14]=m[14],r[15]=m[15]),r[0]=Qt*_t-Kn*Fe,r[1]=_n*_t-Mr*Fe,r[2]=On*_t-ii*Fe,r[3]=Qn*_t-oi*Fe,r[8]=Qt*Fe+Kn*_t,r[9]=_n*Fe+Mr*_t,r[10]=On*Fe+ii*_t,r[11]=Qn*Fe+oi*_t,r}function be(r,m,q){const Fe=Math.sin(q),_t=Math.cos(q),Qt=m[0],_n=m[1],On=m[2],Qn=m[3],Kn=m[4],Mr=m[5],ii=m[6],oi=m[7];return m!==r&&(r[8]=m[8],r[9]=m[9],r[10]=m[10],r[11]=m[11],r[12]=m[12],r[13]=m[13],r[14]=m[14],r[15]=m[15]),r[0]=Qt*_t+Kn*Fe,r[1]=_n*_t+Mr*Fe,r[2]=On*_t+ii*Fe,r[3]=Qn*_t+oi*Fe,r[4]=Kn*_t-Qt*Fe,r[5]=Mr*_t-_n*Fe,r[6]=ii*_t-On*Fe,r[7]=oi*_t-Qn*Fe,r}function Ke(r,m){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=m[0],r[13]=m[1],r[14]=m[2],r[15]=1,r}function $t(r,m){return r[0]=m[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=m[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=m[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Sn(r,m,q){let On,Qn,Kn,Fe=q[0],_t=q[1],Qt=q[2],_n=Math.sqrt(Fe*Fe+_t*_t+Qt*Qt);return _n<pt?null:(_n=1/_n,Fe*=_n,_t*=_n,Qt*=_n,Qn=Math.sin(m),On=Math.cos(m),Kn=1-On,r[0]=Fe*Fe*Kn+On,r[1]=_t*Fe*Kn+Qt*Qn,r[2]=Qt*Fe*Kn-_t*Qn,r[3]=0,r[4]=Fe*_t*Kn-Qt*Qn,r[5]=_t*_t*Kn+On,r[6]=Qt*_t*Kn+Fe*Qn,r[7]=0,r[8]=Fe*Qt*Kn+_t*Qn,r[9]=_t*Qt*Kn-Fe*Qn,r[10]=Qt*Qt*Kn+On,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}function Xn(r,m){const q=Math.sin(m),Fe=Math.cos(m);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=Fe,r[6]=q,r[7]=0,r[8]=0,r[9]=-q,r[10]=Fe,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function yr(r,m){const q=Math.sin(m),Fe=Math.cos(m);return r[0]=Fe,r[1]=0,r[2]=-q,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=q,r[9]=0,r[10]=Fe,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Vr(r,m){const q=Math.sin(m),Fe=Math.cos(m);return r[0]=Fe,r[1]=q,r[2]=0,r[3]=0,r[4]=-q,r[5]=Fe,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function ci(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=Fe+Fe,Qn=_t+_t,Kn=Qt+Qt,Mr=Fe*On,ii=Fe*Qn,oi=Fe*Kn,ui=_t*Qn,Ai=_t*Kn,oo=Qt*Kn,yi=_n*On,To=_n*Qn,Bo=_n*Kn;return r[0]=1-(ui+oo),r[1]=ii+Bo,r[2]=oi-To,r[3]=0,r[4]=ii-Bo,r[5]=1-(Mr+oo),r[6]=Ai+yi,r[7]=0,r[8]=oi+To,r[9]=Ai-yi,r[10]=1-(Mr+ui),r[11]=0,r[12]=q[0],r[13]=q[1],r[14]=q[2],r[15]=1,r}function di(r,m){const q=new zt(3),Fe=-m[0],_t=-m[1],Qt=-m[2],_n=m[3],On=m[4],Qn=m[5],Kn=m[6],Mr=m[7],ii=Fe*Fe+_t*_t+Qt*Qt+_n*_n;return ii>0?(q[0]=2*(On*_n+Mr*Fe+Qn*Qt-Kn*_t)/ii,q[1]=2*(Qn*_n+Mr*_t+Kn*Fe-On*Qt)/ii,q[2]=2*(Kn*_n+Mr*Qt+On*_t-Qn*Fe)/ii):(q[0]=2*(On*_n+Mr*Fe+Qn*Qt-Kn*_t),q[1]=2*(Qn*_n+Mr*_t+Kn*Fe-On*Qt),q[2]=2*(Kn*_n+Mr*Qt+On*_t-Qn*Fe)),ci(r,m,q),r}function Lr(r,m){return r[0]=m[12],r[1]=m[13],r[2]=m[14],r}function wi(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[4],_n=m[5],On=m[6],Qn=m[8],Kn=m[9],Mr=m[10];return r[0]=Math.sqrt(q*q+Fe*Fe+_t*_t),r[1]=Math.sqrt(Qt*Qt+_n*_n+On*On),r[2]=Math.sqrt(Qn*Qn+Kn*Kn+Mr*Mr),r}function Zi(r,m){const q=new zt(3);wi(q,m);const Fe=1/q[0],_t=1/q[1],Qt=1/q[2],_n=m[0]*Fe,On=m[1]*_t,Qn=m[2]*Qt,Kn=m[4]*Fe,Mr=m[5]*_t,ii=m[6]*Qt,oi=m[8]*Fe,ui=m[9]*_t,Ai=m[10]*Qt,oo=_n+Mr+Ai;let yi=0;return oo>0?(yi=2*Math.sqrt(oo+1),r[3]=.25*yi,r[0]=(ii-ui)/yi,r[1]=(oi-Qn)/yi,r[2]=(On-Kn)/yi):_n>Mr&&_n>Ai?(yi=2*Math.sqrt(1+_n-Mr-Ai),r[3]=(ii-ui)/yi,r[0]=.25*yi,r[1]=(On+Kn)/yi,r[2]=(oi+Qn)/yi):Mr>Ai?(yi=2*Math.sqrt(1+Mr-_n-Ai),r[3]=(oi-Qn)/yi,r[0]=(On+Kn)/yi,r[1]=.25*yi,r[2]=(ii+ui)/yi):(yi=2*Math.sqrt(1+Ai-_n-Mr),r[3]=(On-Kn)/yi,r[0]=(oi+Qn)/yi,r[1]=(ii+ui)/yi,r[2]=.25*yi),r}function Ui(r,m,q,Fe){m[0]=Fe[12],m[1]=Fe[13],m[2]=Fe[14];const _t=Fe[0],Qt=Fe[1],_n=Fe[2],On=Fe[4],Qn=Fe[5],Kn=Fe[6],Mr=Fe[8],ii=Fe[9],oi=Fe[10];q[0]=Math.sqrt(_t*_t+Qt*Qt+_n*_n),q[1]=Math.sqrt(On*On+Qn*Qn+Kn*Kn),q[2]=Math.sqrt(Mr*Mr+ii*ii+oi*oi);const ui=1/q[0],Ai=1/q[1],oo=1/q[2],yi=_t*ui,To=Qt*Ai,Bo=_n*oo,Po=On*ui,Oo=Qn*Ai,Uo=Kn*oo,Or=Mr*ui,Io=ii*Ai,Fs=oi*oo,Xs=yi+Oo+Fs;let yo=0;return Xs>0?(yo=2*Math.sqrt(Xs+1),r[3]=.25*yo,r[0]=(Uo-Io)/yo,r[1]=(Or-Bo)/yo,r[2]=(To-Po)/yo):yi>Oo&&yi>Fs?(yo=2*Math.sqrt(1+yi-Oo-Fs),r[3]=(Uo-Io)/yo,r[0]=.25*yo,r[1]=(To+Po)/yo,r[2]=(Or+Bo)/yo):Oo>Fs?(yo=2*Math.sqrt(1+Oo-yi-Fs),r[3]=(Or-Bo)/yo,r[0]=(To+Po)/yo,r[1]=.25*yo,r[2]=(Uo+Io)/yo):(yo=2*Math.sqrt(1+Fs-yi-Oo),r[3]=(To-Po)/yo,r[0]=(Or+Bo)/yo,r[1]=(Uo+Io)/yo,r[2]=.25*yo),r}function pe(r,m,q,Fe){const _t=m[0],Qt=m[1],_n=m[2],On=m[3],Qn=_t+_t,Kn=Qt+Qt,Mr=_n+_n,ii=_t*Qn,oi=_t*Kn,ui=_t*Mr,Ai=Qt*Kn,oo=Qt*Mr,yi=_n*Mr,To=On*Qn,Bo=On*Kn,Po=On*Mr,Oo=Fe[0],Uo=Fe[1],Or=Fe[2];return r[0]=(1-(Ai+yi))*Oo,r[1]=(oi+Po)*Oo,r[2]=(ui-Bo)*Oo,r[3]=0,r[4]=(oi-Po)*Uo,r[5]=(1-(ii+yi))*Uo,r[6]=(oo+To)*Uo,r[7]=0,r[8]=(ui+Bo)*Or,r[9]=(oo-To)*Or,r[10]=(1-(ii+Ai))*Or,r[11]=0,r[12]=q[0],r[13]=q[1],r[14]=q[2],r[15]=1,r}function le(r,m,q,Fe,_t){const Qt=m[0],_n=m[1],On=m[2],Qn=m[3],Kn=Qt+Qt,Mr=_n+_n,ii=On+On,oi=Qt*Kn,ui=Qt*Mr,Ai=Qt*ii,oo=_n*Mr,yi=_n*ii,To=On*ii,Bo=Qn*Kn,Po=Qn*Mr,Oo=Qn*ii,Uo=Fe[0],Or=Fe[1],Io=Fe[2],Fs=_t[0],Xs=_t[1],yo=_t[2],ta=(1-(oo+To))*Uo,sa=(ui+Oo)*Uo,Us=(Ai-Po)*Uo,is=(ui-Oo)*Or,rl=(1-(oi+To))*Or,ld=(yi+Bo)*Or,qc=(Ai+Po)*Io,Ts=(yi-Bo)*Io,Ya=(1-(oi+oo))*Io;return r[0]=ta,r[1]=sa,r[2]=Us,r[3]=0,r[4]=is,r[5]=rl,r[6]=ld,r[7]=0,r[8]=qc,r[9]=Ts,r[10]=Ya,r[11]=0,r[12]=q[0]+Fs-(ta*Fs+is*Xs+qc*yo),r[13]=q[1]+Xs-(sa*Fs+rl*Xs+Ts*yo),r[14]=q[2]+yo-(Us*Fs+ld*Xs+Ya*yo),r[15]=1,r}function Ge(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=q+q,On=Fe+Fe,Qn=_t+_t,Kn=q*_n,Mr=Fe*_n,ii=Fe*On,oi=_t*_n,ui=_t*On,Ai=_t*Qn,oo=Qt*_n,yi=Qt*On,To=Qt*Qn;return r[0]=1-ii-Ai,r[1]=Mr+To,r[2]=oi-yi,r[3]=0,r[4]=Mr-To,r[5]=1-Kn-Ai,r[6]=ui+oo,r[7]=0,r[8]=oi+yi,r[9]=ui-oo,r[10]=1-Kn-ii,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Mt(r,m,q,Fe,_t,Qt,_n){const On=1/(q-m),Qn=1/(_t-Fe),Kn=1/(Qt-_n);return r[0]=2*Qt*On,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*Qt*Qn,r[6]=0,r[7]=0,r[8]=(q+m)*On,r[9]=(_t+Fe)*Qn,r[10]=(_n+Qt)*Kn,r[11]=-1,r[12]=0,r[13]=0,r[14]=_n*Qt*2*Kn,r[15]=0,r}function Lt(r,m,q,Fe,_t){const Qt=1/Math.tan(m/2);if(r[0]=Qt/q,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=Qt,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,null!=_t&&_t!==1/0){const _n=1/(Fe-_t);r[10]=(_t+Fe)*_n,r[14]=2*_t*Fe*_n}else r[10]=-1,r[14]=-2*Fe;return r}f($r,{add:()=>Hn,adjoint:()=>dn,clone:()=>ri,copy:()=>Xi,create:()=>pi,decompose:()=>Ui,determinant:()=>ft,equals:()=>mi,exactEquals:()=>Xr,frob:()=>Wi,fromQuat:()=>Ge,fromQuat2:()=>di,fromRotation:()=>Sn,fromRotationTranslation:()=>ci,fromRotationTranslationScale:()=>pe,fromRotationTranslationScaleOrigin:()=>le,fromScaling:()=>$t,fromTranslation:()=>Ke,fromValues:()=>vo,fromXRotation:()=>Xn,fromYRotation:()=>yr,fromZRotation:()=>Vr,frustum:()=>Mt,getRotation:()=>Zi,getScaling:()=>wi,getTranslation:()=>Lr,identity:()=>Ao,invert:()=>Qe,lookAt:()=>Wr,mul:()=>Yi,multiply:()=>fe,multiplyScalar:()=>kn,multiplyScalarAndAdd:()=>rr,ortho:()=>kr,orthoNO:()=>cr,orthoZO:()=>Sr,perspective:()=>pn,perspectiveFromFieldOfView:()=>hr,perspectiveNO:()=>Lt,perspectiveZO:()=>Bn,rotate:()=>Yn,rotateX:()=>wt,rotateY:()=>Q,rotateZ:()=>be,scale:()=>cn,set:()=>ko,str:()=>Ci,sub:()=>Gi,subtract:()=>br,targetTo:()=>Ur,translate:()=>St,transpose:()=>st});var pn=Lt;function Bn(r,m,q,Fe,_t){const Qt=1/Math.tan(m/2);if(r[0]=Qt/q,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=Qt,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,null!=_t&&_t!==1/0){const _n=1/(Fe-_t);r[10]=_t*_n,r[14]=_t*Fe*_n}else r[10]=-1,r[14]=-Fe;return r}function hr(r,m,q,Fe){const _t=Math.tan(m.upDegrees*Math.PI/180),Qt=Math.tan(m.downDegrees*Math.PI/180),_n=Math.tan(m.leftDegrees*Math.PI/180),On=Math.tan(m.rightDegrees*Math.PI/180),Qn=2/(_n+On),Kn=2/(_t+Qt);return r[0]=Qn,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=Kn,r[6]=0,r[7]=0,r[8]=-(_n-On)*Qn*.5,r[9]=(_t-Qt)*Kn*.5,r[10]=Fe/(q-Fe),r[11]=-1,r[12]=0,r[13]=0,r[14]=Fe*q/(q-Fe),r[15]=0,r}function cr(r,m,q,Fe,_t,Qt,_n){const On=1/(m-q),Qn=1/(Fe-_t),Kn=1/(Qt-_n);return r[0]=-2*On,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*Qn,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*Kn,r[11]=0,r[12]=(m+q)*On,r[13]=(_t+Fe)*Qn,r[14]=(_n+Qt)*Kn,r[15]=1,r}var kr=cr;function Sr(r,m,q,Fe,_t,Qt,_n){const On=1/(m-q),Qn=1/(Fe-_t),Kn=1/(Qt-_n);return r[0]=-2*On,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*Qn,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=Kn,r[11]=0,r[12]=(m+q)*On,r[13]=(_t+Fe)*Qn,r[14]=Qt*Kn,r[15]=1,r}function Wr(r,m,q,Fe){let _t,Qt,_n,On,Qn,Kn,Mr,ii,oi,ui;const Ai=m[0],oo=m[1],yi=m[2],To=Fe[0],Bo=Fe[1],Po=Fe[2],Oo=q[0],Uo=q[1],Or=q[2];return Math.abs(Ai-Oo)<pt&&Math.abs(oo-Uo)<pt&&Math.abs(yi-Or)<pt?Ao(r):(ii=Ai-Oo,oi=oo-Uo,ui=yi-Or,_t=1/Math.sqrt(ii*ii+oi*oi+ui*ui),ii*=_t,oi*=_t,ui*=_t,Qt=Bo*ui-Po*oi,_n=Po*ii-To*ui,On=To*oi-Bo*ii,_t=Math.sqrt(Qt*Qt+_n*_n+On*On),_t?(_t=1/_t,Qt*=_t,_n*=_t,On*=_t):(Qt=0,_n=0,On=0),Qn=oi*On-ui*_n,Kn=ui*Qt-ii*On,Mr=ii*_n-oi*Qt,_t=Math.sqrt(Qn*Qn+Kn*Kn+Mr*Mr),_t?(_t=1/_t,Qn*=_t,Kn*=_t,Mr*=_t):(Qn=0,Kn=0,Mr=0),r[0]=Qt,r[1]=Qn,r[2]=ii,r[3]=0,r[4]=_n,r[5]=Kn,r[6]=oi,r[7]=0,r[8]=On,r[9]=Mr,r[10]=ui,r[11]=0,r[12]=-(Qt*Ai+_n*oo+On*yi),r[13]=-(Qn*Ai+Kn*oo+Mr*yi),r[14]=-(ii*Ai+oi*oo+ui*yi),r[15]=1,r)}function Ur(r,m,q,Fe){const _t=m[0],Qt=m[1],_n=m[2],On=Fe[0],Qn=Fe[1],Kn=Fe[2];let Mr=_t-q[0],ii=Qt-q[1],oi=_n-q[2],ui=Mr*Mr+ii*ii+oi*oi;ui>0&&(ui=1/Math.sqrt(ui),Mr*=ui,ii*=ui,oi*=ui);let Ai=Qn*oi-Kn*ii,oo=Kn*Mr-On*oi,yi=On*ii-Qn*Mr;return ui=Ai*Ai+oo*oo+yi*yi,ui>0&&(ui=1/Math.sqrt(ui),Ai*=ui,oo*=ui,yi*=ui),r[0]=Ai,r[1]=oo,r[2]=yi,r[3]=0,r[4]=ii*yi-oi*oo,r[5]=oi*Ai-Mr*yi,r[6]=Mr*oo-ii*Ai,r[7]=0,r[8]=Mr,r[9]=ii,r[10]=oi,r[11]=0,r[12]=_t,r[13]=Qt,r[14]=_n,r[15]=1,r}function Ci(r){return`mat4(${r[0]}, ${r[1]}, ${r[2]}, ${r[3]}, ${r[4]}, ${r[5]}, ${r[6]}, ${r[7]}, ${r[8]}, ${r[9]}, ${r[10]}, ${r[11]}, ${r[12]}, ${r[13]}, ${r[14]}, ${r[15]})`}function Wi(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3]+r[4]*r[4]+r[5]*r[5]+r[6]*r[6]+r[7]*r[7]+r[8]*r[8]+r[9]*r[9]+r[10]*r[10]+r[11]*r[11]+r[12]*r[12]+r[13]*r[13]+r[14]*r[14]+r[15]*r[15])}function Hn(r,m,q){return r[0]=m[0]+q[0],r[1]=m[1]+q[1],r[2]=m[2]+q[2],r[3]=m[3]+q[3],r[4]=m[4]+q[4],r[5]=m[5]+q[5],r[6]=m[6]+q[6],r[7]=m[7]+q[7],r[8]=m[8]+q[8],r[9]=m[9]+q[9],r[10]=m[10]+q[10],r[11]=m[11]+q[11],r[12]=m[12]+q[12],r[13]=m[13]+q[13],r[14]=m[14]+q[14],r[15]=m[15]+q[15],r}function br(r,m,q){return r[0]=m[0]-q[0],r[1]=m[1]-q[1],r[2]=m[2]-q[2],r[3]=m[3]-q[3],r[4]=m[4]-q[4],r[5]=m[5]-q[5],r[6]=m[6]-q[6],r[7]=m[7]-q[7],r[8]=m[8]-q[8],r[9]=m[9]-q[9],r[10]=m[10]-q[10],r[11]=m[11]-q[11],r[12]=m[12]-q[12],r[13]=m[13]-q[13],r[14]=m[14]-q[14],r[15]=m[15]-q[15],r}function kn(r,m,q){return r[0]=m[0]*q,r[1]=m[1]*q,r[2]=m[2]*q,r[3]=m[3]*q,r[4]=m[4]*q,r[5]=m[5]*q,r[6]=m[6]*q,r[7]=m[7]*q,r[8]=m[8]*q,r[9]=m[9]*q,r[10]=m[10]*q,r[11]=m[11]*q,r[12]=m[12]*q,r[13]=m[13]*q,r[14]=m[14]*q,r[15]=m[15]*q,r}function rr(r,m,q,Fe){return r[0]=m[0]+q[0]*Fe,r[1]=m[1]+q[1]*Fe,r[2]=m[2]+q[2]*Fe,r[3]=m[3]+q[3]*Fe,r[4]=m[4]+q[4]*Fe,r[5]=m[5]+q[5]*Fe,r[6]=m[6]+q[6]*Fe,r[7]=m[7]+q[7]*Fe,r[8]=m[8]+q[8]*Fe,r[9]=m[9]+q[9]*Fe,r[10]=m[10]+q[10]*Fe,r[11]=m[11]+q[11]*Fe,r[12]=m[12]+q[12]*Fe,r[13]=m[13]+q[13]*Fe,r[14]=m[14]+q[14]*Fe,r[15]=m[15]+q[15]*Fe,r}function Xr(r,m){return r[0]===m[0]&&r[1]===m[1]&&r[2]===m[2]&&r[3]===m[3]&&r[4]===m[4]&&r[5]===m[5]&&r[6]===m[6]&&r[7]===m[7]&&r[8]===m[8]&&r[9]===m[9]&&r[10]===m[10]&&r[11]===m[11]&&r[12]===m[12]&&r[13]===m[13]&&r[14]===m[14]&&r[15]===m[15]}function mi(r,m){const q=r[0],Fe=r[1],_t=r[2],Qt=r[3],_n=r[4],On=r[5],Qn=r[6],Kn=r[7],Mr=r[8],ii=r[9],oi=r[10],ui=r[11],Ai=r[12],oo=r[13],yi=r[14],To=r[15],Bo=m[0],Po=m[1],Oo=m[2],Uo=m[3],Or=m[4],Io=m[5],Fs=m[6],Xs=m[7],yo=m[8],ta=m[9],sa=m[10],Us=m[11],is=m[12],rl=m[13],ld=m[14],qc=m[15];return Math.abs(q-Bo)<=pt*Math.max(1,Math.abs(q),Math.abs(Bo))&&Math.abs(Fe-Po)<=pt*Math.max(1,Math.abs(Fe),Math.abs(Po))&&Math.abs(_t-Oo)<=pt*Math.max(1,Math.abs(_t),Math.abs(Oo))&&Math.abs(Qt-Uo)<=pt*Math.max(1,Math.abs(Qt),Math.abs(Uo))&&Math.abs(_n-Or)<=pt*Math.max(1,Math.abs(_n),Math.abs(Or))&&Math.abs(On-Io)<=pt*Math.max(1,Math.abs(On),Math.abs(Io))&&Math.abs(Qn-Fs)<=pt*Math.max(1,Math.abs(Qn),Math.abs(Fs))&&Math.abs(Kn-Xs)<=pt*Math.max(1,Math.abs(Kn),Math.abs(Xs))&&Math.abs(Mr-yo)<=pt*Math.max(1,Math.abs(Mr),Math.abs(yo))&&Math.abs(ii-ta)<=pt*Math.max(1,Math.abs(ii),Math.abs(ta))&&Math.abs(oi-sa)<=pt*Math.max(1,Math.abs(oi),Math.abs(sa))&&Math.abs(ui-Us)<=pt*Math.max(1,Math.abs(ui),Math.abs(Us))&&Math.abs(Ai-is)<=pt*Math.max(1,Math.abs(Ai),Math.abs(is))&&Math.abs(oo-rl)<=pt*Math.max(1,Math.abs(oo),Math.abs(rl))&&Math.abs(yi-ld)<=pt*Math.max(1,Math.abs(yi),Math.abs(ld))&&Math.abs(To-qc)<=pt*Math.max(1,Math.abs(To),Math.abs(qc))}var Yi=fe,Gi=br,Vi={};function Yo(){const r=new zt(4);return zt!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function Ni(r){const m=new zt(4);return m[0]=r[0],m[1]=r[1],m[2]=r[2],m[3]=r[3],m}function zs(r,m,q,Fe){const _t=new zt(4);return _t[0]=r,_t[1]=m,_t[2]=q,_t[3]=Fe,_t}function ws(r,m){return r[0]=m[0],r[1]=m[1],r[2]=m[2],r[3]=m[3],r}function Jo(r,m,q,Fe,_t){return r[0]=m,r[1]=q,r[2]=Fe,r[3]=_t,r}function Cs(r,m,q){return r[0]=m[0]+q[0],r[1]=m[1]+q[1],r[2]=m[2]+q[2],r[3]=m[3]+q[3],r}function rs(r,m,q){return r[0]=m[0]-q[0],r[1]=m[1]-q[1],r[2]=m[2]-q[2],r[3]=m[3]-q[3],r}function Yt(r,m,q){return r[0]=m[0]*q[0],r[1]=m[1]*q[1],r[2]=m[2]*q[2],r[3]=m[3]*q[3],r}function De(r,m,q){return r[0]=m[0]/q[0],r[1]=m[1]/q[1],r[2]=m[2]/q[2],r[3]=m[3]/q[3],r}function ct(r,m){return r[0]=Math.ceil(m[0]),r[1]=Math.ceil(m[1]),r[2]=Math.ceil(m[2]),r[3]=Math.ceil(m[3]),r}function kt(r,m){return r[0]=Math.floor(m[0]),r[1]=Math.floor(m[1]),r[2]=Math.floor(m[2]),r[3]=Math.floor(m[3]),r}function mn(r,m,q){return r[0]=Math.min(m[0],q[0]),r[1]=Math.min(m[1],q[1]),r[2]=Math.min(m[2],q[2]),r[3]=Math.min(m[3],q[3]),r}function zn(r,m,q){return r[0]=Math.max(m[0],q[0]),r[1]=Math.max(m[1],q[1]),r[2]=Math.max(m[2],q[2]),r[3]=Math.max(m[3],q[3]),r}function ir(r,m){return r[0]=It(m[0]),r[1]=It(m[1]),r[2]=It(m[2]),r[3]=It(m[3]),r}function li(r,m,q){return r[0]=m[0]*q,r[1]=m[1]*q,r[2]=m[2]*q,r[3]=m[3]*q,r}function ji(r,m,q,Fe){return r[0]=m[0]+q[0]*Fe,r[1]=m[1]+q[1]*Fe,r[2]=m[2]+q[2]*Fe,r[3]=m[3]+q[3]*Fe,r}function ho(r,m){const q=m[0]-r[0],Fe=m[1]-r[1],_t=m[2]-r[2],Qt=m[3]-r[3];return Math.sqrt(q*q+Fe*Fe+_t*_t+Qt*Qt)}function go(r,m){const q=m[0]-r[0],Fe=m[1]-r[1],_t=m[2]-r[2],Qt=m[3]-r[3];return q*q+Fe*Fe+_t*_t+Qt*Qt}function Fo(r){const m=r[0],q=r[1],Fe=r[2],_t=r[3];return Math.sqrt(m*m+q*q+Fe*Fe+_t*_t)}function ss(r){const m=r[0],q=r[1],Fe=r[2],_t=r[3];return m*m+q*q+Fe*Fe+_t*_t}function oa(r,m){return r[0]=-m[0],r[1]=-m[1],r[2]=-m[2],r[3]=-m[3],r}function Ca(r,m){return r[0]=1/m[0],r[1]=1/m[1],r[2]=1/m[2],r[3]=1/m[3],r}function xe(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3];let _n=q*q+Fe*Fe+_t*_t+Qt*Qt;return _n>0&&(_n=1/Math.sqrt(_n)),r[0]=q*_n,r[1]=Fe*_n,r[2]=_t*_n,r[3]=Qt*_n,r}function vt(r,m){return r[0]*m[0]+r[1]*m[1]+r[2]*m[2]+r[3]*m[3]}function Nn(r,m,q,Fe){const _t=q[0]*Fe[1]-q[1]*Fe[0],Qt=q[0]*Fe[2]-q[2]*Fe[0],_n=q[0]*Fe[3]-q[3]*Fe[0],On=q[1]*Fe[2]-q[2]*Fe[1],Qn=q[1]*Fe[3]-q[3]*Fe[1],Kn=q[2]*Fe[3]-q[3]*Fe[2],Mr=m[0],ii=m[1],oi=m[2],ui=m[3];return r[0]=ii*Kn-oi*Qn+ui*On,r[1]=-Mr*Kn+oi*_n-ui*Qt,r[2]=Mr*Qn-ii*_n+ui*_t,r[3]=-Mr*On+ii*Qt-oi*_t,r}function Ze(r,m,q,Fe){const _t=m[0],Qt=m[1],_n=m[2],On=m[3];return r[0]=_t+Fe*(q[0]-_t),r[1]=Qt+Fe*(q[1]-Qt),r[2]=_n+Fe*(q[2]-_n),r[3]=On+Fe*(q[3]-On),r}function Tn(r,m){let q,Fe,_t,Qt,_n,On;m=void 0===m?1:m;do{q=2*Mn()-1,Fe=2*Mn()-1,_n=q*q+Fe*Fe}while(_n>=1);do{_t=2*Mn()-1,Qt=2*Mn()-1,On=_t*_t+Qt*Qt}while(On>=1);const Qn=Math.sqrt((1-_n)/On);return r[0]=m*q,r[1]=m*Fe,r[2]=m*_t*Qn,r[3]=m*Qt*Qn,r}function vr(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3];return r[0]=q[0]*Fe+q[4]*_t+q[8]*Qt+q[12]*_n,r[1]=q[1]*Fe+q[5]*_t+q[9]*Qt+q[13]*_n,r[2]=q[2]*Fe+q[6]*_t+q[10]*Qt+q[14]*_n,r[3]=q[3]*Fe+q[7]*_t+q[11]*Qt+q[15]*_n,r}function _i(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=q[0],On=q[1],Qn=q[2],Kn=q[3],Mr=Kn*Fe+On*Qt-Qn*_t,ii=Kn*_t+Qn*Fe-_n*Qt,oi=Kn*Qt+_n*_t-On*Fe,ui=-_n*Fe-On*_t-Qn*Qt;return r[0]=Mr*Kn+ui*-_n+ii*-Qn-oi*-On,r[1]=ii*Kn+ui*-On+oi*-_n-Mr*-Qn,r[2]=oi*Kn+ui*-Qn+Mr*-On-ii*-_n,r[3]=m[3],r}function ao(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}function gs(r){return`vec4(${r[0]}, ${r[1]}, ${r[2]}, ${r[3]})`}function ds(r,m){return r[0]===m[0]&&r[1]===m[1]&&r[2]===m[2]&&r[3]===m[3]}function us(r,m){const q=r[0],Fe=r[1],_t=r[2],Qt=r[3],_n=m[0],On=m[1],Qn=m[2],Kn=m[3];return Math.abs(q-_n)<=pt*Math.max(1,Math.abs(q),Math.abs(_n))&&Math.abs(Fe-On)<=pt*Math.max(1,Math.abs(Fe),Math.abs(On))&&Math.abs(_t-Qn)<=pt*Math.max(1,Math.abs(_t),Math.abs(Qn))&&Math.abs(Qt-Kn)<=pt*Math.max(1,Math.abs(Qt),Math.abs(Kn))}f(Vi,{add:()=>Cs,ceil:()=>ct,clone:()=>Ni,copy:()=>ws,create:()=>Yo,cross:()=>Nn,dist:()=>Ho,distance:()=>ho,div:()=>bs,divide:()=>De,dot:()=>vt,equals:()=>us,exactEquals:()=>ds,floor:()=>kt,forEach:()=>Ls,fromValues:()=>zs,inverse:()=>Ca,len:()=>no,length:()=>Fo,lerp:()=>Ze,max:()=>zn,min:()=>mn,mul:()=>na,multiply:()=>Yt,negate:()=>oa,normalize:()=>xe,random:()=>Tn,round:()=>ir,scale:()=>li,scaleAndAdd:()=>ji,set:()=>Jo,sqrDist:()=>$o,sqrLen:()=>Do,squaredDistance:()=>go,squaredLength:()=>ss,str:()=>gs,sub:()=>hs,subtract:()=>rs,transformMat4:()=>vr,transformQuat:()=>_i,zero:()=>ao});var Xo,tl,hs=rs,na=Yt,bs=De,Ho=ho,$o=go,no=Fo,Do=ss,Ls=function(){const r=Yo();return function(m,q,Fe,_t,Qt,_n){let On,Qn;for(q||(q=4),Fe||(Fe=0),Qn=_t?Math.min(_t*q+Fe,m.length):m.length,On=Fe;On<Qn;On+=q)r[0]=m[On],r[1]=m[On+1],r[2]=m[On+2],r[3]=m[On+3],Qt(r,r,_n),m[On]=r[0],m[On+1]=r[1],m[On+2]=r[2],m[On+3]=r[3];return m}}(),va=function(r){return r[r.COL0ROW0=0]="COL0ROW0",r[r.COL0ROW1=1]="COL0ROW1",r[r.COL0ROW2=2]="COL0ROW2",r[r.COL0ROW3=3]="COL0ROW3",r[r.COL1ROW0=4]="COL1ROW0",r[r.COL1ROW1=5]="COL1ROW1",r[r.COL1ROW2=6]="COL1ROW2",r[r.COL1ROW3=7]="COL1ROW3",r[r.COL2ROW0=8]="COL2ROW0",r[r.COL2ROW1=9]="COL2ROW1",r[r.COL2ROW2=10]="COL2ROW2",r[r.COL2ROW3=11]="COL2ROW3",r[r.COL3ROW0=12]="COL3ROW0",r[r.COL3ROW1=13]="COL3ROW1",r[r.COL3ROW2=14]="COL3ROW2",r[r.COL3ROW3=15]="COL3ROW3",r}(va||{}),Qs=45*Math.PI/180,ha=1,Ua=.1,Ps=500,fa=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),xa=class extends Rs{static get IDENTITY(){return function Cc(){return tl||(tl=new xa,Object.freeze(tl)),tl}()}static get ZERO(){return function Al(){return Xo||(Xo=new xa([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Xo)),Xo}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return va}constructor(r){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(r)?this.copy(r):this.identity()}copy(r){return this[0]=r[0],this[1]=r[1],this[2]=r[2],this[3]=r[3],this[4]=r[4],this[5]=r[5],this[6]=r[6],this[7]=r[7],this[8]=r[8],this[9]=r[9],this[10]=r[10],this[11]=r[11],this[12]=r[12],this[13]=r[13],this[14]=r[14],this[15]=r[15],this.check()}set(r,m,q,Fe,_t,Qt,_n,On,Qn,Kn,Mr,ii,oi,ui,Ai,oo){return this[0]=r,this[1]=m,this[2]=q,this[3]=Fe,this[4]=_t,this[5]=Qt,this[6]=_n,this[7]=On,this[8]=Qn,this[9]=Kn,this[10]=Mr,this[11]=ii,this[12]=oi,this[13]=ui,this[14]=Ai,this[15]=oo,this.check()}setRowMajor(r,m,q,Fe,_t,Qt,_n,On,Qn,Kn,Mr,ii,oi,ui,Ai,oo){return this[0]=r,this[1]=_t,this[2]=Qn,this[3]=oi,this[4]=m,this[5]=Qt,this[6]=Kn,this[7]=ui,this[8]=q,this[9]=_n,this[10]=Mr,this[11]=Ai,this[12]=Fe,this[13]=On,this[14]=ii,this[15]=oo,this.check()}toRowMajor(r){return r[0]=this[0],r[1]=this[4],r[2]=this[8],r[3]=this[12],r[4]=this[1],r[5]=this[5],r[6]=this[9],r[7]=this[13],r[8]=this[2],r[9]=this[6],r[10]=this[10],r[11]=this[14],r[12]=this[3],r[13]=this[7],r[14]=this[11],r[15]=this[15],r}identity(){return this.copy(fa)}fromObject(r){return this.check()}fromQuaternion(r){return Ge(this,r),this.check()}frustum(r){const{left:m,right:q,bottom:Fe,top:_t,near:Qt=Ua,far:_n=Ps}=r;return _n===1/0?function od(r,m,q,Fe,_t,Qt){const On=2*Qt/(_t-Fe),Qn=(q+m)/(q-m),Kn=(_t+Fe)/(_t-Fe),oi=-2*Qt;r[0]=2*Qt/(q-m),r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=On,r[6]=0,r[7]=0,r[8]=Qn,r[9]=Kn,r[10]=-1,r[11]=-1,r[12]=0,r[13]=0,r[14]=oi,r[15]=0}(this,m,q,Fe,_t,Qt):Mt(this,m,q,Fe,_t,Qt,_n),this.check()}lookAt(r){const{eye:m,center:q=[0,0,0],up:Fe=[0,1,0]}=r;return Wr(this,m,q,Fe),this.check()}ortho(r){const{left:m,right:q,bottom:Fe,top:_t,near:Qt=Ua,far:_n=Ps}=r;return kr(this,m,q,Fe,_t,Qt,_n),this.check()}orthographic(r){const{fovy:m=Qs,aspect:q=ha,focalDistance:Fe=1,near:_t=Ua,far:Qt=Ps}=r;Aa(m);const On=Fe*Math.tan(m/2),Qn=On*q;return this.ortho({left:-Qn,right:Qn,bottom:-On,top:On,near:_t,far:Qt})}perspective(r){const{fovy:m=45*Math.PI/180,aspect:q=1,near:Fe=.1,far:_t=500}=r;return Aa(m),pn(this,m,q,Fe,_t),this.check()}determinant(){return ft(this)}getScale(r=[-0,-0,-0]){return r[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),r[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),r[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),r}getTranslation(r=[-0,-0,-0]){return r[0]=this[12],r[1]=this[13],r[2]=this[14],r}getRotation(r,m){r=r||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const q=this.getScale(m=m||[-0,-0,-0]),Fe=1/q[0],_t=1/q[1],Qt=1/q[2];return r[0]=this[0]*Fe,r[1]=this[1]*_t,r[2]=this[2]*Qt,r[3]=0,r[4]=this[4]*Fe,r[5]=this[5]*_t,r[6]=this[6]*Qt,r[7]=0,r[8]=this[8]*Fe,r[9]=this[9]*_t,r[10]=this[10]*Qt,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}getRotationMatrix3(r,m){r=r||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const q=this.getScale(m=m||[-0,-0,-0]),Fe=1/q[0],_t=1/q[1],Qt=1/q[2];return r[0]=this[0]*Fe,r[1]=this[1]*_t,r[2]=this[2]*Qt,r[3]=this[4]*Fe,r[4]=this[5]*_t,r[5]=this[6]*Qt,r[6]=this[8]*Fe,r[7]=this[9]*_t,r[8]=this[10]*Qt,r}transpose(){return st(this,this),this.check()}invert(){return Qe(this,this),this.check()}multiplyLeft(r){return fe(this,r,this),this.check()}multiplyRight(r){return fe(this,this,r),this.check()}rotateX(r){return wt(this,this,r),this.check()}rotateY(r){return Q(this,this,r),this.check()}rotateZ(r){return be(this,this,r),this.check()}rotateXYZ(r){return this.rotateX(r[0]).rotateY(r[1]).rotateZ(r[2])}rotateAxis(r,m){return Yn(this,this,r,m),this.check()}scale(r){return cn(this,this,Array.isArray(r)?r:[r,r,r]),this.check()}translate(r){return St(this,this,r),this.check()}transform(r,m){return 4===r.length?(j(m=vr(m||[-0,-0,-0,-0],r,this),4),m):this.transformAsPoint(r,m)}transformAsPoint(r,m){const{length:q}=r;let Fe;switch(q){case 2:Fe=Kt(m||[-0,-0],r,this);break;case 3:Fe=so(m||[-0,-0,-0],r,this);break;default:throw new Error("Illegal vector")}return j(Fe,r.length),Fe}transformAsVector(r,m){let q;switch(r.length){case 2:q=ke(m||[-0,-0],r,this);break;case 3:q=Jt(m||[-0,-0,-0],r,this);break;default:throw new Error("Illegal vector")}return j(q,r.length),q}transformPoint(r,m){return this.transformAsPoint(r,m)}transformVector(r,m){return this.transformAsPoint(r,m)}transformDirection(r,m){return this.transformAsVector(r,m)}makeRotationX(r){return this.identity().rotateX(r)}makeTranslation(r,m,q){return this.identity().translate([r,m,q])}};function Aa(r){if(r>2*Math.PI)throw Error("expected radians")}var Ac={};function Wa(){const r=new zt(4);return zt!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function Ml(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function dc(r,m,q){q*=.5;const Fe=Math.sin(q);return r[0]=Fe*m[0],r[1]=Fe*m[1],r[2]=Fe*m[2],r[3]=Math.cos(q),r}function Cn(r,m){const q=2*Math.acos(m[3]),Fe=Math.sin(q/2);return Fe>pt?(r[0]=m[0]/Fe,r[1]=m[1]/Fe,r[2]=m[2]/Fe):(r[0]=1,r[1]=0,r[2]=0),q}function Vl(r,m){const q=Yc(r,m);return Math.acos(2*q*q-1)}function gl(r,m,q){const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=q[0],Qn=q[1],Kn=q[2],Mr=q[3];return r[0]=Fe*Mr+_n*On+_t*Kn-Qt*Qn,r[1]=_t*Mr+_n*Qn+Qt*On-Fe*Kn,r[2]=Qt*Mr+_n*Kn+Fe*Qn-_t*On,r[3]=_n*Mr-Fe*On-_t*Qn-Qt*Kn,r}function jo(r,m,q){q*=.5;const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=Math.sin(q),Qn=Math.cos(q);return r[0]=Fe*Qn+_n*On,r[1]=_t*Qn+Qt*On,r[2]=Qt*Qn-_t*On,r[3]=_n*Qn-Fe*On,r}function ks(r,m,q){q*=.5;const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=Math.sin(q),Qn=Math.cos(q);return r[0]=Fe*Qn-Qt*On,r[1]=_t*Qn+_n*On,r[2]=Qt*Qn+Fe*On,r[3]=_n*Qn-_t*On,r}function Wc(r,m,q){q*=.5;const Fe=m[0],_t=m[1],Qt=m[2],_n=m[3],On=Math.sin(q),Qn=Math.cos(q);return r[0]=Fe*Qn+_t*On,r[1]=_t*Qn-Fe*On,r[2]=Qt*Qn+_n*On,r[3]=_n*Qn-Qt*On,r}function Fl(r,m){const q=m[0],Fe=m[1],_t=m[2];return r[0]=q,r[1]=Fe,r[2]=_t,r[3]=Math.sqrt(Math.abs(1-q*q-Fe*Fe-_t*_t)),r}function sd(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=Math.sqrt(q*q+Fe*Fe+_t*_t),On=Math.exp(Qt),Qn=_n>0?On*Math.sin(_n)/_n:0;return r[0]=q*Qn,r[1]=Fe*Qn,r[2]=_t*Qn,r[3]=On*Math.cos(_n),r}function cl(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=Math.sqrt(q*q+Fe*Fe+_t*_t),On=_n>0?Math.atan2(_n,Qt)/_n:0;return r[0]=q*On,r[1]=Fe*On,r[2]=_t*On,r[3]=.5*Math.log(q*q+Fe*Fe+_t*_t+Qt*Qt),r}function Da(r,m,q){return cl(r,m),ra(r,r,q),sd(r,r),r}function Mc(r,m,q,Fe){const _t=m[0],Qt=m[1],_n=m[2],On=m[3];let oi,ui,Ai,oo,yi,Qn=q[0],Kn=q[1],Mr=q[2],ii=q[3];return oi=_t*Qn+Qt*Kn+_n*Mr+On*ii,oi<0&&(oi=-oi,Qn=-Qn,Kn=-Kn,Mr=-Mr,ii=-ii),1-oi>pt?(ui=Math.acos(oi),yi=Math.sin(ui),Ai=Math.sin((1-Fe)*ui)/yi,oo=Math.sin(Fe*ui)/yi):(Ai=1-Fe,oo=Fe),r[0]=Ai*_t+oo*Qn,r[1]=Ai*Qt+oo*Kn,r[2]=Ai*_n+oo*Mr,r[3]=Ai*On+oo*ii,r}function Ba(r,m){const q=m[0],Fe=m[1],_t=m[2],Qt=m[3],_n=q*q+Fe*Fe+_t*_t+Qt*Qt,On=_n?1/_n:0;return r[0]=-q*On,r[1]=-Fe*On,r[2]=-_t*On,r[3]=Qt*On,r}function Oa(r,m){return r[0]=-m[0],r[1]=-m[1],r[2]=-m[2],r[3]=m[3],r}function Dl(r,m){const q=m[0]+m[4]+m[8];let Fe;if(q>0)Fe=Math.sqrt(q+1),r[3]=.5*Fe,Fe=.5/Fe,r[0]=(m[5]-m[7])*Fe,r[1]=(m[6]-m[2])*Fe,r[2]=(m[1]-m[3])*Fe;else{let _t=0;m[4]>m[0]&&(_t=1),m[8]>m[3*_t+_t]&&(_t=2);const Qt=(_t+1)%3,_n=(_t+2)%3;Fe=Math.sqrt(m[3*_t+_t]-m[3*Qt+Qt]-m[3*_n+_n]+1),r[_t]=.5*Fe,Fe=.5/Fe,r[3]=(m[3*Qt+_n]-m[3*_n+Qt])*Fe,r[Qt]=(m[3*Qt+_t]+m[3*_t+Qt])*Fe,r[_n]=(m[3*_n+_t]+m[3*_t+_n])*Fe}return r}function Ga(r){return`quat(${r[0]}, ${r[1]}, ${r[2]}, ${r[3]})`}f(Ac,{add:()=>Xc,calculateW:()=>Fl,clone:()=>_s,conjugate:()=>Oa,copy:()=>Kc,create:()=>Wa,dot:()=>Yc,equals:()=>Se,exactEquals:()=>Je,exp:()=>sd,fromMat3:()=>Dl,fromValues:()=>nl,getAngle:()=>Vl,getAxisAngle:()=>Cn,identity:()=>Ml,invert:()=>Ba,len:()=>es,length:()=>ad,lerp:()=>Dc,ln:()=>cl,mul:()=>dl,multiply:()=>gl,normalize:()=>Ie,pow:()=>Da,rotateX:()=>jo,rotateY:()=>ks,rotateZ:()=>Wc,rotationTo:()=>yt,scale:()=>ra,set:()=>_l,setAxes:()=>jn,setAxisAngle:()=>dc,slerp:()=>Mc,sqlerp:()=>yn,sqrLen:()=>ue,squaredLength:()=>Xl,str:()=>Ga});var _s=Ni,nl=zs,Kc=ws,_l=Jo,Xc=Cs,dl=gl,ra=li,Yc=vt,Dc=Ze,ad=Fo,es=ad,Xl=ss,ue=Xl,Ie=xe,Je=ds;function Se(r,m){return Math.abs(vt(r,m))>=1-pt}var yt=function(){const r=sr(),m=Ei(1,0,0),q=Ei(0,1,0);return function(Fe,_t,Qt){const _n=Ar(_t,Qt);return _n<-.999999?(zr(r,m,_t),Ro(r)<1e-6&&zr(r,q,_t),fr(r,r),dc(Fe,r,Math.PI),Fe):_n>.999999?(Fe[0]=0,Fe[1]=0,Fe[2]=0,Fe[3]=1,Fe):(zr(r,_t,Qt),Fe[0]=r[0],Fe[1]=r[1],Fe[2]=r[2],Fe[3]=1+_n,Ie(Fe,Fe))}}(),yn=function(){const r=Wa(),m=Wa();return function(q,Fe,_t,Qt,_n,On){return Mc(r,Fe,_n,On),Mc(m,_t,Qt,On),Mc(q,r,m,2*On*(1-On)),q}}(),jn=function(){const r=ur();return function(m,q,Fe,_t){return r[0]=Fe[0],r[3]=Fe[1],r[6]=Fe[2],r[1]=_t[0],r[4]=_t[1],r[7]=_t[2],r[2]=-q[0],r[5]=-q[1],r[8]=-q[2],Ie(m,Dl(m,r))}}(),qr=[0,0,0,1],Ji=class extends Bt{constructor(r=0,m=0,q=0,Fe=1){super(-0,-0,-0,-0),Array.isArray(r)&&1===arguments.length?this.copy(r):this.set(r,m,q,Fe)}copy(r){return this[0]=r[0],this[1]=r[1],this[2]=r[2],this[3]=r[3],this.check()}set(r,m,q,Fe){return this[0]=r,this[1]=m,this[2]=q,this[3]=Fe,this.check()}fromObject(r){return this[0]=r.x,this[1]=r.y,this[2]=r.z,this[3]=r.w,this.check()}fromMatrix3(r){return Dl(this,r),this.check()}fromAxisRotation(r,m){return dc(this,r,m),this.check()}identity(){return Ml(this),this.check()}setAxisAngle(r,m){return this.fromAxisRotation(r,m)}get ELEMENTS(){return 4}get x(){return this[0]}set x(r){this[0]=R(r)}get y(){return this[1]}set y(r){this[1]=R(r)}get z(){return this[2]}set z(r){this[2]=R(r)}get w(){return this[3]}set w(r){this[3]=R(r)}len(){return ad(this)}lengthSquared(){return Xl(this)}dot(r){return Yc(this,r)}rotationTo(r,m){return yt(this,r,m),this.check()}add(r){return Xc(this,this,r),this.check()}calculateW(){return Fl(this,this),this.check()}conjugate(){return Oa(this,this),this.check()}invert(){return Ba(this,this),this.check()}lerp(r,m,q){return void 0===q?this.lerp(this,r,m):(Dc(this,r,m,q),this.check())}multiplyRight(r){return gl(this,this,r),this.check()}multiplyLeft(r){return gl(this,r,this),this.check()}normalize(){const r=this.len(),m=r>0?1/r:0;return this[0]=this[0]*m,this[1]=this[1]*m,this[2]=this[2]*m,this[3]=this[3]*m,0===r&&(this[3]=1),this.check()}rotateX(r){return jo(this,this,r),this.check()}rotateY(r){return ks(this,this,r),this.check()}rotateZ(r){return Wc(this,this,r),this.check()}scale(r){return ra(this,this,r),this.check()}slerp(r,m,q){let Fe,_t,Qt;switch(arguments.length){case 1:({start:Fe=qr,target:_t,ratio:Qt}=r);break;case 2:Fe=this,_t=r,Qt=m;break;default:Fe=r,_t=m,Qt=q}return Mc(this,Fe,_t,Qt),this.check()}transformVector4(r,m=new ns){return _i(m,r,this),j(m,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(r,m){return this.setAxisAngle(r,m)}premultiply(r){return this.multiplyLeft(r)}multiply(r){return this.multiplyRight(r)}},$s=class{constructor({phi:r=0,theta:m=0,radius:q=1,bearing:Fe,pitch:_t,altitude:Qt,radiusScale:_n=6371e3}={}){this.phi=r,this.theta=m,this.radius=q||Qt||1,this.radiusScale=_n||1,void 0!==Fe&&(this.bearing=Fe),void 0!==_t&&(this.pitch=_t),this.check()}toString(){return this.formatString(U)}formatString({printTypes:r=!1}){const m=y;return`${r?"Spherical":""}[rho:${m(this.radius)},theta:${m(this.theta)},phi:${m(this.phi)}]`}equals(r){return ce(this.radius,r.radius)&&ce(this.theta,r.theta)&&ce(this.phi,r.phi)}exactEquals(r){return this.radius===r.radius&&this.theta===r.theta&&this.phi===r.phi}get bearing(){return 180-Z(this.phi)}set bearing(r){this.phi=Math.PI-V(r)}get pitch(){return Z(this.theta)}set pitch(r){this.theta=V(r)}get longitude(){return Z(this.phi)}get latitude(){return Z(this.theta)}get lng(){return Z(this.phi)}get lat(){return Z(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(r,m,q){return this.radius=r,this.phi=m,this.theta=q,this.check()}clone(){return(new $s).copy(this)}copy(r){return this.radius=r.radius,this.phi=r.phi,this.theta=r.theta,this.check()}fromLngLatZ([r,m,q]){return this.radius=1+q/this.radiusScale,this.phi=V(m),this.theta=V(r),this.check()}fromVector3(r){return this.radius=hi(r),this.radius>0&&(this.theta=Math.atan2(r[0],r[1]),this.phi=Math.acos(me(r[2]/this.radius,-1,1))),this.check()}toVector3(){return new Zo(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},xs="Unknown Euler angle order",ia=.99999,ea=function(r){return r[r.ZYX=0]="ZYX",r[r.YXZ=1]="YXZ",r[r.XZY=2]="XZY",r[r.ZXY=3]="ZXY",r[r.YZX=4]="YZX",r[r.XYZ=5]="XYZ",r}(ea||{}),ma=class extends Bt{static get ZYX(){return ea.ZYX}static get YXZ(){return ea.YXZ}static get XZY(){return ea.XZY}static get ZXY(){return ea.ZXY}static get YZX(){return ea.YZX}static get XYZ(){return ea.XYZ}static get RollPitchYaw(){return ea.ZYX}static get DefaultOrder(){return ea.ZYX}static get RotationOrders(){return ea}static rotationOrder(r){return ea[r]}get ELEMENTS(){return 4}constructor(r=0,m=0,q=0,Fe=ma.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(r,m,q,Fe)}fromQuaternion(r){const[m,q,Fe,_t]=r,Qt=q*q,_n=-2*(Qt+Fe*Fe)+1,On=2*(m*q+_t*Fe);let Qn=-2*(m*Fe-_t*q);Qn=Qn>1?1:Qn,Qn=Qn<-1?-1:Qn;const ii=Math.atan2(2*(q*Fe+_t*m),-2*(m*m+Qt)+1),oi=Math.asin(Qn),ui=Math.atan2(On,_n);return this.set(ii,oi,ui,ma.RollPitchYaw)}fromObject(r){throw new Error("not implemented")}copy(r){return this[0]=r[0],this[1]=r[1],this[2]=r[2],this[3]=Number.isFinite(r[3])||this.order,this.check()}set(r=0,m=0,q=0,Fe){return this[0]=r,this[1]=m,this[2]=q,this[3]=Number.isFinite(Fe)?Fe:this[3],this.check()}validate(){return function uc(r){return r>=0&&r<6}(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}toArray(r=[],m=0){return r[m]=this[0],r[m+1]=this[1],r[m+2]=this[2],r}toArray4(r=[],m=0){return r[m]=this[0],r[m+1]=this[1],r[m+2]=this[2],r[m+3]=this[3],r}toVector3(r=[-0,-0,-0]){return r[0]=this[0],r[1]=this[1],r[2]=this[2],r}get x(){return this[0]}set x(r){this[0]=R(r)}get y(){return this[1]}set y(r){this[1]=R(r)}get z(){return this[2]}set z(r){this[2]=R(r)}get alpha(){return this[0]}set alpha(r){this[0]=R(r)}get beta(){return this[1]}set beta(r){this[1]=R(r)}get gamma(){return this[2]}set gamma(r){this[2]=R(r)}get phi(){return this[0]}set phi(r){this[0]=R(r)}get theta(){return this[1]}set theta(r){this[1]=R(r)}get psi(){return this[2]}set psi(r){this[2]=R(r)}get roll(){return this[0]}set roll(r){this[0]=R(r)}get pitch(){return this[1]}set pitch(r){this[1]=R(r)}get yaw(){return this[2]}set yaw(r){this[2]=R(r)}get order(){return this[3]}set order(r){this[3]=function Ka(r){if(r<0&&r>=6)throw new Error(xs);return r}(r)}fromVector3(r,m){return this.set(r[0],r[1],r[2],Number.isFinite(m)?m:this[3])}fromArray(r,m=0){return this[0]=r[0+m],this[1]=r[1+m],this[2]=r[2+m],void 0!==r[3]&&(this[3]=r[3]),this.check()}fromRollPitchYaw(r,m,q){return this.set(r,m,q,ea.ZYX)}fromRotationMatrix(r,m=ma.DefaultOrder){return this._fromRotationMatrix(r,m),this.check()}getRotationMatrix(r){return this._getRotationMatrix(r)}getQuaternion(){const r=new Ji;switch(this[3]){case ea.XYZ:return r.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case ea.YXZ:return r.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case ea.ZXY:return r.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case ea.ZYX:return r.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case ea.YZX:return r.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case ea.XZY:return r.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(xs)}}_fromRotationMatrix(r,m=ma.DefaultOrder){const q=r[0],Fe=r[4],_t=r[8],Qt=r[1],_n=r[5],On=r[9],Qn=r[2],Kn=r[6],Mr=r[10];switch(m=m||this[3]){case ma.XYZ:this[1]=Math.asin(me(_t,-1,1)),Math.abs(_t)<ia?(this[0]=Math.atan2(-On,Mr),this[2]=Math.atan2(-Fe,q)):(this[0]=Math.atan2(Kn,_n),this[2]=0);break;case ma.YXZ:this[0]=Math.asin(-me(On,-1,1)),Math.abs(On)<ia?(this[1]=Math.atan2(_t,Mr),this[2]=Math.atan2(Qt,_n)):(this[1]=Math.atan2(-Qn,q),this[2]=0);break;case ma.ZXY:this[0]=Math.asin(me(Kn,-1,1)),Math.abs(Kn)<ia?(this[1]=Math.atan2(-Qn,Mr),this[2]=Math.atan2(-Fe,_n)):(this[1]=0,this[2]=Math.atan2(Qt,q));break;case ma.ZYX:this[1]=Math.asin(-me(Qn,-1,1)),Math.abs(Qn)<ia?(this[0]=Math.atan2(Kn,Mr),this[2]=Math.atan2(Qt,q)):(this[0]=0,this[2]=Math.atan2(-Fe,_n));break;case ma.YZX:this[2]=Math.asin(me(Qt,-1,1)),Math.abs(Qt)<ia?(this[0]=Math.atan2(-On,_n),this[1]=Math.atan2(-Qn,q)):(this[0]=0,this[1]=Math.atan2(_t,Mr));break;case ma.XZY:this[2]=Math.asin(-me(Fe,-1,1)),Math.abs(Fe)<ia?(this[0]=Math.atan2(Kn,_n),this[1]=Math.atan2(_t,q)):(this[0]=Math.atan2(-On,Mr),this[1]=0);break;default:throw new Error(xs)}return this[3]=m,this}_getRotationMatrix(r){const m=r||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],q=this.x,Fe=this.y,_t=this.z,Qt=Math.cos(q),_n=Math.cos(Fe),On=Math.cos(_t),Qn=Math.sin(q),Kn=Math.sin(Fe),Mr=Math.sin(_t);switch(this[3]){case ma.XYZ:{const ii=Qt*On,oi=Qt*Mr,ui=Qn*On,Ai=Qn*Mr;m[0]=_n*On,m[4]=-_n*Mr,m[8]=Kn,m[1]=oi+ui*Kn,m[5]=ii-Ai*Kn,m[9]=-Qn*_n,m[2]=Ai-ii*Kn,m[6]=ui+oi*Kn,m[10]=Qt*_n;break}case ma.YXZ:{const ii=_n*On,oi=_n*Mr,ui=Kn*On,Ai=Kn*Mr;m[0]=ii+Ai*Qn,m[4]=ui*Qn-oi,m[8]=Qt*Kn,m[1]=Qt*Mr,m[5]=Qt*On,m[9]=-Qn,m[2]=oi*Qn-ui,m[6]=Ai+ii*Qn,m[10]=Qt*_n;break}case ma.ZXY:{const ii=_n*On,oi=_n*Mr,ui=Kn*On,Ai=Kn*Mr;m[0]=ii-Ai*Qn,m[4]=-Qt*Mr,m[8]=ui+oi*Qn,m[1]=oi+ui*Qn,m[5]=Qt*On,m[9]=Ai-ii*Qn,m[2]=-Qt*Kn,m[6]=Qn,m[10]=Qt*_n;break}case ma.ZYX:{const ii=Qt*On,oi=Qt*Mr,ui=Qn*On,Ai=Qn*Mr;m[0]=_n*On,m[4]=ui*Kn-oi,m[8]=ii*Kn+Ai,m[1]=_n*Mr,m[5]=Ai*Kn+ii,m[9]=oi*Kn-ui,m[2]=-Kn,m[6]=Qn*_n,m[10]=Qt*_n;break}case ma.YZX:{const ii=Qt*_n,oi=Qt*Kn,ui=Qn*_n,Ai=Qn*Kn;m[0]=_n*On,m[4]=Ai-ii*Mr,m[8]=ui*Mr+oi,m[1]=Mr,m[5]=Qt*On,m[9]=-Qn*On,m[2]=-Kn*On,m[6]=oi*Mr+ui,m[10]=ii-Ai*Mr;break}case ma.XZY:{const ii=Qt*_n,oi=Qt*Kn,ui=Qn*_n,Ai=Qn*Kn;m[0]=_n*On,m[4]=-Mr,m[8]=Kn*On,m[1]=ii*Mr+Ai,m[5]=Qt*On,m[9]=oi*Mr-ui,m[2]=ui*Mr-oi,m[6]=Qn*On,m[10]=Ai*Mr+ii;break}default:throw new Error(xs)}return m[3]=0,m[7]=0,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}toQuaternion(){const r=Math.cos(.5*this.yaw),m=Math.sin(.5*this.yaw),q=Math.cos(.5*this.roll),Fe=Math.sin(.5*this.roll),_t=Math.cos(.5*this.pitch),Qt=Math.sin(.5*this.pitch);return new Ji(r*Fe*_t-m*q*Qt,r*q*Qt+m*Fe*_t,m*q*_t-r*Fe*Qt,r*q*_t+m*Fe*Qt)}},ul=class{constructor({x:r=0,y:m=0,z:q=0,roll:Fe=0,pitch:_t=0,yaw:Qt=0,position:_n,orientation:On}={}){this.position=Array.isArray(_n)&&3===_n.length?new Zo(_n):new Zo(r,m,q),this.orientation=Array.isArray(On)&&4===On.length?new ma(On,On[3]):new ma(Fe,_t,Qt,ma.RollPitchYaw)}get x(){return this.position.x}set x(r){this.position.x=r}get y(){return this.position.y}set y(r){this.position.y=r}get z(){return this.position.z}set z(r){this.position.z=r}get roll(){return this.orientation.roll}set roll(r){this.orientation.roll=r}get pitch(){return this.orientation.pitch}set pitch(r){this.orientation.pitch=r}get yaw(){return this.orientation.yaw}set yaw(r){this.orientation.yaw=r}getPosition(){return this.position}getOrientation(){return this.orientation}equals(r){return!!r&&this.position.equals(r.position)&&this.orientation.equals(r.orientation)}exactEquals(r){return!!r&&this.position.exactEquals(r.position)&&this.orientation.exactEquals(r.orientation)}getTransformationMatrix(){const r=Math.sin(this.roll),m=Math.sin(this.pitch),q=Math.sin(this.yaw),Fe=Math.cos(this.roll),_t=Math.cos(this.pitch),Qt=Math.cos(this.yaw);return(new xa).setRowMajor(Qt*_t,-q*Fe+Qt*m*r,q*r+Qt*m*Fe,this.x,q*_t,Qt*Fe+q*m*r,-Qt*r+q*m*Fe,this.y,-m,_t*r,_t*Fe,this.z,0,0,0,1)}getTransformationMatrixFromPose(r){return(new xa).multiplyRight(this.getTransformationMatrix()).multiplyRight(r.getTransformationMatrix().invert())}getTransformationMatrixToPose(r){return(new xa).multiplyRight(r.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},xd={};f(xd,{EPSILON1:()=>Tc,EPSILON10:()=>Qc,EPSILON11:()=>Ed,EPSILON12:()=>Xd,EPSILON13:()=>fs,EPSILON14:()=>Oc,EPSILON15:()=>Pc,EPSILON16:()=>Ea,EPSILON17:()=>Yd,EPSILON18:()=>jl,EPSILON19:()=>yl,EPSILON2:()=>vl,EPSILON20:()=>Xa,EPSILON3:()=>Su,EPSILON4:()=>Yl,EPSILON5:()=>Sc,EPSILON6:()=>Ic,EPSILON7:()=>Na,EPSILON8:()=>Rc,EPSILON9:()=>Iu,PI_OVER_FOUR:()=>kc,PI_OVER_SIX:()=>Qd,PI_OVER_TWO:()=>Pa,TWO_PI:()=>hl});var Tc=.1,vl=.01,Su=.001,Yl=1e-4,Sc=1e-5,Ic=1e-6,Na=1e-7,Rc=1e-8,Iu=1e-9,Qc=1e-10,Ed=1e-11,Xd=1e-12,fs=1e-13,Oc=1e-14,Pc=1e-15,Ea=1e-16,Yd=1e-17,jl=1e-18,yl=1e-19,Xa=1e-20,Pa=Math.PI/2,kc=Math.PI/4,Qd=Math.PI/6,hl=2*Math.PI},47590:en=>{var J,Ve=Object.defineProperty,E=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,w={};((J,te)=>{for(var ae in te)Ve(J,ae,{get:te[ae],enumerable:!0})})(w,{VERSION:()=>Z,assert:()=>V,console:()=>P,document:()=>S,getBrowser:()=>K,global:()=>d,isBrowser:()=>M,isElectron:()=>v,isMobile:()=>G,process:()=>U,self:()=>d,window:()=>k}),en.exports=(J=w,((J,te,ae,Y)=>{if(te&&"object"==typeof te||"function"==typeof te)for(let $ of i(te))!u.call(J,$)&&undefined!==$&&Ve(J,$,{get:()=>te[$],enumerable:!(Y=E(te,$))||Y.enumerable});return J})(Ve({},"__esModule",{value:!0}),J));var d=globalThis,k=globalThis,S=globalThis.document||{},U=globalThis.process||{},P=globalThis.console,y=globalThis.navigator||{};function v(J){var te,ae;if(typeof window<"u"&&"renderer"===(null==(te=window.process)?void 0:te.type)||typeof process<"u"&&null!=(ae=process.versions)&&ae.electron)return!0;const Y=typeof navigator<"u"&&navigator.userAgent,$=J||Y;return!!($&&$.indexOf("Electron")>=0)}function M(){return!("object"==typeof process&&"[object process]"===String(process)&&(null==process||!process.browser))||v()}function G(){return typeof globalThis.orientation<"u"}function K(J){return J||M()?v(J)?"Electron":(J||y.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}function V(J,te){if(!J)throw new Error(te||"Assertion failed")}var Z="4.0.7"},69243:(en,Ve,E)=>{var R,i=Object.defineProperty,u=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,k={};((R,j)=>{for(var he in j)i(R,he,{get:j[he],enumerable:!0})})(k,{COLOR:()=>K,LocalStorage:()=>P,Log:()=>Ue,addColor:()=>J,autobind:()=>te,default:()=>de,getHiResTimestamp:()=>$,leftPad:()=>v,rightPad:()=>M}),en.exports=(R=k,((R,j,he,Ce)=>{if(j&&"object"==typeof j||"function"==typeof j)for(let Re of f(j))!C.call(R,Re)&&undefined!==Re&&i(R,Re,{get:()=>j[Re],enumerable:!(Ce=u(j,Re))||Ce.enumerable});return R})(i({},"__esModule",{value:!0}),R));var S=E(47590),P=class{constructor(R,j,he="sessionStorage"){this.storage=function U(R){try{const j=window[R],he="__storage_test__";return j.setItem(he,he),j.removeItem(he),j}catch{return null}}(he),this.id=R,this.config=j,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(R){if(Object.assign(this.config,R),this.storage){const j=JSON.stringify(this.config);this.storage.setItem(this.id,j)}}_loadConfiguration(){let R={};if(this.storage){const j=this.storage.getItem(this.id);R=j?JSON.parse(j):{}}return Object.assign(this.config,R),this}};function v(R,j=8){const he=Math.max(j-R.length,0);return`${" ".repeat(he)}${R}`}function M(R,j=8){const he=Math.max(j-R.length,0);return`${R}${" ".repeat(he)}`}var G=E(47590),K=function(R){return R[R.BLACK=30]="BLACK",R[R.RED=31]="RED",R[R.GREEN=32]="GREEN",R[R.YELLOW=33]="YELLOW",R[R.BLUE=34]="BLUE",R[R.MAGENTA=35]="MAGENTA",R[R.CYAN=36]="CYAN",R[R.WHITE=37]="WHITE",R[R.BRIGHT_BLACK=90]="BRIGHT_BLACK",R[R.BRIGHT_RED=91]="BRIGHT_RED",R[R.BRIGHT_GREEN=92]="BRIGHT_GREEN",R[R.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",R[R.BRIGHT_BLUE=94]="BRIGHT_BLUE",R[R.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",R[R.BRIGHT_CYAN=96]="BRIGHT_CYAN",R[R.BRIGHT_WHITE=97]="BRIGHT_WHITE",R}(K||{}),V=10;function Z(R){return"string"!=typeof R?R:(R=R.toUpperCase(),K[R]||K.WHITE)}function J(R,j,he){return!G.isBrowser&&"string"==typeof R&&(j&&(R=`\x1b[${Z(j)}m${R}\x1b[39m`),he&&(R=`\x1b[${Z(he)+V}m${R}\x1b[49m`)),R}function te(R,j=["constructor"]){const he=Object.getPrototypeOf(R),Ce=Object.getOwnPropertyNames(he),Re=R;for(const pt of Ce){const zt=Re[pt];"function"==typeof zt&&(j.find(Mn=>pt===Mn)||(Re[pt]=zt.bind(R)))}}function ae(R,j){if(!R)throw new Error(j||"Assertion failed")}var Y=E(47590);function $(){var R,j,he,Ce,Re;let pt;if((0,Y.isBrowser)()&&Y.window.performance)pt=null==(he=null==(j=null==(R=Y.window)?void 0:R.performance)?void 0:j.now)?void 0:he.call(j);else if("hrtime"in Y.process){const zt=null==(Re=null==(Ce=Y.process)?void 0:Ce.hrtime)?void 0:Re.call(Ce);pt=1e3*zt[0]+zt[1]/1e6}else pt=Date.now();return pt}var H={debug:(0,S.isBrowser)()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},me={enabled:!0,level:0};function B(){}var ce={},Oe={once:!0},Ue=class{constructor({id:R}={id:""}){this.VERSION=S.VERSION,this._startTs=$(),this._deltaTs=$(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=R,this.userData={},this._storage=new P(`__probe-${this.id}__`,me),this.timeStamp(`${this.id} started`),te(this),Object.seal(this)}set level(R){this.setLevel(R)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number(($()-this._startTs).toPrecision(10))}getDelta(){return Number(($()-this._deltaTs).toPrecision(10))}set priority(R){this.level=R}get priority(){return this.level}getPriority(){return this.level}enable(R=!0){return this._storage.setConfiguration({enabled:R}),this}setLevel(R){return this._storage.setConfiguration({level:R}),this}get(R){return this._storage.config[R]}set(R,j){this._storage.setConfiguration({[R]:j})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(R,j){if(!R)throw new Error(j||"Assertion failed")}warn(R){return this._getLogFunction(0,R,H.warn,arguments,Oe)}error(R){return this._getLogFunction(0,R,H.error,arguments)}deprecated(R,j){return this.warn(`\`${R}\` is deprecated and will be removed in a later version. Use \`${j}\` instead`)}removed(R,j){return this.error(`\`${R}\` has been removed. Use \`${j}\` instead`)}probe(R,j){return this._getLogFunction(R,j,H.log,arguments,{time:!0,once:!0})}log(R,j){return this._getLogFunction(R,j,H.debug,arguments)}info(R,j){return this._getLogFunction(R,j,console.info,arguments)}once(R,j){return this._getLogFunction(R,j,H.debug||H.info,arguments,Oe)}table(R,j,he){return j?this._getLogFunction(R,j,console.table||B,he&&[he],{tag:Bt(j)}):B}time(R,j){return this._getLogFunction(R,j,console.time?console.time:console.info)}timeEnd(R,j){return this._getLogFunction(R,j,console.timeEnd?console.timeEnd:console.info)}timeStamp(R,j){return this._getLogFunction(R,j,console.timeStamp||B)}group(R,j,he={collapsed:!1}){const Ce=_e({logLevel:R,message:j,opts:he}),{collapsed:Re}=he;return Ce.method=(Re?console.groupCollapsed:console.group)||console.info,this._getLogFunction(Ce)}groupCollapsed(R,j,he={}){return this.group(R,j,Object.assign({},he,{collapsed:!0}))}groupEnd(R){return this._getLogFunction(R,"",console.groupEnd||B)}withGroup(R,j,he){this.group(R,j)();try{he()}finally{this.groupEnd(R)()}}trace(){console.trace&&console.trace()}_shouldLog(R){return this.isEnabled()&&this.getLevel()>=qe(R)}_getLogFunction(R,j,he,Ce,Re){if(this._shouldLog(R)){Re=_e({logLevel:R,message:j,args:Ce,opts:Re}),ae(he=he||Re.method),Re.total=this.getTotal(),Re.delta=this.getDelta(),this._deltaTs=$();const pt=Re.tag||Re.message;if(Re.once&&pt){if(ce[pt])return B;ce[pt]=$()}return j=function ht(R,j,he){if("string"==typeof j){const Ce=he.time?v(function y(R){let j;return j=R<10?`${R.toFixed(2)}ms`:R<100?`${R.toFixed(1)}ms`:R<1e3?`${R.toFixed(0)}ms`:`${(R/1e3).toFixed(2)}s`,j}(he.total)):"";j=J(j=he.time?`${R}: ${Ce}  ${j}`:`${R}: ${j}`,he.color,he.background)}return j}(this.id,Re.message,Re),he.bind(console,j,...Re.args)}return B}};function qe(R){if(!R)return 0;let j;switch(typeof R){case"number":j=R;break;case"object":j=R.logLevel||R.priority||0;break;default:return 0}return ae(Number.isFinite(j)&&j>=0),j}function _e(R){const{logLevel:j,message:he}=R;R.logLevel=qe(j);const Ce=R.args?Array.from(R.args):[];for(;Ce.length&&Ce.shift()!==he;);switch(typeof j){case"string":case"function":void 0!==he&&Ce.unshift(he),R.message=j;break;case"object":Object.assign(R,j)}"function"==typeof R.message&&(R.message=R.message());const Re=typeof R.message;return ae("string"===Re||"object"===Re),Object.assign(R,{args:Ce},R.opts)}function Bt(R){for(const j in R)for(const he in R[j])return he||"untitled";return"empty"}Ue.VERSION=S.VERSION,globalThis.probe={};var de=new Ue({id:"@probe.gl/log"})},750:en=>{var U,Ve=Object.defineProperty,E=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,w={};function d(){let U;if(typeof window<"u"&&window.performance)U=window.performance.now();else if(typeof process<"u"&&process.hrtime){const P=process.hrtime();U=1e3*P[0]+P[1]/1e6}else U=Date.now();return U}((U,P)=>{for(var y in P)Ve(U,y,{get:P[y],enumerable:!0})})(w,{Stat:()=>k,Stats:()=>S,_getHiResTimestamp:()=>d}),en.exports=(U=w,((U,P,y,v)=>{if(P&&"object"==typeof P||"function"==typeof P)for(let M of i(P))!u.call(U,M)&&undefined!==M&&Ve(U,M,{get:()=>P[M],enumerable:!(v=E(P,M))||v.enumerable});return U})(Ve({},"__esModule",{value:!0}),U));var k=class{constructor(U,P){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=U,this.type=P,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(U){return this.sampleSize=U,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(U){return this._count+=U,this._samples++,this._checkSampling(),this}subtractCount(U){return this._count-=U,this._samples++,this._checkSampling(),this}addTime(U){return this._time+=U,this.lastTiming=U,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=d(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(d()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}},S=class{constructor(U){this.stats={},this.id=U.id,this.stats={},this._initializeStats(U.stats),Object.seal(this)}get(U,P="count"){return this._getOrCreate({name:U,type:P})}get size(){return Object.keys(this.stats).length}reset(){for(const U of Object.values(this.stats))U.reset();return this}forEach(U){for(const P of Object.values(this.stats))U(P)}getTable(){const U={};return this.forEach(P=>{U[P.name]={time:P.time||0,count:P.count||0,average:P.getAverageTime()||0,hz:P.getHz()||0}}),U}_initializeStats(U=[]){U.forEach(P=>this._getOrCreate(P))}_getOrCreate(U){const{name:P,type:y}=U;let v=this.stats[P];return v||(v=U instanceof k?U:new k(P,y),this.stats[P]=v),v}}},89326:(en,Ve,E)=>{"use strict";const{VOID:i,PRIMITIVE:u,ARRAY:f,OBJECT:C,DATE:x,REGEXP:w,MAP:d,SET:k,ERROR:S,BIGINT:U}=E(80092),P="object"==typeof self?self:globalThis;Ve.deserialize=M=>((M,G)=>{const K=(Z,J)=>(M.set(J,Z),Z),V=Z=>{if(M.has(Z))return M.get(Z);const[J,te]=G[Z];switch(J){case u:case i:return K(te,Z);case f:{const ae=K([],Z);for(const Y of te)ae.push(V(Y));return ae}case C:{const ae=K({},Z);for(const[Y,$]of te)ae[V(Y)]=V($);return ae}case x:return K(new Date(te),Z);case w:{const{source:ae,flags:Y}=te;return K(new RegExp(ae,Y),Z)}case d:{const ae=K(new Map,Z);for(const[Y,$]of te)ae.set(V(Y),V($));return ae}case k:{const ae=K(new Set,Z);for(const Y of te)ae.add(V(Y));return ae}case S:{const{name:ae,message:Y}=te;return K(new P[ae](Y),Z)}case U:return K(BigInt(te),Z);case"BigInt":return K(Object(BigInt(te)),Z)}return K(new P[J](te),Z)};return V})(new Map,M)(0)},29685:(en,Ve,E)=>{"use strict";const{deserialize:i}=E(89326),{serialize:u}=E(43395);Object.defineProperty(Ve,"__esModule",{value:!0}).default="function"==typeof structuredClone?(f,C)=>C&&("json"in C||"lossy"in C)?i(u(f,C)):structuredClone(f):(f,C)=>i(u(f,C)),Ve.deserialize=i,Ve.serialize=u},43395:(en,Ve,E)=>{"use strict";const{VOID:i,PRIMITIVE:u,ARRAY:f,OBJECT:C,DATE:x,REGEXP:w,MAP:d,SET:k,ERROR:S,BIGINT:U}=E(80092),P="",{toString:y}={},{keys:v}=Object,M=Z=>{const J=typeof Z;if("object"!==J||!Z)return[u,J];const te=y.call(Z).slice(8,-1);switch(te){case"Array":return[f,P];case"Object":return[C,P];case"Date":return[x,P];case"RegExp":return[w,P];case"Map":return[d,P];case"Set":return[k,P]}return te.includes("Array")?[f,te]:te.includes("Error")?[S,te]:[C,te]},G=([Z,J])=>Z===u&&("function"===J||"symbol"===J);Ve.serialize=(Z,{json:J,lossy:te}={})=>{const ae=[];return((Z,J,te,ae)=>{const Y=(H,me)=>{const B=ae.push(H)-1;return te.set(me,B),B},$=H=>{if(te.has(H))return te.get(H);let[me,B]=M(H);switch(me){case u:{let Oe=H;switch(B){case"bigint":me=U,Oe=H.toString();break;case"function":case"symbol":if(Z)throw new TypeError("unable to serialize "+B);Oe=null;break;case"undefined":return Y([i],H)}return Y([me,Oe],H)}case f:{if(B)return Y([B,[...H]],H);const Oe=[],Ue=Y([me,Oe],H);for(const qe of H)Oe.push($(qe));return Ue}case C:{if(B)switch(B){case"BigInt":return Y([B,H.toString()],H);case"Boolean":case"Number":case"String":return Y([B,H.valueOf()],H)}if(J&&"toJSON"in H)return $(H.toJSON());const Oe=[],Ue=Y([me,Oe],H);for(const qe of v(H))(Z||!G(M(H[qe])))&&Oe.push([$(qe),$(H[qe])]);return Ue}case x:return Y([me,H.toISOString()],H);case w:{const{source:Oe,flags:Ue}=H;return Y([me,{source:Oe,flags:Ue}],H)}case d:{const Oe=[],Ue=Y([me,Oe],H);for(const[qe,_e]of H)(Z||!G(M(qe))&&!G(M(_e)))&&Oe.push([$(qe),$(_e)]);return Ue}case k:{const Oe=[],Ue=Y([me,Oe],H);for(const qe of H)(Z||!G(M(qe)))&&Oe.push($(qe));return Ue}}const{message:ce}=H;return Y([me,{name:B,message:ce}],H)};return $})(!(J||te),!!J,new Map,ae)(Z),ae}},80092:(en,Ve)=>{"use strict";Ve.VOID=-1,Ve.PRIMITIVE=0,Ve.ARRAY=1,Ve.OBJECT=2,Ve.DATE=3,Ve.REGEXP=4,Ve.MAP=5,Ve.SET=6,Ve.ERROR=7,Ve.BIGINT=8},26579:()=>{var en,Ve;Ve=en||(en={}),function(E){var i="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function w(){return function C(){try{return Function("return this;")()}catch{}}()||function x(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),u=f(Ve);function f(d,k){return function(S,U){Object.defineProperty(d,S,{configurable:!0,writable:!0,value:U}),k&&k(S,U)}}typeof i.Reflect<"u"&&(u=f(i.Reflect,u)),function(E,i){var u=Object.prototype.hasOwnProperty,f="function"==typeof Symbol,C=f&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",x=f&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",w="function"==typeof Object.create,d={__proto__:[]}instanceof Array,k=!w&&!d,S={create:w?function(){return Ht(Object.create(null))}:d?function(){return Ht({__proto__:null})}:function(){return Ht({})},has:k?function(ut,jt){return u.call(ut,jt)}:function(ut,jt){return jt in ut},get:k?function(ut,jt){return u.call(ut,jt)?ut[jt]:void 0}:function(ut,jt){return ut[jt]}},U=Object.getPrototypeOf(Function),P="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function Rt(){var ut={},jt=[],gn=function(){function mt(rt,Kt,Dn){this._index=0,this._keys=rt,this._values=Kt,this._selector=Dn}return mt.prototype["@@iterator"]=function(){return this},mt.prototype[x]=function(){return this},mt.prototype.next=function(){var rt=this._index;if(rt>=0&&rt<this._keys.length){var Kt=this._selector(this._keys[rt],this._values[rt]);return rt+1>=this._keys.length?(this._index=-1,this._keys=jt,this._values=jt):this._index++,{value:Kt,done:!1}}return{value:void 0,done:!0}},mt.prototype.throw=function(rt){throw this._index>=0&&(this._index=-1,this._keys=jt,this._values=jt),rt},mt.prototype.return=function(rt){return this._index>=0&&(this._index=-1,this._keys=jt,this._values=jt),{value:rt,done:!0}},mt}();return function(){function mt(){this._keys=[],this._values=[],this._cacheKey=ut,this._cacheIndex=-2}return Object.defineProperty(mt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),mt.prototype.has=function(rt){return this._find(rt,!1)>=0},mt.prototype.get=function(rt){var Kt=this._find(rt,!1);return Kt>=0?this._values[Kt]:void 0},mt.prototype.set=function(rt,Kt){var Dn=this._find(rt,!0);return this._values[Dn]=Kt,this},mt.prototype.delete=function(rt){var Kt=this._find(rt,!1);if(Kt>=0){for(var Dn=this._keys.length,Jn=Kt+1;Jn<Dn;Jn++)this._keys[Jn-1]=this._keys[Jn],this._values[Jn-1]=this._values[Jn];return this._keys.length--,this._values.length--,T(rt,this._cacheKey)&&(this._cacheKey=ut,this._cacheIndex=-2),!0}return!1},mt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ut,this._cacheIndex=-2},mt.prototype.keys=function(){return new gn(this._keys,this._values,bt)},mt.prototype.values=function(){return new gn(this._keys,this._values,He)},mt.prototype.entries=function(){return new gn(this._keys,this._values,ye)},mt.prototype["@@iterator"]=function(){return this.entries()},mt.prototype[x]=function(){return this.entries()},mt.prototype._find=function(rt,Kt){if(!T(this._cacheKey,rt)){this._cacheIndex=-1;for(var Dn=0;Dn<this._keys.length;Dn++)if(T(this._keys[Dn],rt)){this._cacheIndex=Dn;break}}return this._cacheIndex<0&&Kt&&(this._cacheIndex=this._keys.length,this._keys.push(rt),this._values.push(void 0)),this._cacheIndex},mt}();function bt(mt,rt){return mt}function He(mt,rt){return rt}function ye(mt,rt){return[mt,rt]}}(),y="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function ln(){return function(){function jt(){this._map=new P}return Object.defineProperty(jt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),jt.prototype.has=function(gn){return this._map.has(gn)},jt.prototype.add=function(gn){return this._map.set(gn,gn),this},jt.prototype.delete=function(gn){return this._map.delete(gn)},jt.prototype.clear=function(){this._map.clear()},jt.prototype.keys=function(){return this._map.keys()},jt.prototype.values=function(){return this._map.keys()},jt.prototype.entries=function(){return this._map.entries()},jt.prototype["@@iterator"]=function(){return this.keys()},jt.prototype[x]=function(){return this.keys()},jt}()}(),v="function"==typeof WeakMap?WeakMap:function je(){var ut=16,jt=S.create(),gn=lt();return function(){function rt(){this._key=lt()}return rt.prototype.has=function(Kt){var Dn=bt(Kt,!1);return void 0!==Dn&&S.has(Dn,this._key)},rt.prototype.get=function(Kt){var Dn=bt(Kt,!1);return void 0!==Dn?S.get(Dn,this._key):void 0},rt.prototype.set=function(Kt,Dn){return bt(Kt,!0)[this._key]=Dn,this},rt.prototype.delete=function(Kt){var Dn=bt(Kt,!1);return void 0!==Dn&&delete Dn[this._key]},rt.prototype.clear=function(){this._key=lt()},rt}();function lt(){var rt;do{rt="@@WeakMap@@"+mt()}while(S.has(jt,rt));return jt[rt]=!0,rt}function bt(rt,Kt){if(!u.call(rt,gn)){if(!Kt)return;Object.defineProperty(rt,gn,{value:S.create()})}return rt[gn]}function He(rt,Kt){for(var Dn=0;Dn<Kt;++Dn)rt[Dn]=255*Math.random()|0;return rt}function mt(){var rt=function ye(rt){if("function"==typeof Uint8Array){var Kt=new Uint8Array(rt);return typeof crypto<"u"?crypto.getRandomValues(Kt):typeof msCrypto<"u"?msCrypto.getRandomValues(Kt):He(Kt,rt),Kt}return He(new Array(rt),rt)}(ut);rt[6]=79&rt[6]|64,rt[8]=191&rt[8]|128;for(var Kt="",Dn=0;Dn<ut;++Dn){var Jn=rt[Dn];(4===Dn||6===Dn||8===Dn)&&(Kt+="-"),Jn<16&&(Kt+="0"),Kt+=Jn.toString(16).toLowerCase()}return Kt}}(),M=f?Symbol.for("@reflect-metadata:registry"):void 0,G=function ve(){var ut;return!he(M)&&pt(i.Reflect)&&Object.isExtensible(i.Reflect)&&(ut=i.Reflect[M]),he(ut)&&(ut=function L(){var ut;!he(M)&&typeof i.Reflect<"u"&&!(M in i.Reflect)&&"function"==typeof i.Reflect.defineMetadata&&(ut=function et(ut){var jt=ut.defineMetadata,gn=ut.hasOwnMetadata,lt=ut.getOwnMetadata,bt=ut.getOwnMetadataKeys,He=ut.deleteMetadata,ye=new v;return{isProviderFor:function(rt,Kt){var Dn=ye.get(rt);return!(he(Dn)||!Dn.has(Kt))||!!bt(rt,Kt).length&&(he(Dn)&&(Dn=new y,ye.set(rt,Dn)),Dn.add(Kt),!0)},OrdinaryDefineOwnMetadata:jt,OrdinaryHasOwnMetadata:gn,OrdinaryGetOwnMetadata:lt,OrdinaryOwnMetadataKeys:bt,OrdinaryDeleteMetadata:He}}(i.Reflect));var jt,gn,lt,bt=new v,He={registerProvider:ye,getProvider:rt,setProvider:Dn};return He;function ye(Jn){if(!Object.isExtensible(He))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case ut===Jn:break;case he(jt):jt=Jn;break;case jt===Jn:break;case he(gn):gn=Jn;break;case gn===Jn:break;default:void 0===lt&&(lt=new y),lt.add(Jn)}}function mt(Jn,lr){if(!he(jt)){if(jt.isProviderFor(Jn,lr))return jt;if(!he(gn)){if(gn.isProviderFor(Jn,lr))return jt;if(!he(lt))for(var an=z(lt);;){var At=I(an);if(!At)return;var Et=p(At);if(Et.isProviderFor(Jn,lr))return Ae(an),Et}}}if(!he(ut)&&ut.isProviderFor(Jn,lr))return ut}function rt(Jn,lr){var At,an=bt.get(Jn);return he(an)||(At=an.get(lr)),he(At)&&(he(At=mt(Jn,lr))||(he(an)&&(an=new P,bt.set(Jn,an)),an.set(lr,At))),At}function Kt(Jn){if(he(Jn))throw new TypeError;return jt===Jn||gn===Jn||!he(lt)&&lt.has(Jn)}function Dn(Jn,lr,an){if(!Kt(an))throw new Error("Metadata provider not registered.");var At=rt(Jn,lr);if(At!==an){if(!he(At))return!1;var Et=bt.get(Jn);he(Et)&&(Et=new P,bt.set(Jn,Et)),Et.set(lr,an)}return!0}}()),!he(M)&&pt(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,M,{enumerable:!1,configurable:!1,writable:!1,value:ut}),ut}(),K=function ge(ut){var jt=new v,gn={isProviderFor:function(Kt,Dn){var Jn=jt.get(Kt);return!he(Jn)&&Jn.has(Dn)},OrdinaryDefineOwnMetadata:function ye(Kt,Dn,Jn,lr){lt(Jn,lr,!0).set(Kt,Dn)},OrdinaryHasOwnMetadata:function bt(Kt,Dn,Jn){var lr=lt(Dn,Jn,!1);return!he(lr)&&It(lr.has(Kt))},OrdinaryGetOwnMetadata:function He(Kt,Dn,Jn){var lr=lt(Dn,Jn,!1);if(!he(lr))return lr.get(Kt)},OrdinaryOwnMetadataKeys:function mt(Kt,Dn){var Jn=[],lr=lt(Kt,Dn,!1);if(he(lr))return Jn;for(var At=z(lr.keys()),Et=0;;){var xt=I(At);if(!xt)return Jn.length=Et,Jn;var gt=p(xt);try{Jn[Et]=gt}catch(tn){try{Ae(At)}finally{throw tn}}Et++}},OrdinaryDeleteMetadata:function rt(Kt,Dn,Jn){var lr=lt(Dn,Jn,!1);if(he(lr)||!lr.delete(Kt))return!1;if(0===lr.size){var an=jt.get(Dn);he(an)||(an.delete(Jn),0===an.size&&jt.delete(an))}return!0}};return G.registerProvider(gn),gn;function lt(Kt,Dn,Jn){var lr=jt.get(Kt),an=!1;if(he(lr)){if(!Jn)return;lr=new P,jt.set(Kt,lr),an=!0}var At=lr.get(Dn);if(he(At)){if(!Jn)return;if(At=new P,lr.set(Dn,At),!ut.setProvider(Kt,Dn,gn))throw lr.delete(Dn),an&&jt.delete(Kt),new Error("Wrong provider for target.")}return At}}(G);function Ue(ut,jt,gn){if(qe(ut,jt,gn))return!0;var bt=se(jt);return!Ce(bt)&&Ue(ut,bt,gn)}function qe(ut,jt,gn){var lt=Pt(jt,gn,!1);return!he(lt)&&It(lt.OrdinaryHasOwnMetadata(ut,jt,gn))}function _e(ut,jt,gn){if(qe(ut,jt,gn))return ht(ut,jt,gn);var bt=se(jt);return Ce(bt)?void 0:_e(ut,bt,gn)}function ht(ut,jt,gn){var lt=Pt(jt,gn,!1);if(!he(lt))return lt.OrdinaryGetOwnMetadata(ut,jt,gn)}function Bt(ut,jt,gn,lt){Pt(gn,lt,!0).OrdinaryDefineOwnMetadata(ut,jt,gn,lt)}function de(ut,jt){var gn=R(ut,jt),lt=se(ut);if(null===lt)return gn;var bt=de(lt,jt);if(bt.length<=0)return gn;if(gn.length<=0)return bt;for(var He=new y,ye=[],mt=0,rt=gn;mt<rt.length;mt++)He.has(Kt=rt[mt])||(He.add(Kt),ye.push(Kt));for(var Jn=0,lr=bt;Jn<lr.length;Jn++){var Kt;He.has(Kt=lr[Jn])||(He.add(Kt),ye.push(Kt))}return ye}function R(ut,jt){var gn=Pt(ut,jt,!1);return gn?gn.OrdinaryOwnMetadataKeys(ut,jt):[]}function j(ut){if(null===ut)return 1;switch(typeof ut){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===ut?1:6;default:return 6}}function he(ut){return void 0===ut}function Ce(ut){return null===ut}function pt(ut){return"object"==typeof ut?null!==ut:"function"==typeof ut}function zt(ut,jt){switch(j(ut)){case 0:case 1:case 2:case 3:case 4:case 5:return ut}var gn=3===jt?"string":5===jt?"number":"default",lt=W(ut,C);if(void 0!==lt){var bt=lt.call(ut,gn);if(pt(bt))throw new TypeError;return bt}return function Mn(ut,jt){if("string"===jt){var gn=ut.toString;if(re(gn)&&!pt(lt=gn.call(ut)))return lt;if(re(bt=ut.valueOf)&&!pt(lt=bt.call(ut)))return lt}else{var bt;if(re(bt=ut.valueOf)&&!pt(lt=bt.call(ut)))return lt;var lt,He=ut.toString;if(re(He)&&!pt(lt=He.call(ut)))return lt}throw new TypeError}(ut,"default"===gn?"number":gn)}function It(ut){return!!ut}function Xe(ut){var jt=zt(ut,3);return function Re(ut){return"symbol"==typeof ut}(jt)?jt:function Ne(ut){return""+ut}(jt)}function Ot(ut){return Array.isArray?Array.isArray(ut):ut instanceof Object?ut instanceof Array:"[object Array]"===Object.prototype.toString.call(ut)}function re(ut){return"function"==typeof ut}function D(ut){return"function"==typeof ut}function T(ut,jt){return ut===jt||ut!=ut&&jt!=jt}function W(ut,jt){var gn=ut[jt];if(null!=gn){if(!re(gn))throw new TypeError;return gn}}function z(ut){var jt=W(ut,x);if(!re(jt))throw new TypeError;var gn=jt.call(ut);if(!pt(gn))throw new TypeError;return gn}function p(ut){return ut.value}function I(ut){var jt=ut.next();return!jt.done&&jt}function Ae(ut){var jt=ut.return;jt&&jt.call(ut)}function se(ut){var jt=Object.getPrototypeOf(ut);if("function"!=typeof ut||ut===U||jt!==U)return jt;var gn=ut.prototype,lt=gn&&Object.getPrototypeOf(gn);if(null==lt||lt===Object.prototype)return jt;var bt=lt.constructor;return"function"!=typeof bt||bt===ut?jt:bt}function Pt(ut,jt,gn){var lt=G.getProvider(ut,jt);if(!he(lt))return lt;if(gn){if(G.setProvider(ut,jt,K))return K;throw new Error("Illegal state.")}}function Ht(ut){return ut.__=void 0,delete ut.__,ut}E("decorate",function V(ut,jt,gn,lt){if(he(gn)){if(!Ot(ut))throw new TypeError;if(!D(jt))throw new TypeError;return function ce(ut,jt){for(var gn=ut.length-1;gn>=0;--gn){var bt=(0,ut[gn])(jt);if(!he(bt)&&!Ce(bt)){if(!D(bt))throw new TypeError;jt=bt}}return jt}(ut,jt)}if(!Ot(ut))throw new TypeError;if(!pt(jt))throw new TypeError;if(!pt(lt)&&!he(lt)&&!Ce(lt))throw new TypeError;return Ce(lt)&&(lt=void 0),function Oe(ut,jt,gn,lt){for(var bt=ut.length-1;bt>=0;--bt){var ye=(0,ut[bt])(jt,gn,lt);if(!he(ye)&&!Ce(ye)){if(!pt(ye))throw new TypeError;lt=ye}}return lt}(ut,jt,gn=Xe(gn),lt)}),E("metadata",function Z(ut,jt){return function gn(lt,bt){if(!pt(lt))throw new TypeError;if(!he(bt)&&!function F(ut){switch(j(ut)){case 3:case 4:return!0;default:return!1}}(bt))throw new TypeError;Bt(ut,jt,lt,bt)}}),E("defineMetadata",function J(ut,jt,gn,lt){if(!pt(gn))throw new TypeError;return he(lt)||(lt=Xe(lt)),Bt(ut,jt,gn,lt)}),E("hasMetadata",function te(ut,jt,gn){if(!pt(jt))throw new TypeError;return he(gn)||(gn=Xe(gn)),Ue(ut,jt,gn)}),E("hasOwnMetadata",function ae(ut,jt,gn){if(!pt(jt))throw new TypeError;return he(gn)||(gn=Xe(gn)),qe(ut,jt,gn)}),E("getMetadata",function Y(ut,jt,gn){if(!pt(jt))throw new TypeError;return he(gn)||(gn=Xe(gn)),_e(ut,jt,gn)}),E("getOwnMetadata",function $(ut,jt,gn){if(!pt(jt))throw new TypeError;return he(gn)||(gn=Xe(gn)),ht(ut,jt,gn)}),E("getMetadataKeys",function H(ut,jt){if(!pt(ut))throw new TypeError;return he(jt)||(jt=Xe(jt)),de(ut,jt)}),E("getOwnMetadataKeys",function me(ut,jt){if(!pt(ut))throw new TypeError;return he(jt)||(jt=Xe(jt)),R(ut,jt)}),E("deleteMetadata",function B(ut,jt,gn){if(!pt(jt))throw new TypeError;if(he(gn)||(gn=Xe(gn)),!pt(jt))throw new TypeError;he(gn)||(gn=Xe(gn));var lt=Pt(jt,gn,!1);return!he(lt)&&lt.OrdinaryDeleteMetadata(ut,jt,gn)})}(u,i),typeof i.Reflect>"u"&&(i.Reflect=Ve)}()},36430:(en,Ve,E)=>{var i=E(88696);function u(f){var C,x;function w(k,S){try{var U=f[k](S),P=U.value,y=P instanceof i;Promise.resolve(y?P.v:P).then(function(v){if(y){var M="return"===k?"return":"next";if(!P.k||v.done)return w(M,v);v=f[M](v).value}d(U.done?"return":"normal",v)},function(v){w("throw",v)})}catch(v){d("throw",v)}}function d(k,S){switch(k){case"return":C.resolve({value:S,done:!0});break;case"throw":C.reject(S);break;default:C.resolve({value:S,done:!1})}(C=C.next)?w(C.key,C.arg):x=null}this._invoke=function(k,S){return new Promise(function(U,P){var y={key:k,arg:S,resolve:U,reject:P,next:null};x?x=x.next=y:(C=x=y,w(k,S))})},"function"!=typeof f.return&&(this.return=void 0)}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(f){return this._invoke("next",f)},u.prototype.throw=function(f){return this._invoke("throw",f)},u.prototype.return=function(f){return this._invoke("return",f)},en.exports=u,en.exports.__esModule=!0,en.exports.default=en.exports},88696:en=>{en.exports=function Ve(E,i){this.v=E,this.k=i},en.exports.__esModule=!0,en.exports.default=en.exports},79640:en=>{en.exports=function Ve(E,i,u){if("function"==typeof E?E===i:E.has(i))return arguments.length<3?i:u;throw new TypeError("Private element is not present on this object")},en.exports.__esModule=!0,en.exports.default=en.exports},88429:(en,Ve,E)=>{var i=E(88696);en.exports=function u(f){var C={},x=!1;function w(d,k){return x=!0,k=new Promise(function(S){S(f[d](k))}),{done:!1,value:new i(k,1)}}return C[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},C.next=function(d){return x?(x=!1,d):w("next",d)},"function"==typeof f.throw&&(C.throw=function(d){if(x)throw x=!1,d;return w("throw",d)}),"function"==typeof f.return&&(C.return=function(d){return x?(x=!1,d):w("return",d)}),C},en.exports.__esModule=!0,en.exports.default=en.exports},57909:en=>{function E(i){function u(f){if(Object(f)!==f)return Promise.reject(new TypeError(f+" is not an object."));var C=f.done;return Promise.resolve(f.value).then(function(x){return{value:x,done:C}})}return(E=function(C){this.s=C,this.n=C.next}).prototype={s:null,n:null,next:function(){return u(this.n.apply(this.s,arguments))},return:function(C){var x=this.s.return;return void 0===x?Promise.resolve({value:C,done:!0}):u(x.apply(this.s,arguments))},throw:function(C){var x=this.s.return;return void 0===x?Promise.reject(C):u(x.apply(this.s,arguments))}},new E(i)}en.exports=function Ve(i){var u,f,C,x=2;for(typeof Symbol<"u"&&(f=Symbol.asyncIterator,C=Symbol.iterator);x--;){if(f&&null!=(u=i[f]))return u.call(i);if(C&&null!=(u=i[C]))return new E(u.call(i));f="@@asyncIterator",C="@@iterator"}throw new TypeError("Object is not async iterable")},en.exports.__esModule=!0,en.exports.default=en.exports},31049:en=>{function Ve(i,u,f,C,x,w,d){try{var k=i[w](d),S=k.value}catch(U){return void f(U)}k.done?u(S):Promise.resolve(S).then(C,x)}en.exports=function E(i){return function(){var u=this,f=arguments;return new Promise(function(C,x){var w=i.apply(u,f);function d(S){Ve(w,C,x,d,k,"next",S)}function k(S){Ve(w,C,x,d,k,"throw",S)}d(void 0)})}},en.exports.__esModule=!0,en.exports.default=en.exports},47604:(en,Ve,E)=>{var i=E(88696);en.exports=function u(f){return new i(f,0)},en.exports.__esModule=!0,en.exports.default=en.exports},63329:en=>{en.exports=function Ve(E,i){if(i.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")},en.exports.__esModule=!0,en.exports.default=en.exports},15488:(en,Ve,E)=>{var i=E(79640);en.exports=function u(f,C){return f.get(i(f,C))},en.exports.__esModule=!0,en.exports.default=en.exports},15199:(en,Ve,E)=>{var i=E(63329);en.exports=function u(f,C,x){i(f,C),C.set(f,x)},en.exports.__esModule=!0,en.exports.default=en.exports},19420:(en,Ve,E)=>{var i=E(79640);en.exports=function u(f,C,x){return f.set(i(f,C),x),x},en.exports.__esModule=!0,en.exports.default=en.exports},48788:(en,Ve,E)=>{var i=E(63329);en.exports=function u(f,C){i(f,C),C.add(f)},en.exports.__esModule=!0,en.exports.default=en.exports},15985:(en,Ve,E)=>{var i=E(84676);en.exports=function u(f,C,x){return(C=i(C))in f?Object.defineProperty(f,C,{value:x,enumerable:!0,configurable:!0,writable:!0}):f[C]=x,f},en.exports.__esModule=!0,en.exports.default=en.exports},8705:(en,Ve,E)=>{var i=E(12990).default;en.exports=function u(f,C){if("object"!=i(f)||!f)return f;var x=f[Symbol.toPrimitive];if(void 0!==x){var w=x.call(f,C||"default");if("object"!=i(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(f)},en.exports.__esModule=!0,en.exports.default=en.exports},84676:(en,Ve,E)=>{var i=E(12990).default,u=E(8705);en.exports=function f(C){var x=u(C,"string");return"symbol"==i(x)?x:String(x)},en.exports.__esModule=!0,en.exports.default=en.exports},12990:en=>{function Ve(E){return en.exports=Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},en.exports.__esModule=!0,en.exports.default=en.exports,Ve(E)}en.exports=Ve,en.exports.__esModule=!0,en.exports.default=en.exports},88322:(en,Ve,E)=>{var i=E(36430);en.exports=function u(f){return function(){return new i(f.apply(this,arguments))}},en.exports.__esModule=!0,en.exports.default=en.exports},49969:(en,Ve,E)=>{"use strict";E.d(Ve,{FX:()=>B,If:()=>i,K2:()=>w,MA:()=>y,Os:()=>x,P:()=>M,hZ:()=>f,i0:()=>C,iF:()=>d,kY:()=>U,kp:()=>u,lY:()=>P,sM:()=>v,sf:()=>H,ui:()=>me,wk:()=>k});var i=function(ce){return ce[ce.State=0]="State",ce[ce.Transition=1]="Transition",ce[ce.Sequence=2]="Sequence",ce[ce.Group=3]="Group",ce[ce.Animate=4]="Animate",ce[ce.Keyframes=5]="Keyframes",ce[ce.Style=6]="Style",ce[ce.Trigger=7]="Trigger",ce[ce.Reference=8]="Reference",ce[ce.AnimateChild=9]="AnimateChild",ce[ce.AnimateRef=10]="AnimateRef",ce[ce.Query=11]="Query",ce[ce.Stagger=12]="Stagger",ce}(i||{});const u="*";function f(ce,Oe){return{type:i.Trigger,name:ce,definitions:Oe,options:{}}}function C(ce,Oe=null){return{type:i.Animate,styles:Oe,timings:ce}}function x(ce,Oe=null){return{type:i.Group,steps:ce,options:Oe}}function w(ce,Oe=null){return{type:i.Sequence,steps:ce,options:Oe}}function d(ce){return{type:i.Style,styles:ce,offset:null}}function k(ce,Oe,Ue){return{type:i.State,name:ce,styles:Oe,options:Ue}}function U(ce,Oe,Ue=null){return{type:i.Transition,expr:ce,animation:Oe,options:Ue}}function P(ce,Oe=null){return{type:i.Reference,animation:ce,options:Oe}}function y(ce=null){return{type:i.AnimateChild,options:ce}}function v(ce,Oe=null){return{type:i.AnimateRef,animation:ce,options:Oe}}function M(ce,Oe,Ue=null){return{type:i.Query,selector:ce,animation:Oe,options:Ue}}class H{constructor(Oe=0,Ue=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Oe+Ue}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}onStart(Oe){this._originalOnStartFns.push(Oe),this._onStartFns.push(Oe)}onDone(Oe){this._originalOnDoneFns.push(Oe),this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Oe){this._position=this.totalTime?Oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Oe){const Ue="start"==Oe?this._onStartFns:this._onDoneFns;Ue.forEach(qe=>qe()),Ue.length=0}}class me{constructor(Oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Oe;let Ue=0,qe=0,_e=0;const ht=this.players.length;0==ht?queueMicrotask(()=>this._onFinish()):this.players.forEach(Bt=>{Bt.onDone(()=>{++Ue==ht&&this._onFinish()}),Bt.onDestroy(()=>{++qe==ht&&this._onDestroy()}),Bt.onStart(()=>{++_e==ht&&this._onStart()})}),this.totalTime=this.players.reduce((Bt,de)=>Math.max(Bt,de.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}init(){this.players.forEach(Oe=>Oe.init())}onStart(Oe){this._onStartFns.push(Oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[])}onDone(Oe){this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Oe=>Oe.play())}pause(){this.players.forEach(Oe=>Oe.pause())}restart(){this.players.forEach(Oe=>Oe.restart())}finish(){this._onFinish(),this.players.forEach(Oe=>Oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Oe=>Oe.destroy()),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this.players.forEach(Oe=>Oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Oe){const Ue=Oe*this.totalTime;this.players.forEach(qe=>{const _e=qe.totalTime?Math.min(1,Ue/qe.totalTime):1;qe.setPosition(_e)})}getPosition(){const Oe=this.players.reduce((Ue,qe)=>null===Ue||qe.totalTime>Ue.totalTime?qe:Ue,null);return null!=Oe?Oe.getPosition():0}beforeDestroy(){this.players.forEach(Oe=>{Oe.beforeDestroy&&Oe.beforeDestroy()})}triggerCallback(Oe){const Ue="start"==Oe?this._onStartFns:this._onDoneFns;Ue.forEach(qe=>qe()),Ue.length=0}}const B="!"},18617:(en,Ve,E)=>{"use strict";E.d(Ve,{Ai:()=>jt,Bu:()=>Bt,FN:()=>ye,GX:()=>F,Pd:()=>an,Q_:()=>lr,Z7:()=>R,_G:()=>se,kB:()=>T,vr:()=>Oe,w6:()=>L});var i=E(60177),u=E(54438),f=E(36860),C=E(85052),x=E(81027),w=E(29160),d=E(15877),k=E(67336),S=E(39705),U=E(87996),P=E(14264),y=E(36110),v=E(17365),M=E(87145),G=E(21082),K=E(37925),V=E(72318),Z=E(14085),J=E(99327);function $(At,Et){return At.getAttribute(Et)?.match(/\S+/g)??[]}const me="cdk-describedby-message",B="cdk-describedby-host";let ce=0,Oe=(()=>{var At;class Et{constructor(gt,tn){this._platform=tn,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ce++,this._document=gt,this._id=(0,u.WQX)(u.sZ2)+"-"+ce++}describe(gt,tn,Xt){if(!this._canBeDescribed(gt,tn))return;const Ye=Ue(tn,Xt);"string"!=typeof tn?(qe(tn,this._id),this._messageRegistry.set(Ye,{messageElement:tn,referenceCount:0})):this._messageRegistry.has(Ye)||this._createMessageElement(tn,Xt),this._isElementDescribedByMessage(gt,Ye)||this._addMessageReference(gt,Ye)}removeDescription(gt,tn,Xt){if(!tn||!this._isElementNode(gt))return;const Ye=Ue(tn,Xt);if(this._isElementDescribedByMessage(gt,Ye)&&this._removeMessageReference(gt,Ye),"string"==typeof tn){const Vt=this._messageRegistry.get(Ye);Vt&&0===Vt.referenceCount&&this._deleteMessageElement(Ye)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const gt=this._document.querySelectorAll(`[${B}="${this._id}"]`);for(let tn=0;tn<gt.length;tn++)this._removeCdkDescribedByReferenceIds(gt[tn]),gt[tn].removeAttribute(B);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(gt,tn){const Xt=this._document.createElement("div");qe(Xt,this._id),Xt.textContent=gt,tn&&Xt.setAttribute("role",tn),this._createMessagesContainer(),this._messagesContainer.appendChild(Xt),this._messageRegistry.set(Ue(gt,tn),{messageElement:Xt,referenceCount:0})}_deleteMessageElement(gt){this._messageRegistry.get(gt)?.messageElement?.remove(),this._messageRegistry.delete(gt)}_createMessagesContainer(){if(this._messagesContainer)return;const gt="cdk-describedby-message-container",tn=this._document.querySelectorAll(`.${gt}[platform="server"]`);for(let Ye=0;Ye<tn.length;Ye++)tn[Ye].remove();const Xt=this._document.createElement("div");Xt.style.visibility="hidden",Xt.classList.add(gt),Xt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Xt.setAttribute("platform","server"),this._document.body.appendChild(Xt),this._messagesContainer=Xt}_removeCdkDescribedByReferenceIds(gt){const tn=$(gt,"aria-describedby").filter(Xt=>0!=Xt.indexOf(me));gt.setAttribute("aria-describedby",tn.join(" "))}_addMessageReference(gt,tn){const Xt=this._messageRegistry.get(tn);(function ae(At,Et,xt){const gt=$(At,Et);xt=xt.trim(),!gt.some(tn=>tn.trim()===xt)&&(gt.push(xt),At.setAttribute(Et,gt.join(" ")))})(gt,"aria-describedby",Xt.messageElement.id),gt.setAttribute(B,this._id),Xt.referenceCount++}_removeMessageReference(gt,tn){const Xt=this._messageRegistry.get(tn);Xt.referenceCount--,function Y(At,Et,xt){const gt=$(At,Et);xt=xt.trim();const tn=gt.filter(Xt=>Xt!==xt);tn.length?At.setAttribute(Et,tn.join(" ")):At.removeAttribute(Et)}(gt,"aria-describedby",Xt.messageElement.id),gt.removeAttribute(B)}_isElementDescribedByMessage(gt,tn){const Xt=$(gt,"aria-describedby"),Ye=this._messageRegistry.get(tn),Vt=Ye&&Ye.messageElement.id;return!!Vt&&-1!=Xt.indexOf(Vt)}_canBeDescribed(gt,tn){if(!this._isElementNode(gt))return!1;if(tn&&"object"==typeof tn)return!0;const Xt=null==tn?"":`${tn}`.trim(),Ye=gt.getAttribute("aria-label");return!(!Xt||Ye&&Ye.trim()===Xt)}_isElementNode(gt){return gt.nodeType===this._document.ELEMENT_NODE}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.KVO(i.qQ),u.KVO(f.OD))},At.\u0275prov=u.jDH({token:At,factory:At.\u0275fac,providedIn:"root"}),Et})();function Ue(At,Et){return"string"==typeof At?`${Et||""}/${At}`:At}function qe(At,Et){At.id||(At.id=`${me}-${Et}-${ce++}`)}class _e{constructor(Et,xt){this._items=Et,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new C.B,this._typeaheadSubscription=x.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=gt=>gt.disabled,this._pressedLetters=[],this.tabOut=new C.B,this.change=new C.B,Et instanceof u.rOR?this._itemChangesSubscription=Et.changes.subscribe(gt=>this._itemsChanged(gt.toArray())):(0,u.Hps)(Et)&&(this._effectRef=(0,u.QZP)(()=>this._itemsChanged(Et()),{injector:xt}))}skipPredicate(Et){return this._skipPredicateFn=Et,this}withWrap(Et=!0){return this._wrap=Et,this}withVerticalOrientation(Et=!0){return this._vertical=Et,this}withHorizontalOrientation(Et){return this._horizontal=Et,this}withAllowedModifierKeys(Et){return this._allowedModifierKeys=Et,this}withTypeAhead(Et=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,S.M)(xt=>this._pressedLetters.push(xt)),(0,U.B)(Et),(0,P.p)(()=>this._pressedLetters.length>0),(0,y.T)(()=>this._pressedLetters.join(""))).subscribe(xt=>{const gt=this._getItemsArray();for(let tn=1;tn<gt.length+1;tn++){const Xt=(this._activeItemIndex+tn)%gt.length,Ye=gt[Xt];if(!this._skipPredicateFn(Ye)&&0===Ye.getLabel().toUpperCase().trim().indexOf(xt)){this.setActiveItem(Xt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Et=!0){return this._homeAndEnd=Et,this}withPageUpDown(Et=!0,xt=10){return this._pageUpAndDown={enabled:Et,delta:xt},this}setActiveItem(Et){const xt=this._activeItem;this.updateActiveItem(Et),this._activeItem!==xt&&this.change.next(this._activeItemIndex)}onKeydown(Et){const xt=Et.keyCode,tn=["altKey","ctrlKey","metaKey","shiftKey"].every(Xt=>!Et[Xt]||this._allowedModifierKeys.indexOf(Xt)>-1);switch(xt){case k.wn:return void this.tabOut.next();case k.n6:if(this._vertical&&tn){this.setNextItemActive();break}return;case k.i7:if(this._vertical&&tn){this.setPreviousItemActive();break}return;case k.LE:if(this._horizontal&&tn){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case k.UQ:if(this._horizontal&&tn){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case k.yZ:if(this._homeAndEnd&&tn){this.setFirstItemActive();break}return;case k.Kp:if(this._homeAndEnd&&tn){this.setLastItemActive();break}return;case k.w_:if(this._pageUpAndDown.enabled&&tn){const Xt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Xt>0?Xt:0,1);break}return;case k.dB:if(this._pageUpAndDown.enabled&&tn){const Xt=this._activeItemIndex+this._pageUpAndDown.delta,Ye=this._getItemsArray().length;this._setActiveItemByIndex(Xt<Ye?Xt:Ye-1,-1);break}return;default:return void((tn||(0,k.rp)(Et,"shiftKey"))&&(Et.key&&1===Et.key.length?this._letterKeyStream.next(Et.key.toLocaleUpperCase()):(xt>=k.A&&xt<=k.Z||xt>=k.f2&&xt<=k.bn)&&this._letterKeyStream.next(String.fromCharCode(xt))))}this._pressedLetters=[],Et.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Et){const xt=this._getItemsArray(),gt="number"==typeof Et?Et:xt.indexOf(Et);this._activeItem=xt[gt]??null,this._activeItemIndex=gt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Et){this._wrap?this._setActiveInWrapMode(Et):this._setActiveInDefaultMode(Et)}_setActiveInWrapMode(Et){const xt=this._getItemsArray();for(let gt=1;gt<=xt.length;gt++){const tn=(this._activeItemIndex+Et*gt+xt.length)%xt.length;if(!this._skipPredicateFn(xt[tn]))return void this.setActiveItem(tn)}}_setActiveInDefaultMode(Et){this._setActiveItemByIndex(this._activeItemIndex+Et,Et)}_setActiveItemByIndex(Et,xt){const gt=this._getItemsArray();if(gt[Et]){for(;this._skipPredicateFn(gt[Et]);)if(!gt[Et+=xt])return;this.setActiveItem(Et)}}_getItemsArray(){return(0,u.Hps)(this._items)?this._items():this._items instanceof u.rOR?this._items.toArray():this._items}_itemsChanged(Et){if(this._activeItem){const xt=Et.indexOf(this._activeItem);xt>-1&&xt!==this._activeItemIndex&&(this._activeItemIndex=xt)}}}class Bt extends _e{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Et){return this._origin=Et,this}setActiveItem(Et){super.setActiveItem(Et),this.activeItem&&this.activeItem.focus(this._origin)}}let R=(()=>{var At;class Et{constructor(gt){this._platform=gt}isDisabled(gt){return gt.hasAttribute("disabled")}isVisible(gt){return function he(At){return!!(At.offsetWidth||At.offsetHeight||"function"==typeof At.getClientRects&&At.getClientRects().length)}(gt)&&"visible"===getComputedStyle(gt).visibility}isTabbable(gt){if(!this._platform.isBrowser)return!1;const tn=function j(At){try{return At.frameElement}catch{return null}}(function re(At){return At.ownerDocument&&At.ownerDocument.defaultView||window}(gt));if(tn&&(-1===Ne(tn)||!this.isVisible(tn)))return!1;let Xt=gt.nodeName.toLowerCase(),Ye=Ne(gt);return gt.hasAttribute("contenteditable")?-1!==Ye:!("iframe"===Xt||"object"===Xt||this._platform.WEBKIT&&this._platform.IOS&&!function Xe(At){let Et=At.nodeName.toLowerCase(),xt="input"===Et&&At.type;return"text"===xt||"password"===xt||"select"===Et||"textarea"===Et}(gt))&&("audio"===Xt?!!gt.hasAttribute("controls")&&-1!==Ye:"video"===Xt?-1!==Ye&&(null!==Ye||this._platform.FIREFOX||gt.hasAttribute("controls")):gt.tabIndex>=0)}isFocusable(gt,tn){return function Ot(At){return!function Re(At){return function zt(At){return"input"==At.nodeName.toLowerCase()}(At)&&"hidden"==At.type}(At)&&(function Ce(At){let Et=At.nodeName.toLowerCase();return"input"===Et||"select"===Et||"button"===Et||"textarea"===Et}(At)||function pt(At){return function Mn(At){return"a"==At.nodeName.toLowerCase()}(At)&&At.hasAttribute("href")}(At)||At.hasAttribute("contenteditable")||It(At))}(gt)&&!this.isDisabled(gt)&&(tn?.ignoreVisibility||this.isVisible(gt))}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.KVO(f.OD))},At.\u0275prov=u.jDH({token:At,factory:At.\u0275fac,providedIn:"root"}),Et})();function It(At){if(!At.hasAttribute("tabindex")||void 0===At.tabIndex)return!1;let Et=At.getAttribute("tabindex");return!(!Et||isNaN(parseInt(Et,10)))}function Ne(At){if(!It(At))return null;const Et=parseInt(At.getAttribute("tabindex")||"",10);return isNaN(Et)?-1:Et}class D{get enabled(){return this._enabled}set enabled(Et){this._enabled=Et,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Et,this._startAnchor),this._toggleAnchorTabIndex(Et,this._endAnchor))}constructor(Et,xt,gt,tn,Xt=!1){this._element=Et,this._checker=xt,this._ngZone=gt,this._document=tn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Xt||this.attachAnchors()}destroy(){const Et=this._startAnchor,xt=this._endAnchor;Et&&(Et.removeEventListener("focus",this.startAnchorListener),Et.remove()),xt&&(xt.removeEventListener("focus",this.endAnchorListener),xt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Et){return new Promise(xt=>{this._executeOnStable(()=>xt(this.focusInitialElement(Et)))})}focusFirstTabbableElementWhenReady(Et){return new Promise(xt=>{this._executeOnStable(()=>xt(this.focusFirstTabbableElement(Et)))})}focusLastTabbableElementWhenReady(Et){return new Promise(xt=>{this._executeOnStable(()=>xt(this.focusLastTabbableElement(Et)))})}_getRegionBoundary(Et){const xt=this._element.querySelectorAll(`[cdk-focus-region-${Et}], [cdkFocusRegion${Et}], [cdk-focus-${Et}]`);return"start"==Et?xt.length?xt[0]:this._getFirstTabbableElement(this._element):xt.length?xt[xt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Et){const xt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(xt){if(!this._checker.isFocusable(xt)){const gt=this._getFirstTabbableElement(xt);return gt?.focus(Et),!!gt}return xt.focus(Et),!0}return this.focusFirstTabbableElement(Et)}focusFirstTabbableElement(Et){const xt=this._getRegionBoundary("start");return xt&&xt.focus(Et),!!xt}focusLastTabbableElement(Et){const xt=this._getRegionBoundary("end");return xt&&xt.focus(Et),!!xt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Et){if(this._checker.isFocusable(Et)&&this._checker.isTabbable(Et))return Et;const xt=Et.children;for(let gt=0;gt<xt.length;gt++){const tn=xt[gt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(xt[gt]):null;if(tn)return tn}return null}_getLastTabbableElement(Et){if(this._checker.isFocusable(Et)&&this._checker.isTabbable(Et))return Et;const xt=Et.children;for(let gt=xt.length-1;gt>=0;gt--){const tn=xt[gt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(xt[gt]):null;if(tn)return tn}return null}_createAnchor(){const Et=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Et),Et.classList.add("cdk-visually-hidden"),Et.classList.add("cdk-focus-trap-anchor"),Et.setAttribute("aria-hidden","true"),Et}_toggleAnchorTabIndex(Et,xt){Et?xt.setAttribute("tabindex","0"):xt.removeAttribute("tabindex")}toggleAnchors(Et){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Et,this._startAnchor),this._toggleAnchorTabIndex(Et,this._endAnchor))}_executeOnStable(Et){this._ngZone.isStable?Et():this._ngZone.onStable.pipe((0,v.s)(1)).subscribe(Et)}}let F=(()=>{var At;class Et{constructor(gt,tn,Xt){this._checker=gt,this._ngZone=tn,this._document=Xt}create(gt,tn=!1){return new D(gt,this._checker,this._ngZone,this._document,tn)}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.KVO(R),u.KVO(u.SKi),u.KVO(i.qQ))},At.\u0275prov=u.jDH({token:At,factory:At.\u0275fac,providedIn:"root"}),Et})(),T=(()=>{var At;class Et{get enabled(){return this.focusTrap?.enabled||!1}set enabled(gt){this.focusTrap&&(this.focusTrap.enabled=gt)}constructor(gt,tn,Xt){this._elementRef=gt,this._focusTrapFactory=tn,this._previouslyFocusedElement=null,(0,u.WQX)(f.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(gt){const tn=gt.autoCapture;tn&&!tn.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,f.vc)(),this.focusTrap?.focusInitialElementWhenReady()}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.rXU(u.aKT),u.rXU(F),u.rXU(i.qQ))},At.\u0275dir=u.FsC({type:At,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[u.Mj6.HasDecoratorInputTransform,"cdkTrapFocus","enabled",u.L39],autoCapture:[u.Mj6.HasDecoratorInputTransform,"cdkTrapFocusAutoCapture","autoCapture",u.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[u.GFd,u.OA$]}),Et})();function se(At){return 0===At.buttons||0===At.detail}function L(At){const Et=At.touches&&At.touches[0]||At.changedTouches&&At.changedTouches[0];return!(!Et||-1!==Et.identifier||null!=Et.radiusX&&1!==Et.radiusX||null!=Et.radiusY&&1!==Et.radiusY)}const ve=new u.nKC("cdk-input-modality-detector-options"),ge={ignoreKeys:[k.A$,k.W3,k.eg,k.Ge,k.FX]},Pt=(0,f.BQ)({passive:!0,capture:!0});let Rt=(()=>{var At;class Et{get mostRecentModality(){return this._modality.value}constructor(gt,tn,Xt,Ye){this._platform=gt,this._mostRecentTarget=null,this._modality=new w.t(null),this._lastTouchMs=0,this._onKeydown=Vt=>{this._options?.ignoreKeys?.some(En=>En===Vt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,f.Fb)(Vt))},this._onMousedown=Vt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(se(Vt)?"keyboard":"mouse"),this._mostRecentTarget=(0,f.Fb)(Vt))},this._onTouchstart=Vt=>{L(Vt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,f.Fb)(Vt))},this._options={...ge,...Ye},this.modalityDetected=this._modality.pipe((0,M.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,G.F)()),gt.isBrowser&&tn.runOutsideAngular(()=>{Xt.addEventListener("keydown",this._onKeydown,Pt),Xt.addEventListener("mousedown",this._onMousedown,Pt),Xt.addEventListener("touchstart",this._onTouchstart,Pt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pt),document.removeEventListener("mousedown",this._onMousedown,Pt),document.removeEventListener("touchstart",this._onTouchstart,Pt))}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.KVO(f.OD),u.KVO(u.SKi),u.KVO(i.qQ),u.KVO(ve,8))},At.\u0275prov=u.jDH({token:At,factory:At.\u0275fac,providedIn:"root"}),Et})();const ln=new u.nKC("liveAnnouncerElement",{providedIn:"root",factory:function je(){return null}}),Ht=new u.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ut=0,jt=(()=>{var At;class Et{constructor(gt,tn,Xt,Ye){this._ngZone=tn,this._defaultOptions=Ye,this._document=Xt,this._liveElement=gt||this._createLiveElement()}announce(gt,...tn){const Xt=this._defaultOptions;let Ye,Vt;return 1===tn.length&&"number"==typeof tn[0]?Vt=tn[0]:[Ye,Vt]=tn,this.clear(),clearTimeout(this._previousTimeout),Ye||(Ye=Xt&&Xt.politeness?Xt.politeness:"polite"),null==Vt&&Xt&&(Vt=Xt.duration),this._liveElement.setAttribute("aria-live",Ye),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(En=>this._currentResolve=En)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=gt,"number"==typeof Vt&&(this._previousTimeout=setTimeout(()=>this.clear(),Vt)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const gt="cdk-live-announcer-element",tn=this._document.getElementsByClassName(gt),Xt=this._document.createElement("div");for(let Ye=0;Ye<tn.length;Ye++)tn[Ye].remove();return Xt.classList.add(gt),Xt.classList.add("cdk-visually-hidden"),Xt.setAttribute("aria-atomic","true"),Xt.setAttribute("aria-live","polite"),Xt.id="cdk-live-announcer-"+ut++,this._document.body.appendChild(Xt),Xt}_exposeAnnouncerToModals(gt){const tn=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Xt=0;Xt<tn.length;Xt++){const Ye=tn[Xt],Vt=Ye.getAttribute("aria-owns");Vt?-1===Vt.indexOf(gt)&&Ye.setAttribute("aria-owns",Vt+" "+gt):Ye.setAttribute("aria-owns",gt)}}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.KVO(ln,8),u.KVO(u.SKi),u.KVO(i.qQ),u.KVO(Ht,8))},At.\u0275prov=u.jDH({token:At,factory:At.\u0275fac,providedIn:"root"}),Et})();var lt=function(At){return At[At.IMMEDIATE=0]="IMMEDIATE",At[At.EVENTUAL=1]="EVENTUAL",At}(lt||{});const bt=new u.nKC("cdk-focus-monitor-default-options"),He=(0,f.BQ)({passive:!0,capture:!0});let ye=(()=>{var At;class Et{constructor(gt,tn,Xt,Ye,Vt){this._ngZone=gt,this._platform=tn,this._inputModalityDetector=Xt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new C.B,this._rootNodeFocusAndBlurListener=En=>{for(let ke=(0,f.Fb)(En);ke;ke=ke.parentElement)"focus"===En.type?this._onFocus(En,ke):this._onBlur(En,ke)},this._document=Ye,this._detectionMode=Vt?.detectionMode||lt.IMMEDIATE}monitor(gt,tn=!1){const Xt=(0,Z.i8)(gt);if(!this._platform.isBrowser||1!==Xt.nodeType)return(0,d.of)();const Ye=(0,f.KT)(Xt)||this._getDocument(),Vt=this._elementInfo.get(Xt);if(Vt)return tn&&(Vt.checkChildren=!0),Vt.subject;const En={checkChildren:tn,subject:new C.B,rootNode:Ye};return this._elementInfo.set(Xt,En),this._registerGlobalListeners(En),En.subject}stopMonitoring(gt){const tn=(0,Z.i8)(gt),Xt=this._elementInfo.get(tn);Xt&&(Xt.subject.complete(),this._setClasses(tn),this._elementInfo.delete(tn),this._removeGlobalListeners(Xt))}focusVia(gt,tn,Xt){const Ye=(0,Z.i8)(gt);Ye===this._getDocument().activeElement?this._getClosestElementsInfo(Ye).forEach(([En,it])=>this._originChanged(En,tn,it)):(this._setOrigin(tn),"function"==typeof Ye.focus&&Ye.focus(Xt))}ngOnDestroy(){this._elementInfo.forEach((gt,tn)=>this.stopMonitoring(tn))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(gt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(gt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:gt&&this._isLastInteractionFromInputLabel(gt)?"mouse":"program"}_shouldBeAttributedToTouch(gt){return this._detectionMode===lt.EVENTUAL||!!gt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(gt,tn){gt.classList.toggle("cdk-focused",!!tn),gt.classList.toggle("cdk-touch-focused","touch"===tn),gt.classList.toggle("cdk-keyboard-focused","keyboard"===tn),gt.classList.toggle("cdk-mouse-focused","mouse"===tn),gt.classList.toggle("cdk-program-focused","program"===tn)}_setOrigin(gt,tn=!1){this._ngZone.runOutsideAngular(()=>{this._origin=gt,this._originFromTouchInteraction="touch"===gt&&tn,this._detectionMode===lt.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(gt,tn){const Xt=this._elementInfo.get(tn),Ye=(0,f.Fb)(gt);!Xt||!Xt.checkChildren&&tn!==Ye||this._originChanged(tn,this._getFocusOrigin(Ye),Xt)}_onBlur(gt,tn){const Xt=this._elementInfo.get(tn);!Xt||Xt.checkChildren&&gt.relatedTarget instanceof Node&&tn.contains(gt.relatedTarget)||(this._setClasses(tn),this._emitOrigin(Xt,null))}_emitOrigin(gt,tn){gt.subject.observers.length&&this._ngZone.run(()=>gt.subject.next(tn))}_registerGlobalListeners(gt){if(!this._platform.isBrowser)return;const tn=gt.rootNode,Xt=this._rootNodeFocusListenerCount.get(tn)||0;Xt||this._ngZone.runOutsideAngular(()=>{tn.addEventListener("focus",this._rootNodeFocusAndBlurListener,He),tn.addEventListener("blur",this._rootNodeFocusAndBlurListener,He)}),this._rootNodeFocusListenerCount.set(tn,Xt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,K.Q)(this._stopInputModalityDetector)).subscribe(Ye=>{this._setOrigin(Ye,!0)}))}_removeGlobalListeners(gt){const tn=gt.rootNode;if(this._rootNodeFocusListenerCount.has(tn)){const Xt=this._rootNodeFocusListenerCount.get(tn);Xt>1?this._rootNodeFocusListenerCount.set(tn,Xt-1):(tn.removeEventListener("focus",this._rootNodeFocusAndBlurListener,He),tn.removeEventListener("blur",this._rootNodeFocusAndBlurListener,He),this._rootNodeFocusListenerCount.delete(tn))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(gt,tn,Xt){this._setClasses(gt,tn),this._emitOrigin(Xt,tn),this._lastFocusOrigin=tn}_getClosestElementsInfo(gt){const tn=[];return this._elementInfo.forEach((Xt,Ye)=>{(Ye===gt||Xt.checkChildren&&Ye.contains(gt))&&tn.push([Ye,Xt])}),tn}_isLastInteractionFromInputLabel(gt){const{_mostRecentTarget:tn,mostRecentModality:Xt}=this._inputModalityDetector;if("mouse"!==Xt||!tn||tn===gt||"INPUT"!==gt.nodeName&&"TEXTAREA"!==gt.nodeName||gt.disabled)return!1;const Ye=gt.labels;if(Ye)for(let Vt=0;Vt<Ye.length;Vt++)if(Ye[Vt].contains(tn))return!0;return!1}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.KVO(u.SKi),u.KVO(f.OD),u.KVO(Rt),u.KVO(i.qQ,8),u.KVO(bt,8))},At.\u0275prov=u.jDH({token:At,factory:At.\u0275fac,providedIn:"root"}),Et})();var rt=function(At){return At[At.NONE=0]="NONE",At[At.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",At[At.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",At}(rt||{});const Kt="cdk-high-contrast-black-on-white",Dn="cdk-high-contrast-white-on-black",Jn="cdk-high-contrast-active";let lr=(()=>{var At;class Et{constructor(gt,tn){this._platform=gt,this._document=tn,this._breakpointSubscription=(0,u.WQX)(J.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return rt.NONE;const gt=this._document.createElement("div");gt.style.backgroundColor="rgb(1,2,3)",gt.style.position="absolute",this._document.body.appendChild(gt);const tn=this._document.defaultView||window,Xt=tn&&tn.getComputedStyle?tn.getComputedStyle(gt):null,Ye=(Xt&&Xt.backgroundColor||"").replace(/ /g,"");switch(gt.remove(),Ye){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return rt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return rt.BLACK_ON_WHITE}return rt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const gt=this._document.body.classList;gt.remove(Jn,Kt,Dn),this._hasCheckedHighContrastMode=!0;const tn=this.getHighContrastMode();tn===rt.BLACK_ON_WHITE?gt.add(Jn,Kt):tn===rt.WHITE_ON_BLACK&&gt.add(Jn,Dn)}}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.KVO(f.OD),u.KVO(i.qQ))},At.\u0275prov=u.jDH({token:At,factory:At.\u0275fac,providedIn:"root"}),Et})(),an=(()=>{var At;class Et{constructor(gt){gt._applyBodyHighContrastModeCssClasses()}}return(At=Et).\u0275fac=function(gt){return new(gt||At)(u.KVO(lr))},At.\u0275mod=u.$C({type:At}),At.\u0275inj=u.G2t({imports:[V.w5]}),Et})()},9529:(en,Ve,E)=>{"use strict";E.d(Ve,{bU:()=>d});var i=E(54438);let d=(()=>{var k;class S{}return(k=S).\u0275fac=function(P){return new(P||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),S})()},28203:(en,Ve,E)=>{"use strict";E.d(Ve,{dS:()=>d,ig:()=>k,jI:()=>S});var i=E(54438),u=E(60177);const f=new i.nKC("cdk-dir-doc",{providedIn:"root",factory:function C(){return(0,i.WQX)(u.qQ)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function w(U){const P=U?.toLowerCase()||"";return"auto"===P&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===P?"rtl":"ltr"}let d=(()=>{var U;class P{constructor(v){this.value="ltr",this.change=new i.bkB,v&&(this.value=w((v.body?v.body.dir:null)||(v.documentElement?v.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(U=P).\u0275fac=function(v){return new(v||U)(i.KVO(f,8))},U.\u0275prov=i.jDH({token:U,factory:U.\u0275fac,providedIn:"root"}),P})(),k=(()=>{var U;class P{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new i.bkB}get dir(){return this._dir}set dir(v){const M=this._dir;this._dir=w(v),this._rawDir=v,M!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return(U=P).\u0275fac=function(v){return new(v||U)},U.\u0275dir=i.FsC({type:U,selectors:[["","dir",""]],hostVars:1,hostBindings:function(v,M){2&v&&i.BMQ("dir",M._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],standalone:!0,features:[i.Jv_([{provide:d,useExisting:U}])]}),P})(),S=(()=>{var U;class P{}return(U=P).\u0275fac=function(v){return new(v||U)},U.\u0275mod=i.$C({type:U}),U.\u0275inj=i.G2t({}),P})()},14085:(en,Ve,E)=>{"use strict";E.d(Ve,{FG:()=>x,OE:()=>f,a1:()=>w,he:()=>u,i8:()=>d});var i=E(54438);function u(S){return null!=S&&"false"!=`${S}`}function f(S,U=0){return function C(S){return!isNaN(parseFloat(S))&&!isNaN(Number(S))}(S)?Number(S):U}function x(S){return Array.isArray(S)?S:[S]}function w(S){return null==S?"":"string"==typeof S?S:`${S}px`}function d(S){return S instanceof i.aKT?S.nativeElement:S}},45024:(en,Ve,E)=>{"use strict";E.d(Ve,{CB:()=>v,DQ:()=>y,Q3:()=>S,hx:()=>k,sL:()=>U,xn:()=>P,y4:()=>d,zP:()=>G});var i=E(7221),u=E(28454),f=E(15877),C=E(85052),x=E(54438);class w{}function d(K){return K&&"function"==typeof K.connect&&!(K instanceof i.G)}class k extends w{constructor(V){super(),this._data=V}connect(){return(0,u.A)(this._data)?this._data:(0,f.of)(this._data)}disconnect(){}}var S=function(K){return K[K.REPLACED=0]="REPLACED",K[K.INSERTED=1]="INSERTED",K[K.MOVED=2]="MOVED",K[K.REMOVED=3]="REMOVED",K}(S||{});const U=new x.nKC("_ViewRepeater");class P{applyChanges(V,Z,J,te,ae){V.forEachOperation((Y,$,H)=>{let me,B;if(null==Y.previousIndex){const ce=J(Y,$,H);me=Z.createEmbeddedView(ce.templateRef,ce.context,ce.index),B=S.INSERTED}else null==H?(Z.remove($),B=S.REMOVED):(me=Z.get($),Z.move(me,H),B=S.MOVED);ae&&ae({context:me?.context,operation:B,record:Y})})}detach(){}}class y{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(V,Z,J,te,ae){V.forEachOperation((Y,$,H)=>{let me,B;null==Y.previousIndex?(me=this._insertView(()=>J(Y,$,H),H,Z,te(Y)),B=me?S.INSERTED:S.REPLACED):null==H?(this._detachAndCacheView($,Z),B=S.REMOVED):(me=this._moveView($,H,Z,te(Y)),B=S.MOVED),ae&&ae({context:me?.context,operation:B,record:Y})})}detach(){for(const V of this._viewCache)V.destroy();this._viewCache=[]}_insertView(V,Z,J,te){const ae=this._insertViewFromCache(Z,J);if(ae)return void(ae.context.$implicit=te);const Y=V();return J.createEmbeddedView(Y.templateRef,Y.context,Y.index)}_detachAndCacheView(V,Z){const J=Z.detach(V);this._maybeCacheView(J,Z)}_moveView(V,Z,J,te){const ae=J.get(V);return J.move(ae,Z),ae.context.$implicit=te,ae}_maybeCacheView(V,Z){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(V);else{const J=Z.indexOf(V);-1===J?V.destroy():Z.remove(J)}}_insertViewFromCache(V,Z){const J=this._viewCache.pop();return J&&Z.insert(J,V),J||null}}class v{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(V=!1,Z,J=!0,te){this._multiple=V,this._emitChanges=J,this.compareWith=te,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new C.B,Z&&Z.length&&(V?Z.forEach(ae=>this._markSelected(ae)):this._markSelected(Z[0]),this._selectedToEmit.length=0)}select(...V){this._verifyValueAssignment(V),V.forEach(J=>this._markSelected(J));const Z=this._hasQueuedChanges();return this._emitChangeEvent(),Z}deselect(...V){this._verifyValueAssignment(V),V.forEach(J=>this._unmarkSelected(J));const Z=this._hasQueuedChanges();return this._emitChangeEvent(),Z}setSelection(...V){this._verifyValueAssignment(V);const Z=this.selected,J=new Set(V);V.forEach(ae=>this._markSelected(ae)),Z.filter(ae=>!J.has(this._getConcreteValue(ae,J))).forEach(ae=>this._unmarkSelected(ae));const te=this._hasQueuedChanges();return this._emitChangeEvent(),te}toggle(V){return this.isSelected(V)?this.deselect(V):this.select(V)}clear(V=!0){this._unmarkAll();const Z=this._hasQueuedChanges();return V&&this._emitChangeEvent(),Z}isSelected(V){return this._selection.has(this._getConcreteValue(V))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(V){this._multiple&&this.selected&&this._selected.sort(V)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(V){V=this._getConcreteValue(V),this.isSelected(V)||(this._multiple||this._unmarkAll(),this.isSelected(V)||this._selection.add(V),this._emitChanges&&this._selectedToEmit.push(V))}_unmarkSelected(V){V=this._getConcreteValue(V),this.isSelected(V)&&(this._selection.delete(V),this._emitChanges&&this._deselectedToEmit.push(V))}_unmarkAll(){this.isEmpty()||this._selection.forEach(V=>this._unmarkSelected(V))}_verifyValueAssignment(V){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(V,Z){if(this.compareWith){Z=Z??this._selection;for(let J of Z)if(this.compareWith(V,J))return J;return V}return V}}let G=(()=>{var K;class V{constructor(){this._listeners=[]}notify(J,te){for(let ae of this._listeners)ae(J,te)}listen(J){return this._listeners.push(J),()=>{this._listeners=this._listeners.filter(te=>J!==te)}}ngOnDestroy(){this._listeners=[]}}return(K=V).\u0275fac=function(J){return new(J||K)},K.\u0275prov=x.jDH({token:K,factory:K.\u0275fac,providedIn:"root"}),V})()},82529:(en,Ve,E)=>{"use strict";E.d(Ve,{Pe:()=>M,Ph:()=>B,ce:()=>V,lG:()=>H,sU:()=>K});var i=E(18617),u=E(47987),f=E(36860),C=E(76939),x=E(60177),w=E(54438),d=E(67336),k=E(85052),S=E(45946),U=E(15877),P=E(28203),y=E(35160);function v(ce,Oe){}class M{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let K=(()=>{var ce;class Oe extends C.lb{constructor(qe,_e,ht,Bt,de,R,j,he){super(),this._elementRef=qe,this._focusTrapFactory=_e,this._config=Bt,this._interactivityChecker=de,this._ngZone=R,this._overlayRef=j,this._focusMonitor=he,this._platform=(0,w.WQX)(f.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,w.WQX)(w.gRc),this.attachDomPortal=Ce=>{this._portalOutlet.hasAttached();const Re=this._portalOutlet.attachDomPortal(Ce);return this._contentAttached(),Re},this._document=ht,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(qe){this._ariaLabelledByQueue.push(qe),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(qe){const _e=this._ariaLabelledByQueue.indexOf(qe);_e>-1&&(this._ariaLabelledByQueue.splice(_e,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(qe){this._portalOutlet.hasAttached();const _e=this._portalOutlet.attachComponentPortal(qe);return this._contentAttached(),_e}attachTemplatePortal(qe){this._portalOutlet.hasAttached();const _e=this._portalOutlet.attachTemplatePortal(qe);return this._contentAttached(),_e}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(qe,_e){this._interactivityChecker.isFocusable(qe)||(qe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ht=()=>{qe.removeEventListener("blur",ht),qe.removeEventListener("mousedown",ht),qe.removeAttribute("tabindex")};qe.addEventListener("blur",ht),qe.addEventListener("mousedown",ht)})),qe.focus(_e)}_focusByCssSelector(qe,_e){let ht=this._elementRef.nativeElement.querySelector(qe);ht&&this._forceFocus(ht,_e)}_trapFocus(){const qe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||qe.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(_e=>{_e||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const qe=this._config.restoreFocus;let _e=null;if("string"==typeof qe?_e=this._document.querySelector(qe):"boolean"==typeof qe?_e=qe?this._elementFocusedBeforeDialogWasOpened:null:qe&&(_e=qe),this._config.restoreFocus&&_e&&"function"==typeof _e.focus){const ht=(0,f.vc)(),Bt=this._elementRef.nativeElement;(!ht||ht===this._document.body||ht===Bt||Bt.contains(ht))&&(this._focusMonitor?(this._focusMonitor.focusVia(_e,this._closeInteractionType),this._closeInteractionType=null):_e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const qe=this._elementRef.nativeElement,_e=(0,f.vc)();return qe===_e||qe.contains(_e)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,f.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return(ce=Oe).\u0275fac=function(qe){return new(qe||ce)(w.rXU(w.aKT),w.rXU(i.GX),w.rXU(x.qQ,8),w.rXU(M),w.rXU(i.Z7),w.rXU(w.SKi),w.rXU(u.yY),w.rXU(i.FN))},ce.\u0275cmp=w.VBU({type:ce,selectors:[["cdk-dialog-container"]],viewQuery:function(qe,_e){if(1&qe&&w.GBs(C.I3,7),2&qe){let ht;w.mGM(ht=w.lsd())&&(_e._portalOutlet=ht.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(qe,_e){2&qe&&w.BMQ("id",_e._config.id||null)("role",_e._config.role)("aria-modal",_e._config.ariaModal)("aria-labelledby",_e._config.ariaLabel?null:_e._ariaLabelledByQueue[0])("aria-label",_e._config.ariaLabel)("aria-describedby",_e._config.ariaDescribedBy||null)},standalone:!0,features:[w.Vt3,w.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(qe,_e){1&qe&&w.DNE(0,v,0,0,"ng-template",0)},dependencies:[C.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Oe})();class V{constructor(Oe,Ue){this.overlayRef=Oe,this.config=Ue,this.closed=new k.B,this.disableClose=Ue.disableClose,this.backdropClick=Oe.backdropClick(),this.keydownEvents=Oe.keydownEvents(),this.outsidePointerEvents=Oe.outsidePointerEvents(),this.id=Ue.id,this.keydownEvents.subscribe(qe=>{qe.keyCode===d._f&&!this.disableClose&&!(0,d.rp)(qe)&&(qe.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Oe.detachments().subscribe(()=>{!1!==Ue.closeOnOverlayDetachments&&this.close()})}close(Oe,Ue){if(this.containerInstance){const qe=this.closed;this.containerInstance._closeInteractionType=Ue?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),qe.next(Oe),qe.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Oe="",Ue=""){return this.overlayRef.updateSize({width:Oe,height:Ue}),this}addPanelClass(Oe){return this.overlayRef.addPanelClass(Oe),this}removePanelClass(Oe){return this.overlayRef.removePanelClass(Oe),this}}const Z=new w.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const ce=(0,w.WQX)(u.hJ);return()=>ce.scrollStrategies.block()}}),J=new w.nKC("DialogData"),te=new w.nKC("DefaultDialogConfig");let $=0,H=(()=>{var ce;class Oe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(qe,_e,ht,Bt,de,R){this._overlay=qe,this._injector=_e,this._defaultOptions=ht,this._parentDialog=Bt,this._overlayContainer=de,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k.B,this._afterOpenedAtThisLevel=new k.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,S.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.Z)(void 0))),this._scrollStrategy=R}open(qe,_e){(_e={...this._defaultOptions||new M,..._e}).id=_e.id||"cdk-dialog-"+$++,_e.id&&this.getDialogById(_e.id);const Bt=this._getOverlayConfig(_e),de=this._overlay.create(Bt),R=new V(de,_e),j=this._attachContainer(de,R,_e);return R.containerInstance=j,this._attachDialogContent(qe,R,j,_e),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(R),R.closed.subscribe(()=>this._removeOpenDialog(R,!0)),this.afterOpened.next(R),R}closeAll(){me(this.openDialogs,qe=>qe.close())}getDialogById(qe){return this.openDialogs.find(_e=>_e.id===qe)}ngOnDestroy(){me(this._openDialogsAtThisLevel,qe=>{!1===qe.config.closeOnDestroy&&this._removeOpenDialog(qe,!1)}),me(this._openDialogsAtThisLevel,qe=>qe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(qe){const _e=new u.rR({positionStrategy:qe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:qe.scrollStrategy||this._scrollStrategy(),panelClass:qe.panelClass,hasBackdrop:qe.hasBackdrop,direction:qe.direction,minWidth:qe.minWidth,minHeight:qe.minHeight,maxWidth:qe.maxWidth,maxHeight:qe.maxHeight,width:qe.width,height:qe.height,disposeOnNavigation:qe.closeOnNavigation});return qe.backdropClass&&(_e.backdropClass=qe.backdropClass),_e}_attachContainer(qe,_e,ht){const Bt=ht.injector||ht.viewContainerRef?.injector,de=[{provide:M,useValue:ht},{provide:V,useValue:_e},{provide:u.yY,useValue:qe}];let R;ht.container?"function"==typeof ht.container?R=ht.container:(R=ht.container.type,de.push(...ht.container.providers(ht))):R=K;const j=new C.A8(R,ht.viewContainerRef,w.zZn.create({parent:Bt||this._injector,providers:de}),ht.componentFactoryResolver);return qe.attach(j).instance}_attachDialogContent(qe,_e,ht,Bt){if(qe instanceof w.C4Q){const de=this._createInjector(Bt,_e,ht,void 0);let R={$implicit:Bt.data,dialogRef:_e};Bt.templateContext&&(R={...R,..."function"==typeof Bt.templateContext?Bt.templateContext():Bt.templateContext}),ht.attachTemplatePortal(new C.VA(qe,null,R,de))}else{const de=this._createInjector(Bt,_e,ht,this._injector),R=ht.attachComponentPortal(new C.A8(qe,Bt.viewContainerRef,de,Bt.componentFactoryResolver));_e.componentRef=R,_e.componentInstance=R.instance}}_createInjector(qe,_e,ht,Bt){const de=qe.injector||qe.viewContainerRef?.injector,R=[{provide:J,useValue:qe.data},{provide:V,useValue:_e}];return qe.providers&&("function"==typeof qe.providers?R.push(...qe.providers(_e,qe,ht)):R.push(...qe.providers)),qe.direction&&(!de||!de.get(P.dS,null,{optional:!0}))&&R.push({provide:P.dS,useValue:{value:qe.direction,change:(0,U.of)()}}),w.zZn.create({parent:de||Bt,providers:R})}_removeOpenDialog(qe,_e){const ht=this.openDialogs.indexOf(qe);ht>-1&&(this.openDialogs.splice(ht,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Bt,de)=>{Bt?de.setAttribute("aria-hidden",Bt):de.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),_e&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const qe=this._overlayContainer.getContainerElement();if(qe.parentElement){const _e=qe.parentElement.children;for(let ht=_e.length-1;ht>-1;ht--){const Bt=_e[ht];Bt!==qe&&"SCRIPT"!==Bt.nodeName&&"STYLE"!==Bt.nodeName&&!Bt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Bt,Bt.getAttribute("aria-hidden")),Bt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const qe=this._parentDialog;return qe?qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return(ce=Oe).\u0275fac=function(qe){return new(qe||ce)(w.KVO(u.hJ),w.KVO(w.zZn),w.KVO(te,8),w.KVO(ce,12),w.KVO(u.Sf),w.KVO(Z))},ce.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Oe})();function me(ce,Oe){let Ue=ce.length;for(;Ue--;)Oe(ce[Ue])}let B=(()=>{var ce;class Oe{}return(ce=Oe).\u0275fac=function(qe){return new(qe||ce)},ce.\u0275mod=w.$C({type:ce}),ce.\u0275inj=w.G2t({providers:[H],imports:[u.z_,C.jc,i.Pd,C.jc]}),Oe})()},81391:(en,Ve,E)=>{"use strict";E.d(Ve,{HD:()=>z,T1:()=>lr,ad:()=>En});var i=E(54438),u=E(60177),f=E(65478),C=E(36860),x=E(14085),w=E(18617),d=E(85052),k=E(81027),S=E(96513),U=E(40798),P=E(2573),y=E(76718),v=E(29160),M=E(37925),G=E(36110),K=E(17365),V=E(39705),Z=E(32914),J=E(35160),te=E(28203);function ae(it,ke,Jt){for(let We in ke)if(ke.hasOwnProperty(We)){const Tt=ke[We];Tt?it.setProperty(We,Tt,Jt?.has(We)?"important":""):it.removeProperty(We)}return it}function Y(it,ke){const Jt=ke?"":"none";ae(it.style,{"touch-action":ke?"":"none","-webkit-user-drag":ke?"":"none","-webkit-tap-highlight-color":ke?"":"transparent","user-select":Jt,"-ms-user-select":Jt,"-webkit-user-select":Jt,"-moz-user-select":Jt})}function $(it,ke,Jt){ae(it.style,{position:ke?"":"fixed",top:ke?"":"0",opacity:ke?"":"0",left:ke?"":"-999em"},Jt)}function H(it,ke){return ke&&"none"!=ke?it+" "+ke:it}function me(it,ke){it.style.width=`${ke.width}px`,it.style.height=`${ke.height}px`,it.style.transform=B(ke.left,ke.top)}function B(it,ke){return`translate3d(${Math.round(it)}px, ${Math.round(ke)}px, 0)`}function ce(it){const ke=it.getBoundingClientRect();return{top:ke.top,right:ke.right,bottom:ke.bottom,left:ke.left,width:ke.width,height:ke.height,x:ke.x,y:ke.y}}function Oe(it,ke,Jt){const{top:We,bottom:Tt,left:wn,right:In}=it;return Jt>=We&&Jt<=Tt&&ke>=wn&&ke<=In}function Ue(it,ke,Jt){it.top+=ke,it.bottom=it.top+it.height,it.left+=Jt,it.right=it.left+it.width}function qe(it,ke,Jt,We){const{top:Tt,right:wn,bottom:In,left:dr,width:sr,height:Gr}=it,hi=sr*ke,Ei=Gr*ke;return We>Tt-Ei&&We<In+Ei&&Jt>dr-hi&&Jt<wn+hi}class _e{constructor(ke){this._document=ke,this.positions=new Map}clear(){this.positions.clear()}cache(ke){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),ke.forEach(Jt=>{this.positions.set(Jt,{scrollPosition:{top:Jt.scrollTop,left:Jt.scrollLeft},clientRect:ce(Jt)})})}handleScroll(ke){const Jt=(0,C.Fb)(ke),We=this.positions.get(Jt);if(!We)return null;const Tt=We.scrollPosition;let wn,In;if(Jt===this._document){const Gr=this.getViewportScrollPosition();wn=Gr.top,In=Gr.left}else wn=Jt.scrollTop,In=Jt.scrollLeft;const dr=Tt.top-wn,sr=Tt.left-In;return this.positions.forEach((Gr,hi)=>{Gr.clientRect&&Jt!==hi&&Jt.contains(hi)&&Ue(Gr.clientRect,dr,sr)}),Tt.top=wn,Tt.left=In,{top:dr,left:sr}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ht(it){const ke=it.cloneNode(!0),Jt=ke.querySelectorAll("[id]"),We=it.nodeName.toLowerCase();ke.removeAttribute("id");for(let Tt=0;Tt<Jt.length;Tt++)Jt[Tt].removeAttribute("id");return"canvas"===We?j(it,ke):("input"===We||"select"===We||"textarea"===We)&&R(it,ke),Bt("canvas",it,ke,j),Bt("input, textarea, select",it,ke,R),ke}function Bt(it,ke,Jt,We){const Tt=ke.querySelectorAll(it);if(Tt.length){const wn=Jt.querySelectorAll(it);for(let In=0;In<Tt.length;In++)We(Tt[In],wn[In])}}let de=0;function R(it,ke){"file"!==ke.type&&(ke.value=it.value),"radio"===ke.type&&ke.name&&(ke.name=`mat-clone-${ke.name}-${de++}`)}function j(it,ke){const Jt=ke.getContext("2d");if(Jt)try{Jt.drawImage(it,0,0)}catch{}}function he(it,ke){const Jt=it.rootNodes;if(1===Jt.length&&Jt[0].nodeType===ke.ELEMENT_NODE)return Jt[0];const We=ke.createElement("div");return Jt.forEach(Tt=>We.appendChild(Tt)),We}function Ce(it){const ke=it.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(it)*ke}function pt(it,ke){return it.getPropertyValue(ke).split(",").map(We=>We.trim())}const zt=new Set(["position"]);class Mn{constructor(ke,Jt,We,Tt,wn,In,dr,sr,Gr){this._document=ke,this._rootElement=Jt,this._direction=We,this._initialDomRect=Tt,this._previewTemplate=wn,this._previewClass=In,this._pickupPositionOnPage=dr,this._initialTransform=sr,this._zIndex=Gr}attach(ke){this._preview=this._createPreview(),ke.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(ke){this._preview.style.transform=ke}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(ke){this._preview.classList.add(ke)}getTransitionDuration(){return function Re(it){const ke=getComputedStyle(it),Jt=pt(ke,"transition-property"),We=Jt.find(dr=>"transform"===dr||"all"===dr);if(!We)return 0;const Tt=Jt.indexOf(We),wn=pt(ke,"transition-duration"),In=pt(ke,"transition-delay");return Ce(wn[Tt])+Ce(In[Tt])}(this._preview)}addEventListener(ke,Jt){this._preview.addEventListener(ke,Jt)}removeEventListener(ke,Jt){this._preview.removeEventListener(ke,Jt)}_createPreview(){const ke=this._previewTemplate,Jt=this._previewClass,We=ke?ke.template:null;let Tt;if(We&&ke){const wn=ke.matchSize?this._initialDomRect:null,In=ke.viewContainer.createEmbeddedView(We,ke.context);In.detectChanges(),Tt=he(In,this._document),this._previewEmbeddedView=In,ke.matchSize?me(Tt,wn):Tt.style.transform=B(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else Tt=ht(this._rootElement),me(Tt,this._initialDomRect),this._initialTransform&&(Tt.style.transform=this._initialTransform);return ae(Tt.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},zt),Y(Tt,!1),Tt.classList.add("cdk-drag-preview"),Tt.setAttribute("popover","manual"),Tt.setAttribute("dir",this._direction),Jt&&(Array.isArray(Jt)?Jt.forEach(wn=>Tt.classList.add(wn)):Tt.classList.add(Jt)),Tt}}const It=(0,C.BQ)({passive:!0}),Ne=(0,C.BQ)({passive:!1}),Xe=(0,C.BQ)({passive:!1,capture:!0}),re=new Set(["position"]);class D{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(ke){ke!==this._disabled&&(this._disabled=ke,this._toggleNativeDragInteractions(),this._handles.forEach(Jt=>Y(Jt,ke)))}constructor(ke,Jt,We,Tt,wn,In){this._config=Jt,this._document=We,this._ngZone=Tt,this._viewportRuler=wn,this._dragDropRegistry=In,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new d.B,this._pointerMoveSubscription=k.yU.EMPTY,this._pointerUpSubscription=k.yU.EMPTY,this._scrollSubscription=k.yU.EMPTY,this._resizeSubscription=k.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new d.B,this.started=new d.B,this.released=new d.B,this.ended=new d.B,this.entered=new d.B,this.exited=new d.B,this.dropped=new d.B,this.moved=this._moveEvents,this._pointerDown=dr=>{if(this.beforeStarted.next(),this._handles.length){const sr=this._getTargetHandle(dr);sr&&!this._disabledHandles.has(sr)&&!this.disabled&&this._initializeDragSequence(sr,dr)}else this.disabled||this._initializeDragSequence(this._rootElement,dr)},this._pointerMove=dr=>{const sr=this._getPointerPositionOnPage(dr);if(!this._hasStartedDragging){if(Math.abs(sr.x-this._pickupPositionOnPage.x)+Math.abs(sr.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const co=Date.now()>=this._dragStartTime+this._getDragStartDelay(dr),uo=this._dropContainer;if(!co)return void this._endDragSequence(dr);(!uo||!uo.isDragging()&&!uo.isReceiving())&&(dr.cancelable&&dr.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(dr)))}return}dr.cancelable&&dr.preventDefault();const Gr=this._getConstrainedPointerPosition(sr);if(this._hasMoved=!0,this._lastKnownPointerPosition=sr,this._updatePointerDirectionDelta(Gr),this._dropContainer)this._updateActiveDropContainer(Gr,sr);else{const hi=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,Ei=this._activeTransform;Ei.x=Gr.x-hi.x+this._passiveTransform.x,Ei.y=Gr.y-hi.y+this._passiveTransform.y,this._applyRootElementTransform(Ei.x,Ei.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Gr,event:dr,distance:this._getDragDistance(Gr),delta:this._pointerDirectionDelta})})},this._pointerUp=dr=>{this._endDragSequence(dr)},this._nativeDragStart=dr=>{if(this._handles.length){const sr=this._getTargetHandle(dr);sr&&!this._disabledHandles.has(sr)&&!this.disabled&&dr.preventDefault()}else this.disabled||dr.preventDefault()},this.withRootElement(ke).withParent(Jt.parentDragRef||null),this._parentPositions=new _e(We),In.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(ke){this._handles=ke.map(We=>(0,x.i8)(We)),this._handles.forEach(We=>Y(We,this.disabled)),this._toggleNativeDragInteractions();const Jt=new Set;return this._disabledHandles.forEach(We=>{this._handles.indexOf(We)>-1&&Jt.add(We)}),this._disabledHandles=Jt,this}withPreviewTemplate(ke){return this._previewTemplate=ke,this}withPlaceholderTemplate(ke){return this._placeholderTemplate=ke,this}withRootElement(ke){const Jt=(0,x.i8)(ke);return Jt!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{Jt.addEventListener("mousedown",this._pointerDown,Ne),Jt.addEventListener("touchstart",this._pointerDown,It),Jt.addEventListener("dragstart",this._nativeDragStart,Ne)}),this._initialTransform=void 0,this._rootElement=Jt),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(ke){return this._boundaryElement=ke?(0,x.i8)(ke):null,this._resizeSubscription.unsubscribe(),ke&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(ke){return this._parentDragRef=ke,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(ke){!this._disabledHandles.has(ke)&&this._handles.indexOf(ke)>-1&&(this._disabledHandles.add(ke),Y(ke,!0))}enableHandle(ke){this._disabledHandles.has(ke)&&(this._disabledHandles.delete(ke),Y(ke,this.disabled))}withDirection(ke){return this._direction=ke,this}_withDropContainer(ke){this._dropContainer=ke}getFreeDragPosition(){const ke=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:ke.x,y:ke.y}}setFreeDragPosition(ke){return this._activeTransform={x:0,y:0},this._passiveTransform.x=ke.x,this._passiveTransform.y=ke.y,this._dropContainer||this._applyRootElementTransform(ke.x,ke.y),this}withPreviewContainer(ke){return this._previewContainer=ke,this}_sortFromLastPointerPosition(){const ke=this._lastKnownPointerPosition;ke&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(ke),ke)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",W,Xe)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(ke){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:ke}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(ke),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const Jt=this._getPointerPositionOnPage(ke);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(Jt),dropPoint:Jt,event:ke})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(ke){T(ke)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const Jt=this._getShadowRoot(),We=this._dropContainer;if(Jt&&this._ngZone.runOutsideAngular(()=>{Jt.addEventListener("selectstart",W,Xe)}),We){const Tt=this._rootElement,wn=Tt.parentNode,In=this._placeholder=this._createPlaceholderElement(),dr=this._anchor=this._anchor||this._document.createComment("");wn.insertBefore(dr,Tt),this._initialTransform=Tt.style.transform||"",this._preview=new Mn(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(wn,Jt)),$(Tt,!1,re),this._document.body.appendChild(wn.replaceChild(In,Tt)),this.started.next({source:this,event:ke}),We.start(),this._initialContainer=We,this._initialIndex=We.getItemIndex(this)}else this.started.next({source:this,event:ke}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(We?We.getScrollableParents():[])}_initializeDragSequence(ke,Jt){this._parentDragRef&&Jt.stopPropagation();const We=this.isDragging(),Tt=T(Jt),wn=!Tt&&0!==Jt.button,In=this._rootElement,dr=(0,C.Fb)(Jt),sr=!Tt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Gr=Tt?(0,w.w6)(Jt):(0,w._G)(Jt);if(dr&&dr.draggable&&"mousedown"===Jt.type&&Jt.preventDefault(),We||wn||sr||Gr)return;if(this._handles.length){const fi=In.style;this._rootElementTapHighlight=fi.webkitTapHighlightColor||"",fi.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(fi=>this._updateOnScroll(fi)),this._boundaryElement&&(this._boundaryRect=ce(this._boundaryElement));const hi=this._previewTemplate;this._pickupPositionInElement=hi&&hi.template&&!hi.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,ke,Jt);const Ei=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(Jt);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Ei.x,y:Ei.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,Jt)}_cleanupDragArtifacts(ke){$(this._rootElement,!0,re),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const Jt=this._dropContainer,We=Jt.getItemIndex(this),Tt=this._getPointerPositionOnPage(ke),wn=this._getDragDistance(Tt),In=Jt._isOverContainer(Tt.x,Tt.y);this.ended.next({source:this,distance:wn,dropPoint:Tt,event:ke}),this.dropped.next({item:this,currentIndex:We,previousIndex:this._initialIndex,container:Jt,previousContainer:this._initialContainer,isPointerOverContainer:In,distance:wn,dropPoint:Tt,event:ke}),Jt.drop(this,We,this._initialIndex,this._initialContainer,In,wn,Tt,ke),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:ke,y:Jt},{x:We,y:Tt}){let wn=this._initialContainer._getSiblingContainerFromPosition(this,ke,Jt);!wn&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(ke,Jt)&&(wn=this._initialContainer),wn&&wn!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=wn,this._dropContainer.enter(this,ke,Jt,wn===this._initialContainer&&wn.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:wn,currentIndex:wn.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(We,Tt),this._dropContainer._sortItem(this,ke,Jt,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(ke,Jt):this._applyPreviewTransform(ke-this._pickupPositionInElement.x,Jt-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const ke=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(ke.left,ke.top);const Jt=this._preview.getTransitionDuration();return 0===Jt?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(We=>{const Tt=In=>{(!In||(0,C.Fb)(In)===this._preview&&"transform"===In.propertyName)&&(this._preview?.removeEventListener("transitionend",Tt),We(),clearTimeout(wn))},wn=setTimeout(Tt,1.5*Jt);this._preview.addEventListener("transitionend",Tt)}))}_createPlaceholderElement(){const ke=this._placeholderTemplate,Jt=ke?ke.template:null;let We;return Jt?(this._placeholderRef=ke.viewContainer.createEmbeddedView(Jt,ke.context),this._placeholderRef.detectChanges(),We=he(this._placeholderRef,this._document)):We=ht(this._rootElement),We.style.pointerEvents="none",We.classList.add("cdk-drag-placeholder"),We}_getPointerPositionInElement(ke,Jt,We){const Tt=Jt===this._rootElement?null:Jt,wn=Tt?Tt.getBoundingClientRect():ke,In=T(We)?We.targetTouches[0]:We,dr=this._getViewportScrollPosition();return{x:wn.left-ke.left+(In.pageX-wn.left-dr.left),y:wn.top-ke.top+(In.pageY-wn.top-dr.top)}}_getPointerPositionOnPage(ke){const Jt=this._getViewportScrollPosition(),We=T(ke)?ke.touches[0]||ke.changedTouches[0]||{pageX:0,pageY:0}:ke,Tt=We.pageX-Jt.left,wn=We.pageY-Jt.top;if(this._ownerSVGElement){const In=this._ownerSVGElement.getScreenCTM();if(In){const dr=this._ownerSVGElement.createSVGPoint();return dr.x=Tt,dr.y=wn,dr.matrixTransform(In.inverse())}}return{x:Tt,y:wn}}_getConstrainedPointerPosition(ke){const Jt=this._dropContainer?this._dropContainer.lockAxis:null;let{x:We,y:Tt}=this.constrainPosition?this.constrainPosition(ke,this,this._initialDomRect,this._pickupPositionInElement):ke;if("x"===this.lockAxis||"x"===Jt?Tt=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===Jt)&&(We=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:wn,y:In}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,dr=this._boundaryRect,{width:sr,height:Gr}=this._getPreviewRect(),hi=dr.top+In,Ei=dr.bottom-(Gr-In);We=F(We,dr.left+wn,dr.right-(sr-wn)),Tt=F(Tt,hi,Ei)}return{x:We,y:Tt}}_updatePointerDirectionDelta(ke){const{x:Jt,y:We}=ke,Tt=this._pointerDirectionDelta,wn=this._pointerPositionAtLastDirectionChange,In=Math.abs(Jt-wn.x),dr=Math.abs(We-wn.y);return In>this._config.pointerDirectionChangeThreshold&&(Tt.x=Jt>wn.x?1:-1,wn.x=Jt),dr>this._config.pointerDirectionChangeThreshold&&(Tt.y=We>wn.y?1:-1,wn.y=We),Tt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const ke=this._handles.length>0||!this.isDragging();ke!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=ke,Y(this._rootElement,ke))}_removeRootElementListeners(ke){ke.removeEventListener("mousedown",this._pointerDown,Ne),ke.removeEventListener("touchstart",this._pointerDown,It),ke.removeEventListener("dragstart",this._nativeDragStart,Ne)}_applyRootElementTransform(ke,Jt){const We=B(ke,Jt),Tt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Tt.transform&&"none"!=Tt.transform?Tt.transform:""),Tt.transform=H(We,this._initialTransform)}_applyPreviewTransform(ke,Jt){const We=this._previewTemplate?.template?void 0:this._initialTransform,Tt=B(ke,Jt);this._preview.setTransform(H(Tt,We))}_getDragDistance(ke){const Jt=this._pickupPositionOnPage;return Jt?{x:ke.x-Jt.x,y:ke.y-Jt.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:ke,y:Jt}=this._passiveTransform;if(0===ke&&0===Jt||this.isDragging()||!this._boundaryElement)return;const We=this._rootElement.getBoundingClientRect(),Tt=this._boundaryElement.getBoundingClientRect();if(0===Tt.width&&0===Tt.height||0===We.width&&0===We.height)return;const wn=Tt.left-We.left,In=We.right-Tt.right,dr=Tt.top-We.top,sr=We.bottom-Tt.bottom;Tt.width>We.width?(wn>0&&(ke+=wn),In>0&&(ke-=In)):ke=0,Tt.height>We.height?(dr>0&&(Jt+=dr),sr>0&&(Jt-=sr)):Jt=0,(ke!==this._passiveTransform.x||Jt!==this._passiveTransform.y)&&this.setFreeDragPosition({y:Jt,x:ke})}_getDragStartDelay(ke){const Jt=this.dragStartDelay;return"number"==typeof Jt?Jt:T(ke)?Jt.touch:Jt?Jt.mouse:0}_updateOnScroll(ke){const Jt=this._parentPositions.handleScroll(ke);if(Jt){const We=(0,C.Fb)(ke);this._boundaryRect&&We!==this._boundaryElement&&We.contains(this._boundaryElement)&&Ue(this._boundaryRect,Jt.top,Jt.left),this._pickupPositionOnPage.x+=Jt.left,this._pickupPositionOnPage.y+=Jt.top,this._dropContainer||(this._activeTransform.x-=Jt.left,this._activeTransform.y-=Jt.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,C.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(ke,Jt){const We=this._previewContainer||"global";if("parent"===We)return ke;if("global"===We){const Tt=this._document;return Jt||Tt.fullscreenElement||Tt.webkitFullscreenElement||Tt.mozFullScreenElement||Tt.msFullscreenElement||Tt.body}return(0,x.i8)(We)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(ke){return this._handles.find(Jt=>ke.target&&(ke.target===Jt||Jt.contains(ke.target)))}}function F(it,ke,Jt){return Math.max(ke,Math.min(Jt,it))}function T(it){return"t"===it.type[0]}function W(it){it.preventDefault()}function z(it,ke,Jt){const We=Ae(ke,it.length-1),Tt=Ae(Jt,it.length-1);if(We===Tt)return;const wn=it[We],In=Tt<We?-1:1;for(let dr=We;dr!==Tt;dr+=In)it[dr]=it[dr+In];it[Tt]=wn}function Ae(it,ke){return Math.max(0,Math.min(ke,it))}class se{constructor(ke,Jt){this._element=ke,this._dragDropRegistry=Jt,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(ke){this.withItems(ke)}sort(ke,Jt,We,Tt){const wn=this._itemPositions,In=this._getItemIndexFromPointerPosition(ke,Jt,We,Tt);if(-1===In&&wn.length>0)return null;const dr="horizontal"===this.orientation,sr=wn.findIndex(ti=>ti.drag===ke),Gr=wn[In],Ei=Gr.clientRect,fi=sr>In?1:-1,co=this._getItemOffsetPx(wn[sr].clientRect,Ei,fi),uo=this._getSiblingOffsetPx(sr,wn,fi),Pi=wn.slice();return z(wn,sr,In),wn.forEach((ti,mr)=>{if(Pi[mr]===ti)return;const Li=ti.drag===ke,ro=Li?co:uo,Pe=Li?ke.getPlaceholderElement():ti.drag.getRootElement();ti.offset+=ro,dr?(Pe.style.transform=H(`translate3d(${Math.round(ti.offset)}px, 0, 0)`,ti.initialTransform),Ue(ti.clientRect,0,ro)):(Pe.style.transform=H(`translate3d(0, ${Math.round(ti.offset)}px, 0)`,ti.initialTransform),Ue(ti.clientRect,ro,0))}),this._previousSwap.overlaps=Oe(Ei,Jt,We),this._previousSwap.drag=Gr.drag,this._previousSwap.delta=dr?Tt.x:Tt.y,{previousIndex:sr,currentIndex:In}}enter(ke,Jt,We,Tt){const wn=null==Tt||Tt<0?this._getItemIndexFromPointerPosition(ke,Jt,We):Tt,In=this._activeDraggables,dr=In.indexOf(ke),sr=ke.getPlaceholderElement();let Gr=In[wn];if(Gr===ke&&(Gr=In[wn+1]),!Gr&&(null==wn||-1===wn||wn<In.length-1)&&this._shouldEnterAsFirstChild(Jt,We)&&(Gr=In[0]),dr>-1&&In.splice(dr,1),Gr&&!this._dragDropRegistry.isDragging(Gr)){const hi=Gr.getRootElement();hi.parentElement.insertBefore(sr,hi),In.splice(wn,0,ke)}else(0,x.i8)(this._element).appendChild(sr),In.push(ke);sr.style.transform="",this._cacheItemPositions()}withItems(ke){this._activeDraggables=ke.slice(),this._cacheItemPositions()}withSortPredicate(ke){this._sortPredicate=ke}reset(){this._activeDraggables.forEach(ke=>{const Jt=ke.getRootElement();if(Jt){const We=this._itemPositions.find(Tt=>Tt.drag===ke)?.initialTransform;Jt.style.transform=We||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(ke){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(We=>We.drag===ke)}updateOnScroll(ke,Jt){this._itemPositions.forEach(({clientRect:We})=>{Ue(We,ke,Jt)}),this._itemPositions.forEach(({drag:We})=>{this._dragDropRegistry.isDragging(We)&&We._sortFromLastPointerPosition()})}_cacheItemPositions(){const ke="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(Jt=>{const We=Jt.getVisibleElement();return{drag:Jt,offset:0,initialTransform:We.style.transform||"",clientRect:ce(We)}}).sort((Jt,We)=>ke?Jt.clientRect.left-We.clientRect.left:Jt.clientRect.top-We.clientRect.top)}_getItemOffsetPx(ke,Jt,We){const Tt="horizontal"===this.orientation;let wn=Tt?Jt.left-ke.left:Jt.top-ke.top;return-1===We&&(wn+=Tt?Jt.width-ke.width:Jt.height-ke.height),wn}_getSiblingOffsetPx(ke,Jt,We){const Tt="horizontal"===this.orientation,wn=Jt[ke].clientRect,In=Jt[ke+-1*We];let dr=wn[Tt?"width":"height"]*We;if(In){const sr=Tt?"left":"top",Gr=Tt?"right":"bottom";-1===We?dr-=In.clientRect[sr]-wn[Gr]:dr+=wn[sr]-In.clientRect[Gr]}return dr}_shouldEnterAsFirstChild(ke,Jt){if(!this._activeDraggables.length)return!1;const We=this._itemPositions,Tt="horizontal"===this.orientation;if(We[0].drag!==this._activeDraggables[0]){const In=We[We.length-1].clientRect;return Tt?ke>=In.right:Jt>=In.bottom}{const In=We[0].clientRect;return Tt?ke<=In.left:Jt<=In.top}}_getItemIndexFromPointerPosition(ke,Jt,We,Tt){const wn="horizontal"===this.orientation,In=this._itemPositions.findIndex(({drag:dr,clientRect:sr})=>dr!==ke&&((!Tt||dr!==this._previousSwap.drag||!this._previousSwap.overlaps||(wn?Tt.x:Tt.y)!==this._previousSwap.delta)&&(wn?Jt>=Math.floor(sr.left)&&Jt<Math.floor(sr.right):We>=Math.floor(sr.top)&&We<Math.floor(sr.bottom))));return-1!==In&&this._sortPredicate(In,ke)?In:-1}}var ge=function(it){return it[it.NONE=0]="NONE",it[it.UP=1]="UP",it[it.DOWN=2]="DOWN",it}(ge||{}),et=function(it){return it[it.NONE=0]="NONE",it[it.LEFT=1]="LEFT",it[it.RIGHT=2]="RIGHT",it}(et||{});class Pt{constructor(ke,Jt,We,Tt,wn){this._dragDropRegistry=Jt,this._ngZone=Tt,this._viewportRuler=wn,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new d.B,this.entered=new d.B,this.exited=new d.B,this.dropped=new d.B,this.sorted=new d.B,this.receivingStarted=new d.B,this.receivingStopped=new d.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=k.yU.EMPTY,this._verticalScrollDirection=ge.NONE,this._horizontalScrollDirection=et.NONE,this._stopScrollTimers=new d.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,S.Y)(0,U.X).pipe((0,M.Q)(this._stopScrollTimers)).subscribe(()=>{const In=this._scrollNode,dr=this.autoScrollStep;this._verticalScrollDirection===ge.UP?In.scrollBy(0,-dr):this._verticalScrollDirection===ge.DOWN&&In.scrollBy(0,dr),this._horizontalScrollDirection===et.LEFT?In.scrollBy(-dr,0):this._horizontalScrollDirection===et.RIGHT&&In.scrollBy(dr,0)})},this.element=(0,x.i8)(ke),this._document=We,this.withScrollableParents([this.element]),Jt.registerDropContainer(this),this._parentPositions=new _e(We),this._sortStrategy=new se(this.element,Jt),this._sortStrategy.withSortPredicate((In,dr)=>this.sortPredicate(In,dr,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(ke,Jt,We,Tt){this._draggingStarted(),null==Tt&&this.sortingDisabled&&(Tt=this._draggables.indexOf(ke)),this._sortStrategy.enter(ke,Jt,We,Tt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:ke,container:this,currentIndex:this.getItemIndex(ke)})}exit(ke){this._reset(),this.exited.next({item:ke,container:this})}drop(ke,Jt,We,Tt,wn,In,dr,sr={}){this._reset(),this.dropped.next({item:ke,currentIndex:Jt,previousIndex:We,container:this,previousContainer:Tt,isPointerOverContainer:wn,distance:In,dropPoint:dr,event:sr})}withItems(ke){const Jt=this._draggables;return this._draggables=ke,ke.forEach(We=>We._withDropContainer(this)),this.isDragging()&&(Jt.filter(Tt=>Tt.isDragging()).every(Tt=>-1===ke.indexOf(Tt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(ke){return this._sortStrategy.direction=ke,this}connectedTo(ke){return this._siblings=ke.slice(),this}withOrientation(ke){return this._sortStrategy.orientation=ke,this}withScrollableParents(ke){const Jt=(0,x.i8)(this.element);return this._scrollableElements=-1===ke.indexOf(Jt)?[Jt,...ke]:ke.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(ke){return this._isDragging?this._sortStrategy.getItemIndex(ke):this._draggables.indexOf(ke)}isReceiving(){return this._activeSiblings.size>0}_sortItem(ke,Jt,We,Tt){if(this.sortingDisabled||!this._domRect||!qe(this._domRect,.05,Jt,We))return;const wn=this._sortStrategy.sort(ke,Jt,We,Tt);wn&&this.sorted.next({previousIndex:wn.previousIndex,currentIndex:wn.currentIndex,container:this,item:ke})}_startScrollingIfNecessary(ke,Jt){if(this.autoScrollDisabled)return;let We,Tt=ge.NONE,wn=et.NONE;if(this._parentPositions.positions.forEach((In,dr)=>{dr===this._document||!In.clientRect||We||qe(In.clientRect,.05,ke,Jt)&&([Tt,wn]=function je(it,ke,Jt,We,Tt){const wn=Rt(ke,Tt),In=ln(ke,We);let dr=ge.NONE,sr=et.NONE;if(wn){const Gr=it.scrollTop;wn===ge.UP?Gr>0&&(dr=ge.UP):it.scrollHeight-Gr>it.clientHeight&&(dr=ge.DOWN)}if(In){const Gr=it.scrollLeft;"rtl"===Jt?In===et.RIGHT?Gr<0&&(sr=et.RIGHT):it.scrollWidth+Gr>it.clientWidth&&(sr=et.LEFT):In===et.LEFT?Gr>0&&(sr=et.LEFT):it.scrollWidth-Gr>it.clientWidth&&(sr=et.RIGHT)}return[dr,sr]}(dr,In.clientRect,this._sortStrategy.direction,ke,Jt),(Tt||wn)&&(We=dr))}),!Tt&&!wn){const{width:In,height:dr}=this._viewportRuler.getViewportSize(),sr={width:In,height:dr,top:0,right:In,bottom:dr,left:0};Tt=Rt(sr,Jt),wn=ln(sr,ke),We=window}We&&(Tt!==this._verticalScrollDirection||wn!==this._horizontalScrollDirection||We!==this._scrollNode)&&(this._verticalScrollDirection=Tt,this._horizontalScrollDirection=wn,this._scrollNode=We,(Tt||wn)&&We?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const ke=(0,x.i8)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=ke.msScrollSnapType||ke.scrollSnapType||"",ke.scrollSnapType=ke.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const ke=(0,x.i8)(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(ke).clientRect}_reset(){this._isDragging=!1;const ke=(0,x.i8)(this.element).style;ke.scrollSnapType=ke.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(Jt=>Jt._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(ke,Jt){return null!=this._domRect&&Oe(this._domRect,ke,Jt)}_getSiblingContainerFromPosition(ke,Jt,We){return this._siblings.find(Tt=>Tt._canReceive(ke,Jt,We))}_canReceive(ke,Jt,We){if(!this._domRect||!Oe(this._domRect,Jt,We)||!this.enterPredicate(ke,this))return!1;const Tt=this._getShadowRoot().elementFromPoint(Jt,We);if(!Tt)return!1;const wn=(0,x.i8)(this.element);return Tt===wn||wn.contains(Tt)}_startReceiving(ke,Jt){const We=this._activeSiblings;!We.has(ke)&&Jt.every(Tt=>this.enterPredicate(Tt,this)||this._draggables.indexOf(Tt)>-1)&&(We.add(ke),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:ke,receiver:this,items:Jt}))}_stopReceiving(ke){this._activeSiblings.delete(ke),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:ke,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ke=>{if(this.isDragging()){const Jt=this._parentPositions.handleScroll(ke);Jt&&this._sortStrategy.updateOnScroll(Jt.top,Jt.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const ke=(0,C.KT)((0,x.i8)(this.element));this._cachedShadowRoot=ke||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const ke=this._sortStrategy.getActiveItemsSnapshot().filter(Jt=>Jt.isDragging());this._siblings.forEach(Jt=>Jt._startReceiving(this,ke))}}function Rt(it,ke){const{top:Jt,bottom:We,height:Tt}=it,wn=.05*Tt;return ke>=Jt-wn&&ke<=Jt+wn?ge.UP:ke>=We-wn&&ke<=We+wn?ge.DOWN:ge.NONE}function ln(it,ke){const{left:Jt,right:We,width:Tt}=it,wn=.05*Tt;return ke>=Jt-wn&&ke<=Jt+wn?et.LEFT:ke>=We-wn&&ke<=We+wn?et.RIGHT:et.NONE}const Ht=(0,C.BQ)({passive:!1,capture:!0}),ut=new Set;let jt=(()=>{var it;class ke{}return(it=ke).\u0275fac=function(We){return new(We||it)},it.\u0275cmp=i.VBU({type:it,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(We,Tt){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0}),ke})(),gn=(()=>{var it;class ke{constructor(We,Tt){this._ngZone=We,this._appRef=(0,i.WQX)(i.o8S),this._environmentInjector=(0,i.WQX)(i.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=wn=>wn.isDragging(),this.pointerMove=new d.B,this.pointerUp=new d.B,this.scroll=new d.B,this._preventDefaultWhileDragging=wn=>{this._activeDragInstances.length>0&&wn.preventDefault()},this._persistentTouchmoveListener=wn=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&wn.preventDefault(),this.pointerMove.next(wn))},this._document=Tt}registerDropContainer(We){this._dropInstances.has(We)||this._dropInstances.add(We)}registerDragItem(We){this._dragInstances.add(We),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ht)})}removeDropContainer(We){this._dropInstances.delete(We)}removeDragItem(We){this._dragInstances.delete(We),this.stopDragging(We),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ht)}startDragging(We,Tt){if(!(this._activeDragInstances.indexOf(We)>-1)&&(this._loadResets(),this._activeDragInstances.push(We),1===this._activeDragInstances.length)){const wn=Tt.type.startsWith("touch");this._globalListeners.set(wn?"touchend":"mouseup",{handler:In=>this.pointerUp.next(In),options:!0}).set("scroll",{handler:In=>this.scroll.next(In),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ht}),wn||this._globalListeners.set("mousemove",{handler:In=>this.pointerMove.next(In),options:Ht}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((In,dr)=>{this._document.addEventListener(dr,In.handler,In.options)})})}}stopDragging(We){const Tt=this._activeDragInstances.indexOf(We);Tt>-1&&(this._activeDragInstances.splice(Tt,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(We){return this._activeDragInstances.indexOf(We)>-1}scrolled(We){const Tt=[this.scroll];return We&&We!==this._document&&Tt.push(new P.c(wn=>this._ngZone.runOutsideAngular(()=>{const dr=sr=>{this._activeDragInstances.length&&wn.next(sr)};return We.addEventListener("scroll",dr,!0),()=>{We.removeEventListener("scroll",dr,!0)}}))),(0,y.h)(...Tt)}ngOnDestroy(){this._dragInstances.forEach(We=>this.removeDragItem(We)),this._dropInstances.forEach(We=>this.removeDropContainer(We)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((We,Tt)=>{this._document.removeEventListener(Tt,We.handler,We.options)}),this._globalListeners.clear()}_loadResets(){if(!ut.has(this._appRef)){ut.add(this._appRef);const We=(0,i.a0P)(jt,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{ut.delete(this._appRef),0===ut.size&&We.destroy()})}}}return(it=ke).\u0275fac=function(We){return new(We||it)(i.KVO(i.SKi),i.KVO(u.qQ))},it.\u0275prov=i.jDH({token:it,factory:it.\u0275fac,providedIn:"root"}),ke})();const lt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let bt=(()=>{var it;class ke{constructor(We,Tt,wn,In){this._document=We,this._ngZone=Tt,this._viewportRuler=wn,this._dragDropRegistry=In}createDrag(We,Tt=lt){return new D(We,Tt,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(We){return new Pt(We,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return(it=ke).\u0275fac=function(We){return new(We||it)(i.KVO(u.qQ),i.KVO(i.SKi),i.KVO(f.Xj),i.KVO(gn))},it.\u0275prov=i.jDH({token:it,factory:it.\u0275fac,providedIn:"root"}),ke})();const He=new i.nKC("CDK_DRAG_PARENT"),mt=new i.nKC("CdkDragHandle"),Kt=new i.nKC("CDK_DRAG_CONFIG"),Jn=new i.nKC("CdkDropList");let lr=(()=>{var it;class ke{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(We){this._disabled=We,this._dragRef.disabled=this._disabled}constructor(We,Tt,wn,In,dr,sr,Gr,hi,Ei,fi,co){this.element=We,this.dropContainer=Tt,this._ngZone=In,this._viewContainerRef=dr,this._dir=Gr,this._changeDetectorRef=Ei,this._selfHandle=fi,this._parentDrag=co,this._destroyed=new d.B,this._handles=new v.t([]),this.started=new i.bkB,this.released=new i.bkB,this.ended=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.dropped=new i.bkB,this.moved=new P.c(uo=>{const Pi=this._dragRef.moved.pipe((0,G.T)(ti=>({source:this,pointerPosition:ti.pointerPosition,event:ti.event,delta:ti.delta,distance:ti.distance}))).subscribe(uo);return()=>{Pi.unsubscribe()}}),this._dragRef=hi.createDrag(We,{dragStartThreshold:sr&&null!=sr.dragStartThreshold?sr.dragStartThreshold:5,pointerDirectionChangeThreshold:sr&&null!=sr.pointerDirectionChangeThreshold?sr.pointerDirectionChangeThreshold:5,zIndex:sr?.zIndex}),this._dragRef.data=this,ke._dragInstances.push(this),sr&&this._assignDefaults(sr),Tt&&(this._dragRef._withDropContainer(Tt._dropListRef),Tt.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(We){this._dragRef.setFreeDragPosition(We)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,K.s)(1),(0,M.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(We){const Tt=We.rootElementSelector,wn=We.freeDragPosition;Tt&&!Tt.firstChange&&this._updateRootElement(),wn&&!wn.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const We=ke._dragInstances.indexOf(this);We>-1&&ke._dragInstances.splice(We,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(We){const Tt=this._handles.getValue();Tt.push(We),this._handles.next(Tt)}_removeHandle(We){const Tt=this._handles.getValue(),wn=Tt.indexOf(We);wn>-1&&(Tt.splice(wn,1),this._handles.next(Tt))}_setPreviewTemplate(We){this._previewTemplate=We}_resetPreviewTemplate(We){We===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(We){this._placeholderTemplate=We}_resetPlaceholderTemplate(We){We===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const We=this.element.nativeElement;let Tt=We;this.rootElementSelector&&(Tt=void 0!==We.closest?We.closest(this.rootElementSelector):We.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Tt||We)}_getBoundaryElement(){const We=this.boundaryElement;return We?"string"==typeof We?this.element.nativeElement.closest(We):(0,x.i8)(We):null}_syncInputs(We){We.beforeStarted.subscribe(()=>{if(!We.isDragging()){const Tt=this._dir,wn=this.dragStartDelay,In=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,dr=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;We.disabled=this.disabled,We.lockAxis=this.lockAxis,We.dragStartDelay="object"==typeof wn&&wn?wn:(0,x.OE)(wn),We.constrainPosition=this.constrainPosition,We.previewClass=this.previewClass,We.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(In).withPreviewTemplate(dr).withPreviewContainer(this.previewContainer||"global"),Tt&&We.withDirection(Tt.value)}}),We.beforeStarted.pipe((0,K.s)(1)).subscribe(()=>{if(this._parentDrag)return void We.withParent(this._parentDrag._dragRef);let Tt=this.element.nativeElement.parentElement;for(;Tt;){if(Tt.classList.contains("cdk-drag")){We.withParent(ke._dragInstances.find(wn=>wn.element.nativeElement===Tt)?._dragRef||null);break}Tt=Tt.parentElement}})}_handleEvents(We){We.started.subscribe(Tt=>{this.started.emit({source:this,event:Tt.event}),this._changeDetectorRef.markForCheck()}),We.released.subscribe(Tt=>{this.released.emit({source:this,event:Tt.event})}),We.ended.subscribe(Tt=>{this.ended.emit({source:this,distance:Tt.distance,dropPoint:Tt.dropPoint,event:Tt.event}),this._changeDetectorRef.markForCheck()}),We.entered.subscribe(Tt=>{this.entered.emit({container:Tt.container.data,item:this,currentIndex:Tt.currentIndex})}),We.exited.subscribe(Tt=>{this.exited.emit({container:Tt.container.data,item:this})}),We.dropped.subscribe(Tt=>{this.dropped.emit({previousIndex:Tt.previousIndex,currentIndex:Tt.currentIndex,previousContainer:Tt.previousContainer.data,container:Tt.container.data,isPointerOverContainer:Tt.isPointerOverContainer,item:this,distance:Tt.distance,dropPoint:Tt.dropPoint,event:Tt.event})})}_assignDefaults(We){const{lockAxis:Tt,dragStartDelay:wn,constrainPosition:In,previewClass:dr,boundaryElement:sr,draggingDisabled:Gr,rootElementSelector:hi,previewContainer:Ei}=We;this.disabled=Gr??!1,this.dragStartDelay=wn||0,Tt&&(this.lockAxis=Tt),In&&(this.constrainPosition=In),dr&&(this.previewClass=dr),sr&&(this.boundaryElement=sr),hi&&(this.rootElementSelector=hi),Ei&&(this.previewContainer=Ei)}_setupHandlesListener(){this._handles.pipe((0,V.M)(We=>{const Tt=We.map(wn=>wn.element);this._selfHandle&&this.rootElementSelector&&Tt.push(this.element),this._dragRef.withHandles(Tt)}),(0,Z.n)(We=>(0,y.h)(...We.map(Tt=>Tt._stateChanges.pipe((0,J.Z)(Tt))))),(0,M.Q)(this._destroyed)).subscribe(We=>{const Tt=this._dragRef,wn=We.element.nativeElement;We.disabled?Tt.disableHandle(wn):Tt.enableHandle(wn)})}}return(it=ke)._dragInstances=[],it.\u0275fac=function(We){return new(We||it)(i.rXU(i.aKT),i.rXU(Jn,12),i.rXU(u.qQ),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(Kt,8),i.rXU(te.dS,8),i.rXU(bt),i.rXU(i.gRc),i.rXU(mt,10),i.rXU(He,12))},it.\u0275dir=i.FsC({type:it,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(We,Tt){2&We&&i.AVh("cdk-drag-disabled",Tt.disabled)("cdk-drag-dragging",Tt._dragRef.isDragging())},inputs:{data:[i.Mj6.None,"cdkDragData","data"],lockAxis:[i.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[i.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[i.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[i.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[i.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",i.L39],constrainPosition:[i.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[i.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[i.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i.Jv_([{provide:He,useExisting:it}]),i.GFd,i.OA$]}),ke})(),En=(()=>{var it;class ke{}return(it=ke).\u0275fac=function(We){return new(We||it)},it.\u0275mod=i.$C({type:it}),it.\u0275inj=i.G2t({providers:[bt],imports:[f.Gj]}),ke})()},67336:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>Re,A$:()=>k,FX:()=>w,Fm:()=>x,Ge:()=>Ht,Kp:()=>G,LE:()=>J,UQ:()=>V,W3:()=>d,Z:()=>je,_f:()=>P,bn:()=>de,dB:()=>M,eg:()=>fr,f2:()=>me,i7:()=>Z,n6:()=>te,rp:()=>Ar,t6:()=>y,w_:()=>v,wn:()=>f,yZ:()=>K});const f=9,x=13,w=16,d=17,k=18,P=27,y=32,v=33,M=34,G=35,K=36,V=37,Z=38,J=39,te=40,me=48,de=57,Re=65,je=90,Ht=91,fr=224;function Ar(zr,...si){return si.length?si.some(Ti=>zr[Ti]):zr.altKey||zr.shiftKey||zr.ctrlKey||zr.metaKey}},99327:(en,Ve,E)=>{"use strict";E.d(Ve,{QP:()=>te,Rp:()=>Y});var i=E(54438),u=E(14085),f=E(85052),C=E(82656),x=E(35892),w=E(2573),d=E(17365),k=E(87145),S=E(87996),U=E(36110),P=E(35160),y=E(37925),v=E(36860);const G=new Set;let K,V=(()=>{var $;class H{constructor(B,ce){this._platform=B,this._nonce=ce,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):J}matchMedia(B){return(this._platform.WEBKIT||this._platform.BLINK)&&function Z($,H){if(!G.has($))try{K||(K=document.createElement("style"),H&&K.setAttribute("nonce",H),K.setAttribute("type","text/css"),document.head.appendChild(K)),K.sheet&&(K.sheet.insertRule(`@media ${$} {body{ }}`,0),G.add($))}catch(me){console.error(me)}}(B,this._nonce),this._matchMedia(B)}}return($=H).\u0275fac=function(B){return new(B||$)(i.KVO(v.OD),i.KVO(i.BIS,8))},$.\u0275prov=i.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),H})();function J($){return{matches:"all"===$||""===$,media:$,addListener:()=>{},removeListener:()=>{}}}let te=(()=>{var $;class H{constructor(B,ce){this._mediaMatcher=B,this._zone=ce,this._queries=new Map,this._destroySubject=new f.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(B){return ae((0,u.FG)(B)).some(Oe=>this._registerQuery(Oe).mql.matches)}observe(B){const Oe=ae((0,u.FG)(B)).map(qe=>this._registerQuery(qe).observable);let Ue=(0,C.z)(Oe);return Ue=(0,x.x)(Ue.pipe((0,d.s)(1)),Ue.pipe((0,k.i)(1),(0,S.B)(0))),Ue.pipe((0,U.T)(qe=>{const _e={matches:!1,breakpoints:{}};return qe.forEach(({matches:ht,query:Bt})=>{_e.matches=_e.matches||ht,_e.breakpoints[Bt]=ht}),_e}))}_registerQuery(B){if(this._queries.has(B))return this._queries.get(B);const ce=this._mediaMatcher.matchMedia(B),Ue={observable:new w.c(qe=>{const _e=ht=>this._zone.run(()=>qe.next(ht));return ce.addListener(_e),()=>{ce.removeListener(_e)}}).pipe((0,P.Z)(ce),(0,U.T)(({matches:qe})=>({query:B,matches:qe})),(0,y.Q)(this._destroySubject)),mql:ce};return this._queries.set(B,Ue),Ue}}return($=H).\u0275fac=function(B){return new(B||$)(i.KVO(V),i.KVO(i.SKi))},$.\u0275prov=i.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),H})();function ae($){return $.map(H=>H.split(",")).reduce((H,me)=>H.concat(me)).map(H=>H.trim())}const Y={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:(en,Ve,E)=>{"use strict";E.d(Ve,{w5:()=>w});var i=E(54438);let f=(()=>{var d;class k{create(U){return typeof MutationObserver>"u"?null:new MutationObserver(U)}}return(d=k).\u0275fac=function(U){return new(U||d)},d.\u0275prov=i.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),k})(),w=(()=>{var d;class k{}return(d=k).\u0275fac=function(U){return new(U||d)},d.\u0275mod=i.$C({type:d}),d.\u0275inj=i.G2t({providers:[f]}),k})()},47987:(en,Ve,E)=>{"use strict";E.d(Ve,{Sf:()=>ht,hJ:()=>re,rR:()=>$,yY:()=>Bt,z_:()=>I});var i=E(65478),u=E(60177),f=E(54438),C=E(14085),x=E(36860),w=E(14264),d=E(17365),k=E(37925),S=E(28203),U=E(76939),P=E(85052),y=E(81027),v=E(76718);const M=(0,x.CZ)();class G{constructor(L,ve){this._viewportRuler=L,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ve}attach(){}enable(){if(this._canBeEnabled()){const L=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=L.style.left||"",this._previousHTMLStyles.top=L.style.top||"",L.style.left=(0,C.a1)(-this._previousScrollPosition.left),L.style.top=(0,C.a1)(-this._previousScrollPosition.top),L.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const L=this._document.documentElement,ge=L.style,et=this._document.body.style,Pt=ge.scrollBehavior||"",Rt=et.scrollBehavior||"";this._isEnabled=!1,ge.left=this._previousHTMLStyles.left,ge.top=this._previousHTMLStyles.top,L.classList.remove("cdk-global-scrollblock"),M&&(ge.scrollBehavior=et.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),M&&(ge.scrollBehavior=Pt,et.scrollBehavior=Rt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ve=this._document.body,ge=this._viewportRuler.getViewportSize();return ve.scrollHeight>ge.height||ve.scrollWidth>ge.width}}class V{constructor(L,ve,ge,et){this._scrollDispatcher=L,this._ngZone=ve,this._viewportRuler=ge,this._config=et,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(L){this._overlayRef=L}enable(){if(this._scrollSubscription)return;const L=this._scrollDispatcher.scrolled(0).pipe((0,w.p)(ve=>!ve||!this._overlayRef.overlayElement.contains(ve.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=L.subscribe(()=>{const ve=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ve-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=L.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Z{enable(){}disable(){}attach(){}}function J(se,L){return L.some(ve=>se.bottom<ve.top||se.top>ve.bottom||se.right<ve.left||se.left>ve.right)}function te(se,L){return L.some(ve=>se.top<ve.top||se.bottom>ve.bottom||se.left<ve.left||se.right>ve.right)}class ae{constructor(L,ve,ge,et){this._scrollDispatcher=L,this._viewportRuler=ve,this._ngZone=ge,this._config=et,this._scrollSubscription=null}attach(L){this._overlayRef=L}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ve=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ge,height:et}=this._viewportRuler.getViewportSize();J(ve,[{width:ge,height:et,bottom:et,right:ge,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Y=(()=>{var se;class L{constructor(ge,et,Pt,Rt){this._scrollDispatcher=ge,this._viewportRuler=et,this._ngZone=Pt,this.noop=()=>new Z,this.close=ln=>new V(this._scrollDispatcher,this._ngZone,this._viewportRuler,ln),this.block=()=>new G(this._viewportRuler,this._document),this.reposition=ln=>new ae(this._scrollDispatcher,this._viewportRuler,this._ngZone,ln),this._document=Rt}}return(se=L).\u0275fac=function(ge){return new(ge||se)(f.KVO(i.R),f.KVO(i.Xj),f.KVO(f.SKi),f.KVO(u.qQ))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),L})();class ${constructor(L){if(this.scrollStrategy=new Z,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,L){const ve=Object.keys(L);for(const ge of ve)void 0!==L[ge]&&(this[ge]=L[ge])}}}class B{constructor(L,ve){this.connectionPair=L,this.scrollableViewProperties=ve}}let Ue=(()=>{var se;class L{constructor(ge){this._attachedOverlays=[],this._document=ge}ngOnDestroy(){this.detach()}add(ge){this.remove(ge),this._attachedOverlays.push(ge)}remove(ge){const et=this._attachedOverlays.indexOf(ge);et>-1&&this._attachedOverlays.splice(et,1),0===this._attachedOverlays.length&&this.detach()}}return(se=L).\u0275fac=function(ge){return new(ge||se)(f.KVO(u.qQ))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),L})(),qe=(()=>{var se;class L extends Ue{constructor(ge,et){super(ge),this._ngZone=et,this._keydownListener=Pt=>{const Rt=this._attachedOverlays;for(let ln=Rt.length-1;ln>-1;ln--)if(Rt[ln]._keydownEvents.observers.length>0){const je=Rt[ln]._keydownEvents;this._ngZone?this._ngZone.run(()=>je.next(Pt)):je.next(Pt);break}}}add(ge){super.add(ge),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(se=L).\u0275fac=function(ge){return new(ge||se)(f.KVO(u.qQ),f.KVO(f.SKi,8))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),L})(),_e=(()=>{var se;class L extends Ue{constructor(ge,et,Pt){super(ge),this._platform=et,this._ngZone=Pt,this._cursorStyleIsSet=!1,this._pointerDownListener=Rt=>{this._pointerDownEventTarget=(0,x.Fb)(Rt)},this._clickListener=Rt=>{const ln=(0,x.Fb)(Rt),je="click"===Rt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ln;this._pointerDownEventTarget=null;const Ht=this._attachedOverlays.slice();for(let ut=Ht.length-1;ut>-1;ut--){const jt=Ht[ut];if(jt._outsidePointerEvents.observers.length<1||!jt.hasAttached())continue;if(jt.overlayElement.contains(ln)||jt.overlayElement.contains(je))break;const gn=jt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>gn.next(Rt)):gn.next(Rt)}}}add(ge){if(super.add(ge),!this._isAttached){const et=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(et)):this._addEventListeners(et),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=et.style.cursor,et.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ge=this._document.body;ge.removeEventListener("pointerdown",this._pointerDownListener,!0),ge.removeEventListener("click",this._clickListener,!0),ge.removeEventListener("auxclick",this._clickListener,!0),ge.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ge.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ge){ge.addEventListener("pointerdown",this._pointerDownListener,!0),ge.addEventListener("click",this._clickListener,!0),ge.addEventListener("auxclick",this._clickListener,!0),ge.addEventListener("contextmenu",this._clickListener,!0)}}return(se=L).\u0275fac=function(ge){return new(ge||se)(f.KVO(u.qQ),f.KVO(x.OD),f.KVO(f.SKi,8))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),L})(),ht=(()=>{var se;class L{constructor(ge,et){this._platform=et,this._document=ge}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ge="cdk-overlay-container";if(this._platform.isBrowser||(0,x.v8)()){const Pt=this._document.querySelectorAll(`.${ge}[platform="server"], .${ge}[platform="test"]`);for(let Rt=0;Rt<Pt.length;Rt++)Pt[Rt].remove()}const et=this._document.createElement("div");et.classList.add(ge),(0,x.v8)()?et.setAttribute("platform","test"):this._platform.isBrowser||et.setAttribute("platform","server"),this._document.body.appendChild(et),this._containerElement=et}}return(se=L).\u0275fac=function(ge){return new(ge||se)(f.KVO(u.qQ),f.KVO(x.OD))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),L})();class Bt{constructor(L,ve,ge,et,Pt,Rt,ln,je,Ht,ut=!1){this._portalOutlet=L,this._host=ve,this._pane=ge,this._config=et,this._ngZone=Pt,this._keyboardDispatcher=Rt,this._document=ln,this._location=je,this._outsideClickDispatcher=Ht,this._animationsDisabled=ut,this._backdropElement=null,this._backdropClick=new P.B,this._attachments=new P.B,this._detachments=new P.B,this._locationChanges=y.yU.EMPTY,this._backdropClickHandler=jt=>this._backdropClick.next(jt),this._backdropTransitionendHandler=jt=>{this._disposeBackdrop(jt.target)},this._keydownEvents=new P.B,this._outsidePointerEvents=new P.B,et.scrollStrategy&&(this._scrollStrategy=et.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=et.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(L){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ve=this._portalOutlet.attach(L);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,d.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ve?.onDestroy&&ve.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ve}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const L=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),L}dispose(){const L=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,L&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(L){L!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=L,this.hasAttached()&&(L.attach(this),this.updatePosition()))}updateSize(L){this._config={...this._config,...L},this._updateElementSize()}setDirection(L){this._config={...this._config,direction:L},this._updateElementDirection()}addPanelClass(L){this._pane&&this._toggleClasses(this._pane,L,!0)}removePanelClass(L){this._pane&&this._toggleClasses(this._pane,L,!1)}getDirection(){const L=this._config.direction;return L?"string"==typeof L?L:L.value:"ltr"}updateScrollStrategy(L){L!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=L,this.hasAttached()&&(L.attach(this),L.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const L=this._pane.style;L.width=(0,C.a1)(this._config.width),L.height=(0,C.a1)(this._config.height),L.minWidth=(0,C.a1)(this._config.minWidth),L.minHeight=(0,C.a1)(this._config.minHeight),L.maxWidth=(0,C.a1)(this._config.maxWidth),L.maxHeight=(0,C.a1)(this._config.maxHeight)}_togglePointerEvents(L){this._pane.style.pointerEvents=L?"":"none"}_attachBackdrop(){const L="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(L)})}):this._backdropElement.classList.add(L)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const L=this._backdropElement;if(L){if(this._animationsDisabled)return void this._disposeBackdrop(L);L.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{L.addEventListener("transitionend",this._backdropTransitionendHandler)}),L.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(L)},500))}}_toggleClasses(L,ve,ge){const et=(0,C.FG)(ve||[]).filter(Pt=>!!Pt);et.length&&(ge?L.classList.add(...et):L.classList.remove(...et))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const L=this._ngZone.onStable.pipe((0,k.Q)((0,v.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),L.unsubscribe())})})}_disposeScrollStrategy(){const L=this._scrollStrategy;L&&(L.disable(),L.detach&&L.detach())}_disposeBackdrop(L){L&&(L.removeEventListener("click",this._backdropClickHandler),L.removeEventListener("transitionend",this._backdropTransitionendHandler),L.remove(),this._backdropElement===L&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const de="cdk-overlay-connected-position-bounding-box",R=/([A-Za-z%]+)$/;class j{get positions(){return this._preferredPositions}constructor(L,ve,ge,et,Pt){this._viewportRuler=ve,this._document=ge,this._platform=et,this._overlayContainer=Pt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new P.B,this._resizeSubscription=y.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(L)}attach(L){this._validatePositions(),L.hostElement.classList.add(de),this._overlayRef=L,this._boundingBox=L.hostElement,this._pane=L.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const L=this._originRect,ve=this._overlayRect,ge=this._viewportRect,et=this._containerRect,Pt=[];let Rt;for(let ln of this._preferredPositions){let je=this._getOriginPoint(L,et,ln),Ht=this._getOverlayPoint(je,ve,ln),ut=this._getOverlayFit(Ht,ve,ge,ln);if(ut.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ln,je);this._canFitWithFlexibleDimensions(ut,Ht,ge)?Pt.push({position:ln,origin:je,overlayRect:ve,boundingBoxRect:this._calculateBoundingBoxRect(je,ln)}):(!Rt||Rt.overlayFit.visibleArea<ut.visibleArea)&&(Rt={overlayFit:ut,overlayPoint:Ht,originPoint:je,position:ln,overlayRect:ve})}if(Pt.length){let ln=null,je=-1;for(const Ht of Pt){const ut=Ht.boundingBoxRect.width*Ht.boundingBoxRect.height*(Ht.position.weight||1);ut>je&&(je=ut,ln=Ht)}return this._isPushed=!1,void this._applyPosition(ln.position,ln.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Rt.position,Rt.originPoint);this._applyPosition(Rt.position,Rt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&he(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(de),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const L=this._lastPosition;if(L){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ve=this._getOriginPoint(this._originRect,this._containerRect,L);this._applyPosition(L,ve)}else this.apply()}withScrollableContainers(L){return this._scrollables=L,this}withPositions(L){return this._preferredPositions=L,-1===L.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(L){return this._viewportMargin=L,this}withFlexibleDimensions(L=!0){return this._hasFlexibleDimensions=L,this}withGrowAfterOpen(L=!0){return this._growAfterOpen=L,this}withPush(L=!0){return this._canPush=L,this}withLockedPosition(L=!0){return this._positionLocked=L,this}setOrigin(L){return this._origin=L,this}withDefaultOffsetX(L){return this._offsetX=L,this}withDefaultOffsetY(L){return this._offsetY=L,this}withTransformOriginOn(L){return this._transformOriginSelector=L,this}_getOriginPoint(L,ve,ge){let et,Pt;if("center"==ge.originX)et=L.left+L.width/2;else{const Rt=this._isRtl()?L.right:L.left,ln=this._isRtl()?L.left:L.right;et="start"==ge.originX?Rt:ln}return ve.left<0&&(et-=ve.left),Pt="center"==ge.originY?L.top+L.height/2:"top"==ge.originY?L.top:L.bottom,ve.top<0&&(Pt-=ve.top),{x:et,y:Pt}}_getOverlayPoint(L,ve,ge){let et,Pt;return et="center"==ge.overlayX?-ve.width/2:"start"===ge.overlayX?this._isRtl()?-ve.width:0:this._isRtl()?0:-ve.width,Pt="center"==ge.overlayY?-ve.height/2:"top"==ge.overlayY?0:-ve.height,{x:L.x+et,y:L.y+Pt}}_getOverlayFit(L,ve,ge,et){const Pt=Re(ve);let{x:Rt,y:ln}=L,je=this._getOffset(et,"x"),Ht=this._getOffset(et,"y");je&&(Rt+=je),Ht&&(ln+=Ht);let gn=0-ln,lt=ln+Pt.height-ge.height,bt=this._subtractOverflows(Pt.width,0-Rt,Rt+Pt.width-ge.width),He=this._subtractOverflows(Pt.height,gn,lt),ye=bt*He;return{visibleArea:ye,isCompletelyWithinViewport:Pt.width*Pt.height===ye,fitsInViewportVertically:He===Pt.height,fitsInViewportHorizontally:bt==Pt.width}}_canFitWithFlexibleDimensions(L,ve,ge){if(this._hasFlexibleDimensions){const et=ge.bottom-ve.y,Pt=ge.right-ve.x,Rt=Ce(this._overlayRef.getConfig().minHeight),ln=Ce(this._overlayRef.getConfig().minWidth);return(L.fitsInViewportVertically||null!=Rt&&Rt<=et)&&(L.fitsInViewportHorizontally||null!=ln&&ln<=Pt)}return!1}_pushOverlayOnScreen(L,ve,ge){if(this._previousPushAmount&&this._positionLocked)return{x:L.x+this._previousPushAmount.x,y:L.y+this._previousPushAmount.y};const et=Re(ve),Pt=this._viewportRect,Rt=Math.max(L.x+et.width-Pt.width,0),ln=Math.max(L.y+et.height-Pt.height,0),je=Math.max(Pt.top-ge.top-L.y,0),Ht=Math.max(Pt.left-ge.left-L.x,0);let ut=0,jt=0;return ut=et.width<=Pt.width?Ht||-Rt:L.x<this._viewportMargin?Pt.left-ge.left-L.x:0,jt=et.height<=Pt.height?je||-ln:L.y<this._viewportMargin?Pt.top-ge.top-L.y:0,this._previousPushAmount={x:ut,y:jt},{x:L.x+ut,y:L.y+jt}}_applyPosition(L,ve){if(this._setTransformOrigin(L),this._setOverlayElementStyles(ve,L),this._setBoundingBoxStyles(ve,L),L.panelClass&&this._addPanelClasses(L.panelClass),this._positionChanges.observers.length){const ge=this._getScrollVisibility();if(L!==this._lastPosition||!this._lastScrollVisibility||!function pt(se,L){return se===L||se.isOriginClipped===L.isOriginClipped&&se.isOriginOutsideView===L.isOriginOutsideView&&se.isOverlayClipped===L.isOverlayClipped&&se.isOverlayOutsideView===L.isOverlayOutsideView}(this._lastScrollVisibility,ge)){const et=new B(L,ge);this._positionChanges.next(et)}this._lastScrollVisibility=ge}this._lastPosition=L,this._isInitialRender=!1}_setTransformOrigin(L){if(!this._transformOriginSelector)return;const ve=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ge,et=L.overlayY;ge="center"===L.overlayX?"center":this._isRtl()?"start"===L.overlayX?"right":"left":"start"===L.overlayX?"left":"right";for(let Pt=0;Pt<ve.length;Pt++)ve[Pt].style.transformOrigin=`${ge} ${et}`}_calculateBoundingBoxRect(L,ve){const ge=this._viewportRect,et=this._isRtl();let Pt,Rt,ln,ut,jt,gn;if("top"===ve.overlayY)Rt=L.y,Pt=ge.height-Rt+this._viewportMargin;else if("bottom"===ve.overlayY)ln=ge.height-L.y+2*this._viewportMargin,Pt=ge.height-ln+this._viewportMargin;else{const lt=Math.min(ge.bottom-L.y+ge.top,L.y),bt=this._lastBoundingBoxSize.height;Pt=2*lt,Rt=L.y-lt,Pt>bt&&!this._isInitialRender&&!this._growAfterOpen&&(Rt=L.y-bt/2)}if("end"===ve.overlayX&&!et||"start"===ve.overlayX&&et)gn=ge.width-L.x+2*this._viewportMargin,ut=L.x-this._viewportMargin;else if("start"===ve.overlayX&&!et||"end"===ve.overlayX&&et)jt=L.x,ut=ge.right-L.x;else{const lt=Math.min(ge.right-L.x+ge.left,L.x),bt=this._lastBoundingBoxSize.width;ut=2*lt,jt=L.x-lt,ut>bt&&!this._isInitialRender&&!this._growAfterOpen&&(jt=L.x-bt/2)}return{top:Rt,left:jt,bottom:ln,right:gn,width:ut,height:Pt}}_setBoundingBoxStyles(L,ve){const ge=this._calculateBoundingBoxRect(L,ve);!this._isInitialRender&&!this._growAfterOpen&&(ge.height=Math.min(ge.height,this._lastBoundingBoxSize.height),ge.width=Math.min(ge.width,this._lastBoundingBoxSize.width));const et={};if(this._hasExactPosition())et.top=et.left="0",et.bottom=et.right=et.maxHeight=et.maxWidth="",et.width=et.height="100%";else{const Pt=this._overlayRef.getConfig().maxHeight,Rt=this._overlayRef.getConfig().maxWidth;et.height=(0,C.a1)(ge.height),et.top=(0,C.a1)(ge.top),et.bottom=(0,C.a1)(ge.bottom),et.width=(0,C.a1)(ge.width),et.left=(0,C.a1)(ge.left),et.right=(0,C.a1)(ge.right),et.alignItems="center"===ve.overlayX?"center":"end"===ve.overlayX?"flex-end":"flex-start",et.justifyContent="center"===ve.overlayY?"center":"bottom"===ve.overlayY?"flex-end":"flex-start",Pt&&(et.maxHeight=(0,C.a1)(Pt)),Rt&&(et.maxWidth=(0,C.a1)(Rt))}this._lastBoundingBoxSize=ge,he(this._boundingBox.style,et)}_resetBoundingBoxStyles(){he(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){he(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(L,ve){const ge={},et=this._hasExactPosition(),Pt=this._hasFlexibleDimensions,Rt=this._overlayRef.getConfig();if(et){const ut=this._viewportRuler.getViewportScrollPosition();he(ge,this._getExactOverlayY(ve,L,ut)),he(ge,this._getExactOverlayX(ve,L,ut))}else ge.position="static";let ln="",je=this._getOffset(ve,"x"),Ht=this._getOffset(ve,"y");je&&(ln+=`translateX(${je}px) `),Ht&&(ln+=`translateY(${Ht}px)`),ge.transform=ln.trim(),Rt.maxHeight&&(et?ge.maxHeight=(0,C.a1)(Rt.maxHeight):Pt&&(ge.maxHeight="")),Rt.maxWidth&&(et?ge.maxWidth=(0,C.a1)(Rt.maxWidth):Pt&&(ge.maxWidth="")),he(this._pane.style,ge)}_getExactOverlayY(L,ve,ge){let et={top:"",bottom:""},Pt=this._getOverlayPoint(ve,this._overlayRect,L);return this._isPushed&&(Pt=this._pushOverlayOnScreen(Pt,this._overlayRect,ge)),"bottom"===L.overlayY?et.bottom=this._document.documentElement.clientHeight-(Pt.y+this._overlayRect.height)+"px":et.top=(0,C.a1)(Pt.y),et}_getExactOverlayX(L,ve,ge){let Rt,et={left:"",right:""},Pt=this._getOverlayPoint(ve,this._overlayRect,L);return this._isPushed&&(Pt=this._pushOverlayOnScreen(Pt,this._overlayRect,ge)),Rt=this._isRtl()?"end"===L.overlayX?"left":"right":"end"===L.overlayX?"right":"left","right"===Rt?et.right=this._document.documentElement.clientWidth-(Pt.x+this._overlayRect.width)+"px":et.left=(0,C.a1)(Pt.x),et}_getScrollVisibility(){const L=this._getOriginRect(),ve=this._pane.getBoundingClientRect(),ge=this._scrollables.map(et=>et.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:te(L,ge),isOriginOutsideView:J(L,ge),isOverlayClipped:te(ve,ge),isOverlayOutsideView:J(ve,ge)}}_subtractOverflows(L,...ve){return ve.reduce((ge,et)=>ge-Math.max(et,0),L)}_getNarrowedViewportRect(){const L=this._document.documentElement.clientWidth,ve=this._document.documentElement.clientHeight,ge=this._viewportRuler.getViewportScrollPosition();return{top:ge.top+this._viewportMargin,left:ge.left+this._viewportMargin,right:ge.left+L-this._viewportMargin,bottom:ge.top+ve-this._viewportMargin,width:L-2*this._viewportMargin,height:ve-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(L,ve){return"x"===ve?null==L.offsetX?this._offsetX:L.offsetX:null==L.offsetY?this._offsetY:L.offsetY}_validatePositions(){}_addPanelClasses(L){this._pane&&(0,C.FG)(L).forEach(ve=>{""!==ve&&-1===this._appliedPanelClasses.indexOf(ve)&&(this._appliedPanelClasses.push(ve),this._pane.classList.add(ve))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(L=>{this._pane.classList.remove(L)}),this._appliedPanelClasses=[])}_getOriginRect(){const L=this._origin;if(L instanceof f.aKT)return L.nativeElement.getBoundingClientRect();if(L instanceof Element)return L.getBoundingClientRect();const ve=L.width||0,ge=L.height||0;return{top:L.y,bottom:L.y+ge,left:L.x,right:L.x+ve,height:ge,width:ve}}}function he(se,L){for(let ve in L)L.hasOwnProperty(ve)&&(se[ve]=L[ve]);return se}function Ce(se){if("number"!=typeof se&&null!=se){const[L,ve]=se.split(R);return ve&&"px"!==ve?null:parseFloat(L)}return se||null}function Re(se){return{top:Math.floor(se.top),right:Math.floor(se.right),bottom:Math.floor(se.bottom),left:Math.floor(se.left),width:Math.floor(se.width),height:Math.floor(se.height)}}const It="cdk-global-overlay-wrapper";class Ne{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(L){const ve=L.getConfig();this._overlayRef=L,this._width&&!ve.width&&L.updateSize({width:this._width}),this._height&&!ve.height&&L.updateSize({height:this._height}),L.hostElement.classList.add(It),this._isDisposed=!1}top(L=""){return this._bottomOffset="",this._topOffset=L,this._alignItems="flex-start",this}left(L=""){return this._xOffset=L,this._xPosition="left",this}bottom(L=""){return this._topOffset="",this._bottomOffset=L,this._alignItems="flex-end",this}right(L=""){return this._xOffset=L,this._xPosition="right",this}start(L=""){return this._xOffset=L,this._xPosition="start",this}end(L=""){return this._xOffset=L,this._xPosition="end",this}width(L=""){return this._overlayRef?this._overlayRef.updateSize({width:L}):this._width=L,this}height(L=""){return this._overlayRef?this._overlayRef.updateSize({height:L}):this._height=L,this}centerHorizontally(L=""){return this.left(L),this._xPosition="center",this}centerVertically(L=""){return this.top(L),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const L=this._overlayRef.overlayElement.style,ve=this._overlayRef.hostElement.style,ge=this._overlayRef.getConfig(),{width:et,height:Pt,maxWidth:Rt,maxHeight:ln}=ge,je=!("100%"!==et&&"100vw"!==et||Rt&&"100%"!==Rt&&"100vw"!==Rt),Ht=!("100%"!==Pt&&"100vh"!==Pt||ln&&"100%"!==ln&&"100vh"!==ln),ut=this._xPosition,jt=this._xOffset,gn="rtl"===this._overlayRef.getConfig().direction;let lt="",bt="",He="";je?He="flex-start":"center"===ut?(He="center",gn?bt=jt:lt=jt):gn?"left"===ut||"end"===ut?(He="flex-end",lt=jt):("right"===ut||"start"===ut)&&(He="flex-start",bt=jt):"left"===ut||"start"===ut?(He="flex-start",lt=jt):("right"===ut||"end"===ut)&&(He="flex-end",bt=jt),L.position=this._cssPosition,L.marginLeft=je?"0":lt,L.marginTop=Ht?"0":this._topOffset,L.marginBottom=this._bottomOffset,L.marginRight=je?"0":bt,ve.justifyContent=He,ve.alignItems=Ht?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const L=this._overlayRef.overlayElement.style,ve=this._overlayRef.hostElement,ge=ve.style;ve.classList.remove(It),ge.justifyContent=ge.alignItems=L.marginTop=L.marginBottom=L.marginLeft=L.marginRight=L.position="",this._overlayRef=null,this._isDisposed=!0}}let Xe=(()=>{var se;class L{constructor(ge,et,Pt,Rt){this._viewportRuler=ge,this._document=et,this._platform=Pt,this._overlayContainer=Rt}global(){return new Ne}flexibleConnectedTo(ge){return new j(ge,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(se=L).\u0275fac=function(ge){return new(ge||se)(f.KVO(i.Xj),f.KVO(u.qQ),f.KVO(x.OD),f.KVO(ht))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),L})(),Ot=0,re=(()=>{var se;class L{constructor(ge,et,Pt,Rt,ln,je,Ht,ut,jt,gn,lt,bt){this.scrollStrategies=ge,this._overlayContainer=et,this._componentFactoryResolver=Pt,this._positionBuilder=Rt,this._keyboardDispatcher=ln,this._injector=je,this._ngZone=Ht,this._document=ut,this._directionality=jt,this._location=gn,this._outsideClickDispatcher=lt,this._animationsModuleType=bt}create(ge){const et=this._createHostElement(),Pt=this._createPaneElement(et),Rt=this._createPortalOutlet(Pt),ln=new $(ge);return ln.direction=ln.direction||this._directionality.value,new Bt(Rt,et,Pt,ln,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ge){const et=this._document.createElement("div");return et.id="cdk-overlay-"+Ot++,et.classList.add("cdk-overlay-pane"),ge.appendChild(et),et}_createHostElement(){const ge=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ge),ge}_createPortalOutlet(ge){return this._appRef||(this._appRef=this._injector.get(f.o8S)),new U.aI(ge,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(se=L).\u0275fac=function(ge){return new(ge||se)(f.KVO(Y),f.KVO(ht),f.KVO(f.OM3),f.KVO(Xe),f.KVO(qe),f.KVO(f.zZn),f.KVO(f.SKi),f.KVO(u.qQ),f.KVO(S.dS),f.KVO(u.aZ),f.KVO(_e),f.KVO(f.bc$,8))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),L})();const p={provide:new f.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const se=(0,f.WQX)(re);return()=>se.scrollStrategies.reposition()}}),deps:[re],useFactory:function z(se){return()=>se.scrollStrategies.reposition()}};let I=(()=>{var se;class L{}return(se=L).\u0275fac=function(ge){return new(ge||se)},se.\u0275mod=f.$C({type:se}),se.\u0275inj=f.G2t({providers:[re,p],imports:[S.jI,U.jc,i.E9,i.E9]}),L})()},36860:(en,Ve,E)=>{"use strict";E.d(Ve,{BD:()=>K,BQ:()=>P,CZ:()=>G,Fb:()=>ae,KT:()=>J,OD:()=>C,r5:()=>y,v8:()=>Y,vc:()=>te});var i=E(54438),u=E(60177);let f;try{f=typeof Intl<"u"&&Intl.v8BreakIterator}catch{f=!1}let S,C=(()=>{var $;class H{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,u.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return($=H).\u0275fac=function(B){return new(B||$)(i.KVO(i.Agw))},$.\u0275prov=i.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),H})();function P($){return function U(){if(null==S&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>S=!0}))}finally{S=S||!1}return S}()?$:!!$.capture}var y=function($){return $[$.NORMAL=0]="NORMAL",$[$.NEGATED=1]="NEGATED",$[$.INVERTED=2]="INVERTED",$}(y||{});let v,M,V;function G(){if(null==M){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return M=!1,M;if("scrollBehavior"in document.documentElement.style)M=!0;else{const $=Element.prototype.scrollTo;M=!!$&&!/\{\s*\[native code\]\s*\}/.test($.toString())}}return M}function K(){if("object"!=typeof document||!document)return y.NORMAL;if(null==v){const $=document.createElement("div"),H=$.style;$.dir="rtl",H.width="1px",H.overflow="auto",H.visibility="hidden",H.pointerEvents="none",H.position="absolute";const me=document.createElement("div"),B=me.style;B.width="2px",B.height="1px",$.appendChild(me),document.body.appendChild($),v=y.NORMAL,0===$.scrollLeft&&($.scrollLeft=1,v=0===$.scrollLeft?y.NEGATED:y.INVERTED),$.remove()}return v}function J($){if(function Z(){if(null==V){const $=typeof document<"u"?document.head:null;V=!(!$||!$.createShadowRoot&&!$.attachShadow)}return V}()){const H=$.getRootNode?$.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&H instanceof ShadowRoot)return H}return null}function te(){let $=typeof document<"u"&&document?document.activeElement:null;for(;$&&$.shadowRoot;){const H=$.shadowRoot.activeElement;if(H===$)break;$=H}return $}function ae($){return $.composedPath?$.composedPath()[0]:$.target}function Y(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(en,Ve,E)=>{"use strict";E.d(Ve,{A8:()=>U,I3:()=>J,JP:()=>Y,VA:()=>P,aI:()=>G,jc:()=>ae,lb:()=>v});var i=E(54438),u=E(60177);class S{attach(H){return this._attachedHost=H,H.attach(this)}detach(){let H=this._attachedHost;null!=H&&(this._attachedHost=null,H.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(H){this._attachedHost=H}}class U extends S{constructor(H,me,B,ce,Oe){super(),this.component=H,this.viewContainerRef=me,this.injector=B,this.componentFactoryResolver=ce,this.projectableNodes=Oe}}class P extends S{constructor(H,me,B,ce){super(),this.templateRef=H,this.viewContainerRef=me,this.context=B,this.injector=ce}get origin(){return this.templateRef.elementRef}attach(H,me=this.context){return this.context=me,super.attach(H)}detach(){return this.context=void 0,super.detach()}}class y extends S{constructor(H){super(),this.element=H instanceof i.aKT?H.nativeElement:H}}class v{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(H){return H instanceof U?(this._attachedPortal=H,this.attachComponentPortal(H)):H instanceof P?(this._attachedPortal=H,this.attachTemplatePortal(H)):this.attachDomPortal&&H instanceof y?(this._attachedPortal=H,this.attachDomPortal(H)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(H){this._disposeFn=H}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class G extends v{constructor(H,me,B,ce,Oe){super(),this.outletElement=H,this._componentFactoryResolver=me,this._appRef=B,this._defaultInjector=ce,this.attachDomPortal=Ue=>{const qe=Ue.element,_e=this._document.createComment("dom-portal");qe.parentNode.insertBefore(_e,qe),this.outletElement.appendChild(qe),this._attachedPortal=Ue,super.setDisposeFn(()=>{_e.parentNode&&_e.parentNode.replaceChild(qe,_e)})},this._document=Oe}attachComponentPortal(H){const B=(H.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(H.component);let ce;return H.viewContainerRef?(ce=H.viewContainerRef.createComponent(B,H.viewContainerRef.length,H.injector||H.viewContainerRef.injector,H.projectableNodes||void 0),this.setDisposeFn(()=>ce.destroy())):(ce=B.create(H.injector||this._defaultInjector||i.zZn.NULL),this._appRef.attachView(ce.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ce.hostView),ce.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ce)),this._attachedPortal=H,ce}attachTemplatePortal(H){let me=H.viewContainerRef,B=me.createEmbeddedView(H.templateRef,H.context,{injector:H.injector});return B.rootNodes.forEach(ce=>this.outletElement.appendChild(ce)),B.detectChanges(),this.setDisposeFn(()=>{let ce=me.indexOf(B);-1!==ce&&me.remove(ce)}),this._attachedPortal=H,B}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(H){return H.hostView.rootNodes[0]}}let J=(()=>{var $;class H extends v{constructor(B,ce,Oe){super(),this._componentFactoryResolver=B,this._viewContainerRef=ce,this._isInitialized=!1,this.attached=new i.bkB,this.attachDomPortal=Ue=>{const qe=Ue.element,_e=this._document.createComment("dom-portal");Ue.setAttachedHost(this),qe.parentNode.insertBefore(_e,qe),this._getRootNode().appendChild(qe),this._attachedPortal=Ue,super.setDisposeFn(()=>{_e.parentNode&&_e.parentNode.replaceChild(qe,_e)})},this._document=Oe}get portal(){return this._attachedPortal}set portal(B){this.hasAttached()&&!B&&!this._isInitialized||(this.hasAttached()&&super.detach(),B&&super.attach(B),this._attachedPortal=B||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(B){B.setAttachedHost(this);const ce=null!=B.viewContainerRef?B.viewContainerRef:this._viewContainerRef,Ue=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component),qe=ce.createComponent(Ue,ce.length,B.injector||ce.injector,B.projectableNodes||void 0);return ce!==this._viewContainerRef&&this._getRootNode().appendChild(qe.hostView.rootNodes[0]),super.setDisposeFn(()=>qe.destroy()),this._attachedPortal=B,this._attachedRef=qe,this.attached.emit(qe),qe}attachTemplatePortal(B){B.setAttachedHost(this);const ce=this._viewContainerRef.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=B,this._attachedRef=ce,this.attached.emit(ce),ce}_getRootNode(){const B=this._viewContainerRef.element.nativeElement;return B.nodeType===B.ELEMENT_NODE?B:B.parentNode}}return($=H).\u0275fac=function(B){return new(B||$)(i.rXU(i.OM3),i.rXU(i.c1b),i.rXU(u.qQ))},$.\u0275dir=i.FsC({type:$,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[i.Mj6.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[i.Vt3]}),H})(),ae=(()=>{var $;class H{}return($=H).\u0275fac=function(B){return new(B||$)},$.\u0275mod=i.$C({type:$}),$.\u0275inj=i.G2t({}),H})();class Y{constructor(H,me){this._parentInjector=H,this._customTokens=me}get(H,me){const B=this._customTokens.get(H);return typeof B<"u"?B:this._parentInjector.get(H,me)}}},65478:(en,Ve,E)=>{"use strict";E.d(Ve,{E$:()=>pt,E9:()=>Ne,Gj:()=>It,R:()=>qe,Xj:()=>Bt,d6:()=>Ce,yg:()=>Oe});var i=E(14085),u=E(54438),f=E(85052),C=E(15877),x=E(2573),w=E(35426),d=E(40798),k=E(82755),S=E(81027),U=E(28454),P=E(21082),y=E(9065),v=E(14264),M=E(37925),G=E(35160),K=E(1670),V=E(32914),Z=E(49784),J=E(36860),te=E(60177),ae=E(28203),Y=E(45024);const $=["contentWrapper"],H=["*"],me=new u.nKC("VIRTUAL_SCROLL_STRATEGY");class B{constructor(Ot,re,D){this._scrolledIndexChange=new f.B,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,P.F)()),this._viewport=null,this._itemSize=Ot,this._minBufferPx=re,this._maxBufferPx=D}attach(Ot){this._viewport=Ot,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Ot,re,D){this._itemSize=Ot,this._minBufferPx=re,this._maxBufferPx=D,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Ot,re){this._viewport&&this._viewport.scrollToOffset(Ot*this._itemSize,re)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Ot=this._viewport.getRenderedRange(),re={start:Ot.start,end:Ot.end},D=this._viewport.getViewportSize(),F=this._viewport.getDataLength();let T=this._viewport.measureScrollOffset(),W=this._itemSize>0?T/this._itemSize:0;if(re.end>F){const p=Math.ceil(D/this._itemSize),I=Math.max(0,Math.min(W,F-p));W!=I&&(W=I,T=I*this._itemSize,re.start=Math.floor(W)),re.end=Math.max(0,Math.min(F,re.start+p))}const z=T-re.start*this._itemSize;if(z<this._minBufferPx&&0!=re.start){const p=Math.ceil((this._maxBufferPx-z)/this._itemSize);re.start=Math.max(0,re.start-p),re.end=Math.min(F,Math.ceil(W+(D+this._minBufferPx)/this._itemSize))}else{const p=re.end*this._itemSize-(T+D);if(p<this._minBufferPx&&re.end!=F){const I=Math.ceil((this._maxBufferPx-p)/this._itemSize);I>0&&(re.end=Math.min(F,re.end+I),re.start=Math.max(0,Math.floor(W-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(re),this._viewport.setRenderedContentOffset(this._itemSize*re.start),this._scrolledIndexChange.next(Math.floor(W))}}function ce(Xe){return Xe._scrollStrategy}let Oe=(()=>{var Xe;class Ot{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new B(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(D){this._itemSize=(0,i.OE)(D)}get minBufferPx(){return this._minBufferPx}set minBufferPx(D){this._minBufferPx=(0,i.OE)(D)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(D){this._maxBufferPx=(0,i.OE)(D)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)},Xe.\u0275dir=u.FsC({type:Xe,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[u.Jv_([{provide:me,useFactory:ce,deps:[(0,u.Rfq)(()=>Xe)]}]),u.OA$]}),Ot})(),qe=(()=>{var Xe;class Ot{constructor(D,F,T){this._ngZone=D,this._platform=F,this._scrolled=new f.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=T}register(D){this.scrollContainers.has(D)||this.scrollContainers.set(D,D.elementScrolled().subscribe(()=>this._scrolled.next(D)))}deregister(D){const F=this.scrollContainers.get(D);F&&(F.unsubscribe(),this.scrollContainers.delete(D))}scrolled(D=20){return this._platform.isBrowser?new x.c(F=>{this._globalSubscription||this._addGlobalListener();const T=D>0?this._scrolled.pipe((0,y.Z)(D)).subscribe(F):this._scrolled.subscribe(F);return this._scrolledCount++,()=>{T.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,C.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((D,F)=>this.deregister(F)),this._scrolled.complete()}ancestorScrolled(D,F){const T=this.getAncestorScrollContainers(D);return this.scrolled(F).pipe((0,v.p)(W=>!W||T.indexOf(W)>-1))}getAncestorScrollContainers(D){const F=[];return this.scrollContainers.forEach((T,W)=>{this._scrollableContainsElement(W,D)&&F.push(W)}),F}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(D,F){let T=(0,i.i8)(F),W=D.getElementRef().nativeElement;do{if(T==W)return!0}while(T=T.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const D=this._getWindow();return(0,w.R)(D.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)(u.KVO(u.SKi),u.KVO(J.OD),u.KVO(te.qQ,8))},Xe.\u0275prov=u.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Ot})(),_e=(()=>{var Xe;class Ot{constructor(D,F,T,W){this.elementRef=D,this.scrollDispatcher=F,this.ngZone=T,this.dir=W,this._destroyed=new f.B,this._elementScrolled=new x.c(z=>this.ngZone.runOutsideAngular(()=>(0,w.R)(this.elementRef.nativeElement,"scroll").pipe((0,M.Q)(this._destroyed)).subscribe(z)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(D){const F=this.elementRef.nativeElement,T=this.dir&&"rtl"==this.dir.value;null==D.left&&(D.left=T?D.end:D.start),null==D.right&&(D.right=T?D.start:D.end),null!=D.bottom&&(D.top=F.scrollHeight-F.clientHeight-D.bottom),T&&(0,J.BD)()!=J.r5.NORMAL?(null!=D.left&&(D.right=F.scrollWidth-F.clientWidth-D.left),(0,J.BD)()==J.r5.INVERTED?D.left=D.right:(0,J.BD)()==J.r5.NEGATED&&(D.left=D.right?-D.right:D.right)):null!=D.right&&(D.left=F.scrollWidth-F.clientWidth-D.right),this._applyScrollToOptions(D)}_applyScrollToOptions(D){const F=this.elementRef.nativeElement;(0,J.CZ)()?F.scrollTo(D):(null!=D.top&&(F.scrollTop=D.top),null!=D.left&&(F.scrollLeft=D.left))}measureScrollOffset(D){const F="left",T="right",W=this.elementRef.nativeElement;if("top"==D)return W.scrollTop;if("bottom"==D)return W.scrollHeight-W.clientHeight-W.scrollTop;const z=this.dir&&"rtl"==this.dir.value;return"start"==D?D=z?T:F:"end"==D&&(D=z?F:T),z&&(0,J.BD)()==J.r5.INVERTED?D==F?W.scrollWidth-W.clientWidth-W.scrollLeft:W.scrollLeft:z&&(0,J.BD)()==J.r5.NEGATED?D==F?W.scrollLeft+W.scrollWidth-W.clientWidth:-W.scrollLeft:D==F?W.scrollLeft:W.scrollWidth-W.clientWidth-W.scrollLeft}}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)(u.rXU(u.aKT),u.rXU(qe),u.rXU(u.SKi),u.rXU(ae.dS,8))},Xe.\u0275dir=u.FsC({type:Xe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),Ot})(),Bt=(()=>{var Xe;class Ot{constructor(D,F,T){this._platform=D,this._change=new f.B,this._changeListener=W=>{this._change.next(W)},this._document=T,F.runOutsideAngular(()=>{if(D.isBrowser){const W=this._getWindow();W.addEventListener("resize",this._changeListener),W.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const D=this._getWindow();D.removeEventListener("resize",this._changeListener),D.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const D={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),D}getViewportRect(){const D=this.getViewportScrollPosition(),{width:F,height:T}=this.getViewportSize();return{top:D.top,left:D.left,bottom:D.top+T,right:D.left+F,height:T,width:F}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const D=this._document,F=this._getWindow(),T=D.documentElement,W=T.getBoundingClientRect();return{top:-W.top||D.body.scrollTop||F.scrollY||T.scrollTop||0,left:-W.left||D.body.scrollLeft||F.scrollX||T.scrollLeft||0}}change(D=20){return D>0?this._change.pipe((0,y.Z)(D)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const D=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:D.innerWidth,height:D.innerHeight}:{width:0,height:0}}}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)(u.KVO(J.OD),u.KVO(u.SKi),u.KVO(te.qQ,8))},Xe.\u0275prov=u.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Ot})();const de=new u.nKC("VIRTUAL_SCROLLABLE");let R=(()=>{var Xe;class Ot extends _e{constructor(D,F,T,W){super(D,F,T,W)}measureViewportSize(D){const F=this.elementRef.nativeElement;return"horizontal"===D?F.clientWidth:F.clientHeight}}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)(u.rXU(u.aKT),u.rXU(qe),u.rXU(u.SKi),u.rXU(ae.dS,8))},Xe.\u0275dir=u.FsC({type:Xe,features:[u.Vt3]}),Ot})();const he=typeof requestAnimationFrame<"u"?d.X:k.$;let Ce=(()=>{var Xe;class Ot extends R{get orientation(){return this._orientation}set orientation(D){this._orientation!==D&&(this._orientation=D,this._calculateSpacerSize())}constructor(D,F,T,W,z,p,I,Ae){super(D,p,T,z),this.elementRef=D,this._changeDetectorRef=F,this._scrollStrategy=W,this.scrollable=Ae,this._platform=(0,u.WQX)(J.OD),this._detachedSubject=new f.B,this._renderedRangeSubject=new f.B,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new x.c(se=>this._scrollStrategy.scrolledIndexChange.subscribe(L=>Promise.resolve().then(()=>this.ngZone.run(()=>se.next(L))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=S.yU.EMPTY,this._viewportChanges=I.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,G.Z)(null),(0,y.Z)(0,he),(0,M.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(D){this.ngZone.runOutsideAngular(()=>{this._forOf=D,this._forOf.dataStream.pipe((0,M.Q)(this._detachedSubject)).subscribe(F=>{const T=F.length;T!==this._dataLength&&(this._dataLength=T,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(D){return this.getElementRef().nativeElement.getBoundingClientRect()[D]}setTotalContentSize(D){this._totalContentSize!==D&&(this._totalContentSize=D,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(D){(function j(Xe,Ot){return Xe.start==Ot.start&&Xe.end==Ot.end})(this._renderedRange,D)||(this.appendOnly&&(D={start:0,end:Math.max(this._renderedRange.end,D.end)}),this._renderedRangeSubject.next(this._renderedRange=D),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(D,F="to-start"){D=this.appendOnly&&"to-start"===F?0:D;const W="horizontal"==this.orientation,z=W?"X":"Y";let I=`translate${z}(${Number((W&&this.dir&&"rtl"==this.dir.value?-1:1)*D)}px)`;this._renderedContentOffset=D,"to-end"===F&&(I+=` translate${z}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=I&&(this._renderedContentTransform=I,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(D,F="auto"){const T={behavior:F};"horizontal"===this.orientation?T.start=D:T.top=D,this.scrollable.scrollTo(T)}scrollToIndex(D,F="auto"){this._scrollStrategy.scrollToIndex(D,F)}measureScrollOffset(D){let F;return F=this.scrollable==this?T=>super.measureScrollOffset(T):T=>this.scrollable.measureScrollOffset(T),Math.max(0,F(D??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(D){let F;const T="left",W="right",z="rtl"==this.dir?.value;F="start"==D?z?W:T:"end"==D?z?T:W:D||("horizontal"===this.orientation?"left":"top");const p=this.scrollable.measureBoundingClientRectWithScrollOffset(F);return this.elementRef.nativeElement.getBoundingClientRect()[F]-p}measureRenderedContentSize(){const D=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?D.offsetWidth:D.offsetHeight}measureRangeSize(D){return this._forOf?this._forOf.measureRangeSize(D,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(D){D&&this._runAfterChangeDetection.push(D),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const D=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const F of D)F()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)(u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(u.SKi),u.rXU(me,8),u.rXU(ae.dS,8),u.rXU(qe),u.rXU(Bt),u.rXU(de,8))},Xe.\u0275cmp=u.VBU({type:Xe,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(D,F){if(1&D&&u.GBs($,7),2&D){let T;u.mGM(T=u.lsd())&&(F._contentWrapper=T.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(D,F){2&D&&u.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===F.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==F.orientation)},inputs:{orientation:"orientation",appendOnly:[u.Mj6.HasDecoratorInputTransform,"appendOnly","appendOnly",u.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[u.Jv_([{provide:_e,useFactory:(re,D)=>re||D,deps:[[new u.Xx1,new u.y_5(de)],Xe]}]),u.GFd,u.Vt3,u.aNF],ngContentSelectors:H,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(D,F){1&D&&(u.NAR(),u.j41(0,"div",1,0),u.SdG(2),u.k0s(),u.nrm(3,"div",2)),2&D&&(u.R7$(3),u.xc7("width",F._totalContentWidth)("height",F._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),Ot})();function Re(Xe,Ot,re){if(!re.getBoundingClientRect)return 0;const F=re.getBoundingClientRect();return"horizontal"===Xe?"start"===Ot?F.left:F.right:"start"===Ot?F.top:F.bottom}let pt=(()=>{var Xe;class Ot{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(D){this._cdkVirtualForOf=D,(0,Y.y4)(D)?this._dataSourceChanges.next(D):this._dataSourceChanges.next(new Y.hx((0,U.A)(D)?D:Array.from(D||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(D){this._needsUpdate=!0,this._cdkVirtualForTrackBy=D?(F,T)=>D(F+(this._renderedRange?this._renderedRange.start:0),T):void 0}set cdkVirtualForTemplate(D){D&&(this._needsUpdate=!0,this._template=D)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(D){this._viewRepeater.viewCacheSize=(0,i.OE)(D)}constructor(D,F,T,W,z,p){this._viewContainerRef=D,this._template=F,this._differs=T,this._viewRepeater=W,this._viewport=z,this.viewChange=new f.B,this._dataSourceChanges=new f.B,this.dataStream=this._dataSourceChanges.pipe((0,G.Z)(null),(0,K.J)(),(0,V.n)(([I,Ae])=>this._changeDataSource(I,Ae)),(0,Z.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new f.B,this.dataStream.subscribe(I=>{this._data=I,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,M.Q)(this._destroyed)).subscribe(I=>{this._renderedRange=I,this.viewChange.observers.length&&p.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(D,F){if(D.start>=D.end)return 0;const T=D.start-this._renderedRange.start,W=D.end-D.start;let z,p;for(let I=0;I<W;I++){const Ae=this._viewContainerRef.get(I+T);if(Ae&&Ae.rootNodes.length){z=p=Ae.rootNodes[0];break}}for(let I=W-1;I>-1;I--){const Ae=this._viewContainerRef.get(I+T);if(Ae&&Ae.rootNodes.length){p=Ae.rootNodes[Ae.rootNodes.length-1];break}}return z&&p?Re(F,"end",p)-Re(F,"start",z):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const D=this._differ.diff(this._renderedItems);D?this._applyChanges(D):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((D,F)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(D,F):F)),this._needsUpdate=!0)}_changeDataSource(D,F){return D&&D.disconnect(this),this._needsUpdate=!0,F?F.connect(this):(0,C.of)()}_updateContext(){const D=this._data.length;let F=this._viewContainerRef.length;for(;F--;){const T=this._viewContainerRef.get(F);T.context.index=this._renderedRange.start+F,T.context.count=D,this._updateComputedContextProperties(T.context),T.detectChanges()}}_applyChanges(D){this._viewRepeater.applyChanges(D,this._viewContainerRef,(W,z,p)=>this._getEmbeddedViewArgs(W,p),W=>W.item),D.forEachIdentityChange(W=>{this._viewContainerRef.get(W.currentIndex).context.$implicit=W.item});const F=this._data.length;let T=this._viewContainerRef.length;for(;T--;){const W=this._viewContainerRef.get(T);W.context.index=this._renderedRange.start+T,W.context.count=F,this._updateComputedContextProperties(W.context)}}_updateComputedContextProperties(D){D.first=0===D.index,D.last=D.index===D.count-1,D.even=D.index%2==0,D.odd=!D.even}_getEmbeddedViewArgs(D,F){return{templateRef:this._template,context:{$implicit:D.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:F}}}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(u._q3),u.rXU(Y.sL),u.rXU(Ce,4),u.rXU(u.SKi))},Xe.\u0275dir=u.FsC({type:Xe,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[u.Jv_([{provide:Y.sL,useClass:Y.DQ}])]}),Ot})(),It=(()=>{var Xe;class Ot{}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)},Xe.\u0275mod=u.$C({type:Xe}),Xe.\u0275inj=u.G2t({}),Ot})(),Ne=(()=>{var Xe;class Ot{}return(Xe=Ot).\u0275fac=function(D){return new(D||Xe)},Xe.\u0275mod=u.$C({type:Xe}),Xe.\u0275inj=u.G2t({imports:[ae.jI,It,ae.jI,It]}),Ot})()},45887:(en,Ve,E)=>{"use strict";E.d(Ve,{N0:()=>jt}),E(28203),E(45024),E(36860);var C=E(65478),w=(E(60177),E(54438));E(85052),E(21472),E(29160),E(28454),E(15877),E(37925),E(17365);let jt=(()=>{var lt;class bt{}return(lt=bt).\u0275fac=function(ye){return new(ye||lt)},lt.\u0275mod=w.$C({type:lt}),lt.\u0275inj=w.G2t({imports:[C.E9]}),bt})()},64109:(en,Ve,E)=>{"use strict";E.d(Ve,{Dc:()=>ht}),E(45024),E(28454),E(85052),E(29160),E(15877),E(17365),E(14264),E(37925);var S=E(54438);E(28203);let ht=(()=>{var Bt;class de{}return(Bt=de).\u0275fac=function(j){return new(j||Bt)},Bt.\u0275mod=S.$C({type:Bt}),Bt.\u0275inj=S.G2t({}),de})()},60177:(en,Ve,E)=>{"use strict";E.d(Ve,{AJ:()=>ys,B3:()=>fn,EO:()=>Pe,Jj:()=>Hi,MD:()=>Ns,N0:()=>pr,OI:()=>nr,PV:()=>Ro,QT:()=>f,QX:()=>Ri,Sm:()=>K,Sq:()=>tt,T3:()=>ze,UE:()=>Lo,VF:()=>x,Vy:()=>pa,Xr:()=>Ds,YU:()=>Gn,Yq:()=>ln,ZD:()=>C,_b:()=>dt,aZ:()=>Z,bT:()=>Ar,e1:()=>Oi,fG:()=>so,fw:()=>V,hb:()=>M,hj:()=>S,kB:()=>G,qQ:()=>d,ux:()=>ai});var i=E(54438);let u=null;function f(){return u}function C(xe){u??=xe}class x{}const d=new i.nKC("");let k=(()=>{var xe;class vt{historyGo(Ze){throw new Error("")}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)},xe.\u0275prov=i.jDH({token:xe,factory:()=>(0,i.WQX)(U),providedIn:"platform"}),vt})();const S=new i.nKC("");let U=(()=>{var xe;class vt extends k{constructor(){super(),this._doc=(0,i.WQX)(d),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return f().getBaseHref(this._doc)}onPopState(Ze){const Tn=f().getGlobalEventTarget(this._doc,"window");return Tn.addEventListener("popstate",Ze,!1),()=>Tn.removeEventListener("popstate",Ze)}onHashChange(Ze){const Tn=f().getGlobalEventTarget(this._doc,"window");return Tn.addEventListener("hashchange",Ze,!1),()=>Tn.removeEventListener("hashchange",Ze)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ze){this._location.pathname=Ze}pushState(Ze,Tn,vr){this._history.pushState(Ze,Tn,vr)}replaceState(Ze,Tn,vr){this._history.replaceState(Ze,Tn,vr)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ze=0){this._history.go(Ze)}getState(){return this._history.state}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)},xe.\u0275prov=i.jDH({token:xe,factory:()=>new xe,providedIn:"platform"}),vt})();function P(xe,vt){if(0==xe.length)return vt;if(0==vt.length)return xe;let Nn=0;return xe.endsWith("/")&&Nn++,vt.startsWith("/")&&Nn++,2==Nn?xe+vt.substring(1):1==Nn?xe+vt:xe+"/"+vt}function y(xe){const vt=xe.match(/#|\?|$/),Nn=vt&&vt.index||xe.length;return xe.slice(0,Nn-("/"===xe[Nn-1]?1:0))+xe.slice(Nn)}function v(xe){return xe&&"?"!==xe[0]?"?"+xe:xe}let M=(()=>{var xe;class vt{historyGo(Ze){throw new Error("")}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)},xe.\u0275prov=i.jDH({token:xe,factory:()=>(0,i.WQX)(K),providedIn:"root"}),vt})();const G=new i.nKC("");let K=(()=>{var xe;class vt extends M{constructor(Ze,Tn){super(),this._platformLocation=Ze,this._removeListenerFns=[],this._baseHref=Tn??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(d).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ze){this._removeListenerFns.push(this._platformLocation.onPopState(Ze),this._platformLocation.onHashChange(Ze))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ze){return P(this._baseHref,Ze)}path(Ze=!1){const Tn=this._platformLocation.pathname+v(this._platformLocation.search),vr=this._platformLocation.hash;return vr&&Ze?`${Tn}${vr}`:Tn}pushState(Ze,Tn,vr,_i){const ao=this.prepareExternalUrl(vr+v(_i));this._platformLocation.pushState(Ze,Tn,ao)}replaceState(Ze,Tn,vr,_i){const ao=this.prepareExternalUrl(vr+v(_i));this._platformLocation.replaceState(Ze,Tn,ao)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ze=0){this._platformLocation.historyGo?.(Ze)}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.KVO(k),i.KVO(G,8))},xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"}),vt})(),V=(()=>{var xe;class vt extends M{constructor(Ze,Tn){super(),this._platformLocation=Ze,this._baseHref="",this._removeListenerFns=[],null!=Tn&&(this._baseHref=Tn)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ze){this._removeListenerFns.push(this._platformLocation.onPopState(Ze),this._platformLocation.onHashChange(Ze))}getBaseHref(){return this._baseHref}path(Ze=!1){const Tn=this._platformLocation.hash??"#";return Tn.length>0?Tn.substring(1):Tn}prepareExternalUrl(Ze){const Tn=P(this._baseHref,Ze);return Tn.length>0?"#"+Tn:Tn}pushState(Ze,Tn,vr,_i){let ao=this.prepareExternalUrl(vr+v(_i));0==ao.length&&(ao=this._platformLocation.pathname),this._platformLocation.pushState(Ze,Tn,ao)}replaceState(Ze,Tn,vr,_i){let ao=this.prepareExternalUrl(vr+v(_i));0==ao.length&&(ao=this._platformLocation.pathname),this._platformLocation.replaceState(Ze,Tn,ao)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ze=0){this._platformLocation.historyGo?.(Ze)}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.KVO(k),i.KVO(G,8))},xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),vt})(),Z=(()=>{var xe;class vt{constructor(Ze){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ze;const Tn=this._locationStrategy.getBaseHref();this._basePath=function Y(xe){if(new RegExp("^(https?:)?//").test(xe)){const[,Nn]=xe.split(/\/\/[^\/]+/);return Nn}return xe}(y(ae(Tn))),this._locationStrategy.onPopState(vr=>{this._subject.emit({url:this.path(!0),pop:!0,state:vr.state,type:vr.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ze=!1){return this.normalize(this._locationStrategy.path(Ze))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ze,Tn=""){return this.path()==this.normalize(Ze+v(Tn))}normalize(Ze){return vt.stripTrailingSlash(function te(xe,vt){if(!xe||!vt.startsWith(xe))return vt;const Nn=vt.substring(xe.length);return""===Nn||["/",";","?","#"].includes(Nn[0])?Nn:vt}(this._basePath,ae(Ze)))}prepareExternalUrl(Ze){return Ze&&"/"!==Ze[0]&&(Ze="/"+Ze),this._locationStrategy.prepareExternalUrl(Ze)}go(Ze,Tn="",vr=null){this._locationStrategy.pushState(vr,"",Ze,Tn),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ze+v(Tn)),vr)}replaceState(Ze,Tn="",vr=null){this._locationStrategy.replaceState(vr,"",Ze,Tn),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ze+v(Tn)),vr)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ze=0){this._locationStrategy.historyGo?.(Ze)}onUrlChange(Ze){return this._urlChangeListeners.push(Ze),this._urlChangeSubscription??=this.subscribe(Tn=>{this._notifyUrlChangeListeners(Tn.url,Tn.state)}),()=>{const Tn=this._urlChangeListeners.indexOf(Ze);this._urlChangeListeners.splice(Tn,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ze="",Tn){this._urlChangeListeners.forEach(vr=>vr(Ze,Tn))}subscribe(Ze,Tn,vr){return this._subject.subscribe({next:Ze,error:Tn,complete:vr})}}return(xe=vt).normalizeQueryParams=v,xe.joinWithSlash=P,xe.stripTrailingSlash=y,xe.\u0275fac=function(Ze){return new(Ze||xe)(i.KVO(M))},xe.\u0275prov=i.jDH({token:xe,factory:()=>function J(){return new Z((0,i.KVO)(M))}(),providedIn:"root"}),vt})();function ae(xe){return xe.replace(/\/index.html$/,"")}var H=function(xe){return xe[xe.Decimal=0]="Decimal",xe[xe.Percent=1]="Percent",xe[xe.Currency=2]="Currency",xe[xe.Scientific=3]="Scientific",xe}(H||{}),B=function(xe){return xe[xe.Format=0]="Format",xe[xe.Standalone=1]="Standalone",xe}(B||{}),ce=function(xe){return xe[xe.Narrow=0]="Narrow",xe[xe.Abbreviated=1]="Abbreviated",xe[xe.Wide=2]="Wide",xe[xe.Short=3]="Short",xe}(ce||{}),Oe=function(xe){return xe[xe.Short=0]="Short",xe[xe.Medium=1]="Medium",xe[xe.Long=2]="Long",xe[xe.Full=3]="Full",xe}(Oe||{});const Ue={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ce(xe,vt){return z((0,i.H5H)(xe)[i.KH2.DateFormat],vt)}function Re(xe,vt){return z((0,i.H5H)(xe)[i.KH2.TimeFormat],vt)}function pt(xe,vt){return z((0,i.H5H)(xe)[i.KH2.DateTimeFormat],vt)}function zt(xe,vt){const Nn=(0,i.H5H)(xe),Ze=Nn[i.KH2.NumberSymbols][vt];if(typeof Ze>"u"){if(vt===Ue.CurrencyDecimal)return Nn[i.KH2.NumberSymbols][Ue.Decimal];if(vt===Ue.CurrencyGroup)return Nn[i.KH2.NumberSymbols][Ue.Group]}return Ze}function D(xe){if(!xe[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${xe[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function z(xe,vt){for(let Nn=vt;Nn>-1;Nn--)if(typeof xe[Nn]<"u")return xe[Nn];throw new Error("Locale data API: locale data undefined")}function p(xe){const[vt,Nn]=xe.split(":");return{hours:+vt,minutes:+Nn}}const L=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ve={},ge=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var et=function(xe){return xe[xe.Short=0]="Short",xe[xe.ShortGMT=1]="ShortGMT",xe[xe.Long=2]="Long",xe[xe.Extended=3]="Extended",xe}(et||{}),Pt=function(xe){return xe[xe.FullYear=0]="FullYear",xe[xe.Month=1]="Month",xe[xe.Date=2]="Date",xe[xe.Hours=3]="Hours",xe[xe.Minutes=4]="Minutes",xe[xe.Seconds=5]="Seconds",xe[xe.FractionalSeconds=6]="FractionalSeconds",xe[xe.Day=7]="Day",xe}(Pt||{}),Rt=function(xe){return xe[xe.DayPeriods=0]="DayPeriods",xe[xe.Days=1]="Days",xe[xe.Months=2]="Months",xe[xe.Eras=3]="Eras",xe}(Rt||{});function ln(xe,vt,Nn,Ze){let Tn=function Xt(xe){if(Vt(xe))return xe;if("number"==typeof xe&&!isNaN(xe))return new Date(xe);if("string"==typeof xe){if(xe=xe.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(xe)){const[Tn,vr=1,_i=1]=xe.split("-").map(ao=>+ao);return je(Tn,vr-1,_i)}const Nn=parseFloat(xe);if(!isNaN(xe-Nn))return new Date(Nn);let Ze;if(Ze=xe.match(L))return function Ye(xe){const vt=new Date(0);let Nn=0,Ze=0;const Tn=xe[8]?vt.setUTCFullYear:vt.setFullYear,vr=xe[8]?vt.setUTCHours:vt.setHours;xe[9]&&(Nn=Number(xe[9]+xe[10]),Ze=Number(xe[9]+xe[11])),Tn.call(vt,Number(xe[1]),Number(xe[2])-1,Number(xe[3]));const _i=Number(xe[4]||0)-Nn,ao=Number(xe[5]||0)-Ze,gs=Number(xe[6]||0),ds=Math.floor(1e3*parseFloat("0."+(xe[7]||0)));return vr.call(vt,_i,ao,gs,ds),vt}(Ze)}const vt=new Date(xe);if(!Vt(vt))throw new Error(`Unable to convert "${xe}" into a date`);return vt}(xe);vt=Ht(Nn,vt)||vt;let ao,_i=[];for(;vt;){if(ao=ge.exec(vt),!ao){_i.push(vt);break}{_i=_i.concat(ao.slice(1));const us=_i.pop();if(!us)break;vt=us}}let gs=Tn.getTimezoneOffset();Ze&&(gs=xt(Ze,gs),Tn=function tn(xe,vt,Nn){const Ze=Nn?-1:1,Tn=xe.getTimezoneOffset();return function gt(xe,vt){return(xe=new Date(xe.getTime())).setMinutes(xe.getMinutes()+vt),xe}(xe,Ze*(xt(vt,Tn)-Tn))}(Tn,Ze,!0));let ds="";return _i.forEach(us=>{const hs=function Et(xe){if(At[xe])return At[xe];let vt;switch(xe){case"G":case"GG":case"GGG":vt=He(Rt.Eras,ce.Abbreviated);break;case"GGGG":vt=He(Rt.Eras,ce.Wide);break;case"GGGGG":vt=He(Rt.Eras,ce.Narrow);break;case"y":vt=lt(Pt.FullYear,1,0,!1,!0);break;case"yy":vt=lt(Pt.FullYear,2,0,!0,!0);break;case"yyy":vt=lt(Pt.FullYear,3,0,!1,!0);break;case"yyyy":vt=lt(Pt.FullYear,4,0,!1,!0);break;case"Y":vt=an(1);break;case"YY":vt=an(2,!0);break;case"YYY":vt=an(3);break;case"YYYY":vt=an(4);break;case"M":case"L":vt=lt(Pt.Month,1,1);break;case"MM":case"LL":vt=lt(Pt.Month,2,1);break;case"MMM":vt=He(Rt.Months,ce.Abbreviated);break;case"MMMM":vt=He(Rt.Months,ce.Wide);break;case"MMMMM":vt=He(Rt.Months,ce.Narrow);break;case"LLL":vt=He(Rt.Months,ce.Abbreviated,B.Standalone);break;case"LLLL":vt=He(Rt.Months,ce.Wide,B.Standalone);break;case"LLLLL":vt=He(Rt.Months,ce.Narrow,B.Standalone);break;case"w":vt=lr(1);break;case"ww":vt=lr(2);break;case"W":vt=lr(1,!0);break;case"d":vt=lt(Pt.Date,1);break;case"dd":vt=lt(Pt.Date,2);break;case"c":case"cc":vt=lt(Pt.Day,1);break;case"ccc":vt=He(Rt.Days,ce.Abbreviated,B.Standalone);break;case"cccc":vt=He(Rt.Days,ce.Wide,B.Standalone);break;case"ccccc":vt=He(Rt.Days,ce.Narrow,B.Standalone);break;case"cccccc":vt=He(Rt.Days,ce.Short,B.Standalone);break;case"E":case"EE":case"EEE":vt=He(Rt.Days,ce.Abbreviated);break;case"EEEE":vt=He(Rt.Days,ce.Wide);break;case"EEEEE":vt=He(Rt.Days,ce.Narrow);break;case"EEEEEE":vt=He(Rt.Days,ce.Short);break;case"a":case"aa":case"aaa":vt=He(Rt.DayPeriods,ce.Abbreviated);break;case"aaaa":vt=He(Rt.DayPeriods,ce.Wide);break;case"aaaaa":vt=He(Rt.DayPeriods,ce.Narrow);break;case"b":case"bb":case"bbb":vt=He(Rt.DayPeriods,ce.Abbreviated,B.Standalone,!0);break;case"bbbb":vt=He(Rt.DayPeriods,ce.Wide,B.Standalone,!0);break;case"bbbbb":vt=He(Rt.DayPeriods,ce.Narrow,B.Standalone,!0);break;case"B":case"BB":case"BBB":vt=He(Rt.DayPeriods,ce.Abbreviated,B.Format,!0);break;case"BBBB":vt=He(Rt.DayPeriods,ce.Wide,B.Format,!0);break;case"BBBBB":vt=He(Rt.DayPeriods,ce.Narrow,B.Format,!0);break;case"h":vt=lt(Pt.Hours,1,-12);break;case"hh":vt=lt(Pt.Hours,2,-12);break;case"H":vt=lt(Pt.Hours,1);break;case"HH":vt=lt(Pt.Hours,2);break;case"m":vt=lt(Pt.Minutes,1);break;case"mm":vt=lt(Pt.Minutes,2);break;case"s":vt=lt(Pt.Seconds,1);break;case"ss":vt=lt(Pt.Seconds,2);break;case"S":vt=lt(Pt.FractionalSeconds,1);break;case"SS":vt=lt(Pt.FractionalSeconds,2);break;case"SSS":vt=lt(Pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":vt=mt(et.Short);break;case"ZZZZZ":vt=mt(et.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":vt=mt(et.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":vt=mt(et.Long);break;default:return null}return At[xe]=vt,vt}(us);ds+=hs?hs(Tn,Nn,gs):"''"===us?"'":us.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ds}function je(xe,vt,Nn){const Ze=new Date(0);return Ze.setFullYear(xe,vt,Nn),Ze.setHours(0,0,0),Ze}function Ht(xe,vt){const Nn=function _e(xe){return(0,i.H5H)(xe)[i.KH2.LocaleId]}(xe);if(ve[Nn]??={},ve[Nn][vt])return ve[Nn][vt];let Ze="";switch(vt){case"shortDate":Ze=Ce(xe,Oe.Short);break;case"mediumDate":Ze=Ce(xe,Oe.Medium);break;case"longDate":Ze=Ce(xe,Oe.Long);break;case"fullDate":Ze=Ce(xe,Oe.Full);break;case"shortTime":Ze=Re(xe,Oe.Short);break;case"mediumTime":Ze=Re(xe,Oe.Medium);break;case"longTime":Ze=Re(xe,Oe.Long);break;case"fullTime":Ze=Re(xe,Oe.Full);break;case"short":const Tn=Ht(xe,"shortTime"),vr=Ht(xe,"shortDate");Ze=ut(pt(xe,Oe.Short),[Tn,vr]);break;case"medium":const _i=Ht(xe,"mediumTime"),ao=Ht(xe,"mediumDate");Ze=ut(pt(xe,Oe.Medium),[_i,ao]);break;case"long":const gs=Ht(xe,"longTime"),ds=Ht(xe,"longDate");Ze=ut(pt(xe,Oe.Long),[gs,ds]);break;case"full":const us=Ht(xe,"fullTime"),hs=Ht(xe,"fullDate");Ze=ut(pt(xe,Oe.Full),[us,hs])}return Ze&&(ve[Nn][vt]=Ze),Ze}function ut(xe,vt){return vt&&(xe=xe.replace(/\{([^}]+)}/g,function(Nn,Ze){return null!=vt&&Ze in vt?vt[Ze]:Nn})),xe}function jt(xe,vt,Nn="-",Ze,Tn){let vr="";(xe<0||Tn&&xe<=0)&&(Tn?xe=1-xe:(xe=-xe,vr=Nn));let _i=String(xe);for(;_i.length<vt;)_i="0"+_i;return Ze&&(_i=_i.slice(_i.length-vt)),vr+_i}function lt(xe,vt,Nn=0,Ze=!1,Tn=!1){return function(vr,_i){let ao=function bt(xe,vt){switch(xe){case Pt.FullYear:return vt.getFullYear();case Pt.Month:return vt.getMonth();case Pt.Date:return vt.getDate();case Pt.Hours:return vt.getHours();case Pt.Minutes:return vt.getMinutes();case Pt.Seconds:return vt.getSeconds();case Pt.FractionalSeconds:return vt.getMilliseconds();case Pt.Day:return vt.getDay();default:throw new Error(`Unknown DateType value "${xe}".`)}}(xe,vr);if((Nn>0||ao>-Nn)&&(ao+=Nn),xe===Pt.Hours)0===ao&&-12===Nn&&(ao=12);else if(xe===Pt.FractionalSeconds)return function gn(xe,vt){return jt(xe,3).substring(0,vt)}(ao,vt);const gs=zt(_i,Ue.MinusSign);return jt(ao,vt,gs,Ze,Tn)}}function He(xe,vt,Nn=B.Format,Ze=!1){return function(Tn,vr){return function ye(xe,vt,Nn,Ze,Tn,vr){switch(Nn){case Rt.Months:return function de(xe,vt,Nn){const Ze=(0,i.H5H)(xe),vr=z([Ze[i.KH2.MonthsFormat],Ze[i.KH2.MonthsStandalone]],vt);return z(vr,Nn)}(vt,Tn,Ze)[xe.getMonth()];case Rt.Days:return function Bt(xe,vt,Nn){const Ze=(0,i.H5H)(xe),vr=z([Ze[i.KH2.DaysFormat],Ze[i.KH2.DaysStandalone]],vt);return z(vr,Nn)}(vt,Tn,Ze)[xe.getDay()];case Rt.DayPeriods:const _i=xe.getHours(),ao=xe.getMinutes();if(vr){const ds=function F(xe){const vt=(0,i.H5H)(xe);return D(vt),(vt[i.KH2.ExtraData][2]||[]).map(Ze=>"string"==typeof Ze?p(Ze):[p(Ze[0]),p(Ze[1])])}(vt),us=function T(xe,vt,Nn){const Ze=(0,i.H5H)(xe);D(Ze);const vr=z([Ze[i.KH2.ExtraData][0],Ze[i.KH2.ExtraData][1]],vt)||[];return z(vr,Nn)||[]}(vt,Tn,Ze),hs=ds.findIndex(na=>{if(Array.isArray(na)){const[bs,Ho]=na,$o=_i>=bs.hours&&ao>=bs.minutes,no=_i<Ho.hours||_i===Ho.hours&&ao<Ho.minutes;if(bs.hours<Ho.hours){if($o&&no)return!0}else if($o||no)return!0}else if(na.hours===_i&&na.minutes===ao)return!0;return!1});if(-1!==hs)return us[hs]}return function ht(xe,vt,Nn){const Ze=(0,i.H5H)(xe),vr=z([Ze[i.KH2.DayPeriodsFormat],Ze[i.KH2.DayPeriodsStandalone]],vt);return z(vr,Nn)}(vt,Tn,Ze)[_i<12?0:1];case Rt.Eras:return function R(xe,vt){return z((0,i.H5H)(xe)[i.KH2.Eras],vt)}(vt,Ze)[xe.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Nn}`)}}(Tn,vr,xe,vt,Nn,Ze)}}function mt(xe){return function(vt,Nn,Ze){const Tn=-1*Ze,vr=zt(Nn,Ue.MinusSign),_i=Tn>0?Math.floor(Tn/60):Math.ceil(Tn/60);switch(xe){case et.Short:return(Tn>=0?"+":"")+jt(_i,2,vr)+jt(Math.abs(Tn%60),2,vr);case et.ShortGMT:return"GMT"+(Tn>=0?"+":"")+jt(_i,1,vr);case et.Long:return"GMT"+(Tn>=0?"+":"")+jt(_i,2,vr)+":"+jt(Math.abs(Tn%60),2,vr);case et.Extended:return 0===Ze?"Z":(Tn>=0?"+":"")+jt(_i,2,vr)+":"+jt(Math.abs(Tn%60),2,vr);default:throw new Error(`Unknown zone width "${xe}"`)}}}const rt=0,Kt=4;function Jn(xe){const vt=xe.getDay(),Nn=0===vt?-3:Kt-vt;return je(xe.getFullYear(),xe.getMonth(),xe.getDate()+Nn)}function lr(xe,vt=!1){return function(Nn,Ze){let Tn;if(vt){const vr=new Date(Nn.getFullYear(),Nn.getMonth(),1).getDay()-1,_i=Nn.getDate();Tn=1+Math.floor((_i+vr)/7)}else{const vr=Jn(Nn),_i=function Dn(xe){const vt=je(xe,rt,1).getDay();return je(xe,0,1+(vt<=Kt?Kt:Kt+7)-vt)}(vr.getFullYear()),ao=vr.getTime()-_i.getTime();Tn=1+Math.round(ao/6048e5)}return jt(Tn,xe,zt(Ze,Ue.MinusSign))}}function an(xe,vt=!1){return function(Nn,Ze){return jt(Jn(Nn).getFullYear(),xe,zt(Ze,Ue.MinusSign),vt)}}const At={};function xt(xe,vt){xe=xe.replace(/:/g,"");const Nn=Date.parse("Jan 01, 1970 00:00:00 "+xe)/6e4;return isNaN(Nn)?vt:Nn}function Vt(xe){return xe instanceof Date&&!isNaN(xe.valueOf())}const En=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ti(xe){const vt=parseInt(xe);if(isNaN(vt))throw new Error("Invalid integer literal when parsing "+xe);return vt}function Pe(xe,vt,Nn){return(0,i.XSP)(xe,vt,Nn)}function dt(xe,vt){vt=encodeURIComponent(vt);for(const Nn of xe.split(";")){const Ze=Nn.indexOf("="),[Tn,vr]=-1==Ze?[Nn,""]:[Nn.slice(0,Ze),Nn.slice(Ze+1)];if(Tn.trim()===vt)return decodeURIComponent(vr)}return null}const vn=/\s+/,bn=[];let Gn=(()=>{var xe;class vt{constructor(Ze,Tn){this._ngEl=Ze,this._renderer=Tn,this.initialClasses=bn,this.stateMap=new Map}set klass(Ze){this.initialClasses=null!=Ze?Ze.trim().split(vn):bn}set ngClass(Ze){this.rawClass="string"==typeof Ze?Ze.trim().split(vn):Ze}ngDoCheck(){for(const Tn of this.initialClasses)this._updateState(Tn,!0);const Ze=this.rawClass;if(Array.isArray(Ze)||Ze instanceof Set)for(const Tn of Ze)this._updateState(Tn,!0);else if(null!=Ze)for(const Tn of Object.keys(Ze))this._updateState(Tn,!!Ze[Tn]);this._applyStateDiff()}_updateState(Ze,Tn){const vr=this.stateMap.get(Ze);void 0!==vr?(vr.enabled!==Tn&&(vr.changed=!0,vr.enabled=Tn),vr.touched=!0):this.stateMap.set(Ze,{enabled:Tn,changed:!0,touched:!0})}_applyStateDiff(){for(const Ze of this.stateMap){const Tn=Ze[0],vr=Ze[1];vr.changed?(this._toggleClass(Tn,vr.enabled),vr.changed=!1):vr.touched||(vr.enabled&&this._toggleClass(Tn,!1),this.stateMap.delete(Tn)),vr.touched=!1}}_toggleClass(Ze,Tn){(Ze=Ze.trim()).length>0&&Ze.split(vn).forEach(vr=>{Tn?this._renderer.addClass(this._ngEl.nativeElement,vr):this._renderer.removeClass(this._ngEl.nativeElement,vr)})}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.aKT),i.rXU(i.sFG))},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),vt})(),nr=(()=>{var xe;class vt{constructor(Ze){this._viewContainerRef=Ze,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Ze){return void 0!==Ze.ngComponentOutletNgModule||void 0!==Ze.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Ze){return void 0!==Ze.ngComponentOutlet||void 0!==Ze.ngComponentOutletContent||void 0!==Ze.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Ze)}ngOnChanges(Ze){if(this._needToReCreateComponentInstance(Ze)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const Tn=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Ze)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,i.w6W)(this.ngComponentOutletNgModule,er(Tn)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(er(Tn)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:Tn,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Ze of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Ze,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Ze){for(const[Tn,vr]of this._inputsUsed)vr?(Ze.setInput(Tn,this.ngComponentOutletInputs[Tn]),this._inputsUsed.set(Tn,!1)):(Ze.setInput(Tn,void 0),this._inputsUsed.delete(Tn))}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.c1b))},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[i.OA$]}),vt})();function er(xe){return xe.get(i.Vns).injector}class Be{constructor(vt,Nn,Ze,Tn){this.$implicit=vt,this.ngForOf=Nn,this.index=Ze,this.count=Tn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tt=(()=>{var xe;class vt{set ngForOf(Ze){this._ngForOf=Ze,this._ngForOfDirty=!0}set ngForTrackBy(Ze){this._trackByFn=Ze}get ngForTrackBy(){return this._trackByFn}constructor(Ze,Tn,vr){this._viewContainer=Ze,this._template=Tn,this._differs=vr,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ze){Ze&&(this._template=Ze)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ze=this._ngForOf;!this._differ&&Ze&&(this._differ=this._differs.find(Ze).create(this.ngForTrackBy))}if(this._differ){const Ze=this._differ.diff(this._ngForOf);Ze&&this._applyChanges(Ze)}}_applyChanges(Ze){const Tn=this._viewContainer;Ze.forEachOperation((vr,_i,ao)=>{if(null==vr.previousIndex)Tn.createEmbeddedView(this._template,new Be(vr.item,this._ngForOf,-1,-1),null===ao?void 0:ao);else if(null==ao)Tn.remove(null===_i?void 0:_i);else if(null!==_i){const gs=Tn.get(_i);Tn.move(gs,ao),un(gs,vr)}});for(let vr=0,_i=Tn.length;vr<_i;vr++){const gs=Tn.get(vr).context;gs.index=vr,gs.count=_i,gs.ngForOf=this._ngForOf}Ze.forEachIdentityChange(vr=>{un(Tn.get(vr.currentIndex),vr)})}static ngTemplateContextGuard(Ze,Tn){return!0}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),vt})();function un(xe,vt){xe.context.$implicit=vt.item}let Ar=(()=>{var xe;class vt{constructor(Ze,Tn){this._viewContainer=Ze,this._context=new zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Tn}set ngIf(Ze){this._context.$implicit=this._context.ngIf=Ze,this._updateView()}set ngIfThen(Ze){si("ngIfThen",Ze),this._thenTemplateRef=Ze,this._thenViewRef=null,this._updateView()}set ngIfElse(Ze){si("ngIfElse",Ze),this._elseTemplateRef=Ze,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ze,Tn){return!0}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.c1b),i.rXU(i.C4Q))},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),vt})();class zr{constructor(){this.$implicit=null,this.ngIf=null}}function si(xe,vt){if(vt&&!vt.createEmbeddedView)throw new Error(`${xe} must be a TemplateRef, but received '${(0,i.Tbb)(vt)}'.`)}class ni{constructor(vt,Nn){this._viewContainerRef=vt,this._templateRef=Nn,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(vt){vt&&!this._created?this.create():!vt&&this._created&&this.destroy()}}let ai=(()=>{var xe;class vt{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ze){this._ngSwitch=Ze,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ze){this._defaultViews.push(Ze)}_matchCase(Ze){const Tn=Ze===this._ngSwitch;return this._lastCasesMatched||=Tn,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Tn}_updateDefaultCases(Ze){if(this._defaultViews.length>0&&Ze!==this._defaultUsed){this._defaultUsed=Ze;for(const Tn of this._defaultViews)Tn.enforceState(Ze)}}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),vt})(),Oi=(()=>{var xe;class vt{constructor(Ze,Tn,vr){this.ngSwitch=vr,vr._addCase(),this._view=new ni(Ze,Tn)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(ai,9))},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),vt})(),so=(()=>{var xe;class vt{constructor(Ze,Tn,vr){vr._addDefault(new ni(Ze,Tn))}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(ai,9))},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngSwitchDefault",""]],standalone:!0}),vt})(),fn=(()=>{var xe;class vt{constructor(Ze,Tn,vr){this._ngEl=Ze,this._differs=Tn,this._renderer=vr,this._ngStyle=null,this._differ=null}set ngStyle(Ze){this._ngStyle=Ze,!this._differ&&Ze&&(this._differ=this._differs.find(Ze).create())}ngDoCheck(){if(this._differ){const Ze=this._differ.diff(this._ngStyle);Ze&&this._applyChanges(Ze)}}_setStyle(Ze,Tn){const[vr,_i]=Ze.split("."),ao=-1===vr.indexOf("-")?void 0:i.czy.DashCase;null!=Tn?this._renderer.setStyle(this._ngEl.nativeElement,vr,_i?`${Tn}${_i}`:Tn,ao):this._renderer.removeStyle(this._ngEl.nativeElement,vr,ao)}_applyChanges(Ze){Ze.forEachRemovedItem(Tn=>this._setStyle(Tn.key,null)),Ze.forEachAddedItem(Tn=>this._setStyle(Tn.key,Tn.currentValue)),Ze.forEachChangedItem(Tn=>this._setStyle(Tn.key,Tn.currentValue))}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),vt})(),ze=(()=>{var xe;class vt{constructor(Ze){this._viewContainerRef=Ze,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ze){if(this._shouldRecreateView(Ze)){const Tn=this._viewContainerRef;if(this._viewRef&&Tn.remove(Tn.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const vr=this._createContextForwardProxy();this._viewRef=Tn.createEmbeddedView(this.ngTemplateOutlet,vr,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Ze){return!!Ze.ngTemplateOutlet||!!Ze.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ze,Tn,vr)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Tn,vr),get:(Ze,Tn,vr)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Tn,vr)}})}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.c1b))},xe.\u0275dir=i.FsC({type:xe,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]}),vt})();function sn(xe,vt){return new i.wOt(2100,!1)}class Wn{createSubscription(vt,Nn){return(0,i.O8t)(()=>vt.subscribe({next:Nn,error:Ze=>{throw Ze}}))}dispose(vt){(0,i.O8t)(()=>vt.unsubscribe())}}class Ir{createSubscription(vt,Nn){return vt.then(Nn,Ze=>{throw Ze})}dispose(vt){}}const Zr=new Ir,io=new Wn;let Hi=(()=>{var xe;class vt{constructor(Ze){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ze}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ze){if(!this._obj){if(Ze)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Ze)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Ze!==this._obj?(this._dispose(),this.transform(Ze)):this._latestValue}_subscribe(Ze){this._obj=Ze,this._strategy=this._selectStrategy(Ze),this._subscription=this._strategy.createSubscription(Ze,Tn=>this._updateLatestValue(Ze,Tn))}_selectStrategy(Ze){if((0,i.jNT)(Ze))return Zr;if((0,i.zjR)(Ze))return io;throw sn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ze,Tn){Ze===this._obj&&(this._latestValue=Tn,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.gRc,16))},xe.\u0275pipe=i.EJ8({name:"async",type:xe,pure:!1,standalone:!0}),vt})();const Co=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ro=(()=>{var xe;class vt{transform(Ze){if(null==Ze)return null;if("string"!=typeof Ze)throw sn();return Ze.replace(Co,Tn=>Tn[0].toUpperCase()+Tn.slice(1).toLowerCase())}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)},xe.\u0275pipe=i.EJ8({name:"titlecase",type:xe,pure:!0,standalone:!0}),vt})(),Ri=(()=>{var xe;class vt{constructor(Ze){this._locale=Ze}transform(Ze,Tn,vr){if(!function xo(xe){return!(null==xe||""===xe||xe!=xe)}(Ze))return null;vr||=this._locale;try{return function Ei(xe,vt,Nn){return function sr(xe,vt,Nn,Ze,Tn,vr,_i=!1){let ao="",gs=!1;if(isFinite(xe)){let ds=function uo(xe){let Ze,Tn,vr,_i,ao,vt=Math.abs(xe)+"",Nn=0;for((Tn=vt.indexOf("."))>-1&&(vt=vt.replace(".","")),(vr=vt.search(/e/i))>0?(Tn<0&&(Tn=vr),Tn+=+vt.slice(vr+1),vt=vt.substring(0,vr)):Tn<0&&(Tn=vt.length),vr=0;"0"===vt.charAt(vr);vr++);if(vr===(ao=vt.length))Ze=[0],Tn=1;else{for(ao--;"0"===vt.charAt(ao);)ao--;for(Tn-=vr,Ze=[],_i=0;vr<=ao;vr++,_i++)Ze[_i]=Number(vt.charAt(vr))}return Tn>22&&(Ze=Ze.splice(0,21),Nn=Tn-1,Tn=1),{digits:Ze,exponent:Nn,integerLen:Tn}}(xe);_i&&(ds=function co(xe){if(0===xe.digits[0])return xe;const vt=xe.digits.length-xe.integerLen;return xe.exponent?xe.exponent+=2:(0===vt?xe.digits.push(0,0):1===vt&&xe.digits.push(0),xe.integerLen+=2),xe}(ds));let us=vt.minInt,hs=vt.minFrac,na=vt.maxFrac;if(vr){const Ls=vr.match(En);if(null===Ls)throw new Error(`${vr} is not a valid digit info`);const va=Ls[1],Qs=Ls[3],ha=Ls[5];null!=va&&(us=ti(va)),null!=Qs&&(hs=ti(Qs)),null!=ha?na=ti(ha):null!=Qs&&hs>na&&(na=hs)}!function Pi(xe,vt,Nn){if(vt>Nn)throw new Error(`The minimum number of digits after fraction (${vt}) is higher than the maximum (${Nn}).`);let Ze=xe.digits,Tn=Ze.length-xe.integerLen;const vr=Math.min(Math.max(vt,Tn),Nn);let _i=vr+xe.integerLen,ao=Ze[_i];if(_i>0){Ze.splice(Math.max(xe.integerLen,_i));for(let hs=_i;hs<Ze.length;hs++)Ze[hs]=0}else{Tn=Math.max(0,Tn),xe.integerLen=1,Ze.length=Math.max(1,_i=vr+1),Ze[0]=0;for(let hs=1;hs<_i;hs++)Ze[hs]=0}if(ao>=5)if(_i-1<0){for(let hs=0;hs>_i;hs--)Ze.unshift(0),xe.integerLen++;Ze.unshift(1),xe.integerLen++}else Ze[_i-1]++;for(;Tn<Math.max(0,vr);Tn++)Ze.push(0);let gs=0!==vr;const ds=vt+xe.integerLen,us=Ze.reduceRight(function(hs,na,bs,Ho){return Ho[bs]=(na+=hs)<10?na:na-10,gs&&(0===Ho[bs]&&bs>=ds?Ho.pop():gs=!1),na>=10?1:0},0);us&&(Ze.unshift(us),xe.integerLen++)}(ds,hs,na);let bs=ds.digits,Ho=ds.integerLen;const $o=ds.exponent;let no=[];for(gs=bs.every(Ls=>!Ls);Ho<us;Ho++)bs.unshift(0);for(;Ho<0;Ho++)bs.unshift(0);Ho>0?no=bs.splice(Ho,bs.length):(no=bs,bs=[0]);const Do=[];for(bs.length>=vt.lgSize&&Do.unshift(bs.splice(-vt.lgSize,bs.length).join(""));bs.length>vt.gSize;)Do.unshift(bs.splice(-vt.gSize,bs.length).join(""));bs.length&&Do.unshift(bs.join("")),ao=Do.join(zt(Nn,Ze)),no.length&&(ao+=zt(Nn,Tn)+no.join("")),$o&&(ao+=zt(Nn,Ue.Exponential)+"+"+$o)}else ao=zt(Nn,Ue.Infinity);return ao=xe<0&&!gs?vt.negPre+ao+vt.negSuf:vt.posPre+ao+vt.posSuf,ao}(xe,function fi(xe,vt="-"){const Nn={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Ze=xe.split(";"),Tn=Ze[0],vr=Ze[1],_i=-1!==Tn.indexOf(".")?Tn.split("."):[Tn.substring(0,Tn.lastIndexOf("0")+1),Tn.substring(Tn.lastIndexOf("0")+1)],ao=_i[0],gs=_i[1]||"";Nn.posPre=ao.substring(0,ao.indexOf("#"));for(let us=0;us<gs.length;us++){const hs=gs.charAt(us);"0"===hs?Nn.minFrac=Nn.maxFrac=us+1:"#"===hs?Nn.maxFrac=us+1:Nn.posSuf+=hs}const ds=ao.split(",");if(Nn.gSize=ds[1]?ds[1].length:0,Nn.lgSize=ds[2]||ds[1]?(ds[2]||ds[1]).length:0,vr){const us=Tn.length-Nn.posPre.length-Nn.posSuf.length,hs=vr.indexOf("#");Nn.negPre=vr.substring(0,hs).replace(/'/g,""),Nn.negSuf=vr.slice(hs+us).replace(/'/g,"")}else Nn.negPre=vt+Nn.posPre,Nn.negSuf=Nn.posSuf;return Nn}(function Mn(xe,vt){return(0,i.H5H)(xe)[i.KH2.NumberFormats][vt]}(vt,H.Decimal),zt(vt,Ue.MinusSign)),vt,Ue.Group,Ue.Decimal,Nn)}(function $i(xe){if("string"==typeof xe&&!isNaN(Number(xe)-parseFloat(xe)))return Number(xe);if("number"!=typeof xe)throw new Error(`${xe} is not a number`);return xe}(Ze),vr,Tn)}catch(_i){throw sn()}}}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)(i.rXU(i.xe9,16))},xe.\u0275pipe=i.EJ8({name:"number",type:xe,pure:!0,standalone:!0}),vt})();let Ns=(()=>{var xe;class vt{}return(xe=vt).\u0275fac=function(Ze){return new(Ze||xe)},xe.\u0275mod=i.$C({type:xe}),xe.\u0275inj=i.G2t({}),vt})();const ys="browser",Os="server";function Lo(xe){return xe===ys}function pa(xe){return xe===Os}let Ds=(()=>{var xe;class vt{}return(xe=vt).\u0275prov=(0,i.jDH)({token:xe,providedIn:"root",factory:()=>Lo((0,i.WQX)(i.Agw))?new cs((0,i.WQX)(d),window):new tr}),vt})();class cs{constructor(vt,Nn){this.document=vt,this.window=Nn,this.offset=()=>[0,0]}setOffset(vt){this.offset=Array.isArray(vt)?()=>vt:vt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(vt){this.window.scrollTo(vt[0],vt[1])}scrollToAnchor(vt){const Nn=function ua(xe,vt){const Nn=xe.getElementById(vt)||xe.getElementsByName(vt)[0];if(Nn)return Nn;if("function"==typeof xe.createTreeWalker&&xe.body&&"function"==typeof xe.body.attachShadow){const Ze=xe.createTreeWalker(xe.body,NodeFilter.SHOW_ELEMENT);let Tn=Ze.currentNode;for(;Tn;){const vr=Tn.shadowRoot;if(vr){const _i=vr.getElementById(vt)||vr.querySelector(`[name="${vt}"]`);if(_i)return _i}Tn=Ze.nextNode()}}return null}(this.document,vt);Nn&&(this.scrollToElement(Nn),Nn.focus())}setHistoryScrollRestoration(vt){this.window.history.scrollRestoration=vt}scrollToElement(vt){const Nn=vt.getBoundingClientRect(),Ze=Nn.left+this.window.pageXOffset,Tn=Nn.top+this.window.pageYOffset,vr=this.offset();this.window.scrollTo(Ze-vr[0],Tn-vr[1])}}class tr{setOffset(vt){}getScrollPosition(){return[0,0]}scrollToPosition(vt){}scrollToAnchor(vt){}setHistoryScrollRestoration(vt){}}class pr{}},21626:(en,Ve,E)=>{"use strict";E.d(Ve,{Lr:()=>M,Nl:()=>Y,Qq:()=>Ce,a7:()=>F,cS:()=>de,q1:()=>We}),E(28407);var u=E(54438),f=E(15877),C=E(2573),x=E(21472),w=E(26758),d=E(14264),k=E(36110),S=E(15152),U=E(32914),P=E(60177);class y{}class v{}class M{constructor(dt){this.normalizedNames=new Map,this.lazyUpdate=null,dt?"string"==typeof dt?this.lazyInit=()=>{this.headers=new Map,dt.split("\n").forEach(vn=>{const bn=vn.indexOf(":");if(bn>0){const Gn=vn.slice(0,bn),nr=Gn.toLowerCase(),er=vn.slice(bn+1).trim();this.maybeSetNormalizedName(Gn,nr),this.headers.has(nr)?this.headers.get(nr).push(er):this.headers.set(nr,[er])}})}:typeof Headers<"u"&&dt instanceof Headers?(this.headers=new Map,dt.forEach((vn,bn)=>{this.setHeaderEntries(bn,vn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(dt).forEach(([vn,bn])=>{this.setHeaderEntries(vn,bn)})}:this.headers=new Map}has(dt){return this.init(),this.headers.has(dt.toLowerCase())}get(dt){this.init();const vn=this.headers.get(dt.toLowerCase());return vn&&vn.length>0?vn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(dt){return this.init(),this.headers.get(dt.toLowerCase())||null}append(dt,vn){return this.clone({name:dt,value:vn,op:"a"})}set(dt,vn){return this.clone({name:dt,value:vn,op:"s"})}delete(dt,vn){return this.clone({name:dt,value:vn,op:"d"})}maybeSetNormalizedName(dt,vn){this.normalizedNames.has(vn)||this.normalizedNames.set(vn,dt)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(dt=>this.applyUpdate(dt)),this.lazyUpdate=null))}copyFrom(dt){dt.init(),Array.from(dt.headers.keys()).forEach(vn=>{this.headers.set(vn,dt.headers.get(vn)),this.normalizedNames.set(vn,dt.normalizedNames.get(vn))})}clone(dt){const vn=new M;return vn.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,vn.lazyUpdate=(this.lazyUpdate||[]).concat([dt]),vn}applyUpdate(dt){const vn=dt.name.toLowerCase();switch(dt.op){case"a":case"s":let bn=dt.value;if("string"==typeof bn&&(bn=[bn]),0===bn.length)return;this.maybeSetNormalizedName(dt.name,vn);const Gn=("a"===dt.op?this.headers.get(vn):void 0)||[];Gn.push(...bn),this.headers.set(vn,Gn);break;case"d":const nr=dt.value;if(nr){let er=this.headers.get(vn);if(!er)return;er=er.filter(Be=>-1===nr.indexOf(Be)),0===er.length?(this.headers.delete(vn),this.normalizedNames.delete(vn)):this.headers.set(vn,er)}else this.headers.delete(vn),this.normalizedNames.delete(vn)}}setHeaderEntries(dt,vn){const bn=(Array.isArray(vn)?vn:[vn]).map(nr=>nr.toString()),Gn=dt.toLowerCase();this.headers.set(Gn,bn),this.maybeSetNormalizedName(dt,Gn)}forEach(dt){this.init(),Array.from(this.normalizedNames.keys()).forEach(vn=>dt(this.normalizedNames.get(vn),this.headers.get(vn)))}}class K{encodeKey(dt){return te(dt)}encodeValue(dt){return te(dt)}decodeKey(dt){return decodeURIComponent(dt)}decodeValue(dt){return decodeURIComponent(dt)}}const Z=/%(\d[a-f0-9])/gi,J={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function te(Pe){return encodeURIComponent(Pe).replace(Z,(dt,vn)=>J[vn]??dt)}function ae(Pe){return`${Pe}`}class Y{constructor(dt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=dt.encoder||new K,dt.fromString){if(dt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function V(Pe,dt){const vn=new Map;return Pe.length>0&&Pe.replace(/^\?/,"").split("&").forEach(Gn=>{const nr=Gn.indexOf("="),[er,Be]=-1==nr?[dt.decodeKey(Gn),""]:[dt.decodeKey(Gn.slice(0,nr)),dt.decodeValue(Gn.slice(nr+1))],tt=vn.get(er)||[];tt.push(Be),vn.set(er,tt)}),vn}(dt.fromString,this.encoder)}else dt.fromObject?(this.map=new Map,Object.keys(dt.fromObject).forEach(vn=>{const bn=dt.fromObject[vn],Gn=Array.isArray(bn)?bn.map(ae):[ae(bn)];this.map.set(vn,Gn)})):this.map=null}has(dt){return this.init(),this.map.has(dt)}get(dt){this.init();const vn=this.map.get(dt);return vn?vn[0]:null}getAll(dt){return this.init(),this.map.get(dt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(dt,vn){return this.clone({param:dt,value:vn,op:"a"})}appendAll(dt){const vn=[];return Object.keys(dt).forEach(bn=>{const Gn=dt[bn];Array.isArray(Gn)?Gn.forEach(nr=>{vn.push({param:bn,value:nr,op:"a"})}):vn.push({param:bn,value:Gn,op:"a"})}),this.clone(vn)}set(dt,vn){return this.clone({param:dt,value:vn,op:"s"})}delete(dt,vn){return this.clone({param:dt,value:vn,op:"d"})}toString(){return this.init(),this.keys().map(dt=>{const vn=this.encoder.encodeKey(dt);return this.map.get(dt).map(bn=>vn+"="+this.encoder.encodeValue(bn)).join("&")}).filter(dt=>""!==dt).join("&")}clone(dt){const vn=new Y({encoder:this.encoder});return vn.cloneFrom=this.cloneFrom||this,vn.updates=(this.updates||[]).concat(dt),vn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(dt=>this.map.set(dt,this.cloneFrom.map.get(dt))),this.updates.forEach(dt=>{switch(dt.op){case"a":case"s":const vn=("a"===dt.op?this.map.get(dt.param):void 0)||[];vn.push(ae(dt.value)),this.map.set(dt.param,vn);break;case"d":if(void 0===dt.value){this.map.delete(dt.param);break}{let bn=this.map.get(dt.param)||[];const Gn=bn.indexOf(ae(dt.value));-1!==Gn&&bn.splice(Gn,1),bn.length>0?this.map.set(dt.param,bn):this.map.delete(dt.param)}}}),this.cloneFrom=this.updates=null)}}class H{constructor(){this.map=new Map}set(dt,vn){return this.map.set(dt,vn),this}get(dt){return this.map.has(dt)||this.map.set(dt,dt.defaultValue()),this.map.get(dt)}delete(dt){return this.map.delete(dt),this}has(dt){return this.map.has(dt)}keys(){return this.map.keys()}}function B(Pe){return typeof ArrayBuffer<"u"&&Pe instanceof ArrayBuffer}function ce(Pe){return typeof Blob<"u"&&Pe instanceof Blob}function Oe(Pe){return typeof FormData<"u"&&Pe instanceof FormData}class qe{constructor(dt,vn,bn,Gn){let nr;if(this.url=vn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=dt.toUpperCase(),function me(Pe){switch(Pe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Gn?(this.body=void 0!==bn?bn:null,nr=Gn):nr=bn,nr&&(this.reportProgress=!!nr.reportProgress,this.withCredentials=!!nr.withCredentials,nr.responseType&&(this.responseType=nr.responseType),nr.headers&&(this.headers=nr.headers),nr.context&&(this.context=nr.context),nr.params&&(this.params=nr.params),this.transferCache=nr.transferCache),this.headers??=new M,this.context??=new H,this.params){const er=this.params.toString();if(0===er.length)this.urlWithParams=vn;else{const Be=vn.indexOf("?");this.urlWithParams=vn+(-1===Be?"?":Be<vn.length-1?"&":"")+er}}else this.params=new Y,this.urlWithParams=vn}serializeBody(){return null===this.body?null:"string"==typeof this.body||B(this.body)||ce(this.body)||Oe(this.body)||function Ue(Pe){return typeof URLSearchParams<"u"&&Pe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Y?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Oe(this.body)?null:ce(this.body)?this.body.type||null:B(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Y?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(dt={}){const vn=dt.method||this.method,bn=dt.url||this.url,Gn=dt.responseType||this.responseType,nr=dt.transferCache??this.transferCache,er=void 0!==dt.body?dt.body:this.body,Be=dt.withCredentials??this.withCredentials,tt=dt.reportProgress??this.reportProgress;let un=dt.headers||this.headers,fr=dt.params||this.params;const Ar=dt.context??this.context;return void 0!==dt.setHeaders&&(un=Object.keys(dt.setHeaders).reduce((zr,si)=>zr.set(si,dt.setHeaders[si]),un)),dt.setParams&&(fr=Object.keys(dt.setParams).reduce((zr,si)=>zr.set(si,dt.setParams[si]),fr)),new qe(vn,bn,er,{params:fr,headers:un,context:Ar,reportProgress:tt,responseType:Gn,withCredentials:Be,transferCache:nr})}}var _e=function(Pe){return Pe[Pe.Sent=0]="Sent",Pe[Pe.UploadProgress=1]="UploadProgress",Pe[Pe.ResponseHeader=2]="ResponseHeader",Pe[Pe.DownloadProgress=3]="DownloadProgress",Pe[Pe.Response=4]="Response",Pe[Pe.User=5]="User",Pe}(_e||{});class ht{constructor(dt,vn=j.Ok,bn="OK"){this.headers=dt.headers||new M,this.status=void 0!==dt.status?dt.status:vn,this.statusText=dt.statusText||bn,this.url=dt.url||null,this.ok=this.status>=200&&this.status<300}}class Bt extends ht{constructor(dt={}){super(dt),this.type=_e.ResponseHeader}clone(dt={}){return new Bt({headers:dt.headers||this.headers,status:void 0!==dt.status?dt.status:this.status,statusText:dt.statusText||this.statusText,url:dt.url||this.url||void 0})}}class de extends ht{constructor(dt={}){super(dt),this.type=_e.Response,this.body=void 0!==dt.body?dt.body:null}clone(dt={}){return new de({body:void 0!==dt.body?dt.body:this.body,headers:dt.headers||this.headers,status:void 0!==dt.status?dt.status:this.status,statusText:dt.statusText||this.statusText,url:dt.url||this.url||void 0})}}class R extends ht{constructor(dt){super(dt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${dt.url||"(unknown url)"}`:`Http failure response for ${dt.url||"(unknown url)"}: ${dt.status} ${dt.statusText}`,this.error=dt.error||null}}var j=function(Pe){return Pe[Pe.Continue=100]="Continue",Pe[Pe.SwitchingProtocols=101]="SwitchingProtocols",Pe[Pe.Processing=102]="Processing",Pe[Pe.EarlyHints=103]="EarlyHints",Pe[Pe.Ok=200]="Ok",Pe[Pe.Created=201]="Created",Pe[Pe.Accepted=202]="Accepted",Pe[Pe.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",Pe[Pe.NoContent=204]="NoContent",Pe[Pe.ResetContent=205]="ResetContent",Pe[Pe.PartialContent=206]="PartialContent",Pe[Pe.MultiStatus=207]="MultiStatus",Pe[Pe.AlreadyReported=208]="AlreadyReported",Pe[Pe.ImUsed=226]="ImUsed",Pe[Pe.MultipleChoices=300]="MultipleChoices",Pe[Pe.MovedPermanently=301]="MovedPermanently",Pe[Pe.Found=302]="Found",Pe[Pe.SeeOther=303]="SeeOther",Pe[Pe.NotModified=304]="NotModified",Pe[Pe.UseProxy=305]="UseProxy",Pe[Pe.Unused=306]="Unused",Pe[Pe.TemporaryRedirect=307]="TemporaryRedirect",Pe[Pe.PermanentRedirect=308]="PermanentRedirect",Pe[Pe.BadRequest=400]="BadRequest",Pe[Pe.Unauthorized=401]="Unauthorized",Pe[Pe.PaymentRequired=402]="PaymentRequired",Pe[Pe.Forbidden=403]="Forbidden",Pe[Pe.NotFound=404]="NotFound",Pe[Pe.MethodNotAllowed=405]="MethodNotAllowed",Pe[Pe.NotAcceptable=406]="NotAcceptable",Pe[Pe.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",Pe[Pe.RequestTimeout=408]="RequestTimeout",Pe[Pe.Conflict=409]="Conflict",Pe[Pe.Gone=410]="Gone",Pe[Pe.LengthRequired=411]="LengthRequired",Pe[Pe.PreconditionFailed=412]="PreconditionFailed",Pe[Pe.PayloadTooLarge=413]="PayloadTooLarge",Pe[Pe.UriTooLong=414]="UriTooLong",Pe[Pe.UnsupportedMediaType=415]="UnsupportedMediaType",Pe[Pe.RangeNotSatisfiable=416]="RangeNotSatisfiable",Pe[Pe.ExpectationFailed=417]="ExpectationFailed",Pe[Pe.ImATeapot=418]="ImATeapot",Pe[Pe.MisdirectedRequest=421]="MisdirectedRequest",Pe[Pe.UnprocessableEntity=422]="UnprocessableEntity",Pe[Pe.Locked=423]="Locked",Pe[Pe.FailedDependency=424]="FailedDependency",Pe[Pe.TooEarly=425]="TooEarly",Pe[Pe.UpgradeRequired=426]="UpgradeRequired",Pe[Pe.PreconditionRequired=428]="PreconditionRequired",Pe[Pe.TooManyRequests=429]="TooManyRequests",Pe[Pe.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",Pe[Pe.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",Pe[Pe.InternalServerError=500]="InternalServerError",Pe[Pe.NotImplemented=501]="NotImplemented",Pe[Pe.BadGateway=502]="BadGateway",Pe[Pe.ServiceUnavailable=503]="ServiceUnavailable",Pe[Pe.GatewayTimeout=504]="GatewayTimeout",Pe[Pe.HttpVersionNotSupported=505]="HttpVersionNotSupported",Pe[Pe.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",Pe[Pe.InsufficientStorage=507]="InsufficientStorage",Pe[Pe.LoopDetected=508]="LoopDetected",Pe[Pe.NotExtended=510]="NotExtended",Pe[Pe.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",Pe}(j||{});function he(Pe,dt){return{body:dt,headers:Pe.headers,context:Pe.context,observe:Pe.observe,params:Pe.params,reportProgress:Pe.reportProgress,responseType:Pe.responseType,withCredentials:Pe.withCredentials,transferCache:Pe.transferCache}}let Ce=(()=>{var Pe;class dt{constructor(bn){this.handler=bn}request(bn,Gn,nr={}){let er;if(bn instanceof qe)er=bn;else{let un,fr;un=nr.headers instanceof M?nr.headers:new M(nr.headers),nr.params&&(fr=nr.params instanceof Y?nr.params:new Y({fromObject:nr.params})),er=new qe(bn,Gn,void 0!==nr.body?nr.body:null,{headers:un,context:nr.context,params:fr,reportProgress:nr.reportProgress,responseType:nr.responseType||"json",withCredentials:nr.withCredentials,transferCache:nr.transferCache})}const Be=(0,f.of)(er).pipe((0,w.H)(un=>this.handler.handle(un)));if(bn instanceof qe||"events"===nr.observe)return Be;const tt=Be.pipe((0,d.p)(un=>un instanceof de));switch(nr.observe||"body"){case"body":switch(er.responseType){case"arraybuffer":return tt.pipe((0,k.T)(un=>{if(null!==un.body&&!(un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return un.body}));case"blob":return tt.pipe((0,k.T)(un=>{if(null!==un.body&&!(un.body instanceof Blob))throw new Error("Response is not a Blob.");return un.body}));case"text":return tt.pipe((0,k.T)(un=>{if(null!==un.body&&"string"!=typeof un.body)throw new Error("Response is not a string.");return un.body}));default:return tt.pipe((0,k.T)(un=>un.body))}case"response":return tt;default:throw new Error(`Unreachable: unhandled observe type ${nr.observe}}`)}}delete(bn,Gn={}){return this.request("DELETE",bn,Gn)}get(bn,Gn={}){return this.request("GET",bn,Gn)}head(bn,Gn={}){return this.request("HEAD",bn,Gn)}jsonp(bn,Gn){return this.request("JSONP",bn,{params:(new Y).append(Gn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(bn,Gn={}){return this.request("OPTIONS",bn,Gn)}patch(bn,Gn,nr={}){return this.request("PATCH",bn,he(nr,Gn))}post(bn,Gn,nr={}){return this.request("POST",bn,he(nr,Gn))}put(bn,Gn,nr={}){return this.request("PUT",bn,he(nr,Gn))}}return(Pe=dt).\u0275fac=function(bn){return new(bn||Pe)(u.KVO(y))},Pe.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac}),dt})();function Ot(Pe,dt){return dt(Pe)}function re(Pe,dt){return(vn,bn)=>dt.intercept(vn,{handle:Gn=>Pe(Gn,bn)})}const F=new u.nKC(""),T=new u.nKC(""),W=new u.nKC(""),z=new u.nKC("");function p(){let Pe=null;return(dt,vn)=>{null===Pe&&(Pe=((0,u.WQX)(F,{optional:!0})??[]).reduceRight(re,Ot));const bn=(0,u.WQX)(u.TgB),Gn=bn.add();return Pe(dt,vn).pipe((0,S.j)(()=>bn.remove(Gn)))}}let se=(()=>{var Pe;class dt extends y{constructor(bn,Gn){super(),this.backend=bn,this.injector=Gn,this.chain=null,this.pendingTasks=(0,u.WQX)(u.TgB);const nr=(0,u.WQX)(z,{optional:!0});this.backend=nr??bn}handle(bn){if(null===this.chain){const nr=Array.from(new Set([...this.injector.get(T),...this.injector.get(W,[])]));this.chain=nr.reduceRight((er,Be)=>function D(Pe,dt,vn){return(bn,Gn)=>(0,u.N4e)(vn,()=>dt(bn,nr=>Pe(nr,Gn)))}(er,Be,this.injector),Ot)}const Gn=this.pendingTasks.add();return this.chain(bn,nr=>this.backend.handle(nr)).pipe((0,S.j)(()=>this.pendingTasks.remove(Gn)))}}return(Pe=dt).\u0275fac=function(bn){return new(bn||Pe)(u.KVO(v),u.KVO(u.uvJ))},Pe.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac}),dt})();const gn=/^\)\]\}',?\n/;let bt=(()=>{var Pe;class dt{constructor(bn){this.xhrFactory=bn}handle(bn){if("JSONP"===bn.method)throw new u.wOt(-2800,!1);const Gn=this.xhrFactory;return(Gn.\u0275loadImpl?(0,x.H)(Gn.\u0275loadImpl()):(0,f.of)(null)).pipe((0,U.n)(()=>new C.c(er=>{const Be=Gn.build();if(Be.open(bn.method,bn.urlWithParams),bn.withCredentials&&(Be.withCredentials=!0),bn.headers.forEach((ai,Oi)=>Be.setRequestHeader(ai,Oi.join(","))),bn.headers.has("Accept")||Be.setRequestHeader("Accept","application/json, text/plain, */*"),!bn.headers.has("Content-Type")){const ai=bn.detectContentTypeHeader();null!==ai&&Be.setRequestHeader("Content-Type",ai)}if(bn.responseType){const ai=bn.responseType.toLowerCase();Be.responseType="json"!==ai?ai:"text"}const tt=bn.serializeBody();let un=null;const fr=()=>{if(null!==un)return un;const ai=Be.statusText||"OK",Oi=new M(Be.getAllResponseHeaders()),so=function lt(Pe){return"responseURL"in Pe&&Pe.responseURL?Pe.responseURL:/^X-Request-URL:/m.test(Pe.getAllResponseHeaders())?Pe.getResponseHeader("X-Request-URL"):null}(Be)||bn.url;return un=new Bt({headers:Oi,status:Be.status,statusText:ai,url:so}),un},Ar=()=>{let{headers:ai,status:Oi,statusText:so,url:wo}=fr(),eo=null;Oi!==j.NoContent&&(eo=typeof Be.response>"u"?Be.responseText:Be.response),0===Oi&&(Oi=eo?j.Ok:0);let Vo=Oi>=200&&Oi<300;if("json"===bn.responseType&&"string"==typeof eo){const $n=eo;eo=eo.replace(gn,"");try{eo=""!==eo?JSON.parse(eo):null}catch(fn){eo=$n,Vo&&(Vo=!1,eo={error:fn,text:eo})}}Vo?(er.next(new de({body:eo,headers:ai,status:Oi,statusText:so,url:wo||void 0})),er.complete()):er.error(new R({error:eo,headers:ai,status:Oi,statusText:so,url:wo||void 0}))},zr=ai=>{const{url:Oi}=fr(),so=new R({error:ai,status:Be.status||0,statusText:Be.statusText||"Unknown Error",url:Oi||void 0});er.error(so)};let si=!1;const Ti=ai=>{si||(er.next(fr()),si=!0);let Oi={type:_e.DownloadProgress,loaded:ai.loaded};ai.lengthComputable&&(Oi.total=ai.total),"text"===bn.responseType&&Be.responseText&&(Oi.partialText=Be.responseText),er.next(Oi)},ni=ai=>{let Oi={type:_e.UploadProgress,loaded:ai.loaded};ai.lengthComputable&&(Oi.total=ai.total),er.next(Oi)};return Be.addEventListener("load",Ar),Be.addEventListener("error",zr),Be.addEventListener("timeout",zr),Be.addEventListener("abort",zr),bn.reportProgress&&(Be.addEventListener("progress",Ti),null!==tt&&Be.upload&&Be.upload.addEventListener("progress",ni)),Be.send(tt),er.next({type:_e.Sent}),()=>{Be.removeEventListener("error",zr),Be.removeEventListener("abort",zr),Be.removeEventListener("load",Ar),Be.removeEventListener("timeout",zr),bn.reportProgress&&(Be.removeEventListener("progress",Ti),null!==tt&&Be.upload&&Be.upload.removeEventListener("progress",ni)),Be.readyState!==Be.DONE&&Be.abort()}})))}}return(Pe=dt).\u0275fac=function(bn){return new(bn||Pe)(u.KVO(P.N0))},Pe.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac}),dt})();const He=new u.nKC(""),mt=new u.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kt=new u.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dn{}let Jn=(()=>{var Pe;class dt{constructor(bn,Gn,nr){this.doc=bn,this.platform=Gn,this.cookieName=nr,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const bn=this.doc.cookie||"";return bn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,P._b)(bn,this.cookieName),this.lastCookieString=bn),this.lastToken}}return(Pe=dt).\u0275fac=function(bn){return new(bn||Pe)(u.KVO(P.qQ),u.KVO(u.Agw),u.KVO(mt))},Pe.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac}),dt})();function lr(Pe,dt){const vn=Pe.url.toLowerCase();if(!(0,u.WQX)(He)||"GET"===Pe.method||"HEAD"===Pe.method||vn.startsWith("http://")||vn.startsWith("https://"))return dt(Pe);const bn=(0,u.WQX)(Dn).getToken(),Gn=(0,u.WQX)(Kt);return null!=bn&&!Pe.headers.has(Gn)&&(Pe=Pe.clone({headers:Pe.headers.set(Gn,bn)})),dt(Pe)}var At=function(Pe){return Pe[Pe.Interceptors=0]="Interceptors",Pe[Pe.LegacyInterceptors=1]="LegacyInterceptors",Pe[Pe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pe[Pe.NoXsrfProtection=3]="NoXsrfProtection",Pe[Pe.JsonpSupport=4]="JsonpSupport",Pe[Pe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pe[Pe.Fetch=6]="Fetch",Pe}(At||{});function Et(Pe,dt){return{\u0275kind:Pe,\u0275providers:dt}}function xt(...Pe){const dt=[Ce,bt,se,{provide:y,useExisting:se},{provide:v,useExisting:bt},{provide:T,useValue:lr,multi:!0},{provide:He,useValue:!0},{provide:Dn,useClass:Jn}];for(const vn of Pe)dt.push(...vn.\u0275providers);return(0,u.EmA)(dt)}const tn=new u.nKC("");let We=(()=>{var Pe;class dt{}return(Pe=dt).\u0275fac=function(bn){return new(bn||Pe)},Pe.\u0275mod=u.$C({type:Pe}),Pe.\u0275inj=u.G2t({providers:[xt(Et(At.LegacyInterceptors,[{provide:tn,useFactory:p},{provide:T,useExisting:tn,multi:!0}]))]}),dt})()},50583:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>f});const i=void 0,f=["de",[["AM","PM"],i,i],i,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],i,i],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",i,"{1} 'um' {0}",i],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[i,"\u0440."],CUC:[i,"Cub$"],DEM:["DM"],FKP:[i,"Fl\xa3"],GHS:[i,"\u20b5"],GNF:[i,"F.G."],KMF:[i,"FC"],PHP:[i,"\u20b1"],RON:[i,"L"],RUR:[i,"\u0440."],RWF:[i,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[i,"K"]},"ltr",function u(C){const w=Math.floor(Math.abs(C)),d=C.toString().replace(/^[^.]*\.?/,"").length;return 1===w&&0===d?1:5}]},37522:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>f});const i=void 0,f=["es",[["a.\xa0m.","p.\xa0m."],i,i],i,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],i,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],i,[["a. C.","d. C."],i,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",i,i,i],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[i,"$"],BRL:[i,"R$"],BYN:[i,"\u0440."],CAD:[i,"$"],CNY:[i,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[i,"\xa3"],HKD:[i,"$"],ILS:[i,"\u20aa"],INR:[i,"\u20b9"],JPY:[i,"\xa5"],KRW:[i,"\u20a9"],MXN:[i,"$"],NZD:[i,"$"],PHP:[i,"\u20b1"],RON:[i,"L"],THB:["\u0e3f"],TWD:[i,"NT$"],USD:["US$","$"],XAF:[],XCD:[i,"$"],XOF:[]},"ltr",function u(C){const x=C,w=Math.floor(Math.abs(C)),d=C.toString().replace(/^[^.]*\.?/,"").length,k=parseInt(C.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===x?1:0===k&&0!==w&&w%1e6==0&&0===d||!(k>=0&&k<=5)?4:5}]},57078:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>f});const i=void 0,f=["fr",[["AM","PM"],i,i],i,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],i,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],i,[["av. J.-C.","ap. J.-C."],i,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",i],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[i,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[i,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[i,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[i,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[i,"\xa5"],KMF:[i,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[i,"$C"],NZD:["$NZ","$"],PHP:[i,"\u20b1"],RHD:["$RH"],RON:[i,"L"],RWF:[i,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[i,"$T"],TTD:["$TT","$"],TWD:[i,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[i,"$"],XPF:["FCFP"],ZMW:[i,"Kw"]},"ltr",function u(C){const w=Math.floor(Math.abs(C)),d=C.toString().replace(/^[^.]*\.?/,"").length,k=parseInt(C.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===w||1===w?1:0===k&&0!==w&&w%1e6==0&&0===d||!(k>=0&&k<=5)?4:5}]},83649:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>f});const i=void 0,f=["it",[["m.","p."],["AM","PM"],i],i,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],i,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],i,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",i,"{1} {0}",i],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[i,"R$"],BYN:[i,"Br"],EGP:[i,"\xa3E"],HKD:[i,"$"],INR:[i,"\u20b9"],JPY:[i,"\xa5"],KRW:[i,"\u20a9"],MXN:[i,"$"],NOK:[i,"NKr"],THB:["\u0e3f"],TWD:[i,"NT$"],USD:[i,"$"],VND:[i,"\u20ab"]},"ltr",function u(C){const w=Math.floor(Math.abs(C)),d=C.toString().replace(/^[^.]*\.?/,"").length,k=parseInt(C.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===w&&0===d?1:0===k&&0!==w&&w%1e6==0&&0===d||!(k>=0&&k<=5)?4:5}]},43649:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>f});const i=void 0,f=["ja",[["\u5348\u524d","\u5348\u5f8c"],i,i],i,[["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],i,["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]],i,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],i],i,[["BC","AD"],["\u7d00\u5143\u524d","\u897f\u66a6"],i],0,[6,0],["y/MM/dd",i,"y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H\u6642mm\u5206ss\u79d2 zzzz"],["{1} {0}",i,i,i],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"JPY","\uffe5","\u65e5\u672c\u5186",{BYN:[i,"\u0440."],CNY:["\u5143","\uffe5"],JPY:["\uffe5"],PHP:[i,"\u20b1"],RON:[i,"\u30ec\u30a4"],XXX:[]},"ltr",function u(C){return 5}]},98138:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>f});const i=void 0,f=["pt",[["AM","PM"],i,i],i,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],i,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],i,[["a.C.","d.C."],i,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",i,i,i],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[i,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[i,"\u20b1"],PTE:["Esc."],RON:[i,"L"],SYP:[i,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function u(C){const w=Math.floor(Math.abs(C)),d=C.toString().replace(/^[^.]*\.?/,"").length,k=parseInt(C.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return w===Math.floor(w)&&w>=0&&w<=1?1:0===k&&0!==w&&w%1e6==0&&0===d||!(k>=0&&k<=5)?4:5}]},29512:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>f});const i=void 0,f=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],i,i],i,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],i,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],i,[["\u516c\u5143\u524d","\u516c\u5143"],i,i],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",i,"y\u5e74M\u6708d\u65e5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",i,i,i],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],BYN:[i,"\u0440."],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],PHP:[i,"\u20b1"],RUR:[i,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function u(C){return 5}]},54438:(en,Ve,E)=>{"use strict";function u(e,t){return Object.is(e,t)}E.d(Ve,{bc$:()=>hu,iLQ:()=>ky,sZ2:()=>qf,hnV:()=>mw,Hbi:()=>MS,o8S:()=>vh,BIS:()=>ep,gRc:()=>Tw,Ql9:()=>ZT,OM3:()=>Ym,Ocv:()=>sS,abz:()=>qa,Z63:()=>Cr,aKT:()=>fd,uvJ:()=>De,zcH:()=>Vc,bkB:()=>nc,duS:()=>Kr,y_5:()=>Gs,$GK:()=>Hi,nKC:()=>Gn,zZn:()=>Sl,_q3:()=>Hy,MKu:()=>Gy,xe9:()=>D_,Co$:()=>ib,Vns:()=>vf,SKi:()=>ml,Xx1:()=>Lo,Agw:()=>Zu,PLl:()=>zh,rOR:()=>Xu,sFG:()=>XC,_9s:()=>u0,czy:()=>pl,WPN:()=>oc,kdw:()=>ca,C4Q:()=>zm,NYb:()=>$T,giA:()=>fw,RxE:()=>ow,c1b:()=>e_,gXe:()=>Xi,mal:()=>v0,Af3:()=>Ca,tdH:()=>qC,L39:()=>tI,EWP:()=>iI,a0P:()=>dI,Ol2:()=>Pv,w6W:()=>Z1,oH4:()=>Cw,QZP:()=>oC,SmG:()=>uS,Rfq:()=>lr,WQX:()=>$i,hFB:()=>Nl,Hps:()=>Tv,QuC:()=>hr,EmA:()=>Wi,geq:()=>P1,Udg:()=>nI,CGW:()=>ec,fpN:()=>AS,HJs:()=>uI,N4e:()=>ss,vPA:()=>L0,O8t:()=>oI,ebz:()=>R1,An2:()=>Qg,H3F:()=>sw,H8p:()=>ws,KH2:()=>Wp,TgB:()=>Dp,wOt:()=>I,WHO:()=>uw,e01:()=>hw,lNU:()=>p,h9k:()=>rh,$MX:()=>Si,ZF7:()=>Ln,Kcf:()=>_r,e5t:()=>Hr,UyX:()=>Br,cWb:()=>qn,osQ:()=>Yr,H5H:()=>ay,Zy3:()=>Ae,mq5:()=>cx,JZv:()=>lt,LfX:()=>ti,plB:()=>ph,jNT:()=>Oy,zjR:()=>pw,XSP:()=>OM,TL$:()=>ym,Tbb:()=>rt,rcV:()=>An,Vt3:()=>Iv,Mj6:()=>vo,GFd:()=>rb,OA$:()=>Ka,Jv_:()=>wE,aNF:()=>CE,R7$:()=>Fg,BMQ:()=>zv,HbH:()=>$b,AVh:()=>qv,vxM:()=>tx,wni:()=>qx,VBU:()=>wi,FsC:()=>Ge,jDH:()=>fi,G2t:()=>uo,$C:()=>pe,EJ8:()=>Mt,rXU:()=>fh,nrm:()=>ry,eu8:()=>iy,bVm:()=>g_,qex:()=>m_,k0s:()=>p_,j41:()=>f_,RV6:()=>lx,xGo:()=>Gu,Mr5:()=>oy,pXf:()=>kx,nnv:()=>Fx,YFu:()=>uy,uP7:()=>hy,k04:()=>Bx,PLo:()=>dy,KVO:()=>to,kS0:()=>ou,QTQ:()=>Pm,bIt:()=>fy,lsd:()=>eE,joV:()=>tu,qSk:()=>Bc,XpG:()=>Ux,nI1:()=>VE,bMT:()=>jE,i5U:()=>HE,SdG:()=>jx,NAR:()=>Vx,Y8G:()=>Xv,lJ4:()=>DE,eq3:()=>TE,l_i:()=>SE,sMw:()=>IE,ziG:()=>RE,l4e:()=>OE,lV:()=>PE,zJS:()=>kE,NyB:()=>nE,mGM:()=>Jx,sdS:()=>rE,Dyx:()=>ox,Z7z:()=>ix,fX1:()=>rx,Vm6:()=>nx,Njj:()=>Xs,EBC:()=>fp,tSv:()=>hp,eBV:()=>Fs,npT:()=>Ta,f$h:()=>jd,B4B:()=>Es,n$t:()=>sf,wjB:()=>AE,Aen:()=>vd,xc7:()=>Qv,Kam:()=>py,zvX:()=>sy,DNE:()=>Tp,C5r:()=>GE,EFF:()=>fE,JRh:()=>_y,SpI:()=>x_,Lme:()=>vy,SjE:()=>yy,DH7:()=>xE,mxI:()=>xy,R50:()=>by,GBs:()=>Zx,wEZ:()=>tE}),E(28407);let f=null,C=!1,x=1;const w=Symbol("SIGNAL");function d(e){const t=f;return f=e,t}const P={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function y(e){if(C)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const t=f.nextProducerIndex++;me(f),t<f.producerNode.length&&f.producerNode[t]!==e&&H(f)&&$(f.producerNode[t],f.producerIndexOfThis[t]),f.producerNode[t]!==e&&(f.producerNode[t]=e,f.producerIndexOfThis[t]=H(f)?Y(e,f,t):0),f.producerLastReadVersion[t]=e.version}function M(e){if((!H(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==x)){if(!e.producerMustRecompute(e)&&!te(e))return e.dirty=!1,void(e.lastCleanEpoch=x);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=x}}function G(e){if(void 0===e.liveConsumerNode)return;const t=C;C=!0;try{for(const n of e.liveConsumerNode)n.dirty||V(n)}finally{C=t}}function K(){return!1!==f?.consumerAllowSignalWrites}function V(e){e.dirty=!0,G(e),e.consumerMarkedDirty?.(e)}function Z(e){return e&&(e.nextProducerIndex=0),d(e)}function J(e,t){if(d(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(H(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)$(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function te(e){me(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==n.version||(M(n),o!==n.version))return!0}return!1}function ae(e){if(me(e),H(e))for(let t=0;t<e.producerNode.length;t++)$(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Y(e,t,n){if(B(e),me(e),0===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Y(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function $(e,t){if(B(e),me(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)$(e.producerNode[o],e.producerIndexOfThis[o]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];me(a),a.producerIndexOfThis[o]=t}}function H(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function me(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function B(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ce(e){const t=Object.create(_e);t.computation=e;const n=()=>{if(M(t),y(t),t.value===qe)throw t.error;return t.value};return n[w]=t,n}const Oe=Symbol("UNSET"),Ue=Symbol("COMPUTING"),qe=Symbol("ERRORED"),_e={...P,value:Oe,dirty:!0,error:null,equal:u,producerMustRecompute:e=>e.value===Oe||e.value===Ue,producerRecomputeValue(e){if(e.value===Ue)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Ue;const n=Z(e);let o;try{o=e.computation()}catch(a){o=qe,e.error=a}finally{J(e,n)}t!==Oe&&t!==qe&&o!==qe&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Bt=function ht(){throw new Error};function de(){Bt()}let j=null;function pt(e,t){K()||de(),e.equal(e.value,t)||(e.value=t,function It(e){e.version++,function v(){x++}(),G(e),j?.()}(e))}const Mn={...P,equal:u,value:void 0};const Xe=()=>{},Ot={...P,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Xe};var D=E(85052),F=E(81027),T=E(29160),W=E(36110);const p="https://g.co/ng/security#xss";class I extends Error{constructor(t,n){super(Ae(t,n)),this.code=t}}function Ae(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}const se=Symbol("InputSignalNode#UNSET"),L={...Mn,transformFn:void 0,applyValueToInputSignal(e,t){pt(e,t)}};function et(e,t){const n=Object.create(L);function o(){if(y(n),n.value===se)throw new I(-950,!1);return n.value}return n.value=e,n.transformFn=t?.transform,o[w]=n,o}function Pt(e){return{toString:e}.toString()}const ln="__parameters__";function jt(e,t,n){return Pt(()=>{const o=function ut(e){return function(...n){if(e){const o=e(...n);for(const a in o)this[a]=o[a]}}}(t);function a(..._){if(this instanceof a)return o.apply(this,_),this;const N=new a(..._);return ee.annotation=N,ee;function ee(Ee,Ct,Zt){const Fn=Ee.hasOwnProperty(ln)?Ee[ln]:Object.defineProperty(Ee,ln,{value:[]})[ln];for(;Fn.length<=Zt;)Fn.push(null);return(Fn[Zt]=Fn[Zt]||[]).push(N),Ee}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const lt=globalThis;function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function mt(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function rt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(rt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Kt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Jn=ye({__forward_ref__:ye});function lr(e){return e.__forward_ref__=lr,e.toString=function(){return rt(this())},e}function an(e){return At(e)?e():e}function At(e){return"function"==typeof e&&e.hasOwnProperty(Jn)&&e.__forward_ref__===lr}function Xt(e,t,n){e!=t&&function In(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(n,e,t,"==")}function fi(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function uo(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pi(e){return mr(e,Pe)||mr(e,vn)}function ti(e){return null!==Pi(e)}function mr(e,t){return e.hasOwnProperty(t)?e[t]:null}function ro(e){return e&&(e.hasOwnProperty(dt)||e.hasOwnProperty(bn))?e[dt]:null}const Pe=ye({\u0275prov:ye}),dt=ye({\u0275inj:ye}),vn=ye({ngInjectableDef:ye}),bn=ye({ngInjectorDef:ye});class Gn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=fi({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ni(e){return e&&!!e.\u0275providers}const ai=ye({\u0275cmp:ye}),Oi=ye({\u0275dir:ye}),so=ye({\u0275pipe:ye}),wo=ye({\u0275mod:ye}),eo=ye({\u0275fac:ye}),Vo=ye({__NG_ELEMENT_ID__:ye}),$n=ye({__NG_ENV_ID__:ye});function fn(e){return"string"==typeof e?e:null==e?"":String(e)}function io(e,t){throw new I(-201,!1)}var Hi=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Hi||{});let _o;function Co(){return _o}function Ro(e){const t=_o;return _o=e,t}function Is(e,t,n){const o=Pi(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&Hi.Optional?null:void 0!==t?t:void io()}const zo={},Zo="__NG_DI_FLAG__",os="ngTempTokenPath",Rs=/\n/gm,ur="__source";let jr;function Ri(e){const t=jr;return jr=e,t}function zi(e,t=Hi.Default){if(void 0===jr)throw new I(-203,!1);return null===jr?Is(e,void 0,t):jr.get(e,t&Hi.Optional?null:void 0,t)}function to(e,t=Hi.Default){return(Co()||zi)(an(e),t)}function $i(e,t=Hi.Default){return to(e,No(t))}function No(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ls(e){const t=[];for(let n=0;n<e.length;n++){const o=an(e[n]);if(Array.isArray(o)){if(0===o.length)throw new I(900,!1);let a,_=Hi.Default;for(let N=0;N<o.length;N++){const ee=o[N],Ee=ys(ee);"number"==typeof Ee?-1===Ee?a=ee.token:_|=Ee:a=ee}t.push(to(a,_))}else t.push(to(o))}return t}function Ns(e,t){return e[Zo]=t,e.prototype[Zo]=t,e}function ys(e){return e[Zo]}const Gs=Ns(jt("Inject",e=>({token:e})),-1),Lo=Ns(jt("Optional"),8),ca=Ns(jt("SkipSelf"),4);function Ks(e,t){return e.hasOwnProperty(eo)?e[eo]:null}function ua(e,t){e.forEach(n=>Array.isArray(n)?ua(n,t):t(n))}function tr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function pr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Wt(e,t,n){let o=$e(e,t);return o>=0?e[1|o]=n:(o=~o,function ot(e,t,n,o){let a=e.length;if(a==t)e.push(n,o);else if(1===a)e.push(o,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function hn(e,t){const n=$e(e,t);if(n>=0)return e[1|n]}function $e(e,t){return function nn(e,t,n){let o=0,a=e.length>>n;for(;a!==o;){const _=o+(a-o>>1),N=e[_<<n];if(t===N)return _<<n;N>t?a=_:o=_+1}return~(a<<n)}(e,t,1)}const Zn={},Er=[],Cr=new Gn(""),Kr=new Gn("",-1),$r=new Gn("");class pi{get(t,n=zo){if(n===zo){const o=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw o.name="NullInjectorError",o}return n}}var ri=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ri||{}),Xi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Xi||{}),vo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(vo||{});function ko(e,t,n){let o=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const _=t.length;if(a+_===o||e.charCodeAt(a+_)<=32)return a}n=a+1}}function Ao(e,t,n){let o=0;for(;o<n.length;){const a=n[o];if("number"==typeof a){if(0!==a)break;o++;const _=n[o++],N=n[o++],ee=n[o++];e.setAttribute(t,N,ee,_)}else{const _=a,N=n[++o];Qe(_)?e.setProperty(t,_,N):e.setAttribute(t,_,N),o++}}return o}function st(e){return 3===e||4===e||6===e}function Qe(e){return 64===e.charCodeAt(0)}function dn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?n=a:0===n||ft(e,n,a,null,-1===n||2===n?t[++o]:null)}}return e}function ft(e,t,n,o,a){let _=0,N=e.length;if(-1===t)N=-1;else for(;_<e.length;){const ee=e[_++];if("number"==typeof ee){if(ee===t){N=-1;break}if(ee>t){N=_-1;break}}}for(;_<e.length;){const ee=e[_];if("number"==typeof ee)break;if(ee===n){if(null===o)return void(null!==a&&(e[_+1]=a));if(o===e[_+1])return void(e[_+2]=a)}_++,null!==o&&_++,null!==a&&_++}-1!==N&&(e.splice(N,0,t),_=N+1),e.splice(_++,0,n),null!==o&&e.splice(_++,0,o),null!==a&&e.splice(_++,0,a)}const fe="ng-template";function St(e,t,n,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==ko(t[a+1].toLowerCase(),n,0))return!0}else if(cn(e))return!1;if(a=t.indexOf(1,a),a>-1){let _;for(;++a<t.length&&"string"==typeof(_=t[a]);)if(_.toLowerCase()===n)return!0}return!1}function cn(e){return 4===e.type&&e.value!==fe}function Yn(e,t,n){return t===(4!==e.type||n?e.value:fe)}function wt(e,t,n){let o=4;const a=e.attrs,_=null!==a?function Sn(e){for(let t=0;t<e.length;t++)if(st(e[t]))return t;return e.length}(a):0;let N=!1;for(let ee=0;ee<t.length;ee++){const Ee=t[ee];if("number"!=typeof Ee){if(!N)if(4&o){if(o=2|1&o,""!==Ee&&!Yn(e,Ee,n)||""===Ee&&1===t.length){if(Q(o))return!1;N=!0}}else if(8&o){if(null===a||!St(e,a,Ee,n)){if(Q(o))return!1;N=!0}}else{const Ct=t[++ee],Zt=be(Ee,a,cn(e),n);if(-1===Zt){if(Q(o))return!1;N=!0;continue}if(""!==Ct){let Fn;if(Fn=Zt>_?"":a[Zt+1].toLowerCase(),2&o&&Ct!==Fn){if(Q(o))return!1;N=!0}}}}else{if(!N&&!Q(o)&&!Q(Ee))return!1;if(N&&Q(Ee))continue;N=!1,o=Ee|1&o}}return Q(o)||N}function Q(e){return!(1&e)}function be(e,t,n,o){if(null===t)return-1;let a=0;if(o||!n){let _=!1;for(;a<t.length;){const N=t[a];if(N===e)return a;if(3===N||6===N)_=!0;else{if(1===N||2===N){let ee=t[++a];for(;"string"==typeof ee;)ee=t[++a];continue}if(4===N)break;if(0===N){a+=4;continue}}a+=_?1:2}return-1}return function Xn(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function Ke(e,t,n=!1){for(let o=0;o<t.length;o++)if(wt(e,t[o],n))return!0;return!1}function yr(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function Vr(e,t){return e?":not("+t.trim()+")":t}function ci(e){let t=e[0],n=1,o=2,a="",_=!1;for(;n<e.length;){let N=e[n];if("string"==typeof N)if(2&o){const ee=e[++n];a+="["+N+(ee.length>0?'="'+ee+'"':"")+"]"}else 8&o?a+="."+N:4&o&&(a+=" "+N);else""!==a&&!Q(N)&&(t+=Vr(_,a),a=""),o=N,_=_||!Q(o);n++}return""!==a&&(t+=Vr(_,a)),t}function wi(e){return Pt(()=>{const t=kr(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ri.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Xi.Emulated,styles:e.styles||Er,_:null,schemas:e.schemas||null,tView:null,id:""};Sr(n);const o=e.dependencies;return n.directiveDefs=Wr(o,!1),n.pipeDefs=Wr(o,!0),n.id=function Ci(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of n)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Zi(e){return Lt(e)||pn(e)}function Ui(e){return null!==e}function pe(e){return Pt(()=>({type:e.type,bootstrap:e.bootstrap||Er,declarations:e.declarations||Er,imports:e.imports||Er,exports:e.exports||Er,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function le(e,t){if(null==e)return Zn;const n={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let _,N,ee=vo.None;Array.isArray(a)?(ee=a[0],_=a[1],N=a[2]??_):(_=a,N=a),t?(n[_]=ee!==vo.None?[o,ee]:o,t[_]=N):n[_]=o}return n}function Ge(e){return Pt(()=>{const t=kr(e);return Sr(t),t})}function Mt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Lt(e){return e[ai]||null}function pn(e){return e[Oi]||null}function Bn(e){return e[so]||null}function hr(e){const t=Lt(e)||pn(e)||Bn(e);return null!==t&&t.standalone}function cr(e,t){const n=e[wo]||null;if(!n&&!0===t)throw new Error(`Type ${rt(e)} does not have '\u0275mod' property.`);return n}function kr(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Zn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Er,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:le(e.inputs,t),outputs:le(e.outputs),debugInfo:null}}function Sr(e){e.features?.forEach(t=>t(e))}function Wr(e,t){if(!e)return null;const n=t?Bn:Zi;return()=>("function"==typeof e?e():e).map(o=>n(o)).filter(Ui)}function Wi(e){return{\u0275providers:e}}function Hn(...e){return{\u0275providers:br(0,e),\u0275fromNgModule:!0}}function br(e,...t){const n=[],o=new Set;let a;const _=N=>{n.push(N)};return ua(t,N=>{const ee=N;rr(ee,_,[],o)&&(a||=[],a.push(ee))}),void 0!==a&&kn(a,_),n}function kn(e,t){for(let n=0;n<e.length;n++){const{ngModule:o,providers:a}=e[n];mi(a,_=>{t(_,o)})}}function rr(e,t,n,o){if(!(e=an(e)))return!1;let a=null,_=ro(e);const N=!_&&Lt(e);if(_||N){if(N&&!N.standalone)return!1;a=e}else{const Ee=e.ngModule;if(_=ro(Ee),!_)return!1;a=Ee}const ee=o.has(a);if(N){if(ee)return!1;if(o.add(a),N.dependencies){const Ee="function"==typeof N.dependencies?N.dependencies():N.dependencies;for(const Ct of Ee)rr(Ct,t,n,o)}}else{if(!_)return!1;{if(null!=_.imports&&!ee){let Ct;o.add(a);try{ua(_.imports,Zt=>{rr(Zt,t,n,o)&&(Ct||=[],Ct.push(Zt))})}finally{}void 0!==Ct&&kn(Ct,t)}if(!ee){const Ct=Ks(a)||(()=>new a);t({provide:a,useFactory:Ct,deps:Er},a),t({provide:$r,useValue:a,multi:!0},a),t({provide:Cr,useValue:()=>to(a),multi:!0},a)}const Ee=_.providers;if(null!=Ee&&!ee){const Ct=e;mi(Ee,Zt=>{t(Zt,Ct)})}}}return a!==e&&void 0!==e.providers}function mi(e,t){for(let n of e)ni(n)&&(n=n.\u0275providers),Array.isArray(n)?mi(n,t):t(n)}const Yi=ye({provide:String,useValue:ye});function Gi(e){return null!==e&&"object"==typeof e&&Yi in e}function Ni(e){return"function"==typeof e}const ws=new Gn(""),Jo={},Cs={};let rs;function Yt(){return void 0===rs&&(rs=new pi),rs}class De{}class ct extends De{get destroyed(){return this._destroyed}constructor(t,n,o,a){super(),this.parent=n,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fo(t,N=>this.processProvider(N)),this.records.set(Kr,li(void 0,this)),a.has("environment")&&this.records.set(De,li(void 0,this));const _=this.records.get(ws);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get($r,Er,Hi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=d(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),d(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ri(this),o=Ro(void 0);try{return t()}finally{Ri(n),Ro(o)}}get(t,n=zo,o=Hi.Default){if(this.assertNotDestroyed(),t.hasOwnProperty($n))return t[$n](this);o=No(o);const _=Ri(this),N=Ro(void 0);try{if(!(o&Hi.SkipSelf)){let Ee=this.records.get(t);if(void 0===Ee){const Ct=function go(e){return"function"==typeof e||"object"==typeof e&&e instanceof Gn}(t)&&Pi(t);Ee=Ct&&this.injectableDefInScope(Ct)?li(kt(t),Jo):null,this.records.set(t,Ee)}if(null!=Ee)return this.hydrate(t,Ee)}return(o&Hi.Self?Yt():this.parent).get(t,n=o&Hi.Optional&&n===zo?null:n)}catch(ee){if("NullInjectorError"===ee.name){if((ee[os]=ee[os]||[]).unshift(rt(t)),_)throw ee;return function Os(e,t,n,o){const a=e[os];throw t[ur]&&a.unshift(t[ur]),e.message=function qo(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=rt(t);if(Array.isArray(t))a=t.map(rt).join(" -> ");else if("object"==typeof t){let _=[];for(let N in t)if(t.hasOwnProperty(N)){let ee=t[N];_.push(N+":"+("string"==typeof ee?JSON.stringify(ee):rt(ee)))}a=`{${_.join(", ")}}`}return`${n}${o?"("+o+")":""}[${a}]: ${e.replace(Rs,"\n  ")}`}("\n"+e.message,a,n,o),e.ngTokenPath=a,e[os]=null,e}(ee,t,"R3InjectorError",this.source)}throw ee}finally{Ro(N),Ri(_)}}resolveInjectorInitializers(){const t=d(null),n=Ri(this),o=Ro(void 0);try{const _=this.get(Cr,Er,Hi.Self);for(const N of _)N()}finally{Ri(n),Ro(o),d(t)}}toString(){const t=[],n=this.records;for(const o of n.keys())t.push(rt(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){let n=Ni(t=an(t))?t:an(t&&t.provide);const o=function zn(e){return Gi(e)?li(void 0,e.useValue):li(ir(e),Jo)}(t);if(!Ni(t)&&!0===t.multi){let a=this.records.get(n);a||(a=li(void 0,Jo,!0),a.factory=()=>ls(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,o)}hydrate(t,n){const o=d(null);try{return n.value===Jo&&(n.value=Cs,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ho(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{d(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=an(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function kt(e){const t=Pi(e),n=null!==t?t.factory:Ks(e);if(null!==n)return n;if(e instanceof Gn)throw new I(204,!1);if(e instanceof Function)return function mn(e){if(e.length>0)throw new I(204,!1);const n=function Li(e){return e&&(e[Pe]||e[vn])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new I(204,!1)}function ir(e,t,n){let o;if(Ni(e)){const a=an(e);return Ks(a)||kt(a)}if(Gi(e))o=()=>an(e.useValue);else if(function Yo(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ls(e.deps||[]));else if(function Vi(e){return!(!e||!e.useExisting)}(e))o=()=>to(an(e.useExisting));else{const a=an(e&&(e.useClass||e.provide));if(!function ji(e){return!!e.deps}(e))return Ks(a)||kt(a);o=()=>new a(...ls(e.deps))}return o}function li(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Fo(e,t){for(const n of e)Array.isArray(n)?Fo(n,t):n&&ni(n)?Fo(n.\u0275providers,t):t(n)}function ss(e,t){e instanceof ct&&e.assertNotDestroyed();const o=Ri(e),a=Ro(void 0);try{return t()}finally{Ri(o),Ro(a)}}function oa(){return void 0!==Co()||null!=function Mi(){return jr}()}function Ca(e){if(!oa())throw new I(-203,!1)}const $o=0,no=1,Do=2,Ls=3,va=4,Qs=5,ha=6,Ua=7,Ps=8,fa=9,xa=10,Xo=11,tl=12,Al=13,Cc=14,Aa=15,od=16,Ac=17,Wa=18,Ml=19,dc=20,Cn=21,Vl=22,gl=23,jo=25,ks=1,Fl=7,cl=9,Da=10;var Mc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Mc||{});function Ba(e){return Array.isArray(e)&&"object"==typeof e[ks]}function Oa(e){return Array.isArray(e)&&!0===e[ks]}function Dl(e){return!!(4&e.flags)}function Ga(e){return e.componentOffset>-1}function _s(e){return!(1&~e.flags)}function nl(e){return!!e.template}function Kc(e){return!!(512&e[Do])}class ma{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function uc(e,t,n,o){null!==t?t.applyValueToInputSignal(t,o):e[n]=o}function Ka(){return ul}function ul(e){return e.type.prototype.ngOnChanges&&(e.setInput=Tc),xd}function xd(){const e=Su(this),t=e?.current;if(t){const n=e.previous;if(n===Zn)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Tc(e,t,n,o,a){const _=this.declaredInputs[o],N=Su(e)||function Yl(e,t){return e[vl]=t}(e,{previous:Zn,current:null}),ee=N.current||(N.current={}),Ee=N.previous,Ct=Ee[_];ee[_]=new ma(Ct&&Ct.currentValue,n,Ee===Zn),uc(e,t,a,n)}Ka.ngInherit=!0;const vl="__ngSimpleChanges__";function Su(e){return e[vl]||null}const Na=function(e,t,n){},Rc="svg";let Qc=!1;function fs(e){for(;Array.isArray(e);)e=e[$o];return e}function Pc(e,t){return fs(t[e])}function Ea(e,t){return fs(t[e.index])}function jl(e,t){return e.data[t]}function yl(e,t){return e[t]}function Xa(e,t){const n=t[e];return Ba(n)?n:n[$o]}function kc(e){return!(128&~e[Do])}function hl(e,t){return null==t?null:e[t]}function r(e){e[Ac]=0}function m(e){1024&e[Do]||(e[Do]|=1024,kc(e)&&Qt(e))}function Fe(e){return!!(9216&e[Do]||e[gl]?.dirty)}function _t(e){e[xa].changeDetectionScheduler?.notify(1),Fe(e)?Qt(e):64&e[Do]&&(function Ed(){return Qc}()?(e[Do]|=1024,Qt(e)):e[xa].changeDetectionScheduler?.notify())}function Qt(e){e[xa].changeDetectionScheduler?.notify();let t=Qn(e);for(;null!==t&&!(8192&t[Do])&&(t[Do]|=8192,kc(t));)t=Qn(t)}function _n(e,t){if(!(256&~e[Do]))throw new I(911,!1);null===e[Cn]&&(e[Cn]=[]),e[Cn].push(t)}function Qn(e){const t=e[Ls];return Oa(t)?t[Ls]:t}const Kn={lFrame:Tl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oo(){return Kn.bindingsEnabled}function yi(){return null!==Kn.skipHydrationRootTNode}function Or(){return Kn.lFrame.lView}function Io(){return Kn.lFrame.tView}function Fs(e){return Kn.lFrame.contextLView=e,e[Ps]}function Xs(e){return Kn.lFrame.contextLView=null,e}function yo(){let e=ta();for(;null!==e&&64===e.type;)e=e.parent;return e}function ta(){return Kn.lFrame.currentTNode}function sa(){const e=Kn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Us(e,t){const n=Kn.lFrame;n.currentTNode=e,n.isParent=t}function is(){return Kn.lFrame.isParent}function rl(){Kn.lFrame.isParent=!1}function Ya(){const e=Kn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hc(){return Kn.lFrame.bindingIndex}function bl(){return Kn.lFrame.bindingIndex++}function Ql(e){const t=Kn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Bl(e){Kn.lFrame.inI18n=e}function Jp(e,t){const n=Kn.lFrame;n.bindingIndex=n.bindingRootIndex=e,qd(t)}function qd(e){Kn.lFrame.currentDirectiveIndex=e}function Ou(e){const t=Kn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function cd(){return Kn.lFrame.currentQueryIndex}function za(e){Kn.lFrame.currentQueryIndex=e}function Fc(e){const t=e[no];return 2===t.type?t.declTNode:1===t.type?e[Qs]:null}function Pu(e,t,n){if(n&Hi.SkipSelf){let a=t,_=e;for(;!(a=a.parent,null!==a||n&Hi.Host||(a=Fc(_),null===a||(_=_[Cc],10&a.type))););if(null===a)return!1;t=a,e=_}const o=Kn.lFrame=Zd();return o.currentTNode=t,o.lView=e,!0}function ku(e){const t=Zd(),n=e[no];Kn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Zd(){const e=Kn.lFrame,t=null===e?null:e.child;return null===t?Tl(e):t}function Tl(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Jd(){const e=Kn.lFrame;return Kn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Fu=Jd;function eu(){const e=Jd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ra(){return Kn.lFrame.selectedIndex}function aa(e){Kn.lFrame.selectedIndex=e}function qs(){const e=Kn.lFrame;return jl(e.tView,e.selectedIndex)}function Bc(){Kn.lFrame.currentNamespace=Rc}function tu(){!function em(){Kn.lFrame.currentNamespace=null}()}let Nu=!0;function Zc(){return Nu}function Va(e){Nu=e}function Jc(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const _=e.data[n].type.prototype,{ngAfterContentInit:N,ngAfterContentChecked:ee,ngAfterViewInit:Ee,ngAfterViewChecked:Ct,ngOnDestroy:Zt}=_;N&&(e.contentHooks??=[]).push(-n,N),ee&&((e.contentHooks??=[]).push(n,ee),(e.contentCheckHooks??=[]).push(n,ee)),Ee&&(e.viewHooks??=[]).push(-n,Ee),Ct&&((e.viewHooks??=[]).push(n,Ct),(e.viewCheckHooks??=[]).push(n,Ct)),null!=Zt&&(e.destroyHooks??=[]).push(n,Zt)}}function vs(e,t,n){Af(e,t,3,n)}function ja(e,t,n,o){(3&e[Do])===n&&Af(e,t,n,o)}function Ma(e,t){let n=e[Do];(3&n)===t&&(n&=16383,n+=1,e[Do]=n)}function Af(e,t,n,o){const _=o??-1,N=t.length-1;let ee=0;for(let Ee=void 0!==o?65535&e[Ac]:0;Ee<N;Ee++)if("number"==typeof t[Ee+1]){if(ee=t[Ee],null!=o&&ee>=o)break}else t[Ee]<0&&(e[Ac]+=65536),(ee<_||-1==_)&&(Uu(e,n,t,Ee),e[Ac]=(4294901760&e[Ac])+Ee+2),Ee++}function xh(e,t){Na(4,e,t);const n=d(null);try{t.call(e)}finally{d(n),Na(5,e,t)}}function Uu(e,t,n,o){const a=n[o]<0,_=n[o+1],ee=e[a?-n[o]:n[o]];a?e[Do]>>14<e[Ac]>>16&&(3&e[Do])===t&&(e[Do]+=16384,xh(ee,_)):xh(ee,_)}const Hl=-1;class Cd{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function Vu(e){return e!==Hl}function ed(e){return 32767&e}function ql(e,t){let n=function Df(e){return e>>16}(e),o=t;for(;n>0;)o=o[Cc],n--;return o}let Nc=!0;function fc(e){const t=Nc;return Nc=e,t}const ju=255,nu=5;let wh=0;const Gl={};function ru(e,t){const n=Ch(e,t);if(-1!==n)return n;const o=t[no];o.firstCreatePass&&(e.injectorIndex=t.length,Zl(o.data,e),Zl(t,null),Zl(o.blueprint,null));const a=Dd(e,t),_=e.injectorIndex;if(Vu(a)){const N=ed(a),ee=ql(a,t),Ee=ee[no].data;for(let Ct=0;Ct<8;Ct++)t[_+Ct]=ee[N+Ct]|Ee[N+Ct]}return t[_+8]=a,_}function Zl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ch(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Dd(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,a=t;for(;null!==a;){if(o=Rf(a),null===o)return Hl;if(n++,a=a[Cc],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return Hl}function Ah(e,t,n){!function Tf(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(Vo)&&(o=n[Vo]),null==o&&(o=n[Vo]=wh++);const a=o&ju;t.data[e+(a>>nu)]|=1<<a}(e,t,n)}function Sf(e,t,n){if(n&Hi.Optional||void 0!==e)return e;io()}function Td(e,t,n,o){if(n&Hi.Optional&&void 0===o&&(o=null),!(n&(Hi.Self|Hi.Host))){const a=e[fa],_=Ro(void 0);try{return a?a.get(t,o,n&Hi.Optional):Is(t,o,n&Hi.Optional)}finally{Ro(_)}}return Sf(o,0,n)}function pc(e,t,n,o=Hi.Default,a){if(null!==e){if(2048&t[Do]&&!(o&Hi.Self)){const N=function If(e,t,n,o,a){let _=e,N=t;for(;null!==_&&null!==N&&2048&N[Do]&&!(512&N[Do]);){const ee=iu(_,N,n,o|Hi.Self,Gl);if(ee!==Gl)return ee;let Ee=_.parent;if(!Ee){const Ct=N[dc];if(Ct){const Zt=Ct.get(n,Gl,o);if(Zt!==Gl)return Zt}Ee=Rf(N),N=N[Cc]}_=Ee}return a}(e,t,n,o,Gl);if(N!==Gl)return N}const _=iu(e,t,n,o,Gl);if(_!==Gl)return _}return Td(t,n,o,a)}function iu(e,t,n,o,a){const _=function ud(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Vo)?e[Vo]:void 0;return"number"==typeof t?t>=0?t&ju:Hu:t}(n);if("function"==typeof _){if(!Pu(t,e,o))return o&Hi.Host?Sf(a,0,o):Td(t,n,o,a);try{let N;if(N=_(o),null!=N||o&Hi.Optional)return N;io()}finally{Fu()}}else if("number"==typeof _){let N=null,ee=Ch(e,t),Ee=Hl,Ct=o&Hi.Host?t[Aa][Qs]:null;for((-1===ee||o&Hi.SkipSelf)&&(Ee=-1===ee?Dd(e,t):t[ee+8],Ee!==Hl&&mc(o,!1)?(N=t[no],ee=ed(Ee),t=ql(Ee,t)):ee=-1);-1!==ee;){const Zt=t[no];if(ts(_,ee,Zt.data)){const Fn=Dh(ee,t,n,N,o,Ct);if(Fn!==Gl)return Fn}Ee=t[ee+8],Ee!==Hl&&mc(o,t[no].data[ee+8]===Ct)&&ts(_,ee,t)?(N=Zt,ee=ed(Ee),t=ql(Ee,t)):ee=-1}}return a}function Dh(e,t,n,o,a,_){const N=t[no],ee=N.data[e+8],Zt=Sd(ee,N,n,null==o?Ga(ee)&&Nc:o!=N&&!!(3&ee.type),a&Hi.Host&&_===ee);return null!==Zt?Jl(t,N,Zt,ee):Gl}function Sd(e,t,n,o,a){const _=e.providerIndexes,N=t.data,ee=1048575&_,Ee=e.directiveStart,Zt=_>>20,wr=a?ee+Zt:e.directiveEnd;for(let Rr=o?ee:ee+Zt;Rr<wr;Rr++){const ei=N[Rr];if(Rr<Ee&&n===ei||Rr>=Ee&&ei.type===n)return Rr}if(a){const Rr=N[Ee];if(Rr&&nl(Rr)&&Rr.type===n)return Ee}return null}function Jl(e,t,n,o){let a=e[n];const _=t.data;if(function dd(e){return e instanceof Cd}(a)){const N=a;N.resolving&&function Wn(e,t){throw t&&t.join(" > "),new I(-200,e)}(function ze(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():fn(e)}(_[n]));const ee=fc(N.canSeeViewProviders);N.resolving=!0;const Ct=N.injectImpl?Ro(N.injectImpl):null;Pu(e,o,Hi.Default);try{a=e[n]=N.factory(void 0,_,e,o),t.firstCreatePass&&n>=o.directiveStart&&function Lu(e,t,n){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:_}=t.type.prototype;if(o){const N=ul(t);(n.preOrderHooks??=[]).push(e,N),(n.preOrderCheckHooks??=[]).push(e,N)}a&&(n.preOrderHooks??=[]).push(0-e,a),_&&((n.preOrderHooks??=[]).push(e,_),(n.preOrderCheckHooks??=[]).push(e,_))}(n,_[n],t)}finally{null!==Ct&&Ro(Ct),fc(ee),N.resolving=!1,Fu()}}return a}function ts(e,t,n){return!!(n[t+(e>>nu)]&1<<e)}function mc(e,t){return!(e&Hi.Self||e&Hi.Host&&t)}class Ha{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return pc(this._tNode,this._lView,t,No(o),n)}}function Hu(){return new Ha(yo(),Or())}function Gu(e){return Pt(()=>{const t=e.prototype.constructor,n=t[eo]||Qa(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const _=a[eo]||Qa(a);if(_&&_!==n)return _;a=Object.getPrototypeOf(a)}return _=>new _})}function Qa(e){return At(e)?()=>{const t=Qa(an(e));return t&&t()}:Ks(e)}function Rf(e){const t=e[no],n=t.type;return 2===n?t.declTNode:1===n?e[Qs]:null}function ou(e){return function Mh(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let a=0;for(;a<o;){const _=n[a];if(st(_))break;if(0===_)a+=2;else if("number"==typeof _)for(a++;a<o&&"string"==typeof n[a];)a++;else{if(_===t)return n[a+1];a+=2}}}return null}(yo(),e)}function Rh(e,t=null,n=null,o){const a=Id(e,t,n,o);return a.resolveInjectorInitializers(),a}function Id(e,t=null,n=null,o,a=new Set){const _=[n||Er,Hn(e)];return o=o||("object"==typeof e?void 0:rt(e)),new ct(_,t||Yt(),o||null,a)}let Sl=(()=>{var e;class t{static create(o,a){if(Array.isArray(o))return Rh({name:""},a,o,"");{const _=o.name??"";return Rh({name:_},o.parent,o.providers,_)}}}return(e=t).THROW_IF_NOT_FOUND=zo,e.NULL=new pi,e.\u0275prov=fi({token:e,providedIn:"any",factory:()=>to(Kr)}),e.__NG_ELEMENT_ID__=-1,t})();function td(e){return e.ngOriginalError}class Vc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&td(t);for(;n&&td(n);)n=td(n);return n||null}}const su=new Gn("",{providedIn:"root",factory:()=>$i(Vc).handleError.bind(void 0)});let qa=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Od,e.__NG_ENV_ID__=n=>n,t})();class Rd extends qa{constructor(t){super(),this._lView=t}onDestroy(t){return _n(this._lView,t),()=>function On(e,t){if(null===e[Cn])return;const n=e[Cn].indexOf(t);-1!==n&&e[Cn].splice(n,1)}(this._lView,t)}}function Od(){return new Rd(Or())}class Wu{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=$i(Vc,{optional:!0}),this.destroyRef=$i(qa),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new I(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{const n=this.listeners?.indexOf(t);void 0!==n&&-1!==n&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed)throw new I(953,!1);if(null===this.listeners)return;const n=d(null);try{for(const o of this.listeners)try{o(t)}catch(a){this.errorHandler?.handleError(a)}}finally{d(n)}}}function ec(e){return new Wu}function Pd(e,t){return et(e,t)}const Nl=(Pd.required=function tc(e){return et(se,e)},Pd);function au(){return _c(yo(),Or())}function _c(e,t){return new fd(Ea(e,t))}let fd=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=au,t})();function Lf(e){return e instanceof fd?e.nativeElement:e}function Ku(e){return t=>{setTimeout(e,void 0,t)}}const nc=class Uf extends D.B{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,oa()&&(this.destroyRef=$i(qa,{optional:!0})??void 0)}emit(t){const n=d(null);try{super.next(t)}finally{d(n)}}subscribe(t,n,o){let a=t,_=n||(()=>null),N=o;if(t&&"object"==typeof t){const Ee=t;a=Ee.next?.bind(Ee),_=Ee.error?.bind(Ee),N=Ee.complete?.bind(Ee)}this.__isAsync&&(_=Ku(_),a&&(a=Ku(a)),N&&(N=Ku(N)));const ee=super.subscribe({next:a,error:_,complete:N});return t instanceof F.yU&&t.add(ee),ee}};function Vf(){return this._results[Symbol.iterator]()}class Xu{get changes(){return this._changes??=new nc}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Xu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Vf)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const o=function cs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ds(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],_=t[o];if(n&&(a=n(a),_=n(_)),_!==a)return!1}return!0}(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function md(e){return!(128&~e.flags)}const jc=new Map;let am=0;const kh="__ngContext__";function ga(e,t){Ba(t)?(e[kh]=t[Ml],function cm(e){jc.set(e[Ml],e)}(t)):e[kh]=t}function zf(e){return Wf(e[tl])}function $f(e){return Wf(e[va])}function Wf(e){for(;null!==e&&!Oa(e);)e=e[va];return e}let Gh;function ym(e){Gh=e}function zc(){if(void 0!==Gh)return Gh;if(typeof document<"u")return document;throw new I(210,!1)}const qf=new Gn("",{providedIn:"root",factory:()=>Zf}),Zf="ng",zh=new Gn(""),Zu=new Gn("",{providedIn:"platform",factory:()=>"unknown"}),hu=new Gn(""),ep=new Gn("",{providedIn:"root",factory:()=>zc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _d=()=>null;function Jh(e,t,n=!1){return _d(e,t,n)}const g=new Gn("",{providedIn:"root",factory:()=>!1});let O,Me;function ie(e){return function X(){if(void 0===O&&(O=null,lt.trustedTypes))try{O=lt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return O}()?.createHTML(e)||e}function Le(){if(void 0===Me&&(Me=null,lt.trustedTypes))try{Me=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Me}function at(e){return Le()?.createHTML(e)||e}function Gt(e){return Le()?.createScriptURL(e)||e}class qt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${p})`}}class Ut extends qt{getTypeName(){return"HTML"}}class rn extends qt{getTypeName(){return"Style"}}class Un extends qt{getTypeName(){return"Script"}}class Pn extends qt{getTypeName(){return"URL"}}class Rn extends qt{getTypeName(){return"ResourceURL"}}function An(e){return e instanceof qt?e.changingThisBreaksApplicationSecurity:e}function Ln(e,t){const n=function or(e){return e instanceof qt&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${p})`)}return n===t}function _r(e){return new Ut(e)}function qn(e){return new rn(e)}function Br(e){return new Un(e)}function Yr(e){return new Pn(e)}function Hr(e){return new Rn(e)}function Nr(e){const t=new gi(e);return function xi(){try{return!!(new window.DOMParser).parseFromString(ie(""),"text/html")}catch{return!1}}()?new bi(t):t}class bi{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ie(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class gi{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=ie(t),n}}const Fr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Si(e){return(e=String(e)).match(Fr)?e:"unsafe:"+e}function ki(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Mo(...e){const t={};for(const n of e)for(const o in n)n.hasOwnProperty(o)&&(t[o]=!0);return t}const bo=ki("area,br,col,hr,img,wbr"),Qo=ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ii=ki("rp,rt"),la=Mo(bo,Mo(Qo,ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mo(Ii,ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mo(Ii,Qo)),Zs=ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ka=Mo(Zs,ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Za=ki("script,style,template");class Rl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,o=!0,a=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild)a.push(n),n=bu(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let _=vc(n);if(_){n=_;break}n=a.pop()}return this.buf.join("")}startElement(t){const n=xu(t).toLowerCase();if(!la.hasOwnProperty(n))return this.sanitizedSomething=!0,!Za.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const o=t.attributes;for(let a=0;a<o.length;a++){const _=o.item(a),N=_.name,ee=N.toLowerCase();if(!ka.hasOwnProperty(ee)){this.sanitizedSomething=!0;continue}let Ee=_.value;Zs[ee]&&(Ee=Si(Ee)),this.buf.push(" ",N,'="',ic(Ee),'"')}return this.buf.push(">"),!0}endElement(t){const n=xu(t).toLowerCase();la.hasOwnProperty(n)&&!bo.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(ic(t))}}function vc(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw yc(t);return t}function bu(e){const t=e.firstChild;if(t&&function zl(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw yc(t);return t}function xu(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function yc(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const wa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ss=/([^\#-~ |!])/g;function ic(e){return e.replace(/&/g,"&amp;").replace(wa,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ss,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ud;function rh(e,t){let n=null;try{Ud=Ud||Nr(e);let o=t?String(t):"";n=Ud.getInertBodyElement(o);let a=5,_=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=_,_=n.innerHTML,n=Ud.getInertBodyElement(o)}while(o!==_);return ie((new Rl).sanitizeChildren(Eu(n)||n))}finally{if(n){const o=Eu(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Eu(e){return"content"in e&&function Vd(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var oc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(oc||{});function Ta(e){const t=wu();return t?at(t.sanitize(oc.HTML,e)||""):Ln(e,"HTML")?at(An(e)):rh(zc(),fn(e))}function Es(e){const t=wu();return t?t.sanitize(oc.URL,e)||"":Ln(e,"URL")?An(e):Si(fn(e))}function jd(e){const t=wu();if(t)return Gt(t.sanitize(oc.RESOURCE_URL,e)||"");if(Ln(e,"ResourceURL"))return Gt(An(e));throw new I(904,!1)}function sf(e,t,n){return function _a(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?jd:Es}(t,n)(e)}function wu(){const e=Or();return e&&e[xa].sanitizer}const Cu=/^>|^->|<!--|-->|--!>|<!-$/g,sp=/(<|>)/g,Hd="\u200b$1\u200b";function hp(e){return e.ownerDocument.defaultView}function fp(e){return e.ownerDocument}function mo(e){return e instanceof Function?e():e}var pl=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pl||{});let Ol;function $l(e,t){return Ol(e,t)}function xc(e,t,n,o,a){if(null!=o){let _,N=!1;Oa(o)?_=o:Ba(o)&&(N=!0,o=o[$o]);const ee=fs(o);0===e&&null!==n?null==a?Tg(t,n,ee):Du(t,n,ee,a||null,!0):1===e&&null!==n?Du(t,n,ee,a||null,!0):2===e?pf(t,ee,N):3===e&&t.destroyNode(ee),null!=_&&function $_(e,t,n,o,a){const _=n[Fl];_!==fs(n)&&xc(t,e,o,_,a);for(let ee=Da;ee<n.length;ee++){const Ee=n[ee];hh(Ee[no],Ee,e,t,o,_)}}(t,e,_,n,a)}}function pp(e,t){return e.createText(t)}function Cg(e,t,n){e.setValue(t,n)}function Dm(e,t){return e.createComment(function af(e){return e.replace(Cu,t=>t.replace(sp,Hd))}(t))}function mp(e,t,n){return e.createElement(t,n)}function Ag(e,t){t[xa].changeDetectionScheduler?.notify(1),hh(e,t,t[Xo],2,null,null)}function Mg(e,t){const n=e[cl],o=n.indexOf(t);n.splice(o,1)}function hf(e,t){if(e.length<=Da)return;const n=Da+t,o=e[n];if(o){const a=o[od];null!==a&&a!==e&&Mg(a,o),t>0&&(e[n-1][va]=o[va]);const _=pr(e,Da+t);!function F_(e,t){Ag(e,t),t[$o]=null,t[Qs]=null}(o[no],o);const N=_[Wa];null!==N&&N.detachView(_[no]),o[Ls]=null,o[va]=null,o[Do]&=-129}return o}function gp(e,t){if(!(256&t[Do])){const n=t[Xo];n.destroyNode&&hh(e,t,n,3,null,null),function N_(e){let t=e[tl];if(!t)return Tm(e[no],e);for(;t;){let n=null;if(Ba(t))n=t[tl];else{const o=t[Da];o&&(n=o)}if(!n){for(;t&&!t[va]&&t!==e;)Ba(t)&&Tm(t[no],t),t=t[Ls];null===t&&(t=e),Ba(t)&&Tm(t[no],t),n=t&&t[va]}t=n}}(t)}}function Tm(e,t){if(256&t[Do])return;const n=d(null);try{t[Do]&=-129,t[Do]|=256,t[gl]&&ae(t[gl]),function j_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const a=t[n[o]];if(!(a instanceof Cd)){const _=n[o+1];if(Array.isArray(_))for(let N=0;N<_.length;N+=2){const ee=a[_[N]],Ee=_[N+1];Na(4,ee,Ee);try{Ee.call(ee)}finally{Na(5,ee,Ee)}}else{Na(4,a,_);try{_.call(a)}finally{Na(5,a,_)}}}}}(e,t),function V_(e,t){const n=e.cleanup,o=t[Ua];if(null!==n)for(let _=0;_<n.length-1;_+=2)if("string"==typeof n[_]){const N=n[_+3];N>=0?o[N]():o[-N].unsubscribe(),_+=2}else n[_].call(o[n[_+1]]);null!==o&&(t[Ua]=null);const a=t[Cn];if(null!==a){t[Cn]=null;for(let _=0;_<a.length;_++)(0,a[_])()}}(e,t),1===t[no].type&&t[Xo].destroy();const o=t[od];if(null!==o&&Oa(t[Ls])){o!==t[Ls]&&Mg(o,t);const a=t[Wa];null!==a&&a.detachView(e)}!function dm(e){jc.delete(e[Ml])}(t)}finally{d(n)}}function Sm(e,t,n){return Dg(e,t.parent,n)}function Dg(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[$o];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:_}=e.data[o.directiveStart+a];if(_===Xi.None||_===Xi.Emulated)return null}return Ea(o,n)}}function Du(e,t,n,o,a){e.insertBefore(t,n,o,a)}function Tg(e,t,n){e.appendChild(t,n)}function Sg(e,t,n,o,a){null!==o?Du(e,t,n,o,a):Tg(e,t,n)}function _p(e,t){return e.parentNode(t)}function Ig(e,t,n){return Im(e,t,n)}function vp(e,t,n){return 40&e.type?Ea(e,n):null}let yp,Im=vp;function Rg(e,t){Im=e,yp=t}function bp(e,t,n,o){const a=Sm(e,o,t),_=t[Xo],ee=Ig(o.parent||t[Qs],o,t);if(null!=a)if(Array.isArray(n))for(let Ee=0;Ee<n.length;Ee++)Sg(_,a,n[Ee],ee,!1);else Sg(_,a,n,ee,!1);void 0!==yp&&yp(_,o,t,n,a)}function ff(e,t){if(null!==t){const n=t.type;if(3&n)return Ea(t,e);if(4&n)return Rm(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return ff(e,o);{const a=e[t.index];return Oa(a)?Rm(-1,a):fs(a)}}if(32&n)return $l(t,e)()||fs(e[t.index]);{const o=xp(e,t);return null!==o?Array.isArray(o)?o[0]:ff(Qn(e[Aa]),o):ff(e,t.next)}}return null}function xp(e,t){return null!==t?e[Aa][Qs].projection[t.projection]:null}function Rm(e,t){const n=Da+e+1;if(n<t.length){const o=t[n],a=o[no].firstChild;if(null!==a)return ff(o,a)}return t[Fl]}function pf(e,t,n){const o=_p(e,t);o&&function H_(e,t,n,o){e.removeChild(t,n,o)}(e,o,t,n)}function Pl(e,t,n,o,a,_,N){for(;null!=n;){const ee=o[n.index],Ee=n.type;if(N&&0===t&&(ee&&ga(fs(ee),o),n.flags|=2),32&~n.flags)if(8&Ee)Pl(e,t,n.child,o,a,_,!1),xc(t,e,a,ee,_);else if(32&Ee){const Ct=$l(n,o);let Zt;for(;Zt=Ct();)xc(t,e,a,Zt,_);xc(t,e,a,ee,_)}else 16&Ee?Pg(e,t,o,n,a,_):xc(t,e,a,ee,_);n=N?n.projectionNext:n.next}}function hh(e,t,n,o,a,_){Pl(n,o,e.firstChild,t,a,_,!1)}function Pg(e,t,n,o,a,_){const N=n[Aa],Ee=N[Qs].projection[o.projection];if(Array.isArray(Ee))for(let Ct=0;Ct<Ee.length;Ct++)xc(t,e,a,Ee[Ct],_);else{let Ct=Ee;const Zt=N[Ls];md(o)&&(Ct.flags|=128),Pl(e,t,Ct,Zt,a,_,!0)}}function kg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ep(e,t,n){const{mergedAttrs:o,classes:a,styles:_}=n;null!==o&&Ao(e,t,o),null!==a&&kg(e,t,a),null!==_&&function Om(e,t,n){e.setAttribute(t,"style",n)}(e,t,_)}const Bs={};function Fg(e=1){Bg(Io(),Or(),Ra()+e,!1)}function Bg(e,t,n,o){if(!o)if(3&~t[Do]){const _=e.preOrderHooks;null!==_&&ja(t,_,0,n)}else{const _=e.preOrderCheckHooks;null!==_&&vs(t,_,n)}aa(n)}function fh(e,t=Hi.Default){const n=Or();return null===n?to(e,t):pc(yo(),n,an(e),t)}function Pm(){throw new Error("invalid")}function Ng(e,t,n,o,a,_){const N=d(null);try{let ee=null;a&vo.SignalBased&&(ee=t[o][w]),null!==ee&&void 0!==ee.transformFn&&(_=ee.transformFn(_)),a&vo.HasDecoratorInputTransform&&(_=e.inputTransforms[o].call(t,_)),null!==e.setInput?e.setInput(t,ee,_,n,o):uc(t,ee,o,_)}finally{d(N)}}function wp(e,t,n,o,a,_,N,ee,Ee,Ct,Zt){const Fn=t.blueprint.slice();return Fn[$o]=a,Fn[Do]=204|o,(null!==Ct||e&&2048&e[Do])&&(Fn[Do]|=2048),r(Fn),Fn[Ls]=Fn[Cc]=e,Fn[Ps]=n,Fn[xa]=N||e&&e[xa],Fn[Xo]=ee||e&&e[Xo],Fn[fa]=Ee||e&&e[fa]||null,Fn[Qs]=_,Fn[Ml]=function lm(){return am++}(),Fn[ha]=Zt,Fn[dc]=Ct,Fn[Aa]=2==t.type?e[Aa]:Fn,Fn}function Gd(e,t,n,o,a){let _=e.data[t];if(null===_)_=mf(e,t,n,o,a),function Zp(){return Kn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=n,_.value=o,_.attrs=a;const N=sa();_.injectorIndex=null===N?-1:N.injectorIndex}return Us(_,!0),_}function mf(e,t,n,o,a){const _=ta(),N=is(),Ee=e.data[t]=function ev(e,t,n,o,a,_){let N=t?t.injectorIndex:-1,ee=0;return yi()&&(ee|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:N,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ee,providerIndexes:0,value:a,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?_:_&&_.parent,n,t,o,a);return null===e.firstChild&&(e.firstChild=Ee),null!==_&&(N?null==_.child&&null!==Ee.parent&&(_.child=Ee):null===_.next&&(_.next=Ee,Ee.prev=_)),Ee}function gf(e,t,n,o){if(0===n)return-1;const a=t.length;for(let _=0;_<n;_++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function Lg(e,t,n,o,a){const _=Ra(),N=2&o;try{aa(-1),N&&t.length>jo&&Bg(e,t,jo,!1),Na(N?2:0,a),n(o,a)}finally{aa(_),Na(N?3:1,a)}}function km(e,t,n){if(Dl(t)){const o=d(null);try{const _=t.directiveEnd;for(let N=t.directiveStart;N<_;N++){const ee=e.data[N];ee.contentQueries&&ee.contentQueries(1,n[N],N)}}finally{d(o)}}}function Fm(e,t,n){oo()&&(function gr(e,t,n,o){const a=n.directiveStart,_=n.directiveEnd;Ga(n)&&function Ys(e,t,n){const o=Ea(t,e),a=Ug(n);let N=16;n.signals?N=4096:n.onPush&&(N=64);const ee=Fa(e,wp(e,a,null,N,o,t,null,e[xa].rendererFactory.createRenderer(o,n),null,null,null));e[t.index]=ee}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||ru(n,t),ga(o,t);const N=n.initialInputs;for(let ee=a;ee<_;ee++){const Ee=e.data[ee],Ct=Jl(t,e,ee,n);ga(Ct,t),null!==N&&da(0,ee-a,Ct,Ee,0,N),nl(Ee)&&(Xa(n.index,t)[Ps]=Jl(t,e,ee,n))}}(e,t,n,Ea(n,t)),!(64&~n.flags)&&Dr(e,t,n))}function Bm(e,t,n=Ea){const o=t.localNames;if(null!==o){let a=t.index+1;for(let _=0;_<o.length;_+=2){const N=o[_+1],ee=-1===N?n(t,e):e[N];e[a++]=ee}}}function Ug(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Nm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Nm(e,t,n,o,a,_,N,ee,Ee,Ct,Zt){const Fn=jo+o,wr=Fn+a,Rr=function X_(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:Bs);return n}(Fn,wr),ei="function"==typeof Ct?Ct():Ct;return Rr[no]={type:e,blueprint:Rr,template:n,queries:null,viewQuery:ee,declTNode:t,data:Rr.slice().fill(null,Fn),bindingStartIndex:Fn,expandoStartIndex:wr,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:Ee,consts:ei,incompleteFirstPass:!1,ssrId:Zt}}let Vg=()=>null;function jg(e,t,n,o,a){for(let _ in t){if(!t.hasOwnProperty(_))continue;const N=t[_];if(void 0===N)continue;o??={};let ee,Ee=vo.None;Array.isArray(N)?(ee=N[0],Ee=N[1]):ee=N;let Ct=_;if(null!==a){if(!a.hasOwnProperty(_))continue;Ct=a[_]}0===e?Hg(o,n,Ct,ee,Ee):Hg(o,n,Ct,ee)}return o}function Hg(e,t,n,o,a){let _;e.hasOwnProperty(n)?(_=e[n]).push(t,o):_=e[n]=[t,o],void 0!==a&&_.push(a)}function Wl(e,t,n,o,a,_,N,ee){const Ee=Ea(t,n);let Zt,Ct=t.inputs;!ee&&null!=Ct&&(Zt=Ct[o])?(iv(e,n,Zt,o,a),Ga(t)&&function rv(e,t){const n=Xa(t,e);16&n[Do]||(n[Do]|=64)}(n,t.index)):3&t.type&&(o=function nv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=N?N(a,t.value||"",o):a,_.setProperty(Ee,o,a))}function oe(e,t,n,o){if(oo()){const a=null===o?null:{"":-1},_=function Qi(e,t){const n=e.directiveRegistry;let o=null,a=null;if(n)for(let _=0;_<n.length;_++){const N=n[_];if(Ke(t,N.selectors,!1))if(o||(o=[]),nl(N))if(null!==N.findHostDirectiveDefs){const ee=[];a=a||new Map,N.findHostDirectiveDefs(N,ee,a),o.unshift(...ee,N),Ki(e,t,ee.length)}else o.unshift(N),Ki(e,t,0);else a=a||new Map,N.findHostDirectiveDefs?.(N,o,a),o.push(N)}return null===o?null:[o,a]}(e,n);let N,ee;null===_?N=ee=null:[N,ee]=_,null!==N&&nt(e,t,n,N,a,ee),a&&function lo(e,t,n){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const _=n[t[a+1]];if(null==_)throw new I(-301,!1);o.push(t[a],_)}}}(n,o,a)}n.mergedAttrs=dn(n.mergedAttrs,n.attrs)}function nt(e,t,n,o,a,_){for(let Ct=0;Ct<o.length;Ct++)Ah(ru(n,t),e,o[Ct].type);!function Go(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,o.length);for(let Ct=0;Ct<o.length;Ct++){const Zt=o[Ct];Zt.providersResolver&&Zt.providersResolver(Zt)}let N=!1,ee=!1,Ee=gf(e,t,o.length,null);for(let Ct=0;Ct<o.length;Ct++){const Zt=o[Ct];n.mergedAttrs=dn(n.mergedAttrs,Zt.hostAttrs),as(e,n,t,Ee,Zt),So(Ee,Zt,a),null!==Zt.contentQueries&&(n.flags|=4),(null!==Zt.hostBindings||null!==Zt.hostAttrs||0!==Zt.hostVars)&&(n.flags|=64);const Fn=Zt.type.prototype;!N&&(Fn.ngOnChanges||Fn.ngOnInit||Fn.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),N=!0),!ee&&(Fn.ngOnChanges||Fn.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),ee=!0),Ee++}!function tv(e,t,n){const a=t.directiveEnd,_=e.data,N=t.attrs,ee=[];let Ee=null,Ct=null;for(let Zt=t.directiveStart;Zt<a;Zt++){const Fn=_[Zt],wr=n?n.get(Fn):null,ei=wr?wr.outputs:null;Ee=jg(0,Fn.inputs,Zt,Ee,wr?wr.inputs:null),Ct=jg(1,Fn.outputs,Zt,Ct,ei);const Fi=null===Ee||null===N||cn(t)?null:ac(Ee,Zt,N);ee.push(Fi)}null!==Ee&&(Ee.hasOwnProperty("class")&&(t.flags|=8),Ee.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=ee,t.inputs=Ee,t.outputs=Ct}(e,n,_)}function Dr(e,t,n){const o=n.directiveStart,a=n.directiveEnd,_=n.index,N=function Ru(){return Kn.lFrame.currentDirectiveIndex}();try{aa(_);for(let ee=o;ee<a;ee++){const Ee=e.data[ee],Ct=t[ee];qd(ee),(null!==Ee.hostBindings||0!==Ee.hostVars||null!==Ee.hostAttrs)&&Qr(Ee,Ct)}}finally{aa(-1),qd(N)}}function Qr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ki(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function So(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;nl(t)&&(n[""]=e)}}function as(e,t,n,o,a){e.data[o]=a;const _=a.factory||(a.factory=Ks(a.type)),N=new Cd(_,nl(a),fh);e.blueprint[o]=N,n[o]=N,function on(e,t,n,o,a){const _=a.hostBindings;if(_){let N=e.hostBindingOpCodes;null===N&&(N=e.hostBindingOpCodes=[]);const ee=~t.index;(function Vn(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(N)!=ee&&N.push(ee),N.push(n,o,_)}}(e,t,o,gf(e,n,a.hostVars,Bs),a)}function Js(e,t,n,o,a,_,N){if(null==_)e.removeAttribute(t,a,n);else{const ee=null==N?fn(_):N(_,o||"",a);e.setAttribute(t,a,ee,n)}}function da(e,t,n,o,a,_){const N=_[t];if(null!==N)for(let ee=0;ee<N.length;)Ng(o,n,N[ee++],N[ee++],N[ee++],N[ee++])}function ac(e,t,n){let o=null,a=0;for(;a<n.length;){const _=n[a];if(0!==_)if(5!==_){if("number"==typeof _)break;if(e.hasOwnProperty(_)){null===o&&(o=[]);const N=e[_];for(let ee=0;ee<N.length;ee+=3)if(N[ee]===t){o.push(_,N[ee+1],N[ee+2],n[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function kl(e,t,n,o){return[e,!0,0,t,null,o,null,n,null,null]}function Kl(e,t){const n=e.contentQueries;if(null!==n){const o=d(null);try{for(let a=0;a<n.length;a+=2){const N=n[a+1];if(-1!==N){const ee=e.data[N];za(n[a]),ee.contentQueries(2,t[N],N)}}}finally{d(o)}}}function Fa(e,t){return e[tl]?e[Al][va]=t:e[tl]=t,e[Al]=t,t}function lc(e,t,n){za(0);const o=d(null);try{t(e,n)}finally{d(o)}}function Lm(e){return e[Ua]||(e[Ua]=[])}function Ky(e){return e.cleanup||(e.cleanup=[])}function Xy(e,t,n){return(null===e||nl(e))&&(n=function Oc(e){for(;Array.isArray(e);){if("object"==typeof e[ks])return e;e=e[$o]}return null}(n[t.index])),n[Xo]}function Gg(e,t){const n=e[fa],o=n?n.get(Vc,null):null;o&&o.handleError(t)}function iv(e,t,n,o,a){for(let _=0;_<n.length;){const N=n[_++],ee=n[_++],Ee=n[_++];Ng(e.data[N],t[N],o,ee,Ee,a)}}function Tu(e,t,n){const o=Pc(t,e);Cg(e[Xo],o,n)}function aC(e,t){const n=Xa(t,e),o=n[no];!function lC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n);const a=n[$o];null!==a&&null===n[ha]&&(n[ha]=Jh(a,n[fa])),ov(o,n,n[Ps])}function ov(e,t,n){ku(t);try{const o=e.viewQuery;null!==o&&lc(1,o,n);const a=e.template;null!==a&&Lg(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Wa]?.finishViewCreation(e),e.staticContentQueries&&Kl(e,t),e.staticViewQueries&&lc(2,e.viewQuery,n);const _=e.components;null!==_&&function cC(e,t){for(let n=0;n<t.length;n++)aC(e,t[n])}(t,_)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[Do]&=-5,eu()}}function Um(e,t,n,o){const a=d(null);try{const _=t.tView,Ee=wp(e,_,n,4096&e[Do]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);Ee[od]=e[t.index];const Zt=e[Wa];return null!==Zt&&(Ee[Wa]=Zt.createEmbeddedView(_)),ov(_,Ee,n),Ee}finally{d(a)}}function Yy(e,t){const n=Da+t;if(n<e.length)return e[n]}function Cp(e,t){return!t||null===t.firstChild||md(e)}function Vm(e,t,n,o=!0){const a=t[no];if(function L_(e,t,n,o){const a=Da+o,_=n.length;o>0&&(n[a-1][va]=t),o<_-Da?(t[va]=n[a],tr(n,Da+o,t)):(n.push(t),t[va]=null),t[Ls]=n;const N=t[od];null!==N&&n!==N&&function U_(e,t){const n=e[cl];t[Aa]!==t[Ls][Ls][Aa]&&(e[Do]|=Mc.HasTransplantedViews),null===n?e[cl]=[t]:n.push(t)}(N,t);const ee=t[Wa];null!==ee&&ee.insertView(e),_t(t),t[Do]|=128}(a,t,e,n),o){const N=Rm(n,e),ee=t[Xo],Ee=_p(ee,e[Fl]);null!==Ee&&function B_(e,t,n,o,a,_){o[$o]=a,o[Qs]=t,hh(e,o,n,1,a,_)}(a,e[Qs],ee,t,Ee,N)}const _=t[ha];null!==_&&null!==_.firstChild&&(_.firstChild=null)}function sv(e,t){const n=hf(e,t);return void 0!==n&&gp(n[no],n),n}function jm(e,t,n,o,a=!1){for(;null!==n;){const _=t[n.index];null!==_&&o.push(fs(_)),Oa(_)&&Qy(_,o);const N=n.type;if(8&N)jm(e,t,n.child,o);else if(32&N){const ee=$l(n,t);let Ee;for(;Ee=ee();)o.push(Ee)}else if(16&N){const ee=xp(t,n);if(Array.isArray(ee))o.push(...ee);else{const Ee=Qn(t[Aa]);jm(Ee[no],Ee,ee,o,!0)}}n=a?n.projectionNext:n.next}return o}function Qy(e,t){for(let n=Da;n<e.length;n++){const o=e[n],a=o[no].firstChild;null!==a&&jm(o[no],o,a,t)}e[Fl]!==e[$o]&&t.push(e[Fl])}let qy=[];const fC={...P,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Qt(e.lView)},consumerOnSignalRead(){this.lView[gl]=this}},Zy=100;function zg(e,t=!0,n=0){const o=e[xa],a=o.rendererFactory;a.begin?.();try{!function pC(e,t){av(e,t);let n=0;for(;Fe(e);){if(n===Zy)throw new I(103,!1);n++,av(e,1)}}(e,n)}catch(N){throw t&&Gg(e,N),N}finally{a.end?.(),o.inlineEffectRunner?.flush()}}function mC(e,t,n,o){const a=t[Do];if(!(256&~a))return;t[xa].inlineEffectRunner?.flush(),ku(t);let N=null,ee=null;(function gC(e){return 2!==e.type})(e)&&(ee=function dC(e){return e[gl]??function uC(e){const t=qy.pop()??Object.create(fC);return t.lView=e,t}(e)}(t),N=Z(ee));try{r(t),function wd(e){return Kn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Lg(e,t,n,2,o);const Ee=!(3&~a);if(Ee){const Fn=e.preOrderCheckHooks;null!==Fn&&vs(t,Fn,null)}else{const Fn=e.preOrderHooks;null!==Fn&&ja(t,Fn,0,null),Ma(t,0)}if(function _C(e){for(let t=zf(e);null!==t;t=$f(t)){if(!(t[Do]&Mc.HasTransplantedViews))continue;const n=t[cl];for(let o=0;o<n.length;o++){m(n[o])}}}(t),Jy(t,0),null!==e.contentQueries&&Kl(e,t),Ee){const Fn=e.contentCheckHooks;null!==Fn&&vs(t,Fn)}else{const Fn=e.contentHooks;null!==Fn&&ja(t,Fn,1),Ma(t,1)}!function K_(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const a=n[o];if(a<0)aa(~a);else{const _=a,N=n[++o],ee=n[++o];Jp(N,_),ee(2,t[_])}}}finally{aa(-1)}}(e,t);const Ct=e.components;null!==Ct&&t0(t,Ct,0);const Zt=e.viewQuery;if(null!==Zt&&lc(2,Zt,o),Ee){const Fn=e.viewCheckHooks;null!==Fn&&vs(t,Fn)}else{const Fn=e.viewHooks;null!==Fn&&ja(t,Fn,2),Ma(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Vl]){for(const Fn of t[Vl])Fn();t[Vl]=null}t[Do]&=-73}catch(Ee){throw Qt(t),Ee}finally{null!==ee&&(J(ee,N),function hC(e){e.lView[gl]!==e&&(e.lView=null,qy.push(e))}(ee)),eu()}}function Jy(e,t){for(let n=zf(e);null!==n;n=$f(n))for(let o=Da;o<n.length;o++)e0(n[o],t)}function vC(e,t,n){e0(Xa(t,e),n)}function e0(e,t){kc(e)&&av(e,t)}function av(e,t){const o=e[no],a=e[Do],_=e[gl];let N=!!(0===t&&16&a);if(N||=!!(64&a&&0===t),N||=!!(1024&a),N||=!(!_?.dirty||!te(_)),_&&(_.dirty=!1),e[Do]&=-9217,N)mC(o,e,o.template,e[Ps]);else if(8192&a){Jy(e,1);const ee=o.components;null!==ee&&t0(e,ee,1)}}function t0(e,t,n){for(let o=0;o<t.length;o++)vC(e,t[o],n)}function Hm(e){for(e[xa].changeDetectionScheduler?.notify();e;){e[Do]|=64;const t=Qn(e);if(Kc(e)&&!t)return e;e=t}return null}class Gm{get rootNodes(){const t=this._lView,n=t[no];return jm(n,t,n.firstChild,[])}constructor(t,n,o=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ps]}set context(t){this._lView[Ps]=t}get destroyed(){return!(256&~this._lView[Do])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ls];if(Oa(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(hf(t,o),pr(n,o))}this._attachedToViewContainer=!1}gp(this._lView[no],this._lView)}onDestroy(t){_n(this._lView,t)}markForCheck(){Hm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Do]&=-129}reattach(){_t(this._lView),this._lView[Do]|=128}detectChanges(){this._lView[Do]|=1024,zg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ag(this._lView[no],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t,_t(this._lView)}}let zm=(()=>{class t{}return t.__NG_ELEMENT_ID__=xC,t})();const yC=zm,bC=class extends yC{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,o){const a=Um(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:o});return new Gm(a)}};function xC(){return $g(yo(),Or())}function $g(e,t){return 4&e.type?new bC(t,e,_c(e,t)):null}let l0=()=>null;function Ap(e,t){return l0(e,t)}class Qg{}class $C{}class c0{}class KC{resolveComponentFactory(t){throw function WC(e){const t=Error(`No component factory found for ${rt(e)}.`);return t.ngComponent=e,t}(t)}}let Ym=(()=>{class t{}return t.NULL=new KC,t})();class u0{}let XC=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function YC(){const e=Or(),n=Xa(yo().index,e);return(Ba(n)?n:e)[Xo]}(),t})(),QC=(()=>{var e;class t{}return(e=t).\u0275prov=fi({token:e,providedIn:"root",factory:()=>null}),t})();const fv={};function qC(e,t){if(null!==function k(){return f}())throw new I(-602,!1)}const h0=new Set;function $d(e){h0.has(e)||(h0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function f0(...e){}class ml{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&n,a.shouldCoalesceRunChangeDetection=o,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function ZC(){const e="function"==typeof lt.requestAnimationFrame;let t=lt[e?"requestAnimationFrame":"setTimeout"],n=lt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function t1(e){const t=()=>{!function e1(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(lt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mv(e),e.isCheckStableRunning=!0,pv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,a,_,N,ee)=>{if(function n1(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(ee))return n.invokeTask(a,_,N,ee);try{return p0(e),n.invokeTask(a,_,N,ee)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||e.shouldCoalesceRunChangeDetection)&&t(),m0(e)}},onInvoke:(n,o,a,_,N,ee,Ee)=>{try{return p0(e),n.invoke(a,_,N,ee,Ee)}finally{e.shouldCoalesceRunChangeDetection&&t(),m0(e)}},onHasTask:(n,o,a,_)=>{n.hasTask(a,_),o===a&&("microTask"==_.change?(e._hasPendingMicrotasks=_.microTask,mv(e),pv(e)):"macroTask"==_.change&&(e.hasPendingMacrotasks=_.macroTask))},onHandleError:(n,o,a,_)=>(n.handleError(a,_),e.runOutsideAngular(()=>e.onError.emit(_)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ml.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(ml.isInAngularZone())throw new I(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,a){const _=this._inner,N=_.scheduleEventTask("NgZoneEvent: "+a,t,JC,f0,f0);try{return _.runTask(N,n,o)}finally{_.cancelTask(N)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const JC={};function pv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function p0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function m0(e){e._nesting--,pv(e)}class g0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,a){return t.apply(n,o)}}var _f=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_f||{});const _0={destroy(){}};function v0(e,t){!t&&Ca();const n=t?.injector??$i(Sl);if(!function Vs(e){return"browser"===(e??$i(Sl)).get(Zu)}(n))return _0;$d("NgAfterNextRender");const o=n.get(Qm),a=o.handler??=new b0,_=t?.phase??_f.MixedReadWrite,N=()=>{a.unregister(Ee),ee()},ee=n.get(qa).onDestroy(N),Ee=ss(n,()=>new y0(_,()=>{N(),e()}));return a.register(Ee),{destroy:N}}class y0{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=$i(ml),this.errorHandler=$i(Vc,{optional:!0}),$i(Qg,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class b0{constructor(){this.executingCallbacks=!1,this.buckets={[_f.EarlyRead]:new Set,[_f.Write]:new Set,[_f.MixedReadWrite]:new Set,[_f.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const n of t)n.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Qm=(()=>{var e;class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const a of o)a()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=fi({token:e,providedIn:"root",factory:()=>new e}),t})();function ph(e){return!!cr(e)}function Zg(e,t,n){let o=n?e.styles:null,a=n?e.classes:null,_=0;if(null!==t)for(let N=0;N<t.length;N++){const ee=t[N];"number"==typeof ee?_=ee:1==_?a=Kt(a,ee):2==_&&(o=Kt(o,ee+": "+t[++N]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=a:e.classesWithoutHost=a}class w0 extends Ym{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Lt(t);return new Jm(n,this.ngModule)}}function C0(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n];void 0!==o&&t.push({propName:Array.isArray(o)?o[0]:o,templateName:n})}return t}class Jg{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=No(o);const a=this.injector.get(t,fv,o);return a!==fv||n===fv?a:this.parentInjector.get(t,n,o)}}class Jm extends c0{get inputs(){const t=this.componentDef,n=t.inputTransforms,o=C0(t.inputs);if(null!==n)for(const a of o)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return o}get outputs(){return C0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function di(e){return e.map(ci).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,o,a){const _=d(null);try{let N=(a=a||this.ngModule)instanceof De?a:a?.injector;N&&null!==this.componentDef.getStandaloneInjector&&(N=this.componentDef.getStandaloneInjector(N)||N);const ee=N?new Jg(t,N):t,Ee=ee.get(u0,null);if(null===Ee)throw new I(407,!1);const Ct=ee.get(QC,null),wr={rendererFactory:Ee,sanitizer:Ct,inlineEffectRunner:null,afterRenderEventManager:ee.get(Qm,null),changeDetectionScheduler:ee.get(Qg,null)},Rr=Ee.createRenderer(null,this.componentDef),ei=this.componentDef.selectors[0][0]||"div",Fi=o?function Y_(e,t,n,o){const _=o.get(g,!1)||n===Xi.ShadowDom,N=e.selectRootElement(t,_);return function Q_(e){Vg(e)}(N),N}(Rr,o,this.componentDef.encapsulation,ee):mp(Rr,ei,function l1(e){const t=e.toLowerCase();return"svg"===t?Rc:"math"===t?"math":null}(ei));let fo=512;this.componentDef.signals?fo|=4096:this.componentDef.onPush||(fo|=16);let Eo=null;null!==Fi&&(Eo=Jh(Fi,ee,!0));const qi=Nm(0,null,null,1,0,null,null,null,null,null,null),ps=wp(null,qi,null,fo,null,null,wr,Rr,ee,null,Eo);let ba,Ia;ku(ps);try{const Cl=this.componentDef;let wc,qp=null;Cl.findHostDirectiveDefs?(wc=[],qp=new Map,Cl.findHostDirectiveDefs(Cl,wc,qp),wc.push(Cl)):wc=[Cl];const sC=function d1(e,t){const n=e[no],o=jo;return e[o]=t,Gd(n,o,2,"#host",null)}(ps,Fi),hI=function u1(e,t,n,o,a,_,N){const ee=a[no];!function h1(e,t,n,o){for(const a of e)t.mergedAttrs=dn(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Zg(t,t.mergedAttrs,!0),null!==n&&Ep(o,n,t))}(o,e,t,N);let Ee=null;null!==t&&(Ee=Jh(t,a[fa]));const Ct=_.rendererFactory.createRenderer(t,n);let Zt=16;n.signals?Zt=4096:n.onPush&&(Zt=64);const Fn=wp(a,Ug(n),null,Zt,a[e.index],e,_,Ct,null,null,Ee);return ee.firstCreatePass&&Ki(ee,e,o.length-1),Fa(a,Fn),a[e.index]=Fn}(sC,Fi,Cl,wc,ps,wr,Rr);Ia=jl(qi,jo),Fi&&function p1(e,t,n,o){if(o)Ao(e,n,["ng-version","17.3.12"]);else{const{attrs:a,classes:_}=function Lr(e){const t=[],n=[];let o=1,a=2;for(;o<e.length;){let _=e[o];if("string"==typeof _)2===a?""!==_&&t.push(_,e[++o]):8===a&&n.push(_);else{if(!Q(a))break;a=_}o++}return{attrs:t,classes:n}}(t.selectors[0]);a&&Ao(e,n,a),_&&_.length>0&&kg(e,n,_.join(" "))}}(Rr,Cl,Fi,o),void 0!==n&&function m1(e,t,n){const o=e.projection=[];for(let a=0;a<t.length;a++){const _=n[a];o.push(null!=_?Array.from(_):null)}}(Ia,this.ngContentSelectors,n),ba=function f1(e,t,n,o,a,_){const N=yo(),ee=a[no],Ee=Ea(N,a);nt(ee,a,N,n,null,o);for(let Zt=0;Zt<n.length;Zt++)ga(Jl(a,ee,N.directiveStart+Zt,N),a);Dr(ee,a,N),Ee&&ga(Ee,a);const Ct=Jl(a,ee,N.directiveStart+N.componentOffset,N);if(e[Ps]=a[Ps]=Ct,null!==_)for(const Zt of _)Zt(Ct,t);return km(ee,N,a),Ct}(hI,Cl,wc,qp,ps,[g1]),ov(qi,ps,null)}finally{eu()}return new c1(this.componentType,ba,_c(Ia,ps),ps,Ia)}finally{d(_)}}}class c1 extends $C{constructor(t,n,o,a,_){super(),this.location=o,this._rootLView=a,this._tNode=_,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Gm(a,void 0,!1),this.componentType=t}setInput(t,n){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const _=this._rootLView;iv(_[no],_,a,t,n),this.previousInputValues.set(t,n),Hm(Xa(this._tNode.index,_))}}get injector(){return new Ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function g1(){const e=yo();Jc(Or()[no],e)}let e_=(()=>{class t{}return t.__NG_ELEMENT_ID__=_1,t})();function _1(){return D0(yo(),Or())}const v1=e_,A0=class extends v1{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new Ha(this._hostTNode,this._hostLView)}get parentInjector(){const t=Dd(this._hostTNode,this._hostLView);if(Vu(t)){const n=ql(t,this._hostLView),o=ed(t);return new Ha(n[no].data[o+8],n)}return new Ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=M0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Da}createEmbeddedView(t,n,o){let a,_;"number"==typeof o?a=o:null!=o&&(a=o.index,_=o.injector);const N=Ap(this._lContainer,t.ssrId),ee=t.createEmbeddedViewImpl(n||{},_,N);return this.insertImpl(ee,a,Cp(this._hostTNode,N)),ee}createComponent(t,n,o,a,_){const N=t&&!function _i(e){return"function"==typeof e}(t);let ee;if(N)ee=n;else{const ei=n||{};ee=ei.index,o=ei.injector,a=ei.projectableNodes,_=ei.environmentInjector||ei.ngModuleRef}const Ee=N?t:new Jm(Lt(t)),Ct=o||this.parentInjector;if(!_&&null==Ee.ngModule){const Fi=(N?Ct:this.parentInjector).get(De,null);Fi&&(_=Fi)}const Zt=Lt(Ee.componentType??{}),Fn=Ap(this._lContainer,Zt?.id??null),Rr=Ee.create(Ct,a,Fn?.firstChild??null,_);return this.insertImpl(Rr.hostView,ee,Cp(this._hostTNode,Fn)),Rr}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,o){const a=t._lView;if(function Qd(e){return Oa(e[Ls])}(a)){const ee=this.indexOf(t);if(-1!==ee)this.detach(ee);else{const Ee=a[Ls],Ct=new A0(Ee,Ee[Qs],Ee[Ls]);Ct.detach(Ct.indexOf(t))}}const _=this._adjustIndex(n),N=this._lContainer;return Vm(N,a,_,o),t.attachToViewContainerRef(),tr(yv(N),_,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=M0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=hf(this._lContainer,n);o&&(pr(yv(this._lContainer),n),gp(o[no],o))}detach(t){const n=this._adjustIndex(t,-1),o=hf(this._lContainer,n);return o&&null!=pr(yv(this._lContainer),n)?new Gm(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function M0(e){return e[8]}function yv(e){return e[8]||(e[8]=[])}function D0(e,t){let n;const o=t[e.index];return Oa(o)?n=o:(n=kl(o,t,null,e),t[e.index]=n,Fa(t,n)),T0(n,t,e,o),new A0(n,e,t)}let T0=function I0(e,t,n,o){if(e[Fl])return;let a;a=8&n.type?fs(o):function y1(e,t){const n=e[Xo],o=n.createComment(""),a=Ea(t,e);return Du(n,_p(n,a),o,function G_(e,t){return e.nextSibling(t)}(n,a),!1),o}(t,n),e[Fl]=a},bv=()=>!1;class xv{constructor(t){this.queryList=t,this.matches=null}clone(){return new xv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ev{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let _=0;_<o;_++){const N=n.getByIndex(_);a.push(this.queries[N.indexInDeclarationView].clone())}return new Ev(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Dv(t,n).matches&&this.queries[n].setDirty()}}class R0{constructor(t,n,o=null){this.flags=n,this.read=o,this.predicate="string"==typeof t?function D1(e){return e.split(",").map(t=>t.trim())}(t):t}}class wv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const a=null!==n?n.length:0,_=this.getByIndex(o).embeddedTView(t,a);_&&(_.indexInDeclarationView=o,null!==n?n.push(_):n=[_])}return null!==n?new wv(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Cv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Cv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const _=o[a];this.matchTNodeWithReadOption(t,n,w1(n,_)),this.matchTNodeWithReadOption(t,n,Sd(n,t,_,!1,!1))}else o===zm?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Sd(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===fd||a===e_||a===zm&&4&n.type)this.addMatch(n.index,-2);else{const _=Sd(n,t,a,!1,!1);null!==_&&this.addMatch(n.index,_)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function w1(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function A1(e,t,n,o){return-1===n?function C1(e,t){return 11&e.type?_c(e,t):4&e.type?$g(e,t):null}(t,e):-2===n?function M1(e,t,n){return n===fd?_c(t,e):n===zm?$g(t,e):n===e_?D0(t,e):void 0}(e,t,o):Jl(e,e[no],n,t)}function O0(e,t,n,o){const a=t[Wa].queries[o];if(null===a.matches){const _=e.data,N=n.matches,ee=[];for(let Ee=0;null!==N&&Ee<N.length;Ee+=2){const Ct=N[Ee];ee.push(Ct<0?null:A1(t,_[Ct],N[Ee+1],n.metadata.read))}a.matches=ee}return a.matches}function Av(e,t,n,o){const a=e.queries.getByIndex(n),_=a.matches;if(null!==_){const N=O0(e,t,a,n);for(let ee=0;ee<_.length;ee+=2){const Ee=_[ee];if(Ee>0)o.push(N[ee/2]);else{const Ct=_[ee+1],Zt=t[-Ee];for(let Fn=Da;Fn<Zt.length;Fn++){const wr=Zt[Fn];wr[od]===wr[Ls]&&Av(wr[no],wr,Ct,o)}if(null!==Zt[cl]){const Fn=Zt[cl];for(let wr=0;wr<Fn.length;wr++){const Rr=Fn[wr];Av(Rr[no],Rr,Ct,o)}}}}}return o}function Mv(e,t){return e[Wa].queries[t].queryList}function P0(e,t,n){const o=new Xu(!(4&~n));return function J_(e,t,n,o){const a=Lm(t);a.push(n),e.firstCreatePass&&Ky(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[Wa]??=new Ev).queries.push(new xv(o))-1}function k0(e,t,n){const o=Io();return o.firstCreatePass&&(B0(o,new R0(e,t,n),-1),!(2&~t)&&(o.staticViewQueries=!0)),P0(o,Or(),t)}function B0(e,t,n){null===e.queries&&(e.queries=new wv),e.queries.track(new Cv(t,n))}function Dv(e,t){return e.queries.getByIndex(t)}function N0(e,t){const n=e[no],o=Dv(n,t);return o.crossesNgTemplate?Av(n,e,t,[]):O0(n,e,o,t)}function Tv(e){return"function"==typeof e&&void 0!==e[w]}function L0(e,t){$d("NgSignals");const n=function he(e){const t=Object.create(Mn);t.value=e;const n=()=>(y(t),t.value);return n[w]=t,n}(e),o=n[w];return t?.equal&&(o.equal=t.equal),n.set=a=>pt(o,a),n.update=a=>function zt(e,t){K()||de(),pt(e,t(e.value))}(o,a),n.asReadonly=U0.bind(n),n}function U0(){const e=this[w];if(void 0===e.readonlyFn){const t=()=>this();t[w]=e,e.readonlyFn=t}return e.readonlyFn}function V0(e){return Tv(e)&&"function"==typeof e.set}function Sv(e,t){let n;const o=ce(()=>{n._dirtyCounter();const a=function S1(e,t){const n=e._lView,o=e._queryIndex;if(void 0===n||void 0===o||4&n[Do])return t?void 0:Er;const a=Mv(n,o),_=N0(n,o);return a.reset(_,Lf),t?a.first:a._changesDetected||void 0===e._flatValue?e._flatValue=a.toArray():e._flatValue}(n,e);if(t&&void 0===a)throw new I(-951,!1);return a});return n=o[w],n._dirtyCounter=L0(0),n._flatValue=void 0,o}function $0(e,t){return function j0(){return Sv(!0,!1)}()}const R1=($0.required=function I1(e,t){return function H0(){return Sv(!0,!0)}()},$0);function W0(e){const t=Object.create(L),n=new Wu;function o(){return y(t),K0(t.value),t.value}return t.value=e,o[w]=t,o.asReadonly=U0.bind(o),o.set=a=>{t.equal(t.value,a)||(pt(t,a),n.emit(a))},o.update=a=>{K0(t.value),o.set(a(t.value))},o.subscribe=n.subscribe.bind(n),o.destroyRef=n.destroyRef,o}function K0(e){if(e===se)throw new I(-952,!1)}function X0(e){return W0(e)}const P1=(X0.required=function O1(){return W0(se)},X0);function Iv(e){let t=function J0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let a;if(nl(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);a=t.\u0275dir}if(a){if(n){o.push(a);const N=e;N.inputs=n_(e.inputs),N.inputTransforms=n_(e.inputTransforms),N.declaredInputs=n_(e.declaredInputs),N.outputs=n_(e.outputs);const ee=a.hostBindings;ee&&W1(e,ee);const Ee=a.viewQuery,Ct=a.contentQueries;if(Ee&&z1(e,Ee),Ct&&$1(e,Ct),H1(e,a),mt(e.outputs,a.outputs),nl(a)&&a.data.animation){const Zt=e.data;Zt.animation=(Zt.animation||[]).concat(a.data.animation)}}const _=a.features;if(_)for(let N=0;N<_.length;N++){const ee=_[N];ee&&ee.ngInherit&&ee(e),ee===Iv&&(n=!1)}}t=Object.getPrototypeOf(t)}!function G1(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=dn(a.hostAttrs,n=dn(n,a.hostAttrs))}}(o)}function H1(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const o=t.inputs[n];if(void 0!==o&&(e.inputs[n]=o,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const a=Array.isArray(o)?o[0]:o;if(!t.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=t.inputTransforms[a]}}}function n_(e){return e===Zn?{}:e===Er?[]:e}function z1(e,t){const n=e.viewQuery;e.viewQuery=n?(o,a)=>{t(o,a),n(o,a)}:t}function $1(e,t){const n=e.contentQueries;e.contentQueries=n?(o,a,_)=>{t(o,a,_),n(o,a,_)}:t}function W1(e,t){const n=e.hostBindings;e.hostBindings=n?(o,a)=>{t(o,a),n(o,a)}:t}function rb(e){const t=e.inputConfig,n={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(n[o]=a[3])}e.inputTransforms=n}class vf{}class ib{}function Z1(e,t){return new Rv(e,t??null,[])}class Rv extends vf{constructor(t,n,o){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new w0(this);const a=cr(t);this._bootstrapComponents=mo(a.bootstrap),this._r3Injector=Id(t,n,[{provide:vf,useValue:this},{provide:Ym,useValue:this.componentFactoryResolver},...o],rt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ov extends ib{constructor(t){super(),this.moduleType=t}create(t){return new Rv(this.moduleType,t,[])}}class ob extends vf{constructor(t){super(),this.componentFactoryResolver=new w0(this),this.instance=null;const n=new ct([...t.providers,{provide:vf,useValue:this},{provide:Ym,useValue:this.componentFactoryResolver}],t.parent||Yt(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Pv(e,t,n=null){return new ob({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Dp=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function i_(e){return!!kv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function kv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Wd(e,t,n){return e[t]=n}function tg(e,t){return e[t]}function sl(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function yf(e,t,n,o){const a=sl(e,t,n);return sl(e,t+1,o)||a}function id(e,t,n,o,a,_){const N=yf(e,t,n,o);return yf(e,t+2,a,_)||N}function Tp(e,t,n,o,a,_,N,ee){const Ee=Or(),Ct=Io(),Zt=e+jo,Fn=Ct.firstCreatePass?function oA(e,t,n,o,a,_,N,ee,Ee){const Ct=t.consts,Zt=Gd(t,e,4,N||null,hl(Ct,ee));oe(t,n,Zt,hl(Ct,Ee)),Jc(t,Zt);const Fn=Zt.tView=Nm(2,Zt,o,a,_,t.directiveRegistry,t.pipeRegistry,null,t.schemas,Ct,null);return null!==t.queries&&(t.queries.template(t,Zt),Fn.queries=t.queries.embeddedTView(Zt)),Zt}(Zt,Ct,Ee,t,n,o,a,_,N):Ct.data[Zt];Us(Fn,!1);const wr=sb(Ct,Ee,Fn,e);Zc()&&bp(Ct,Ee,wr,Fn),ga(wr,Ee);const Rr=kl(wr,Ee,wr,Fn);return Ee[Zt]=Rr,Fa(Ee,Rr),function S0(e,t,n){return bv(e,t,n)}(Rr,Fn,Ee),_s(Fn)&&Fm(Ct,Ee,Fn),null!=N&&Bm(Ee,Fn,ee),Tp}let sb=function ab(e,t,n,o){return Va(!0),t[Xo].createComment("")};function zv(e,t,n,o){const a=Or();return sl(a,bl(),t)&&(Io(),function Ko(e,t,n,o,a,_){const N=Ea(e,t);Js(t[Xo],N,_,e.value,n,o,a)}(qs(),a,e,t,n,o)),zv}function u_(e,t){return e<<17|t<<2}function _h(e){return e>>17&32767}function $v(e){return 2|e}function xf(e){return(131068&e)>>2}function Wv(e,t){return-131069&e|t<<2}function Kv(e){return 1|e}function Lb(e,t,n,o){const a=e[n+1],_=null===t;let N=o?_h(a):xf(a),ee=!1;for(;0!==N&&(!1===ee||_);){const Ct=e[N+1];$A(e[N],t)&&(ee=!0,e[N+1]=o?Kv(Ct):$v(Ct)),N=o?_h(Ct):xf(Ct)}ee&&(e[n+1]=o?$v(a):Kv(a))}function $A(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$e(e,t)>=0}const El={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ub(e){return e.substring(El.key,El.keyEnd)}function WA(e){return e.substring(El.value,El.valueEnd)}function Vb(e,t){const n=El.textEnd;return n===t?-1:(t=El.keyEnd=function YA(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,El.key=t,n),zp(e,t,n))}function jb(e,t){const n=El.textEnd;let o=El.key=zp(e,t,n);return n===o?-1:(o=El.keyEnd=function QA(e,t,n){let o;for(;t<n&&(45===(o=e.charCodeAt(t))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)t++;return t}(e,o,n),o=Gb(e,o,n),o=El.value=zp(e,o,n),o=El.valueEnd=function qA(e,t,n){let o=-1,a=-1,_=-1,N=t,ee=N;for(;N<n;){const Ee=e.charCodeAt(N++);if(59===Ee)return ee;34===Ee||39===Ee?ee=N=zb(e,Ee,N,n):t===N-4&&85===_&&82===a&&76===o&&40===Ee?ee=N=zb(e,41,N,n):Ee>32&&(ee=N),_=a,a=o,o=-33&Ee}return ee}(e,o,n),Gb(e,o,n))}function Hb(e){El.key=0,El.keyEnd=0,El.value=0,El.valueEnd=0,El.textEnd=e.length}function zp(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Gb(e,t,n,o){return(t=zp(e,t,n))<n&&t++,t}function zb(e,t,n,o){let a=-1,_=n;for(;_<o;){const N=e.charCodeAt(_++);if(N==t&&92!==a)return _;a=92==N&&92===a?0:N}throw new Error}function Xv(e,t,n){const o=Or();return sl(o,bl(),t)&&Wl(Io(),qs(),o,e,t,o[Xo],n,!1),Xv}function Yv(e,t,n,o,a){const N=a?"class":"style";iv(e,n,t.inputs[N],N,o)}function Qv(e,t,n){return yd(e,t,n,!1),Qv}function qv(e,t){return yd(e,t,null,!0),qv}function vd(e){bd(Xb,ZA,e,!1)}function ZA(e,t){for(let n=function XA(e){return Hb(e),jb(e,zp(e,0,El.textEnd))}(t);n>=0;n=jb(t,n))Xb(e,Ub(t),WA(t))}function $b(e){bd(iM,Kd,e,!0)}function Kd(e,t){for(let n=function KA(e){return Hb(e),Vb(e,zp(e,0,El.textEnd))}(t);n>=0;n=Vb(t,n))Wt(e,Ub(t),!0)}function yd(e,t,n,o){const a=Or(),_=Io(),N=Ql(2);_.firstUpdatePass&&Kb(_,e,N,o),t!==Bs&&sl(a,N,t)&&Yb(_,_.data[Ra()],a,a[Xo],e,a[N+1]=function sM(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=rt(An(e)))),e}(t,n),o,N)}function bd(e,t,n,o){const a=Io(),_=Ql(2);a.firstUpdatePass&&Kb(a,null,_,o);const N=Or();if(n!==Bs&&sl(N,_,n)){const ee=a.data[Ra()];if(qb(ee,o)&&!Wb(a,_)){let Ee=o?ee.classesWithoutHost:ee.stylesWithoutHost;null!==Ee&&(n=Kt(Ee,n||"")),Yv(a,ee,N,n,o)}else!function oM(e,t,n,o,a,_,N,ee){a===Bs&&(a=Er);let Ee=0,Ct=0,Zt=0<a.length?a[0]:null,Fn=0<_.length?_[0]:null;for(;null!==Zt||null!==Fn;){const wr=Ee<a.length?a[Ee+1]:void 0,Rr=Ct<_.length?_[Ct+1]:void 0;let Fi,ei=null;Zt===Fn?(Ee+=2,Ct+=2,wr!==Rr&&(ei=Fn,Fi=Rr)):null===Fn||null!==Zt&&Zt<Fn?(Ee+=2,ei=Zt):(Ct+=2,ei=Fn,Fi=Rr),null!==ei&&Yb(e,t,n,o,ei,Fi,N,ee),Zt=Ee<a.length?a[Ee]:null,Fn=Ct<_.length?_[Ct]:null}}(a,ee,N,N[Xo],N[_+1],N[_+1]=function rM(e,t,n){if(null==n||""===n)return Er;const o=[],a=An(n);if(Array.isArray(a))for(let _=0;_<a.length;_++)e(o,a[_],!0);else if("object"==typeof a)for(const _ in a)a.hasOwnProperty(_)&&e(o,_,a[_]);else"string"==typeof a&&t(o,a);return o}(e,t,n),o,_)}}function Wb(e,t){return t>=e.expandoStartIndex}function Kb(e,t,n,o){const a=e.data;if(null===a[n+1]){const _=a[Ra()],N=Wb(e,n);qb(_,o)&&null===t&&!N&&(t=!1),t=function JA(e,t,n,o){const a=Ou(e);let _=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(n=sg(n=Zv(null,e,t,n,o),t.attrs,o),_=null);else{const N=t.directiveStylingLast;if(-1===N||e[N]!==a)if(n=Zv(a,e,t,n,o),null===_){let Ee=function eM(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==xf(o))return e[_h(o)]}(e,t,o);void 0!==Ee&&Array.isArray(Ee)&&(Ee=Zv(null,e,t,Ee[1],o),Ee=sg(Ee,t.attrs,o),function tM(e,t,n,o){e[_h(n?t.classBindings:t.styleBindings)]=o}(e,t,o,Ee))}else _=function nM(e,t,n){let o;const a=t.directiveEnd;for(let _=1+t.directiveStylingLast;_<a;_++)o=sg(o,e[_].hostAttrs,n);return sg(o,t.attrs,n)}(e,t,o)}return void 0!==_&&(o?t.residualClasses=_:t.residualStyles=_),n}(a,_,t,o),function GA(e,t,n,o,a,_){let N=_?t.classBindings:t.styleBindings,ee=_h(N),Ee=xf(N);e[o]=n;let Zt,Ct=!1;if(Array.isArray(n)?(Zt=n[1],(null===Zt||$e(n,Zt)>0)&&(Ct=!0)):Zt=n,a)if(0!==Ee){const wr=_h(e[ee+1]);e[o+1]=u_(wr,ee),0!==wr&&(e[wr+1]=Wv(e[wr+1],o)),e[ee+1]=function jA(e,t){return 131071&e|t<<17}(e[ee+1],o)}else e[o+1]=u_(ee,0),0!==ee&&(e[ee+1]=Wv(e[ee+1],o)),ee=o;else e[o+1]=u_(Ee,0),0===ee?ee=o:e[Ee+1]=Wv(e[Ee+1],o),Ee=o;Ct&&(e[o+1]=$v(e[o+1])),Lb(e,Zt,o,!0),Lb(e,Zt,o,!1),function zA(e,t,n,o,a){const _=a?e.residualClasses:e.residualStyles;null!=_&&"string"==typeof t&&$e(_,t)>=0&&(n[o+1]=Kv(n[o+1]))}(t,Zt,e,o,_),N=u_(ee,Ee),_?t.classBindings=N:t.styleBindings=N}(a,_,t,n,N,o)}}function Zv(e,t,n,o,a){let _=null;const N=n.directiveEnd;let ee=n.directiveStylingLast;for(-1===ee?ee=n.directiveStart:ee++;ee<N&&(_=t[ee],o=sg(o,_.hostAttrs,a),_!==e);)ee++;return null!==e&&(n.directiveStylingLast=ee),o}function sg(e,t,n){const o=n?1:2;let a=-1;if(null!==t)for(let _=0;_<t.length;_++){const N=t[_];"number"==typeof N?a=N:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wt(e,N,!!n||t[++_]))}return void 0===e?null:e}function Xb(e,t,n){Wt(e,t,An(n))}function iM(e,t,n){const o=String(t);""!==o&&!o.includes(" ")&&Wt(e,o,n)}function Yb(e,t,n,o,a,_,N,ee){if(!(3&t.type))return;const Ee=e.data,Ct=Ee[ee+1],Zt=function HA(e){return!(1&~e)}(Ct)?Qb(Ee,t,n,a,xf(Ct),N):void 0;h_(Zt)||(h_(_)||function VA(e){return!(2&~e)}(Ct)&&(_=Qb(Ee,null,n,a,ee,N)),function W_(e,t,n,o,a){if(t)a?e.addClass(n,o):e.removeClass(n,o);else{let _=-1===o.indexOf("-")?void 0:pl.DashCase;null==a?e.removeStyle(n,o,_):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),_|=pl.Important),e.setStyle(n,o,a,_))}}(o,N,Pc(Ra(),n),a,_))}function Qb(e,t,n,o,a,_){const N=null===t;let ee;for(;a>0;){const Ee=e[a],Ct=Array.isArray(Ee),Zt=Ct?Ee[1]:Ee,Fn=null===Zt;let wr=n[a+1];wr===Bs&&(wr=Fn?Er:void 0);let Rr=Fn?hn(wr,o):Zt===o?wr:void 0;if(Ct&&!h_(Rr)&&(Rr=hn(Ee,o)),h_(Rr)&&(ee=Rr,N))return ee;const ei=e[a+1];a=N?_h(ei):xf(ei)}if(null!==t){let Ee=_?t.residualClasses:t.residualStyles;null!=Ee&&(ee=hn(Ee,o))}return ee}function h_(e){return void 0!==e}function qb(e,t){return!!(e.flags&(t?8:16))}class _M{destroy(t){}updateValue(t,n){}swap(t,n){const o=Math.min(t,n),a=Math.max(t,n),_=this.detach(a);if(a-o>1){const N=this.detach(o);this.attach(o,_),this.attach(a,N)}else this.attach(o,_)}move(t,n){this.attach(n,this.detach(t))}}function Jv(e,t,n,o,a){return e===n&&Object.is(t,o)?1:Object.is(a(e,t),a(n,o))?-1:0}function ey(e,t,n,o){return!(void 0===t||!t.has(o)||(e.attach(n,t.get(o)),t.delete(o),0))}function Zb(e,t,n,o,a){if(ey(e,t,o,n(o,a)))e.updateValue(o,a);else{const _=e.create(o,a);e.attach(o,_)}}function Jb(e,t,n,o){const a=new Set;for(let _=t;_<=n;_++)a.add(o(_,e.at(_)));return a}class ex{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let o=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const a=this._vMap;for(;a.has(o);)o=a.get(o);a.set(o,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,o]of this.kvMap)if(t(o,n),void 0!==this._vMap){const a=this._vMap;for(;a.has(o);)o=a.get(o),t(o,n)}}}function tx(e,t,n){$d("NgControlFlow");const o=Or(),a=bl(),_=ty(o,jo+e);if(sl(o,a,t)){const ee=d(null);try{if(sv(_,0),-1!==t){const Ee=ny(o[no],jo+t),Ct=Ap(_,Ee.tView.ssrId);Vm(_,Um(o,Ee,n,{dehydratedView:Ct}),0,Cp(Ee,Ct))}}finally{d(ee)}}else{const ee=Yy(_,0);void 0!==ee&&(ee[Ps]=n)}}class yM{constructor(t,n,o){this.lContainer=t,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-Da}}function nx(e){return e}function rx(e,t){return t}class bM{constructor(t,n,o){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=o}}function ix(e,t,n,o,a,_,N,ee,Ee,Ct,Zt,Fn,wr){$d("NgControlFlow");const Rr=void 0!==Ee,ei=Or(),Fi=ee?N.bind(ei[Aa][Ps]):N,fo=new bM(Rr,Fi);ei[jo+e]=fo,Tp(e+1,t,n,o,a,_),Rr&&Tp(e+2,Ee,Ct,Zt,Fn,wr)}class xM extends _M{constructor(t,n,o){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=o,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Da}at(t){return this.getLView(t)[Ps].$implicit}attach(t,n){const o=n[ha];this.needsIndexUpdate||=t!==this.length,Vm(this.lContainer,n,t,Cp(this.templateTNode,o))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function EM(e,t){return hf(e,t)}(this.lContainer,t)}create(t,n){const o=Ap(this.lContainer,this.templateTNode.tView.ssrId);return Um(this.hostLView,this.templateTNode,new yM(this.lContainer,n,t),{dehydratedView:o})}destroy(t){gp(t[no],t)}updateValue(t,n){this.getLView(t)[Ps].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Ps].$index=t}getLView(t){return function wM(e,t){return Yy(e,t)}(this.lContainer,t)}}function ox(e){const t=d(null),n=Ra();try{const o=Or(),a=o[no],_=o[n];if(void 0===_.liveCollection){const ee=n+1,Ee=ty(o,ee),Ct=ny(a,ee);_.liveCollection=new xM(Ee,o,Ct)}else _.liveCollection.reset();const N=_.liveCollection;if(function vM(e,t,n){let o,a,_=0,N=e.length-1;if(Array.isArray(t)){let ee=t.length-1;for(;_<=N&&_<=ee;){const Ee=e.at(_),Ct=t[_],Zt=Jv(_,Ee,_,Ct,n);if(0!==Zt){Zt<0&&e.updateValue(_,Ct),_++;continue}const Fn=e.at(N),wr=t[ee],Rr=Jv(N,Fn,ee,wr,n);if(0!==Rr){Rr<0&&e.updateValue(N,wr),N--,ee--;continue}const ei=n(_,Ee),Fi=n(N,Fn),fo=n(_,Ct);if(Object.is(fo,Fi)){const Eo=n(ee,wr);Object.is(Eo,ei)?(e.swap(_,N),e.updateValue(N,wr),ee--,N--):e.move(N,_),e.updateValue(_,Ct),_++}else if(o??=new ex,a??=Jb(e,_,N,n),ey(e,o,_,fo))e.updateValue(_,Ct),_++,N++;else if(a.has(fo))o.set(ei,e.detach(_)),N--;else{const Eo=e.create(_,t[_]);e.attach(_,Eo),_++,N++}}for(;_<=ee;)Zb(e,o,n,_,t[_]),_++}else if(null!=t){const ee=t[Symbol.iterator]();let Ee=ee.next();for(;!Ee.done&&_<=N;){const Ct=e.at(_),Zt=Ee.value,Fn=Jv(_,Ct,_,Zt,n);if(0!==Fn)Fn<0&&e.updateValue(_,Zt),_++,Ee=ee.next();else{o??=new ex,a??=Jb(e,_,N,n);const wr=n(_,Zt);if(ey(e,o,_,wr))e.updateValue(_,Zt),_++,N++,Ee=ee.next();else if(a.has(wr)){const Rr=n(_,Ct);o.set(Rr,e.detach(_)),N--}else e.attach(_,e.create(_,Zt)),_++,N++,Ee=ee.next()}}for(;!Ee.done;)Zb(e,o,n,e.length,Ee.value),Ee=ee.next()}for(;_<=N;)e.destroy(e.detach(N--));o?.forEach(ee=>{e.destroy(ee)})}(N,e,_.trackByFn),N.updateIndexes(),_.hasEmptyBlock){const ee=bl(),Ee=0===N.length;if(sl(o,ee,Ee)){const Ct=n+2,Zt=ty(o,Ct);if(Ee){const Fn=ny(a,Ct),wr=Ap(Zt,Fn.tView.ssrId);Vm(Zt,Um(o,Fn,void 0,{dehydratedView:wr}),0,Cp(Fn,wr))}else sv(Zt,0)}}}finally{d(t)}}function ty(e,t){return e[t]}function ny(e,t){return jl(e,t)}function f_(e,t,n,o){const a=Or(),_=Io(),N=jo+e,ee=a[Xo],Ee=_.firstCreatePass?function CM(e,t,n,o,a,_){const N=t.consts,Ee=Gd(t,e,2,o,hl(N,a));return oe(t,n,Ee,hl(N,_)),null!==Ee.attrs&&Zg(Ee,Ee.attrs,!1),null!==Ee.mergedAttrs&&Zg(Ee,Ee.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,Ee),Ee}(N,_,a,t,n,o):_.data[N],Ct=sx(_,a,Ee,ee,t,e);a[N]=Ct;const Zt=_s(Ee);return Us(Ee,!0),Ep(ee,Ct,Ee),!function ng(e){return!(32&~e.flags)}(Ee)&&Zc()&&bp(_,a,Ct,Ee),0===function oi(){return Kn.lFrame.elementDepthCount}()&&ga(Ct,a),function ui(){Kn.lFrame.elementDepthCount++}(),Zt&&(Fm(_,a,Ee),km(_,Ee,a)),null!==o&&Bm(a,Ee),f_}function p_(){let e=yo();is()?rl():(e=e.parent,Us(e,!1));const t=e;(function To(e){return Kn.skipHydrationRootTNode===e})(t)&&function Uo(){Kn.skipHydrationRootTNode=null}(),function Ai(){Kn.lFrame.elementDepthCount--}();const n=Io();return n.firstCreatePass&&(Jc(n,e),Dl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Ad(e){return!!(8&e.flags)}(t)&&Yv(n,t,Or(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Md(e){return!!(16&e.flags)}(t)&&Yv(n,t,Or(),t.stylesWithoutHost,!1),p_}function ry(e,t,n,o){return f_(e,t,n,o),p_(),ry}let sx=(e,t,n,o,a,_)=>(Va(!0),mp(o,a,function Cf(){return Kn.lFrame.currentNamespace}()));function m_(e,t,n){const o=Or(),a=Io(),_=e+jo,N=a.firstCreatePass?function DM(e,t,n,o,a){const _=t.consts,N=hl(_,o),ee=Gd(t,e,8,"ng-container",N);return null!==N&&Zg(ee,N,!0),oe(t,n,ee,hl(_,a)),null!==t.queries&&t.queries.elementStart(t,ee),ee}(_,a,o,t,n):a.data[_];Us(N,!0);const ee=ax(a,o,N,e);return o[_]=ee,Zc()&&bp(a,o,ee,N),ga(ee,o),_s(N)&&(Fm(a,o,N),km(a,N,o)),null!=n&&Bm(o,N),m_}function g_(){let e=yo();const t=Io();return is()?rl():(e=e.parent,Us(e,!1)),t.firstCreatePass&&(Jc(t,e),Dl(e)&&t.queries.elementEnd(e)),g_}function iy(e,t,n){return m_(e,t,n),g_(),iy}let ax=(e,t,n,o)=>(Va(!0),Dm(t[Xo],""));function lx(){return Or()}function oy(e,t,n){const o=Or();return sl(o,bl(),t)&&Wl(Io(),qs(),o,e,t,o[Xo],n,!0),oy}function sy(e,t,n){const o=Or();if(sl(o,bl(),t)){const _=Io(),N=qs();Wl(_,N,o,e,t,Xy(Ou(_.data),N,o),n,!0)}return sy}const Ef=void 0;var RM=["en",[["a","p"],["AM","PM"],Ef],[["AM","PM"],Ef,Ef],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ef,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ef,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ef,"{1} 'at' {0}",Ef],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IM(e){const n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===o?1:5}];let $p={};function OM(e,t,n){"string"!=typeof t&&(n=t,t=e[Wp.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),$p[t]=e,n&&($p[t][Wp.ExtraData]=n)}function ay(e){const t=function PM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=dx(t);if(n)return n;const o=t.split("-")[0];if(n=dx(o),n)return n;if("en"===o)return RM;throw new I(701,!1)}function cx(e){return ay(e)[Wp.PluralCase]}function dx(e){return e in $p||($p[e]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[e]),$p[e]}var Wp=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Wp||{});const kM=["zero","one","two","few","many"],Kp="en-US",__={marker:"element"},v_={marker:"ICU"};var Ec=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Ec||{});let ux=Kp;function fx(e,t,n){const o=t.insertBeforeIndex,a=Array.isArray(o)?o[0]:o;return null===a?vp(e,0,n):fs(n[a])}function px(e,t,n,o,a){const _=t.insertBeforeIndex;if(Array.isArray(_)){let N=o,ee=null;if(3&t.type||(ee=N,N=a),null!==N&&-1===t.componentOffset)for(let Ee=1;Ee<_.length;Ee++)Du(e,N,n[_[Ee]],ee,!1)}}function mx(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const o=e[n];gx(o)||LM(o,t)&&null===UM(o)&&VM(o,t.index)}}function gx(e){return!(64&e.type)}function LM(e,t){return gx(t)||e.index>t.index}function UM(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function VM(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Rg(fx,px),e.insertBeforeIndex=t)}function ag(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function GM(e,t,n){const o=mf(e,n,64,null,null);return mx(t,o),o}function y_(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function _x(e){return e>>>17}function vx(e){return(131070&e)>>>1}let lg=0,cg=0;let dg=(e,t,n,o)=>(Va(!0),function bx(e,t,n){const o=e[Xo];switch(n){case Node.COMMENT_NODE:return Dm(o,t);case Node.TEXT_NODE:return pp(o,t);case Node.ELEMENT_NODE:return mp(o,t,null)}}(e,n,o));function xx(e,t,n,o){const a=n[Xo];let N,_=null;for(let ee=0;ee<t.length;ee++){const Ee=t[ee];if("string"==typeof Ee){const Ct=t[++ee];null===n[Ct]&&(n[Ct]=dg(n,Ct,Ee,Node.TEXT_NODE))}else if("number"==typeof Ee)switch(1&Ee){case 0:const Ct=_x(Ee);let Zt,Fn;if(null===_&&(_=Ct,N=_p(a,o)),Ct===_?(Zt=o,Fn=N):(Zt=null,Fn=fs(n[Ct])),null!==Fn){const Fi=vx(Ee);Du(a,Fn,n[Fi],Zt,!1);const Eo=ag(e,Fi);if(null!==Eo&&"object"==typeof Eo){const qi=y_(Eo,n);null!==qi&&xx(e,Eo.create[qi],n,n[Eo.anchorIdx])}}break;case 1:const Rr=t[++ee],ei=t[++ee];Js(a,Pc(Ee>>>1,n),null,null,Rr,ei,null)}else switch(Ee){case v_:const Ct=t[++ee],Zt=t[++ee];null===n[Zt]&&ga(n[Zt]=dg(n,Zt,Ct,Node.COMMENT_NODE),n);break;case __:const Fn=t[++ee],wr=t[++ee];null===n[wr]&&ga(n[wr]=dg(n,wr,Fn,Node.ELEMENT_NODE),n)}}}function Ex(e,t,n,o,a){for(let _=0;_<n.length;_++){const N=n[_],ee=n[++_];if(N&a){let Ee="";for(let Ct=_+1;Ct<=_+ee;Ct++){const Zt=n[Ct];if("string"==typeof Zt)Ee+=Zt;else if("number"==typeof Zt)if(Zt<0)Ee+=fn(t[o-Zt]);else{const Fn=Zt>>>2;switch(3&Zt){case 1:const wr=n[++Ct],Rr=n[++Ct],ei=e.data[Fn];"string"==typeof ei?Js(t[Xo],t[Fn],null,ei,wr,Ee,Rr):Wl(e,ei,t,wr,Ee,t[Xo],Rr,!1);break;case 0:const Fi=t[Fn];null!==Fi&&Cg(t[Xo],Fi,Ee);break;case 2:QM(e,ag(e,Fn),t,Ee);break;case 3:wx(e,ag(e,Fn),o,t)}}}}else{const Ee=n[_+1];if(Ee>0&&!(3&~Ee)){const Zt=ag(e,Ee>>>2);t[Zt.currentCaseLViewIndex]<0&&wx(e,Zt,o,t)}}_+=ee}}function wx(e,t,n,o){let a=o[t.currentCaseLViewIndex];if(null!==a){let _=lg;a<0&&(a=o[t.currentCaseLViewIndex]=~a,_=-1),Ex(e,o,t.update[a],n,_)}}function QM(e,t,n,o){const a=function qM(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const o=function FM(e,t){const n=cx(t)(parseInt(e,10)),o=kM[n];return void 0!==o?o:"other"}(t,function NM(){return ux}());n=e.cases.indexOf(o),-1===n&&"other"!==o&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,o);if(y_(t,n)!==a&&(Cx(e,t,n),n[t.currentCaseLViewIndex]=null===a?null:~a,null!==a)){const N=n[t.anchorIdx];N&&xx(e,t.create[a],n,N)}}function Cx(e,t,n){let o=y_(t,n);if(null!==o){const a=t.remove[o];for(let _=0;_<a.length;_++){const N=a[_];if(N>0){const ee=Pc(N,n);null!==ee&&pf(n[Xo],ee)}else Cx(e,ag(e,~N),n)}}}function ZM(){const e=[];let n,o,t=-1;function _(ee,Ee){t=0;const Ct=y_(ee,Ee);o=null!==Ct?ee.remove[Ct]:Er}function N(){if(t<o.length){const ee=o[t++];return ee>0?n[ee]:(e.push(t,o),_(n[no].data[~ee],n),N())}return 0===e.length?null:(o=e.pop(),t=e.pop(),N())}return function a(ee,Ee){for(n=Ee;e.length;)e.pop();return _(ee.value,Ee),N}}const b_=/\ufffd(\d+):?\d*\ufffd/gi,eD=/\ufffd(\d+)\ufffd/,Mx=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ug="\ufffd",tD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,nD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,rD=/\uE500/g;function Dx(e,t,n,o,a,_,N){const ee=gf(e,o,1,null);let Ee=ee<<Ec.SHIFT,Ct=sa();t===Ct&&(Ct=null),null===Ct&&(Ee|=Ec.APPEND_EAGERLY),N&&(Ee|=Ec.COMMENT,function sc(e){void 0===Ol&&(Ol=e())}(ZM)),a.push(Ee,null===_?"":_);const Zt=mf(e,ee,N?32:1,null===_?"":_,null);mx(n,Zt);const Fn=Zt.index;return Us(Zt,!1),null!==Ct&&t!==Ct&&function HM(e,t){let n=e.insertBeforeIndex;null===n?(Rg(fx,px),n=e.insertBeforeIndex=[null,t]):(Xt(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(Ct,Fn),Zt}function sD(e,t,n,o,a,_,N,ee){const Ee=ee.match(b_),Zt=Dx(t,n,o,N,a,Ee?null:ee,!1).index;Ee&&hg(_,ee,Zt,null,0,null),e.push({kind:0,index:Zt})}function hg(e,t,n,o,a,_){const N=e.length,ee=N+1;e.push(null,null);const Ee=N+2,Ct=t.split(b_);let Zt=0;for(let Fn=0;Fn<Ct.length;Fn++){const wr=Ct[Fn];if(1&Fn){const Rr=a+parseInt(wr,10);e.push(-1-Rr),Zt|=Tx(Rr)}else""!==wr&&e.push(wr)}return e.push(n<<2|(o?1:0)),o&&e.push(o,_),e[N]=Zt,e[ee]=e.length-Ee,Zt}function Tx(e){return 1<<Math.min(e,31)}function Sx(e){let t,_,n="",o=0,a=!1;for(;null!==(t=tD.exec(e));)a?t[0]===`${ug}/*${_}${ug}`&&(o=t.index,a=!1):(n+=e.substring(o,t.index+t[0].length),_=t[1],a=!0);return n+=e.slice(o),n}function Ix(e,t,n,o,a,_,N){let ee=0;const Ee={type:_.type,currentCaseLViewIndex:gf(t,n,1,null),anchorIdx:N,cases:[],create:[],remove:[],update:[]};(function pD(e,t,n){e.push(Tx(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(o,_,N),function jM(e,t,n){const o=e.data[t];null===o?e.data[t]=n:o.value=n}(t,N,Ee);const Ct=_.values,Zt=[];for(let Fn=0;Fn<Ct.length;Fn++){const wr=Ct[Fn],Rr=[];for(let Fi=0;Fi<wr.length;Fi++){const fo=wr[Fi];if("string"!=typeof fo){const Eo=Rr.push(fo)-1;wr[Fi]=`\x3c!--\ufffd${Eo}\ufffd--\x3e`}}const ei=[];Zt.push(ei),ee=hD(ei,t,Ee,n,o,a,_.cases[Fn],wr.join(""),Rr)|ee}ee&&function mD(e,t,n){e.push(t,1,n<<2|3)}(o,ee,N),e.push({kind:3,index:N,cases:Zt,currentCaseLViewIndex:Ee.currentCaseLViewIndex})}function uD(e){const t=[],n=[];let o=1,a=0;const _=ly(e=e.replace(Mx,function(N,ee,Ee){return o="select"===Ee?0:1,a=parseInt(ee.slice(1),10),""}));for(let N=0;N<_.length;){let ee=_[N++].trim();1===o&&(ee=ee.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ee.length&&t.push(ee);const Ee=ly(_[N++]);t.length>n.length&&n.push(Ee)}return{type:o,mainBinding:a,cases:t,values:n}}function ly(e){if(!e)return[];let t=0;const n=[],o=[],a=/[{}]/g;let _;for(a.lastIndex=0;_=a.exec(e);){const ee=_.index;if("}"==_[0]){if(n.pop(),0==n.length){const Ee=e.substring(t,ee);Mx.test(Ee)?o.push(uD(Ee)):o.push(Ee),t=ee+1}}else{if(0==n.length){const Ee=e.substring(t,ee);o.push(Ee),t=ee+1}n.push("{")}}const N=e.substring(t);return o.push(N),o}function hD(e,t,n,o,a,_,N,ee,Ee){const Ct=[],Zt=[],Fn=[];n.cases.push(N),n.create.push(Ct),n.remove.push(Zt),n.update.push(Fn);const Rr=Nr(zc()).getInertBodyElement(ee),ei=Eu(Rr)||Rr;return ei?Rx(e,t,n,o,a,Ct,Zt,Fn,ei,_,Ee,0):0}function Rx(e,t,n,o,a,_,N,ee,Ee,Ct,Zt,Fn){let wr=0,Rr=Ee.firstChild;for(;Rr;){const ei=gf(t,o,1,null);switch(Rr.nodeType){case Node.ELEMENT_NODE:const Fi=Rr,fo=Fi.tagName.toLowerCase();if(la.hasOwnProperty(fo)){cy(_,__,fo,Ct,ei),t.data[ei]=fo;const ba=Fi.attributes;for(let Cl=0;Cl<ba.length;Cl++){const wc=ba.item(Cl),qp=wc.name.toLowerCase();wc.value.match(b_)?ka.hasOwnProperty(qp)&&hg(ee,wc.value,ei,wc.name,0,Zs[qp]?Si:null):gD(_,ei,wc)}const Ia={kind:1,index:ei,children:[]};e.push(Ia),wr=Rx(Ia.children,t,n,o,a,_,N,ee,Rr,ei,Zt,Fn+1)|wr,Ox(N,ei,Fn)}break;case Node.TEXT_NODE:const Eo=Rr.textContent||"",qi=Eo.match(b_);cy(_,null,qi?"":Eo,Ct,ei),Ox(N,ei,Fn),qi&&(wr=hg(ee,Eo,ei,null,0,null)|wr),e.push({kind:0,index:ei});break;case Node.COMMENT_NODE:const ps=eD.exec(Rr.textContent||"");if(ps){const Ia=Zt[parseInt(ps[1],10)];cy(_,v_,"",Ct,ei),Ix(e,t,o,a,Ct,Ia,ei),fD(N,ei,Fn)}}Rr=Rr.nextSibling}return wr}function Ox(e,t,n){0===n&&e.push(t)}function fD(e,t,n){0===n&&(e.push(~t),e.push(t))}function cy(e,t,n,o,a){null!==t&&e.push(t),e.push(n,a,function zM(e,t,n){return e|t<<17|n<<1}(0,o,a))}function gD(e,t,n){e.push(t<<1|1,n.name,n.value)}const Px=0,_D=/\[(\ufffd.+?\ufffd?)\]/,vD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,yD=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,bD=/{([A-Z0-9_]+)}/g,xD=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,ED=/\/\*/,wD=/\d+\:(\d+)/;function dy(e,t,n=-1){const o=Io(),a=Or(),_=jo+e,N=hl(o.consts,t),ee=sa();o.firstCreatePass&&function oD(e,t,n,o,a,_){const N=sa(),ee=[],Ee=[],Ct=[[]],Zt=[[]];a=function dD(e,t){if(function cD(e){return-1===e}(t))return Sx(e);{const n=e.indexOf(`:${t}${ug}`)+2+t.toString().length,o=e.search(new RegExp(`${ug}\\/\\*\\d+:${t}${ug}`));return Sx(e.substring(n,o))}}(a,_);const Fn=function iD(e){return e.replace(rD," ")}(a).split(nD);for(let wr=0;wr<Fn.length;wr++){let Rr=Fn[wr];if(1&wr){const ei=47===Rr.charCodeAt(0),Fi=Rr.charCodeAt(ei?1:0),fo=jo+Number.parseInt(Rr.substring(ei?2:1));if(ei)Ct.shift(),Zt.shift(),Us(sa(),!1);else{const Eo=GM(e,Ct[0],fo);Ct.unshift([]),Us(Eo,!0);const qi={kind:2,index:fo,children:[],type:35===Fi?0:1};Zt[0].push(qi),Zt.unshift(qi.children)}}else{const ei=ly(Rr);for(let Fi=0;Fi<ei.length;Fi++){let fo=ei[Fi];if(1&Fi){const Eo=fo;if("object"!=typeof Eo)throw new Error(`Unable to parse ICU expression in "${a}" message.`);const ps=Dx(e,N,Ct[0],n,ee,"",!0).index;Ix(Zt[0],e,n,Ee,t,Eo,ps)}else""!==fo&&sD(Zt[0],e,N,Ct[0],ee,Ee,n,fo)}}}e.data[o]={create:ee,update:Ee,ast:Zt[0]}}(o,null===ee?0:ee.index,a,_,N,n),2===o.type?a[Aa][Do]|=32:a[Do]|=32;const Ee=o.data[_],Zt=Dg(o,ee===a[Qs]?null:ee,a);(function YM(e,t,n,o){const a=e[Xo];for(let _=0;_<t.length;_++){const N=t[_++],Ct=(N&Ec.APPEND_EAGERLY)===Ec.APPEND_EAGERLY,Zt=N>>>Ec.SHIFT;let Fn=e[Zt],wr=!1;null===Fn&&(Fn=e[Zt]=dg(e,Zt,t[_],(N&Ec.COMMENT)===Ec.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),wr=Zc()),Ct&&null!==n&&wr&&Du(a,n,Fn,o,!1)}})(a,Ee.create,Zt,ee&&8&ee.type?a[ee.index]:null),Bl(!0)}function uy(){Bl(!1)}function kx(e,t,n){dy(e,t,n),uy()}function hy(e){return function $M(e){e&&(lg|=1<<Math.min(cg,31)),cg++}(sl(Or(),bl(),e)),hy}function Fx(e){!function WM(e,t,n){if(cg>0){const o=e.data[n];Ex(e,t,Array.isArray(o)?o:o.update,hc()-cg-1,lg)}lg=0,cg=0}(Io(),Or(),e+jo)}function Bx(e,t={}){return function CD(e,t={}){let n=e;if(_D.test(e)){const o={},a=[Px];n=n.replace(vD,(_,N,ee)=>{const Ee=N||ee,Ct=o[Ee]||[];if(Ct.length||(Ee.split("|").forEach(Fi=>{const fo=Fi.match(wD),Eo=fo?parseInt(fo[1],10):Px,qi=ED.test(Fi);Ct.push([Eo,qi,Fi])}),o[Ee]=Ct),!Ct.length)throw new Error(`i18n postprocess: unmatched placeholder - ${Ee}`);const Zt=a[a.length-1];let Fn=0;for(let Fi=0;Fi<Ct.length;Fi++)if(Ct[Fi][0]===Zt){Fn=Fi;break}const[wr,Rr,ei]=Ct[Fn];return Rr?a.pop():Zt!==wr&&a.push(wr),Ct.splice(Fn,1),ei})}return Object.keys(t).length&&(n=n.replace(yD,(o,a,_,N,ee,Ee)=>t.hasOwnProperty(_)?`${a}${t[_]}${Ee}`:o),n=n.replace(bD,(o,a)=>t.hasOwnProperty(a)?t[a]:o),n=n.replace(xD,(o,a)=>{if(t.hasOwnProperty(a)){const _=t[a];if(!_.length)throw new Error(`i18n postprocess: unmatched ICU - ${o} with key: ${a}`);return _.shift()}return o})),n}(e,t)}function fy(e,t,n,o){const a=Or(),_=Io(),N=yo();return my(_,a,a[Xo],N,e,t,o),fy}function py(e,t){const n=yo(),o=Or(),a=Io();return my(a,o,Xy(Ou(a.data),n,o),n,e,t),py}function my(e,t,n,o,a,_,N){const ee=_s(o),Ct=e.firstCreatePass&&Ky(e),Zt=t[Ps],Fn=Lm(t);let wr=!0;if(3&o.type||N){const Fi=Ea(o,t),fo=N?N(Fi):Fi,Eo=Fn.length,qi=N?ba=>N(fs(ba[o.index])):o.index;let ps=null;if(!N&&ee&&(ps=function MD(e,t,n,o){const a=e.cleanup;if(null!=a)for(let _=0;_<a.length-1;_+=2){const N=a[_];if(N===n&&a[_+1]===o){const ee=t[Ua],Ee=a[_+2];return ee.length>Ee?ee[Ee]:null}"string"==typeof N&&(_+=2)}return null}(e,t,a,o.index)),null!==ps)(ps.__ngLastListenerFn__||ps).__ngNextListenerFn__=_,ps.__ngLastListenerFn__=_,wr=!1;else{_=Lx(o,t,Zt,_,!1);const ba=n.listen(fo,a,_);Fn.push(_,ba),Ct&&Ct.push(a,qi,Eo,Eo+1)}}else _=Lx(o,t,Zt,_,!1);const Rr=o.outputs;let ei;if(wr&&null!==Rr&&(ei=Rr[a])){const Fi=ei.length;if(Fi)for(let fo=0;fo<Fi;fo+=2){const Ia=t[ei[fo]][ei[fo+1]].subscribe(_),Cl=Fn.length;Fn.push(_,Ia),Ct&&Ct.push(a,o.index,Cl,-(Cl+1))}}}function Nx(e,t,n,o){const a=d(null);try{return Na(6,t,n),!1!==n(o)}catch(_){return Gg(e,_),!1}finally{Na(7,t,n),d(a)}}function Lx(e,t,n,o,a){return function _(N){if(N===Function)return o;Hm(e.componentOffset>-1?Xa(e.index,t):t);let Ee=Nx(t,n,o,N),Ct=_.__ngNextListenerFn__;for(;Ct;)Ee=Nx(t,n,Ct,N)&&Ee,Ct=Ct.__ngNextListenerFn__;return a&&!1===Ee&&N.preventDefault(),Ee}}function Ux(e=1){return function bh(e){return(Kn.lFrame.contextLView=function q(e,t){for(;e>0;)t=t[Cc],e--;return t}(e,Kn.lFrame.contextLView))[Ps]}(e)}function DD(e,t){let n=null;const o=function $t(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const _=t[a];if("*"!==_){if(null===o?Ke(e,_,!0):yr(o,_))return a}else n=a}return n}function Vx(e){const t=Or()[Aa][Qs];if(!t.projection){const o=t.projection=function xr(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}(e?e.length:1,null),a=o.slice();let _=t.child;for(;null!==_;){const N=e?DD(_,e):0;null!==N&&(a[N]?a[N].projectionNext=_:o[N]=_,a[N]=_),_=_.next}}}function jx(e,t=0,n){const o=Or(),a=Io(),_=Gd(a,jo+e,16,null,n||null);null===_.projection&&(_.projection=t),rl(),(!o[ha]||yi())&&32&~_.flags&&function z_(e,t,n){Pg(t[Xo],0,t,n,Sm(e,n,t),Ig(n.parent||t[Qs],n,t))}(a,o,_)}function qx(e,t,n,o){!function F0(e,t,n,o){const a=Io();if(a.firstCreatePass){const _=yo();B0(a,new R0(t,n,o),_.index),function T1(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),!(2&~n)&&(a.staticContentQueries=!0)}return P0(a,Or(),n)}(e,t,n,o)}function Zx(e,t,n){k0(e,t,n)}function Jx(e){const t=Or(),n=Io(),o=cd();za(o+1);const a=Dv(n,o);if(e.dirty&&function Pa(e){return!(4&~e[Do])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const _=N0(t,o);e.reset(_,Lf),e.notifyOnChanges()}return!0}return!1}function eE(){return Mv(Or(),cd())}function tE(e,t,n,o){!function z0(e,t){const n=e[w];n._lView=Or(),n._queryIndex=t,n._queryList=Mv(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(o=>o+1))}(e,k0(t,n,o))}function nE(e=1){za(cd()+e)}function rE(e){return yl(function ld(){return Kn.lFrame.contextLView}(),jo+e)}function fE(e,t=""){const n=Or(),o=Io(),a=e+jo,_=o.firstCreatePass?Gd(o,a,1,t,null):o.data[a],N=pE(o,n,_,t,e);n[a]=N,Zc()&&bp(o,n,N,_),Us(_,!1)}let pE=(e,t,n,o,a)=>(Va(!0),pp(t[Xo],o));function _y(e){return x_("",e,""),_y}function x_(e,t,n){const o=Or(),a=function Bp(e,t,n,o){return sl(e,bl(),n)?t+fn(n)+o:Bs}(o,e,t,n);return a!==Bs&&Tu(o,Ra(),a),x_}function vy(e,t,n,o,a){const _=Or(),N=function Np(e,t,n,o,a,_){const ee=yf(e,hc(),n,a);return Ql(2),ee?t+fn(n)+o+fn(a)+_:Bs}(_,e,t,n,o,a);return N!==Bs&&Tu(_,Ra(),N),vy}function yy(e,t,n,o,a,_,N,ee,Ee,Ct,Zt){const Fn=Or(),wr=function Vp(e,t,n,o,a,_,N,ee,Ee,Ct,Zt,Fn){const wr=hc();let Rr=id(e,wr,n,a,N,Ee);return Rr=sl(e,wr+4,Zt)||Rr,Ql(5),Rr?t+fn(n)+o+fn(a)+_+fn(N)+ee+fn(Ee)+Ct+fn(Zt)+Fn:Bs}(Fn,e,t,n,o,a,_,N,ee,Ee,Ct,Zt);return wr!==Bs&&Tu(Fn,Ra(),wr),yy}function by(e,t,n){V0(t)&&(t=t());const o=Or();return sl(o,bl(),t)&&Wl(Io(),qs(),o,e,t,o[Xo],n,!1),by}function xE(e,t){const n=V0(e);return n&&e.set(t),n}function xy(e,t){const n=Or(),o=Io(),a=yo();return my(o,n,n[Xo],a,e,t),xy}function Ey(e,t,n,o,a){if(e=an(e),Array.isArray(e))for(let _=0;_<e.length;_++)Ey(e[_],t,n,o,a);else{const _=Io(),N=Or(),ee=yo();let Ee=Ni(e)?e:an(e.provide);const Ct=ir(e),Zt=1048575&ee.providerIndexes,Fn=ee.directiveStart,wr=ee.providerIndexes>>20;if(Ni(e)||!e.multi){const Rr=new Cd(Ct,a,fh),ei=Cy(Ee,t,a?Zt:Zt+wr,Fn);-1===ei?(Ah(ru(ee,N),_,Ee),wy(_,e,t.length),t.push(Ee),ee.directiveStart++,ee.directiveEnd++,a&&(ee.providerIndexes+=1048576),n.push(Rr),N.push(Rr)):(n[ei]=Rr,N[ei]=Rr)}else{const Rr=Cy(Ee,t,Zt+wr,Fn),ei=Cy(Ee,t,Zt,Zt+wr),fo=ei>=0&&n[ei];if(a&&!fo||!a&&!(Rr>=0&&n[Rr])){Ah(ru(ee,N),_,Ee);const Eo=function zD(e,t,n,o,a){const _=new Cd(e,n,fh);return _.multi=[],_.index=t,_.componentProviders=0,EE(_,a,o&&!n),_}(a?GD:HD,n.length,a,o,Ct);!a&&fo&&(n[ei].providerFactory=Eo),wy(_,e,t.length,0),t.push(Ee),ee.directiveStart++,ee.directiveEnd++,a&&(ee.providerIndexes+=1048576),n.push(Eo),N.push(Eo)}else wy(_,e,Rr>-1?Rr:ei,EE(n[a?ei:Rr],Ct,!a&&o));!a&&o&&fo&&n[ei].componentProviders++}}}function wy(e,t,n,o){const a=Ni(t),_=function zs(e){return!!e.useClass}(t);if(a||_){const Ee=(_?an(t.useClass):t).prototype.ngOnDestroy;if(Ee){const Ct=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const Zt=Ct.indexOf(n);-1===Zt?Ct.push(n,[o,Ee]):Ct[Zt+1].push(o,Ee)}else Ct.push(n,Ee)}}}function EE(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cy(e,t,n,o){for(let a=n;a<o;a++)if(t[a]===e)return a;return-1}function HD(e,t,n,o){return Ay(this.multi,[])}function GD(e,t,n,o){const a=this.multi;let _;if(this.providerFactory){const N=this.providerFactory.componentProviders,ee=Jl(n,n[no],this.providerFactory.index,o);_=ee.slice(0,N),Ay(a,_);for(let Ee=N;Ee<ee.length;Ee++)_.push(ee[Ee])}else _=[],Ay(a,_);return _}function Ay(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function wE(e,t=[]){return n=>{n.providersResolver=(o,a)=>function jD(e,t,n){const o=Io();if(o.firstCreatePass){const a=nl(e);Ey(n,o.data,o.blueprint,a,!0),Ey(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let $D=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=br(0,o.type),_=a.length>0?Pv([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,_)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=fi({token:e,providedIn:"environment",factory:()=>new e(to(De))}),t})();function CE(e){$d("NgStandalone"),e.getStandaloneInjector=t=>t.get($D).getOrCreateStandaloneInjector(e)}function AE(e,t,n){const o=e.\u0275cmp;o.directiveDefs=Wr(t,!1),o.pipeDefs=Wr(n,!0)}function DE(e,t,n){const o=Ya()+e,a=Or();return a[o]===Bs?Wd(a,o,n?t.call(n):t()):tg(a,o)}function TE(e,t,n,o){return FE(Or(),Ya(),e,t,n,o)}function SE(e,t,n,o,a){return BE(Or(),Ya(),e,t,n,o,a)}function IE(e,t,n,o,a,_){return function NE(e,t,n,o,a,_,N,ee){const Ee=t+n;return function o_(e,t,n,o,a){const _=yf(e,t,n,o);return sl(e,t+2,a)||_}(e,Ee,a,_,N)?Wd(e,Ee+3,ee?o.call(ee,a,_,N):o(a,_,N)):fg(e,Ee+3)}(Or(),Ya(),e,t,n,o,a,_)}function RE(e,t,n,o,a,_,N){return function LE(e,t,n,o,a,_,N,ee,Ee){const Ct=t+n;return id(e,Ct,a,_,N,ee)?Wd(e,Ct+4,Ee?o.call(Ee,a,_,N,ee):o(a,_,N,ee)):fg(e,Ct+4)}(Or(),Ya(),e,t,n,o,a,_,N)}function OE(e,t,n,o,a,_,N,ee,Ee){const Ct=Ya()+e,Zt=Or(),Fn=id(Zt,Ct,n,o,a,_);return yf(Zt,Ct+4,N,ee)||Fn?Wd(Zt,Ct+6,Ee?t.call(Ee,n,o,a,_,N,ee):t(n,o,a,_,N,ee)):tg(Zt,Ct+6)}function PE(e,t,n,o,a,_,N,ee,Ee,Ct,Zt){const Fn=Ya()+e,wr=Or(),Rr=id(wr,Fn,n,o,a,_);return id(wr,Fn+4,N,ee,Ee,Ct)||Rr?Wd(wr,Fn+8,Zt?t.call(Zt,n,o,a,_,N,ee,Ee,Ct):t(n,o,a,_,N,ee,Ee,Ct)):tg(wr,Fn+8)}function kE(e,t,n,o){return function UE(e,t,n,o,a,_){let N=t+n,ee=!1;for(let Ee=0;Ee<a.length;Ee++)sl(e,N++,a[Ee])&&(ee=!0);return ee?Wd(e,N,o.apply(_,a)):fg(e,N)}(Or(),Ya(),e,t,n,o)}function fg(e,t){const n=e[t];return n===Bs?void 0:n}function FE(e,t,n,o,a,_){const N=t+n;return sl(e,N,a)?Wd(e,N+1,_?o.call(_,a):o(a)):fg(e,N+1)}function BE(e,t,n,o,a,_,N){const ee=t+n;return yf(e,ee,a,_)?Wd(e,ee+2,N?o.call(N,a,_):o(a,_)):fg(e,ee+2)}function VE(e,t){const n=Io();let o;const a=e+jo;n.firstCreatePass?(o=function YD(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[a]=o,o.onDestroy&&(n.destroyHooks??=[]).push(a,o.onDestroy)):o=n.data[a];const _=o.factory||(o.factory=Ks(o.type)),ee=Ro(fh);try{const Ee=fc(!1),Ct=_();return fc(Ee),function SD(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,Or(),a,Ct),Ct}finally{Ro(ee)}}function jE(e,t,n){const o=e+jo,a=Or(),_=yl(a,o);return pg(a,o)?FE(a,Ya(),t,_.transform,n,_):_.transform(n)}function HE(e,t,n,o){const a=e+jo,_=Or(),N=yl(_,a);return pg(_,a)?BE(_,Ya(),t,N.transform,n,o,N):N.transform(n,o)}function pg(e,t){return e[no].data[t].pure}function GE(e,t){return $g(e,t)}class ow{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let sw=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const uw=new Gn(""),hw=new Gn("");let Ry,$T=(()=>{var e;class t{constructor(o,a,_){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ry||(function WT(e){Ry=e}(_),_.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ml.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,_){let N=-1;a&&a>0&&(N=setTimeout(()=>{this._callbacks=this._callbacks.filter(ee=>ee.timeoutId!==N),o()},a)),this._callbacks.push({doneCb:o,timeoutId:N,updateCb:_})}whenStable(o,a,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,_){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(to(ml),to(fw),to(hw))},e.\u0275prov=fi({token:e,factory:e.\u0275fac}),t})(),fw=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Ry?.findTestabilityInTree(this,o,a)??null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function Oy(e){return!!e&&"function"==typeof e.then}function pw(e){return!!e&&"function"==typeof e.subscribe}const mw=new Gn("");let Py=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=$i(mw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const _ of this.appInits){const N=_();if(Oy(N))o.push(N);else if(pw(N)){const ee=new Promise((Ee,Ct)=>{N.subscribe({complete:Ee,error:Ct})});o.push(ee)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(_=>{this.reject(_)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ky=new Gn("");function vw(e,t){return Array.isArray(t)?t.reduce(vw,e):{...e,...t}}let vh=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$i(su),this.afterRenderEffectManager=$i(Qm),this.externalTestViews=new Set,this.beforeRender=new D.B,this.afterTick=new D.B,this.componentTypes=[],this.components=[],this.isStable=$i(Dp).hasPendingTasks.pipe((0,W.T)(o=>!o)),this._injector=$i(De)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const _=o instanceof c0;if(!this._injector.get(Py).done)throw!_&&hr(o),new I(405,!1);let ee;ee=_?o:this._injector.get(Ym).resolveComponentFactory(o),this.componentTypes.push(ee.componentType);const Ee=function KT(e){return e.isBoundToModule}(ee)?void 0:this._injector.get(vf),Zt=ee.create(Sl.NULL,[],a||ee.selector,Ee),Fn=Zt.location.nativeElement,wr=Zt.injector.get(uw,null);return wr?.registerApplication(Fn),Zt.onDestroy(()=>{this.detachView(Zt.hostView),A_(this.components,Zt),wr?.unregisterApplication(Fn)}),this._loadComponent(Zt),Zt}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new I(101,!1);const a=d(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(_){this.internalErrorHandler(_)}finally{this.afterTick.next(),this._runningTick=!1,d(a)}}detectChangesInAttachedViews(o){let a=0;const _=this.afterRenderEffectManager;for(;;){if(a===Zy)throw new I(103,!1);if(o){const N=0===a;this.beforeRender.next(N);for(let{_lView:ee,notifyErrorHandler:Ee}of this._views)YT(ee,N,Ee)}if(a++,_.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:N})=>Fy(N))&&(_.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:N})=>Fy(N))))break}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;A_(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(ky,[]);[...this._bootstrapListeners,...a].forEach(_=>_(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>A_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new I(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function A_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function YT(e,t,n){!t&&!Fy(e)||function QT(e,t,n){let o;n?(o=0,e[Do]|=1024):o=64&e[Do]?0:1,zg(e,t,o)}(e,n,t)}function Fy(e){return Fe(e)}class qT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let ZT=(()=>{var e;class t{compileModuleSync(o){return new Ov(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),N=mo(cr(o).declarations).reduce((ee,Ee)=>{const Ct=Lt(Ee);return Ct&&ee.push(new Jm(Ct)),ee},[]);return new qT(a,N)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tS=(()=>{var e;class t{constructor(){this.zone=$i(ml),this.applicationRef=$i(vh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function nS(){const e=$i(ml),t=$i(Vc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let iS=(()=>{var e;class t{constructor(){this.subscription=new F.yU,this.initialized=!1,this.zone=$i(ml),this.pendingTasks=$i(Dp)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ml.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ml.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const D_=new Gn("",{providedIn:"root",factory:()=>$i(D_,Hi.Optional|Hi.SkipSelf)||function oS(){return typeof $localize<"u"&&$localize.locale||Kp}()}),sS=new Gn("",{providedIn:"root",factory:()=>"USD"}),By=new Gn("");let Ew=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const _=function r1(e="zone.js",t){return"noop"===e?new g0:"zone.js"===e?new ml(t):e}(a?.ngZone,function xw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return _.run(()=>{const N=function J1(e,t,n){return new Rv(e,t,n)}(o.moduleType,this.injector,function bw(e){return[{provide:ml,useFactory:e},{provide:Cr,multi:!0,useFactory:()=>{const t=$i(tS,{optional:!0});return()=>t.initialize()}},{provide:Cr,multi:!0,useFactory:()=>{const t=$i(iS);return()=>{t.initialize()}}},{provide:su,useFactory:nS}]}(()=>_)),ee=N.injector.get(Vc,null);return _.runOutsideAngular(()=>{const Ee=_.onError.subscribe({next:Ct=>{ee.handleError(Ct)}});N.onDestroy(()=>{A_(this._modules,N),Ee.unsubscribe()})}),function _w(e,t,n){try{const o=n();return Oy(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(ee,_,()=>{const Ee=N.injector.get(Py);return Ee.runInitializers(),Ee.donePromise.then(()=>(function hx(e){"string"==typeof e&&(ux=e.toLowerCase().replace(/_/g,"-"))}(N.injector.get(D_,Kp)||Kp),this._moduleDoBootstrap(N),N))})})}bootstrapModule(o,a=[]){const _=vw({},a);return function eS(e,t,n){const o=new Ov(n);return Promise.resolve(o)}(0,0,o).then(N=>this.bootstrapModuleFactory(N,_))}_moduleDoBootstrap(o){const a=o.injector.get(vh);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(_=>a.bootstrap(_));else{if(!o.instance.ngDoBootstrap)throw new I(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(By,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(to(Sl))},e.\u0275prov=fi({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),yh=null;const ww=new Gn("");function Cw(e,t,n=[]){const o=`Platform: ${t}`,a=new Gn(o);return(_=[])=>{let N=Ny();if(!N||N.injector.get(ww,!1)){const ee=[...n,..._,{provide:a,useValue:!0}];e?e(ee):function lS(e){if(yh&&!yh.get(ww,!1))throw new I(400,!1);(function gw(){!function R(e){Bt=e}(()=>{throw new I(600,!1)})})(),yh=e;const t=e.get(Ew);(function Mw(e){e.get(zh,null)?.forEach(n=>n())})(e)}(function Aw(e=[],t){return Sl.create({name:t,providers:[{provide:ws,useValue:"platform"},{provide:By,useValue:new Set([()=>yh=null])},...e]})}(ee,o))}return function cS(e){const t=Ny();if(!t)throw new I(401,!1);return t}()}}function Ny(){return yh?.get(Ew)??null}function uS(){}let Tw=(()=>{class t{}return t.__NG_ELEMENT_ID__=hS,t})();function hS(e){return function fS(e,t,n){if(Ga(e)&&!n){const o=Xa(e.index,t);return new Gm(o,o)}return 47&e.type?new Gm(t[Aa],t):null}(yo(),Or(),!(16&~e))}class Ow{constructor(){}supports(t){return i_(t)}create(t){return new vS(t)}}const _S=(e,t)=>t;class vS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_S}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,a=0,_=null;for(;n||o;){const N=!o||n&&n.currentIndex<kw(o,a,_)?n:o,ee=kw(N,a,_),Ee=N.currentIndex;if(N===o)a--,o=o._nextRemoved;else if(n=n._next,null==N.previousIndex)a++;else{_||(_=[]);const Ct=ee-a,Zt=Ee-a;if(Ct!=Zt){for(let wr=0;wr<Ct;wr++){const Rr=wr<_.length?_[wr]:_[wr]=0,ei=Rr+wr;Zt<=ei&&ei<Ct&&(_[wr]=Rr+1)}_[N.previousIndex]=Zt-Ct}}ee!==Ee&&t(N,ee,Ee)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!i_(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,_,N,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let ee=0;ee<this.length;ee++)_=t[ee],N=this._trackByFn(ee,_),null!==n&&Object.is(n.trackById,N)?(o&&(n=this._verifyReinsertion(n,_,N,ee)),Object.is(n.item,_)||this._addIdentityChange(n,_)):(n=this._mismatch(n,_,N,ee),o=!0),n=n._next}else a=0,function rA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,ee=>{N=this._trackByFn(a,ee),null!==n&&Object.is(n.trackById,N)?(o&&(n=this._verifyReinsertion(n,ee,N,a)),Object.is(n.item,ee)||this._addIdentityChange(n,ee)):(n=this._mismatch(n,ee,N,a),o=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,a){let _;return null===t?_=this._itTail:(_=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,_,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,_,a)):t=this._addAfter(new yS(n,o),_,a),t}_verifyReinsertion(t,n,o,a){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==_?t=this._reinsertAfter(_,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,_=t._nextRemoved;return null===a?this._removalsHead=_:a._nextRemoved=_,null===_?this._removalsTail=a:_._prevRemoved=a,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Pw),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class Pw{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new bS,this.map.set(n,o)),o.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kw(e,t,n){const o=e.previousIndex;if(null===o)return o;let a=0;return n&&o<n.length&&(a=n[o]),o+t+a}class Fw{constructor(){}supports(t){return t instanceof Map||kv(t)}create(){return new xS}}class xS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||kv(t)))throw new I(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const _=this._getOrCreateRecordForKey(a,o);n=this._insertBeforeOrAppend(n,_)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const _=a._prev,N=a._next;return _&&(_._next=N),N&&(N._prev=_),a._next=null,a._prev=null,a}const o=new ES(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class ES{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bw(){return new Hy([new Ow])}let Hy=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const _=a.factories.slice();o=o.concat(_)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||Bw()),deps:[[t,new ca,new Lo]]}}find(o){const a=this.factories.find(_=>_.supports(o));if(null!=a)return a;throw new I(901,!1)}}return(e=t).\u0275prov=fi({token:e,providedIn:"root",factory:Bw}),t})();function Nw(){return new Gy([new Fw])}let Gy=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const _=a.factories.slice();o=o.concat(_)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||Nw()),deps:[[t,new ca,new Lo]]}}find(o){const a=this.factories.find(_=>_.supports(o));if(a)return a;throw new I(901,!1)}}return(e=t).\u0275prov=fi({token:e,providedIn:"root",factory:Nw}),t})();const AS=Cw(null,"core",[]);let MS=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(to(vh))},e.\u0275mod=pe({type:e}),e.\u0275inj=uo({}),t})();function tI(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function nI(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function iI(e,t){$d("NgSignals");const n=ce(e);return t?.equal&&(n[w].equal=t.equal),n}function oI(e){const t=d(null);try{return e()}finally{d(t)}}const sI=new Gn("",{providedIn:"root",factory:()=>$i(aI)});let aI=(()=>{var e;class t{}return(e=t).\u0275prov=fi({token:e,providedIn:"root",factory:()=>new lI}),t})();class lI{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=$i(Dp),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(t){const n=t.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const o=this.queues.get(n);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}class cI{constructor(t,n,o,a,_,N){this.scheduler=t,this.effectFn=n,this.creationZone=o,this.injector=_,this.watcher=function Ne(e,t,n){const o=Object.create(Ot);n&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=t;const a=Ee=>{o.cleanupFn=Ee};return o.ref={notify:()=>V(o),run:()=>{if(null===o.fn)return;if(function S(){return C}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!te(o))return;o.hasRun=!0;const Ee=Z(o);try{o.cleanupFn(),o.cleanupFn=Xe,o.fn(a)}finally{J(o,Ee)}},cleanup:()=>o.cleanupFn(),destroy:()=>function N(Ee){(function _(Ee){return null===Ee.fn&&null===Ee.schedule})(Ee)||(ae(Ee),Ee.cleanupFn(),Ee.fn=null,Ee.schedule=null,Ee.cleanupFn=Xe)}(o),[w]:o},o.ref}(ee=>this.runEffect(ee),()=>this.schedule(),N),this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(Vc,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function oC(e,t){$d("NgSignals"),!t?.injector&&Ca();const n=t?.injector??$i(Sl),o=!0!==t?.manualCleanup?n.get(qa):null,a=new cI(n.get(sI),e,typeof Zone>"u"?null:Zone.current,o,n,t?.allowSignalWrites??!1),_=n.get(Tw,null,{optional:!0});return _&&8&_._lView[Do]?(_._lView[Vl]??=[]).push(a.watcher.notify):a.watcher.notify(),a}function dI(e,t){const n=Lt(e),o=t.elementInjector||Yt();return new Jm(n).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function uI(e){const t=Lt(e);if(!t)return null;const n=new Jm(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},89079:(en,Ve,E)=>{"use strict";E.d(Ve,{br:()=>S,ot:()=>U,pQ:()=>x});var i=E(54438),u=E(2573),f=E(60391),C=E(37925);function x(P){P||((0,i.Af3)(x),P=(0,i.WQX)(i.abz));const y=new u.c(v=>P.onDestroy(v.next.bind(v)));return v=>v.pipe((0,C.Q)(y))}function S(P,y){!y?.injector&&(0,i.Af3)(S);const v=y?.injector??(0,i.WQX)(i.zZn),M=new f.m(1),G=(0,i.QZP)(()=>{let K;try{K=P()}catch(V){return void(0,i.O8t)(()=>M.error(V))}(0,i.O8t)(()=>M.next(K))},{injector:v,manualCleanup:!0});return v.get(i.abz).onDestroy(()=>{G.destroy(),M.complete()}),M.asObservable()}function U(P,y){const v=!y?.manualCleanup;v&&!y?.injector&&(0,i.Af3)(U);const M=v?y?.injector?.get(i.abz)??(0,i.WQX)(i.abz):null;let G;G=(0,i.vPA)(y?.requireSync?{kind:0}:{kind:1,value:y?.initialValue});const K=P.subscribe({next:V=>G.set({kind:1,value:V}),error:V=>{if(y?.rejectErrors)throw V;G.set({kind:2,error:V})}});return M?.onDestroy(K.unsubscribe.bind(K)),(0,i.EWP)(()=>{const V=G();switch(V.kind){case 1:return V.value;case 2:throw V.error;case 0:throw new i.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},89417:(en,Ve,E)=>{"use strict";E.d(Ve,{$R:()=>os,BC:()=>p,Bm:()=>Cr,JD:()=>jr,MJ:()=>zr,X1:()=>Ao,YN:()=>ko,ZU:()=>D,cb:()=>I,cz:()=>V,gE:()=>tn,hs:()=>si,j4:()=>zo,k0:()=>te,kq:()=>k,l_:()=>Ws,me:()=>M,ok:()=>pi,qT:()=>Dt,v8:()=>Rs,wz:()=>to,xH:()=>xo,xq:()=>tr,y7:()=>Os,ze:()=>Xi});var i=E(54438),u=E(60177),f=E(21472),C=E(46104),x=E(36110);let w=(()=>{var st;class Qe{constructor(ft,fe){this._renderer=ft,this._elementRef=fe,this.onChange=St=>{},this.onTouched=()=>{}}setProperty(ft,fe){this._renderer.setProperty(this._elementRef.nativeElement,ft,fe)}registerOnTouched(ft){this.onTouched=ft}registerOnChange(ft){this.onChange=ft}setDisabledState(ft){this.setProperty("disabled",ft)}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(i.sFG),i.rXU(i.aKT))},st.\u0275dir=i.FsC({type:st}),Qe})(),d=(()=>{var st;class Qe extends w{}return(st=Qe).\u0275fac=(()=>{let dn;return function(fe){return(dn||(dn=i.xGo(st)))(fe||st)}})(),st.\u0275dir=i.FsC({type:st,features:[i.Vt3]}),Qe})();const k=new i.nKC(""),P={provide:k,useExisting:(0,i.Rfq)(()=>M),multi:!0},v=new i.nKC("");let M=(()=>{var st;class Qe extends w{constructor(ft,fe,St){super(ft,fe),this._compositionMode=St,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function y(){const st=(0,u.QT)()?(0,u.QT)().getUserAgent():"";return/android (\d+)/.test(st.toLowerCase())}())}writeValue(ft){this.setProperty("value",ft??"")}_handleInput(ft){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ft)}_compositionStart(){this._composing=!0}_compositionEnd(ft){this._composing=!1,this._compositionMode&&this.onChange(ft)}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(v,8))},st.\u0275dir=i.FsC({type:st,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ft,fe){1&ft&&i.bIt("input",function(cn){return fe._handleInput(cn.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(cn){return fe._compositionEnd(cn.target.value)})},features:[i.Jv_([P]),i.Vt3]}),Qe})();function G(st){return null==st||("string"==typeof st||Array.isArray(st))&&0===st.length}function K(st){return null!=st&&"number"==typeof st.length}const V=new i.nKC(""),Z=new i.nKC(""),J=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class te{static min(Qe){return function ae(st){return Qe=>{if(G(Qe.value)||G(st))return null;const dn=parseFloat(Qe.value);return!isNaN(dn)&&dn<st?{min:{min:st,actual:Qe.value}}:null}}(Qe)}static max(Qe){return function Y(st){return Qe=>{if(G(Qe.value)||G(st))return null;const dn=parseFloat(Qe.value);return!isNaN(dn)&&dn>st?{max:{max:st,actual:Qe.value}}:null}}(Qe)}static required(Qe){return $(Qe)}static requiredTrue(Qe){return H(Qe)}static email(Qe){return function me(st){return G(st.value)||J.test(st.value)?null:{email:!0}}(Qe)}static minLength(Qe){return function B(st){return Qe=>G(Qe.value)||!K(Qe.value)?null:Qe.value.length<st?{minlength:{requiredLength:st,actualLength:Qe.value.length}}:null}(Qe)}static maxLength(Qe){return function ce(st){return Qe=>K(Qe.value)&&Qe.value.length>st?{maxlength:{requiredLength:st,actualLength:Qe.value.length}}:null}(Qe)}static pattern(Qe){return function Oe(st){if(!st)return Ue;let Qe,dn;return"string"==typeof st?(dn="","^"!==st.charAt(0)&&(dn+="^"),dn+=st,"$"!==st.charAt(st.length-1)&&(dn+="$"),Qe=new RegExp(dn)):(dn=st.toString(),Qe=st),ft=>{if(G(ft.value))return null;const fe=ft.value;return Qe.test(fe)?null:{pattern:{requiredPattern:dn,actualValue:fe}}}}(Qe)}static nullValidator(Qe){return null}static compose(Qe){return j(Qe)}static composeAsync(Qe){return Ce(Qe)}}function $(st){return G(st.value)?{required:!0}:null}function H(st){return!0===st.value?null:{required:!0}}function Ue(st){return null}function qe(st){return null!=st}function _e(st){return(0,i.jNT)(st)?(0,f.H)(st):st}function ht(st){let Qe={};return st.forEach(dn=>{Qe=null!=dn?{...Qe,...dn}:Qe}),0===Object.keys(Qe).length?null:Qe}function Bt(st,Qe){return Qe.map(dn=>dn(st))}function R(st){return st.map(Qe=>function de(st){return!st.validate}(Qe)?Qe:dn=>Qe.validate(dn))}function j(st){if(!st)return null;const Qe=st.filter(qe);return 0==Qe.length?null:function(dn){return ht(Bt(dn,Qe))}}function he(st){return null!=st?j(R(st)):null}function Ce(st){if(!st)return null;const Qe=st.filter(qe);return 0==Qe.length?null:function(dn){const ft=Bt(dn,Qe).map(_e);return(0,C.p)(ft).pipe((0,x.T)(ht))}}function Re(st){return null!=st?Ce(R(st)):null}function pt(st,Qe){return null===st?[Qe]:Array.isArray(st)?[...st,Qe]:[st,Qe]}function zt(st){return st._rawValidators}function Mn(st){return st._rawAsyncValidators}function It(st){return st?Array.isArray(st)?st:[st]:[]}function Ne(st,Qe){return Array.isArray(st)?st.includes(Qe):st===Qe}function Xe(st,Qe){const dn=It(Qe);return It(st).forEach(fe=>{Ne(dn,fe)||dn.push(fe)}),dn}function Ot(st,Qe){return It(Qe).filter(dn=>!Ne(st,dn))}class re{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Qe){this._rawValidators=Qe||[],this._composedValidatorFn=he(this._rawValidators)}_setAsyncValidators(Qe){this._rawAsyncValidators=Qe||[],this._composedAsyncValidatorFn=Re(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Qe){this._onDestroyCallbacks.push(Qe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Qe=>Qe()),this._onDestroyCallbacks=[]}reset(Qe=void 0){this.control&&this.control.reset(Qe)}hasError(Qe,dn){return!!this.control&&this.control.hasError(Qe,dn)}getError(Qe,dn){return this.control?this.control.getError(Qe,dn):null}}class D extends re{get formDirective(){return null}get path(){return null}}class F extends re{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class T{constructor(Qe){this._cd=Qe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let p=(()=>{var st;class Qe extends T{constructor(ft){super(ft)}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(F,2))},st.\u0275dir=i.FsC({type:st,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ft,fe){2&ft&&i.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},features:[i.Vt3]}),Qe})(),I=(()=>{var st;class Qe extends T{constructor(ft){super(ft)}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(D,10))},st.\u0275dir=i.FsC({type:st,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ft,fe){2&ft&&i.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},features:[i.Vt3]}),Qe})();const ye="VALID",mt="INVALID",rt="PENDING",Kt="DISABLED";function Dn(st){return(At(st)?st.validators:st)||null}function lr(st,Qe){return(At(Qe)?Qe.asyncValidators:st)||null}function At(st){return null!=st&&!Array.isArray(st)&&"object"==typeof st}function Et(st,Qe,dn){const ft=st.controls;if(!(Qe?Object.keys(ft):ft).length)throw new i.wOt(1e3,"");if(!ft[dn])throw new i.wOt(1001,"")}function xt(st,Qe,dn){st._forEachChild((ft,fe)=>{if(void 0===dn[fe])throw new i.wOt(1002,"")})}class gt{constructor(Qe,dn){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Qe),this._assignAsyncValidators(dn)}get validator(){return this._composedValidatorFn}set validator(Qe){this._rawValidators=this._composedValidatorFn=Qe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Qe){this._rawAsyncValidators=this._composedAsyncValidatorFn=Qe}get parent(){return this._parent}get valid(){return this.status===ye}get invalid(){return this.status===mt}get pending(){return this.status==rt}get disabled(){return this.status===Kt}get enabled(){return this.status!==Kt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Qe){this._assignValidators(Qe)}setAsyncValidators(Qe){this._assignAsyncValidators(Qe)}addValidators(Qe){this.setValidators(Xe(Qe,this._rawValidators))}addAsyncValidators(Qe){this.setAsyncValidators(Xe(Qe,this._rawAsyncValidators))}removeValidators(Qe){this.setValidators(Ot(Qe,this._rawValidators))}removeAsyncValidators(Qe){this.setAsyncValidators(Ot(Qe,this._rawAsyncValidators))}hasValidator(Qe){return Ne(this._rawValidators,Qe)}hasAsyncValidator(Qe){return Ne(this._rawAsyncValidators,Qe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Qe={}){this.touched=!0,this._parent&&!Qe.onlySelf&&this._parent.markAsTouched(Qe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Qe=>Qe.markAllAsTouched())}markAsUntouched(Qe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(dn=>{dn.markAsUntouched({onlySelf:!0})}),this._parent&&!Qe.onlySelf&&this._parent._updateTouched(Qe)}markAsDirty(Qe={}){this.pristine=!1,this._parent&&!Qe.onlySelf&&this._parent.markAsDirty(Qe)}markAsPristine(Qe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(dn=>{dn.markAsPristine({onlySelf:!0})}),this._parent&&!Qe.onlySelf&&this._parent._updatePristine(Qe)}markAsPending(Qe={}){this.status=rt,!1!==Qe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Qe.onlySelf&&this._parent.markAsPending(Qe)}disable(Qe={}){const dn=this._parentMarkedDirty(Qe.onlySelf);this.status=Kt,this.errors=null,this._forEachChild(ft=>{ft.disable({...Qe,onlySelf:!0})}),this._updateValue(),!1!==Qe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Qe,skipPristineCheck:dn}),this._onDisabledChange.forEach(ft=>ft(!0))}enable(Qe={}){const dn=this._parentMarkedDirty(Qe.onlySelf);this.status=ye,this._forEachChild(ft=>{ft.enable({...Qe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Qe.emitEvent}),this._updateAncestors({...Qe,skipPristineCheck:dn}),this._onDisabledChange.forEach(ft=>ft(!1))}_updateAncestors(Qe){this._parent&&!Qe.onlySelf&&(this._parent.updateValueAndValidity(Qe),Qe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Qe){this._parent=Qe}getRawValue(){return this.value}updateValueAndValidity(Qe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ye||this.status===rt)&&this._runAsyncValidator(Qe.emitEvent)),!1!==Qe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Qe.onlySelf&&this._parent.updateValueAndValidity(Qe)}_updateTreeValidity(Qe={emitEvent:!0}){this._forEachChild(dn=>dn._updateTreeValidity(Qe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Qe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kt:ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Qe){if(this.asyncValidator){this.status=rt,this._hasOwnPendingAsyncValidator=!0;const dn=_e(this.asyncValidator(this));this._asyncValidationSubscription=dn.subscribe(ft=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ft,{emitEvent:Qe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Qe,dn={}){this.errors=Qe,this._updateControlsErrors(!1!==dn.emitEvent)}get(Qe){let dn=Qe;return null==dn||(Array.isArray(dn)||(dn=dn.split(".")),0===dn.length)?null:dn.reduce((ft,fe)=>ft&&ft._find(fe),this)}getError(Qe,dn){const ft=dn?this.get(dn):this;return ft&&ft.errors?ft.errors[Qe]:null}hasError(Qe,dn){return!!this.getError(Qe,dn)}get root(){let Qe=this;for(;Qe._parent;)Qe=Qe._parent;return Qe}_updateControlsErrors(Qe){this.status=this._calculateStatus(),Qe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Qe)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?Kt:this.errors?mt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rt)?rt:this._anyControlsHaveStatus(mt)?mt:ye}_anyControlsHaveStatus(Qe){return this._anyControls(dn=>dn.status===Qe)}_anyControlsDirty(){return this._anyControls(Qe=>Qe.dirty)}_anyControlsTouched(){return this._anyControls(Qe=>Qe.touched)}_updatePristine(Qe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Qe.onlySelf&&this._parent._updatePristine(Qe)}_updateTouched(Qe={}){this.touched=this._anyControlsTouched(),this._parent&&!Qe.onlySelf&&this._parent._updateTouched(Qe)}_registerOnCollectionChange(Qe){this._onCollectionChange=Qe}_setUpdateStrategy(Qe){At(Qe)&&null!=Qe.updateOn&&(this._updateOn=Qe.updateOn)}_parentMarkedDirty(Qe){return!Qe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Qe){return null}_assignValidators(Qe){this._rawValidators=Array.isArray(Qe)?Qe.slice():Qe,this._composedValidatorFn=function Jn(st){return Array.isArray(st)?he(st):st||null}(this._rawValidators)}_assignAsyncValidators(Qe){this._rawAsyncValidators=Array.isArray(Qe)?Qe.slice():Qe,this._composedAsyncValidatorFn=function an(st){return Array.isArray(st)?Re(st):st||null}(this._rawAsyncValidators)}}class tn extends gt{constructor(Qe,dn,ft){super(Dn(dn),lr(ft,dn)),this.controls=Qe,this._initObservables(),this._setUpdateStrategy(dn),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Qe,dn){return this.controls[Qe]?this.controls[Qe]:(this.controls[Qe]=dn,dn.setParent(this),dn._registerOnCollectionChange(this._onCollectionChange),dn)}addControl(Qe,dn,ft={}){this.registerControl(Qe,dn),this.updateValueAndValidity({emitEvent:ft.emitEvent}),this._onCollectionChange()}removeControl(Qe,dn={}){this.controls[Qe]&&this.controls[Qe]._registerOnCollectionChange(()=>{}),delete this.controls[Qe],this.updateValueAndValidity({emitEvent:dn.emitEvent}),this._onCollectionChange()}setControl(Qe,dn,ft={}){this.controls[Qe]&&this.controls[Qe]._registerOnCollectionChange(()=>{}),delete this.controls[Qe],dn&&this.registerControl(Qe,dn),this.updateValueAndValidity({emitEvent:ft.emitEvent}),this._onCollectionChange()}contains(Qe){return this.controls.hasOwnProperty(Qe)&&this.controls[Qe].enabled}setValue(Qe,dn={}){xt(this,0,Qe),Object.keys(Qe).forEach(ft=>{Et(this,!0,ft),this.controls[ft].setValue(Qe[ft],{onlySelf:!0,emitEvent:dn.emitEvent})}),this.updateValueAndValidity(dn)}patchValue(Qe,dn={}){null!=Qe&&(Object.keys(Qe).forEach(ft=>{const fe=this.controls[ft];fe&&fe.patchValue(Qe[ft],{onlySelf:!0,emitEvent:dn.emitEvent})}),this.updateValueAndValidity(dn))}reset(Qe={},dn={}){this._forEachChild((ft,fe)=>{ft.reset(Qe?Qe[fe]:null,{onlySelf:!0,emitEvent:dn.emitEvent})}),this._updatePristine(dn),this._updateTouched(dn),this.updateValueAndValidity(dn)}getRawValue(){return this._reduceChildren({},(Qe,dn,ft)=>(Qe[ft]=dn.getRawValue(),Qe))}_syncPendingControls(){let Qe=this._reduceChildren(!1,(dn,ft)=>!!ft._syncPendingControls()||dn);return Qe&&this.updateValueAndValidity({onlySelf:!0}),Qe}_forEachChild(Qe){Object.keys(this.controls).forEach(dn=>{const ft=this.controls[dn];ft&&Qe(ft,dn)})}_setUpControls(){this._forEachChild(Qe=>{Qe.setParent(this),Qe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Qe){for(const[dn,ft]of Object.entries(this.controls))if(this.contains(dn)&&Qe(ft))return!0;return!1}_reduceValue(){return this._reduceChildren({},(dn,ft,fe)=>((ft.enabled||this.disabled)&&(dn[fe]=ft.value),dn))}_reduceChildren(Qe,dn){let ft=Qe;return this._forEachChild((fe,St)=>{ft=dn(ft,fe,St)}),ft}_allControlsDisabled(){for(const Qe of Object.keys(this.controls))if(this.controls[Qe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Qe){return this.controls.hasOwnProperty(Qe)?this.controls[Qe]:null}}class En extends tn{}const ke=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Jt}),Jt="always";function We(st,Qe){return[...Qe.path,st]}function Tt(st,Qe,dn=Jt){sr(st,Qe),Qe.valueAccessor.writeValue(st.value),(st.disabled||"always"===dn)&&Qe.valueAccessor.setDisabledState?.(st.disabled),function hi(st,Qe){Qe.valueAccessor.registerOnChange(dn=>{st._pendingValue=dn,st._pendingChange=!0,st._pendingDirty=!0,"change"===st.updateOn&&fi(st,Qe)})}(st,Qe),function co(st,Qe){const dn=(ft,fe)=>{Qe.valueAccessor.writeValue(ft),fe&&Qe.viewToModelUpdate(ft)};st.registerOnChange(dn),Qe._registerOnDestroy(()=>{st._unregisterOnChange(dn)})}(st,Qe),function Ei(st,Qe){Qe.valueAccessor.registerOnTouched(()=>{st._pendingTouched=!0,"blur"===st.updateOn&&st._pendingChange&&fi(st,Qe),"submit"!==st.updateOn&&st.markAsTouched()})}(st,Qe),function dr(st,Qe){if(Qe.valueAccessor.setDisabledState){const dn=ft=>{Qe.valueAccessor.setDisabledState(ft)};st.registerOnDisabledChange(dn),Qe._registerOnDestroy(()=>{st._unregisterOnDisabledChange(dn)})}}(st,Qe)}function wn(st,Qe,dn=!0){const ft=()=>{};Qe.valueAccessor&&(Qe.valueAccessor.registerOnChange(ft),Qe.valueAccessor.registerOnTouched(ft)),Gr(st,Qe),st&&(Qe._invokeOnDestroyCallbacks(),st._registerOnCollectionChange(()=>{}))}function In(st,Qe){st.forEach(dn=>{dn.registerOnValidatorChange&&dn.registerOnValidatorChange(Qe)})}function sr(st,Qe){const dn=zt(st);null!==Qe.validator?st.setValidators(pt(dn,Qe.validator)):"function"==typeof dn&&st.setValidators([dn]);const ft=Mn(st);null!==Qe.asyncValidator?st.setAsyncValidators(pt(ft,Qe.asyncValidator)):"function"==typeof ft&&st.setAsyncValidators([ft]);const fe=()=>st.updateValueAndValidity();In(Qe._rawValidators,fe),In(Qe._rawAsyncValidators,fe)}function Gr(st,Qe){let dn=!1;if(null!==st){if(null!==Qe.validator){const fe=zt(st);if(Array.isArray(fe)&&fe.length>0){const St=fe.filter(cn=>cn!==Qe.validator);St.length!==fe.length&&(dn=!0,st.setValidators(St))}}if(null!==Qe.asyncValidator){const fe=Mn(st);if(Array.isArray(fe)&&fe.length>0){const St=fe.filter(cn=>cn!==Qe.asyncValidator);St.length!==fe.length&&(dn=!0,st.setAsyncValidators(St))}}}const ft=()=>{};return In(Qe._rawValidators,ft),In(Qe._rawAsyncValidators,ft),dn}function fi(st,Qe){st._pendingDirty&&st.markAsDirty(),st.setValue(st._pendingValue,{emitModelToViewChange:!1}),Qe.viewToModelUpdate(st._pendingValue),st._pendingChange=!1}function dt(st,Qe){if(!st.hasOwnProperty("model"))return!1;const dn=st.model;return!!dn.isFirstChange()||!Object.is(Qe,dn.currentValue)}function Gn(st,Qe){if(!Qe)return null;let dn,ft,fe;return Array.isArray(Qe),Qe.forEach(St=>{St.constructor===M?dn=St:function vn(st){return Object.getPrototypeOf(st.constructor)===d}(St)?ft=St:fe=St}),fe||ft||dn||null}function fr(st,Qe){const dn=st.indexOf(Qe);dn>-1&&st.splice(dn,1)}function Ar(st){return"object"==typeof st&&null!==st&&2===Object.keys(st).length&&"value"in st&&"disabled"in st}Promise.resolve();const zr=class extends gt{constructor(Qe=null,dn,ft){super(Dn(dn),lr(ft,dn)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Qe),this._setUpdateStrategy(dn),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),At(dn)&&(dn.nonNullable||dn.initialValueIsDefault)&&(this.defaultValue=Ar(Qe)?Qe.value:Qe)}setValue(Qe,dn={}){this.value=this._pendingValue=Qe,this._onChange.length&&!1!==dn.emitModelToViewChange&&this._onChange.forEach(ft=>ft(this.value,!1!==dn.emitViewToModelChange)),this.updateValueAndValidity(dn)}patchValue(Qe,dn={}){this.setValue(Qe,dn)}reset(Qe=this.defaultValue,dn={}){this._applyFormState(Qe),this.markAsPristine(dn),this.markAsUntouched(dn),this.setValue(this.value,dn),this._pendingChange=!1}_updateValue(){}_anyControls(Qe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Qe){this._onChange.push(Qe)}_unregisterOnChange(Qe){fr(this._onChange,Qe)}registerOnDisabledChange(Qe){this._onDisabledChange.push(Qe)}_unregisterOnDisabledChange(Qe){fr(this._onDisabledChange,Qe)}_forEachChild(Qe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Qe){Ar(Qe)?(this.value=this._pendingValue=Qe.value,Qe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Qe}},si=zr;let ni=(()=>{var st;class Qe extends D{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return We(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return(st=Qe).\u0275fac=(()=>{let dn;return function(fe){return(dn||(dn=i.xGo(st)))(fe||st)}})(),st.\u0275dir=i.FsC({type:st,features:[i.Vt3]}),Qe})();Promise.resolve();let Dt=(()=>{var st;class Qe{}return(st=Qe).\u0275fac=function(ft){return new(ft||st)},st.\u0275dir=i.FsC({type:st,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Qe})();const Ro=new i.nKC(""),Is={provide:F,useExisting:(0,i.Rfq)(()=>Ws)};let Ws=(()=>{var st;class Qe extends F{set isDisabled(ft){}constructor(ft,fe,St,cn,Yn){super(),this._ngModelWarningConfig=cn,this.callSetDisabledState=Yn,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(ft),this._setAsyncValidators(fe),this.valueAccessor=Gn(0,St)}ngOnChanges(ft){if(this._isControlChanged(ft)){const fe=ft.form.previousValue;fe&&wn(fe,this,!1),Tt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}dt(ft,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&wn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ft){this.viewModel=ft,this.update.emit(ft)}_isControlChanged(ft){return ft.hasOwnProperty("form")}}return(st=Qe)._ngModelWarningSentOnce=!1,st.\u0275fac=function(ft){return new(ft||st)(i.rXU(V,10),i.rXU(Z,10),i.rXU(k,10),i.rXU(Ro,8),i.rXU(ke,8))},st.\u0275dir=i.FsC({type:st,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Is]),i.Vt3,i.OA$]}),Qe})();const ms={provide:D,useExisting:(0,i.Rfq)(()=>zo)};let zo=(()=>{var st;class Qe extends D{constructor(ft,fe,St){super(),this.callSetDisabledState=St,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(ft),this._setAsyncValidators(fe)}ngOnChanges(ft){this._checkFormPresent(),ft.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ft){const fe=this.form.get(ft.path);return Tt(fe,ft,this.callSetDisabledState),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(ft),fe}getControl(ft){return this.form.get(ft.path)}removeControl(ft){wn(ft.control||null,ft,!1),function nr(st,Qe){const dn=st.indexOf(Qe);dn>-1&&st.splice(dn,1)}(this.directives,ft)}addFormGroup(ft){this._setUpFormContainer(ft)}removeFormGroup(ft){this._cleanUpFormContainer(ft)}getFormGroup(ft){return this.form.get(ft.path)}addFormArray(ft){this._setUpFormContainer(ft)}removeFormArray(ft){this._cleanUpFormContainer(ft)}getFormArray(ft){return this.form.get(ft.path)}updateModel(ft,fe){this.form.get(ft.path).setValue(fe)}onSubmit(ft){return this.submitted=!0,function bn(st,Qe){st._syncPendingControls(),Qe.forEach(dn=>{const ft=dn.control;"submit"===ft.updateOn&&ft._pendingChange&&(dn.viewToModelUpdate(ft._pendingValue),ft._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(ft),"dialog"===ft?.target?.method}onReset(){this.resetForm()}resetForm(ft=void 0){this.form.reset(ft),this.submitted=!1}_updateDomValue(){this.directives.forEach(ft=>{const fe=ft.control,St=this.form.get(ft.path);fe!==St&&(wn(fe||null,ft),(st=>st instanceof zr)(St)&&(Tt(St,ft,this.callSetDisabledState),ft.control=St))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ft){const fe=this.form.get(ft.path);(function uo(st,Qe){sr(st,Qe)})(fe,ft),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ft){if(this.form){const fe=this.form.get(ft.path);fe&&function Pi(st,Qe){return Gr(st,Qe)}(fe,ft)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sr(this.form,this),this._oldForm&&Gr(this._oldForm,this)}_checkFormPresent(){}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(V,10),i.rXU(Z,10),i.rXU(ke,8))},st.\u0275dir=i.FsC({type:st,selectors:[["","formGroup",""]],hostBindings:function(ft,fe){1&ft&&i.bIt("submit",function(cn){return fe.onSubmit(cn)})("reset",function(){return fe.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([ms]),i.Vt3,i.OA$]}),Qe})();const Zo={provide:D,useExisting:(0,i.Rfq)(()=>os)};let os=(()=>{var st;class Qe extends ni{constructor(ft,fe,St){super(),this.name=null,this._parent=ft,this._setValidators(fe),this._setAsyncValidators(St)}_checkParentType(){ar(this._parent)}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(D,13),i.rXU(V,10),i.rXU(Z,10))},st.\u0275dir=i.FsC({type:st,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([Zo]),i.Vt3]}),Qe})();const ns={provide:D,useExisting:(0,i.Rfq)(()=>Rs)};let Rs=(()=>{var st;class Qe extends D{constructor(ft,fe,St){super(),this.name=null,this._parent=ft,this._setValidators(fe),this._setAsyncValidators(St)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return We(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ar(this._parent)}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(D,13),i.rXU(V,10),i.rXU(Z,10))},st.\u0275dir=i.FsC({type:st,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([ns]),i.Vt3]}),Qe})();function ar(st){return!(st instanceof os||st instanceof zo||st instanceof Rs)}const ur={provide:F,useExisting:(0,i.Rfq)(()=>jr)};let jr=(()=>{var st;class Qe extends F{set isDisabled(ft){}constructor(ft,fe,St,cn,Yn){super(),this._ngModelWarningConfig=Yn,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=ft,this._setValidators(fe),this._setAsyncValidators(St),this.valueAccessor=Gn(0,cn)}ngOnChanges(ft){this._added||this._setUpControl(),dt(ft,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ft){this.viewModel=ft,this.update.emit(ft)}get path(){return We(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(st=Qe)._ngModelWarningSentOnce=!1,st.\u0275fac=function(ft){return new(ft||st)(i.rXU(D,13),i.rXU(V,10),i.rXU(Z,10),i.rXU(k,10),i.rXU(Ro,8))},st.\u0275dir=i.FsC({type:st,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([ur]),i.Vt3,i.OA$]}),Qe})();const Mi={provide:k,useExisting:(0,i.Rfq)(()=>to),multi:!0};function Ri(st,Qe){return null==st?`${Qe}`:(Qe&&"object"==typeof Qe&&(Qe="Object"),`${st}: ${Qe}`.slice(0,50))}let to=(()=>{var st;class Qe extends d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ft){this._compareWith=ft}writeValue(ft){this.value=ft;const St=Ri(this._getOptionId(ft),ft);this.setProperty("value",St)}registerOnChange(ft){this.onChange=fe=>{this.value=this._getOptionValue(fe),ft(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ft){for(const fe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(fe),ft))return fe;return null}_getOptionValue(ft){const fe=function zi(st){return st.split(":")[0]}(ft);return this._optionMap.has(fe)?this._optionMap.get(fe):ft}}return(st=Qe).\u0275fac=(()=>{let dn;return function(fe){return(dn||(dn=i.xGo(st)))(fe||st)}})(),st.\u0275dir=i.FsC({type:st,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ft,fe){1&ft&&i.bIt("change",function(cn){return fe.onChange(cn.target.value)})("blur",function(){return fe.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Mi]),i.Vt3]}),Qe})(),xo=(()=>{var st;class Qe{constructor(ft,fe,St){this._element=ft,this._renderer=fe,this._select=St,this._select&&(this.id=this._select._registerOption())}set ngValue(ft){null!=this._select&&(this._select._optionMap.set(this.id,ft),this._setElementValue(Ri(this.id,ft)),this._select.writeValue(this._select.value))}set value(ft){this._setElementValue(ft),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ft){this._renderer.setProperty(this._element.nativeElement,"value",ft)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(to,9))},st.\u0275dir=i.FsC({type:st,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Qe})();const $i={provide:k,useExisting:(0,i.Rfq)(()=>ys),multi:!0};function No(st,Qe){return null==st?`${Qe}`:("string"==typeof Qe&&(Qe=`'${Qe}'`),Qe&&"object"==typeof Qe&&(Qe="Object"),`${st}: ${Qe}`.slice(0,50))}let ys=(()=>{var st;class Qe extends d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ft){this._compareWith=ft}writeValue(ft){let fe;if(this.value=ft,Array.isArray(ft)){const St=ft.map(cn=>this._getOptionId(cn));fe=(cn,Yn)=>{cn._setSelected(St.indexOf(Yn.toString())>-1)}}else fe=(St,cn)=>{St._setSelected(!1)};this._optionMap.forEach(fe)}registerOnChange(ft){this.onChange=fe=>{const St=[],cn=fe.selectedOptions;if(void 0!==cn){const Yn=cn;for(let wt=0;wt<Yn.length;wt++){const be=this._getOptionValue(Yn[wt].value);St.push(be)}}else{const Yn=fe.options;for(let wt=0;wt<Yn.length;wt++){const Q=Yn[wt];if(Q.selected){const be=this._getOptionValue(Q.value);St.push(be)}}}this.value=St,ft(St)}}_registerOption(ft){const fe=(this._idCounter++).toString();return this._optionMap.set(fe,ft),fe}_getOptionId(ft){for(const fe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(fe)._value,ft))return fe;return null}_getOptionValue(ft){const fe=function ls(st){return st.split(":")[0]}(ft);return this._optionMap.has(fe)?this._optionMap.get(fe)._value:ft}}return(st=Qe).\u0275fac=(()=>{let dn;return function(fe){return(dn||(dn=i.xGo(st)))(fe||st)}})(),st.\u0275dir=i.FsC({type:st,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ft,fe){1&ft&&i.bIt("change",function(cn){return fe.onChange(cn.target)})("blur",function(){return fe.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([$i]),i.Vt3]}),Qe})(),Os=(()=>{var st;class Qe{constructor(ft,fe,St){this._element=ft,this._renderer=fe,this._select=St,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ft){null!=this._select&&(this._value=ft,this._setElementValue(No(this.id,ft)),this._select.writeValue(this._select.value))}set value(ft){this._select?(this._value=ft,this._setElementValue(No(this.id,ft)),this._select.writeValue(this._select.value)):this._setElementValue(ft)}_setElementValue(ft){this._renderer.setProperty(this._element.nativeElement,"value",ft)}_setSelected(ft){this._renderer.setProperty(this._element.nativeElement,"selected",ft)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ys,9))},st.\u0275dir=i.FsC({type:st,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Qe})(),Lo=(()=>{var st;class Qe{constructor(){this._validator=Ue}ngOnChanges(ft){if(this.inputName in ft){const fe=this.normalizeInput(ft[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):Ue,this._onChange&&this._onChange()}}validate(ft){return this._validator(ft)}registerOnValidatorChange(ft){this._onChange=ft}enabled(ft){return null!=ft}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)},st.\u0275dir=i.FsC({type:st,features:[i.OA$]}),Qe})();const Ds={provide:V,useExisting:(0,i.Rfq)(()=>ua),multi:!0},cs={provide:V,useExisting:(0,i.Rfq)(()=>tr),multi:!0};let ua=(()=>{var st;class Qe extends Lo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=ft=>$}enabled(ft){return ft}}return(st=Qe).\u0275fac=(()=>{let dn;return function(fe){return(dn||(dn=i.xGo(st)))(fe||st)}})(),st.\u0275dir=i.FsC({type:st,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ft,fe){2&ft&&i.BMQ("required",fe._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([Ds]),i.Vt3]}),Qe})(),tr=(()=>{var st;class Qe extends ua{constructor(){super(...arguments),this.createValidator=ft=>H}}return(st=Qe).\u0275fac=(()=>{let dn;return function(fe){return(dn||(dn=i.xGo(st)))(fe||st)}})(),st.\u0275dir=i.FsC({type:st,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ft,fe){2&ft&&i.BMQ("required",fe._enabled?"":null)},features:[i.Jv_([cs]),i.Vt3]}),Qe})(),Zn=(()=>{var st;class Qe{}return(st=Qe).\u0275fac=function(ft){return new(ft||st)},st.\u0275mod=i.$C({type:st}),st.\u0275inj=i.G2t({}),Qe})();class Er extends gt{constructor(Qe,dn,ft){super(Dn(dn),lr(ft,dn)),this.controls=Qe,this._initObservables(),this._setUpdateStrategy(dn),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Qe){return this.controls[this._adjustIndex(Qe)]}push(Qe,dn={}){this.controls.push(Qe),this._registerControl(Qe),this.updateValueAndValidity({emitEvent:dn.emitEvent}),this._onCollectionChange()}insert(Qe,dn,ft={}){this.controls.splice(Qe,0,dn),this._registerControl(dn),this.updateValueAndValidity({emitEvent:ft.emitEvent})}removeAt(Qe,dn={}){let ft=this._adjustIndex(Qe);ft<0&&(ft=0),this.controls[ft]&&this.controls[ft]._registerOnCollectionChange(()=>{}),this.controls.splice(ft,1),this.updateValueAndValidity({emitEvent:dn.emitEvent})}setControl(Qe,dn,ft={}){let fe=this._adjustIndex(Qe);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),dn&&(this.controls.splice(fe,0,dn),this._registerControl(dn)),this.updateValueAndValidity({emitEvent:ft.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Qe,dn={}){xt(this,0,Qe),Qe.forEach((ft,fe)=>{Et(this,!1,fe),this.at(fe).setValue(ft,{onlySelf:!0,emitEvent:dn.emitEvent})}),this.updateValueAndValidity(dn)}patchValue(Qe,dn={}){null!=Qe&&(Qe.forEach((ft,fe)=>{this.at(fe)&&this.at(fe).patchValue(ft,{onlySelf:!0,emitEvent:dn.emitEvent})}),this.updateValueAndValidity(dn))}reset(Qe=[],dn={}){this._forEachChild((ft,fe)=>{ft.reset(Qe[fe],{onlySelf:!0,emitEvent:dn.emitEvent})}),this._updatePristine(dn),this._updateTouched(dn),this.updateValueAndValidity(dn)}getRawValue(){return this.controls.map(Qe=>Qe.getRawValue())}clear(Qe={}){this.controls.length<1||(this._forEachChild(dn=>dn._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Qe.emitEvent}))}_adjustIndex(Qe){return Qe<0?Qe+this.length:Qe}_syncPendingControls(){let Qe=this.controls.reduce((dn,ft)=>!!ft._syncPendingControls()||dn,!1);return Qe&&this.updateValueAndValidity({onlySelf:!0}),Qe}_forEachChild(Qe){this.controls.forEach((dn,ft)=>{Qe(dn,ft)})}_updateValue(){this.value=this.controls.filter(Qe=>Qe.enabled||this.disabled).map(Qe=>Qe.value)}_anyControls(Qe){return this.controls.some(dn=>dn.enabled&&Qe(dn))}_setUpControls(){this._forEachChild(Qe=>this._registerControl(Qe))}_allControlsDisabled(){for(const Qe of this.controls)if(Qe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Qe){Qe.setParent(this),Qe._registerOnCollectionChange(this._onCollectionChange)}_find(Qe){return this.at(Qe)??null}}const Cr=Er;function $r(st){return!!st&&(void 0!==st.asyncValidators||void 0!==st.validators||void 0!==st.updateOn)}let pi=(()=>{var st;class Qe{constructor(){this.useNonNullable=!1}get nonNullable(){const ft=new Qe;return ft.useNonNullable=!0,ft}group(ft,fe=null){const St=this._reduceControls(ft);let cn={};return $r(fe)?cn=fe:null!==fe&&(cn.validators=fe.validator,cn.asyncValidators=fe.asyncValidator),new tn(St,cn)}record(ft,fe=null){const St=this._reduceControls(ft);return new En(St,fe)}control(ft,fe,St){let cn={};return this.useNonNullable?($r(fe)?cn=fe:(cn.validators=fe,cn.asyncValidators=St),new zr(ft,{...cn,nonNullable:!0})):new zr(ft,fe,St)}array(ft,fe,St){const cn=ft.map(Yn=>this._createControl(Yn));return new Er(cn,fe,St)}_reduceControls(ft){const fe={};return Object.keys(ft).forEach(St=>{fe[St]=this._createControl(ft[St])}),fe}_createControl(ft){return ft instanceof zr||ft instanceof gt?ft:Array.isArray(ft)?this.control(ft[0],ft.length>1?ft[1]:null,ft.length>2?ft[2]:null):this.control(ft)}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)},st.\u0275prov=i.jDH({token:st,factory:st.\u0275fac,providedIn:"root"}),Qe})(),Xi=(()=>{var st;class Qe extends pi{group(ft,fe=null){return super.group(ft,fe)}control(ft,fe,St){return super.control(ft,fe,St)}array(ft,fe,St){return super.array(ft,fe,St)}}return(st=Qe).\u0275fac=(()=>{let dn;return function(fe){return(dn||(dn=i.xGo(st)))(fe||st)}})(),st.\u0275prov=i.jDH({token:st,factory:st.\u0275fac,providedIn:"root"}),Qe})(),ko=(()=>{var st;class Qe{static withConfig(ft){return{ngModule:Qe,providers:[{provide:ke,useValue:ft.callSetDisabledState??Jt}]}}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)},st.\u0275mod=i.$C({type:st}),st.\u0275inj=i.G2t({imports:[Zn]}),Qe})(),Ao=(()=>{var st;class Qe{static withConfig(ft){return{ngModule:Qe,providers:[{provide:Ro,useValue:ft.warnOnNgModelWithFormControl??"always"},{provide:ke,useValue:ft.callSetDisabledState??Jt}]}}}return(st=Qe).\u0275fac=function(ft){return new(ft||st)},st.\u0275mod=i.$C({type:st}),st.\u0275inj=i.G2t({imports:[Zn]}),Qe})()},35801:(en,Ve,E)=>{"use strict";E.d(Ve,{Zi:()=>zt,tN:()=>Ne});const i=":",u="|",f="@@",C="\u241f";let x;function V(re){x??=new TextEncoder;const D=x.encode(re),F=new DataView(D.buffer,D.byteOffset,D.byteLength);let T=J(F,D.length,0),W=J(F,D.length,102072);return 0==T&&(0==W||1==W)&&(T^=319790063,W^=-1801410264),BigInt.asUintN(32,BigInt(T))<<BigInt(32)|BigInt.asUintN(32,BigInt(W))}function J(re,D,F){let T=2654435769,W=2654435769,z=0;const p=D-12;for(;z<=p;z+=12){T+=re.getUint32(z,!0),W+=re.getUint32(z+4,!0);const Ae=te(T,W,F+=re.getUint32(z+8,!0));T=Ae[0],W=Ae[1],F=Ae[2]}const I=D-z;return F+=D,I>=4?(T+=re.getUint32(z,!0),z+=4,I>=8?(W+=re.getUint32(z,!0),z+=4,I>=9&&(F+=re.getUint8(z++)<<8),I>=10&&(F+=re.getUint8(z++)<<16),11===I&&(F+=re.getUint8(z++)<<24)):(I>=5&&(W+=re.getUint8(z++)),I>=6&&(W+=re.getUint8(z++)<<8),7===I&&(W+=re.getUint8(z++)<<16))):(I>=1&&(T+=re.getUint8(z++)),I>=2&&(T+=re.getUint8(z++)<<8),3===I&&(T+=re.getUint8(z++)<<16)),te(T,W,F)[2]}function te(re,D,F){return re-=D,re-=F,D-=F,D-=re^=F>>>13,F-=re,F-=D^=re<<8,re-=D,re-=F^=D>>>13,D-=F,D-=re^=F>>>12,F-=re,F-=D^=re<<16,re-=D,re-=F^=D>>>5,D-=F,D-=re^=F>>>3,F-=re,F-=D^=re<<10,[re,D,F^=D>>>15]}function Oe(re,D,F,T,W=[]){const z={},p={},I={},Ae=function Ue(re,D){const{text:F,block:T}=_e(re,D);if(void 0===T)return{text:F};{const[W,...z]=T.split(C),[p,I]=W.split(f,2);let[Ae,se]=p.split(u,2);return void 0===se&&(se=Ae,Ae=void 0),""===se&&(se=void 0),{text:F,meaning:Ae,description:se,customId:I,legacyIds:z}}}(re[0],re.raw[0]),se=[Ae.text],L=[];let ve=Ae.text;for(let Pt=1;Pt<re.length;Pt++){const{messagePart:Rt,placeholderName:ln=ht(Pt),associatedMessageId:je}=qe(re[Pt],re.raw[Pt]);ve+=`{$${ln}}${Rt}`,void 0!==D&&(z[ln]=D[Pt-1],p[ln]=W[Pt-1]),L.push(ln),void 0!==je&&(I[ln]=je),se.push(Rt)}const ge=Ae.customId||function Z(re,D=""){let F=V(re);return D&&(F=BigInt.asUintN(64,F<<BigInt(1))|F>>BigInt(63)&BigInt(1),F+=V(D)),BigInt.asUintN(63,F).toString()}(ve,Ae.meaning||""),et=Ae.legacyIds?Ae.legacyIds.filter(Pt=>Pt!==ge):[];return{id:ge,legacyIds:et,substitutions:z,substitutionLocations:p,text:ve,customId:Ae.customId,meaning:Ae.meaning||"",description:Ae.description||"",messageParts:se,messagePartLocations:T,placeholderNames:L,associatedMessageIds:I,location:F}}function qe(re,D){const{text:F,block:T}=_e(re,D);if(void 0===T)return{messagePart:F};{const[W,z]=T.split(f);return{messagePart:F,placeholderName:W,associatedMessageId:z}}}function _e(re,D){if(D.charAt(0)!==i)return{text:re};{const F=Bt(re,D);return{block:re.substring(1,F),text:re.substring(F+1)}}}function ht(re){return 1===re?"PH":"PH_"+(re-1)}function Bt(re,D){for(let F=1,T=1;F<re.length;F++,T++)if("\\"===D[T])T++;else if(re[F]===i)return F;throw new Error(`Unterminated $localize metadata block in "${D}".`)}class de extends Error{constructor(D){super(`No translation found for ${pt(D)}.`),this.parsedMessage=D,this.type="MissingTranslationError"}}function Re(re,D){return Object.defineProperty(re,"raw",{value:D}),re}function pt(re){const D=re.meaning&&` - "${re.meaning}"`,F=re.legacyIds&&re.legacyIds.length>0?` [${re.legacyIds.map(T=>`"${T}"`).join(", ")}]`:"";return`"${re.id}"${F} ("${re.text}"${D})`}function zt(re){$localize.translate||($localize.translate=It),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(re).forEach(D=>{$localize.TRANSLATIONS[D]=function he(re){const D=re.split(/{\$([^}]*)}/),F=[D[0]],T=[];for(let z=1;z<D.length-1;z+=2)T.push(D[z]),F.push(`${D[z+1]}`);const W=F.map(z=>z.charAt(0)===i?"\\"+z:z);return{text:re,messageParts:Re(F,W),placeholderNames:T}}(re[D])})}function It(re,D){try{return function j(re,D,F){const T=Oe(D,F);let W=re[T.id];if(void 0!==T.legacyIds)for(let z=0;z<T.legacyIds.length&&void 0===W;z++)W=re[T.legacyIds[z]];if(void 0===W)throw new de(T);return[W.messageParts,W.placeholderNames.map(z=>{if(T.substitutions.hasOwnProperty(z))return T.substitutions[z];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${pt(T)}.\nThe translation contains a placeholder with name ${z}, which does not exist in the message.`)})]}($localize.TRANSLATIONS,re,D)}catch(F){return console.warn(F.message),[re,D]}}const Ne=function(re,...D){if(Ne.translate){const T=Ne.translate(re,D);re=T[0],D=T[1]}let F=Ot(re[0],re.raw[0]);for(let T=1;T<re.length;T++)F+=D[T-1]+Ot(re[T],re.raw[T]);return F},Xe=":";function Ot(re,D){return D.charAt(0)===Xe?re.substring(Bt(re,D)+1):re}},65571:(en,Ve,E)=>{"use strict";E.d(Ve,{Vg:()=>Z});var i=E(18617),f=(E(45024),E(54438)),x=(E(89417),E(86600));const w=["button"],d=["*"];function k(J,te){if(1&J&&f.nrm(0,"mat-pseudo-checkbox",3),2&J){const ae=f.XpG();f.Y8G("disabled",ae.disabled)}}function S(J,te){if(1&J&&f.nrm(0,"mat-pseudo-checkbox",3),2&J){const ae=f.XpG();f.Y8G("disabled",ae.disabled)}}const U=new f.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function P(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),y=new f.nKC("MatButtonToggleGroup");let M=0;class G{constructor(te,ae){this.source=te,this.value=ae}}let V=(()=>{var J;class te{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(Y){this._appearance=Y}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(Y){Y!==this._checked&&(this._checked=Y,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(Y){this._disabled=Y}constructor(Y,$,H,me,B,ce){this._changeDetectorRef=$,this._elementRef=H,this._focusMonitor=me,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new f.bkB;const Oe=Number(B);this.tabIndex=Oe||0===Oe?Oe:null,this.buttonToggleGroup=Y,this.appearance=ce&&ce.appearance?ce.appearance:"standard"}ngOnInit(){const Y=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+M++,Y&&(Y._isPrechecked(this)?this.checked=!0:Y._isSelected(this)!==this._checked&&Y._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const Y=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),Y&&Y._isSelected(this)&&Y._syncButtonToggle(this,!1,!1,!0)}focus(Y){this._buttonElement.nativeElement.focus(Y)}_onButtonClick(){const Y=!!this._isSingleSelector()||!this._checked;Y!==this._checked&&(this._checked=Y,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new G(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return(J=te).\u0275fac=function(Y){return new(Y||J)(f.rXU(y,8),f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(i.FN),f.kS0("tabindex"),f.rXU(U,8))},J.\u0275cmp=f.VBU({type:J,selectors:[["mat-button-toggle"]],viewQuery:function(Y,$){if(1&Y&&f.GBs(w,5),2&Y){let H;f.mGM(H=f.lsd())&&($._buttonElement=H.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(Y,$){1&Y&&f.bIt("focus",function(){return $.focus()}),2&Y&&(f.BMQ("aria-label",null)("aria-labelledby",null)("id",$.id)("name",null),f.AVh("mat-button-toggle-standalone",!$.buttonToggleGroup)("mat-button-toggle-checked",$.checked)("mat-button-toggle-disabled",$.disabled)("mat-button-toggle-appearance-standard","standard"===$.appearance))},inputs:{ariaLabel:[f.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[f.Mj6.None,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[f.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",f.L39],appearance:"appearance",checked:[f.Mj6.HasDecoratorInputTransform,"checked","checked",f.L39],disabled:[f.Mj6.HasDecoratorInputTransform,"disabled","disabled",f.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[f.GFd,f.aNF],ngContentSelectors:d,decls:8,vars:11,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(Y,$){if(1&Y){const H=f.RV6();f.NAR(),f.j41(0,"button",1,0),f.bIt("click",function(){return f.eBV(H),f.Njj($._onButtonClick())}),f.j41(2,"span",2),f.DNE(3,k,1,1,"mat-pseudo-checkbox",3)(4,S,1,1,"mat-pseudo-checkbox",3),f.SdG(5),f.k0s()(),f.nrm(6,"span",4)(7,"span",5)}if(2&Y){const H=f.sdS(1);f.Y8G("id",$.buttonId)("disabled",$.disabled||null),f.BMQ("tabindex",$.disabled?-1:$.tabIndex)("aria-pressed",$.checked)("name",$._getButtonName())("aria-label",$.ariaLabel)("aria-labelledby",$.ariaLabelledby),f.R7$(3),f.vxM(3,$.buttonToggleGroup&&$.checked&&!$.buttonToggleGroup.multiple&&!$.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),f.R7$(),f.vxM(4,$.buttonToggleGroup&&$.checked&&$.buttonToggleGroup.multiple&&!$.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),f.R7$(3),f.Y8G("matRippleTrigger",H)("matRippleDisabled",$.disableRipple||$.disabled)}},dependencies:[x.r6,x.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0}),te})(),Z=(()=>{var J;class te{}return(J=te).\u0275fac=function(Y){return new(Y||J)},J.\u0275mod=f.$C({type:J}),J.\u0275inj=f.G2t({imports:[x.yE,x.pZ,V,x.yE]}),te})()},88834:(en,Ve,E)=>{"use strict";E.d(Ve,{$z:()=>Y,Hl:()=>Bt});var i=E(36860),u=E(54438),f=E(18617),C=E(86600);const x=["mat-button",""],w=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],d=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],K=new u.nKC("MAT_BUTTON_CONFIG"),Z=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let J=(()=>{var de;class R{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(he){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,he)}get disableRipple(){return this._disableRipple}set disableRipple(he){this._disableRipple=he,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(he){this._disabled=he,this._updateRippleDisabled()}constructor(he,Ce,Re,pt){this._elementRef=he,this._platform=Ce,this._ngZone=Re,this._animationMode=pt,this._focusMonitor=(0,u.WQX)(f.FN),this._rippleLoader=(0,u.WQX)(C.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const zt=(0,u.WQX)(K,{optional:!0}),Mn=he.nativeElement,It=Mn.classList;this.disabledInteractive=zt?.disabledInteractive??!1,this._rippleLoader?.configureRipple(Mn,{className:"mat-mdc-button-ripple"});for(const{attribute:Ne,mdcClasses:Xe}of Z)Mn.hasAttribute(Ne)&&It.add(...Xe)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(he="program",Ce){he?this._focusMonitor.focusVia(this._elementRef.nativeElement,he,Ce):this._elementRef.nativeElement.focus(Ce)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(de=R).\u0275fac=function(he){u.QTQ()},de.\u0275dir=u.FsC({type:de,inputs:{color:"color",disableRipple:[u.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",u.L39],disabled:[u.Mj6.HasDecoratorInputTransform,"disabled","disabled",u.L39],ariaDisabled:[u.Mj6.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",u.L39],disabledInteractive:[u.Mj6.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",u.L39]},features:[u.GFd]}),R})(),Y=(()=>{var de;class R extends J{constructor(he,Ce,Re,pt){super(he,Ce,Re,pt)}}return(de=R).\u0275fac=function(he){return new(he||de)(u.rXU(u.aKT),u.rXU(i.OD),u.rXU(u.SKi),u.rXU(u.bc$,8))},de.\u0275cmp=u.VBU({type:de,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(he,Ce){2&he&&(u.BMQ("disabled",Ce._getDisabledAttribute())("aria-disabled",Ce._getAriaDisabled()),u.HbH(Ce.color?"mat-"+Ce.color:""),u.AVh("mat-mdc-button-disabled",Ce.disabled)("mat-mdc-button-disabled-interactive",Ce.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Ce._animationMode)("mat-unthemed",!Ce.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[u.Vt3,u.aNF],attrs:x,ngContentSelectors:d,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(he,Ce){1&he&&(u.NAR(w),u.nrm(0,"span",0),u.SdG(1),u.j41(2,"span",1),u.SdG(3,1),u.k0s(),u.SdG(4,2),u.nrm(5,"span",2)(6,"span",3)),2&he&&u.AVh("mdc-button__ripple",!Ce._isFab)("mdc-fab__ripple",Ce._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),R})(),Bt=(()=>{var de;class R{}return(de=R).\u0275fac=function(he){return new(he||de)},de.\u0275mod=u.$C({type:de}),de.\u0275inj=u.G2t({imports:[C.yE,C.pZ,C.yE]}),R})()},82765:(en,Ve,E)=>{"use strict";E.d(Ve,{So:()=>M,g7:()=>Z});var i=E(54438),u=E(89417),f=E(86600);const C=["input"],x=["label"],w=["*"],d=new i.nKC("mat-checkbox-default-options",{providedIn:"root",factory:k});function k(){return{color:"accent",clickAction:"check-indeterminate"}}var S=function(J){return J[J.Init=0]="Init",J[J.Checked=1]="Checked",J[J.Unchecked=2]="Unchecked",J[J.Indeterminate=3]="Indeterminate",J}(S||{});const U={provide:u.kq,useExisting:(0,i.Rfq)(()=>M),multi:!0};class P{}let y=0;const v=k();let M=(()=>{var J;class te{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(Y){const $=new P;return $.source=this,$.checked=Y,$}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Y,$,H,me,B,ce){this._elementRef=Y,this._changeDetectorRef=$,this._ngZone=H,this._animationMode=B,this._options=ce,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new i.bkB,this.indeterminateChange=new i.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=S.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||v,this.color=this._options.color||v.color,this.tabIndex=parseInt(me)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++y}ngOnChanges(Y){Y.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(Y){Y!=this.checked&&(this._checked=Y,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Y){Y!==this.disabled&&(this._disabled=Y,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(Y){const $=Y!=this._indeterminate;this._indeterminate=Y,$&&(this._transitionCheckState(this._indeterminate?S.Indeterminate:this.checked?S.Checked:S.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(Y){this.checked=!!Y}registerOnChange(Y){this._controlValueAccessorChangeFn=Y}registerOnTouched(Y){this._onTouched=Y}setDisabledState(Y){this.disabled=Y}validate(Y){return this.required&&!0!==Y.value?{required:!0}:null}registerOnValidatorChange(Y){this._validatorChangeFn=Y}_transitionCheckState(Y){let $=this._currentCheckState,H=this._getAnimationTargetElement();if($!==Y&&H&&(this._currentAnimationClass&&H.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition($,Y),this._currentCheckState=Y,this._currentAnimationClass.length>0)){H.classList.add(this._currentAnimationClass);const me=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{H.classList.remove(me)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const Y=this._options?.clickAction;this.disabled||"noop"===Y?!this.disabled&&"noop"===Y&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==Y&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?S.Checked:S.Unchecked),this._emitChangeEvent())}_onInteractionEvent(Y){Y.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(Y,$){if("NoopAnimations"===this._animationMode)return"";switch(Y){case S.Init:if($===S.Checked)return this._animationClasses.uncheckedToChecked;if($==S.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case S.Unchecked:return $===S.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case S.Checked:return $===S.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case S.Indeterminate:return $===S.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(Y){const $=this._inputElement;$&&($.nativeElement.indeterminate=Y)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(Y){Y.target&&this._labelElement.nativeElement.contains(Y.target)&&Y.stopPropagation()}}return(J=te).\u0275fac=function(Y){return new(Y||J)(i.rXU(i.aKT),i.rXU(i.gRc),i.rXU(i.SKi),i.kS0("tabindex"),i.rXU(i.bc$,8),i.rXU(d,8))},J.\u0275cmp=i.VBU({type:J,selectors:[["mat-checkbox"]],viewQuery:function(Y,$){if(1&Y&&(i.GBs(C,5),i.GBs(x,5),i.GBs(f.r6,5)),2&Y){let H;i.mGM(H=i.lsd())&&($._inputElement=H.first),i.mGM(H=i.lsd())&&($._labelElement=H.first),i.mGM(H=i.lsd())&&($.ripple=H.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(Y,$){2&Y&&(i.Mr5("id",$.id),i.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),i.HbH($.color?"mat-"+$.color:"mat-accent"),i.AVh("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mdc-checkbox--disabled",$.disabled)("mat-mdc-checkbox-disabled",$.disabled)("mat-mdc-checkbox-checked",$.checked))},inputs:{ariaLabel:[i.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[i.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[i.Mj6.None,"aria-describedby","ariaDescribedby"],id:"id",required:[i.Mj6.HasDecoratorInputTransform,"required","required",i.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[i.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",i.L39],tabIndex:[i.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",ae=>null==ae?void 0:(0,i.Udg)(ae)],color:"color",checked:[i.Mj6.HasDecoratorInputTransform,"checked","checked",i.L39],disabled:[i.Mj6.HasDecoratorInputTransform,"disabled","disabled",i.L39],indeterminate:[i.Mj6.HasDecoratorInputTransform,"indeterminate","indeterminate",i.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[i.Jv_([U,{provide:u.cz,useExisting:J,multi:!0}]),i.GFd,i.OA$,i.aNF],ngContentSelectors:w,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(Y,$){if(1&Y){const H=i.RV6();i.NAR(),i.j41(0,"div",3),i.bIt("click",function(B){return i.eBV(H),i.Njj($._preventBubblingFromLabel(B))}),i.j41(1,"div",4,0)(3,"div",5),i.bIt("click",function(){return i.eBV(H),i.Njj($._onTouchTargetClick())}),i.k0s(),i.j41(4,"input",6,1),i.bIt("blur",function(){return i.eBV(H),i.Njj($._onBlur())})("click",function(){return i.eBV(H),i.Njj($._onInputClick())})("change",function(B){return i.eBV(H),i.Njj($._onInteractionEvent(B))}),i.k0s(),i.nrm(6,"div",7),i.j41(7,"div",8),i.qSk(),i.j41(8,"svg",9),i.nrm(9,"path",10),i.k0s(),i.joV(),i.nrm(10,"div",11),i.k0s(),i.nrm(11,"div",12),i.k0s(),i.j41(12,"label",13,2),i.SdG(14),i.k0s()()}if(2&Y){const H=i.sdS(2);i.Y8G("labelPosition",$.labelPosition),i.R7$(4),i.AVh("mdc-checkbox--selected",$.checked),i.Y8G("checked",$.checked)("indeterminate",$.indeterminate)("disabled",$.disabled)("id",$.inputId)("required",$.required)("tabIndex",$.disabled?-1:$.tabIndex),i.BMQ("aria-label",$.ariaLabel||null)("aria-labelledby",$.ariaLabelledby)("aria-describedby",$.ariaDescribedby)("aria-checked",$.indeterminate?"mixed":null)("name",$.name)("value",$.value),i.R7$(7),i.Y8G("matRippleTrigger",H)("matRippleDisabled",$.disableRipple||$.disabled)("matRippleCentered",!0),i.R7$(),i.Y8G("for",$.inputId)}},dependencies:[f.r6,f.tO],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),te})(),Z=(()=>{var J;class te{}return(J=te).\u0275fac=function(Y){return new(Y||J)},J.\u0275mod=i.$C({type:J}),J.\u0275inj=i.G2t({imports:[M,f.yE,f.yE]}),te})()},86600:(en,Ve,E)=>{"use strict";E.d(Ve,{$E:()=>ln,yE:()=>H,Sy:()=>Jn,wg:()=>ut,r6:()=>je,Ej:()=>tn,pZ:()=>Ht,Ex:()=>z,tO:()=>Xt});var i=E(54438),u=E(18617),f=E(28203),x=E(60177),w=E(36860),d=E(14085);const V=["mat-internal-form-field",""],Z=["*"],$=new i.nKC("mat-sanity-checks",{providedIn:"root",factory:function Y(){return!0}});let H=(()=>{var Ye;class Vt{constructor(it,ke,Jt){this._sanityChecks=ke,this._document=Jt,this._hasDoneGlobalChecks=!1,it._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(it){return!(0,w.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[it])}}return(Ye=Vt).\u0275fac=function(it){return new(it||Ye)(i.KVO(u.Q_),i.KVO($,8),i.KVO(x.qQ))},Ye.\u0275mod=i.$C({type:Ye}),Ye.\u0275inj=i.G2t({imports:[f.jI,f.jI]}),Vt})();var z=function(Ye){return Ye[Ye.FADING_IN=0]="FADING_IN",Ye[Ye.VISIBLE=1]="VISIBLE",Ye[Ye.FADING_OUT=2]="FADING_OUT",Ye[Ye.HIDDEN=3]="HIDDEN",Ye}(z||{});class p{constructor(Vt,En,it,ke=!1){this._renderer=Vt,this.element=En,this.config=it,this._animationForciblyDisabledThroughCss=ke,this.state=z.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const I=(0,w.BQ)({passive:!0,capture:!0});class Ae{constructor(){this._events=new Map,this._delegateEventHandler=Vt=>{const En=(0,w.Fb)(Vt);En&&this._events.get(Vt.type)?.forEach((it,ke)=>{(ke===En||ke.contains(En))&&it.forEach(Jt=>Jt.handleEvent(Vt))})}}addHandler(Vt,En,it,ke){const Jt=this._events.get(En);if(Jt){const We=Jt.get(it);We?We.add(ke):Jt.set(it,new Set([ke]))}else this._events.set(En,new Map([[it,new Set([ke])]])),Vt.runOutsideAngular(()=>{document.addEventListener(En,this._delegateEventHandler,I)})}removeHandler(Vt,En,it){const ke=this._events.get(Vt);if(!ke)return;const Jt=ke.get(En);Jt&&(Jt.delete(it),0===Jt.size&&ke.delete(En),0===ke.size&&(this._events.delete(Vt),document.removeEventListener(Vt,this._delegateEventHandler,I)))}}const se={enterDuration:225,exitDuration:150},ve=(0,w.BQ)({passive:!0,capture:!0}),ge=["mousedown","touchstart"],et=["mouseup","mouseleave","touchend","touchcancel"];class Pt{constructor(Vt,En,it,ke){this._target=Vt,this._ngZone=En,this._platform=ke,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ke.isBrowser&&(this._containerElement=(0,d.i8)(it))}fadeInRipple(Vt,En,it={}){const ke=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Jt={...se,...it.animation};it.centered&&(Vt=ke.left+ke.width/2,En=ke.top+ke.height/2);const We=it.radius||function Rt(Ye,Vt,En){const it=Math.max(Math.abs(Ye-En.left),Math.abs(Ye-En.right)),ke=Math.max(Math.abs(Vt-En.top),Math.abs(Vt-En.bottom));return Math.sqrt(it*it+ke*ke)}(Vt,En,ke),Tt=Vt-ke.left,wn=En-ke.top,In=Jt.enterDuration,dr=document.createElement("div");dr.classList.add("mat-ripple-element"),dr.style.left=Tt-We+"px",dr.style.top=wn-We+"px",dr.style.height=2*We+"px",dr.style.width=2*We+"px",null!=it.color&&(dr.style.backgroundColor=it.color),dr.style.transitionDuration=`${In}ms`,this._containerElement.appendChild(dr);const sr=window.getComputedStyle(dr),hi=sr.transitionDuration,Ei="none"===sr.transitionProperty||"0s"===hi||"0s, 0s"===hi||0===ke.width&&0===ke.height,fi=new p(this,dr,it,Ei);dr.style.transform="scale3d(1, 1, 1)",fi.state=z.FADING_IN,it.persistent||(this._mostRecentTransientRipple=fi);let co=null;return!Ei&&(In||Jt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const uo=()=>this._finishRippleTransition(fi),Pi=()=>this._destroyRipple(fi);dr.addEventListener("transitionend",uo),dr.addEventListener("transitioncancel",Pi),co={onTransitionEnd:uo,onTransitionCancel:Pi}}),this._activeRipples.set(fi,co),(Ei||!In)&&this._finishRippleTransition(fi),fi}fadeOutRipple(Vt){if(Vt.state===z.FADING_OUT||Vt.state===z.HIDDEN)return;const En=Vt.element,it={...se,...Vt.config.animation};En.style.transitionDuration=`${it.exitDuration}ms`,En.style.opacity="0",Vt.state=z.FADING_OUT,(Vt._animationForciblyDisabledThroughCss||!it.exitDuration)&&this._finishRippleTransition(Vt)}fadeOutAll(){this._getActiveRipples().forEach(Vt=>Vt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Vt=>{Vt.config.persistent||Vt.fadeOut()})}setupTriggerEvents(Vt){const En=(0,d.i8)(Vt);!this._platform.isBrowser||!En||En===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=En,ge.forEach(it=>{Pt._eventManager.addHandler(this._ngZone,it,En,this)}))}handleEvent(Vt){"mousedown"===Vt.type?this._onMousedown(Vt):"touchstart"===Vt.type?this._onTouchStart(Vt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{et.forEach(En=>{this._triggerElement.addEventListener(En,this,ve)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Vt){Vt.state===z.FADING_IN?this._startFadeOutTransition(Vt):Vt.state===z.FADING_OUT&&this._destroyRipple(Vt)}_startFadeOutTransition(Vt){const En=Vt===this._mostRecentTransientRipple,{persistent:it}=Vt.config;Vt.state=z.VISIBLE,!it&&(!En||!this._isPointerDown)&&Vt.fadeOut()}_destroyRipple(Vt){const En=this._activeRipples.get(Vt)??null;this._activeRipples.delete(Vt),this._activeRipples.size||(this._containerRect=null),Vt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Vt.state=z.HIDDEN,null!==En&&(Vt.element.removeEventListener("transitionend",En.onTransitionEnd),Vt.element.removeEventListener("transitioncancel",En.onTransitionCancel)),Vt.element.remove()}_onMousedown(Vt){const En=(0,u._G)(Vt),it=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!En&&!it&&(this._isPointerDown=!0,this.fadeInRipple(Vt.clientX,Vt.clientY,this._target.rippleConfig))}_onTouchStart(Vt){if(!this._target.rippleDisabled&&!(0,u.w6)(Vt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const En=Vt.changedTouches;if(En)for(let it=0;it<En.length;it++)this.fadeInRipple(En[it].clientX,En[it].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Vt=>{!Vt.config.persistent&&(Vt.state===z.VISIBLE||Vt.config.terminateOnPointerUp&&Vt.state===z.FADING_IN)&&Vt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Vt=this._triggerElement;Vt&&(ge.forEach(En=>Pt._eventManager.removeHandler(En,Vt,this)),this._pointerUpEventsRegistered&&(et.forEach(En=>Vt.removeEventListener(En,this,ve)),this._pointerUpEventsRegistered=!1))}}Pt._eventManager=new Ae;const ln=new i.nKC("mat-ripple-global-options");let je=(()=>{var Ye;class Vt{get disabled(){return this._disabled}set disabled(it){it&&this.fadeOutAllNonPersistent(),this._disabled=it,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(it){this._trigger=it,this._setupTriggerEventsIfEnabled()}constructor(it,ke,Jt,We,Tt){this._elementRef=it,this._animationMode=Tt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=We||{},this._rippleRenderer=new Pt(this,ke,it,Jt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(it,ke=0,Jt){return"number"==typeof it?this._rippleRenderer.fadeInRipple(it,ke,{...this.rippleConfig,...Jt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...it})}}return(Ye=Vt).\u0275fac=function(it){return new(it||Ye)(i.rXU(i.aKT),i.rXU(i.SKi),i.rXU(w.OD),i.rXU(ln,8),i.rXU(i.bc$,8))},Ye.\u0275dir=i.FsC({type:Ye,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(it,ke){2&it&&i.AVh("mat-ripple-unbounded",ke.unbounded)},inputs:{color:[i.Mj6.None,"matRippleColor","color"],unbounded:[i.Mj6.None,"matRippleUnbounded","unbounded"],centered:[i.Mj6.None,"matRippleCentered","centered"],radius:[i.Mj6.None,"matRippleRadius","radius"],animation:[i.Mj6.None,"matRippleAnimation","animation"],disabled:[i.Mj6.None,"matRippleDisabled","disabled"],trigger:[i.Mj6.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0}),Vt})(),Ht=(()=>{var Ye;class Vt{}return(Ye=Vt).\u0275fac=function(it){return new(it||Ye)},Ye.\u0275mod=i.$C({type:Ye}),Ye.\u0275inj=i.G2t({imports:[H,H]}),Vt})(),ut=(()=>{var Ye;class Vt{constructor(it){this._animationMode=it,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return(Ye=Vt).\u0275fac=function(it){return new(it||Ye)(i.rXU(i.bc$,8))},Ye.\u0275cmp=i.VBU({type:Ye,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(it,ke){2&it&&i.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===ke.state)("mat-pseudo-checkbox-checked","checked"===ke.state)("mat-pseudo-checkbox-disabled",ke.disabled)("mat-pseudo-checkbox-minimal","minimal"===ke.appearance)("mat-pseudo-checkbox-full","full"===ke.appearance)("_mat-animation-noopable","NoopAnimations"===ke._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(it,ke){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),Vt})(),jt=(()=>{var Ye;class Vt{}return(Ye=Vt).\u0275fac=function(it){return new(it||Ye)},Ye.\u0275mod=i.$C({type:Ye}),Ye.\u0275inj=i.G2t({imports:[H]}),Vt})(),Jn=(()=>{var Ye;class Vt{}return(Ye=Vt).\u0275fac=function(it){return new(it||Ye)},Ye.\u0275mod=i.$C({type:Ye}),Ye.\u0275inj=i.G2t({imports:[Ht,H,jt]}),Vt})();const lr={capture:!0},an=["focus","click","mouseenter","touchstart"],At="mat-ripple-loader-uninitialized",Et="mat-ripple-loader-class-name",xt="mat-ripple-loader-centered",gt="mat-ripple-loader-disabled";let tn=(()=>{var Ye;class Vt{constructor(){this._document=(0,i.WQX)(x.qQ,{optional:!0}),this._animationMode=(0,i.WQX)(i.bc$,{optional:!0}),this._globalRippleOptions=(0,i.WQX)(ln,{optional:!0}),this._platform=(0,i.WQX)(w.OD),this._ngZone=(0,i.WQX)(i.SKi),this._hosts=new Map,this._onInteraction=it=>{if(!(it.target instanceof HTMLElement))return;const Jt=it.target.closest(`[${At}]`);Jt&&this._createRipple(Jt)},this._ngZone.runOutsideAngular(()=>{for(const it of an)this._document?.addEventListener(it,this._onInteraction,lr)})}ngOnDestroy(){const it=this._hosts.keys();for(const ke of it)this.destroyRipple(ke);for(const ke of an)this._document?.removeEventListener(ke,this._onInteraction,lr)}configureRipple(it,ke){it.setAttribute(At,""),(ke.className||!it.hasAttribute(Et))&&it.setAttribute(Et,ke.className||""),ke.centered&&it.setAttribute(xt,""),ke.disabled&&it.setAttribute(gt,"")}getRipple(it){return this._hosts.get(it)||this._createRipple(it)}setDisabled(it,ke){const Jt=this._hosts.get(it);Jt?Jt.disabled=ke:ke?it.setAttribute(gt,""):it.removeAttribute(gt)}_createRipple(it){if(!this._document)return;const ke=this._hosts.get(it);if(ke)return ke;it.querySelector(".mat-ripple")?.remove();const Jt=this._document.createElement("span");Jt.classList.add("mat-ripple",it.getAttribute(Et)),it.append(Jt);const We=new je(new i.aKT(Jt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return We._isInitialized=!0,We.trigger=it,We.centered=it.hasAttribute(xt),We.disabled=it.hasAttribute(gt),this.attachRipple(it,We),We}attachRipple(it,ke){it.removeAttribute(At),this._hosts.set(it,ke)}destroyRipple(it){const ke=this._hosts.get(it);ke&&(ke.ngOnDestroy(),this._hosts.delete(it))}}return(Ye=Vt).\u0275fac=function(it){return new(it||Ye)},Ye.\u0275prov=i.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Vt})(),Xt=(()=>{var Ye;class Vt{}return(Ye=Vt).\u0275fac=function(it){return new(it||Ye)},Ye.\u0275cmp=i.VBU({type:Ye,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(it,ke){2&it&&i.AVh("mdc-form-field--align-end","before"===ke.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[i.aNF],attrs:V,ngContentSelectors:Z,decls:1,vars:0,template:function(it,ke){1&it&&(i.NAR(),i.SdG(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0}),Vt})()},34006:(en,Ve,E)=>{"use strict";E.d(Ve,{BI:()=>pt,CP:()=>Oe,E7:()=>Mn,Vh:()=>qe,Yi:()=>zt,bZ:()=>j,hM:()=>Xe,tx:()=>Ce});var i=E(47987),u=E(60177),f=E(54438),C=E(18617),x=E(82529),w=E(14085),d=E(76939),k=E(85052),S=E(76718),U=E(45946),P=E(14264),y=E(17365),v=E(35160),M=E(67336),G=E(86600);function V(D,F){}E(49969);class Z{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const J="mdc-dialog--open",te="mdc-dialog--opening",ae="mdc-dialog--closing";let H=(()=>{var D;class F extends x.sU{constructor(W,z,p,I,Ae,se,L,ve,ge){super(W,z,p,I,Ae,se,L,ge),this._animationMode=ve,this._animationStateChanged=new f.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?B(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?B(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(me,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(te,J)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(J),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(J),this._animationsEnabled?(this._hostElement.style.setProperty(me,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ae)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(W){this._actionSectionCount+=W,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(te,ae)}_waitForAnimationToComplete(W,z){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(z,W)}_requestAnimationFrame(W){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(W):W()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(W){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:W})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(W){const z=super.attachComponentPortal(W);return z.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),z}}return(D=F).\u0275fac=function(W){return new(W||D)(f.rXU(f.aKT),f.rXU(C.GX),f.rXU(u.qQ,8),f.rXU(Z),f.rXU(C.Z7),f.rXU(f.SKi),f.rXU(i.yY),f.rXU(f.bc$,8),f.rXU(C.FN))},D.\u0275cmp=f.VBU({type:D,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(W,z){2&W&&(f.Mr5("id",z._config.id),f.BMQ("aria-modal",z._config.ariaModal)("role",z._config.role)("aria-labelledby",z._config.ariaLabel?null:z._ariaLabelledByQueue[0])("aria-label",z._config.ariaLabel)("aria-describedby",z._config.ariaDescribedBy||null),f.AVh("_mat-animation-noopable",!z._animationsEnabled)("mat-mdc-dialog-container-with-actions",z._actionSectionCount>0))},standalone:!0,features:[f.Vt3,f.aNF],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(W,z){1&W&&(f.j41(0,"div",0)(1,"div",1),f.DNE(2,V,0,0,"ng-template",2),f.k0s()())},dependencies:[d.I3],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),F})();const me="--mat-dialog-transition-duration";function B(D){return null==D?null:"number"==typeof D?D:D.endsWith("ms")?(0,w.OE)(D.substring(0,D.length-2)):D.endsWith("s")?1e3*(0,w.OE)(D.substring(0,D.length-1)):"0"===D?0:null}var ce=function(D){return D[D.OPEN=0]="OPEN",D[D.CLOSING=1]="CLOSING",D[D.CLOSED=2]="CLOSED",D}(ce||{});class Oe{constructor(F,T,W){this._ref=F,this._containerInstance=W,this._afterOpened=new k.B,this._beforeClosed=new k.B,this._state=ce.OPEN,this.disableClose=T.disableClose,this.id=F.id,F.addPanelClass("mat-mdc-dialog-panel"),W._animationStateChanged.pipe((0,P.p)(z=>"opened"===z.state),(0,y.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),W._animationStateChanged.pipe((0,P.p)(z=>"closed"===z.state),(0,y.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),F.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,S.h)(this.backdropClick(),this.keydownEvents().pipe((0,P.p)(z=>z.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(z)))).subscribe(z=>{this.disableClose||(z.preventDefault(),Ue(this,"keydown"===z.type?"keyboard":"mouse"))})}close(F){this._result=F,this._containerInstance._animationStateChanged.pipe((0,P.p)(T=>"closing"===T.state),(0,y.s)(1)).subscribe(T=>{this._beforeClosed.next(F),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),T.totalTime+100)}),this._state=ce.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(F){let T=this._ref.config.positionStrategy;return F&&(F.left||F.right)?F.left?T.left(F.left):T.right(F.right):T.centerHorizontally(),F&&(F.top||F.bottom)?F.top?T.top(F.top):T.bottom(F.bottom):T.centerVertically(),this._ref.updatePosition(),this}updateSize(F="",T=""){return this._ref.updateSize(F,T),this}addPanelClass(F){return this._ref.addPanelClass(F),this}removePanelClass(F){return this._ref.removePanelClass(F),this}getState(){return this._state}_finishDialogClose(){this._state=ce.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Ue(D,F,T){return D._closeInteractionType=F,D.close(T)}const qe=new f.nKC("MatMdcDialogData"),_e=new f.nKC("mat-mdc-dialog-default-options"),ht=new f.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const D=(0,f.WQX)(i.hJ);return()=>D.scrollStrategies.block()}});let R=0,j=(()=>{var D;class F{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const W=this._parentDialog;return W?W._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(W,z,p,I,Ae,se,L,ve){this._overlay=W,this._defaultOptions=I,this._scrollStrategy=Ae,this._parentDialog=se,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k.B,this._afterOpenedAtThisLevel=new k.B,this.dialogConfigClass=Z,this.afterAllClosed=(0,U.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.Z)(void 0))),this._dialog=z.get(x.lG),this._dialogRefConstructor=Oe,this._dialogContainerType=H,this._dialogDataToken=qe}open(W,z){let p;(z={...this._defaultOptions||new Z,...z}).id=z.id||"mat-mdc-dialog-"+R++,z.scrollStrategy=z.scrollStrategy||this._scrollStrategy();const I=this._dialog.open(W,{...z,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:z},{provide:x.Pe,useValue:z}]},templateContext:()=>({dialogRef:p}),providers:(Ae,se,L)=>(p=new this._dialogRefConstructor(Ae,z,L),p.updatePosition(z?.position),[{provide:this._dialogContainerType,useValue:L},{provide:this._dialogDataToken,useValue:se.data},{provide:this._dialogRefConstructor,useValue:p}])});return p.componentRef=I.componentRef,p.componentInstance=I.componentInstance,this.openDialogs.push(p),this.afterOpened.next(p),p.afterClosed().subscribe(()=>{const Ae=this.openDialogs.indexOf(p);Ae>-1&&(this.openDialogs.splice(Ae,1),this.openDialogs.length||this._getAfterAllClosed().next())}),p}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(W){return this.openDialogs.find(z=>z.id===W)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(W){let z=W.length;for(;z--;)W[z].close()}}return(D=F).\u0275fac=function(W){return new(W||D)(f.KVO(i.hJ),f.KVO(f.zZn),f.KVO(u.aZ,8),f.KVO(_e,8),f.KVO(ht),f.KVO(D,12),f.KVO(i.Sf),f.KVO(f.bc$,8))},D.\u0275prov=f.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),F})(),he=0,Ce=(()=>{var D;class F{constructor(W,z,p){this.dialogRef=W,this._elementRef=z,this._dialog=p,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=It(this._elementRef,this._dialog.openDialogs))}ngOnChanges(W){const z=W._matDialogClose||W._matDialogCloseResult;z&&(this.dialogResult=z.currentValue)}_onButtonClick(W){Ue(this.dialogRef,0===W.screenX&&0===W.screenY?"keyboard":"mouse",this.dialogResult)}}return(D=F).\u0275fac=function(W){return new(W||D)(f.rXU(Oe,8),f.rXU(f.aKT),f.rXU(j))},D.\u0275dir=f.FsC({type:D,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(W,z){1&W&&f.bIt("click",function(I){return z._onButtonClick(I)}),2&W&&f.BMQ("aria-label",z.ariaLabel||null)("type",z.type)},inputs:{ariaLabel:[f.Mj6.None,"aria-label","ariaLabel"],type:"type",dialogResult:[f.Mj6.None,"mat-dialog-close","dialogResult"],_matDialogClose:[f.Mj6.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[f.OA$]}),F})(),Re=(()=>{var D;class F{constructor(W,z,p){this._dialogRef=W,this._elementRef=z,this._dialog=p}ngOnInit(){this._dialogRef||(this._dialogRef=It(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}}return(D=F).\u0275fac=function(W){return new(W||D)(f.rXU(Oe,8),f.rXU(f.aKT),f.rXU(j))},D.\u0275dir=f.FsC({type:D,standalone:!0}),F})(),pt=(()=>{var D;class F extends Re{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+he++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}}return(D=F).\u0275fac=(()=>{let T;return function(z){return(T||(T=f.xGo(D)))(z||D)}})(),D.\u0275dir=f.FsC({type:D,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(W,z){2&W&&f.Mr5("id",z.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[f.Vt3]}),F})(),zt=(()=>{var D;class F{}return(D=F).\u0275fac=function(W){return new(W||D)},D.\u0275dir=f.FsC({type:D,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0}),F})(),Mn=(()=>{var D;class F extends Re{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}}return(D=F).\u0275fac=(()=>{let T;return function(z){return(T||(T=f.xGo(D)))(z||D)}})(),D.\u0275dir=f.FsC({type:D,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(W,z){2&W&&f.AVh("mat-mdc-dialog-actions-align-start","start"===z.align)("mat-mdc-dialog-actions-align-center","center"===z.align)("mat-mdc-dialog-actions-align-end","end"===z.align)},inputs:{align:"align"},standalone:!0,features:[f.Vt3]}),F})();function It(D,F){let T=D.nativeElement.parentElement;for(;T&&!T.classList.contains("mat-mdc-dialog-container");)T=T.parentElement;return T?F.find(W=>W.id===T.id):null}let Xe=(()=>{var D;class F{}return(D=F).\u0275fac=function(W){return new(W||D)},D.\u0275mod=f.$C({type:D}),D.\u0275inj=f.G2t({providers:[j],imports:[x.Ph,i.z_,d.jc,G.yE,G.yE]}),F})()},71997:(en,Ve,E)=>{"use strict";E.d(Ve,{q:()=>C,w:()=>x});var i=E(54438),u=E(14085),f=E(86600);let C=(()=>{var w;class d{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(S){this._vertical=(0,u.he)(S)}get inset(){return this._inset}set inset(S){this._inset=(0,u.he)(S)}}return(w=d).\u0275fac=function(S){return new(S||w)},w.\u0275cmp=i.VBU({type:w,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(S,U){2&S&&(i.BMQ("aria-orientation",U.vertical?"vertical":"horizontal"),i.AVh("mat-divider-vertical",U.vertical)("mat-divider-horizontal",!U.vertical)("mat-divider-inset",U.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(S,U){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),d})(),x=(()=>{var w;class d{}return(w=d).\u0275fac=function(S){return new(S||w)},w.\u0275mod=i.$C({type:w}),w.\u0275inj=i.G2t({imports:[f.yE,f.yE]}),d})()},53719:(en,Ve,E)=>{"use strict";E.d(Ve,{RG:()=>Pt,TL:()=>de});var i=E(54438),f=(E(49969),E(60177)),C=E(72318),x=E(86600);let ht=0;const Bt=new i.nKC("MatError");let de=(()=>{var Rt;class ln{constructor(Ht,ut){this.id="mat-mdc-error-"+ht++,Ht||ut.nativeElement.setAttribute("aria-live","polite")}}return(Rt=ln).\u0275fac=function(Ht){return new(Ht||Rt)(i.kS0("aria-live"),i.rXU(i.aKT))},Rt.\u0275dir=i.FsC({type:Rt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Ht,ut){2&Ht&&i.Mr5("id",ut.id)},inputs:{id:"id"},standalone:!0,features:[i.Jv_([{provide:Bt,useExisting:Rt}])]}),ln})(),Pt=(()=>{var Rt;class ln{}return(Rt=ln).\u0275fac=function(Ht){return new(Ht||Rt)},Rt.\u0275mod=i.$C({type:Rt}),Rt.\u0275inj=i.G2t({imports:[x.yE,f.MD,C.w5,x.yE]}),ln})()},59115:(en,Ve,E)=>{"use strict";E.d(Ve,{Cn:()=>F,Cp:()=>D,fb:()=>qe,kk:()=>Mn});var i=E(54438),u=E(18617),f=E(67336),C=E(85052),x=E(76718),w=E(81027),d=E(15877),k=E(82755),S=E(35160),U=E(32914),P=E(17365),y=E(37925),v=E(14264),M=E(19833),G=E(60177),K=E(86600),V=E(76939),Z=E(49969),J=E(28203),te=E(47987),ae=E(36860),Y=E(65478);const $=["mat-menu-item",""],H=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],me=["mat-icon, [matMenuItemIcon]","*"];function B(T,W){1&T&&(i.qSk(),i.j41(0,"svg",2),i.nrm(1,"polygon",3),i.k0s())}const ce=["*"];function Oe(T,W){if(1&T){const z=i.RV6();i.j41(0,"div",0),i.bIt("keydown",function(I){i.eBV(z);const Ae=i.XpG();return i.Njj(Ae._handleKeydown(I))})("click",function(){i.eBV(z);const I=i.XpG();return i.Njj(I.closed.emit("click"))})("@transformMenu.start",function(I){i.eBV(z);const Ae=i.XpG();return i.Njj(Ae._onAnimationStart(I))})("@transformMenu.done",function(I){i.eBV(z);const Ae=i.XpG();return i.Njj(Ae._onAnimationDone(I))}),i.j41(1,"div",1),i.SdG(2),i.k0s()()}if(2&T){const z=i.XpG();i.HbH(z._classList),i.Y8G("id",z.panelId)("@transformMenu",z._panelAnimationState),i.BMQ("aria-label",z.ariaLabel||null)("aria-labelledby",z.ariaLabelledby||null)("aria-describedby",z.ariaDescribedby||null)}}const Ue=new i.nKC("MAT_MENU_PANEL");let qe=(()=>{var T;class W{constructor(p,I,Ae,se,L){this._elementRef=p,this._document=I,this._focusMonitor=Ae,this._parentMenu=se,this._changeDetectorRef=L,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new C.B,this._focused=new C.B,this._highlighted=!1,this._triggersSubmenu=!1,se?.addItem?.(this)}focus(p,I){this._focusMonitor&&p?this._focusMonitor.focusVia(this._getHostElement(),p,I):this._getHostElement().focus(I),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(p){this.disabled&&(p.preventDefault(),p.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const p=this._elementRef.nativeElement.cloneNode(!0),I=p.querySelectorAll("mat-icon, .material-icons");for(let Ae=0;Ae<I.length;Ae++)I[Ae].remove();return p.textContent?.trim()||""}_setHighlighted(p){this._highlighted=p,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(p){this._triggersSubmenu=p,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return(T=W).\u0275fac=function(p){return new(p||T)(i.rXU(i.aKT),i.rXU(G.qQ),i.rXU(u.FN),i.rXU(Ue,8),i.rXU(i.gRc))},T.\u0275cmp=i.VBU({type:T,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(p,I){1&p&&i.bIt("click",function(se){return I._checkDisabled(se)})("mouseenter",function(){return I._handleMouseEnter()}),2&p&&(i.BMQ("role",I.role)("tabindex",I._getTabIndex())("aria-disabled",I.disabled)("disabled",I.disabled||null),i.AVh("mat-mdc-menu-item-highlighted",I._highlighted)("mat-mdc-menu-item-submenu-trigger",I._triggersSubmenu))},inputs:{role:"role",disabled:[i.Mj6.HasDecoratorInputTransform,"disabled","disabled",i.L39],disableRipple:[i.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",i.L39]},exportAs:["matMenuItem"],standalone:!0,features:[i.GFd,i.aNF],attrs:$,ngContentSelectors:me,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(p,I){1&p&&(i.NAR(H),i.SdG(0),i.j41(1,"span",0),i.SdG(2,1),i.k0s(),i.nrm(3,"div",1),i.DNE(4,B,2,0,":svg:svg",2)),2&p&&(i.R7$(3),i.Y8G("matRippleDisabled",I.disableRipple||I.disabled)("matRippleTrigger",I._getHostElement()),i.R7$(),i.vxM(4,I._triggersSubmenu?4:-1))},dependencies:[K.r6],encapsulation:2,changeDetection:0}),W})();const de=new i.nKC("MatMenuContent"),j={transformMenu:(0,Z.hZ)("transformMenu",[(0,Z.wk)("void",(0,Z.iF)({opacity:0,transform:"scale(0.8)"})),(0,Z.kY)("void => enter",(0,Z.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Z.iF)({opacity:1,transform:"scale(1)"}))),(0,Z.kY)("* => void",(0,Z.i0)("100ms 25ms linear",(0,Z.iF)({opacity:0})))]),fadeInItems:(0,Z.hZ)("fadeInItems",[(0,Z.wk)("showing",(0,Z.iF)({opacity:1})),(0,Z.kY)("void => *",[(0,Z.iF)({opacity:0}),(0,Z.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Re=0;const pt=new i.nKC("mat-menu-default-options",{providedIn:"root",factory:function zt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Mn=(()=>{var T;class W{get xPosition(){return this._xPosition}set xPosition(p){this._xPosition=p,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(p){this._yPosition=p,this.setPositionClasses()}set panelClass(p){const I=this._previousPanelClass,Ae={...this._classList};I&&I.length&&I.split(" ").forEach(se=>{Ae[se]=!1}),this._previousPanelClass=p,p&&p.length&&(p.split(" ").forEach(se=>{Ae[se]=!0}),this._elementRef.nativeElement.className=""),this._classList=Ae}get classList(){return this.panelClass}set classList(p){this.panelClass=p}constructor(p,I,Ae,se){this._elementRef=p,this._ngZone=I,this._changeDetectorRef=se,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new i.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new C.B,this.closed=new i.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Re++,this.overlayPanelClass=Ae.overlayPanelClass||"",this._xPosition=Ae.xPosition,this._yPosition=Ae.yPosition,this.backdropClass=Ae.backdropClass,this.overlapTrigger=Ae.overlapTrigger,this.hasBackdrop=Ae.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new u.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,S.Z)(this._directDescendantItems),(0,U.n)(p=>(0,x.h)(...p.map(I=>I._focused)))).subscribe(p=>this._keyManager.updateActiveItem(p)),this._directDescendantItems.changes.subscribe(p=>{const I=this._keyManager;if("enter"===this._panelAnimationState&&I.activeItem?._hasFocus()){const Ae=p.toArray(),se=Math.max(0,Math.min(Ae.length-1,I.activeItemIndex||0));Ae[se]&&!Ae[se].disabled?I.setActiveItem(se):I.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,S.Z)(this._directDescendantItems),(0,U.n)(I=>(0,x.h)(...I.map(Ae=>Ae._hovered))))}addItem(p){}removeItem(p){}_handleKeydown(p){const I=p.keyCode,Ae=this._keyManager;switch(I){case f._f:(0,f.rp)(p)||(p.preventDefault(),this.closed.emit("keydown"));break;case f.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case f.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(I===f.i7||I===f.n6)&&Ae.setFocusOrigin("keyboard"),void Ae.onKeydown(p)}p.stopPropagation()}focusFirstItem(p="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,P.s)(1)).subscribe(()=>{let I=null;if(this._directDescendantItems.length&&(I=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!I||!I.contains(document.activeElement)){const Ae=this._keyManager;Ae.setFocusOrigin(p).setFirstItemActive(),!Ae.activeItem&&I&&I.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(p){const I=Math.min(this._baseElevation+p,24),Ae=`${this._elevationPrefix}${I}`,se=Object.keys(this._classList).find(L=>L.startsWith(this._elevationPrefix));if(!se||se===this._previousElevation){const L={...this._classList};this._previousElevation&&(L[this._previousElevation]=!1),L[Ae]=!0,this._previousElevation=Ae,this._classList=L}}setPositionClasses(p=this.xPosition,I=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===p,"mat-menu-after":"after"===p,"mat-menu-above":"above"===I,"mat-menu-below":"below"===I},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(p){this._animationDone.next(p),this._isAnimating=!1}_onAnimationStart(p){this._isAnimating=!0,"enter"===p.toState&&0===this._keyManager.activeItemIndex&&(p.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,S.Z)(this._allItems)).subscribe(p=>{this._directDescendantItems.reset(p.filter(I=>I._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return(T=W).\u0275fac=function(p){return new(p||T)(i.rXU(i.aKT),i.rXU(i.SKi),i.rXU(pt),i.rXU(i.gRc))},T.\u0275cmp=i.VBU({type:T,selectors:[["mat-menu"]],contentQueries:function(p,I,Ae){if(1&p&&(i.wni(Ae,de,5),i.wni(Ae,qe,5),i.wni(Ae,qe,4)),2&p){let se;i.mGM(se=i.lsd())&&(I.lazyContent=se.first),i.mGM(se=i.lsd())&&(I._allItems=se),i.mGM(se=i.lsd())&&(I.items=se)}},viewQuery:function(p,I){if(1&p&&i.GBs(i.C4Q,5),2&p){let Ae;i.mGM(Ae=i.lsd())&&(I.templateRef=Ae.first)}},hostVars:3,hostBindings:function(p,I){2&p&&i.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[i.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[i.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[i.Mj6.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[i.Mj6.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",i.L39],hasBackdrop:[i.Mj6.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",z=>null==z?null:(0,i.L39)(z)],panelClass:[i.Mj6.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[i.Jv_([{provide:Ue,useExisting:T}]),i.GFd,i.aNF],ngContentSelectors:ce,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(p,I){1&p&&(i.NAR(),i.DNE(0,Oe,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[j.transformMenu,j.fadeInItems]},changeDetection:0}),W})();const It=new i.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const T=(0,i.WQX)(te.hJ);return()=>T.scrollStrategies.reposition()}}),Xe={provide:It,deps:[te.hJ],useFactory:function Ne(T){return()=>T.scrollStrategies.reposition()}},Ot=(0,ae.BQ)({passive:!0});let D=(()=>{var T;class W{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(p){this.menu=p}get menu(){return this._menu}set menu(p){p!==this._menu&&(this._menu=p,this._menuCloseSubscription.unsubscribe(),p&&(this._menuCloseSubscription=p.close.subscribe(I=>{this._destroyMenu(I),("click"===I||"tab"===I)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(I)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(p,I,Ae,se,L,ve,ge,et,Pt){this._overlay=p,this._element=I,this._viewContainerRef=Ae,this._menuItemInstance=ve,this._dir=ge,this._focusMonitor=et,this._ngZone=Pt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=w.yU.EMPTY,this._hoverSubscription=w.yU.EMPTY,this._menuCloseSubscription=w.yU.EMPTY,this._changeDetectorRef=(0,i.WQX)(i.gRc),this._handleTouchStart=Rt=>{(0,u.w6)(Rt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new i.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new i.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=se,this._parentMaterialMenu=L instanceof Mn?L:void 0,I.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ot)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ot),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const p=this.menu;if(this._menuOpen||!p)return;const I=this._createOverlay(p),Ae=I.getConfig(),se=Ae.positionStrategy;this._setPosition(p,se),Ae.hasBackdrop=null==p.hasBackdrop?!this.triggersSubmenu():p.hasBackdrop,I.attach(this._getPortal(p)),p.lazyContent&&p.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(p),p instanceof Mn&&(p._startAnimation(),p._directDescendantItems.changes.pipe((0,y.Q)(p.close)).subscribe(()=>{se.withLockedPosition(!1).reapplyLastPosition(),se.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(p,I){this._focusMonitor&&p?this._focusMonitor.focusVia(this._element,p,I):this._element.nativeElement.focus(I)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(p){if(!this._overlayRef||!this.menuOpen)return;const I=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===p||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,I instanceof Mn?(I._resetAnimation(),I.lazyContent?I._animationDone.pipe((0,v.p)(Ae=>"void"===Ae.toState),(0,P.s)(1),(0,y.Q)(I.lazyContent._attached)).subscribe({next:()=>I.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),I?.lazyContent?.detach())}_initMenu(p){p.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,p.direction=this.dir,this._setMenuElevation(p),p.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(p){if(p.setElevation){let I=0,Ae=p.parentMenu;for(;Ae;)I++,Ae=Ae.parentMenu;p.setElevation(I)}}_setIsMenuOpen(p){p!==this._menuOpen&&(this._menuOpen=p,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(p),this._changeDetectorRef.markForCheck())}_createOverlay(p){if(!this._overlayRef){const I=this._getOverlayConfig(p);this._subscribeToPositions(p,I.positionStrategy),this._overlayRef=this._overlay.create(I),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(p){return new te.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:p.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:p.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(p,I){p.setPositionClasses&&I.positionChanges.subscribe(Ae=>{const se="start"===Ae.connectionPair.overlayX?"after":"before",L="top"===Ae.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>p.setPositionClasses(se,L)):p.setPositionClasses(se,L)})}_setPosition(p,I){let[Ae,se]="before"===p.xPosition?["end","start"]:["start","end"],[L,ve]="above"===p.yPosition?["bottom","top"]:["top","bottom"],[ge,et]=[L,ve],[Pt,Rt]=[Ae,se],ln=0;if(this.triggersSubmenu()){if(Rt=Ae="before"===p.xPosition?"start":"end",se=Pt="end"===Ae?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const je=this._parentMaterialMenu.items.first;this._parentInnerPadding=je?je._getHostElement().offsetTop:0}ln="bottom"===L?this._parentInnerPadding:-this._parentInnerPadding}}else p.overlapTrigger||(ge="top"===L?"bottom":"top",et="top"===ve?"bottom":"top");I.withPositions([{originX:Ae,originY:ge,overlayX:Pt,overlayY:L,offsetY:ln},{originX:se,originY:ge,overlayX:Rt,overlayY:L,offsetY:ln},{originX:Ae,originY:et,overlayX:Pt,overlayY:ve,offsetY:-ln},{originX:se,originY:et,overlayX:Rt,overlayY:ve,offsetY:-ln}])}_menuClosingActions(){const p=this._overlayRef.backdropClick(),I=this._overlayRef.detachments(),Ae=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,d.of)(),se=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,v.p)(L=>L!==this._menuItemInstance),(0,v.p)(()=>this._menuOpen)):(0,d.of)();return(0,x.h)(p,Ae,se,I)}_handleMousedown(p){(0,u._G)(p)||(this._openedBy=0===p.button?"mouse":void 0,this.triggersSubmenu()&&p.preventDefault())}_handleKeydown(p){const I=p.keyCode;(I===f.Fm||I===f.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(I===f.LE&&"ltr"===this.dir||I===f.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(p){this.triggersSubmenu()?(p.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,v.p)(p=>p===this._menuItemInstance&&!p.disabled),(0,M.c)(0,k.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Mn&&this.menu._isAnimating?this.menu._animationDone.pipe((0,P.s)(1),(0,M.c)(0,k.$),(0,y.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(p){return(!this._portal||this._portal.templateRef!==p.templateRef)&&(this._portal=new V.VA(p.templateRef,this._viewContainerRef)),this._portal}}return(T=W).\u0275fac=function(p){return new(p||T)(i.rXU(te.hJ),i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(It),i.rXU(Ue,8),i.rXU(qe,10),i.rXU(J.dS,8),i.rXU(u.FN),i.rXU(i.SKi))},T.\u0275dir=i.FsC({type:T,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(p,I){1&p&&i.bIt("click",function(se){return I._handleClick(se)})("mousedown",function(se){return I._handleMousedown(se)})("keydown",function(se){return I._handleKeydown(se)}),2&p&&i.BMQ("aria-haspopup",I.menu?"menu":null)("aria-expanded",I.menuOpen)("aria-controls",I.menuOpen?I.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[i.Mj6.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[i.Mj6.None,"matMenuTriggerFor","menu"],menuData:[i.Mj6.None,"matMenuTriggerData","menuData"],restoreFocus:[i.Mj6.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0}),W})(),F=(()=>{var T;class W{}return(T=W).\u0275fac=function(p){return new(p||T)},T.\u0275mod=i.$C({type:T}),T.\u0275inj=i.G2t({providers:[Xe],imports:[G.MD,K.pZ,K.yE,te.z_,Y.Gj,K.yE]}),W})()},67575:(en,Ve,E)=>{"use strict";E.d(Ve,{PO:()=>U});var i=E(54438),f=(E(60177),E(86600));let U=(()=>{var P;class y{}return(P=y).\u0275fac=function(M){return new(M||P)},P.\u0275mod=i.$C({type:P}),P.\u0275inj=i.G2t({imports:[f.yE]}),y})()},5951:(en,Ve,E)=>{"use strict";E.d(Ve,{VT:()=>K,Wk:()=>Z,_g:()=>V});var i=E(54438),u=E(86600),f=E(18617),C=E(45024),x=E(89417),w=E(60177);const d=["input"],k=["formField"],S=["*"];let U=0;class P{constructor(te,ae){this.source=te,this.value=ae}}const y={provide:x.kq,useExisting:(0,i.Rfq)(()=>K),multi:!0},v=new i.nKC("MatRadioGroup"),M=new i.nKC("mat-radio-default-options",{providedIn:"root",factory:function G(){return{color:"accent"}}});let K=(()=>{var J;class te{get name(){return this._name}set name(Y){this._name=Y,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(Y){this._labelPosition="before"===Y?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(Y){this._value!==Y&&(this._value=Y,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(Y){this._selected=Y,this.value=Y?Y.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(Y){this._disabled=Y,this._markRadiosForCheck()}get required(){return this._required}set required(Y){this._required=Y,this._markRadiosForCheck()}constructor(Y){this._changeDetector=Y,this._value=null,this._name="mat-radio-group-"+U++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(Y=>Y===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(Y=>{Y.name=this.name,Y._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach($=>{$.checked=this.value===$.value,$.checked&&(this._selected=$)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new P(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(Y=>Y._markForCheck())}writeValue(Y){this.value=Y,this._changeDetector.markForCheck()}registerOnChange(Y){this._controlValueAccessorChangeFn=Y}registerOnTouched(Y){this.onTouched=Y}setDisabledState(Y){this.disabled=Y,this._changeDetector.markForCheck()}}return(J=te).\u0275fac=function(Y){return new(Y||J)(i.rXU(i.gRc))},J.\u0275dir=i.FsC({type:J,selectors:[["mat-radio-group"]],contentQueries:function(Y,$,H){if(1&Y&&i.wni(H,V,5),2&Y){let me;i.mGM(me=i.lsd())&&($._radios=me)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[i.Mj6.HasDecoratorInputTransform,"disabled","disabled",i.L39],required:[i.Mj6.HasDecoratorInputTransform,"required","required",i.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[i.Jv_([y,{provide:v,useExisting:J}]),i.GFd]}),te})(),V=(()=>{var J;class te{get checked(){return this._checked}set checked(Y){this._checked!==Y&&(this._checked=Y,Y&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!Y&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),Y&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(Y){this._value!==Y&&(this._value=Y,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===Y),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(Y){this._labelPosition=Y}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(Y){this._setDisabled(Y)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(Y){this._required=Y}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(Y){this._color=Y}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Y,$,H,me,B,ce,Oe,Ue){this._elementRef=$,this._changeDetector=H,this._focusMonitor=me,this._radioDispatcher=B,this._providerOverride=Oe,this._uniqueId="mat-radio-"+ ++U,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new i.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=Y,this._noopAnimations="NoopAnimations"===ce,Ue&&(this.tabIndex=(0,i.Udg)(Ue,0))}focus(Y,$){$?this._focusMonitor.focusVia(this._inputElement,$,Y):this._inputElement.nativeElement.focus(Y)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((Y,$)=>{Y!==this.id&&$===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(Y=>{!Y&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new P(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(Y){Y.stopPropagation()}_onInputInteraction(Y){if(Y.stopPropagation(),!this.checked&&!this.disabled){const $=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),$&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(Y){this._onInputInteraction(Y),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(Y){this._disabled!==Y&&(this._disabled=Y,this._changeDetector.markForCheck())}_updateTabIndex(){const Y=this.radioGroup;let $;if($=Y&&Y.selected&&!this.disabled?Y.selected===this?this.tabIndex:-1:this.tabIndex,$!==this._previousTabIndex){const H=this._inputElement?.nativeElement;H&&(H.setAttribute("tabindex",$+""),this._previousTabIndex=$)}}}return(J=te).\u0275fac=function(Y){return new(Y||J)(i.rXU(v,8),i.rXU(i.aKT),i.rXU(i.gRc),i.rXU(f.FN),i.rXU(C.zP),i.rXU(i.bc$,8),i.rXU(M,8),i.kS0("tabindex"))},J.\u0275cmp=i.VBU({type:J,selectors:[["mat-radio-button"]],viewQuery:function(Y,$){if(1&Y&&(i.GBs(d,5),i.GBs(k,7,i.aKT)),2&Y){let H;i.mGM(H=i.lsd())&&($._inputElement=H.first),i.mGM(H=i.lsd())&&($._rippleTrigger=H.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(Y,$){1&Y&&i.bIt("focus",function(){return $._inputElement.nativeElement.focus()}),2&Y&&(i.BMQ("id",$.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.AVh("mat-primary","primary"===$.color)("mat-accent","accent"===$.color)("mat-warn","warn"===$.color)("mat-mdc-radio-checked",$.checked)("_mat-animation-noopable",$._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[i.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[i.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[i.Mj6.None,"aria-describedby","ariaDescribedby"],disableRipple:[i.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",i.L39],tabIndex:[i.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",ae=>null==ae?0:(0,i.Udg)(ae)],checked:[i.Mj6.HasDecoratorInputTransform,"checked","checked",i.L39],value:"value",labelPosition:"labelPosition",disabled:[i.Mj6.HasDecoratorInputTransform,"disabled","disabled",i.L39],required:[i.Mj6.HasDecoratorInputTransform,"required","required",i.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[i.GFd,i.aNF],ngContentSelectors:S,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(Y,$){if(1&Y){const H=i.RV6();i.NAR(),i.j41(0,"div",2,0)(2,"div",3)(3,"div",4),i.bIt("click",function(B){return i.eBV(H),i.Njj($._onTouchTargetClick(B))}),i.k0s(),i.j41(4,"input",5,1),i.bIt("change",function(B){return i.eBV(H),i.Njj($._onInputInteraction(B))}),i.k0s(),i.j41(6,"div",6),i.nrm(7,"div",7)(8,"div",8),i.k0s(),i.j41(9,"div",9),i.nrm(10,"div",10),i.k0s()(),i.j41(11,"label",11),i.SdG(12),i.k0s()()}2&Y&&(i.Y8G("labelPosition",$.labelPosition),i.R7$(2),i.AVh("mdc-radio--disabled",$.disabled),i.R7$(2),i.Y8G("id",$.inputId)("checked",$.checked)("disabled",$.disabled)("required",$.required),i.BMQ("name",$.name)("value",$.value)("aria-label",$.ariaLabel)("aria-labelledby",$.ariaLabelledby)("aria-describedby",$.ariaDescribedby),i.R7$(5),i.Y8G("matRippleTrigger",$._rippleTrigger.nativeElement)("matRippleDisabled",$._isRippleDisabled())("matRippleCentered",!0),i.R7$(2),i.Y8G("for",$.inputId))},dependencies:[u.r6,u.tO],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),te})(),Z=(()=>{var J;class te{}return(J=te).\u0275fac=function(Y){return new(Y||J)},J.\u0275mod=i.$C({type:J}),J.\u0275inj=i.G2t({imports:[u.yE,w.MD,u.pZ,V,u.yE]}),te})()},82798:(en,Ve,E)=>{"use strict";E.d(Ve,{Ve:()=>qe});var i=E(47987),u=E(60177),f=E(54438),C=E(86600),x=E(53719),w=E(65478);E(49969);const me={provide:new f.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const _e=(0,f.WQX)(i.hJ);return()=>_e.scrollStrategies.reposition()}}),deps:[i.hJ],useFactory:function $(_e){return()=>_e.scrollStrategies.reposition()}};let qe=(()=>{var _e;class ht{}return(_e=ht).\u0275fac=function(de){return new(de||_e)},_e.\u0275mod=f.$C({type:_e}),_e.\u0275inj=f.G2t({providers:[me],imports:[u.MD,i.z_,C.Sy,C.yE,w.Gj,x.RG,C.Sy,C.yE]}),ht})()},90882:(en,Ve,E)=>{"use strict";E.d(Ve,{vg:()=>ce});var i=E(65478),u=E(54438),f=E(86600);E(49969);let ce=(()=>{var Oe;class Ue{}return(Oe=Ue).\u0275fac=function(_e){return new(_e||Oe)},Oe.\u0275mod=u.$C({type:Oe}),Oe.\u0275inj=u.G2t({imports:[f.yE,i.Gj,i.Gj,f.yE]}),Ue})()},30450:(en,Ve,E)=>{"use strict";E.d(Ve,{mV:()=>K});var i=E(54438),u=E(89417),f=E(18617),C=E(86600);const x=["switch"],w=["*"];function d(V,Z){1&V&&(i.j41(0,"div",10),i.qSk(),i.j41(1,"svg",12),i.nrm(2,"path",13),i.k0s(),i.j41(3,"svg",14),i.nrm(4,"path",15),i.k0s()())}const k=new i.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),S={provide:u.kq,useExisting:(0,i.Rfq)(()=>y),multi:!0};class U{constructor(Z,J){this.source=Z,this.checked=J}}let P=0,y=(()=>{var V;class Z{_createChangeEvent(te){return new U(this,te)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(te){this._checked=te,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(te,ae,Y,$,H,me){this._elementRef=te,this._focusMonitor=ae,this._changeDetectorRef=Y,this.defaults=H,this._onChange=B=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new i.bkB,this.toggleChange=new i.bkB,this.tabIndex=parseInt($)||0,this.color=H.color||"accent",this._noopAnimations="NoopAnimations"===me,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++P,this.hideIcon=H.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(te=>{"keyboard"===te||"program"===te?(this._focused=!0,this._changeDetectorRef.markForCheck()):te||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(te){te.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(te){this.checked=!!te}registerOnChange(te){this._onChange=te}registerOnTouched(te){this._onTouched=te}validate(te){return this.required&&!0!==te.value?{required:!0}:null}registerOnValidatorChange(te){this._validatorOnChange=te}setDisabledState(te){this.disabled=te,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new U(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return(V=Z).\u0275fac=function(te){return new(te||V)(i.rXU(i.aKT),i.rXU(f.FN),i.rXU(i.gRc),i.kS0("tabindex"),i.rXU(k),i.rXU(i.bc$,8))},V.\u0275cmp=i.VBU({type:V,selectors:[["mat-slide-toggle"]],viewQuery:function(te,ae){if(1&te&&i.GBs(x,5),2&te){let Y;i.mGM(Y=i.lsd())&&(ae._switchElement=Y.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(te,ae){2&te&&(i.Mr5("id",ae.id),i.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),i.HbH(ae.color?"mat-"+ae.color:""),i.AVh("mat-mdc-slide-toggle-focused",ae._focused)("mat-mdc-slide-toggle-checked",ae.checked)("_mat-animation-noopable",ae._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[i.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[i.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[i.Mj6.None,"aria-describedby","ariaDescribedby"],required:[i.Mj6.HasDecoratorInputTransform,"required","required",i.L39],color:"color",disabled:[i.Mj6.HasDecoratorInputTransform,"disabled","disabled",i.L39],disableRipple:[i.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",i.L39],tabIndex:[i.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",J=>null==J?0:(0,i.Udg)(J)],checked:[i.Mj6.HasDecoratorInputTransform,"checked","checked",i.L39],hideIcon:[i.Mj6.HasDecoratorInputTransform,"hideIcon","hideIcon",i.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[i.Jv_([S,{provide:u.cz,useExisting:V,multi:!0}]),i.GFd,i.OA$,i.aNF],ngContentSelectors:w,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(te,ae){if(1&te){const Y=i.RV6();i.NAR(),i.j41(0,"div",1)(1,"button",2,0),i.bIt("click",function(){return i.eBV(Y),i.Njj(ae._handleClick())}),i.nrm(3,"div",3),i.j41(4,"div",4)(5,"div",5)(6,"div",6),i.nrm(7,"div",7),i.k0s(),i.j41(8,"div",8),i.nrm(9,"div",9),i.k0s(),i.DNE(10,d,5,0,"div",10),i.k0s()()(),i.j41(11,"label",11),i.bIt("click",function(H){return i.eBV(Y),i.Njj(H.stopPropagation())}),i.SdG(12),i.k0s()()}if(2&te){const Y=i.sdS(2);i.Y8G("labelPosition",ae.labelPosition),i.R7$(),i.AVh("mdc-switch--selected",ae.checked)("mdc-switch--unselected",!ae.checked)("mdc-switch--checked",ae.checked)("mdc-switch--disabled",ae.disabled),i.Y8G("tabIndex",ae.disabled?-1:ae.tabIndex)("disabled",ae.disabled),i.BMQ("id",ae.buttonId)("name",ae.name)("aria-label",ae.ariaLabel)("aria-labelledby",ae._getAriaLabelledBy())("aria-describedby",ae.ariaDescribedby)("aria-required",ae.required||null)("aria-checked",ae.checked),i.R7$(8),i.Y8G("matRippleTrigger",Y)("matRippleDisabled",ae.disableRipple||ae.disabled)("matRippleCentered",!0),i.R7$(),i.vxM(10,ae.hideIcon?-1:10),i.R7$(),i.Y8G("for",ae.buttonId),i.BMQ("id",ae._labelId)}},dependencies:[C.r6,C.tO],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0}),Z})(),K=(()=>{var V;class Z{}return(V=Z).\u0275fac=function(te){return new(te||V)},V.\u0275mod=i.$C({type:V}),V.\u0275inj=i.G2t({imports:[y,C.yE,C.yE]}),Z})()},43881:(en,Ve,E)=>{"use strict";E.d(Ve,{Ez:()=>_e,IV:()=>H,OU:()=>Ue});var i=E(28203),u=E(36860),f=E(54438),C=E(86600),x=E(89417),w=E(85052);const d=["knob"],k=["valueIndicatorContainer"];function S(ht,Bt){if(1&ht&&(f.j41(0,"div",2,1)(2,"div",5)(3,"span",6),f.EFF(4),f.k0s()()()),2&ht){const de=f.XpG();f.R7$(4),f.JRh(de.valueIndicatorText)}}const U=["trackActive"],P=["*"];function y(ht,Bt){if(1&ht&&f.nrm(0,"div"),2&ht){const de=Bt.$implicit,R=Bt.$index,j=f.XpG(3);f.HbH(0===de?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),f.xc7("transform",j._calcTickMarkTransform(R))}}function v(ht,Bt){if(1&ht&&f.Z7z(0,y,1,4,"div",8,f.Vm6),2&ht){const de=f.XpG(2);f.Dyx(de._tickMarks)}}function M(ht,Bt){if(1&ht&&(f.j41(0,"div",6,1),f.DNE(2,v,2,0),f.k0s()),2&ht){const de=f.XpG();f.R7$(2),f.vxM(2,de._cachedWidth?2:-1)}}function G(ht,Bt){if(1&ht&&f.nrm(0,"mat-slider-visual-thumb",7),2&ht){const de=f.XpG();f.Y8G("discrete",de.discrete)("thumbPosition",1)("valueIndicatorText",de.startValueIndicatorText)}}var K=function(ht){return ht[ht.START=1]="START",ht[ht.END=2]="END",ht}(K||{}),V=function(ht){return ht[ht.ACTIVE=0]="ACTIVE",ht[ht.INACTIVE=1]="INACTIVE",ht}(V||{});const Z=new f.nKC("_MatSlider"),J=new f.nKC("_MatSliderThumb"),te=new f.nKC("_MatSliderRangeThumb"),ae=new f.nKC("_MatSliderVisualThumb");let $=(()=>{var ht;class Bt{constructor(R,j,he,Ce){this._cdr=R,this._ngZone=j,this._slider=Ce,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,f.WQX)(u.OD),this._onPointerMove=Re=>{if(this._sliderInput._isFocused)return;const pt=this._hostElement.getBoundingClientRect(),zt=this._slider._isCursorOnSliderThumb(Re,pt);this._isHovered=zt,zt?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=Re=>{0===Re.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=he.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const R=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{R.addEventListener("pointermove",this._onPointerMove),R.addEventListener("pointerdown",this._onDragStart),R.addEventListener("pointerup",this._onDragEnd),R.addEventListener("pointerleave",this._onMouseLeave),R.addEventListener("focus",this._onFocus),R.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const R=this._sliderInputEl;R&&(R.removeEventListener("pointermove",this._onPointerMove),R.removeEventListener("pointerdown",this._onDragStart),R.removeEventListener("pointerup",this._onDragEnd),R.removeEventListener("pointerleave",this._onMouseLeave),R.removeEventListener("focus",this._onFocus),R.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(R){return R?.state===C.Ex.FADING_IN||R?.state===C.Ex.VISIBLE}_showRipple(R,j){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===K.START?K.END:K.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||j))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:R,centered:!0,persistent:!0})}_hideRipple(R){if(R?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const j=this._getSibling();j._isShowingAnyRipple()||(this._hideValueIndicator(),j._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===K.START?K.END:K.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}}return(ht=Bt).\u0275fac=function(R){return new(R||ht)(f.rXU(f.gRc),f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(Z))},ht.\u0275cmp=f.VBU({type:ht,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(R,j){if(1&R&&(f.GBs(C.r6,5),f.GBs(d,5),f.GBs(k,5)),2&R){let he;f.mGM(he=f.lsd())&&(j._ripple=he.first),f.mGM(he=f.lsd())&&(j._knob=he.first),f.mGM(he=f.lsd())&&(j._valueIndicatorContainer=he.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[f.Jv_([{provide:ae,useExisting:ht}]),f.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(R,j){1&R&&(f.DNE(0,S,5,1,"div",2),f.nrm(1,"div",3,0)(3,"div",4)),2&R&&(f.vxM(0,j.discrete?0:-1),f.R7$(3),f.Y8G("matRippleDisabled",!0))},dependencies:[C.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),Bt})(),H=(()=>{var ht;class Bt{get disabled(){return this._disabled}set disabled(R){this._disabled=R;const j=this._getInput(K.END),he=this._getInput(K.START);j&&(j.disabled=this._disabled),he&&(he.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(R){this._discrete=R,this._updateValueIndicatorUIs()}get min(){return this._min}set min(R){const j=isNaN(R)?this._min:R;this._min!==j&&this._updateMin(j)}_updateMin(R){const j=this._min;this._min=R,this._isRange?this._updateMinRange({old:j,new:R}):this._updateMinNonRange(R),this._onMinMaxOrStepChange()}_updateMinRange(R){const j=this._getInput(K.END),he=this._getInput(K.START),Ce=j.value,Re=he.value;he.min=R.new,j.min=Math.max(R.new,he.value),he.max=Math.min(j.max,j.value),he._updateWidthInactive(),j._updateWidthInactive(),R.new<R.old?this._onTranslateXChangeBySideEffect(j,he):this._onTranslateXChangeBySideEffect(he,j),Ce!==j.value&&this._onValueChange(j),Re!==he.value&&this._onValueChange(he)}_updateMinNonRange(R){const j=this._getInput(K.END);if(j){const he=j.value;j.min=R,j._updateThumbUIByValue(),this._updateTrackUI(j),he!==j.value&&this._onValueChange(j)}}get max(){return this._max}set max(R){const j=isNaN(R)?this._max:R;this._max!==j&&this._updateMax(j)}_updateMax(R){const j=this._max;this._max=R,this._isRange?this._updateMaxRange({old:j,new:R}):this._updateMaxNonRange(R),this._onMinMaxOrStepChange()}_updateMaxRange(R){const j=this._getInput(K.END),he=this._getInput(K.START),Ce=j.value,Re=he.value;j.max=R.new,he.max=Math.min(R.new,j.value),j.min=he.value,j._updateWidthInactive(),he._updateWidthInactive(),R.new>R.old?this._onTranslateXChangeBySideEffect(he,j):this._onTranslateXChangeBySideEffect(j,he),Ce!==j.value&&this._onValueChange(j),Re!==he.value&&this._onValueChange(he)}_updateMaxNonRange(R){const j=this._getInput(K.END);if(j){const he=j.value;j.max=R,j._updateThumbUIByValue(),this._updateTrackUI(j),he!==j.value&&this._onValueChange(j)}}get step(){return this._step}set step(R){const j=isNaN(R)?this._step:R;this._step!==j&&this._updateStep(j)}_updateStep(R){this._step=R,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const R=this._getInput(K.END),j=this._getInput(K.START),he=R.value,Ce=j.value,Re=j.value;R.min=this._min,j.max=this._max,R.step=this._step,j.step=this._step,this._platform.SAFARI&&(R.value=R.value,j.value=j.value),R.min=Math.max(this._min,j.value),j.max=Math.min(this._max,R.value),j._updateWidthInactive(),R._updateWidthInactive(),R.value<Re?this._onTranslateXChangeBySideEffect(j,R):this._onTranslateXChangeBySideEffect(R,j),he!==R.value&&this._onValueChange(R),Ce!==j.value&&this._onValueChange(j)}_updateStepNonRange(){const R=this._getInput(K.END);if(R){const j=R.value;R.step=this._step,this._platform.SAFARI&&(R.value=R.value),R._updateThumbUIByValue(),j!==R.value&&this._onValueChange(R)}}constructor(R,j,he,Ce,Re,pt){this._ngZone=R,this._cdr=j,this._elementRef=he,this._dir=Ce,this._globalRippleOptions=Re,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=zt=>`${zt}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,f.WQX)(u.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===pt,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const R=this._getInput(K.END),j=this._getInput(K.START);this._isRange=!!R&&!!j,this._cdr.detectChanges();const he=this._getThumb(K.END);this._rippleRadius=he._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(R,j):this._initUINonRange(R),this._updateTrackUI(R),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(R){R.initProps(),R.initUI(),this._updateValueIndicatorUI(R),this._hasViewInitialized=!0,R._updateThumbUIByValue()}_initUIRange(R,j){R.initProps(),R.initUI(),j.initProps(),j.initUI(),R._updateMinMax(),j._updateMinMax(),R._updateStaticStyles(),j._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,R._updateThumbUIByValue(),j._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const R=this._getInput(K.END),j=this._getInput(K.START);R._setIsLeftThumb(),j._setIsLeftThumb(),R.translateX=R._calcTranslateXByValue(),j.translateX=j._calcTranslateXByValue(),R._updateStaticStyles(),j._updateStaticStyles(),R._updateWidthInactive(),j._updateWidthInactive(),R._updateThumbUIByValue(),j._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(K.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(K.START)._isActive||this._getThumb(K.END)._isActive}_getValue(R=K.END){const j=this._getInput(R);return j?j.value:this.min}_skipUpdate(){return!(!this._getInput(K.START)?._skipUIUpdate&&!this._getInput(K.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(R){const j=this._trackActive.nativeElement.style;j.left=R.left,j.right=R.right,j.transformOrigin=R.transformOrigin,j.transform=R.transform}_calcTickMarkTransform(R){return`translateX(${R*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(R){this._hasViewInitialized&&(this._updateThumbUI(R),this._updateTrackUI(R),this._updateOverlappingThumbUI(R))}_onTranslateXChangeBySideEffect(R,j){this._hasViewInitialized&&(R._updateThumbUIByValue(),j._updateThumbUIByValue())}_onValueChange(R){this._hasViewInitialized&&(this._updateValueIndicatorUI(R),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const R=this._getInput(K.END),j=this._getInput(K.START);R._updateThumbUIByValue(),j._updateThumbUIByValue(),R._updateStaticStyles(),j._updateStaticStyles(),R._updateMinMax(),j._updateMinMax(),R._updateWidthInactive(),j._updateWidthInactive()}else{const R=this._getInput(K.END);R&&R._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const R=this._getInput(K.START),j=this._getInput(K.END);return!(!R||!j)&&j.translateX-R.translateX<20}_updateOverlappingThumbClassNames(R){const j=R.getSibling(),he=this._getThumb(R.thumbPosition);this._getThumb(j.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),he._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(R){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(R))}_updateThumbUI(R){this._skipUpdate()||(this._getThumb(R.thumbPosition===K.END?K.END:K.START)._hostElement.style.transform=`translateX(${R.translateX}px)`)}_updateValueIndicatorUI(R){if(this._skipUpdate())return;const j=this.displayWith(R.value);if(this._hasViewInitialized?R._valuetext.set(j):R._hostElement.setAttribute("aria-valuetext",j),this.discrete){R.thumbPosition===K.START?this.startValueIndicatorText=j:this.endValueIndicatorText=j;const he=this._getThumb(R.thumbPosition);j.length<3?he._hostElement.classList.add("mdc-slider__thumb--short-value"):he._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const R=this._getInput(K.END),j=this._getInput(K.START);R&&this._updateValueIndicatorUI(R),j&&this._updateValueIndicatorUI(j)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const R=this._step&&this._step>0?this._step:1,he=(Math.floor(this.max/R)*R-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*he-6}_updateTrackUI(R){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(R):this._updateTrackUINonRange(R))}_updateTrackUIRange(R){const j=R.getSibling();if(!j||!this._cachedWidth)return;const he=Math.abs(j.translateX-R.translateX)/this._cachedWidth;this._setTrackActiveStyles(R._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-j.translateX+"px",transformOrigin:"right",transform:`scaleX(${he})`}:{left:`${j.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${he})`})}_updateTrackUINonRange(R){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-R.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${R.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const R=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(R):this._updateTickMarkUINonRange(R),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(R){const j=this._getValue();let he=Math.max(Math.floor((j-this.min)/R),0),Ce=Math.max(Math.floor((this.max-j)/R),0);this._isRtl?he++:Ce++,this._tickMarks=Array(he).fill(V.ACTIVE).concat(Array(Ce).fill(V.INACTIVE))}_updateTickMarkUIRange(R){const j=this._getValue(),he=this._getValue(K.START),Ce=Math.max(Math.floor((he-this.min)/R),0),Re=Math.max(Math.floor((j-he)/R)+1,0),pt=Math.max(Math.floor((this.max-j)/R),0);this._tickMarks=Array(Ce).fill(V.INACTIVE).concat(Array(Re).fill(V.ACTIVE),Array(pt).fill(V.INACTIVE))}_getInput(R){return R===K.END&&this._input?this._input:this._inputs?.length?R===K.START?this._inputs.first:this._inputs.last:void 0}_getThumb(R){return R===K.END?this._thumbs?.last:this._thumbs?.first}_setTransition(R){this._hasAnimation=!this._platform.IOS&&R&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(R,j){const he=j.width/2,zt=R.clientY-(j.y+he);return Math.pow(R.clientX-(j.x+he),2)+Math.pow(zt,2)<Math.pow(he,2)}}return(ht=Bt).\u0275fac=function(R){return new(R||ht)(f.rXU(f.SKi),f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(i.dS,8),f.rXU(C.$E,8),f.rXU(f.bc$,8))},ht.\u0275cmp=f.VBU({type:ht,selectors:[["mat-slider"]],contentQueries:function(R,j,he){if(1&R&&(f.wni(he,J,5),f.wni(he,te,4)),2&R){let Ce;f.mGM(Ce=f.lsd())&&(j._input=Ce.first),f.mGM(Ce=f.lsd())&&(j._inputs=Ce)}},viewQuery:function(R,j){if(1&R&&(f.GBs(U,5),f.GBs(ae,5)),2&R){let he;f.mGM(he=f.lsd())&&(j._trackActive=he.first),f.mGM(he=f.lsd())&&(j._thumbs=he)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(R,j){2&R&&(f.HbH("mat-"+(j.color||"primary")),f.AVh("mdc-slider--range",j._isRange)("mdc-slider--disabled",j.disabled)("mdc-slider--discrete",j.discrete)("mdc-slider--tick-marks",j.showTickMarks)("_mat-animation-noopable",j._noopAnimations))},inputs:{disabled:[f.Mj6.HasDecoratorInputTransform,"disabled","disabled",f.L39],discrete:[f.Mj6.HasDecoratorInputTransform,"discrete","discrete",f.L39],showTickMarks:[f.Mj6.HasDecoratorInputTransform,"showTickMarks","showTickMarks",f.L39],min:[f.Mj6.HasDecoratorInputTransform,"min","min",f.Udg],color:"color",disableRipple:[f.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",f.L39],max:[f.Mj6.HasDecoratorInputTransform,"max","max",f.Udg],step:[f.Mj6.HasDecoratorInputTransform,"step","step",f.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[f.Jv_([{provide:Z,useExisting:ht}]),f.GFd,f.aNF],ngContentSelectors:P,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(R,j){1&R&&(f.NAR(),f.SdG(0),f.j41(1,"div",2),f.nrm(2,"div",3),f.j41(3,"div",4),f.nrm(4,"div",5,0),f.k0s(),f.DNE(6,M,3,1,"div",6),f.k0s(),f.DNE(7,G,1,3,"mat-slider-visual-thumb",7),f.nrm(8,"mat-slider-visual-thumb",7)),2&R&&(f.R7$(6),f.vxM(6,j.showTickMarks?6:-1),f.R7$(),f.vxM(7,j._isRange?7:-1),f.R7$(),f.Y8G("discrete",j.discrete)("thumbPosition",2)("valueIndicatorText",j.endValueIndicatorText))},dependencies:[$],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),Bt})();const ce={provide:x.kq,useExisting:(0,f.Rfq)(()=>Ue),multi:!0};let Ue=(()=>{var ht;class Bt{get value(){return(0,f.Udg)(this._hostElement.value,0)}set value(R){const j=(R=isNaN(R)?0:R)+"";this._hasSetInitialValue?this._isActive||this._setValue(j):this._initialValue=j}_setValue(R){this._hostElement.value=R,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(R){this._translateX=R}get min(){return(0,f.Udg)(this._hostElement.min,0)}set min(R){this._hostElement.min=R+"",this._cdr.detectChanges()}get max(){return(0,f.Udg)(this._hostElement.max,0)}set max(R){this._hostElement.max=R+"",this._cdr.detectChanges()}get step(){return(0,f.Udg)(this._hostElement.step,0)}set step(R){this._hostElement.step=R+"",this._cdr.detectChanges()}get disabled(){return(0,f.L39)(this._hostElement.disabled)}set disabled(R){this._hostElement.disabled=R,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(R){this._isFocused=R}constructor(R,j,he,Ce){this._ngZone=R,this._elementRef=j,this._cdr=he,this._slider=Ce,this.valueChange=new f.bkB,this.dragStart=new f.bkB,this.dragEnd=new f.bkB,this.thumbPosition=K.END,this._valuetext=(0,f.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new w.B,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,f.WQX)(u.OD),this._hostElement=j.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(R){if(!this.disabled&&0===R.button){if(this._platform.IOS){const j=this._slider._isCursorOnSliderThumb(R,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=j,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(R,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(R),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(R){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(R)},0)}_fixValue(R){const j=R.clientX-this._slider._cachedLeft,he=this._slider._cachedWidth,Ce=0===this._slider.step?1:this._slider.step,Re=Math.floor((this._slider.max-this._slider.min)/Ce),Mn=Math.round((this._slider._isRtl?1-j/he:j/he)*Re)/Re*(this._slider.max-this._slider.min)+this._slider.min,It=Math.round(Mn/Ce)*Ce;if(It===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(R,{withAnimation:this._slider._hasAnimation}));this.value=It,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(R,{withAnimation:this._slider._hasAnimation})}_onPointerMove(R){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(R)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(R){const j=this._tickMarkOffset;return Math.max(Math.min(R,this._slider._cachedWidth-this._tickMarkOffset),j)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(R){return R.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(R){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(R)}_updateThumbUIByPointerEvent(R,j){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(R)),this._updateThumbUI(j)}_updateThumbUI(R){this._slider._setTransition(!!R?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(R){(this._isControlInitialized||null!==R)&&(this.value=R)}registerOnChange(R){this._onChangeFn=R,this._isControlInitialized=!0}registerOnTouched(R){this._onTouchedFn=R}setDisabledState(R){this.disabled=R}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return(ht=Bt).\u0275fac=function(R){return new(R||ht)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(Z))},ht.\u0275dir=f.FsC({type:ht,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(R,j){1&R&&f.bIt("change",function(){return j._onChange()})("input",function(){return j._onInput()})("blur",function(){return j._onBlur()})("focus",function(){return j._onFocus()}),2&R&&f.BMQ("aria-valuetext",j._valuetext())},inputs:{value:[f.Mj6.HasDecoratorInputTransform,"value","value",f.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[f.Jv_([ce,{provide:J,useExisting:ht}]),f.GFd]}),Bt})(),_e=(()=>{var ht;class Bt{}return(ht=Bt).\u0275fac=function(R){return new(R||ht)},ht.\u0275mod=f.$C({type:ht}),ht.\u0275inj=f.G2t({imports:[C.yE,C.pZ]}),Bt})()},95416:(en,Ve,E)=>{"use strict";E.d(Ve,{UG:()=>Ue,_T:()=>_e,x6:()=>Oe});var i=E(54438),u=E(88834),f=E(85052),C=E(60177),x=E(49969),w=E(76939),d=E(36860),k=E(18617),S=E(99327),U=E(47987),P=E(37925),y=E(86600);function v(ht,Bt){if(1&ht){const de=i.RV6();i.j41(0,"div",1)(1,"button",2),i.bIt("click",function(){i.eBV(de);const j=i.XpG();return i.Njj(j.action())}),i.EFF(2),i.k0s()()}if(2&ht){const de=i.XpG();i.R7$(2),i.SpI(" ",de.data.action," ")}}const M=["label"];function G(ht,Bt){}const K=Math.pow(2,31)-1;class V{constructor(Bt,de){this._overlayRef=de,this._afterDismissed=new f.B,this._afterOpened=new f.B,this._onAction=new f.B,this._dismissedByAction=!1,this.containerInstance=Bt,Bt._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Bt){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Bt,K))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Z=new i.nKC("MatSnackBarData");class J{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let te=(()=>{var ht;class Bt{}return(ht=Bt).\u0275fac=function(R){return new(R||ht)},ht.\u0275dir=i.FsC({type:ht,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0}),Bt})(),ae=(()=>{var ht;class Bt{}return(ht=Bt).\u0275fac=function(R){return new(R||ht)},ht.\u0275dir=i.FsC({type:ht,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0}),Bt})(),Y=(()=>{var ht;class Bt{}return(ht=Bt).\u0275fac=function(R){return new(R||ht)},ht.\u0275dir=i.FsC({type:ht,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0}),Bt})(),$=(()=>{var ht;class Bt{constructor(R,j){this.snackBarRef=R,this.data=j}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(ht=Bt).\u0275fac=function(R){return new(R||ht)(i.rXU(V),i.rXU(Z))},ht.\u0275cmp=i.VBU({type:ht,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[i.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(R,j){1&R&&(i.j41(0,"div",0),i.EFF(1),i.k0s(),i.DNE(2,v,3,1,"div",1)),2&R&&(i.R7$(),i.SpI(" ",j.data.message,"\n"),i.R7$(),i.vxM(2,j.hasAction?2:-1))},dependencies:[u.$z,te,ae,Y],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),Bt})();const H={snackBarState:(0,x.hZ)("state",[(0,x.wk)("void, hidden",(0,x.iF)({transform:"scale(0.8)",opacity:0})),(0,x.wk)("visible",(0,x.iF)({transform:"scale(1)",opacity:1})),(0,x.kY)("* => visible",(0,x.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,x.kY)("* => void, * => hidden",(0,x.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,x.iF)({opacity:0})))])};let me=0,B=(()=>{var ht;class Bt extends w.lb{constructor(R,j,he,Ce,Re){super(),this._ngZone=R,this._elementRef=j,this._changeDetectorRef=he,this._platform=Ce,this.snackBarConfig=Re,this._document=(0,i.WQX)(C.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new f.B,this._onExit=new f.B,this._onEnter=new f.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+me++,this.attachDomPortal=pt=>{this._assertNotAttached();const zt=this._portalOutlet.attachDomPortal(pt);return this._afterPortalAttached(),zt},this._live="assertive"!==Re.politeness||Re.announcementMessage?"off"===Re.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(R){this._assertNotAttached();const j=this._portalOutlet.attachComponentPortal(R);return this._afterPortalAttached(),j}attachTemplatePortal(R){this._assertNotAttached();const j=this._portalOutlet.attachTemplatePortal(R);return this._afterPortalAttached(),j}onAnimationEnd(R){const{fromState:j,toState:he}=R;if(("void"===he&&"void"!==j||"hidden"===he)&&this._completeExit(),"visible"===he){const Ce=this._onEnter;this._ngZone.run(()=>{Ce.next(),Ce.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const R=this._elementRef.nativeElement,j=this.snackBarConfig.panelClass;j&&(Array.isArray(j)?j.forEach(Re=>R.classList.add(Re)):R.classList.add(j)),this._exposeToModals();const he=this._label.nativeElement,Ce="mdc-snackbar__label";he.classList.toggle(Ce,!he.querySelector(`.${Ce}`))}_exposeToModals(){const R=this._liveElementId,j=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let he=0;he<j.length;he++){const Ce=j[he],Re=Ce.getAttribute("aria-owns");this._trackedModals.add(Ce),Re?-1===Re.indexOf(R)&&Ce.setAttribute("aria-owns",Re+" "+R):Ce.setAttribute("aria-owns",R)}}_clearFromModals(){this._trackedModals.forEach(R=>{const j=R.getAttribute("aria-owns");if(j){const he=j.replace(this._liveElementId,"").trim();he.length>0?R.setAttribute("aria-owns",he):R.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const R=this._elementRef.nativeElement.querySelector("[aria-hidden]"),j=this._elementRef.nativeElement.querySelector("[aria-live]");if(R&&j){let he=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&R.contains(document.activeElement)&&(he=document.activeElement),R.removeAttribute("aria-hidden"),j.appendChild(R),he?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(ht=Bt).\u0275fac=function(R){return new(R||ht)(i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.gRc),i.rXU(d.OD),i.rXU(J))},ht.\u0275cmp=i.VBU({type:ht,selectors:[["mat-snack-bar-container"]],viewQuery:function(R,j){if(1&R&&(i.GBs(w.I3,7),i.GBs(M,7)),2&R){let he;i.mGM(he=i.lsd())&&(j._portalOutlet=he.first),i.mGM(he=i.lsd())&&(j._label=he.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(R,j){1&R&&i.Kam("@state.done",function(Ce){return j.onAnimationEnd(Ce)}),2&R&&i.zvX("@state",j._animationState)},standalone:!0,features:[i.Vt3,i.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(R,j){1&R&&(i.j41(0,"div",1)(1,"div",2,0)(3,"div",3),i.DNE(4,G,0,0,"ng-template",4),i.k0s(),i.nrm(5,"div"),i.k0s()()),2&R&&(i.R7$(5),i.BMQ("aria-live",j._live)("role",j._role)("id",j._liveElementId))},dependencies:[w.I3],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[H.snackBarState]}}),Bt})();const Oe=new i.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function ce(){return new J}});let Ue=(()=>{var ht;class Bt{get _openedSnackBarRef(){const R=this._parentSnackBar;return R?R._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(R){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=R:this._snackBarRefAtThisLevel=R}constructor(R,j,he,Ce,Re,pt){this._overlay=R,this._live=j,this._injector=he,this._breakpointObserver=Ce,this._parentSnackBar=Re,this._defaultConfig=pt,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=$,this.snackBarContainerComponent=B,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(R,j){return this._attach(R,j)}openFromTemplate(R,j){return this._attach(R,j)}open(R,j="",he){const Ce={...this._defaultConfig,...he};return Ce.data={message:R,action:j},Ce.announcementMessage===R&&(Ce.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ce)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(R,j){const Ce=i.zZn.create({parent:j&&j.viewContainerRef&&j.viewContainerRef.injector||this._injector,providers:[{provide:J,useValue:j}]}),Re=new w.A8(this.snackBarContainerComponent,j.viewContainerRef,Ce),pt=R.attach(Re);return pt.instance.snackBarConfig=j,pt.instance}_attach(R,j){const he={...new J,...this._defaultConfig,...j},Ce=this._createOverlay(he),Re=this._attachSnackBarContainer(Ce,he),pt=new V(Re,Ce);if(R instanceof i.C4Q){const zt=new w.VA(R,null,{$implicit:he.data,snackBarRef:pt});pt.instance=Re.attachTemplatePortal(zt)}else{const zt=this._createInjector(he,pt),Mn=new w.A8(R,void 0,zt),It=Re.attachComponentPortal(Mn);pt.instance=It.instance}return this._breakpointObserver.observe(S.Rp.HandsetPortrait).pipe((0,P.Q)(Ce.detachments())).subscribe(zt=>{Ce.overlayElement.classList.toggle(this.handsetCssClass,zt.matches)}),he.announcementMessage&&Re._onAnnounce.subscribe(()=>{this._live.announce(he.announcementMessage,he.politeness)}),this._animateSnackBar(pt,he),this._openedSnackBarRef=pt,this._openedSnackBarRef}_animateSnackBar(R,j){R.afterDismissed().subscribe(()=>{this._openedSnackBarRef==R&&(this._openedSnackBarRef=null),j.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{R.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):R.containerInstance.enter(),j.duration&&j.duration>0&&R.afterOpened().subscribe(()=>R._dismissAfter(j.duration))}_createOverlay(R){const j=new U.rR;j.direction=R.direction;let he=this._overlay.position().global();const Ce="rtl"===R.direction,Re="left"===R.horizontalPosition||"start"===R.horizontalPosition&&!Ce||"end"===R.horizontalPosition&&Ce,pt=!Re&&"center"!==R.horizontalPosition;return Re?he.left("0"):pt?he.right("0"):he.centerHorizontally(),"top"===R.verticalPosition?he.top("0"):he.bottom("0"),j.positionStrategy=he,this._overlay.create(j)}_createInjector(R,j){return i.zZn.create({parent:R&&R.viewContainerRef&&R.viewContainerRef.injector||this._injector,providers:[{provide:V,useValue:j},{provide:Z,useValue:R.data}]})}}return(ht=Bt).\u0275fac=function(R){return new(R||ht)(i.KVO(U.hJ),i.KVO(k.Ai),i.KVO(i.zZn),i.KVO(S.QP),i.KVO(ht,12),i.KVO(Oe))},ht.\u0275prov=i.jDH({token:ht,factory:ht.\u0275fac,providedIn:"root"}),Bt})(),_e=(()=>{var ht;class Bt{}return(ht=Bt).\u0275fac=function(R){return new(R||ht)},ht.\u0275mod=i.$C({type:ht}),ht.\u0275inj=i.G2t({providers:[Ue],imports:[U.z_,w.jc,u.Hl,y.yE,$,y.yE]}),Bt})()},55911:(en,Ve,E)=>{"use strict";E.d(Ve,{s5:()=>k});var i=E(54438),u=E(86600);let k=(()=>{var S;class U{}return(S=U).\u0275fac=function(y){return new(y||S)},S.\u0275mod=i.$C({type:S}),S.\u0275inj=i.G2t({imports:[u.yE,u.yE]}),U})()},14823:(en,Ve,E)=>{"use strict";E.d(Ve,{oV:()=>_e,sM:()=>$,uc:()=>de,zi:()=>Y});var i=E(37925),u=E(17365),f=E(14085),C=E(67336),x=E(54438),w=E(60177),d=E(36860),k=E(18617),S=E(28203),U=E(47987),P=E(65478),y=E(76939),v=E(85052),G=(E(49969),E(86600));const K=["tooltip"],J=new x.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const R=(0,x.WQX)(U.hJ);return()=>R.scrollStrategies.reposition({scrollThrottle:20})}}),ae={provide:J,deps:[U.hJ],useFactory:function te(R){return()=>R.scrollStrategies.reposition({scrollThrottle:20})}};function Y(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}const $=new x.nKC("mat-tooltip-default-options",{providedIn:"root",factory:Y}),me="tooltip-panel",B=(0,d.BQ)({passive:!0});let _e=(()=>{var R;class j{get position(){return this._position}set position(Ce){Ce!==this._position&&(this._position=Ce,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(Ce){this._positionAtOrigin=(0,f.he)(Ce),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(Ce){this._disabled=(0,f.he)(Ce),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Ce){this._showDelay=(0,f.OE)(Ce)}get hideDelay(){return this._hideDelay}set hideDelay(Ce){this._hideDelay=(0,f.OE)(Ce),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Ce){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Ce?String(Ce).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Ce){this._tooltipClass=Ce,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(Ce,Re,pt,zt,Mn,It,Ne,Xe,Ot,re,D,F){this._overlay=Ce,this._elementRef=Re,this._scrollDispatcher=pt,this._viewContainerRef=zt,this._ngZone=Mn,this._platform=It,this._ariaDescriber=Ne,this._focusMonitor=Xe,this._dir=re,this._defaultOptions=D,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=ht,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new v.B,this._scrollStrategy=Ot,this._document=F,D&&(this._showDelay=D.showDelay,this._hideDelay=D.hideDelay,D.position&&(this.position=D.position),D.positionAtOrigin&&(this.positionAtOrigin=D.positionAtOrigin),D.touchGestures&&(this.touchGestures=D.touchGestures)),re.change.pipe((0,i.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,i.Q)(this._destroyed)).subscribe(Ce=>{Ce?"keyboard"===Ce&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Ce=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Re,pt])=>{Ce.removeEventListener(Re,pt,B)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Ce,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Ce)}show(Ce=this.showDelay,Re){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const pt=this._createOverlay(Re);this._detach(),this._portal=this._portal||new y.A8(this._tooltipComponent,this._viewContainerRef);const zt=this._tooltipInstance=pt.attach(this._portal).instance;zt._triggerElement=this._elementRef.nativeElement,zt._mouseLeaveHideDelay=this._hideDelay,zt.afterHidden().pipe((0,i.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),zt.show(Ce)}hide(Ce=this.hideDelay){const Re=this._tooltipInstance;Re&&(Re.isVisible()?Re.hide(Ce):(Re._cancelPendingAnimations(),this._detach()))}toggle(Ce){this._isTooltipVisible()?this.hide():this.show(void 0,Ce)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(Ce){if(this._overlayRef){const zt=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!Ce)&&zt._origin instanceof x.aKT)return this._overlayRef;this._detach()}const Re=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),pt=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&Ce||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Re);return pt.positionChanges.pipe((0,i.Q)(this._destroyed)).subscribe(zt=>{this._updateCurrentPositionClass(zt.connectionPair),this._tooltipInstance&&zt.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:pt,panelClass:`${this._cssClassPrefix}-${me}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,i.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,i.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,i.Q)(this._destroyed)).subscribe(zt=>{this._isTooltipVisible()&&zt.keyCode===C._f&&!(0,C.rp)(zt)&&(zt.preventDefault(),zt.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Ce){const Re=Ce.getConfig().positionStrategy,pt=this._getOrigin(),zt=this._getOverlayPosition();Re.withPositions([this._addOffset({...pt.main,...zt.main}),this._addOffset({...pt.fallback,...zt.fallback})])}_addOffset(Ce){const pt=!this._dir||"ltr"==this._dir.value;return"top"===Ce.originY?Ce.offsetY=-8:"bottom"===Ce.originY?Ce.offsetY=8:"start"===Ce.originX?Ce.offsetX=pt?-8:8:"end"===Ce.originX&&(Ce.offsetX=pt?8:-8),Ce}_getOrigin(){const Ce=!this._dir||"ltr"==this._dir.value,Re=this.position;let pt;"above"==Re||"below"==Re?pt={originX:"center",originY:"above"==Re?"top":"bottom"}:"before"==Re||"left"==Re&&Ce||"right"==Re&&!Ce?pt={originX:"start",originY:"center"}:("after"==Re||"right"==Re&&Ce||"left"==Re&&!Ce)&&(pt={originX:"end",originY:"center"});const{x:zt,y:Mn}=this._invertPosition(pt.originX,pt.originY);return{main:pt,fallback:{originX:zt,originY:Mn}}}_getOverlayPosition(){const Ce=!this._dir||"ltr"==this._dir.value,Re=this.position;let pt;"above"==Re?pt={overlayX:"center",overlayY:"bottom"}:"below"==Re?pt={overlayX:"center",overlayY:"top"}:"before"==Re||"left"==Re&&Ce||"right"==Re&&!Ce?pt={overlayX:"end",overlayY:"center"}:("after"==Re||"right"==Re&&Ce||"left"==Re&&!Ce)&&(pt={overlayX:"start",overlayY:"center"});const{x:zt,y:Mn}=this._invertPosition(pt.overlayX,pt.overlayY);return{main:pt,fallback:{overlayX:zt,overlayY:Mn}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,u.s)(1),(0,i.Q)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Ce){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Ce,this._tooltipInstance._markForCheck())}_invertPosition(Ce,Re){return"above"===this.position||"below"===this.position?"top"===Re?Re="bottom":"bottom"===Re&&(Re="top"):"end"===Ce?Ce="start":"start"===Ce&&(Ce="end"),{x:Ce,y:Re}}_updateCurrentPositionClass(Ce){const{overlayY:Re,originX:pt,originY:zt}=Ce;let Mn;if(Mn="center"===Re?this._dir&&"rtl"===this._dir.value?"end"===pt?"left":"right":"start"===pt?"left":"right":"bottom"===Re&&"top"===zt?"above":"below",Mn!==this._currentPosition){const It=this._overlayRef;if(It){const Ne=`${this._cssClassPrefix}-${me}-`;It.removePanelClass(Ne+this._currentPosition),It.addPanelClass(Ne+Mn)}this._currentPosition=Mn}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",Ce=>{let Re;this._setupPointerExitEventsIfNeeded(),void 0!==Ce.x&&void 0!==Ce.y&&(Re=Ce),this.show(void 0,Re)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",Ce=>{const Re=Ce.targetTouches?.[0],pt=Re?{x:Re.clientX,y:Re.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,pt),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Ce=[];if(this._platformSupportsMouseEvents())Ce.push(["mouseleave",Re=>{const pt=Re.relatedTarget;(!pt||!this._overlayRef?.overlayElement.contains(pt))&&this.hide()}],["wheel",Re=>this._wheelListener(Re)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Re=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Ce.push(["touchend",Re],["touchcancel",Re])}this._addListeners(Ce),this._passiveListeners.push(...Ce)}_addListeners(Ce){Ce.forEach(([Re,pt])=>{this._elementRef.nativeElement.addEventListener(Re,pt,B)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Ce){if(this._isTooltipVisible()){const Re=this._document.elementFromPoint(Ce.clientX,Ce.clientY),pt=this._elementRef.nativeElement;Re!==pt&&!pt.contains(Re)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Ce=this.touchGestures;if("off"!==Ce){const Re=this._elementRef.nativeElement,pt=Re.style;("on"===Ce||"INPUT"!==Re.nodeName&&"TEXTAREA"!==Re.nodeName)&&(pt.userSelect=pt.msUserSelect=pt.webkitUserSelect=pt.MozUserSelect="none"),("on"===Ce||!Re.draggable)&&(pt.webkitUserDrag="none"),pt.touchAction="none",pt.webkitTapHighlightColor="transparent"}}}return(R=j).\u0275fac=function(Ce){return new(Ce||R)(x.rXU(U.hJ),x.rXU(x.aKT),x.rXU(P.R),x.rXU(x.c1b),x.rXU(x.SKi),x.rXU(d.OD),x.rXU(k.vr),x.rXU(k.FN),x.rXU(J),x.rXU(S.dS),x.rXU($,8),x.rXU(w.qQ))},R.\u0275dir=x.FsC({type:R,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Ce,Re){2&Ce&&x.AVh("mat-mdc-tooltip-disabled",Re.disabled)},inputs:{position:[x.Mj6.None,"matTooltipPosition","position"],positionAtOrigin:[x.Mj6.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[x.Mj6.None,"matTooltipDisabled","disabled"],showDelay:[x.Mj6.None,"matTooltipShowDelay","showDelay"],hideDelay:[x.Mj6.None,"matTooltipHideDelay","hideDelay"],touchGestures:[x.Mj6.None,"matTooltipTouchGestures","touchGestures"],message:[x.Mj6.None,"matTooltip","message"],tooltipClass:[x.Mj6.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0}),j})(),ht=(()=>{var R;class j{constructor(Ce,Re,pt){this._changeDetectorRef=Ce,this._elementRef=Re,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new v.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===pt}show(Ce){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Ce)}hide(Ce){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Ce)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Ce}){(!Ce||!this._triggerElement.contains(Ce))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const Ce=this._elementRef.nativeElement.getBoundingClientRect();return Ce.height>24&&Ce.width>=200}_handleAnimationEnd({animationName:Ce}){(Ce===this._showAnimation||Ce===this._hideAnimation)&&this._finalizeAnimation(Ce===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(Ce){Ce?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Ce){const Re=this._tooltip.nativeElement,pt=this._showAnimation,zt=this._hideAnimation;if(Re.classList.remove(Ce?zt:pt),Re.classList.add(Ce?pt:zt),this._isVisible!==Ce&&(this._isVisible=Ce,this._changeDetectorRef.markForCheck()),Ce&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Mn=getComputedStyle(Re);("0s"===Mn.getPropertyValue("animation-duration")||"none"===Mn.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Ce&&this._onShow(),this._animationsDisabled&&(Re.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Ce))}}return(R=j).\u0275fac=function(Ce){return new(Ce||R)(x.rXU(x.gRc),x.rXU(x.aKT),x.rXU(x.bc$,8))},R.\u0275cmp=x.VBU({type:R,selectors:[["mat-tooltip-component"]],viewQuery:function(Ce,Re){if(1&Ce&&x.GBs(K,7),2&Ce){let pt;x.mGM(pt=x.lsd())&&(Re._tooltip=pt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Ce,Re){1&Ce&&x.bIt("mouseleave",function(zt){return Re._handleMouseLeave(zt)}),2&Ce&&x.xc7("zoom",Re.isVisible()?1:null)},standalone:!0,features:[x.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Ce,Re){if(1&Ce){const pt=x.RV6();x.j41(0,"div",1,0),x.bIt("animationend",function(Mn){return x.eBV(pt),x.Njj(Re._handleAnimationEnd(Mn))}),x.j41(2,"div",2),x.EFF(3),x.k0s()()}2&Ce&&(x.AVh("mdc-tooltip--multiline",Re._isMultiline),x.Y8G("ngClass",Re.tooltipClass),x.R7$(3),x.JRh(Re.message))},dependencies:[w.YU],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),j})(),de=(()=>{var R;class j{}return(R=j).\u0275fac=function(Ce){return new(Ce||R)},R.\u0275mod=x.$C({type:R}),R.\u0275inj=x.G2t({providers:[ae],imports:[k.Pd,w.MD,U.z_,G.yE,G.yE,P.Gj]}),j})()},728:(en,Ve,E)=>{"use strict";E.d(Ve,{wb:()=>fe});var i=E(54438),u=E(345),f=E(49969);function d(wt){return new i.wOt(3e3,!1)}function Ne(wt){switch(wt.length){case 0:return new f.sf;case 1:return wt[0];default:return new f.ui(wt)}}function Xe(wt,Q,be=new Map,Ke=new Map){const $t=[],Sn=[];let Xn=-1,yr=null;if(Q.forEach(Vr=>{const ci=Vr.get("offset"),di=ci==Xn,Lr=di&&yr||new Map;Vr.forEach((wi,Zi)=>{let Ui=Zi,pe=wi;if("offset"!==Zi)switch(Ui=wt.normalizePropertyName(Ui,$t),pe){case f.FX:pe=be.get(Zi);break;case f.kp:pe=Ke.get(Zi);break;default:pe=wt.normalizeStyleValue(Zi,Ui,pe,$t)}Lr.set(Ui,pe)}),di||Sn.push(Lr),yr=Lr,Xn=ci}),$t.length)throw function _e(wt){return new i.wOt(3502,!1)}();return Sn}function Ot(wt,Q,be,Ke){switch(Q){case"start":wt.onStart(()=>Ke(be&&re(be,"start",wt)));break;case"done":wt.onDone(()=>Ke(be&&re(be,"done",wt)));break;case"destroy":wt.onDestroy(()=>Ke(be&&re(be,"destroy",wt)))}}function re(wt,Q,be){const Sn=D(wt.element,wt.triggerName,wt.fromState,wt.toState,Q||wt.phaseName,be.totalTime??wt.totalTime,!!be.disabled),Xn=wt._data;return null!=Xn&&(Sn._data=Xn),Sn}function D(wt,Q,be,Ke,$t="",Sn=0,Xn){return{element:wt,triggerName:Q,fromState:be,toState:Ke,phaseName:$t,totalTime:Sn,disabled:!!Xn}}function F(wt,Q,be){let Ke=wt.get(Q);return Ke||wt.set(Q,Ke=be),Ke}function T(wt){const Q=wt.indexOf(":");return[wt.substring(1,Q),wt.slice(Q+1)]}const W=typeof document>"u"?null:document.documentElement;function z(wt){const Q=wt.parentNode||wt.host||null;return Q===W?null:Q}let I=null,Ae=!1;function ge(wt,Q){for(;Q;){if(Q===wt)return!0;Q=z(Q)}return!1}function et(wt,Q,be){if(be)return Array.from(wt.querySelectorAll(Q));const Ke=wt.querySelector(Q);return Ke?[Ke]:[]}let Rt=(()=>{var wt;class Q{validateStyleProperty(Ke){return function se(wt){I||(I=function ve(){return typeof document<"u"?document.body:null}()||{},Ae=!!I.style&&"WebkitAppearance"in I.style);let Q=!0;return I.style&&!function p(wt){return"ebkit"==wt.substring(1,6)}(wt)&&(Q=wt in I.style,!Q&&Ae&&(Q="Webkit"+wt.charAt(0).toUpperCase()+wt.slice(1)in I.style)),Q}(Ke)}matchesElement(Ke,$t){return!1}containsElement(Ke,$t){return ge(Ke,$t)}getParentElement(Ke){return z(Ke)}query(Ke,$t,Sn){return et(Ke,$t,Sn)}computeStyle(Ke,$t,Sn){return Sn||""}animate(Ke,$t,Sn,Xn,yr,Vr=[],ci){return new f.sf(Sn,Xn)}}return(wt=Q).\u0275fac=function(Ke){return new(Ke||wt)},wt.\u0275prov=i.jDH({token:wt,factory:wt.\u0275fac}),Q})();class ln{}ln.NOOP=new Rt;class je{}const ut=1e3,lt="ng-enter",bt="ng-leave",He="ng-trigger",ye=".ng-trigger",mt="ng-animating",rt=".ng-animating";function Kt(wt){if("number"==typeof wt)return wt;const Q=wt.match(/^(-?[\.\d]+)(m?s)/);return!Q||Q.length<2?0:Dn(parseFloat(Q[1]),Q[2])}function Dn(wt,Q){return"s"===Q?wt*ut:wt}function Jn(wt,Q,be){return wt.hasOwnProperty("duration")?wt:function lr(wt,Q,be){let $t,Sn=0,Xn="";if("string"==typeof wt){const yr=wt.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===yr)return Q.push(d()),{duration:0,delay:0,easing:""};$t=Dn(parseFloat(yr[1]),yr[2]);const Vr=yr[3];null!=Vr&&(Sn=Dn(parseFloat(Vr),yr[4]));const ci=yr[5];ci&&(Xn=ci)}else $t=wt;if(!be){let yr=!1,Vr=Q.length;$t<0&&(Q.push(function k(){return new i.wOt(3100,!1)}()),yr=!0),Sn<0&&(Q.push(function S(){return new i.wOt(3101,!1)}()),yr=!0),yr&&Q.splice(Vr,0,d())}return{duration:$t,delay:Sn,easing:Xn}}(wt,Q,be)}function Et(wt,Q,be){Q.forEach((Ke,$t)=>{const Sn=it($t);be&&!be.has($t)&&be.set($t,wt.style[Sn]),wt.style[Sn]=Ke})}function xt(wt,Q){Q.forEach((be,Ke)=>{const $t=it(Ke);wt.style[$t]=""})}function gt(wt){return Array.isArray(wt)?1==wt.length?wt[0]:(0,f.K2)(wt):wt}const Xt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ye(wt){let Q=[];if("string"==typeof wt){let be;for(;be=Xt.exec(wt);)Q.push(be[1]);Xt.lastIndex=0}return Q}function Vt(wt,Q,be){const Ke=`${wt}`,$t=Ke.replace(Xt,(Sn,Xn)=>{let yr=Q[Xn];return null==yr&&(be.push(function P(wt){return new i.wOt(3003,!1)}()),yr=""),yr.toString()});return $t==Ke?wt:$t}const En=/-+([a-z0-9])/g;function it(wt){return wt.replace(En,(...Q)=>Q[1].toUpperCase())}function Tt(wt,Q,be){switch(Q.type){case f.If.Trigger:return wt.visitTrigger(Q,be);case f.If.State:return wt.visitState(Q,be);case f.If.Transition:return wt.visitTransition(Q,be);case f.If.Sequence:return wt.visitSequence(Q,be);case f.If.Group:return wt.visitGroup(Q,be);case f.If.Animate:return wt.visitAnimate(Q,be);case f.If.Keyframes:return wt.visitKeyframes(Q,be);case f.If.Style:return wt.visitStyle(Q,be);case f.If.Reference:return wt.visitReference(Q,be);case f.If.AnimateChild:return wt.visitAnimateChild(Q,be);case f.If.AnimateRef:return wt.visitAnimateRef(Q,be);case f.If.Query:return wt.visitQuery(Q,be);case f.If.Stagger:return wt.visitStagger(Q,be);default:throw function y(wt){return new i.wOt(3004,!1)}()}}function wn(wt,Q){return window.getComputedStyle(wt)[Q]}const In=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class dr extends je{normalizePropertyName(Q,be){return it(Q)}normalizeStyleValue(Q,be,Ke,$t){let Sn="";const Xn=Ke.toString().trim();if(In.has(be)&&0!==Ke&&"0"!==Ke)if("number"==typeof Ke)Sn="px";else{const yr=Ke.match(/^[+-]?[\d\.]+([a-z]*)$/);yr&&0==yr[1].length&&$t.push(function v(wt,Q){return new i.wOt(3005,!1)}())}return Xn+Sn}}const uo="*";const Li=new Set(["true","1"]),ro=new Set(["false","0"]);function Pe(wt,Q){const be=Li.has(wt)||ro.has(wt),Ke=Li.has(Q)||ro.has(Q);return($t,Sn)=>{let Xn=wt==uo||wt==$t,yr=Q==uo||Q==Sn;return!Xn&&be&&"boolean"==typeof $t&&(Xn=$t?Li.has(wt):ro.has(wt)),!yr&&Ke&&"boolean"==typeof Sn&&(yr=Sn?Li.has(Q):ro.has(Q)),Xn&&yr}}const vn=new RegExp("s*:selfs*,?","g");function bn(wt,Q,be,Ke){return new nr(wt).build(Q,be,Ke)}class nr{constructor(Q){this._driver=Q}build(Q,be,Ke){const $t=new tt(be);return this._resetContextStyleTimingState($t),Tt(this,gt(Q),$t)}_resetContextStyleTimingState(Q){Q.currentQuerySelector="",Q.collectedStyles=new Map,Q.collectedStyles.set("",new Map),Q.currentTime=0}visitTrigger(Q,be){let Ke=be.queryCount=0,$t=be.depCount=0;const Sn=[],Xn=[];return"@"==Q.name.charAt(0)&&be.errors.push(function M(){return new i.wOt(3006,!1)}()),Q.definitions.forEach(yr=>{if(this._resetContextStyleTimingState(be),yr.type==f.If.State){const Vr=yr,ci=Vr.name;ci.toString().split(/\s*,\s*/).forEach(di=>{Vr.name=di,Sn.push(this.visitState(Vr,be))}),Vr.name=ci}else if(yr.type==f.If.Transition){const Vr=this.visitTransition(yr,be);Ke+=Vr.queryCount,$t+=Vr.depCount,Xn.push(Vr)}else be.errors.push(function G(){return new i.wOt(3007,!1)}())}),{type:f.If.Trigger,name:Q.name,states:Sn,transitions:Xn,queryCount:Ke,depCount:$t,options:null}}visitState(Q,be){const Ke=this.visitStyle(Q.styles,be),$t=Q.options&&Q.options.params||null;if(Ke.containsDynamicStyles){const Sn=new Set,Xn=$t||{};Ke.styles.forEach(yr=>{yr instanceof Map&&yr.forEach(Vr=>{Ye(Vr).forEach(ci=>{Xn.hasOwnProperty(ci)||Sn.add(ci)})})}),Sn.size&&be.errors.push(function K(wt,Q){return new i.wOt(3008,!1)}(0,Sn.values()))}return{type:f.If.State,name:Q.name,style:Ke,options:$t?{params:$t}:null}}visitTransition(Q,be){be.queryCount=0,be.depCount=0;const Ke=Tt(this,gt(Q.animation),be),$t=function Pi(wt,Q){const be=[];return"string"==typeof wt?wt.split(/\s*,\s*/).forEach(Ke=>function ti(wt,Q,be){if(":"==wt[0]){const Vr=function mr(wt,Q){switch(wt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(be,Ke)=>parseFloat(Ke)>parseFloat(be);case":decrement":return(be,Ke)=>parseFloat(Ke)<parseFloat(be);default:return Q.push(function ce(wt){return new i.wOt(3016,!1)}()),"* => *"}}(wt,be);if("function"==typeof Vr)return void Q.push(Vr);wt=Vr}const Ke=wt.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==Ke||Ke.length<4)return be.push(function B(wt){return new i.wOt(3015,!1)}()),Q;const $t=Ke[1],Sn=Ke[2],Xn=Ke[3];Q.push(Pe($t,Xn)),"<"==Sn[0]&&($t!=uo||Xn!=uo)&&Q.push(Pe(Xn,$t))}(Ke,be,Q)):be.push(wt),be}(Q.expr,be.errors);return{type:f.If.Transition,matchers:$t,animation:Ke,queryCount:be.queryCount,depCount:be.depCount,options:Ar(Q.options)}}visitSequence(Q,be){return{type:f.If.Sequence,steps:Q.steps.map(Ke=>Tt(this,Ke,be)),options:Ar(Q.options)}}visitGroup(Q,be){const Ke=be.currentTime;let $t=0;const Sn=Q.steps.map(Xn=>{be.currentTime=Ke;const yr=Tt(this,Xn,be);return $t=Math.max($t,be.currentTime),yr});return be.currentTime=$t,{type:f.If.Group,steps:Sn,options:Ar(Q.options)}}visitAnimate(Q,be){const Ke=function fr(wt,Q){if(wt.hasOwnProperty("duration"))return wt;if("number"==typeof wt)return zr(Jn(wt,Q).duration,0,"");const be=wt;if(be.split(/\s+/).some(Sn=>"{"==Sn.charAt(0)&&"{"==Sn.charAt(1))){const Sn=zr(0,0,"");return Sn.dynamic=!0,Sn.strValue=be,Sn}const $t=Jn(be,Q);return zr($t.duration,$t.delay,$t.easing)}(Q.timings,be.errors);be.currentAnimateTimings=Ke;let $t,Sn=Q.styles?Q.styles:(0,f.iF)({});if(Sn.type==f.If.Keyframes)$t=this.visitKeyframes(Sn,be);else{let Xn=Q.styles,yr=!1;if(!Xn){yr=!0;const ci={};Ke.easing&&(ci.easing=Ke.easing),Xn=(0,f.iF)(ci)}be.currentTime+=Ke.duration+Ke.delay;const Vr=this.visitStyle(Xn,be);Vr.isEmptyStep=yr,$t=Vr}return be.currentAnimateTimings=null,{type:f.If.Animate,timings:Ke,style:$t,options:null}}visitStyle(Q,be){const Ke=this._makeStyleAst(Q,be);return this._validateStyleAst(Ke,be),Ke}_makeStyleAst(Q,be){const Ke=[],$t=Array.isArray(Q.styles)?Q.styles:[Q.styles];for(let yr of $t)"string"==typeof yr?yr===f.kp?Ke.push(yr):be.errors.push(new i.wOt(3002,!1)):Ke.push(new Map(Object.entries(yr)));let Sn=!1,Xn=null;return Ke.forEach(yr=>{if(yr instanceof Map&&(yr.has("easing")&&(Xn=yr.get("easing"),yr.delete("easing")),!Sn))for(let Vr of yr.values())if(Vr.toString().indexOf("{{")>=0){Sn=!0;break}}),{type:f.If.Style,styles:Ke,easing:Xn,offset:Q.offset,containsDynamicStyles:Sn,options:null}}_validateStyleAst(Q,be){const Ke=be.currentAnimateTimings;let $t=be.currentTime,Sn=be.currentTime;Ke&&Sn>0&&(Sn-=Ke.duration+Ke.delay),Q.styles.forEach(Xn=>{"string"!=typeof Xn&&Xn.forEach((yr,Vr)=>{const ci=be.collectedStyles.get(be.currentQuerySelector),di=ci.get(Vr);let Lr=!0;di&&(Sn!=$t&&Sn>=di.startTime&&$t<=di.endTime&&(be.errors.push(function J(wt,Q,be,Ke,$t){return new i.wOt(3010,!1)}()),Lr=!1),Sn=di.startTime),Lr&&ci.set(Vr,{startTime:Sn,endTime:$t}),be.options&&function tn(wt,Q,be){const Ke=Q.params||{},$t=Ye(wt);$t.length&&$t.forEach(Sn=>{Ke.hasOwnProperty(Sn)||be.push(function U(wt){return new i.wOt(3001,!1)}())})}(yr,be.options,be.errors)})})}visitKeyframes(Q,be){const Ke={type:f.If.Keyframes,styles:[],options:null};if(!be.currentAnimateTimings)return be.errors.push(function te(){return new i.wOt(3011,!1)}()),Ke;let Sn=0;const Xn=[];let yr=!1,Vr=!1,ci=0;const di=Q.steps.map(Ge=>{const Mt=this._makeStyleAst(Ge,be);let Lt=null!=Mt.offset?Mt.offset:function un(wt){if("string"==typeof wt)return null;let Q=null;if(Array.isArray(wt))wt.forEach(be=>{if(be instanceof Map&&be.has("offset")){const Ke=be;Q=parseFloat(Ke.get("offset")),Ke.delete("offset")}});else if(wt instanceof Map&&wt.has("offset")){const be=wt;Q=parseFloat(be.get("offset")),be.delete("offset")}return Q}(Mt.styles),pn=0;return null!=Lt&&(Sn++,pn=Mt.offset=Lt),Vr=Vr||pn<0||pn>1,yr=yr||pn<ci,ci=pn,Xn.push(pn),Mt});Vr&&be.errors.push(function ae(){return new i.wOt(3012,!1)}()),yr&&be.errors.push(function Y(){return new i.wOt(3200,!1)}());const Lr=Q.steps.length;let wi=0;Sn>0&&Sn<Lr?be.errors.push(function $(){return new i.wOt(3202,!1)}()):0==Sn&&(wi=1/(Lr-1));const Zi=Lr-1,Ui=be.currentTime,pe=be.currentAnimateTimings,le=pe.duration;return di.forEach((Ge,Mt)=>{const Lt=wi>0?Mt==Zi?1:wi*Mt:Xn[Mt],pn=Lt*le;be.currentTime=Ui+pe.delay+pn,pe.duration=pn,this._validateStyleAst(Ge,be),Ge.offset=Lt,Ke.styles.push(Ge)}),Ke}visitReference(Q,be){return{type:f.If.Reference,animation:Tt(this,gt(Q.animation),be),options:Ar(Q.options)}}visitAnimateChild(Q,be){return be.depCount++,{type:f.If.AnimateChild,options:Ar(Q.options)}}visitAnimateRef(Q,be){return{type:f.If.AnimateRef,animation:this.visitReference(Q.animation,be),options:Ar(Q.options)}}visitQuery(Q,be){const Ke=be.currentQuerySelector,$t=Q.options||{};be.queryCount++,be.currentQuery=Q;const[Sn,Xn]=function er(wt){const Q=!!wt.split(/\s*,\s*/).find(be=>":self"==be);return Q&&(wt=wt.replace(vn,"")),wt=wt.replace(/@\*/g,ye).replace(/@\w+/g,be=>ye+"-"+be.slice(1)).replace(/:animating/g,rt),[wt,Q]}(Q.selector);be.currentQuerySelector=Ke.length?Ke+" "+Sn:Sn,F(be.collectedStyles,be.currentQuerySelector,new Map);const yr=Tt(this,gt(Q.animation),be);return be.currentQuery=null,be.currentQuerySelector=Ke,{type:f.If.Query,selector:Sn,limit:$t.limit||0,optional:!!$t.optional,includeSelf:Xn,animation:yr,originalSelector:Q.selector,options:Ar(Q.options)}}visitStagger(Q,be){be.currentQuery||be.errors.push(function H(){return new i.wOt(3013,!1)}());const Ke="full"===Q.timings?{duration:0,delay:0,easing:"full"}:Jn(Q.timings,be.errors,!0);return{type:f.If.Stagger,animation:Tt(this,gt(Q.animation),be),timings:Ke,options:null}}}class tt{constructor(Q){this.errors=Q,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ar(wt){return wt?(wt={...wt}).params&&(wt.params=function Be(wt){return wt?{...wt}:null}(wt.params)):wt={},wt}function zr(wt,Q,be){return{duration:wt,delay:Q,easing:be}}function si(wt,Q,be,Ke,$t,Sn,Xn=null,yr=!1){return{type:1,element:wt,keyframes:Q,preStyleProps:be,postStyleProps:Ke,duration:$t,delay:Sn,totalTime:$t+Sn,easing:Xn,subTimeline:yr}}class Ti{constructor(){this._map=new Map}get(Q){return this._map.get(Q)||[]}append(Q,be){let Ke=this._map.get(Q);Ke||this._map.set(Q,Ke=[]),Ke.push(...be)}has(Q){return this._map.has(Q)}clear(){this._map.clear()}}const Oi=new RegExp(":enter","g"),wo=new RegExp(":leave","g");function eo(wt,Q,be,Ke,$t,Sn=new Map,Xn=new Map,yr,Vr,ci=[]){return(new Vo).buildKeyframes(wt,Q,be,Ke,$t,Sn,Xn,yr,Vr,ci)}class Vo{buildKeyframes(Q,be,Ke,$t,Sn,Xn,yr,Vr,ci,di=[]){ci=ci||new Ti;const Lr=new fn(Q,be,ci,$t,Sn,di,[]);Lr.options=Vr;const wi=Vr.delay?Kt(Vr.delay):0;Lr.currentTimeline.delayNextStep(wi),Lr.currentTimeline.setStyles([Xn],null,Lr.errors,Vr),Tt(this,Ke,Lr);const Zi=Lr.timelines.filter(Ui=>Ui.containsAnimation());if(Zi.length&&yr.size){let Ui;for(let pe=Zi.length-1;pe>=0;pe--){const le=Zi[pe];if(le.element===be){Ui=le;break}}Ui&&!Ui.allowOnlyTimelineStyles()&&Ui.setStyles([yr],null,Lr.errors,Vr)}return Zi.length?Zi.map(Ui=>Ui.buildKeyframes()):[si(be,[],[],[],0,wi,"",!1)]}visitTrigger(Q,be){}visitState(Q,be){}visitTransition(Q,be){}visitAnimateChild(Q,be){const Ke=be.subInstructions.get(be.element);if(Ke){const $t=be.createSubContext(Q.options),Sn=be.currentTimeline.currentTime,Xn=this._visitSubInstructions(Ke,$t,$t.options);Sn!=Xn&&be.transformIntoNewTimeline(Xn)}be.previousNode=Q}visitAnimateRef(Q,be){const Ke=be.createSubContext(Q.options);Ke.transformIntoNewTimeline(),this._applyAnimationRefDelays([Q.options,Q.animation.options],be,Ke),this.visitReference(Q.animation,Ke),be.transformIntoNewTimeline(Ke.currentTimeline.currentTime),be.previousNode=Q}_applyAnimationRefDelays(Q,be,Ke){for(const $t of Q){const Sn=$t?.delay;if(Sn){const Xn="number"==typeof Sn?Sn:Kt(Vt(Sn,$t?.params??{},be.errors));Ke.delayNextStep(Xn)}}}_visitSubInstructions(Q,be,Ke){let Sn=be.currentTimeline.currentTime;const Xn=null!=Ke.duration?Kt(Ke.duration):null,yr=null!=Ke.delay?Kt(Ke.delay):null;return 0!==Xn&&Q.forEach(Vr=>{const ci=be.appendInstructionToTimeline(Vr,Xn,yr);Sn=Math.max(Sn,ci.duration+ci.delay)}),Sn}visitReference(Q,be){be.updateOptions(Q.options,!0),Tt(this,Q.animation,be),be.previousNode=Q}visitSequence(Q,be){const Ke=be.subContextCount;let $t=be;const Sn=Q.options;if(Sn&&(Sn.params||Sn.delay)&&($t=be.createSubContext(Sn),$t.transformIntoNewTimeline(),null!=Sn.delay)){$t.previousNode.type==f.If.Style&&($t.currentTimeline.snapshotCurrentStyles(),$t.previousNode=$n);const Xn=Kt(Sn.delay);$t.delayNextStep(Xn)}Q.steps.length&&(Q.steps.forEach(Xn=>Tt(this,Xn,$t)),$t.currentTimeline.applyStylesToKeyframe(),$t.subContextCount>Ke&&$t.transformIntoNewTimeline()),be.previousNode=Q}visitGroup(Q,be){const Ke=[];let $t=be.currentTimeline.currentTime;const Sn=Q.options&&Q.options.delay?Kt(Q.options.delay):0;Q.steps.forEach(Xn=>{const yr=be.createSubContext(Q.options);Sn&&yr.delayNextStep(Sn),Tt(this,Xn,yr),$t=Math.max($t,yr.currentTimeline.currentTime),Ke.push(yr.currentTimeline)}),Ke.forEach(Xn=>be.currentTimeline.mergeTimelineCollectedStyles(Xn)),be.transformIntoNewTimeline($t),be.previousNode=Q}_visitTiming(Q,be){if(Q.dynamic){const Ke=Q.strValue;return Jn(be.params?Vt(Ke,be.params,be.errors):Ke,be.errors)}return{duration:Q.duration,delay:Q.delay,easing:Q.easing}}visitAnimate(Q,be){const Ke=be.currentAnimateTimings=this._visitTiming(Q.timings,be),$t=be.currentTimeline;Ke.delay&&(be.incrementTime(Ke.delay),$t.snapshotCurrentStyles());const Sn=Q.style;Sn.type==f.If.Keyframes?this.visitKeyframes(Sn,be):(be.incrementTime(Ke.duration),this.visitStyle(Sn,be),$t.applyStylesToKeyframe()),be.currentAnimateTimings=null,be.previousNode=Q}visitStyle(Q,be){const Ke=be.currentTimeline,$t=be.currentAnimateTimings;!$t&&Ke.hasCurrentStyleProperties()&&Ke.forwardFrame();const Sn=$t&&$t.easing||Q.easing;Q.isEmptyStep?Ke.applyEmptyStep(Sn):Ke.setStyles(Q.styles,Sn,be.errors,be.options),be.previousNode=Q}visitKeyframes(Q,be){const Ke=be.currentAnimateTimings,$t=be.currentTimeline.duration,Sn=Ke.duration,yr=be.createSubContext().currentTimeline;yr.easing=Ke.easing,Q.styles.forEach(Vr=>{yr.forwardTime((Vr.offset||0)*Sn),yr.setStyles(Vr.styles,Vr.easing,be.errors,be.options),yr.applyStylesToKeyframe()}),be.currentTimeline.mergeTimelineCollectedStyles(yr),be.transformIntoNewTimeline($t+Sn),be.previousNode=Q}visitQuery(Q,be){const Ke=be.currentTimeline.currentTime,$t=Q.options||{},Sn=$t.delay?Kt($t.delay):0;Sn&&(be.previousNode.type===f.If.Style||0==Ke&&be.currentTimeline.hasCurrentStyleProperties())&&(be.currentTimeline.snapshotCurrentStyles(),be.previousNode=$n);let Xn=Ke;const yr=be.invokeQuery(Q.selector,Q.originalSelector,Q.limit,Q.includeSelf,!!$t.optional,be.errors);be.currentQueryTotal=yr.length;let Vr=null;yr.forEach((ci,di)=>{be.currentQueryIndex=di;const Lr=be.createSubContext(Q.options,ci);Sn&&Lr.delayNextStep(Sn),ci===be.element&&(Vr=Lr.currentTimeline),Tt(this,Q.animation,Lr),Lr.currentTimeline.applyStylesToKeyframe(),Xn=Math.max(Xn,Lr.currentTimeline.currentTime)}),be.currentQueryIndex=0,be.currentQueryTotal=0,be.transformIntoNewTimeline(Xn),Vr&&(be.currentTimeline.mergeTimelineCollectedStyles(Vr),be.currentTimeline.snapshotCurrentStyles()),be.previousNode=Q}visitStagger(Q,be){const Ke=be.parentContext,$t=be.currentTimeline,Sn=Q.timings,Xn=Math.abs(Sn.duration),yr=Xn*(be.currentQueryTotal-1);let Vr=Xn*be.currentQueryIndex;switch(Sn.duration<0?"reverse":Sn.easing){case"reverse":Vr=yr-Vr;break;case"full":Vr=Ke.currentStaggerTime}const di=be.currentTimeline;Vr&&di.delayNextStep(Vr);const Lr=di.currentTime;Tt(this,Q.animation,be),be.previousNode=Q,Ke.currentStaggerTime=$t.currentTime-Lr+($t.startTime-Ke.currentTimeline.startTime)}}const $n={};class fn{constructor(Q,be,Ke,$t,Sn,Xn,yr,Vr){this._driver=Q,this.element=be,this.subInstructions=Ke,this._enterClassName=$t,this._leaveClassName=Sn,this.errors=Xn,this.timelines=yr,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$n,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Vr||new ze(this._driver,be,0),yr.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(Q,be){if(!Q)return;const Ke=Q;let $t=this.options;null!=Ke.duration&&($t.duration=Kt(Ke.duration)),null!=Ke.delay&&($t.delay=Kt(Ke.delay));const Sn=Ke.params;if(Sn){let Xn=$t.params;Xn||(Xn=this.options.params={}),Object.keys(Sn).forEach(yr=>{(!be||!Xn.hasOwnProperty(yr))&&(Xn[yr]=Vt(Sn[yr],Xn,this.errors))})}}_copyOptions(){const Q={};if(this.options){const be=this.options.params;if(be){const Ke=Q.params={};Object.keys(be).forEach($t=>{Ke[$t]=be[$t]})}}return Q}createSubContext(Q=null,be,Ke){const $t=be||this.element,Sn=new fn(this._driver,$t,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($t,Ke||0));return Sn.previousNode=this.previousNode,Sn.currentAnimateTimings=this.currentAnimateTimings,Sn.options=this._copyOptions(),Sn.updateOptions(Q),Sn.currentQueryIndex=this.currentQueryIndex,Sn.currentQueryTotal=this.currentQueryTotal,Sn.parentContext=this,this.subContextCount++,Sn}transformIntoNewTimeline(Q){return this.previousNode=$n,this.currentTimeline=this.currentTimeline.fork(this.element,Q),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(Q,be,Ke){const $t={duration:be??Q.duration,delay:this.currentTimeline.currentTime+(Ke??0)+Q.delay,easing:""},Sn=new Dt(this._driver,Q.element,Q.keyframes,Q.preStyleProps,Q.postStyleProps,$t,Q.stretchStartingKeyframe);return this.timelines.push(Sn),$t}incrementTime(Q){this.currentTimeline.forwardTime(this.currentTimeline.duration+Q)}delayNextStep(Q){Q>0&&this.currentTimeline.delayNextStep(Q)}invokeQuery(Q,be,Ke,$t,Sn,Xn){let yr=[];if($t&&yr.push(this.element),Q.length>0){Q=(Q=Q.replace(Oi,"."+this._enterClassName)).replace(wo,"."+this._leaveClassName);let ci=this._driver.query(this.element,Q,1!=Ke);0!==Ke&&(ci=Ke<0?ci.slice(ci.length+Ke,ci.length):ci.slice(0,Ke)),yr.push(...ci)}return!Sn&&0==yr.length&&Xn.push(function me(wt){return new i.wOt(3014,!1)}()),yr}}class ze{constructor(Q,be,Ke,$t){this._driver=Q,this.element=be,this.startTime=Ke,this._elementTimelineStylesLookup=$t,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(be),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(be,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(Q){const be=1===this._keyframes.size&&this._pendingStyles.size;this.duration||be?(this.forwardTime(this.currentTime+Q),be&&this.snapshotCurrentStyles()):this.startTime+=Q}fork(Q,be){return this.applyStylesToKeyframe(),new ze(this._driver,Q,be||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(Q){this.applyStylesToKeyframe(),this.duration=Q,this._loadKeyframe()}_updateStyle(Q,be){this._localTimelineStyles.set(Q,be),this._globalTimelineStyles.set(Q,be),this._styleSummary.set(Q,{time:this.currentTime,value:be})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(Q){Q&&this._previousKeyframe.set("easing",Q);for(let[be,Ke]of this._globalTimelineStyles)this._backFill.set(be,Ke||f.kp),this._currentKeyframe.set(be,f.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(Q,be,Ke,$t){be&&this._previousKeyframe.set("easing",be);const Sn=$t&&$t.params||{},Xn=function Wn(wt,Q){const be=new Map;let Ke;return wt.forEach($t=>{if("*"===$t){Ke??=Q.keys();for(let Sn of Ke)be.set(Sn,f.kp)}else for(let[Sn,Xn]of $t)be.set(Sn,Xn)}),be}(Q,this._globalTimelineStyles);for(let[yr,Vr]of Xn){const ci=Vt(Vr,Sn,Ke);this._pendingStyles.set(yr,ci),this._localTimelineStyles.has(yr)||this._backFill.set(yr,this._globalTimelineStyles.get(yr)??f.kp),this._updateStyle(yr,ci)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((Q,be)=>{this._currentKeyframe.set(be,Q)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((Q,be)=>{this._currentKeyframe.has(be)||this._currentKeyframe.set(be,Q)}))}snapshotCurrentStyles(){for(let[Q,be]of this._localTimelineStyles)this._pendingStyles.set(Q,be),this._updateStyle(Q,be)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const Q=[];for(let be in this._currentKeyframe)Q.push(be);return Q}mergeTimelineCollectedStyles(Q){Q._styleSummary.forEach((be,Ke)=>{const $t=this._styleSummary.get(Ke);(!$t||be.time>$t.time)&&this._updateStyle(Ke,be.value)})}buildKeyframes(){this.applyStylesToKeyframe();const Q=new Set,be=new Set,Ke=1===this._keyframes.size&&0===this.duration;let $t=[];this._keyframes.forEach((yr,Vr)=>{const ci=new Map([...this._backFill,...yr]);ci.forEach((di,Lr)=>{di===f.FX?Q.add(Lr):di===f.kp&&be.add(Lr)}),Ke||ci.set("offset",Vr/this.duration),$t.push(ci)});const Sn=[...Q.values()],Xn=[...be.values()];if(Ke){const yr=$t[0],Vr=new Map(yr);yr.set("offset",0),Vr.set("offset",1),$t=[yr,Vr]}return si(this.element,$t,Sn,Xn,this.duration,this.startTime,this.easing,!1)}}class Dt extends ze{constructor(Q,be,Ke,$t,Sn,Xn,yr=!1){super(Q,be,Xn.delay),this.keyframes=Ke,this.preStyleProps=$t,this.postStyleProps=Sn,this._stretchStartingKeyframe=yr,this.timings={duration:Xn.duration,delay:Xn.delay,easing:Xn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let Q=this.keyframes,{delay:be,duration:Ke,easing:$t}=this.timings;if(this._stretchStartingKeyframe&&be){const Sn=[],Xn=Ke+be,yr=be/Xn,Vr=new Map(Q[0]);Vr.set("offset",0),Sn.push(Vr);const ci=new Map(Q[0]);ci.set("offset",sn(yr)),Sn.push(ci);const di=Q.length-1;for(let Lr=1;Lr<=di;Lr++){let wi=new Map(Q[Lr]);const Zi=wi.get("offset");wi.set("offset",sn((be+Zi*Ke)/Xn)),Sn.push(wi)}Ke=Xn,be=0,$t="",Q=Sn}return si(this.element,Q,this.preStyleProps,this.postStyleProps,Ke,be,$t,!0)}}function sn(wt,Q=3){const be=Math.pow(10,Q-1);return Math.round(wt*be)/be}function Ir(wt,Q,be,Ke,$t,Sn,Xn,yr,Vr,ci,di,Lr,wi){return{type:0,element:wt,triggerName:Q,isRemovalTransition:$t,fromState:be,fromStyles:Sn,toState:Ke,toStyles:Xn,timelines:yr,queriedElements:Vr,preStyleProps:ci,postStyleProps:di,totalTime:Lr,errors:wi}}const Zr={};class io{constructor(Q,be,Ke){this._triggerName=Q,this.ast=be,this._stateStyles=Ke}match(Q,be,Ke,$t){return function _o(wt,Q,be,Ke,$t){return wt.some(Sn=>Sn(Q,be,Ke,$t))}(this.ast.matchers,Q,be,Ke,$t)}buildStyles(Q,be,Ke){let $t=this._stateStyles.get("*");return void 0!==Q&&($t=this._stateStyles.get(Q?.toString())||$t),$t?$t.buildStyles(be,Ke):new Map}build(Q,be,Ke,$t,Sn,Xn,yr,Vr,ci,di){const Lr=[],wi=this.ast.options&&this.ast.options.params||Zr,Ui=this.buildStyles(Ke,yr&&yr.params||Zr,Lr),pe=Vr&&Vr.params||Zr,le=this.buildStyles($t,pe,Lr),Ge=new Set,Mt=new Map,Lt=new Map,pn="void"===$t,Bn={params:Co(pe,wi),delay:this.ast.options?.delay},hr=di?[]:eo(Q,be,this.ast.animation,Sn,Xn,Ui,le,Bn,ci,Lr);let cr=0;return hr.forEach(kr=>{cr=Math.max(kr.duration+kr.delay,cr)}),Lr.length?Ir(be,this._triggerName,Ke,$t,pn,Ui,le,[],[],Mt,Lt,cr,Lr):(hr.forEach(kr=>{const Sr=kr.element,Wr=F(Mt,Sr,new Set);kr.preStyleProps.forEach(Ci=>Wr.add(Ci));const Ur=F(Lt,Sr,new Set);kr.postStyleProps.forEach(Ci=>Ur.add(Ci)),Sr!==be&&Ge.add(Sr)}),Ir(be,this._triggerName,Ke,$t,pn,Ui,le,hr,[...Ge.values()],Mt,Lt,cr))}}function Co(wt,Q){const be={...Q};return Object.entries(wt).forEach(([Ke,$t])=>{null!=$t&&(be[Ke]=$t)}),be}class Ro{constructor(Q,be,Ke){this.styles=Q,this.defaultParams=be,this.normalizer=Ke}buildStyles(Q,be){const Ke=new Map,$t=Co(Q,this.defaultParams);return this.styles.styles.forEach(Sn=>{"string"!=typeof Sn&&Sn.forEach((Xn,yr)=>{Xn&&(Xn=Vt(Xn,$t,be));const Vr=this.normalizer.normalizePropertyName(yr,be);Xn=this.normalizer.normalizeStyleValue(yr,Vr,Xn,be),Ke.set(yr,Xn)})}),Ke}}class Ws{constructor(Q,be,Ke){this.name=Q,this.ast=be,this._normalizer=Ke,this.transitionFactories=[],this.states=new Map,be.states.forEach($t=>{this.states.set($t.name,new Ro($t.style,$t.options&&$t.options.params||{},Ke))}),zo(this.states,"true","1"),zo(this.states,"false","0"),be.transitions.forEach($t=>{this.transitionFactories.push(new io(Q,$t,this.states))}),this.fallbackTransition=function ms(wt,Q,be){return new io(wt,{type:f.If.Transition,animation:{type:f.If.Sequence,steps:[],options:null},matchers:[(Xn,yr)=>!0],options:null,queryCount:0,depCount:0},Q)}(Q,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(Q,be,Ke,$t){return this.transitionFactories.find(Xn=>Xn.match(Q,be,Ke,$t))||null}matchStyles(Q,be,Ke){return this.fallbackTransition.buildStyles(Q,be,Ke)}}function zo(wt,Q,be){wt.has(Q)?wt.has(be)||wt.set(be,wt.get(Q)):wt.has(be)&&wt.set(Q,wt.get(be))}const Zo=new Ti;class os{constructor(Q,be,Ke){this.bodyNode=Q,this._driver=be,this._normalizer=Ke,this._animations=new Map,this._playersById=new Map,this.players=[]}register(Q,be){const Ke=[],Sn=bn(this._driver,be,Ke,[]);if(Ke.length)throw function ht(wt){return new i.wOt(3503,!1)}();this._animations.set(Q,Sn)}_buildPlayer(Q,be,Ke){const $t=Q.element,Sn=Xe(this._normalizer,Q.keyframes,be,Ke);return this._driver.animate($t,Sn,Q.duration,Q.delay,Q.easing,[],!0)}create(Q,be,Ke={}){const $t=[],Sn=this._animations.get(Q);let Xn;const yr=new Map;if(Sn?(Xn=eo(this._driver,be,Sn,lt,bt,new Map,new Map,Ke,Zo,$t),Xn.forEach(di=>{const Lr=F(yr,di.element,new Map);di.postStyleProps.forEach(wi=>Lr.set(wi,null))})):($t.push(function Bt(){return new i.wOt(3300,!1)}()),Xn=[]),$t.length)throw function de(wt){return new i.wOt(3504,!1)}();yr.forEach((di,Lr)=>{di.forEach((wi,Zi)=>{di.set(Zi,this._driver.computeStyle(Lr,Zi,f.kp))})});const ci=Ne(Xn.map(di=>{const Lr=yr.get(di.element);return this._buildPlayer(di,new Map,Lr)}));return this._playersById.set(Q,ci),ci.onDestroy(()=>this.destroy(Q)),this.players.push(ci),ci}destroy(Q){const be=this._getPlayer(Q);be.destroy(),this._playersById.delete(Q);const Ke=this.players.indexOf(be);Ke>=0&&this.players.splice(Ke,1)}_getPlayer(Q){const be=this._playersById.get(Q);if(!be)throw function R(wt){return new i.wOt(3301,!1)}();return be}listen(Q,be,Ke,$t){const Sn=D(be,"","","");return Ot(this._getPlayer(Q),Ke,Sn,$t),()=>{}}command(Q,be,Ke,$t){if("register"==Ke)return void this.register(Q,$t[0]);if("create"==Ke)return void this.create(Q,be,$t[0]||{});const Sn=this._getPlayer(Q);switch(Ke){case"play":Sn.play();break;case"pause":Sn.pause();break;case"reset":Sn.reset();break;case"restart":Sn.restart();break;case"finish":Sn.finish();break;case"init":Sn.init();break;case"setPosition":Sn.setPosition(parseFloat($t[0]));break;case"destroy":this.destroy(Q)}}}const ns="ng-animate-queued",ar="ng-animate-disabled",Ri=[],zi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},to={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xo="__ng_removed";class $i{get params(){return this.options.params}constructor(Q,be=""){this.namespaceId=be;const Ke=Q&&Q.hasOwnProperty("value");if(this.value=function Gs(wt){return wt??null}(Ke?Q.value:Q),Ke){const{value:Sn,...Xn}=Q;this.options=Xn}else this.options={};this.options.params||(this.options.params={})}absorbOptions(Q){const be=Q.params;if(be){const Ke=this.options.params;Object.keys(be).forEach($t=>{null==Ke[$t]&&(Ke[$t]=be[$t])})}}}const No="void",ls=new $i(No);class Ns{constructor(Q,be,Ke){this.id=Q,this.hostElement=be,this._engine=Ke,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+Q,Ds(be,this._hostClassName)}listen(Q,be,Ke,$t){if(!this._triggers.has(be))throw function j(wt,Q){return new i.wOt(3302,!1)}();if(null==Ke||0==Ke.length)throw function he(wt){return new i.wOt(3303,!1)}();if(!function pa(wt){return"start"==wt||"done"==wt}(Ke))throw function Ce(wt,Q){return new i.wOt(3400,!1)}();const Sn=F(this._elementListeners,Q,[]),Xn={name:be,phase:Ke,callback:$t};Sn.push(Xn);const yr=F(this._engine.statesByElement,Q,new Map);return yr.has(be)||(Ds(Q,He),Ds(Q,He+"-"+be),yr.set(be,ls)),()=>{this._engine.afterFlush(()=>{const Vr=Sn.indexOf(Xn);Vr>=0&&Sn.splice(Vr,1),this._triggers.has(be)||yr.delete(be)})}}register(Q,be){return!this._triggers.has(Q)&&(this._triggers.set(Q,be),!0)}_getTrigger(Q){const be=this._triggers.get(Q);if(!be)throw function Re(wt){return new i.wOt(3401,!1)}();return be}trigger(Q,be,Ke,$t=!0){const Sn=this._getTrigger(be),Xn=new Os(this.id,be,Q);let yr=this._engine.statesByElement.get(Q);yr||(Ds(Q,He),Ds(Q,He+"-"+be),this._engine.statesByElement.set(Q,yr=new Map));let Vr=yr.get(be);const ci=new $i(Ke,this.id);if(!(Ke&&Ke.hasOwnProperty("value"))&&Vr&&ci.absorbOptions(Vr.options),yr.set(be,ci),Vr||(Vr=ls),ci.value!==No&&Vr.value===ci.value){if(!function xr(wt,Q){const be=Object.keys(wt),Ke=Object.keys(Q);if(be.length!=Ke.length)return!1;for(let $t=0;$t<be.length;$t++){const Sn=be[$t];if(!Q.hasOwnProperty(Sn)||wt[Sn]!==Q[Sn])return!1}return!0}(Vr.params,ci.params)){const pe=[],le=Sn.matchStyles(Vr.value,Vr.params,pe),Ge=Sn.matchStyles(ci.value,ci.params,pe);pe.length?this._engine.reportError(pe):this._engine.afterFlush(()=>{xt(Q,le),Et(Q,Ge)})}return}const wi=F(this._engine.playersByElement,Q,[]);wi.forEach(pe=>{pe.namespaceId==this.id&&pe.triggerName==be&&pe.queued&&pe.destroy()});let Zi=Sn.matchTransition(Vr.value,ci.value,Q,ci.params),Ui=!1;if(!Zi){if(!$t)return;Zi=Sn.fallbackTransition,Ui=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:Q,triggerName:be,transition:Zi,fromState:Vr,toState:ci,player:Xn,isFallbackTransition:Ui}),Ui||(Ds(Q,ns),Xn.onStart(()=>{cs(Q,ns)})),Xn.onDone(()=>{let pe=this.players.indexOf(Xn);pe>=0&&this.players.splice(pe,1);const le=this._engine.playersByElement.get(Q);if(le){let Ge=le.indexOf(Xn);Ge>=0&&le.splice(Ge,1)}}),this.players.push(Xn),wi.push(Xn),Xn}deregister(Q){this._triggers.delete(Q),this._engine.statesByElement.forEach(be=>be.delete(Q)),this._elementListeners.forEach((be,Ke)=>{this._elementListeners.set(Ke,be.filter($t=>$t.name!=Q))})}clearElementCache(Q){this._engine.statesByElement.delete(Q),this._elementListeners.delete(Q);const be=this._engine.playersByElement.get(Q);be&&(be.forEach(Ke=>Ke.destroy()),this._engine.playersByElement.delete(Q))}_signalRemovalForInnerTriggers(Q,be){const Ke=this._engine.driver.query(Q,ye,!0);Ke.forEach($t=>{if($t[xo])return;const Sn=this._engine.fetchNamespacesByElement($t);Sn.size?Sn.forEach(Xn=>Xn.triggerLeaveAnimation($t,be,!1,!0)):this.clearElementCache($t)}),this._engine.afterFlushAnimationsDone(()=>Ke.forEach($t=>this.clearElementCache($t)))}triggerLeaveAnimation(Q,be,Ke,$t){const Sn=this._engine.statesByElement.get(Q),Xn=new Map;if(Sn){const yr=[];if(Sn.forEach((Vr,ci)=>{if(Xn.set(ci,Vr.value),this._triggers.has(ci)){const di=this.trigger(Q,ci,No,$t);di&&yr.push(di)}}),yr.length)return this._engine.markElementAsRemoved(this.id,Q,!0,be,Xn),Ke&&Ne(yr).onDone(()=>this._engine.processLeaveNode(Q)),!0}return!1}prepareLeaveAnimationListeners(Q){const be=this._elementListeners.get(Q),Ke=this._engine.statesByElement.get(Q);if(be&&Ke){const $t=new Set;be.forEach(Sn=>{const Xn=Sn.name;if($t.has(Xn))return;$t.add(Xn);const Vr=this._triggers.get(Xn).fallbackTransition,ci=Ke.get(Xn)||ls,di=new $i(No),Lr=new Os(this.id,Xn,Q);this._engine.totalQueuedPlayers++,this._queue.push({element:Q,triggerName:Xn,transition:Vr,fromState:ci,toState:di,player:Lr,isFallbackTransition:!0})})}}removeNode(Q,be){const Ke=this._engine;if(Q.childElementCount&&this._signalRemovalForInnerTriggers(Q,be),this.triggerLeaveAnimation(Q,be,!0))return;let $t=!1;if(Ke.totalAnimations){const Sn=Ke.players.length?Ke.playersByQueriedElement.get(Q):[];if(Sn&&Sn.length)$t=!0;else{let Xn=Q;for(;Xn=Xn.parentNode;)if(Ke.statesByElement.get(Xn)){$t=!0;break}}}if(this.prepareLeaveAnimationListeners(Q),$t)Ke.markElementAsRemoved(this.id,Q,!1,be);else{const Sn=Q[xo];(!Sn||Sn===zi)&&(Ke.afterFlush(()=>this.clearElementCache(Q)),Ke.destroyInnerAnimations(Q),Ke._onRemovalComplete(Q,be))}}insertNode(Q,be){Ds(Q,this._hostClassName)}drainQueuedTransitions(Q){const be=[];return this._queue.forEach(Ke=>{const $t=Ke.player;if($t.destroyed)return;const Sn=Ke.element,Xn=this._elementListeners.get(Sn);Xn&&Xn.forEach(yr=>{if(yr.name==Ke.triggerName){const Vr=D(Sn,Ke.triggerName,Ke.fromState.value,Ke.toState.value);Vr._data=Q,Ot(Ke.player,yr.phase,Vr,yr.callback)}}),$t.markedForDestroy?this._engine.afterFlush(()=>{$t.destroy()}):be.push(Ke)}),this._queue=[],be.sort((Ke,$t)=>{const Sn=Ke.transition.ast.depCount,Xn=$t.transition.ast.depCount;return 0==Sn||0==Xn?Sn-Xn:this._engine.driver.containsElement(Ke.element,$t.element)?1:-1})}destroy(Q){this.players.forEach(be=>be.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,Q)}}class ys{_onRemovalComplete(Q,be){this.onRemovalComplete(Q,be)}constructor(Q,be,Ke,$t){this.bodyNode=Q,this.driver=be,this._normalizer=Ke,this.scheduler=$t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Sn,Xn)=>{}}get queuedPlayers(){const Q=[];return this._namespaceList.forEach(be=>{be.players.forEach(Ke=>{Ke.queued&&Q.push(Ke)})}),Q}createNamespace(Q,be){const Ke=new Ns(Q,be,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,be)?this._balanceNamespaceList(Ke,be):(this.newHostElements.set(be,Ke),this.collectEnterElement(be)),this._namespaceLookup[Q]=Ke}_balanceNamespaceList(Q,be){const Ke=this._namespaceList,$t=this.namespacesByHostElement;if(Ke.length-1>=0){let Xn=!1,yr=this.driver.getParentElement(be);for(;yr;){const Vr=$t.get(yr);if(Vr){const ci=Ke.indexOf(Vr);Ke.splice(ci+1,0,Q),Xn=!0;break}yr=this.driver.getParentElement(yr)}Xn||Ke.unshift(Q)}else Ke.push(Q);return $t.set(be,Q),Q}register(Q,be){let Ke=this._namespaceLookup[Q];return Ke||(Ke=this.createNamespace(Q,be)),Ke}registerTrigger(Q,be,Ke){let $t=this._namespaceLookup[Q];$t&&$t.register(be,Ke)&&this.totalAnimations++}destroy(Q,be){Q&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const Ke=this._fetchNamespace(Q);this.namespacesByHostElement.delete(Ke.hostElement);const $t=this._namespaceList.indexOf(Ke);$t>=0&&this._namespaceList.splice($t,1),Ke.destroy(be),delete this._namespaceLookup[Q]}))}_fetchNamespace(Q){return this._namespaceLookup[Q]}fetchNamespacesByElement(Q){const be=new Set,Ke=this.statesByElement.get(Q);if(Ke)for(let $t of Ke.values())if($t.namespaceId){const Sn=this._fetchNamespace($t.namespaceId);Sn&&be.add(Sn)}return be}trigger(Q,be,Ke,$t){if(Lo(be)){const Sn=this._fetchNamespace(Q);if(Sn)return Sn.trigger(be,Ke,$t),!0}return!1}insertNode(Q,be,Ke,$t){if(!Lo(be))return;const Sn=be[xo];if(Sn&&Sn.setForRemoval){Sn.setForRemoval=!1,Sn.setForMove=!0;const Xn=this.collectedLeaveElements.indexOf(be);Xn>=0&&this.collectedLeaveElements.splice(Xn,1)}if(Q){const Xn=this._fetchNamespace(Q);Xn&&Xn.insertNode(be,Ke)}$t&&this.collectEnterElement(be)}collectEnterElement(Q){this.collectedEnterElements.push(Q)}markElementAsDisabled(Q,be){be?this.disabledNodes.has(Q)||(this.disabledNodes.add(Q),Ds(Q,ar)):this.disabledNodes.has(Q)&&(this.disabledNodes.delete(Q),cs(Q,ar))}removeNode(Q,be,Ke){if(Lo(be)){this.scheduler?.notify();const $t=Q?this._fetchNamespace(Q):null;$t?$t.removeNode(be,Ke):this.markElementAsRemoved(Q,be,!1,Ke);const Sn=this.namespacesByHostElement.get(be);Sn&&Sn.id!==Q&&Sn.removeNode(be,Ke)}else this._onRemovalComplete(be,Ke)}markElementAsRemoved(Q,be,Ke,$t,Sn){this.collectedLeaveElements.push(be),be[xo]={namespaceId:Q,setForRemoval:$t,hasAnimation:Ke,removedBeforeQueried:!1,previousTriggersValues:Sn}}listen(Q,be,Ke,$t,Sn){return Lo(be)?this._fetchNamespace(Q).listen(be,Ke,$t,Sn):()=>{}}_buildInstruction(Q,be,Ke,$t,Sn){return Q.transition.build(this.driver,Q.element,Q.fromState.value,Q.toState.value,Ke,$t,Q.fromState.options,Q.toState.options,be,Sn)}destroyInnerAnimations(Q){let be=this.driver.query(Q,ye,!0);be.forEach(Ke=>this.destroyActiveAnimationsForElement(Ke)),0!=this.playersByQueriedElement.size&&(be=this.driver.query(Q,rt,!0),be.forEach(Ke=>this.finishActiveQueriedAnimationOnElement(Ke)))}destroyActiveAnimationsForElement(Q){const be=this.playersByElement.get(Q);be&&be.forEach(Ke=>{Ke.queued?Ke.markedForDestroy=!0:Ke.destroy()})}finishActiveQueriedAnimationOnElement(Q){const be=this.playersByQueriedElement.get(Q);be&&be.forEach(Ke=>Ke.finish())}whenRenderingDone(){return new Promise(Q=>{if(this.players.length)return Ne(this.players).onDone(()=>Q());Q()})}processLeaveNode(Q){const be=Q[xo];if(be&&be.setForRemoval){if(Q[xo]=zi,be.namespaceId){this.destroyInnerAnimations(Q);const Ke=this._fetchNamespace(be.namespaceId);Ke&&Ke.clearElementCache(Q)}this._onRemovalComplete(Q,be.setForRemoval)}Q.classList?.contains(ar)&&this.markElementAsDisabled(Q,!1),this.driver.query(Q,".ng-animate-disabled",!0).forEach(Ke=>{this.markElementAsDisabled(Ke,!1)})}flush(Q=-1){let be=[];if(this.newHostElements.size&&(this.newHostElements.forEach((Ke,$t)=>this._balanceNamespaceList(Ke,$t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let Ke=0;Ke<this.collectedEnterElements.length;Ke++)Ds(this.collectedEnterElements[Ke],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const Ke=[];try{be=this._flushAnimations(Ke,Q)}finally{for(let $t=0;$t<Ke.length;$t++)Ke[$t]()}}else for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++)this.processLeaveNode(this.collectedLeaveElements[Ke]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(Ke=>Ke()),this._flushFns=[],this._whenQuietFns.length){const Ke=this._whenQuietFns;this._whenQuietFns=[],be.length?Ne(be).onDone(()=>{Ke.forEach($t=>$t())}):Ke.forEach($t=>$t())}}reportError(Q){throw function pt(wt){return new i.wOt(3402,!1)}()}_flushAnimations(Q,be){const Ke=new Ti,$t=[],Sn=new Map,Xn=[],yr=new Map,Vr=new Map,ci=new Map,di=new Set;this.disabledNodes.forEach(kn=>{di.add(kn);const rr=this.driver.query(kn,".ng-animate-queued",!0);for(let Xr=0;Xr<rr.length;Xr++)di.add(rr[Xr])});const Lr=this.bodyNode,wi=Array.from(this.statesByElement.keys()),Zi=Ks(wi,this.collectedEnterElements),Ui=new Map;let pe=0;Zi.forEach((kn,rr)=>{const Xr=lt+pe++;Ui.set(rr,Xr),kn.forEach(mi=>Ds(mi,Xr))});const le=[],Ge=new Set,Mt=new Set;for(let kn=0;kn<this.collectedLeaveElements.length;kn++){const rr=this.collectedLeaveElements[kn],Xr=rr[xo];Xr&&Xr.setForRemoval&&(le.push(rr),Ge.add(rr),Xr.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(mi=>Ge.add(mi)):Mt.add(rr))}const Lt=new Map,pn=Ks(wi,Array.from(Ge));pn.forEach((kn,rr)=>{const Xr=bt+pe++;Lt.set(rr,Xr),kn.forEach(mi=>Ds(mi,Xr))}),Q.push(()=>{Zi.forEach((kn,rr)=>{const Xr=Ui.get(rr);kn.forEach(mi=>cs(mi,Xr))}),pn.forEach((kn,rr)=>{const Xr=Lt.get(rr);kn.forEach(mi=>cs(mi,Xr))}),le.forEach(kn=>{this.processLeaveNode(kn)})});const Bn=[],hr=[];for(let kn=this._namespaceList.length-1;kn>=0;kn--)this._namespaceList[kn].drainQueuedTransitions(be).forEach(Xr=>{const mi=Xr.player,Yi=Xr.element;if(Bn.push(mi),this.collectedEnterElements.length){const Jo=Yi[xo];if(Jo&&Jo.setForMove){if(Jo.previousTriggersValues&&Jo.previousTriggersValues.has(Xr.triggerName)){const Cs=Jo.previousTriggersValues.get(Xr.triggerName),rs=this.statesByElement.get(Xr.element);if(rs&&rs.has(Xr.triggerName)){const Yt=rs.get(Xr.triggerName);Yt.value=Cs,rs.set(Xr.triggerName,Yt)}}return void mi.destroy()}}const Gi=!Lr||!this.driver.containsElement(Lr,Yi),Vi=Lt.get(Yi),Yo=Ui.get(Yi),Ni=this._buildInstruction(Xr,Ke,Yo,Vi,Gi);if(Ni.errors&&Ni.errors.length)return void hr.push(Ni);if(Gi)return mi.onStart(()=>xt(Yi,Ni.fromStyles)),mi.onDestroy(()=>Et(Yi,Ni.toStyles)),void $t.push(mi);if(Xr.isFallbackTransition)return mi.onStart(()=>xt(Yi,Ni.fromStyles)),mi.onDestroy(()=>Et(Yi,Ni.toStyles)),void $t.push(mi);const zs=[];Ni.timelines.forEach(Jo=>{Jo.stretchStartingKeyframe=!0,this.disabledNodes.has(Jo.element)||zs.push(Jo)}),Ni.timelines=zs,Ke.append(Yi,Ni.timelines),Xn.push({instruction:Ni,player:mi,element:Yi}),Ni.queriedElements.forEach(Jo=>F(yr,Jo,[]).push(mi)),Ni.preStyleProps.forEach((Jo,Cs)=>{if(Jo.size){let rs=Vr.get(Cs);rs||Vr.set(Cs,rs=new Set),Jo.forEach((Yt,De)=>rs.add(De))}}),Ni.postStyleProps.forEach((Jo,Cs)=>{let rs=ci.get(Cs);rs||ci.set(Cs,rs=new Set),Jo.forEach((Yt,De)=>rs.add(De))})});if(hr.length){const kn=[];hr.forEach(rr=>{kn.push(function Mn(wt,Q){return new i.wOt(3505,!1)}())}),Bn.forEach(rr=>rr.destroy()),this.reportError(kn)}const cr=new Map,kr=new Map;Xn.forEach(kn=>{const rr=kn.element;Ke.has(rr)&&(kr.set(rr,rr),this._beforeAnimationBuild(kn.player.namespaceId,kn.instruction,cr))}),$t.forEach(kn=>{const rr=kn.element;this._getPreviousPlayers(rr,!1,kn.namespaceId,kn.triggerName,null).forEach(mi=>{F(cr,rr,[]).push(mi),mi.destroy()})});const Sr=le.filter(kn=>Pr(kn,Vr,ci)),Wr=new Map;Ms(Wr,this.driver,Mt,ci,f.kp).forEach(kn=>{Pr(kn,Vr,ci)&&Sr.push(kn)});const Ci=new Map;Zi.forEach((kn,rr)=>{Ms(Ci,this.driver,new Set(kn),Vr,f.FX)}),Sr.forEach(kn=>{const rr=Wr.get(kn),Xr=Ci.get(kn);Wr.set(kn,new Map([...rr?.entries()??[],...Xr?.entries()??[]]))});const Wi=[],Hn=[],br={};Xn.forEach(kn=>{const{element:rr,player:Xr,instruction:mi}=kn;if(Ke.has(rr)){if(di.has(rr))return Xr.onDestroy(()=>Et(rr,mi.toStyles)),Xr.disabled=!0,Xr.overrideTotalTime(mi.totalTime),void $t.push(Xr);let Yi=br;if(kr.size>1){let Vi=rr;const Yo=[];for(;Vi=Vi.parentNode;){const Ni=kr.get(Vi);if(Ni){Yi=Ni;break}Yo.push(Vi)}Yo.forEach(Ni=>kr.set(Ni,Yi))}const Gi=this._buildAnimation(Xr.namespaceId,mi,cr,Sn,Ci,Wr);if(Xr.setRealPlayer(Gi),Yi===br)Wi.push(Xr);else{const Vi=this.playersByElement.get(Yi);Vi&&Vi.length&&(Xr.parentPlayer=Ne(Vi)),$t.push(Xr)}}else xt(rr,mi.fromStyles),Xr.onDestroy(()=>Et(rr,mi.toStyles)),Hn.push(Xr),di.has(rr)&&$t.push(Xr)}),Hn.forEach(kn=>{const rr=Sn.get(kn.element);if(rr&&rr.length){const Xr=Ne(rr);kn.setRealPlayer(Xr)}}),$t.forEach(kn=>{kn.parentPlayer?kn.syncPlayerEvents(kn.parentPlayer):kn.destroy()});for(let kn=0;kn<le.length;kn++){const rr=le[kn],Xr=rr[xo];if(cs(rr,bt),Xr&&Xr.hasAnimation)continue;let mi=[];if(yr.size){let Gi=yr.get(rr);Gi&&Gi.length&&mi.push(...Gi);let Vi=this.driver.query(rr,rt,!0);for(let Yo=0;Yo<Vi.length;Yo++){let Ni=yr.get(Vi[Yo]);Ni&&Ni.length&&mi.push(...Ni)}}const Yi=mi.filter(Gi=>!Gi.destroyed);Yi.length?ua(this,rr,Yi):this.processLeaveNode(rr)}return le.length=0,Wi.forEach(kn=>{this.players.push(kn),kn.onDone(()=>{kn.destroy();const rr=this.players.indexOf(kn);this.players.splice(rr,1)}),kn.play()}),Wi}afterFlush(Q){this._flushFns.push(Q)}afterFlushAnimationsDone(Q){this._whenQuietFns.push(Q)}_getPreviousPlayers(Q,be,Ke,$t,Sn){let Xn=[];if(be){const yr=this.playersByQueriedElement.get(Q);yr&&(Xn=yr)}else{const yr=this.playersByElement.get(Q);if(yr){const Vr=!Sn||Sn==No;yr.forEach(ci=>{ci.queued||!Vr&&ci.triggerName!=$t||Xn.push(ci)})}}return(Ke||$t)&&(Xn=Xn.filter(yr=>!(Ke&&Ke!=yr.namespaceId||$t&&$t!=yr.triggerName))),Xn}_beforeAnimationBuild(Q,be,Ke){const Sn=be.element,Xn=be.isRemovalTransition?void 0:Q,yr=be.isRemovalTransition?void 0:be.triggerName;for(const Vr of be.timelines){const ci=Vr.element,di=ci!==Sn,Lr=F(Ke,ci,[]);this._getPreviousPlayers(ci,di,Xn,yr,be.toState).forEach(Zi=>{const Ui=Zi.getRealPlayer();Ui.beforeDestroy&&Ui.beforeDestroy(),Zi.destroy(),Lr.push(Zi)})}xt(Sn,be.fromStyles)}_buildAnimation(Q,be,Ke,$t,Sn,Xn){const yr=be.triggerName,Vr=be.element,ci=[],di=new Set,Lr=new Set,wi=be.timelines.map(Ui=>{const pe=Ui.element;di.add(pe);const le=pe[xo];if(le&&le.removedBeforeQueried)return new f.sf(Ui.duration,Ui.delay);const Ge=pe!==Vr,Mt=function tr(wt){const Q=[];return pr(wt,Q),Q}((Ke.get(pe)||Ri).map(cr=>cr.getRealPlayer())).filter(cr=>!!cr.element&&cr.element===pe),Lt=Sn.get(pe),pn=Xn.get(pe),Bn=Xe(this._normalizer,Ui.keyframes,Lt,pn),hr=this._buildPlayer(Ui,Bn,Mt);if(Ui.subTimeline&&$t&&Lr.add(pe),Ge){const cr=new Os(Q,yr,pe);cr.setRealPlayer(hr),ci.push(cr)}return hr});ci.forEach(Ui=>{F(this.playersByQueriedElement,Ui.element,[]).push(Ui),Ui.onDone(()=>function qo(wt,Q,be){let Ke=wt.get(Q);if(Ke){if(Ke.length){const $t=Ke.indexOf(be);Ke.splice($t,1)}0==Ke.length&&wt.delete(Q)}return Ke}(this.playersByQueriedElement,Ui.element,Ui))}),di.forEach(Ui=>Ds(Ui,mt));const Zi=Ne(wi);return Zi.onDestroy(()=>{di.forEach(Ui=>cs(Ui,mt)),Et(Vr,be.toStyles)}),Lr.forEach(Ui=>{F($t,Ui,[]).push(Zi)}),Zi}_buildPlayer(Q,be,Ke){return be.length>0?this.driver.animate(Q.element,be,Q.duration,Q.delay,Q.easing,Ke):new f.sf(Q.duration,Q.delay)}}class Os{constructor(Q,be,Ke){this.namespaceId=Q,this.triggerName=be,this.element=Ke,this._player=new f.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(Q){this._containsRealPlayer||(this._player=Q,this._queuedCallbacks.forEach((be,Ke)=>{be.forEach($t=>Ot(Q,Ke,void 0,$t))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(Q.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(Q){this.totalTime=Q}syncPlayerEvents(Q){const be=this._player;be.triggerCallback&&Q.onStart(()=>be.triggerCallback("start")),Q.onDone(()=>this.finish()),Q.onDestroy(()=>this.destroy())}_queueEvent(Q,be){F(this._queuedCallbacks,Q,[]).push(be)}onDone(Q){this.queued&&this._queueEvent("done",Q),this._player.onDone(Q)}onStart(Q){this.queued&&this._queueEvent("start",Q),this._player.onStart(Q)}onDestroy(Q){this.queued&&this._queueEvent("destroy",Q),this._player.onDestroy(Q)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(Q){this.queued||this._player.setPosition(Q)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(Q){const be=this._player;be.triggerCallback&&be.triggerCallback(Q)}}function Lo(wt){return wt&&1===wt.nodeType}function ca(wt,Q){const be=wt.style.display;return wt.style.display=Q??"none",be}function Ms(wt,Q,be,Ke,$t){const Sn=[];be.forEach(Vr=>Sn.push(ca(Vr)));const Xn=[];Ke.forEach((Vr,ci)=>{const di=new Map;Vr.forEach(Lr=>{const wi=Q.computeStyle(ci,Lr,$t);di.set(Lr,wi),(!wi||0==wi.length)&&(ci[xo]=to,Xn.push(ci))}),wt.set(ci,di)});let yr=0;return be.forEach(Vr=>ca(Vr,Sn[yr++])),Xn}function Ks(wt,Q){const be=new Map;if(wt.forEach(yr=>be.set(yr,[])),0==Q.length)return be;const $t=new Set(Q),Sn=new Map;function Xn(yr){if(!yr)return 1;let Vr=Sn.get(yr);if(Vr)return Vr;const ci=yr.parentNode;return Vr=be.has(ci)?ci:$t.has(ci)?1:Xn(ci),Sn.set(yr,Vr),Vr}return Q.forEach(yr=>{const Vr=Xn(yr);1!==Vr&&be.get(Vr).push(yr)}),be}function Ds(wt,Q){wt.classList?.add(Q)}function cs(wt,Q){wt.classList?.remove(Q)}function ua(wt,Q,be){Ne(be).onDone(()=>wt.processLeaveNode(Q))}function pr(wt,Q){for(let be=0;be<wt.length;be++){const Ke=wt[be];Ke instanceof f.ui?pr(Ke.players,Q):Q.push(Ke)}}function Pr(wt,Q,be){const Ke=be.get(wt);if(!Ke)return!1;let $t=Q.get(wt);return $t?Ke.forEach(Sn=>$t.add(Sn)):Q.set(wt,Ke),be.delete(wt),!0}class Bi{constructor(Q,be,Ke,$t){this._driver=be,this._normalizer=Ke,this._triggerCache={},this.onRemovalComplete=(Sn,Xn)=>{},this._transitionEngine=new ys(Q.body,be,Ke,$t),this._timelineEngine=new os(Q.body,be,Ke),this._transitionEngine.onRemovalComplete=(Sn,Xn)=>this.onRemovalComplete(Sn,Xn)}registerTrigger(Q,be,Ke,$t,Sn){const Xn=Q+"-"+$t;let yr=this._triggerCache[Xn];if(!yr){const Vr=[],di=bn(this._driver,Sn,Vr,[]);if(Vr.length)throw function qe(wt,Q){return new i.wOt(3404,!1)}();yr=function Is(wt,Q,be){return new Ws(wt,Q,be)}($t,di,this._normalizer),this._triggerCache[Xn]=yr}this._transitionEngine.registerTrigger(be,$t,yr)}register(Q,be){this._transitionEngine.register(Q,be)}destroy(Q,be){this._transitionEngine.destroy(Q,be)}onInsert(Q,be,Ke,$t){this._transitionEngine.insertNode(Q,be,Ke,$t)}onRemove(Q,be,Ke){this._transitionEngine.removeNode(Q,be,Ke)}disableAnimations(Q,be){this._transitionEngine.markElementAsDisabled(Q,be)}process(Q,be,Ke,$t){if("@"==Ke.charAt(0)){const[Sn,Xn]=T(Ke);this._timelineEngine.command(Sn,be,Xn,$t)}else this._transitionEngine.trigger(Q,be,Ke,$t)}listen(Q,be,Ke,$t,Sn){if("@"==Ke.charAt(0)){const[Xn,yr]=T(Ke);return this._timelineEngine.listen(Xn,be,yr,Sn)}return this._transitionEngine.listen(Q,be,Ke,$t,Sn)}flush(Q=-1){this._transitionEngine.flush(Q)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(Q){this._transitionEngine.afterFlushAnimationsDone(Q)}}class xn{constructor(Q,be,Ke){this._element=Q,this._startStyles=be,this._endStyles=Ke,this._state=0;let $t=xn.initialStylesByElement.get(Q);$t||xn.initialStylesByElement.set(Q,$t=new Map),this._initialStyles=$t}start(){this._state<1&&(this._startStyles&&Et(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Et(this._element,this._initialStyles),this._endStyles&&(Et(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(xn.initialStylesByElement.delete(this._element),this._startStyles&&(xt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xt(this._element,this._endStyles),this._endStyles=null),Et(this._element,this._initialStyles),this._state=3)}}function Wt(wt){let Q=null;return wt.forEach((be,Ke)=>{(function hn(wt){return"display"===wt||"position"===wt})(Ke)&&(Q=Q||new Map,Q.set(Ke,be))}),Q}xn.initialStylesByElement=new WeakMap;class $e{constructor(Q,be,Ke,$t){this.element=Q,this.keyframes=be,this.options=Ke,this._specialStyles=$t,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=Ke.duration,this._delay=Ke.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const Q=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,Q,this.options),this._finalKeyframe=Q.length?Q[Q.length-1]:new Map;const be=()=>this._onFinish();this.domPlayer.addEventListener("finish",be),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",be)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(Q){const be=[];return Q.forEach(Ke=>{be.push(Object.fromEntries(Ke))}),be}_triggerWebAnimation(Q,be,Ke){return Q.animate(this._convertKeyframesToObject(be),Ke)}onStart(Q){this._originalOnStartFns.push(Q),this._onStartFns.push(Q)}onDone(Q){this._originalOnDoneFns.push(Q),this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(Q=>Q()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}setPosition(Q){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=Q*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const Q=new Map;this.hasStarted()&&this._finalKeyframe.forEach((Ke,$t)=>{"offset"!==$t&&Q.set($t,this._finished?Ke:wn(this.element,$t))}),this.currentSnapshot=Q}triggerCallback(Q){const be="start"===Q?this._onStartFns:this._onDoneFns;be.forEach(Ke=>Ke()),be.length=0}}class Nt{validateStyleProperty(Q){return!0}validateAnimatableStyleProperty(Q){return!0}matchesElement(Q,be){return!1}containsElement(Q,be){return ge(Q,be)}getParentElement(Q){return z(Q)}query(Q,be,Ke){return et(Q,be,Ke)}computeStyle(Q,be,Ke){return wn(Q,be)}animate(Q,be,Ke,$t,Sn,Xn=[]){const Vr={duration:Ke,delay:$t,fill:0==$t?"both":"forwards"};Sn&&(Vr.easing=Sn);const ci=new Map,di=Xn.filter(Zi=>Zi instanceof $e);(function Jt(wt,Q){return 0===wt||0===Q})(Ke,$t)&&di.forEach(Zi=>{Zi.currentSnapshot.forEach((Ui,pe)=>ci.set(pe,Ui))});let Lr=function an(wt){return wt.length?wt[0]instanceof Map?wt:wt.map(Q=>new Map(Object.entries(Q))):[]}(be).map(Zi=>new Map(Zi));Lr=function We(wt,Q,be){if(be.size&&Q.length){let Ke=Q[0],$t=[];if(be.forEach((Sn,Xn)=>{Ke.has(Xn)||$t.push(Xn),Ke.set(Xn,Sn)}),$t.length)for(let Sn=1;Sn<Q.length;Sn++){let Xn=Q[Sn];$t.forEach(yr=>Xn.set(yr,wn(wt,yr)))}}return Q}(Q,Lr,ci);const wi=function ot(wt,Q){let be=null,Ke=null;return Array.isArray(Q)&&Q.length?(be=Wt(Q[0]),Q.length>1&&(Ke=Wt(Q[Q.length-1]))):Q instanceof Map&&(be=Wt(Q)),be||Ke?new xn(wt,be,Ke):null}(Q,Lr);return new $e(Q,Lr,Vr,wi)}}const Cr="@.disabled";class Kr{constructor(Q,be,Ke,$t){this.namespaceId=Q,this.delegate=be,this.engine=Ke,this._onDestroy=$t,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(Q){this.delegate.destroyNode?.(Q)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(Q,be){return this.delegate.createElement(Q,be)}createComment(Q){return this.delegate.createComment(Q)}createText(Q){return this.delegate.createText(Q)}appendChild(Q,be){this.delegate.appendChild(Q,be),this.engine.onInsert(this.namespaceId,be,Q,!1)}insertBefore(Q,be,Ke,$t=!0){this.delegate.insertBefore(Q,be,Ke),this.engine.onInsert(this.namespaceId,be,Q,$t)}removeChild(Q,be,Ke){this.engine.onRemove(this.namespaceId,be,this.delegate)}selectRootElement(Q,be){return this.delegate.selectRootElement(Q,be)}parentNode(Q){return this.delegate.parentNode(Q)}nextSibling(Q){return this.delegate.nextSibling(Q)}setAttribute(Q,be,Ke,$t){this.delegate.setAttribute(Q,be,Ke,$t)}removeAttribute(Q,be,Ke){this.delegate.removeAttribute(Q,be,Ke)}addClass(Q,be){this.delegate.addClass(Q,be)}removeClass(Q,be){this.delegate.removeClass(Q,be)}setStyle(Q,be,Ke,$t){this.delegate.setStyle(Q,be,Ke,$t)}removeStyle(Q,be,Ke){this.delegate.removeStyle(Q,be,Ke)}setProperty(Q,be,Ke){"@"==be.charAt(0)&&be==Cr?this.disableAnimations(Q,!!Ke):this.delegate.setProperty(Q,be,Ke)}setValue(Q,be){this.delegate.setValue(Q,be)}listen(Q,be,Ke){return this.delegate.listen(Q,be,Ke)}disableAnimations(Q,be){this.engine.disableAnimations(Q,be)}}class $r extends Kr{constructor(Q,be,Ke,$t,Sn){super(be,Ke,$t,Sn),this.factory=Q,this.namespaceId=be}setProperty(Q,be,Ke){"@"==be.charAt(0)?"."==be.charAt(1)&&be==Cr?this.disableAnimations(Q,Ke=void 0===Ke||!!Ke):this.engine.process(this.namespaceId,Q,be.slice(1),Ke):this.delegate.setProperty(Q,be,Ke)}listen(Q,be,Ke){if("@"==be.charAt(0)){const $t=function pi(wt){switch(wt){case"body":return document.body;case"document":return document;case"window":return window;default:return wt}}(Q);let Sn=be.slice(1),Xn="";return"@"!=Sn.charAt(0)&&([Sn,Xn]=function ri(wt){const Q=wt.indexOf(".");return[wt.substring(0,Q),wt.slice(Q+1)]}(Sn)),this.engine.listen(this.namespaceId,$t,Sn,Xn,yr=>{this.factory.scheduleListenerCallback(yr._data||-1,Ke,yr)})}return this.delegate.listen(Q,be,Ke)}}class Xi{constructor(Q,be,Ke){this.delegate=Q,this.engine=be,this._zone=Ke,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,be.onRemovalComplete=($t,Sn)=>{const Xn=Sn?.parentNode($t);Xn&&Sn.removeChild(Xn,$t)}}createRenderer(Q,be){const $t=this.delegate.createRenderer(Q,be);if(!Q||!be?.data?.animation){const ci=this._rendererCache;let di=ci.get($t);return di||(di=new Kr("",$t,this.engine,()=>ci.delete($t)),ci.set($t,di)),di}const Sn=be.id,Xn=be.id+"-"+this._currentId;this._currentId++,this.engine.register(Xn,Q);const yr=ci=>{Array.isArray(ci)?ci.forEach(yr):this.engine.registerTrigger(Sn,Xn,Q,ci.name,ci)};return be.data.animation.forEach(yr),new $r(this,Xn,$t,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(Q,be,Ke){if(Q>=0&&Q<this._microtaskId)return void this._zone.run(()=>be(Ke));const $t=this._animationCallbacksBuffer;0==$t.length&&queueMicrotask(()=>{this._zone.run(()=>{$t.forEach(Sn=>{const[Xn,yr]=Sn;Xn(yr)}),this._animationCallbacksBuffer=[]})}),$t.push([be,Ke])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var vo=E(60177);const Qe=[{provide:je,useFactory:function Ao(){return new dr}},{provide:Bi,useClass:(()=>{var wt;class Q extends Bi{constructor(Ke,$t,Sn){super(Ke,$t,Sn,(0,i.WQX)(i.An2,{optional:!0}))}ngOnDestroy(){this.flush()}}return(wt=Q).\u0275fac=function(Ke){return new(Ke||wt)(i.KVO(vo.qQ),i.KVO(ln),i.KVO(je))},wt.\u0275prov=i.jDH({token:wt,factory:wt.\u0275fac}),Q})()},{provide:i._9s,useFactory:function st(wt,Q,be){return new Xi(wt,Q,be)},deps:[u.B7,Bi,i.SKi]}],dn=[{provide:ln,useFactory:()=>new Nt},{provide:i.bc$,useValue:"BrowserAnimations"},...Qe],ft=[{provide:ln,useClass:Rt},{provide:i.bc$,useValue:"NoopAnimations"},...Qe];let fe=(()=>{var wt;class Q{static withConfig(Ke){return{ngModule:Q,providers:Ke.disableAnimations?ft:dn}}}return(wt=Q).\u0275fac=function(Ke){return new(Ke||wt)},wt.\u0275mod=i.$C({type:wt}),wt.\u0275inj=i.G2t({providers:dn,imports:[u.Bb]}),Q})()},345:(en,Ve,E)=>{"use strict";E.d(Ve,{B7:()=>me,Bb:()=>T,hE:()=>p,sG:()=>Ot,up:()=>gn});var i=E(54438),u=E(60177);class f extends u.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class C extends f{static makeCurrent(){(0,u.ZD)(new C)}onAndCancel(At,Et,xt){return At.addEventListener(Et,xt),()=>{At.removeEventListener(Et,xt)}}dispatchEvent(At,Et){At.dispatchEvent(Et)}remove(At){At.parentNode&&At.parentNode.removeChild(At)}createElement(At,Et){return(Et=Et||this.getDefaultDocument()).createElement(At)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(At){return At.nodeType===Node.ELEMENT_NODE}isShadowRoot(At){return At instanceof DocumentFragment}getGlobalEventTarget(At,Et){return"window"===Et?window:"document"===Et?At:"body"===Et?At.body:null}getBaseHref(At){const Et=function w(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==Et?null:function d(an){return new URL(an,document.baseURI).pathname}(Et)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(At){return(0,u._b)(document.cookie,At)}}let x=null,S=(()=>{var an;class At{build(){return new XMLHttpRequest}}return(an=At).\u0275fac=function(xt){return new(xt||an)},an.\u0275prov=i.jDH({token:an,factory:an.\u0275fac}),At})();const U=new i.nKC("");let P=(()=>{var an;class At{constructor(xt,gt){this._zone=gt,this._eventNameToPlugin=new Map,xt.forEach(tn=>{tn.manager=this}),this._plugins=xt.slice().reverse()}addEventListener(xt,gt,tn){return this._findPluginFor(gt).addEventListener(xt,gt,tn)}getZone(){return this._zone}_findPluginFor(xt){let gt=this._eventNameToPlugin.get(xt);if(gt)return gt;if(gt=this._plugins.find(Xt=>Xt.supports(xt)),!gt)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(xt,gt),gt}}return(an=At).\u0275fac=function(xt){return new(xt||an)(i.KVO(U),i.KVO(i.SKi))},an.\u0275prov=i.jDH({token:an,factory:an.\u0275fac}),At})();class y{constructor(At){this._doc=At}}const v="ng-app-id";let M=(()=>{var an;class At{constructor(xt,gt,tn,Xt={}){this.doc=xt,this.appId=gt,this.nonce=tn,this.platformId=Xt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.Vy)(Xt),this.resetHostNodes()}addStyles(xt){for(const gt of xt)1===this.changeUsageCount(gt,1)&&this.onStyleAdded(gt)}removeStyles(xt){for(const gt of xt)this.changeUsageCount(gt,-1)<=0&&this.onStyleRemoved(gt)}ngOnDestroy(){const xt=this.styleNodesInDOM;xt&&(xt.forEach(gt=>gt.remove()),xt.clear());for(const gt of this.getAllStyles())this.onStyleRemoved(gt);this.resetHostNodes()}addHost(xt){this.hostNodes.add(xt);for(const gt of this.getAllStyles())this.addStyleToHost(xt,gt)}removeHost(xt){this.hostNodes.delete(xt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(xt){for(const gt of this.hostNodes)this.addStyleToHost(gt,xt)}onStyleRemoved(xt){const gt=this.styleRef;gt.get(xt)?.elements?.forEach(tn=>tn.remove()),gt.delete(xt)}collectServerRenderedStyles(){const xt=this.doc.head?.querySelectorAll(`style[${v}="${this.appId}"]`);if(xt?.length){const gt=new Map;return xt.forEach(tn=>{null!=tn.textContent&&gt.set(tn.textContent,tn)}),gt}return null}changeUsageCount(xt,gt){const tn=this.styleRef;if(tn.has(xt)){const Xt=tn.get(xt);return Xt.usage+=gt,Xt.usage}return tn.set(xt,{usage:gt,elements:[]}),gt}getStyleElement(xt,gt){const tn=this.styleNodesInDOM,Xt=tn?.get(gt);if(Xt?.parentNode===xt)return tn.delete(gt),Xt.removeAttribute(v),Xt;{const Ye=this.doc.createElement("style");return this.nonce&&Ye.setAttribute("nonce",this.nonce),Ye.textContent=gt,this.platformIsServer&&Ye.setAttribute(v,this.appId),xt.appendChild(Ye),Ye}}addStyleToHost(xt,gt){const tn=this.getStyleElement(xt,gt),Xt=this.styleRef,Ye=Xt.get(gt)?.elements;Ye?Ye.push(tn):Xt.set(gt,{elements:[tn],usage:1})}resetHostNodes(){const xt=this.hostNodes;xt.clear(),xt.add(this.doc.head)}}return(an=At).\u0275fac=function(xt){return new(xt||an)(i.KVO(u.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))},an.\u0275prov=i.jDH({token:an,factory:an.\u0275fac}),At})();const G={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},K=/%COMP%/g,V="%COMP%",Z=`_nghost-${V}`,J=`_ngcontent-${V}`,ae=new i.nKC("",{providedIn:"root",factory:()=>!0});function H(an,At){return At.map(Et=>Et.replace(K,an))}let me=(()=>{var an;class At{constructor(xt,gt,tn,Xt,Ye,Vt,En,it=null){this.eventManager=xt,this.sharedStylesHost=gt,this.appId=tn,this.removeStylesOnCompDestroy=Xt,this.doc=Ye,this.platformId=Vt,this.ngZone=En,this.nonce=it,this.rendererByCompId=new Map,this.platformIsServer=(0,u.Vy)(Vt),this.defaultRenderer=new B(xt,Ye,En,this.platformIsServer)}createRenderer(xt,gt){if(!xt||!gt)return this.defaultRenderer;this.platformIsServer&&gt.encapsulation===i.gXe.ShadowDom&&(gt={...gt,encapsulation:i.gXe.Emulated});const tn=this.getOrCreateRenderer(xt,gt);return tn instanceof ht?tn.applyToHost(xt):tn instanceof _e&&tn.applyStyles(),tn}getOrCreateRenderer(xt,gt){const tn=this.rendererByCompId;let Xt=tn.get(gt.id);if(!Xt){const Ye=this.doc,Vt=this.ngZone,En=this.eventManager,it=this.sharedStylesHost,ke=this.removeStylesOnCompDestroy,Jt=this.platformIsServer;switch(gt.encapsulation){case i.gXe.Emulated:Xt=new ht(En,it,gt,this.appId,ke,Ye,Vt,Jt);break;case i.gXe.ShadowDom:return new qe(En,it,xt,gt,Ye,Vt,this.nonce,Jt);default:Xt=new _e(En,it,gt,ke,Ye,Vt,Jt)}tn.set(gt.id,Xt)}return Xt}ngOnDestroy(){this.rendererByCompId.clear()}}return(an=At).\u0275fac=function(xt){return new(xt||an)(i.KVO(P),i.KVO(M),i.KVO(i.sZ2),i.KVO(ae),i.KVO(u.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))},an.\u0275prov=i.jDH({token:an,factory:an.\u0275fac}),At})();class B{constructor(At,Et,xt,gt){this.eventManager=At,this.doc=Et,this.ngZone=xt,this.platformIsServer=gt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(At,Et){return Et?this.doc.createElementNS(G[Et]||Et,At):this.doc.createElement(At)}createComment(At){return this.doc.createComment(At)}createText(At){return this.doc.createTextNode(At)}appendChild(At,Et){(Ue(At)?At.content:At).appendChild(Et)}insertBefore(At,Et,xt){At&&(Ue(At)?At.content:At).insertBefore(Et,xt)}removeChild(At,Et){At&&At.removeChild(Et)}selectRootElement(At,Et){let xt="string"==typeof At?this.doc.querySelector(At):At;if(!xt)throw new i.wOt(-5104,!1);return Et||(xt.textContent=""),xt}parentNode(At){return At.parentNode}nextSibling(At){return At.nextSibling}setAttribute(At,Et,xt,gt){if(gt){Et=gt+":"+Et;const tn=G[gt];tn?At.setAttributeNS(tn,Et,xt):At.setAttribute(Et,xt)}else At.setAttribute(Et,xt)}removeAttribute(At,Et,xt){if(xt){const gt=G[xt];gt?At.removeAttributeNS(gt,Et):At.removeAttribute(`${xt}:${Et}`)}else At.removeAttribute(Et)}addClass(At,Et){At.classList.add(Et)}removeClass(At,Et){At.classList.remove(Et)}setStyle(At,Et,xt,gt){gt&(i.czy.DashCase|i.czy.Important)?At.style.setProperty(Et,xt,gt&i.czy.Important?"important":""):At.style[Et]=xt}removeStyle(At,Et,xt){xt&i.czy.DashCase?At.style.removeProperty(Et):At.style[Et]=""}setProperty(At,Et,xt){null!=At&&(At[Et]=xt)}setValue(At,Et){At.nodeValue=Et}listen(At,Et,xt){if("string"==typeof At&&!(At=(0,u.QT)().getGlobalEventTarget(this.doc,At)))throw new Error(`Unsupported event target ${At} for event ${Et}`);return this.eventManager.addEventListener(At,Et,this.decoratePreventDefault(xt))}decoratePreventDefault(At){return Et=>{if("__ngUnwrap__"===Et)return At;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>At(Et)):At(Et))&&Et.preventDefault()}}}function Ue(an){return"TEMPLATE"===an.tagName&&void 0!==an.content}class qe extends B{constructor(At,Et,xt,gt,tn,Xt,Ye,Vt){super(At,tn,Xt,Vt),this.sharedStylesHost=Et,this.hostEl=xt,this.shadowRoot=xt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const En=H(gt.id,gt.styles);for(const it of En){const ke=document.createElement("style");Ye&&ke.setAttribute("nonce",Ye),ke.textContent=it,this.shadowRoot.appendChild(ke)}}nodeOrShadowRoot(At){return At===this.hostEl?this.shadowRoot:At}appendChild(At,Et){return super.appendChild(this.nodeOrShadowRoot(At),Et)}insertBefore(At,Et,xt){return super.insertBefore(this.nodeOrShadowRoot(At),Et,xt)}removeChild(At,Et){return super.removeChild(this.nodeOrShadowRoot(At),Et)}parentNode(At){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(At)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _e extends B{constructor(At,Et,xt,gt,tn,Xt,Ye,Vt){super(At,tn,Xt,Ye),this.sharedStylesHost=Et,this.removeStylesOnCompDestroy=gt,this.styles=Vt?H(Vt,xt.styles):xt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ht extends _e{constructor(At,Et,xt,gt,tn,Xt,Ye,Vt){const En=gt+"-"+xt.id;super(At,Et,xt,tn,Xt,Ye,Vt,En),this.contentAttr=function Y(an){return J.replace(K,an)}(En),this.hostAttr=function $(an){return Z.replace(K,an)}(En)}applyToHost(At){this.applyStyles(),this.setAttribute(At,this.hostAttr,"")}createElement(At,Et){const xt=super.createElement(At,Et);return super.setAttribute(xt,this.contentAttr,""),xt}}let Bt=(()=>{var an;class At extends y{constructor(xt){super(xt)}supports(xt){return!0}addEventListener(xt,gt,tn){return xt.addEventListener(gt,tn,!1),()=>this.removeEventListener(xt,gt,tn)}removeEventListener(xt,gt,tn){return xt.removeEventListener(gt,tn)}}return(an=At).\u0275fac=function(xt){return new(xt||an)(i.KVO(u.qQ))},an.\u0275prov=i.jDH({token:an,factory:an.\u0275fac}),At})();const de=["alt","control","meta","shift"],R={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j={alt:an=>an.altKey,control:an=>an.ctrlKey,meta:an=>an.metaKey,shift:an=>an.shiftKey};let he=(()=>{var an;class At extends y{constructor(xt){super(xt)}supports(xt){return null!=At.parseEventName(xt)}addEventListener(xt,gt,tn){const Xt=At.parseEventName(gt),Ye=At.eventCallback(Xt.fullKey,tn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.QT)().onAndCancel(xt,Xt.domEventName,Ye))}static parseEventName(xt){const gt=xt.toLowerCase().split("."),tn=gt.shift();if(0===gt.length||"keydown"!==tn&&"keyup"!==tn)return null;const Xt=At._normalizeKey(gt.pop());let Ye="",Vt=gt.indexOf("code");if(Vt>-1&&(gt.splice(Vt,1),Ye="code."),de.forEach(it=>{const ke=gt.indexOf(it);ke>-1&&(gt.splice(ke,1),Ye+=it+".")}),Ye+=Xt,0!=gt.length||0===Xt.length)return null;const En={};return En.domEventName=tn,En.fullKey=Ye,En}static matchEventFullKeyCode(xt,gt){let tn=R[xt.key]||xt.key,Xt="";return gt.indexOf("code.")>-1&&(tn=xt.code,Xt="code."),!(null==tn||!tn)&&(tn=tn.toLowerCase()," "===tn?tn="space":"."===tn&&(tn="dot"),de.forEach(Ye=>{Ye!==tn&&(0,j[Ye])(xt)&&(Xt+=Ye+".")}),Xt+=tn,Xt===gt)}static eventCallback(xt,gt,tn){return Xt=>{At.matchEventFullKeyCode(Xt,xt)&&tn.runGuarded(()=>gt(Xt))}}static _normalizeKey(xt){return"esc"===xt?"escape":xt}}return(an=At).\u0275fac=function(xt){return new(xt||an)(i.KVO(u.qQ))},an.\u0275prov=i.jDH({token:an,factory:an.\u0275fac}),At})();const Ot=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:u.AJ},{provide:i.PLl,useValue:function Mn(){C.makeCurrent()},multi:!0},{provide:u.qQ,useFactory:function Ne(){return(0,i.TL$)(document),document},deps:[]}]),re=new i.nKC(""),D=[{provide:i.e01,useClass:class k{addToWindow(At){i.JZv.getAngularTestability=(xt,gt=!0)=>{const tn=At.findTestabilityInTree(xt,gt);if(null==tn)throw new i.wOt(5103,!1);return tn},i.JZv.getAllAngularTestabilities=()=>At.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>At.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(xt=>{const gt=i.JZv.getAllAngularTestabilities();let tn=gt.length;const Xt=function(){tn--,0==tn&&xt()};gt.forEach(Ye=>{Ye.whenStable(Xt)})})}findTestabilityInTree(At,Et,xt){return null==Et?null:At.getTestability(Et)??(xt?(0,u.QT)().isShadowRoot(Et)?this.findTestabilityInTree(At,Et.host,!0):this.findTestabilityInTree(At,Et.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],F=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function It(){return new i.zcH},deps:[]},{provide:U,useClass:Bt,multi:!0,deps:[u.qQ,i.SKi,i.Agw]},{provide:U,useClass:he,multi:!0,deps:[u.qQ]},me,M,P,{provide:i._9s,useExisting:me},{provide:u.N0,useClass:S,deps:[]},[]];let T=(()=>{var an;class At{constructor(xt){}static withServerTransition(xt){return{ngModule:At,providers:[{provide:i.sZ2,useValue:xt.appId}]}}}return(an=At).\u0275fac=function(xt){return new(xt||an)(i.KVO(re,12))},an.\u0275mod=i.$C({type:an}),an.\u0275inj=i.G2t({providers:[...F,...D],imports:[u.MD,i.Hbi]}),At})(),p=(()=>{var an;class At{constructor(xt){this._doc=xt}getTitle(){return this._doc.title}setTitle(xt){this._doc.title=xt||""}}return(an=At).\u0275fac=function(xt){return new(xt||an)(i.KVO(u.qQ))},an.\u0275prov=i.jDH({token:an,factory:an.\u0275fac,providedIn:"root"}),At})(),gn=(()=>{var an;class At{}return(an=At).\u0275fac=function(xt){return new(xt||an)},an.\u0275prov=i.jDH({token:an,factory:function(xt){let gt=null;return gt=xt?new(xt||an):i.KVO(lt),gt},providedIn:"root"}),At})(),lt=(()=>{var an;class At extends gn{constructor(xt){super(),this._doc=xt}sanitize(xt,gt){if(null==gt)return null;switch(xt){case i.WPN.NONE:return gt;case i.WPN.HTML:return(0,i.ZF7)(gt,"HTML")?(0,i.rcV)(gt):(0,i.h9k)(this._doc,String(gt)).toString();case i.WPN.STYLE:return(0,i.ZF7)(gt,"Style")?(0,i.rcV)(gt):gt;case i.WPN.SCRIPT:if((0,i.ZF7)(gt,"Script"))return(0,i.rcV)(gt);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(gt,"URL")?(0,i.rcV)(gt):(0,i.$MX)(String(gt));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(gt,"ResourceURL"))return(0,i.rcV)(gt);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(xt){return(0,i.Kcf)(xt)}bypassSecurityTrustStyle(xt){return(0,i.cWb)(xt)}bypassSecurityTrustScript(xt){return(0,i.UyX)(xt)}bypassSecurityTrustUrl(xt){return(0,i.osQ)(xt)}bypassSecurityTrustResourceUrl(xt){return(0,i.e5t)(xt)}}return(an=At).\u0275fac=function(xt){return new(xt||an)(i.KVO(u.qQ))},an.\u0275prov=i.jDH({token:an,factory:an.\u0275fac,providedIn:"root"}),At})()},38645:(en,Ve,E)=>{"use strict";E.d(Ve,{nX:()=>Rs,nU:()=>bt,wF:()=>Ar,Z:()=>fr,Ix:()=>Ho,Wk:()=>Do,iI:()=>Dl,n3:()=>$i,Sd:()=>lt});var i=E(28407),u=E(54438),f=E(28454),C=E(21472),x=E(15877),w=E(29160),d=E(82656),k=E(50330),S=E(35892),U=E(45946),P=E(37479),y=E(45326),v=E(2515),M=E(7221),G=E(85052),K=E(81027),V=E(60177),Z=E(36110),J=E(32914),te=E(17365),ae=E(35160),Y=E(14264),$=E(11756),H=E(60830),me=E(26758),B=E(39705),ce=E(28577),Oe=E(15210),Ue=E(95773),_e=E(47369),ht=E(66196);function Bt(ue){return ue<=0?()=>v.w:(0,Oe.N)((Ie,Je)=>{let Se=[];Ie.subscribe((0,ht._)(Je,yt=>{Se.push(yt),ue<Se.length&&Se.shift()},()=>{for(const yt of Se)Je.next(yt);Je.complete()},void 0,()=>{Se=null}))})}var de=E(67074),R=E(19577),he=E(99539),Ce=E(15152),Re=E(44710),pt=E(37925),zt=E(98297),Mn=E(345);const It="primary",Ne=Symbol("RouteTitle");class Xe{constructor(Ie){this.params=Ie||{}}has(Ie){return Object.prototype.hasOwnProperty.call(this.params,Ie)}get(Ie){if(this.has(Ie)){const Je=this.params[Ie];return Array.isArray(Je)?Je[0]:Je}return null}getAll(Ie){if(this.has(Ie)){const Je=this.params[Ie];return Array.isArray(Je)?Je:[Je]}return[]}get keys(){return Object.keys(this.params)}}function Ot(ue){return new Xe(ue)}function re(ue,Ie,Je){const Se=Je.path.split("/");if(Se.length>ue.length||"full"===Je.pathMatch&&(Ie.hasChildren()||Se.length<ue.length))return null;const yt={};for(let yn=0;yn<Se.length;yn++){const jn=Se[yn],qr=ue[yn];if(jn.startsWith(":"))yt[jn.substring(1)]=qr;else if(jn!==qr.path)return null}return{consumed:ue.slice(0,Se.length),posParams:yt}}function F(ue,Ie){const Je=ue?T(ue):void 0,Se=Ie?T(Ie):void 0;if(!Je||!Se||Je.length!=Se.length)return!1;let yt;for(let yn=0;yn<Je.length;yn++)if(yt=Je[yn],!W(ue[yt],Ie[yt]))return!1;return!0}function T(ue){return[...Object.keys(ue),...Object.getOwnPropertySymbols(ue)]}function W(ue,Ie){if(Array.isArray(ue)&&Array.isArray(Ie)){if(ue.length!==Ie.length)return!1;const Je=[...ue].sort(),Se=[...Ie].sort();return Je.every((yt,yn)=>Se[yn]===yt)}return ue===Ie}function z(ue){return ue.length>0?ue[ue.length-1]:null}function p(ue){return(0,f.A)(ue)?ue:(0,u.jNT)(ue)?(0,C.H)(Promise.resolve(ue)):(0,x.of)(ue)}const I={exact:function ve(ue,Ie,Je){if(!jt(ue.segments,Ie.segments)||!Rt(ue.segments,Ie.segments,Je)||ue.numberOfChildren!==Ie.numberOfChildren)return!1;for(const Se in Ie.children)if(!ue.children[Se]||!ve(ue.children[Se],Ie.children[Se],Je))return!1;return!0},subset:et},Ae={exact:function L(ue,Ie){return F(ue,Ie)},subset:function ge(ue,Ie){return Object.keys(Ie).length<=Object.keys(ue).length&&Object.keys(Ie).every(Je=>W(ue[Je],Ie[Je]))},ignored:()=>!0};function se(ue,Ie,Je){return I[Je.paths](ue.root,Ie.root,Je.matrixParams)&&Ae[Je.queryParams](ue.queryParams,Ie.queryParams)&&!("exact"===Je.fragment&&ue.fragment!==Ie.fragment)}function et(ue,Ie,Je){return Pt(ue,Ie,Ie.segments,Je)}function Pt(ue,Ie,Je,Se){if(ue.segments.length>Je.length){const yt=ue.segments.slice(0,Je.length);return!(!jt(yt,Je)||Ie.hasChildren()||!Rt(yt,Je,Se))}if(ue.segments.length===Je.length){if(!jt(ue.segments,Je)||!Rt(ue.segments,Je,Se))return!1;for(const yt in Ie.children)if(!ue.children[yt]||!et(ue.children[yt],Ie.children[yt],Se))return!1;return!0}{const yt=Je.slice(0,ue.segments.length),yn=Je.slice(ue.segments.length);return!!(jt(ue.segments,yt)&&Rt(ue.segments,yt,Se)&&ue.children[It])&&Pt(ue.children[It],Ie,yn,Se)}}function Rt(ue,Ie,Je){return Ie.every((Se,yt)=>Ae[Je](ue[yt].parameters,Se.parameters))}class ln{constructor(Ie=new je([],{}),Je={},Se=null){this.root=Ie,this.queryParams=Je,this.fragment=Se}get queryParamMap(){return this._queryParamMap??=Ot(this.queryParams),this._queryParamMap}toString(){return He.serialize(this)}}class je{constructor(Ie,Je){this.segments=Ie,this.children=Je,this.parent=null,Object.values(Je).forEach(Se=>Se.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ye(this)}}class Ht{constructor(Ie,Je){this.path=Ie,this.parameters=Je}get parameterMap(){return this._parameterMap??=Ot(this.parameters),this._parameterMap}toString(){return At(this)}}function jt(ue,Ie){return ue.length===Ie.length&&ue.every((Je,Se)=>Je.path===Ie[Se].path)}let lt=(()=>{var ue;class Ie{}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:()=>new bt,providedIn:"root"}),Ie})();class bt{parse(Ie){const Je=new Jt(Ie);return new ln(Je.parseRootSegment(),Je.parseQueryParams(),Je.parseFragment())}serialize(Ie){const Je=`/${mt(Ie.root,!0)}`,Se=function xt(ue){const Ie=Object.entries(ue).map(([Je,Se])=>Array.isArray(Se)?Se.map(yt=>`${Kt(Je)}=${Kt(yt)}`).join("&"):`${Kt(Je)}=${Kt(Se)}`).filter(Je=>Je);return Ie.length?`?${Ie.join("&")}`:""}(Ie.queryParams);return`${Je}${Se}${"string"==typeof Ie.fragment?`#${function Dn(ue){return encodeURI(ue)}(Ie.fragment)}`:""}`}}const He=new bt;function ye(ue){return ue.segments.map(Ie=>At(Ie)).join("/")}function mt(ue,Ie){if(!ue.hasChildren())return ye(ue);if(Ie){const Je=ue.children[It]?mt(ue.children[It],!1):"",Se=[];return Object.entries(ue.children).forEach(([yt,yn])=>{yt!==It&&Se.push(`${yt}:${mt(yn,!1)}`)}),Se.length>0?`${Je}(${Se.join("//")})`:Je}{const Je=function gn(ue,Ie){let Je=[];return Object.entries(ue.children).forEach(([Se,yt])=>{Se===It&&(Je=Je.concat(Ie(yt,Se)))}),Object.entries(ue.children).forEach(([Se,yt])=>{Se!==It&&(Je=Je.concat(Ie(yt,Se)))}),Je}(ue,(Se,yt)=>yt===It?[mt(ue.children[It],!1)]:[`${yt}:${mt(Se,!1)}`]);return 1===Object.keys(ue.children).length&&null!=ue.children[It]?`${ye(ue)}/${Je[0]}`:`${ye(ue)}/(${Je.join("//")})`}}function rt(ue){return encodeURIComponent(ue).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kt(ue){return rt(ue).replace(/%3B/gi,";")}function Jn(ue){return rt(ue).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lr(ue){return decodeURIComponent(ue)}function an(ue){return lr(ue.replace(/\+/g,"%20"))}function At(ue){return`${Jn(ue.path)}${function Et(ue){return Object.entries(ue).map(([Ie,Je])=>`;${Jn(Ie)}=${Jn(Je)}`).join("")}(ue.parameters)}`}const gt=/^[^\/()?;#]+/;function tn(ue){const Ie=ue.match(gt);return Ie?Ie[0]:""}const Xt=/^[^\/()?;=#]+/,Vt=/^[^=?&#]+/,it=/^[^&#]+/;class Jt{constructor(Ie){this.url=Ie,this.remaining=Ie}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const Ie={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ie)}while(this.consumeOptional("&"));return Ie}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ie=[];for(this.peekStartsWith("(")||Ie.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ie.push(this.parseSegment());let Je={};this.peekStartsWith("/(")&&(this.capture("/"),Je=this.parseParens(!0));let Se={};return this.peekStartsWith("(")&&(Se=this.parseParens(!1)),(Ie.length>0||Object.keys(Je).length>0)&&(Se[It]=new je(Ie,Je)),Se}parseSegment(){const Ie=tn(this.remaining);if(""===Ie&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(Ie),new Ht(lr(Ie),this.parseMatrixParams())}parseMatrixParams(){const Ie={};for(;this.consumeOptional(";");)this.parseParam(Ie);return Ie}parseParam(Ie){const Je=function Ye(ue){const Ie=ue.match(Xt);return Ie?Ie[0]:""}(this.remaining);if(!Je)return;this.capture(Je);let Se="";if(this.consumeOptional("=")){const yt=tn(this.remaining);yt&&(Se=yt,this.capture(Se))}Ie[lr(Je)]=lr(Se)}parseQueryParam(Ie){const Je=function En(ue){const Ie=ue.match(Vt);return Ie?Ie[0]:""}(this.remaining);if(!Je)return;this.capture(Je);let Se="";if(this.consumeOptional("=")){const jn=function ke(ue){const Ie=ue.match(it);return Ie?Ie[0]:""}(this.remaining);jn&&(Se=jn,this.capture(Se))}const yt=an(Je),yn=an(Se);if(Ie.hasOwnProperty(yt)){let jn=Ie[yt];Array.isArray(jn)||(jn=[jn],Ie[yt]=jn),jn.push(yn)}else Ie[yt]=yn}parseParens(Ie){const Je={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Se=tn(this.remaining),yt=this.remaining[Se.length];if("/"!==yt&&")"!==yt&&";"!==yt)throw new u.wOt(4010,!1);let yn;Se.indexOf(":")>-1?(yn=Se.slice(0,Se.indexOf(":")),this.capture(yn),this.capture(":")):Ie&&(yn=It);const jn=this.parseChildren();Je[yn]=1===Object.keys(jn).length?jn[It]:new je([],jn),this.consumeOptional("//")}return Je}peekStartsWith(Ie){return this.remaining.startsWith(Ie)}consumeOptional(Ie){return!!this.peekStartsWith(Ie)&&(this.remaining=this.remaining.substring(Ie.length),!0)}capture(Ie){if(!this.consumeOptional(Ie))throw new u.wOt(4011,!1)}}function We(ue){return ue.segments.length>0?new je([],{[It]:ue}):ue}function Tt(ue){const Ie={};for(const[Se,yt]of Object.entries(ue.children)){const yn=Tt(yt);if(Se===It&&0===yn.segments.length&&yn.hasChildren())for(const[jn,qr]of Object.entries(yn.children))Ie[jn]=qr;else(yn.segments.length>0||yn.hasChildren())&&(Ie[Se]=yn)}return function wn(ue){if(1===ue.numberOfChildren&&ue.children[It]){const Ie=ue.children[It];return new je(ue.segments.concat(Ie.segments),Ie.children)}return ue}(new je(ue.segments,Ie))}function In(ue){return ue instanceof ln}function sr(ue){let Ie;const yt=We(function Je(yn){const jn={};for(const Ji of yn.children){const Di=Je(Ji);jn[Ji.outlet]=Di}const qr=new je(yn.url,jn);return yn===ue&&(Ie=qr),qr}(ue.root));return Ie??yt}function Gr(ue,Ie,Je,Se){let yt=ue;for(;yt.parent;)yt=yt.parent;if(0===Ie.length)return fi(yt,yt,yt,Je,Se);const yn=function Pi(ue){if("string"==typeof ue[0]&&1===ue.length&&"/"===ue[0])return new uo(!0,0,ue);let Ie=0,Je=!1;const Se=ue.reduce((yt,yn,jn)=>{if("object"==typeof yn&&null!=yn){if(yn.outlets){const qr={};return Object.entries(yn.outlets).forEach(([Ji,Di])=>{qr[Ji]="string"==typeof Di?Di.split("/"):Di}),[...yt,{outlets:qr}]}if(yn.segmentPath)return[...yt,yn.segmentPath]}return"string"!=typeof yn?[...yt,yn]:0===jn?(yn.split("/").forEach((qr,Ji)=>{0==Ji&&"."===qr||(0==Ji&&""===qr?Je=!0:".."===qr?Ie++:""!=qr&&yt.push(qr))}),yt):[...yt,yn]},[]);return new uo(Je,Ie,Se)}(Ie);if(yn.toRoot())return fi(yt,yt,new je([],{}),Je,Se);const jn=function mr(ue,Ie,Je){if(ue.isAbsolute)return new ti(Ie,!0,0);if(!Je)return new ti(Ie,!1,NaN);if(null===Je.parent)return new ti(Je,!0,0);const Se=hi(ue.commands[0])?0:1;return function Li(ue,Ie,Je){let Se=ue,yt=Ie,yn=Je;for(;yn>yt;){if(yn-=yt,Se=Se.parent,!Se)throw new u.wOt(4005,!1);yt=Se.segments.length}return new ti(Se,!1,yt-yn)}(Je,Je.segments.length-1+Se,ue.numberOfDoubleDots)}(yn,yt,ue),qr=jn.processChildren?dt(jn.segmentGroup,jn.index,yn.commands):Pe(jn.segmentGroup,jn.index,yn.commands);return fi(yt,jn.segmentGroup,qr,Je,Se)}function hi(ue){return"object"==typeof ue&&null!=ue&&!ue.outlets&&!ue.segmentPath}function Ei(ue){return"object"==typeof ue&&null!=ue&&ue.outlets}function fi(ue,Ie,Je,Se,yt){let jn,yn={};Se&&Object.entries(Se).forEach(([Ji,Di])=>{yn[Ji]=Array.isArray(Di)?Di.map(Wo=>`${Wo}`):`${Di}`}),jn=ue===Ie?Je:co(ue,Ie,Je);const qr=We(Tt(jn));return new ln(qr,yn,yt)}function co(ue,Ie,Je){const Se={};return Object.entries(ue.children).forEach(([yt,yn])=>{Se[yt]=yn===Ie?Je:co(yn,Ie,Je)}),new je(ue.segments,Se)}class uo{constructor(Ie,Je,Se){if(this.isAbsolute=Ie,this.numberOfDoubleDots=Je,this.commands=Se,Ie&&Se.length>0&&hi(Se[0]))throw new u.wOt(4003,!1);const yt=Se.find(Ei);if(yt&&yt!==z(Se))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ti{constructor(Ie,Je,Se){this.segmentGroup=Ie,this.processChildren=Je,this.index=Se}}function Pe(ue,Ie,Je){if(ue??=new je([],{}),0===ue.segments.length&&ue.hasChildren())return dt(ue,Ie,Je);const Se=function vn(ue,Ie,Je){let Se=0,yt=Ie;const yn={match:!1,pathIndex:0,commandIndex:0};for(;yt<ue.segments.length;){if(Se>=Je.length)return yn;const jn=ue.segments[yt],qr=Je[Se];if(Ei(qr))break;const Ji=`${qr}`,Di=Se<Je.length-1?Je[Se+1]:null;if(yt>0&&void 0===Ji)break;if(Ji&&Di&&"object"==typeof Di&&void 0===Di.outlets){if(!er(Ji,Di,jn))return yn;Se+=2}else{if(!er(Ji,{},jn))return yn;Se++}yt++}return{match:!0,pathIndex:yt,commandIndex:Se}}(ue,Ie,Je),yt=Je.slice(Se.commandIndex);if(Se.match&&Se.pathIndex<ue.segments.length){const yn=new je(ue.segments.slice(0,Se.pathIndex),{});return yn.children[It]=new je(ue.segments.slice(Se.pathIndex),ue.children),dt(yn,0,yt)}return Se.match&&0===yt.length?new je(ue.segments,{}):Se.match&&!ue.hasChildren()?bn(ue,Ie,Je):Se.match?dt(ue,0,yt):bn(ue,Ie,Je)}function dt(ue,Ie,Je){if(0===Je.length)return new je(ue.segments,{});{const Se=function ro(ue){return Ei(ue[0])?ue[0].outlets:{[It]:ue}}(Je),yt={};if(Object.keys(Se).some(yn=>yn!==It)&&ue.children[It]&&1===ue.numberOfChildren&&0===ue.children[It].segments.length){const yn=dt(ue.children[It],Ie,Je);return new je(ue.segments,yn.children)}return Object.entries(Se).forEach(([yn,jn])=>{"string"==typeof jn&&(jn=[jn]),null!==jn&&(yt[yn]=Pe(ue.children[yn],Ie,jn))}),Object.entries(ue.children).forEach(([yn,jn])=>{void 0===Se[yn]&&(yt[yn]=jn)}),new je(ue.segments,yt)}}function bn(ue,Ie,Je){const Se=ue.segments.slice(0,Ie);let yt=0;for(;yt<Je.length;){const yn=Je[yt];if(Ei(yn)){const Ji=Gn(yn.outlets);return new je(Se,Ji)}if(0===yt&&hi(Je[0])){Se.push(new Ht(ue.segments[Ie].path,nr(Je[0]))),yt++;continue}const jn=Ei(yn)?yn.outlets[It]:`${yn}`,qr=yt<Je.length-1?Je[yt+1]:null;jn&&qr&&hi(qr)?(Se.push(new Ht(jn,nr(qr))),yt+=2):(Se.push(new Ht(jn,{})),yt++)}return new je(Se,{})}function Gn(ue){const Ie={};return Object.entries(ue).forEach(([Je,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(Ie[Je]=bn(new je([],{}),0,Se))}),Ie}function nr(ue){const Ie={};return Object.entries(ue).forEach(([Je,Se])=>Ie[Je]=`${Se}`),Ie}function er(ue,Ie,Je){return ue==Je.path&&F(Ie,Je.parameters)}const Be="imperative";var tt=function(ue){return ue[ue.NavigationStart=0]="NavigationStart",ue[ue.NavigationEnd=1]="NavigationEnd",ue[ue.NavigationCancel=2]="NavigationCancel",ue[ue.NavigationError=3]="NavigationError",ue[ue.RoutesRecognized=4]="RoutesRecognized",ue[ue.ResolveStart=5]="ResolveStart",ue[ue.ResolveEnd=6]="ResolveEnd",ue[ue.GuardsCheckStart=7]="GuardsCheckStart",ue[ue.GuardsCheckEnd=8]="GuardsCheckEnd",ue[ue.RouteConfigLoadStart=9]="RouteConfigLoadStart",ue[ue.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ue[ue.ChildActivationStart=11]="ChildActivationStart",ue[ue.ChildActivationEnd=12]="ChildActivationEnd",ue[ue.ActivationStart=13]="ActivationStart",ue[ue.ActivationEnd=14]="ActivationEnd",ue[ue.Scroll=15]="Scroll",ue[ue.NavigationSkipped=16]="NavigationSkipped",ue}(tt||{});class un{constructor(Ie,Je){this.id=Ie,this.url=Je}}class fr extends un{constructor(Ie,Je,Se="imperative",yt=null){super(Ie,Je),this.type=tt.NavigationStart,this.navigationTrigger=Se,this.restoredState=yt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ar extends un{constructor(Ie,Je,Se){super(Ie,Je),this.urlAfterRedirects=Se,this.type=tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var zr=function(ue){return ue[ue.Redirect=0]="Redirect",ue[ue.SupersededByNewNavigation=1]="SupersededByNewNavigation",ue[ue.NoDataFromResolver=2]="NoDataFromResolver",ue[ue.GuardRejected=3]="GuardRejected",ue}(zr||{}),si=function(ue){return ue[ue.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ue[ue.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ue}(si||{});class Ti extends un{constructor(Ie,Je,Se,yt){super(Ie,Je),this.reason=Se,this.code=yt,this.type=tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ni extends un{constructor(Ie,Je,Se,yt){super(Ie,Je),this.reason=Se,this.code=yt,this.type=tt.NavigationSkipped}}class ai extends un{constructor(Ie,Je,Se,yt){super(Ie,Je),this.error=Se,this.target=yt,this.type=tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oi extends un{constructor(Ie,Je,Se,yt){super(Ie,Je),this.urlAfterRedirects=Se,this.state=yt,this.type=tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so extends un{constructor(Ie,Je,Se,yt){super(Ie,Je),this.urlAfterRedirects=Se,this.state=yt,this.type=tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo extends un{constructor(Ie,Je,Se,yt,yn){super(Ie,Je),this.urlAfterRedirects=Se,this.state=yt,this.shouldActivate=yn,this.type=tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eo extends un{constructor(Ie,Je,Se,yt){super(Ie,Je),this.urlAfterRedirects=Se,this.state=yt,this.type=tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vo extends un{constructor(Ie,Je,Se,yt){super(Ie,Je),this.urlAfterRedirects=Se,this.state=yt,this.type=tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n{constructor(Ie){this.route=Ie,this.type=tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fn{constructor(Ie){this.route=Ie,this.type=tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ze{constructor(Ie){this.snapshot=Ie,this.type=tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dt{constructor(Ie){this.snapshot=Ie,this.type=tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(Ie){this.snapshot=Ie,this.type=tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(Ie){this.snapshot=Ie,this.type=tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(Ie,Je,Se){this.routerEvent=Ie,this.position=Je,this.anchor=Se,this.type=tt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zr{}class io{constructor(Ie){this.url=Ie}}class _o{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Co,this.attachRef=null}}let Co=(()=>{var ue;class Ie{constructor(){this.contexts=new Map}onChildOutletCreated(Se,yt){const yn=this.getOrCreateContext(Se);yn.outlet=yt,this.contexts.set(Se,yn)}onChildOutletDestroyed(Se){const yt=this.getContext(Se);yt&&(yt.outlet=null,yt.attachRef=null)}onOutletDeactivated(){const Se=this.contexts;return this.contexts=new Map,Se}onOutletReAttached(Se){this.contexts=Se}getOrCreateContext(Se){let yt=this.getContext(Se);return yt||(yt=new _o,this.contexts.set(Se,yt)),yt}getContext(Se){return this.contexts.get(Se)||null}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})();class Ro{constructor(Ie){this._root=Ie}get root(){return this._root.value}parent(Ie){const Je=this.pathFromRoot(Ie);return Je.length>1?Je[Je.length-2]:null}children(Ie){const Je=Is(Ie,this._root);return Je?Je.children.map(Se=>Se.value):[]}firstChild(Ie){const Je=Is(Ie,this._root);return Je&&Je.children.length>0?Je.children[0].value:null}siblings(Ie){const Je=Ws(Ie,this._root);return Je.length<2?[]:Je[Je.length-2].children.map(yt=>yt.value).filter(yt=>yt!==Ie)}pathFromRoot(Ie){return Ws(Ie,this._root).map(Je=>Je.value)}}function Is(ue,Ie){if(ue===Ie.value)return Ie;for(const Je of Ie.children){const Se=Is(ue,Je);if(Se)return Se}return null}function Ws(ue,Ie){if(ue===Ie.value)return[Ie];for(const Je of Ie.children){const Se=Ws(ue,Je);if(Se.length)return Se.unshift(Ie),Se}return[]}class ms{constructor(Ie,Je){this.value=Ie,this.children=Je}toString(){return`TreeNode(${this.value})`}}function zo(ue){const Ie={};return ue&&ue.children.forEach(Je=>Ie[Je.value.outlet]=Je),Ie}class Zo extends Ro{constructor(Ie,Je){super(Ie),this.snapshot=Je,Mi(this,Ie)}toString(){return this.snapshot.toString()}}function os(ue){const Ie=function ns(ue){const yn=new ur([],{},{},"",{},It,ue,null,{});return new jr("",new ms(yn,[]))}(ue),Je=new w.t([new Ht("",{})]),Se=new w.t({}),yt=new w.t({}),yn=new w.t({}),jn=new w.t(""),qr=new Rs(Je,Se,yn,jn,yt,It,ue,Ie.root);return qr.snapshot=Ie.root,new Zo(new ms(qr,[]),Ie)}class Rs{constructor(Ie,Je,Se,yt,yn,jn,qr,Ji){this.urlSubject=Ie,this.paramsSubject=Je,this.queryParamsSubject=Se,this.fragmentSubject=yt,this.dataSubject=yn,this.outlet=jn,this.component=qr,this._futureSnapshot=Ji,this.title=this.dataSubject?.pipe((0,Z.T)(Di=>Di[Ne]))??(0,x.of)(void 0),this.url=Ie,this.params=Je,this.queryParams=Se,this.fragment=yt,this.data=yn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Z.T)(Ie=>Ot(Ie))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Z.T)(Ie=>Ot(Ie))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ar(ue,Ie,Je="emptyOnly"){let Se;const{routeConfig:yt}=ue;return Se=null===Ie||"always"!==Je&&""!==yt?.path&&(Ie.component||Ie.routeConfig?.loadComponent)?{params:{...ue.params},data:{...ue.data},resolve:{...ue.data,...ue._resolvedData??{}}}:{params:{...Ie.params,...ue.params},data:{...Ie.data,...ue.data},resolve:{...ue.data,...Ie.data,...yt?.data,...ue._resolvedData}},yt&&xo(yt)&&(Se.resolve[Ne]=yt.title),Se}class ur{get title(){return this.data?.[Ne]}constructor(Ie,Je,Se,yt,yn,jn,qr,Ji,Di){this.url=Ie,this.params=Je,this.queryParams=Se,this.fragment=yt,this.data=yn,this.outlet=jn,this.component=qr,this.routeConfig=Ji,this._resolve=Di}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ot(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ot(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Se=>Se.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jr extends Ro{constructor(Ie,Je){super(Je),this.url=Ie,Mi(this,Je)}toString(){return Ri(this._root)}}function Mi(ue,Ie){Ie.value._routerState=ue,Ie.children.forEach(Je=>Mi(ue,Je))}function Ri(ue){const Ie=ue.children.length>0?` { ${ue.children.map(Ri).join(", ")} } `:"";return`${ue.value}${Ie}`}function zi(ue){if(ue.snapshot){const Ie=ue.snapshot,Je=ue._futureSnapshot;ue.snapshot=Je,F(Ie.queryParams,Je.queryParams)||ue.queryParamsSubject.next(Je.queryParams),Ie.fragment!==Je.fragment&&ue.fragmentSubject.next(Je.fragment),F(Ie.params,Je.params)||ue.paramsSubject.next(Je.params),function D(ue,Ie){if(ue.length!==Ie.length)return!1;for(let Je=0;Je<ue.length;++Je)if(!F(ue[Je],Ie[Je]))return!1;return!0}(Ie.url,Je.url)||ue.urlSubject.next(Je.url),F(Ie.data,Je.data)||ue.dataSubject.next(Je.data)}else ue.snapshot=ue._futureSnapshot,ue.dataSubject.next(ue._futureSnapshot.data)}function to(ue,Ie){const Je=F(ue.params,Ie.params)&&function ut(ue,Ie){return jt(ue,Ie)&&ue.every((Je,Se)=>F(Je.parameters,Ie[Se].parameters))}(ue.url,Ie.url);return Je&&!(!ue.parent!=!Ie.parent)&&(!ue.parent||to(ue.parent,Ie.parent))}function xo(ue){return"string"==typeof ue.title||null===ue.title}let $i=(()=>{var ue;class Ie{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(Co),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.environmentInjector=(0,u.WQX)(u.uvJ),this.inputBinder=(0,u.WQX)(ls,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Se){if(Se.name){const{firstChange:yt,previousValue:yn}=Se.name;if(yt)return;this.isTrackedInParentContexts(yn)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(yn)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Se){return this.parentContexts.getContext(Se)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Se=this.parentContexts.getContext(this.name);Se?.route&&(Se.attachRef?this.attach(Se.attachRef,Se.route):this.activateWith(Se.route,Se.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const Se=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Se.instance),Se}attach(Se,yt){this.activated=Se,this._activatedRoute=yt,this.location.insert(Se.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Se.instance)}deactivate(){if(this.activated){const Se=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Se)}}activateWith(Se,yt){if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=Se;const yn=this.location,qr=Se.snapshot.component,Ji=this.parentContexts.getOrCreateContext(this.name).children,Di=new No(Se,Ji,yn.injector);this.activated=yn.createComponent(qr,{index:yn.length,injector:Di,environmentInjector:yt??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275dir=u.FsC({type:ue,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]}),Ie})();class No{__ngOutletInjector(Ie){return new No(this.route,this.childContexts,Ie)}constructor(Ie,Je,Se){this.route=Ie,this.childContexts=Je,this.parent=Se}get(Ie,Je){return Ie===Rs?this.route:Ie===Co?this.childContexts:this.parent.get(Ie,Je)}}const ls=new u.nKC("");let Ns=(()=>{var ue;class Ie{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Se){this.unsubscribeFromRouteData(Se),this.subscribeToRouteData(Se)}unsubscribeFromRouteData(Se){this.outletDataSubscriptions.get(Se)?.unsubscribe(),this.outletDataSubscriptions.delete(Se)}subscribeToRouteData(Se){const{activatedRoute:yt}=Se,yn=(0,d.z)([yt.queryParams,yt.params,yt.data]).pipe((0,J.n)(([jn,qr,Ji],Di)=>(Ji={...jn,...qr,...Ji},0===Di?(0,x.of)(Ji):Promise.resolve(Ji)))).subscribe(jn=>{if(!Se.isActivated||!Se.activatedComponentRef||Se.activatedRoute!==yt||null===yt.component)return void this.unsubscribeFromRouteData(Se);const qr=(0,u.HJs)(yt.component);if(qr)for(const{templateName:Ji}of qr.inputs)Se.activatedComponentRef.setInput(Ji,jn[Ji]);else this.unsubscribeFromRouteData(Se)});this.outletDataSubscriptions.set(Se,yn)}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac}),Ie})();function Os(ue,Ie,Je){if(Je&&ue.shouldReuseRoute(Ie.value,Je.value.snapshot)){const Se=Je.value;Se._futureSnapshot=Ie.value;const yt=function qo(ue,Ie,Je){return Ie.children.map(Se=>{for(const yt of Je.children)if(ue.shouldReuseRoute(Se.value,yt.value.snapshot))return Os(ue,Se,yt);return Os(ue,Se)})}(ue,Ie,Je);return new ms(Se,yt)}{if(ue.shouldAttach(Ie.value)){const yn=ue.retrieve(Ie.value);if(null!==yn){const jn=yn.route;return jn.value._futureSnapshot=Ie.value,jn.children=Ie.children.map(qr=>Os(ue,qr)),jn}}const Se=function Gs(ue){return new Rs(new w.t(ue.url),new w.t(ue.params),new w.t(ue.queryParams),new w.t(ue.fragment),new w.t(ue.data),ue.outlet,ue.component,ue)}(Ie.value),yt=Ie.children.map(yn=>Os(ue,yn));return new ms(Se,yt)}}const Lo="ngNavigationCancelingError";function pa(ue,Ie){const{redirectTo:Je,navigationBehaviorOptions:Se}=In(Ie)?{redirectTo:Ie,navigationBehaviorOptions:void 0}:Ie,yt=ca(!1,zr.Redirect);return yt.url=Je,yt.navigationBehaviorOptions=Se,yt}function ca(ue,Ie){const Je=new Error(`NavigationCancelingError: ${ue||""}`);return Je[Lo]=!0,Je.cancellationCode=Ie,Je}function Ks(ue){return!!ue&&ue[Lo]}let Ds=(()=>{var ue;class Ie{}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275cmp=u.VBU({type:ue,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(Se,yt){1&Se&&u.nrm(0,"router-outlet")},dependencies:[$i],encapsulation:2}),Ie})();function Wt(ue){const Ie=ue.children&&ue.children.map(Wt),Je=Ie?{...ue,children:Ie}:{...ue};return!Je.component&&!Je.loadComponent&&(Ie||Je.loadChildren)&&Je.outlet&&Je.outlet!==It&&(Je.component=Ds),Je}function hn(ue){return ue.outlet||It}function Nt(ue){if(!ue)return null;if(ue.routeConfig?._injector)return ue.routeConfig._injector;for(let Ie=ue.parent;Ie;Ie=Ie.parent){const Je=Ie.routeConfig;if(Je?._loadedInjector)return Je._loadedInjector;if(Je?._injector)return Je._injector}return null}class Er{constructor(Ie,Je,Se,yt,yn){this.routeReuseStrategy=Ie,this.futureState=Je,this.currState=Se,this.forwardEvent=yt,this.inputBindingEnabled=yn}activate(Ie){const Je=this.futureState._root,Se=this.currState?this.currState._root:null;this.deactivateChildRoutes(Je,Se,Ie),zi(this.futureState.root),this.activateChildRoutes(Je,Se,Ie)}deactivateChildRoutes(Ie,Je,Se){const yt=zo(Je);Ie.children.forEach(yn=>{const jn=yn.value.outlet;this.deactivateRoutes(yn,yt[jn],Se),delete yt[jn]}),Object.values(yt).forEach(yn=>{this.deactivateRouteAndItsChildren(yn,Se)})}deactivateRoutes(Ie,Je,Se){const yt=Ie.value,yn=Je?Je.value:null;if(yt===yn)if(yt.component){const jn=Se.getContext(yt.outlet);jn&&this.deactivateChildRoutes(Ie,Je,jn.children)}else this.deactivateChildRoutes(Ie,Je,Se);else yn&&this.deactivateRouteAndItsChildren(Je,Se)}deactivateRouteAndItsChildren(Ie,Je){Ie.value.component&&this.routeReuseStrategy.shouldDetach(Ie.value.snapshot)?this.detachAndStoreRouteSubtree(Ie,Je):this.deactivateRouteAndOutlet(Ie,Je)}detachAndStoreRouteSubtree(Ie,Je){const Se=Je.getContext(Ie.value.outlet),yt=Se&&Ie.value.component?Se.children:Je,yn=zo(Ie);for(const jn of Object.values(yn))this.deactivateRouteAndItsChildren(jn,yt);if(Se&&Se.outlet){const jn=Se.outlet.detach(),qr=Se.children.onOutletDeactivated();this.routeReuseStrategy.store(Ie.value.snapshot,{componentRef:jn,route:Ie,contexts:qr})}}deactivateRouteAndOutlet(Ie,Je){const Se=Je.getContext(Ie.value.outlet),yt=Se&&Ie.value.component?Se.children:Je,yn=zo(Ie);for(const jn of Object.values(yn))this.deactivateRouteAndItsChildren(jn,yt);Se&&(Se.outlet&&(Se.outlet.deactivate(),Se.children.onOutletDeactivated()),Se.attachRef=null,Se.route=null)}activateChildRoutes(Ie,Je,Se){const yt=zo(Je);Ie.children.forEach(yn=>{this.activateRoutes(yn,yt[yn.value.outlet],Se),this.forwardEvent(new Wn(yn.value.snapshot))}),Ie.children.length&&this.forwardEvent(new Dt(Ie.value.snapshot))}activateRoutes(Ie,Je,Se){const yt=Ie.value,yn=Je?Je.value:null;if(zi(yt),yt===yn)if(yt.component){const jn=Se.getOrCreateContext(yt.outlet);this.activateChildRoutes(Ie,Je,jn.children)}else this.activateChildRoutes(Ie,Je,Se);else if(yt.component){const jn=Se.getOrCreateContext(yt.outlet);if(this.routeReuseStrategy.shouldAttach(yt.snapshot)){const qr=this.routeReuseStrategy.retrieve(yt.snapshot);this.routeReuseStrategy.store(yt.snapshot,null),jn.children.onOutletReAttached(qr.contexts),jn.attachRef=qr.componentRef,jn.route=qr.route.value,jn.outlet&&jn.outlet.attach(qr.componentRef,qr.route.value),zi(qr.route.value),this.activateChildRoutes(Ie,null,jn.children)}else{const qr=Nt(yt.snapshot);jn.attachRef=null,jn.route=yt,jn.injector=qr,jn.outlet&&jn.outlet.activateWith(yt,jn.injector),this.activateChildRoutes(Ie,null,jn.children)}}else this.activateChildRoutes(Ie,null,Se)}}class Cr{constructor(Ie){this.path=Ie,this.route=this.path[this.path.length-1]}}class Kr{constructor(Ie,Je){this.component=Ie,this.route=Je}}function $r(ue,Ie,Je){const Se=ue._root;return Xi(Se,Ie?Ie._root:null,Je,[Se.value])}function ri(ue,Ie){const Je=Symbol(),Se=Ie.get(ue,Je);return Se===Je?"function"!=typeof ue||(0,u.LfX)(ue)?Ie.get(ue):ue:Se}function Xi(ue,Ie,Je,Se,yt={canDeactivateChecks:[],canActivateChecks:[]}){const yn=zo(Ie);return ue.children.forEach(jn=>{(function vo(ue,Ie,Je,Se,yt={canDeactivateChecks:[],canActivateChecks:[]}){const yn=ue.value,jn=Ie?Ie.value:null,qr=Je?Je.getContext(ue.value.outlet):null;if(jn&&yn.routeConfig===jn.routeConfig){const Ji=function ko(ue,Ie,Je){if("function"==typeof Je)return Je(ue,Ie);switch(Je){case"pathParamsChange":return!jt(ue.url,Ie.url);case"pathParamsOrQueryParamsChange":return!jt(ue.url,Ie.url)||!F(ue.queryParams,Ie.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!to(ue,Ie)||!F(ue.queryParams,Ie.queryParams);default:return!to(ue,Ie)}}(jn,yn,yn.routeConfig.runGuardsAndResolvers);Ji?yt.canActivateChecks.push(new Cr(Se)):(yn.data=jn.data,yn._resolvedData=jn._resolvedData),Xi(ue,Ie,yn.component?qr?qr.children:null:Je,Se,yt),Ji&&qr&&qr.outlet&&qr.outlet.isActivated&&yt.canDeactivateChecks.push(new Kr(qr.outlet.component,jn))}else jn&&Ao(Ie,qr,yt),yt.canActivateChecks.push(new Cr(Se)),Xi(ue,null,yn.component?qr?qr.children:null:Je,Se,yt)})(jn,yn[jn.value.outlet],Je,Se.concat([jn.value]),yt),delete yn[jn.value.outlet]}),Object.entries(yn).forEach(([jn,qr])=>Ao(qr,Je.getContext(jn),yt)),yt}function Ao(ue,Ie,Je){const Se=zo(ue),yt=ue.value;Object.entries(Se).forEach(([yn,jn])=>{Ao(jn,yt.component?Ie?Ie.children.getContext(yn):null:Ie,Je)}),Je.canDeactivateChecks.push(new Kr(yt.component&&Ie&&Ie.outlet&&Ie.outlet.isActivated?Ie.outlet.component:null,yt))}function st(ue){return"function"==typeof ue}function Yn(ue){return ue instanceof k.G||"EmptyError"===ue?.name}const wt=Symbol("INITIAL_VALUE");function Q(){return(0,J.n)(ue=>(0,d.z)(ue.map(Ie=>Ie.pipe((0,te.s)(1),(0,ae.Z)(wt)))).pipe((0,Z.T)(Ie=>{for(const Je of Ie)if(!0!==Je){if(Je===wt)return wt;if(!1===Je||Je instanceof ln)return Je}return!0}),(0,Y.p)(Ie=>Ie!==wt),(0,te.s)(1)))}function Lr(ue){return(0,P.F)((0,B.M)(Ie=>{if(In(Ie))throw pa(0,Ie)}),(0,Z.T)(Ie=>!0===Ie))}class Zi{constructor(Ie){this.segmentGroup=Ie||null}}class Ui extends Error{constructor(Ie){super(),this.urlTree=Ie}}function pe(ue){return(0,y.$)(new Zi(ue))}class Lt{constructor(Ie,Je){this.urlSerializer=Ie,this.urlTree=Je}lineralizeSegments(Ie,Je){let Se=[],yt=Je.root;for(;;){if(Se=Se.concat(yt.segments),0===yt.numberOfChildren)return(0,x.of)(Se);if(yt.numberOfChildren>1||!yt.children[It])return(0,y.$)(new u.wOt(4e3,!1));yt=yt.children[It]}}applyRedirectCommands(Ie,Je,Se){const yt=this.applyRedirectCreateUrlTree(Je,this.urlSerializer.parse(Je),Ie,Se);if(Je.startsWith("/"))throw new Ui(yt);return yt}applyRedirectCreateUrlTree(Ie,Je,Se,yt){const yn=this.createSegmentGroup(Ie,Je.root,Se,yt);return new ln(yn,this.createQueryParams(Je.queryParams,this.urlTree.queryParams),Je.fragment)}createQueryParams(Ie,Je){const Se={};return Object.entries(Ie).forEach(([yt,yn])=>{if("string"==typeof yn&&yn.startsWith(":")){const qr=yn.substring(1);Se[yt]=Je[qr]}else Se[yt]=yn}),Se}createSegmentGroup(Ie,Je,Se,yt){const yn=this.createSegments(Ie,Je.segments,Se,yt);let jn={};return Object.entries(Je.children).forEach(([qr,Ji])=>{jn[qr]=this.createSegmentGroup(Ie,Ji,Se,yt)}),new je(yn,jn)}createSegments(Ie,Je,Se,yt){return Je.map(yn=>yn.path.startsWith(":")?this.findPosParam(Ie,yn,yt):this.findOrReturn(yn,Se))}findPosParam(Ie,Je,Se){const yt=Se[Je.path.substring(1)];if(!yt)throw new u.wOt(4001,!1);return yt}findOrReturn(Ie,Je){let Se=0;for(const yt of Je){if(yt.path===Ie.path)return Je.splice(Se),yt;Se++}return Ie}}const pn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bn(ue,Ie,Je,Se,yt){const yn=hr(ue,Ie,Je);return yn.matched?(Se=function cs(ue,Ie){return ue.providers&&!ue._injector&&(ue._injector=(0,u.Ol2)(ue.providers,Ie,`Route: ${ue.path}`)),ue._injector??Ie}(Ie,Se),function wi(ue,Ie,Je,Se){const yt=Ie.canMatch;if(!yt||0===yt.length)return(0,x.of)(!0);const yn=yt.map(jn=>{const qr=ri(jn,ue);return p(function cn(ue){return ue&&st(ue.canMatch)}(qr)?qr.canMatch(Ie,Je):(0,u.N4e)(ue,()=>qr(Ie,Je)))});return(0,x.of)(yn).pipe(Q(),Lr())}(Se,Ie,Je).pipe((0,Z.T)(jn=>!0===jn?yn:{...pn}))):(0,x.of)(yn)}function hr(ue,Ie,Je){if("**"===Ie.path)return function cr(ue){return{matched:!0,parameters:ue.length>0?z(ue).parameters:{},consumedSegments:ue,remainingSegments:[],positionalParamSegments:{}}}(Je);if(""===Ie.path)return"full"===Ie.pathMatch&&(ue.hasChildren()||Je.length>0)?{...pn}:{matched:!0,consumedSegments:[],remainingSegments:Je,parameters:{},positionalParamSegments:{}};const yt=(Ie.matcher||re)(Je,ue,Ie);if(!yt)return{...pn};const yn={};Object.entries(yt.posParams??{}).forEach(([qr,Ji])=>{yn[qr]=Ji.path});const jn=yt.consumed.length>0?{...yn,...yt.consumed[yt.consumed.length-1].parameters}:yn;return{matched:!0,consumedSegments:yt.consumed,remainingSegments:Je.slice(yt.consumed.length),parameters:jn,positionalParamSegments:yt.posParams??{}}}function kr(ue,Ie,Je,Se){return Je.length>0&&function Ur(ue,Ie,Je){return Je.some(Se=>Wi(ue,Ie,Se)&&hn(Se)!==It)}(ue,Je,Se)?{segmentGroup:new je(Ie,Wr(Se,new je(Je,ue.children))),slicedSegments:[]}:0===Je.length&&function Ci(ue,Ie,Je){return Je.some(Se=>Wi(ue,Ie,Se))}(ue,Je,Se)?{segmentGroup:new je(ue.segments,Sr(ue,Je,Se,ue.children)),slicedSegments:Je}:{segmentGroup:new je(ue.segments,ue.children),slicedSegments:Je}}function Sr(ue,Ie,Je,Se){const yt={};for(const yn of Je)if(Wi(ue,Ie,yn)&&!Se[hn(yn)]){const jn=new je([],{});yt[hn(yn)]=jn}return{...Se,...yt}}function Wr(ue,Ie){const Je={};Je[It]=Ie;for(const Se of ue)if(""===Se.path&&hn(Se)!==It){const yt=new je([],{});Je[hn(Se)]=yt}return Je}function Wi(ue,Ie,Je){return(!(ue.hasChildren()||Ie.length>0)||"full"!==Je.pathMatch)&&""===Je.path}class kn{}class mi{constructor(Ie,Je,Se,yt,yn,jn,qr){this.injector=Ie,this.configLoader=Je,this.rootComponentType=Se,this.config=yt,this.urlTree=yn,this.paramsInheritanceStrategy=jn,this.urlSerializer=qr,this.applyRedirects=new Lt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Ie){return new u.wOt(4002,`'${Ie.segmentGroup}'`)}recognize(){const Ie=kr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ie).pipe((0,Z.T)(Je=>{const Se=new ur([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,{}),yt=new ms(Se,Je),yn=new jr("",yt),jn=function dr(ue,Ie,Je=null,Se=null){return Gr(sr(ue),Ie,Je,Se)}(Se,[],this.urlTree.queryParams,this.urlTree.fragment);return jn.queryParams=this.urlTree.queryParams,yn.url=this.urlSerializer.serialize(jn),this.inheritParamsAndData(yn._root,null),{state:yn,tree:jn}}))}match(Ie){return this.processSegmentGroup(this.injector,this.config,Ie,It).pipe((0,ce.W)(Se=>{if(Se instanceof Ui)return this.urlTree=Se.urlTree,this.match(Se.urlTree.root);throw Se instanceof Zi?this.noMatchError(Se):Se}))}inheritParamsAndData(Ie,Je){const Se=Ie.value,yt=ar(Se,Je,this.paramsInheritanceStrategy);Se.params=Object.freeze(yt.params),Se.data=Object.freeze(yt.data),Ie.children.forEach(yn=>this.inheritParamsAndData(yn,Se))}processSegmentGroup(Ie,Je,Se,yt){return 0===Se.segments.length&&Se.hasChildren()?this.processChildren(Ie,Je,Se):this.processSegment(Ie,Je,Se,Se.segments,yt,!0).pipe((0,Z.T)(yn=>yn instanceof ms?[yn]:[]))}processChildren(Ie,Je,Se){const yt=[];for(const yn of Object.keys(Se.children))"primary"===yn?yt.unshift(yn):yt.push(yn);return(0,C.H)(yt).pipe((0,me.H)(yn=>{const jn=Se.children[yn],qr=function $e(ue,Ie){const Je=ue.filter(Se=>hn(Se)===Ie);return Je.push(...ue.filter(Se=>hn(Se)!==Ie)),Je}(Je,yn);return this.processSegmentGroup(Ie,qr,jn,yn)}),function qe(ue,Ie){return(0,Oe.N)((0,Ue.S)(ue,Ie,arguments.length>=2,!0))}((yn,jn)=>(yn.push(...jn),yn)),(0,_e.U)(null),function j(ue,Ie){const Je=arguments.length>=2;return Se=>Se.pipe(ue?(0,Y.p)((yt,yn)=>ue(yt,yn,Se)):R.D,Bt(1),Je?(0,_e.U)(Ie):(0,de.v)(()=>new k.G))}(),(0,$.Z)(yn=>{if(null===yn)return pe(Se);const jn=Vi(yn);return function Yi(ue){ue.sort((Ie,Je)=>Ie.value.outlet===It?-1:Je.value.outlet===It?1:Ie.value.outlet.localeCompare(Je.value.outlet))}(jn),(0,x.of)(jn)}))}processSegment(Ie,Je,Se,yt,yn,jn){return(0,C.H)(Je).pipe((0,me.H)(qr=>this.processSegmentAgainstRoute(qr._injector??Ie,Je,qr,Se,yt,yn,jn).pipe((0,ce.W)(Ji=>{if(Ji instanceof Zi)return(0,x.of)(null);throw Ji}))),(0,H.$)(qr=>!!qr),(0,ce.W)(qr=>{if(Yn(qr))return function br(ue,Ie,Je){return 0===Ie.length&&!ue.children[Je]}(Se,yt,yn)?(0,x.of)(new kn):pe(Se);throw qr}))}processSegmentAgainstRoute(Ie,Je,Se,yt,yn,jn,qr){return function Hn(ue,Ie,Je,Se){return!!(hn(ue)===Se||Se!==It&&Wi(Ie,Je,ue))&&hr(Ie,ue,Je).matched}(Se,yt,yn,jn)?void 0===Se.redirectTo?this.matchSegmentAgainstRoute(Ie,yt,Se,yn,jn):this.allowRedirects&&qr?this.expandSegmentAgainstRouteUsingRedirect(Ie,yt,Je,Se,yn,jn):pe(yt):pe(yt)}expandSegmentAgainstRouteUsingRedirect(Ie,Je,Se,yt,yn,jn){const{matched:qr,consumedSegments:Ji,positionalParamSegments:Di,remainingSegments:Wo}=hr(Je,yt,yn);if(!qr)return pe(Je);yt.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const $s=this.applyRedirects.applyRedirectCommands(Ji,yt.redirectTo,Di);return this.applyRedirects.lineralizeSegments(yt,$s).pipe((0,$.Z)(xs=>this.processSegment(Ie,Se,Je,xs.concat(Wo),jn,!1)))}matchSegmentAgainstRoute(Ie,Je,Se,yt,yn){const jn=Bn(Je,Se,yt,Ie);return"**"===Se.path&&(Je.children={}),jn.pipe((0,J.n)(qr=>qr.matched?this.getChildConfig(Ie=Se._injector??Ie,Se,yt).pipe((0,J.n)(({routes:Ji})=>{const Di=Se._loadedInjector??Ie,{consumedSegments:Wo,remainingSegments:$s,parameters:xs}=qr,ia=new ur(Wo,xs,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Ni(ue){return ue.data||{}}(Se),hn(Se),Se.component??Se._loadedComponent??null,Se,function zs(ue){return ue.resolve||{}}(Se)),{segmentGroup:ea,slicedSegments:ma}=kr(Je,Wo,$s,Ji);if(0===ma.length&&ea.hasChildren())return this.processChildren(Di,Ji,ea).pipe((0,Z.T)(Ka=>null===Ka?null:new ms(ia,Ka)));if(0===Ji.length&&0===ma.length)return(0,x.of)(new ms(ia,[]));const uc=hn(Se)===yn;return this.processSegment(Di,Ji,ea,ma,uc?It:yn,!0).pipe((0,Z.T)(Ka=>new ms(ia,Ka instanceof ms?[Ka]:[])))})):pe(Je)))}getChildConfig(Ie,Je,Se){return Je.children?(0,x.of)({routes:Je.children,injector:Ie}):Je.loadChildren?void 0!==Je._loadedRoutes?(0,x.of)({routes:Je._loadedRoutes,injector:Je._loadedInjector}):function di(ue,Ie,Je,Se){const yt=Ie.canLoad;if(void 0===yt||0===yt.length)return(0,x.of)(!0);const yn=yt.map(jn=>{const qr=ri(jn,ue);return p(function dn(ue){return ue&&st(ue.canLoad)}(qr)?qr.canLoad(Ie,Je):(0,u.N4e)(ue,()=>qr(Ie,Je)))});return(0,x.of)(yn).pipe(Q(),Lr())}(Ie,Je,Se).pipe((0,$.Z)(yt=>yt?this.configLoader.loadChildren(Ie,Je).pipe((0,B.M)(yn=>{Je._loadedRoutes=yn.routes,Je._loadedInjector=yn.injector})):function Mt(ue){return(0,y.$)(ca(!1,zr.GuardRejected))}())):(0,x.of)({routes:[],injector:Ie})}}function Gi(ue){const Ie=ue.value.routeConfig;return Ie&&""===Ie.path}function Vi(ue){const Ie=[],Je=new Set;for(const Se of ue){if(!Gi(Se)){Ie.push(Se);continue}const yt=Ie.find(yn=>Se.value.routeConfig===yn.value.routeConfig);void 0!==yt?(yt.children.push(...Se.children),Je.add(yt)):Ie.push(Se)}for(const Se of Je){const yt=Vi(Se.children);Ie.push(new ms(Se.value,yt))}return Ie.filter(Se=>!Je.has(Se))}function Cs(ue){const Ie=ue.children.map(Je=>Cs(Je)).flat();return[ue,...Ie]}function ct(ue){return(0,J.n)(Ie=>{const Je=ue(Ie);return Je?(0,C.H)(Je).pipe((0,Z.T)(()=>Ie)):(0,x.of)(Ie)})}let kt=(()=>{var ue;class Ie{buildTitle(Se){let yt,yn=Se.root;for(;void 0!==yn;)yt=this.getResolvedTitleForRoute(yn)??yt,yn=yn.children.find(jn=>jn.outlet===It);return yt}getResolvedTitleForRoute(Se){return Se.data[Ne]}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:()=>(0,u.WQX)(mn),providedIn:"root"}),Ie})(),mn=(()=>{var ue;class Ie extends kt{constructor(Se){super(),this.title=Se}updateTitle(Se){const yt=this.buildTitle(Se);void 0!==yt&&this.title.setTitle(yt)}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)(u.KVO(Mn.hE))},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})();const zn=new u.nKC("",{providedIn:"root",factory:()=>({})}),ir=new u.nKC("");let li=(()=>{var ue;class Ie{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(Se){if(this.componentLoaders.get(Se))return this.componentLoaders.get(Se);if(Se._loadedComponent)return(0,x.of)(Se._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Se);const yt=p(Se.loadComponent()).pipe((0,Z.T)(go),(0,B.M)(jn=>{this.onLoadEndListener&&this.onLoadEndListener(Se),Se._loadedComponent=jn}),(0,Ce.j)(()=>{this.componentLoaders.delete(Se)})),yn=new M.G(yt,()=>new G.B).pipe((0,Re.B)());return this.componentLoaders.set(Se,yn),yn}loadChildren(Se,yt){if(this.childrenLoaders.get(yt))return this.childrenLoaders.get(yt);if(yt._loadedRoutes)return(0,x.of)({routes:yt._loadedRoutes,injector:yt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(yt);const jn=function ji(ue,Ie,Je,Se){return p(ue.loadChildren()).pipe((0,Z.T)(go),(0,$.Z)(yt=>yt instanceof u.Co$||Array.isArray(yt)?(0,x.of)(yt):(0,C.H)(Ie.compileModuleAsync(yt))),(0,Z.T)(yt=>{Se&&Se(ue);let yn,jn,qr=!1;return Array.isArray(yt)?(jn=yt,!0):(yn=yt.create(Je).injector,jn=yn.get(ir,[],{optional:!0,self:!0}).flat()),{routes:jn.map(Wt),injector:yn}}))}(yt,this.compiler,Se,this.onLoadEndListener).pipe((0,Ce.j)(()=>{this.childrenLoaders.delete(yt)})),qr=new M.G(jn,()=>new G.B).pipe((0,Re.B)());return this.childrenLoaders.set(yt,qr),qr}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})();function go(ue){return function ho(ue){return ue&&"object"==typeof ue&&"default"in ue}(ue)?ue.default:ue}let Fo=(()=>{var ue;class Ie{}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:()=>(0,u.WQX)(ss),providedIn:"root"}),Ie})(),ss=(()=>{var ue;class Ie{shouldProcessUrl(Se){return!0}extract(Se){return Se}merge(Se,yt){return Se}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})();const oa=new u.nKC(""),Ca=new u.nKC("");function xe(ue,Ie,Je){const Se=ue.get(Ca),yt=ue.get(V.qQ);return ue.get(u.SKi).runOutsideAngular(()=>{if(!yt.startViewTransition||Se.skipNextTransition)return Se.skipNextTransition=!1,new Promise(Di=>setTimeout(Di));let yn;const jn=new Promise(Di=>{yn=Di}),qr=yt.startViewTransition(()=>(yn(),function vt(ue){return new Promise(Ie=>{(0,u.mal)(Ie,{injector:ue})})}(ue))),{onViewTransitionCreated:Ji}=Se;return Ji&&(0,u.N4e)(ue,()=>Ji({transition:qr,from:Ie,to:Je})),jn})}let Nn=(()=>{var ue;class Ie{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new G.B,this.transitionAbortSubject=new G.B,this.configLoader=(0,u.WQX)(li),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)(lt),this.rootContexts=(0,u.WQX)(Co),this.location=(0,u.WQX)(V.aZ),this.inputBindingEnabled=null!==(0,u.WQX)(ls,{optional:!0}),this.titleStrategy=(0,u.WQX)(kt),this.options=(0,u.WQX)(zn,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.WQX)(Fo),this.createViewTransition=(0,u.WQX)(oa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,x.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=yn=>this.events.next(new fn(yn)),this.configLoader.onLoadStartListener=yn=>this.events.next(new $n(yn))}complete(){this.transitions?.complete()}handleNavigationRequest(Se){const yt=++this.navigationId;this.transitions?.next({...this.transitions.value,...Se,id:yt})}setupNavigations(Se,yt,yn){return this.transitions=new w.t({id:0,currentUrlTree:yt,currentRawUrl:yt,extractedUrl:this.urlHandlingStrategy.extract(yt),urlAfterRedirects:this.urlHandlingStrategy.extract(yt),rawUrl:yt,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Be,restoredState:null,currentSnapshot:yn.snapshot,targetSnapshot:null,currentRouterState:yn,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Y.p)(jn=>0!==jn.id),(0,Z.T)(jn=>({...jn,extractedUrl:this.urlHandlingStrategy.extract(jn.rawUrl)})),(0,J.n)(jn=>{let qr=!1,Ji=!1;return(0,x.of)(jn).pipe((0,J.n)(Di=>{if(this.navigationId>jn.id)return this.cancelNavigationTransition(jn,"",zr.SupersededByNewNavigation),v.w;this.currentTransition=jn,this.currentNavigation={id:Di.id,initialUrl:Di.rawUrl,extractedUrl:Di.extractedUrl,trigger:Di.source,extras:Di.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Wo=!Se.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Wo&&"reload"!==(Di.extras.onSameUrlNavigation??Se.onSameUrlNavigation)){const xs="";return this.events.next(new ni(Di.id,this.urlSerializer.serialize(Di.rawUrl),xs,si.IgnoredSameUrlNavigation)),Di.resolve(null),v.w}if(this.urlHandlingStrategy.shouldProcessUrl(Di.rawUrl))return(0,x.of)(Di).pipe((0,J.n)(xs=>{const ia=this.transitions?.getValue();return this.events.next(new fr(xs.id,this.urlSerializer.serialize(xs.extractedUrl),xs.source,xs.restoredState)),ia!==this.transitions?.getValue()?v.w:Promise.resolve(xs)}),function ws(ue,Ie,Je,Se,yt,yn){return(0,$.Z)(jn=>function rr(ue,Ie,Je,Se,yt,yn,jn="emptyOnly"){return new mi(ue,Ie,Je,Se,yt,jn,yn).recognize()}(ue,Ie,Je,Se,jn.extractedUrl,yt,yn).pipe((0,Z.T)(({state:qr,tree:Ji})=>({...jn,targetSnapshot:qr,urlAfterRedirects:Ji}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Se.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,B.M)(xs=>{jn.targetSnapshot=xs.targetSnapshot,jn.urlAfterRedirects=xs.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xs.urlAfterRedirects};const ia=new Oi(xs.id,this.urlSerializer.serialize(xs.extractedUrl),this.urlSerializer.serialize(xs.urlAfterRedirects),xs.targetSnapshot);this.events.next(ia)}));if(Wo&&this.urlHandlingStrategy.shouldProcessUrl(Di.currentRawUrl)){const{id:xs,extractedUrl:ia,source:ea,restoredState:ma,extras:uc}=Di,Ka=new fr(xs,this.urlSerializer.serialize(ia),ea,ma);this.events.next(Ka);const ul=os(this.rootComponentType).snapshot;return this.currentTransition=jn={...Di,targetSnapshot:ul,urlAfterRedirects:ia,extras:{...uc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ia,(0,x.of)(jn)}{const xs="";return this.events.next(new ni(Di.id,this.urlSerializer.serialize(Di.extractedUrl),xs,si.IgnoredByUrlHandlingStrategy)),Di.resolve(null),v.w}}),(0,B.M)(Di=>{const Wo=new so(Di.id,this.urlSerializer.serialize(Di.extractedUrl),this.urlSerializer.serialize(Di.urlAfterRedirects),Di.targetSnapshot);this.events.next(Wo)}),(0,Z.T)(Di=>(this.currentTransition=jn={...Di,guards:$r(Di.targetSnapshot,Di.currentSnapshot,this.rootContexts)},jn)),function be(ue,Ie){return(0,$.Z)(Je=>{const{targetSnapshot:Se,currentSnapshot:yt,guards:{canActivateChecks:yn,canDeactivateChecks:jn}}=Je;return 0===jn.length&&0===yn.length?(0,x.of)({...Je,guardsResult:!0}):function Ke(ue,Ie,Je,Se){return(0,C.H)(ue).pipe((0,$.Z)(yt=>function ci(ue,Ie,Je,Se,yt){const yn=Ie&&Ie.routeConfig?Ie.routeConfig.canDeactivate:null;if(!yn||0===yn.length)return(0,x.of)(!0);const jn=yn.map(qr=>{const Ji=Nt(Ie)??yt,Di=ri(qr,Ji);return p(function St(ue){return ue&&st(ue.canDeactivate)}(Di)?Di.canDeactivate(ue,Ie,Je,Se):(0,u.N4e)(Ji,()=>Di(ue,Ie,Je,Se))).pipe((0,H.$)())});return(0,x.of)(jn).pipe(Q())}(yt.component,yt.route,Je,Ie,Se)),(0,H.$)(yt=>!0!==yt,!0))}(jn,Se,yt,ue).pipe((0,$.Z)(qr=>qr&&function Qe(ue){return"boolean"==typeof ue}(qr)?function $t(ue,Ie,Je,Se){return(0,C.H)(Ie).pipe((0,me.H)(yt=>(0,S.x)(function Xn(ue,Ie){return null!==ue&&Ie&&Ie(new ze(ue)),(0,x.of)(!0)}(yt.route.parent,Se),function Sn(ue,Ie){return null!==ue&&Ie&&Ie(new sn(ue)),(0,x.of)(!0)}(yt.route,Se),function Vr(ue,Ie,Je){const Se=Ie[Ie.length-1],yn=Ie.slice(0,Ie.length-1).reverse().map(jn=>function pi(ue){const Ie=ue.routeConfig?ue.routeConfig.canActivateChild:null;return Ie&&0!==Ie.length?{node:ue,guards:Ie}:null}(jn)).filter(jn=>null!==jn).map(jn=>(0,U.v)(()=>{const qr=jn.guards.map(Ji=>{const Di=Nt(jn.node)??Je,Wo=ri(Ji,Di);return p(function fe(ue){return ue&&st(ue.canActivateChild)}(Wo)?Wo.canActivateChild(Se,ue):(0,u.N4e)(Di,()=>Wo(Se,ue))).pipe((0,H.$)())});return(0,x.of)(qr).pipe(Q())}));return(0,x.of)(yn).pipe(Q())}(ue,yt.path,Je),function yr(ue,Ie,Je){const Se=Ie.routeConfig?Ie.routeConfig.canActivate:null;if(!Se||0===Se.length)return(0,x.of)(!0);const yt=Se.map(yn=>(0,U.v)(()=>{const jn=Nt(Ie)??Je,qr=ri(yn,jn);return p(function ft(ue){return ue&&st(ue.canActivate)}(qr)?qr.canActivate(Ie,ue):(0,u.N4e)(jn,()=>qr(Ie,ue))).pipe((0,H.$)())}));return(0,x.of)(yt).pipe(Q())}(ue,yt.route,Je))),(0,H.$)(yt=>!0!==yt,!0))}(Se,yn,ue,Ie):(0,x.of)(qr)),(0,Z.T)(qr=>({...Je,guardsResult:qr})))})}(this.environmentInjector,Di=>this.events.next(Di)),(0,B.M)(Di=>{if(jn.guardsResult=Di.guardsResult,In(Di.guardsResult))throw pa(0,Di.guardsResult);const Wo=new wo(Di.id,this.urlSerializer.serialize(Di.extractedUrl),this.urlSerializer.serialize(Di.urlAfterRedirects),Di.targetSnapshot,!!Di.guardsResult);this.events.next(Wo)}),(0,Y.p)(Di=>!!Di.guardsResult||(this.cancelNavigationTransition(Di,"",zr.GuardRejected),!1)),ct(Di=>{if(Di.guards.canActivateChecks.length)return(0,x.of)(Di).pipe((0,B.M)(Wo=>{const $s=new eo(Wo.id,this.urlSerializer.serialize(Wo.extractedUrl),this.urlSerializer.serialize(Wo.urlAfterRedirects),Wo.targetSnapshot);this.events.next($s)}),(0,J.n)(Wo=>{let $s=!1;return(0,x.of)(Wo).pipe(function Jo(ue,Ie){return(0,$.Z)(Je=>{const{targetSnapshot:Se,guards:{canActivateChecks:yt}}=Je;if(!yt.length)return(0,x.of)(Je);const yn=new Set(yt.map(Ji=>Ji.route)),jn=new Set;for(const Ji of yn)if(!jn.has(Ji))for(const Di of Cs(Ji))jn.add(Di);let qr=0;return(0,C.H)(jn).pipe((0,me.H)(Ji=>yn.has(Ji)?function rs(ue,Ie,Je,Se){const yt=ue.routeConfig,yn=ue._resolve;return void 0!==yt?.title&&!xo(yt)&&(yn[Ne]=yt.title),function Yt(ue,Ie,Je,Se){const yt=T(ue);if(0===yt.length)return(0,x.of)({});const yn={};return(0,C.H)(yt).pipe((0,$.Z)(jn=>function De(ue,Ie,Je,Se){const yt=Nt(Ie)??Se,yn=ri(ue,yt);return p(yn.resolve?yn.resolve(Ie,Je):(0,u.N4e)(yt,()=>yn(Ie,Je)))}(ue[jn],Ie,Je,Se).pipe((0,H.$)(),(0,B.M)(qr=>{yn[jn]=qr}))),Bt(1),(0,he.u)(yn),(0,ce.W)(jn=>Yn(jn)?v.w:(0,y.$)(jn)))}(yn,ue,Ie,Se).pipe((0,Z.T)(jn=>(ue._resolvedData=jn,ue.data=ar(ue,ue.parent,Je).resolve,null)))}(Ji,Se,ue,Ie):(Ji.data=ar(Ji,Ji.parent,ue).resolve,(0,x.of)(void 0))),(0,B.M)(()=>qr++),Bt(1),(0,$.Z)(Ji=>qr===jn.size?(0,x.of)(Je):v.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,B.M)({next:()=>$s=!0,complete:()=>{$s||this.cancelNavigationTransition(Wo,"",zr.NoDataFromResolver)}}))}),(0,B.M)(Wo=>{const $s=new Vo(Wo.id,this.urlSerializer.serialize(Wo.extractedUrl),this.urlSerializer.serialize(Wo.urlAfterRedirects),Wo.targetSnapshot);this.events.next($s)}))}),ct(Di=>{const Wo=$s=>{const xs=[];$s.routeConfig?.loadComponent&&!$s.routeConfig._loadedComponent&&xs.push(this.configLoader.loadComponent($s.routeConfig).pipe((0,B.M)(ia=>{$s.component=ia}),(0,Z.T)(()=>{})));for(const ia of $s.children)xs.push(...Wo(ia));return xs};return(0,d.z)(Wo(Di.targetSnapshot.root)).pipe((0,_e.U)(null),(0,te.s)(1))}),ct(()=>this.afterPreactivation()),(0,J.n)(()=>{const{currentSnapshot:Di,targetSnapshot:Wo}=jn,$s=this.createViewTransition?.(this.environmentInjector,Di.root,Wo.root);return $s?(0,C.H)($s).pipe((0,Z.T)(()=>jn)):(0,x.of)(jn)}),(0,Z.T)(Di=>{const Wo=function ys(ue,Ie,Je){const Se=Os(ue,Ie._root,Je?Je._root:void 0);return new Zo(Se,Ie)}(Se.routeReuseStrategy,Di.targetSnapshot,Di.currentRouterState);return this.currentTransition=jn={...Di,targetRouterState:Wo},this.currentNavigation.targetRouterState=Wo,jn}),(0,B.M)(()=>{this.events.next(new Zr)}),((ue,Ie,Je,Se)=>(0,Z.T)(yt=>(new Er(Ie,yt.targetRouterState,yt.currentRouterState,Je,Se).activate(ue),yt)))(this.rootContexts,Se.routeReuseStrategy,Di=>this.events.next(Di),this.inputBindingEnabled),(0,te.s)(1),(0,B.M)({next:Di=>{qr=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ar(Di.id,this.urlSerializer.serialize(Di.extractedUrl),this.urlSerializer.serialize(Di.urlAfterRedirects))),this.titleStrategy?.updateTitle(Di.targetRouterState.snapshot),Di.resolve(!0)},complete:()=>{qr=!0}}),(0,pt.Q)(this.transitionAbortSubject.pipe((0,B.M)(Di=>{throw Di}))),(0,Ce.j)(()=>{!qr&&!Ji&&this.cancelNavigationTransition(jn,"",zr.SupersededByNewNavigation),this.currentTransition?.id===jn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,ce.W)(Di=>{if(Ji=!0,Ks(Di))this.events.next(new Ti(jn.id,this.urlSerializer.serialize(jn.extractedUrl),Di.message,Di.cancellationCode)),function Ms(ue){return Ks(ue)&&In(ue.url)}(Di)?this.events.next(new io(Di.url)):jn.resolve(!1);else{this.events.next(new ai(jn.id,this.urlSerializer.serialize(jn.extractedUrl),Di,jn.targetSnapshot??void 0));try{jn.resolve(Se.errorHandler(Di))}catch(Wo){this.options.resolveNavigationPromiseOnError?jn.resolve(!1):jn.reject(Wo)}}return v.w}))}))}cancelNavigationTransition(Se,yt,yn){const jn=new Ti(Se.id,this.urlSerializer.serialize(Se.extractedUrl),yt,yn);this.events.next(jn),Se.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})();function Ze(ue){return ue!==Be}let Tn=(()=>{var ue;class Ie{}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:()=>(0,u.WQX)(_i),providedIn:"root"}),Ie})();class vr{shouldDetach(Ie){return!1}store(Ie,Je){}shouldAttach(Ie){return!1}retrieve(Ie){return null}shouldReuseRoute(Ie,Je){return Ie.routeConfig===Je.routeConfig}}let _i=(()=>{var ue;class Ie extends vr{}return(ue=Ie).\u0275fac=(()=>{let Je;return function(yt){return(Je||(Je=u.xGo(ue)))(yt||ue)}})(),ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})(),ao=(()=>{var ue;class Ie{}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:()=>(0,u.WQX)(gs),providedIn:"root"}),Ie})(),gs=(()=>{var ue;class Ie extends ao{constructor(){super(...arguments),this.location=(0,u.WQX)(V.aZ),this.urlSerializer=(0,u.WQX)(lt),this.options=(0,u.WQX)(zn,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.WQX)(Fo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ln,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=os(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Se){return this.location.subscribe(yt=>{"popstate"===yt.type&&Se(yt.url,yt.state)})}handleRouterEvent(Se,yt){if(Se instanceof fr)this.stateMemento=this.createStateMemento();else if(Se instanceof ni)this.rawUrlTree=yt.initialUrl;else if(Se instanceof Oi){if("eager"===this.urlUpdateStrategy&&!yt.extras.skipLocationChange){const yn=this.urlHandlingStrategy.merge(yt.finalUrl,yt.initialUrl);this.setBrowserUrl(yn,yt)}}else Se instanceof Zr?(this.currentUrlTree=yt.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(yt.finalUrl,yt.initialUrl),this.routerState=yt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(yt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,yt))):Se instanceof Ti&&(Se.code===zr.GuardRejected||Se.code===zr.NoDataFromResolver)?this.restoreHistory(yt):Se instanceof ai?this.restoreHistory(yt,!0):Se instanceof Ar&&(this.lastSuccessfulId=Se.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Se,yt){const yn=this.urlSerializer.serialize(Se);if(this.location.isCurrentPathEqualTo(yn)||yt.extras.replaceUrl){const qr={...yt.extras.state,...this.generateNgRouterState(yt.id,this.browserPageId)};this.location.replaceState(yn,"",qr)}else{const jn={...yt.extras.state,...this.generateNgRouterState(yt.id,this.browserPageId+1)};this.location.go(yn,"",jn)}}restoreHistory(Se,yt=!1){if("computed"===this.canceledNavigationResolution){const jn=this.currentPageId-this.browserPageId;0!==jn?this.location.historyGo(jn):this.currentUrlTree===Se.finalUrl&&0===jn&&(this.resetState(Se),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(yt&&this.resetState(Se),this.resetUrlToCurrentUrlTree())}resetState(Se){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Se.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Se,yt){return"computed"===this.canceledNavigationResolution?{navigationId:Se,\u0275routerPageId:yt}:{navigationId:Se}}}return(ue=Ie).\u0275fac=(()=>{let Je;return function(yt){return(Je||(Je=u.xGo(ue)))(yt||ue)}})(),ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})();var ds=function(ue){return ue[ue.COMPLETE=0]="COMPLETE",ue[ue.FAILED=1]="FAILED",ue[ue.REDIRECTING=2]="REDIRECTING",ue}(ds||{});function us(ue,Ie){ue.events.pipe((0,Y.p)(Je=>Je instanceof Ar||Je instanceof Ti||Je instanceof ai||Je instanceof ni),(0,Z.T)(Je=>Je instanceof Ar||Je instanceof ni?ds.COMPLETE:Je instanceof Ti&&(Je.code===zr.Redirect||Je.code===zr.SupersededByNewNavigation)?ds.REDIRECTING:ds.FAILED),(0,Y.p)(Je=>Je!==ds.REDIRECTING),(0,te.s)(1)).subscribe(()=>{Ie()})}function hs(ue){throw ue}const na={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ho=(()=>{var ue;class Ie{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,u.WQX)(u.H3F),this.stateManager=(0,u.WQX)(ao),this.options=(0,u.WQX)(zn,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.WQX)(Nn),this.urlSerializer=(0,u.WQX)(lt),this.location=(0,u.WQX)(V.aZ),this.urlHandlingStrategy=(0,u.WQX)(Fo),this._events=new G.B,this.errorHandler=this.options.errorHandler||hs,this.navigated=!1,this.routeReuseStrategy=(0,u.WQX)(Tn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,u.WQX)(ir,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,u.WQX)(ls,{optional:!0}),this.eventsSubscription=new K.yU,this.isNgZoneEnabled=(0,u.WQX)(u.SKi)instanceof u.SKi&&u.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Se=>{this.console.warn(Se)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Se=this.navigationTransitions.events.subscribe(yt=>{try{const yn=this.navigationTransitions.currentTransition,jn=this.navigationTransitions.currentNavigation;if(null!==yn&&null!==jn)if(this.stateManager.handleRouterEvent(yt,jn),yt instanceof Ti&&yt.code!==zr.Redirect&&yt.code!==zr.SupersededByNewNavigation)this.navigated=!0;else if(yt instanceof Ar)this.navigated=!0;else if(yt instanceof io){const qr=this.urlHandlingStrategy.merge(yt.url,yn.currentRawUrl),Ji={info:yn.extras.info,skipLocationChange:yn.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ze(yn.source)};this.scheduleNavigation(qr,Be,null,Ji,{resolve:yn.resolve,reject:yn.reject,promise:yn.promise})}(function no(ue){return!(ue instanceof Zr||ue instanceof io)})(yt)&&this._events.next(yt)}catch(yn){this.navigationTransitions.transitionAbortSubject.next(yn)}});this.eventsSubscription.add(Se)}resetRootComponentType(Se){this.routerState.root.component=Se,this.navigationTransitions.rootComponentType=Se}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Be,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Se,yt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Se,"popstate",yt)},0)})}navigateToSyncWithBrowser(Se,yt,yn){const jn={replaceUrl:!0},qr=yn?.navigationId?yn:null;if(yn){const Di={...yn};delete Di.navigationId,delete Di.\u0275routerPageId,0!==Object.keys(Di).length&&(jn.state=Di)}const Ji=this.parseUrl(Se);this.scheduleNavigation(Ji,yt,qr,jn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Se){this.config=Se.map(Wt),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Se,yt={}){const{relativeTo:yn,queryParams:jn,fragment:qr,queryParamsHandling:Ji,preserveFragment:Di}=yt,Wo=Di?this.currentUrlTree.fragment:qr;let xs,$s=null;switch(Ji){case"merge":$s={...this.currentUrlTree.queryParams,...jn};break;case"preserve":$s=this.currentUrlTree.queryParams;break;default:$s=jn||null}null!==$s&&($s=this.removeEmptyProps($s));try{xs=sr(yn?yn.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Se[0]||!Se[0].startsWith("/"))&&(Se=[]),xs=this.currentUrlTree.root}return Gr(xs,Se,$s,Wo??null)}navigateByUrl(Se,yt={skipLocationChange:!1}){const yn=In(Se)?Se:this.parseUrl(Se),jn=this.urlHandlingStrategy.merge(yn,this.rawUrlTree);return this.scheduleNavigation(jn,Be,null,yt)}navigate(Se,yt={skipLocationChange:!1}){return function $o(ue){for(let Ie=0;Ie<ue.length;Ie++)if(null==ue[Ie])throw new u.wOt(4008,!1)}(Se),this.navigateByUrl(this.createUrlTree(Se,yt),yt)}serializeUrl(Se){return this.urlSerializer.serialize(Se)}parseUrl(Se){try{return this.urlSerializer.parse(Se)}catch{return this.urlSerializer.parse("/")}}isActive(Se,yt){let yn;if(yn=!0===yt?{...na}:!1===yt?{...bs}:yt,In(Se))return se(this.currentUrlTree,Se,yn);const jn=this.parseUrl(Se);return se(this.currentUrlTree,jn,yn)}removeEmptyProps(Se){return Object.entries(Se).reduce((yt,[yn,jn])=>(null!=jn&&(yt[yn]=jn),yt),{})}scheduleNavigation(Se,yt,yn,jn,qr){if(this.disposed)return Promise.resolve(!1);let Ji,Di,Wo;qr?(Ji=qr.resolve,Di=qr.reject,Wo=qr.promise):Wo=new Promise((xs,ia)=>{Ji=xs,Di=ia});const $s=this.pendingTasks.add();return us(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($s))}),this.navigationTransitions.handleNavigationRequest({source:yt,restoredState:yn,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Se,extras:jn,resolve:Ji,reject:Di,promise:Wo,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wo.catch(xs=>Promise.reject(xs))}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})(),Do=(()=>{var ue;class Ie{constructor(Se,yt,yn,jn,qr,Ji){this.router=Se,this.route=yt,this.tabIndexAttribute=yn,this.renderer=jn,this.el=qr,this.locationStrategy=Ji,this.href=null,this.commands=null,this.onChanges=new G.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Di=qr.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Di||"area"===Di,this.isAnchorElement?this.subscription=Se.events.subscribe(Wo=>{Wo instanceof Ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Se){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Se)}ngOnChanges(Se){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Se){null!=Se?(this.commands=Array.isArray(Se)?Se:[Se],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(Se,yt,yn,jn,qr){const Ji=this.urlTree;return!!(null===Ji||this.isAnchorElement&&(0!==Se||yt||yn||jn||qr||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ji,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Se=this.urlTree;this.href=null!==Se&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Se)):null;const yt=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",yt)}applyAttributeValue(Se,yt){const yn=this.renderer,jn=this.el.nativeElement;null!==yt?yn.setAttribute(jn,Se,yt):yn.removeAttribute(jn,Se)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)(u.rXU(Ho),u.rXU(Rs),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(V.hb))},ue.\u0275dir=u.FsC({type:ue,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Se,yt){1&Se&&u.bIt("click",function(jn){return yt.onClick(jn.button,jn.ctrlKey,jn.shiftKey,jn.altKey,jn.metaKey)}),2&Se&&u.BMQ("target",yt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[u.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",u.L39],skipLocationChange:[u.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",u.L39],replaceUrl:[u.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]}),Ie})();class Qs{}let Ps=(()=>{var ue;class Ie{constructor(Se,yt,yn,jn,qr){this.router=Se,this.injector=yn,this.preloadingStrategy=jn,this.loader=qr}setUpPreloading(){this.subscription=this.router.events.pipe((0,Y.p)(Se=>Se instanceof Ar),(0,me.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Se,yt){const yn=[];for(const jn of yt){jn.providers&&!jn._injector&&(jn._injector=(0,u.Ol2)(jn.providers,Se,`Route: ${jn.path}`));const qr=jn._injector??Se,Ji=jn._loadedInjector??qr;(jn.loadChildren&&!jn._loadedRoutes&&void 0===jn.canLoad||jn.loadComponent&&!jn._loadedComponent)&&yn.push(this.preloadConfig(qr,jn)),(jn.children||jn._loadedRoutes)&&yn.push(this.processRoutes(Ji,jn.children??jn._loadedRoutes))}return(0,C.H)(yn).pipe((0,zt.U)())}preloadConfig(Se,yt){return this.preloadingStrategy.preload(yt,()=>{let yn;yn=yt.loadChildren&&void 0===yt.canLoad?this.loader.loadChildren(Se,yt):(0,x.of)(null);const jn=yn.pipe((0,$.Z)(qr=>null===qr?(0,x.of)(void 0):(yt._loadedRoutes=qr.routes,yt._loadedInjector=qr.injector,this.processRoutes(qr.injector??Se,qr.routes))));if(yt.loadComponent&&!yt._loadedComponent){const qr=this.loader.loadComponent(yt);return(0,C.H)([jn,qr]).pipe((0,zt.U)())}return jn})}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)(u.KVO(Ho),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(Qs),u.KVO(li))},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})();const fa=new u.nKC("");let xa=(()=>{var ue;class Ie{constructor(Se,yt,yn,jn,qr={}){this.urlSerializer=Se,this.transitions=yt,this.viewportScroller=yn,this.zone=jn,this.options=qr,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,u.WQX)(u.uvJ),qr.scrollPositionRestoration||="disabled",qr.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Se=>{Se instanceof fr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Se.navigationTrigger,this.restoredId=Se.restoredState?Se.restoredState.navigationId:0):Se instanceof Ar?(this.lastId=Se.id,this.scheduleScrollEvent(Se,this.urlSerializer.parse(Se.urlAfterRedirects).fragment)):Se instanceof ni&&Se.code===si.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Se,this.urlSerializer.parse(Se.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Se=>{Se instanceof Ir&&(Se.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Se.position):Se.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Se.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Se,yt){var yn=this;this.zone.runOutsideAngular((0,i.A)(function*(){yield new Promise(jn=>{setTimeout(()=>{jn()}),(0,u.mal)(()=>{jn()},{injector:yn.environmentInjector})}),yn.zone.run(()=>{yn.transitions.events.next(new Ir(Se,"popstate"===yn.lastSource?yn.store[yn.restoredId]:null,yt))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(ue=Ie).\u0275fac=function(Se){u.QTQ()},ue.\u0275prov=u.jDH({token:ue,factory:ue.\u0275fac}),Ie})();function Al(ue,Ie){return{\u0275kind:ue,\u0275providers:Ie}}function Wa(){const ue=(0,u.WQX)(u.zZn);return Ie=>{const Je=ue.get(u.o8S);if(Ie!==Je.components[0])return;const Se=ue.get(Ho),yt=ue.get(Ml);1===ue.get(dc)&&Se.initialNavigation(),ue.get(jo,null,u.$GK.Optional)?.setUpPreloading(),ue.get(fa,null,u.$GK.Optional)?.init(),Se.resetRootComponentType(Je.componentTypes[0]),yt.closed||(yt.next(),yt.complete(),yt.unsubscribe())}}const Ml=new u.nKC("",{factory:()=>new G.B}),dc=new u.nKC("",{providedIn:"root",factory:()=>1}),jo=new u.nKC("");function ks(ue){return Al(0,[{provide:jo,useExisting:Ps},{provide:Qs,useExisting:ue}])}function Da(ue){return Al(9,[{provide:oa,useValue:xe},{provide:Ca,useValue:{skipNextTransition:!!ue?.skipInitialTransition,...ue}}])}const Ba=new u.nKC("ROUTER_FORROOT_GUARD"),Oa=[V.aZ,{provide:lt,useClass:bt},Ho,Co,{provide:Rs,useFactory:function tl(ue){return ue.routerState.root},deps:[Ho]},li,[]];let Dl=(()=>{var ue;class Ie{constructor(Se){}static forRoot(Se,yt){return{ngModule:Ie,providers:[Oa,[],{provide:ir,multi:!0,useValue:Se},{provide:Ba,useFactory:Kc,deps:[[Ho,new u.Xx1,new u.kdw]]},{provide:zn,useValue:yt||{}},yt?.useHash?{provide:V.hb,useClass:V.fw}:{provide:V.hb,useClass:V.Sm},{provide:fa,useFactory:()=>{const ue=(0,u.WQX)(V.Xr),Ie=(0,u.WQX)(u.SKi),Je=(0,u.WQX)(zn),Se=(0,u.WQX)(Nn),yt=(0,u.WQX)(lt);return Je.scrollOffset&&ue.setOffset(Je.scrollOffset),new xa(yt,Se,ue,Ie,Je)}},yt?.preloadingStrategy?ks(yt.preloadingStrategy).\u0275providers:[],yt?.initialNavigation?_l(yt):[],yt?.bindToComponentInputs?Al(8,[Ns,{provide:ls,useExisting:Ns}]).\u0275providers:[],yt?.enableViewTransitions?Da().\u0275providers:[],[{provide:Xc,useFactory:Wa},{provide:u.iLQ,multi:!0,useExisting:Xc}]]}}static forChild(Se){return{ngModule:Ie,providers:[{provide:ir,multi:!0,useValue:Se}]}}}return(ue=Ie).\u0275fac=function(Se){return new(Se||ue)(u.KVO(Ba,8))},ue.\u0275mod=u.$C({type:ue}),ue.\u0275inj=u.G2t({}),Ie})();function Kc(ue){return"guarded"}function _l(ue){return["disabled"===ue.initialNavigation?Al(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const Ie=(0,u.WQX)(Ho);return()=>{Ie.setUpLocationChangeListener()}}},{provide:dc,useValue:2}]).\u0275providers:[],"enabledBlocking"===ue.initialNavigation?Al(2,[{provide:dc,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:Ie=>{const Je=Ie.get(V.hj,Promise.resolve());return()=>Je.then(()=>new Promise(Se=>{const yt=Ie.get(Ho),yn=Ie.get(Ml);us(yt,()=>{Se(!0)}),Ie.get(Nn).afterPreactivation=()=>(Se(!0),yn.closed?(0,x.of)(void 0):yn),yt.initialNavigation()}))}}]).\u0275providers:[]]}const Xc=new u.nKC("")},9989:(en,Ve,E)=>{"use strict";E.d(Ve,{Ay:()=>Xn});const i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,u=Object.keys,f=Array.isArray;function C(pe,le){return"object"!=typeof le||u(le).forEach(function(Ge){pe[Ge]=le[Ge]}),pe}typeof Promise>"u"||i.Promise||(i.Promise=Promise);const x=Object.getPrototypeOf,w={}.hasOwnProperty;function d(pe,le){return w.call(pe,le)}function k(pe,le){"function"==typeof le&&(le=le(x(pe))),(typeof Reflect>"u"?u:Reflect.ownKeys)(le).forEach(Ge=>{U(pe,Ge,le[Ge])})}const S=Object.defineProperty;function U(pe,le,Ge,Mt){S(pe,le,C(Ge&&d(Ge,"get")&&"function"==typeof Ge.get?{get:Ge.get,set:Ge.set,configurable:!0}:{value:Ge,configurable:!0,writable:!0},Mt))}function P(pe){return{from:function(le){return pe.prototype=Object.create(le.prototype),U(pe.prototype,"constructor",pe),{extend:k.bind(null,pe.prototype)}}}}const y=Object.getOwnPropertyDescriptor;function v(pe,le){let Ge;return y(pe,le)||(Ge=x(pe))&&v(Ge,le)}const M=[].slice;function G(pe,le,Ge){return M.call(pe,le,Ge)}function K(pe,le){return le(pe)}function V(pe){if(!pe)throw new Error("Assertion Failed")}function Z(pe){i.setImmediate?setImmediate(pe):setTimeout(pe,0)}function J(pe,le){return pe.reduce((Ge,Mt,Lt)=>{var pn=le(Mt,Lt);return pn&&(Ge[pn[0]]=pn[1]),Ge},{})}function te(pe,le){if("string"==typeof le&&d(pe,le))return pe[le];if(!le)return pe;if("string"!=typeof le){for(var Ge=[],Mt=0,Lt=le.length;Mt<Lt;++Mt){var pn=te(pe,le[Mt]);Ge.push(pn)}return Ge}var Bn=le.indexOf(".");if(-1!==Bn){var hr=pe[le.substr(0,Bn)];return null==hr?void 0:te(hr,le.substr(Bn+1))}}function ae(pe,le,Ge){if(pe&&void 0!==le&&(!("isFrozen"in Object)||!Object.isFrozen(pe)))if("string"!=typeof le&&"length"in le){V("string"!=typeof Ge&&"length"in Ge);for(var Mt=0,Lt=le.length;Mt<Lt;++Mt)ae(pe,le[Mt],Ge[Mt])}else{var pn=le.indexOf(".");if(-1!==pn){var Bn=le.substr(0,pn),hr=le.substr(pn+1);if(""===hr)void 0===Ge?f(pe)&&!isNaN(parseInt(Bn))?pe.splice(Bn,1):delete pe[Bn]:pe[Bn]=Ge;else{var cr=pe[Bn];cr&&d(pe,Bn)||(cr=pe[Bn]={}),ae(cr,hr,Ge)}}else void 0===Ge?f(pe)&&!isNaN(parseInt(le))?pe.splice(le,1):delete pe[le]:pe[le]=Ge}}function Y(pe){var le={};for(var Ge in pe)d(pe,Ge)&&(le[Ge]=pe[Ge]);return le}const $=[].concat;function H(pe){return $.apply([],pe)}const me="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(H([8,16,32,64].map(pe=>["Int","Uint","Float"].map(le=>le+pe+"Array")))).filter(pe=>i[pe]),B=me.map(pe=>i[pe]);J(me,pe=>[pe,!0]);let ce=null;function Oe(pe){ce=typeof WeakMap<"u"&&new WeakMap;const le=Ue(pe);return ce=null,le}function Ue(pe){if(!pe||"object"!=typeof pe)return pe;let le=ce&&ce.get(pe);if(le)return le;if(f(pe)){le=[],ce&&ce.set(pe,le);for(var Ge=0,Mt=pe.length;Ge<Mt;++Ge)le.push(Ue(pe[Ge]))}else if(B.indexOf(pe.constructor)>=0)le=pe;else{const pn=x(pe);for(var Lt in le=pn===Object.prototype?{}:Object.create(pn),ce&&ce.set(pe,le),pe)d(pe,Lt)&&(le[Lt]=Ue(pe[Lt]))}return le}const{toString:qe}={};function _e(pe){return qe.call(pe).slice(8,-1)}const ht=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Bt="symbol"==typeof ht?function(pe){var le;return null!=pe&&(le=pe[ht])&&le.apply(pe)}:function(){return null},de={};function R(pe){var le,Ge,Mt,Lt;if(1===arguments.length){if(f(pe))return pe.slice();if(this===de&&"string"==typeof pe)return[pe];if(Lt=Bt(pe)){for(Ge=[];!(Mt=Lt.next()).done;)Ge.push(Mt.value);return Ge}if(null==pe)return[pe];if("number"==typeof(le=pe.length)){for(Ge=new Array(le);le--;)Ge[le]=pe[le];return Ge}return[pe]}for(le=arguments.length,Ge=new Array(le);le--;)Ge[le]=arguments[le];return Ge}const j=typeof Symbol<"u"?pe=>"AsyncFunction"===pe[Symbol.toStringTag]:()=>!1;var he=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ce(pe,le){he=pe,Re=le}var Re=()=>!0;const pt=!new Error("").stack;function zt(){if(pt)try{throw new Error}catch(pe){return pe}return new Error}function Mn(pe,le){var Ge=pe.stack;return Ge?(le=le||0,0===Ge.indexOf(pe.name)&&(le+=(pe.name+pe.message).split("\n").length),Ge.split("\n").slice(le).filter(Re).map(Mt=>"\n"+Mt).join("")):""}var It=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ne=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(It),Xe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ot(pe,le){this._e=zt(),this.name=pe,this.message=le}function re(pe,le){return pe+". Errors: "+Object.keys(le).map(Ge=>le[Ge].toString()).filter((Ge,Mt,Lt)=>Lt.indexOf(Ge)===Mt).join("\n")}function D(pe,le,Ge,Mt){this._e=zt(),this.failures=le,this.failedKeys=Mt,this.successCount=Ge,this.message=re(pe,le)}function F(pe,le){this._e=zt(),this.name="BulkError",this.failures=Object.keys(le).map(Ge=>le[Ge]),this.failuresByPos=le,this.message=re(pe,le)}P(Ot).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Mn(this._e,2))}},toString:function(){return this.name+": "+this.message}}),P(D).from(Ot),P(F).from(Ot);var T=Ne.reduce((pe,le)=>(pe[le]=le+"Error",pe),{});const W=Ot;var z=Ne.reduce((pe,le)=>{var Ge=le+"Error";function Mt(Lt,pn){this._e=zt(),this.name=Ge,Lt?"string"==typeof Lt?(this.message=`${Lt}${pn?"\n "+pn:""}`,this.inner=pn||null):"object"==typeof Lt&&(this.message=`${Lt.name} ${Lt.message}`,this.inner=Lt):(this.message=Xe[le]||Ge,this.inner=null)}return P(Mt).from(W),pe[le]=Mt,pe},{});z.Syntax=SyntaxError,z.Type=TypeError,z.Range=RangeError;var p=It.reduce((pe,le)=>(pe[le+"Error"]=z[le],pe),{}),I=Ne.reduce((pe,le)=>(-1===["Syntax","Type","Range"].indexOf(le)&&(pe[le+"Error"]=z[le]),pe),{});function Ae(){}function se(pe){return pe}function L(pe,le){return null==pe||pe===se?le:function(Ge){return le(pe(Ge))}}function ve(pe,le){return function(){pe.apply(this,arguments),le.apply(this,arguments)}}function ge(pe,le){return pe===Ae?le:function(){var Ge=pe.apply(this,arguments);void 0!==Ge&&(arguments[0]=Ge);var Mt=this.onsuccess,Lt=this.onerror;this.onsuccess=null,this.onerror=null;var pn=le.apply(this,arguments);return Mt&&(this.onsuccess=this.onsuccess?ve(Mt,this.onsuccess):Mt),Lt&&(this.onerror=this.onerror?ve(Lt,this.onerror):Lt),void 0!==pn?pn:Ge}}function et(pe,le){return pe===Ae?le:function(){pe.apply(this,arguments);var Ge=this.onsuccess,Mt=this.onerror;this.onsuccess=this.onerror=null,le.apply(this,arguments),Ge&&(this.onsuccess=this.onsuccess?ve(Ge,this.onsuccess):Ge),Mt&&(this.onerror=this.onerror?ve(Mt,this.onerror):Mt)}}function Pt(pe,le){return pe===Ae?le:function(Ge){var Mt=pe.apply(this,arguments);C(Ge,Mt);var Lt=this.onsuccess,pn=this.onerror;this.onsuccess=null,this.onerror=null;var Bn=le.apply(this,arguments);return Lt&&(this.onsuccess=this.onsuccess?ve(Lt,this.onsuccess):Lt),pn&&(this.onerror=this.onerror?ve(pn,this.onerror):pn),void 0===Mt?void 0===Bn?void 0:Bn:C(Mt,Bn)}}function Rt(pe,le){return pe===Ae?le:function(){return!1!==le.apply(this,arguments)&&pe.apply(this,arguments)}}function ln(pe,le){return pe===Ae?le:function(){var Ge=pe.apply(this,arguments);if(Ge&&"function"==typeof Ge.then){for(var Mt=this,Lt=arguments.length,pn=new Array(Lt);Lt--;)pn[Lt]=arguments[Lt];return Ge.then(function(){return le.apply(Mt,pn)})}return le.apply(this,arguments)}}I.ModifyError=D,I.DexieError=Ot,I.BulkError=F;var je={};const Ht=100,[ut,jt,gn]=typeof Promise>"u"?[]:(()=>{let pe=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[pe,x(pe),pe];const le=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[le,x(le),pe]})(),lt=jt&&jt.then,bt=ut&&ut.constructor,He=!!gn;var ye=!1,mt=gn?()=>{gn.then(dr)}:i.setImmediate?setImmediate.bind(null,dr):i.MutationObserver?()=>{var pe=document.createElement("div");new MutationObserver(()=>{dr(),pe=null}).observe(pe,{attributes:!0}),pe.setAttribute("i","1")}:()=>{setTimeout(dr,0)},rt=function(pe,le){gt.push([pe,le]),Dn&&(mt(),Dn=!1)},Kt=!0,Dn=!0,Jn=[],lr=[],an=null,At=se,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:zr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(pe=>{try{zr(pe[0],pe[1])}catch{}})}},xt=Et,gt=[],tn=0,Xt=[];function Ye(pe){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ae,this._lib=!1;var le=this._PSD=xt;if(he&&(this._stackHolder=zt(),this._prev=null,this._numPrev=0),"function"!=typeof pe){if(pe!==je)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ke(this,this._value))}this._state=null,this._value=null,++le.ref,it(this,pe)}const Vt={get:function(){var pe=xt,le=mr;function Ge(Mt,Lt){var pn=!pe.global&&(pe!==xt||le!==mr);const Bn=pn&&!dt();var hr=new Ye((cr,kr)=>{We(this,new En(un(Mt,pe,pn,Bn),un(Lt,pe,pn,Bn),cr,kr,pe))});return he&&In(hr,this),hr}return Ge.prototype=je,Ge},set:function(pe){U(this,"then",pe&&pe.prototype===je?Vt:{get:function(){return pe},set:Vt.set})}};function En(pe,le,Ge,Mt,Lt){this.onFulfilled="function"==typeof pe?pe:null,this.onRejected="function"==typeof le?le:null,this.resolve=Ge,this.reject=Mt,this.psd=Lt}function it(pe,le){try{le(Ge=>{if(null===pe._state){if(Ge===pe)throw new TypeError("A promise cannot be resolved with itself.");var Mt=pe._lib&&sr();Ge&&"function"==typeof Ge.then?it(pe,(Lt,pn)=>{Ge instanceof Ye?Ge._then(Lt,pn):Ge.then(Lt,pn)}):(pe._state=!0,pe._value=Ge,Jt(pe)),Mt&&Gr()}},ke.bind(null,pe))}catch(Ge){ke(pe,Ge)}}function ke(pe,le){if(lr.push(le),null===pe._state){var Ge=pe._lib&&sr();le=At(le),pe._state=!1,pe._value=le,he&&null!==le&&"object"==typeof le&&!le._promise&&function(Mt,Lt,pn){try{(()=>{var Mt=v(le,"stack");le._promise=pe,U(le,"stack",{get:()=>ye?Mt&&(Mt.get?Mt.get.apply(le):Mt.value):pe.stack})}).apply(null,void 0)}catch(Bn){}}(),Mt=pe,Jn.some(Lt=>Lt._value===Mt._value)||Jn.push(Mt),Jt(pe),Ge&&Gr()}var Mt}function Jt(pe){var le=pe._listeners;pe._listeners=[];for(var Ge=0,Mt=le.length;Ge<Mt;++Ge)We(pe,le[Ge]);var Lt=pe._PSD;--Lt.ref||Lt.finalize(),0===tn&&(++tn,rt(()=>{0==--tn&&hi()},[]))}function We(pe,le){if(null!==pe._state){var Ge=pe._state?le.onFulfilled:le.onRejected;if(null===Ge)return(pe._state?le.resolve:le.reject)(pe._value);++le.psd.ref,++tn,rt(Tt,[Ge,pe,le])}else pe._listeners.push(le)}function Tt(pe,le,Ge){try{an=le;var Mt,Lt=le._value;le._state?Mt=pe(Lt):(lr.length&&(lr=[]),Mt=pe(Lt),-1===lr.indexOf(Lt)&&function(pn){for(var Bn=Jn.length;Bn;)if(Jn[--Bn]._value===pn._value)return void Jn.splice(Bn,1)}(le)),Ge.resolve(Mt)}catch(pn){Ge.reject(pn)}finally{an=null,0==--tn&&hi(),--Ge.psd.ref||Ge.psd.finalize()}}function wn(pe,le,Ge){if(le.length===Ge)return le;var Mt="";if(!1===pe._state){var Lt,pn,Bn=pe._value;null!=Bn?(Lt=Bn.name||"Error",pn=Bn.message||Bn,Mt=Mn(Bn,0)):(Lt=Bn,pn=""),le.push(Lt+(pn?": "+pn:"")+Mt)}return he&&((Mt=Mn(pe._stackHolder,2))&&-1===le.indexOf(Mt)&&le.push(Mt),pe._prev&&wn(pe._prev,le,Ge)),le}function In(pe,le){var Ge=le?le._numPrev+1:0;Ge<100&&(pe._prev=le,pe._numPrev=Ge)}function dr(){sr()&&Gr()}function sr(){var pe=Kt;return Kt=!1,Dn=!1,pe}function Gr(){var pe,le,Ge;do{for(;gt.length>0;)for(pe=gt,gt=[],Ge=pe.length,le=0;le<Ge;++le){var Mt=pe[le];Mt[0].apply(null,Mt[1])}}while(gt.length>0);Kt=!0,Dn=!0}function hi(){var pe=Jn;Jn=[],pe.forEach(Mt=>{Mt._PSD.onunhandled.call(null,Mt._value,Mt)});for(var le=Xt.slice(0),Ge=le.length;Ge;)le[--Ge]()}function Ei(pe){return new Ye(je,!1,pe)}function fi(pe,le){var Ge=xt;return function(){var Mt=sr(),Lt=xt;try{return nr(Ge,!0),pe.apply(this,arguments)}catch(pn){le&&le(pn)}finally{nr(Lt,!1),Mt&&Gr()}}}k(Ye.prototype,{then:Vt,_then:function(pe,le){We(this,new En(null,null,pe,le,xt))},catch:function(pe){if(1===arguments.length)return this.then(null,pe);var le=arguments[0],Ge=arguments[1];return this.then(null,"function"==typeof le?Mt=>Mt instanceof le?Ge(Mt):Ei(Mt):Mt=>Mt&&Mt.name===le?Ge(Mt):Ei(Mt))},finally:function(pe){return this.then(le=>(pe(),le),le=>(pe(),Ei(le)))},stack:{get:function(){if(this._stack)return this._stack;try{ye=!0;var pe=wn(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=pe),pe}finally{ye=!1}}},timeout:function(pe,le){return pe<1/0?new Ye((Ge,Mt)=>{var Lt=setTimeout(()=>Mt(new z.Timeout(le)),pe);this.then(Ge,Mt).finally(clearTimeout.bind(null,Lt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(Ye.prototype,Symbol.toStringTag,"Dexie.Promise"),Et.env=er(),k(Ye,{all:function(){var pe=R.apply(null,arguments).map(vn);return new Ye(function(le,Ge){0===pe.length&&le([]);var Mt=pe.length;pe.forEach((Lt,pn)=>Ye.resolve(Lt).then(Bn=>{pe[pn]=Bn,--Mt||le(pe)},Ge))})},resolve:pe=>{if(pe instanceof Ye)return pe;if(pe&&"function"==typeof pe.then)return new Ye((Ge,Mt)=>{pe.then(Ge,Mt)});var le=new Ye(je,!0,pe);return In(le,an),le},reject:Ei,race:function(){var pe=R.apply(null,arguments).map(vn);return new Ye((le,Ge)=>{pe.map(Mt=>Ye.resolve(Mt).then(le,Ge))})},PSD:{get:()=>xt,set:pe=>xt=pe},totalEchoes:{get:()=>mr},newPSD:ro,usePSD:Be,scheduler:{get:()=>rt,set:pe=>{rt=pe}},rejectionMapper:{get:()=>At,set:pe=>{At=pe}},follow:(pe,le)=>new Ye((Ge,Mt)=>ro((Lt,pn)=>{var Bn=xt;Bn.unhandleds=[],Bn.onunhandled=pn,Bn.finalize=ve(function(){var hr;hr=()=>{0===this.unhandleds.length?Lt():pn(this.unhandleds[0])},Xt.push(function cr(){hr(),Xt.splice(Xt.indexOf(cr),1)}),++tn,rt(()=>{0==--tn&&hi()},[])},Bn.finalize),pe()},le,Ge,Mt))}),bt&&(bt.allSettled&&U(Ye,"allSettled",function(){const pe=R.apply(null,arguments).map(vn);return new Ye(le=>{0===pe.length&&le([]);let Ge=pe.length;const Mt=new Array(Ge);pe.forEach((Lt,pn)=>Ye.resolve(Lt).then(Bn=>Mt[pn]={status:"fulfilled",value:Bn},Bn=>Mt[pn]={status:"rejected",reason:Bn}).then(()=>--Ge||le(Mt)))})}),bt.any&&typeof AggregateError<"u"&&U(Ye,"any",function(){const pe=R.apply(null,arguments).map(vn);return new Ye((le,Ge)=>{0===pe.length&&Ge(new AggregateError([]));let Mt=pe.length;const Lt=new Array(Mt);pe.forEach((pn,Bn)=>Ye.resolve(pn).then(hr=>le(hr),hr=>{Lt[Bn]=hr,--Mt||Ge(new AggregateError(Lt))}))})}));const co={awaits:0,echoes:0,id:0};var uo=0,Pi=[],ti=0,mr=0,Li=0;function ro(pe,le,Ge,Mt){var Lt=xt,pn=Object.create(Lt);pn.parent=Lt,pn.ref=0,pn.global=!1,pn.id=++Li;var Bn=Et.env;pn.env=He?{Promise:Ye,PromiseProp:{value:Ye,configurable:!0,writable:!0},all:Ye.all,race:Ye.race,allSettled:Ye.allSettled,any:Ye.any,resolve:Ye.resolve,reject:Ye.reject,nthen:fr(Bn.nthen,pn),gthen:fr(Bn.gthen,pn)}:{},le&&C(pn,le),++Lt.ref,pn.finalize=function(){--this.parent.ref||this.parent.finalize()};var hr=Be(pn,pe,Ge,Mt);return 0===pn.ref&&pn.finalize(),hr}function Pe(){return co.id||(co.id=++uo),++co.awaits,co.echoes+=Ht,co.id}function dt(){return!!co.awaits&&(0==--co.awaits&&(co.id=0),co.echoes=co.awaits*Ht,!0)}function vn(pe){return co.echoes&&pe&&pe.constructor===bt?(Pe(),pe.then(le=>(dt(),le),le=>(dt(),si(le)))):pe}function bn(pe){++mr,co.echoes&&0!=--co.echoes||(co.echoes=co.id=0),Pi.push(xt),nr(pe,!0)}function Gn(){var pe=Pi[Pi.length-1];Pi.pop(),nr(pe,!1)}function nr(pe,le){var Ge=xt;if((le?!co.echoes||ti++&&pe===xt:!ti||--ti&&pe===xt)||tt(le?bn.bind(null,pe):Gn),pe!==xt&&(xt=pe,Ge===Et&&(Et.env=er()),He)){var Mt=Et.env.Promise,Lt=pe.env;jt.then=Lt.nthen,Mt.prototype.then=Lt.gthen,(Ge.global||pe.global)&&(Object.defineProperty(i,"Promise",Lt.PromiseProp),Mt.all=Lt.all,Mt.race=Lt.race,Mt.resolve=Lt.resolve,Mt.reject=Lt.reject,Lt.allSettled&&(Mt.allSettled=Lt.allSettled),Lt.any&&(Mt.any=Lt.any))}}function er(){var pe=i.Promise;return He?{Promise:pe,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:pe.all,race:pe.race,allSettled:pe.allSettled,any:pe.any,resolve:pe.resolve,reject:pe.reject,nthen:jt.then,gthen:pe.prototype.then}:{}}function Be(pe,le,Ge,Mt,Lt){var pn=xt;try{return nr(pe,!0),le(Ge,Mt,Lt)}finally{nr(pn,!1)}}function tt(pe){lt.call(ut,pe)}function un(pe,le,Ge,Mt){return"function"!=typeof pe?pe:function(){var Lt=xt;Ge&&Pe(),nr(le,!0);try{return pe.apply(this,arguments)}finally{nr(Lt,!1),Mt&&tt(dt)}}}function fr(pe,le){return function(Ge,Mt){return pe.call(this,un(Ge,le),un(Mt,le))}}-1===(""+lt).indexOf("[native code]")&&(Pe=dt=Ae);const Ar="unhandledrejection";function zr(pe,le){var Ge;try{Ge=le.onuncatched(pe)}catch{}if(!1!==Ge)try{var Mt,Lt={promise:le,reason:pe};if(i.document&&document.createEvent?((Mt=document.createEvent("Event")).initEvent(Ar,!0,!0),C(Mt,Lt)):i.CustomEvent&&C(Mt=new CustomEvent(Ar,{detail:Lt}),Lt),Mt&&i.dispatchEvent&&(dispatchEvent(Mt),!i.PromiseRejectionEvent&&i.onunhandledrejection))try{i.onunhandledrejection(Mt)}catch{}he&&Mt&&!Mt.defaultPrevented&&console.warn(`Unhandled rejection: ${pe.stack||pe}`)}catch{}}var si=Ye.reject;function Ti(pe,le,Ge,Mt){if(pe.idbdb&&(pe._state.openComplete||xt.letThrough||pe._vip)){var Lt=pe._createTransaction(le,Ge,pe._dbSchema);try{Lt.create(),pe._state.PR1398_maxLoop=3}catch(pn){return pn.name===T.InvalidState&&pe.isOpen()&&--pe._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),pe._close(),pe.open().then(()=>Ti(pe,le,Ge,Mt))):si(pn)}return Lt._promise(le,(pn,Bn)=>ro(()=>(xt.trans=Lt,Mt(pn,Bn,Lt)))).then(pn=>Lt._completion.then(()=>pn))}if(pe._state.openComplete)return si(new z.DatabaseClosed(pe._state.dbOpenError));if(!pe._state.isBeingOpened){if(!pe._options.autoOpen)return si(new z.DatabaseClosed);pe.open().catch(Ae)}return pe._state.dbReadyPromise.then(()=>Ti(pe,le,Ge,Mt))}const Oi=-1/0,so="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wo="String expected.",eo=[],Vo=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),$n=Vo,fn=Vo,ze=pe=>!/(dexie\.js|dexie\.min\.js)/.test(pe),Dt="__dbnames",sn="readonly",Wn="readwrite";function Ir(pe,le){return pe?le?function(){return pe.apply(this,arguments)&&le.apply(this,arguments)}:pe:le}const Zr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function io(pe){return"string"!=typeof pe||/\./.test(pe)?le=>le:le=>(void 0===le[pe]&&pe in le&&delete(le=Oe(le))[pe],le)}class Hi{_trans(le,Ge,Mt){const Lt=this._tx||xt.trans,pn=this.name;function Bn(cr,kr,Sr){if(!Sr.schema[pn])throw new z.NotFound("Table "+pn+" not part of transaction");return Ge(Sr.idbtrans,Sr)}const hr=sr();try{return Lt&&Lt.db===this.db?Lt===xt.trans?Lt._promise(le,Bn,Mt):ro(()=>Lt._promise(le,Bn,Mt),{trans:Lt,transless:xt.transless||xt}):Ti(this.db,le,[this.name],Bn)}finally{hr&&Gr()}}get(le,Ge){return le&&le.constructor===Object?this.where(le).first(Ge):this._trans("readonly",Mt=>this.core.get({trans:Mt,key:le}).then(Lt=>this.hook.reading.fire(Lt))).then(Ge)}where(le){if("string"==typeof le)return new this.db.WhereClause(this,le);if(f(le))return new this.db.WhereClause(this,`[${le.join("+")}]`);const Ge=u(le);if(1===Ge.length)return this.where(Ge[0]).equals(le[Ge[0]]);const Mt=this.schema.indexes.concat(this.schema.primKey).filter(kr=>{if(kr.compound&&Ge.every(Sr=>kr.keyPath.indexOf(Sr)>=0)){for(let Sr=0;Sr<Ge.length;++Sr)if(-1===Ge.indexOf(kr.keyPath[Sr]))return!1;return!0}return!1}).sort((kr,Sr)=>kr.keyPath.length-Sr.keyPath.length)[0];if(Mt&&"\uffff"!==this.db._maxKey){const kr=Mt.keyPath.slice(0,Ge.length);return this.where(kr).equals(kr.map(Sr=>le[Sr]))}!Mt&&he&&console.warn(`The query ${JSON.stringify(le)} on ${this.name} would benefit of a compound index [${Ge.join("+")}]`);const{idxByName:Lt}=this.schema,pn=this.db._deps.indexedDB;function Bn(kr,Sr){try{return 0===pn.cmp(kr,Sr)}catch{return!1}}const[hr,cr]=Ge.reduce(([kr,Sr],Wr)=>{const Ur=Lt[Wr],Ci=le[Wr];return[kr||Ur,kr||!Ur?Ir(Sr,Ur&&Ur.multi?Wi=>{const Hn=te(Wi,Wr);return f(Hn)&&Hn.some(br=>Bn(Ci,br))}:Wi=>Bn(Ci,te(Wi,Wr))):Sr]},[null,null]);return hr?this.where(hr.name).equals(le[hr.keyPath]).filter(cr):Mt?this.filter(cr):this.where(Ge).equals("")}filter(le){return this.toCollection().and(le)}count(le){return this.toCollection().count(le)}offset(le){return this.toCollection().offset(le)}limit(le){return this.toCollection().limit(le)}each(le){return this.toCollection().each(le)}toArray(le){return this.toCollection().toArray(le)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(le){return new this.db.Collection(new this.db.WhereClause(this,f(le)?`[${le.join("+")}]`:le))}reverse(){return this.toCollection().reverse()}mapToClass(le){this.schema.mappedClass=le;const Ge=Mt=>{if(!Mt)return Mt;const Lt=Object.create(le.prototype);for(var pn in Mt)if(d(Mt,pn))try{Lt[pn]=Mt[pn]}catch{}return Lt};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ge,this.hook("reading",Ge),le}defineClass(){return this.mapToClass(function(le){C(this,le)})}add(le,Ge){const{auto:Mt,keyPath:Lt}=this.schema.primKey;let pn=le;return Lt&&Mt&&(pn=io(Lt)(le)),this._trans("readwrite",Bn=>this.core.mutate({trans:Bn,type:"add",keys:null!=Ge?[Ge]:null,values:[pn]})).then(Bn=>Bn.numFailures?Ye.reject(Bn.failures[0]):Bn.lastResult).then(Bn=>{if(Lt)try{ae(le,Lt,Bn)}catch{}return Bn})}update(le,Ge){if("object"!=typeof le||f(le))return this.where(":id").equals(le).modify(Ge);{const Mt=te(le,this.schema.primKey.keyPath);if(void 0===Mt)return si(new z.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof Ge?u(Ge).forEach(Lt=>{ae(le,Lt,Ge[Lt])}):Ge(le,{value:le,primKey:Mt})}catch{}return this.where(":id").equals(Mt).modify(Ge)}}put(le,Ge){const{auto:Mt,keyPath:Lt}=this.schema.primKey;let pn=le;return Lt&&Mt&&(pn=io(Lt)(le)),this._trans("readwrite",Bn=>this.core.mutate({trans:Bn,type:"put",values:[pn],keys:null!=Ge?[Ge]:null})).then(Bn=>Bn.numFailures?Ye.reject(Bn.failures[0]):Bn.lastResult).then(Bn=>{if(Lt)try{ae(le,Lt,Bn)}catch{}return Bn})}delete(le){return this._trans("readwrite",Ge=>this.core.mutate({trans:Ge,type:"delete",keys:[le]})).then(Ge=>Ge.numFailures?Ye.reject(Ge.failures[0]):void 0)}clear(){return this._trans("readwrite",le=>this.core.mutate({trans:le,type:"deleteRange",range:Zr})).then(le=>le.numFailures?Ye.reject(le.failures[0]):void 0)}bulkGet(le){return this._trans("readonly",Ge=>this.core.getMany({keys:le,trans:Ge}).then(Mt=>Mt.map(Lt=>this.hook.reading.fire(Lt))))}bulkAdd(le,Ge,Mt){const Lt=Array.isArray(Ge)?Ge:void 0,pn=(Mt=Mt||(Lt?void 0:Ge))?Mt.allKeys:void 0;return this._trans("readwrite",Bn=>{const{auto:hr,keyPath:cr}=this.schema.primKey;if(cr&&Lt)throw new z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Lt&&Lt.length!==le.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");const kr=le.length;let Sr=cr&&hr?le.map(io(cr)):le;return this.core.mutate({trans:Bn,type:"add",keys:Lt,values:Sr,wantResults:pn}).then(({numFailures:Wr,results:Ur,lastResult:Ci,failures:Wi})=>{if(0===Wr)return pn?Ur:Ci;throw new F(`${this.name}.bulkAdd(): ${Wr} of ${kr} operations failed`,Wi)})})}bulkPut(le,Ge,Mt){const Lt=Array.isArray(Ge)?Ge:void 0,pn=(Mt=Mt||(Lt?void 0:Ge))?Mt.allKeys:void 0;return this._trans("readwrite",Bn=>{const{auto:hr,keyPath:cr}=this.schema.primKey;if(cr&&Lt)throw new z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Lt&&Lt.length!==le.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");const kr=le.length;let Sr=cr&&hr?le.map(io(cr)):le;return this.core.mutate({trans:Bn,type:"put",keys:Lt,values:Sr,wantResults:pn}).then(({numFailures:Wr,results:Ur,lastResult:Ci,failures:Wi})=>{if(0===Wr)return pn?Ur:Ci;throw new F(`${this.name}.bulkPut(): ${Wr} of ${kr} operations failed`,Wi)})})}bulkDelete(le){const Ge=le.length;return this._trans("readwrite",Mt=>this.core.mutate({trans:Mt,type:"delete",keys:le})).then(({numFailures:Mt,lastResult:Lt,failures:pn})=>{if(0===Mt)return Lt;throw new F(`${this.name}.bulkDelete(): ${Mt} of ${Ge} operations failed`,pn)})}}function _o(pe){var le={},Ge=function(Bn,hr){if(hr){for(var cr=arguments.length,kr=new Array(cr-1);--cr;)kr[cr-1]=arguments[cr];return le[Bn].subscribe.apply(null,kr),pe}if("string"==typeof Bn)return le[Bn]};Ge.addEventType=pn;for(var Mt=1,Lt=arguments.length;Mt<Lt;++Mt)pn(arguments[Mt]);return Ge;function pn(Bn,hr,cr){if("object"!=typeof Bn){var kr;hr||(hr=Rt),cr||(cr=Ae);var Sr={subscribers:[],fire:cr,subscribe:function(Wr){-1===Sr.subscribers.indexOf(Wr)&&(Sr.subscribers.push(Wr),Sr.fire=hr(Sr.fire,Wr))},unsubscribe:function(Wr){Sr.subscribers=Sr.subscribers.filter(function(Ur){return Ur!==Wr}),Sr.fire=Sr.subscribers.reduce(hr,cr)}};return le[Bn]=Ge[Bn]=Sr,Sr}u(kr=Bn).forEach(function(Wr){var Ur=kr[Wr];if(f(Ur))pn(Wr,kr[Wr][0],kr[Wr][1]);else{if("asap"!==Ur)throw new z.InvalidArgument("Invalid event config");var Ci=pn(Wr,se,function(){for(var Wi=arguments.length,Hn=new Array(Wi);Wi--;)Hn[Wi]=arguments[Wi];Ci.subscribers.forEach(function(br){Z(function(){br.apply(null,Hn)})})})}})}}function Co(pe,le){return P(le).from({prototype:pe}),le}function Ro(pe,le){return!(pe.filter||pe.algorithm||pe.or)&&(le?pe.justLimit:!pe.replayFilter)}function Is(pe,le){pe.filter=Ir(pe.filter,le)}function Ws(pe,le,Ge){var Mt=pe.replayFilter;pe.replayFilter=Mt?()=>Ir(Mt(),le()):le,pe.justLimit=Ge&&!Mt}function ms(pe,le){if(pe.isPrimKey)return le.primaryKey;const Ge=le.getIndexByKeyPath(pe.index);if(!Ge)throw new z.Schema("KeyPath "+pe.index+" on object store "+le.name+" is not indexed");return Ge}function zo(pe,le,Ge){const Mt=ms(pe,le.schema);return le.openCursor({trans:Ge,values:!pe.keysOnly,reverse:"prev"===pe.dir,unique:!!pe.unique,query:{index:Mt,range:pe.range}})}function Zo(pe,le,Ge,Mt){const Lt=pe.replayFilter?Ir(pe.filter,pe.replayFilter()):pe.filter;if(pe.or){const pn={},Bn=(hr,cr,kr)=>{if(!Lt||Lt(cr,kr,Ur=>cr.stop(Ur),Ur=>cr.fail(Ur))){var Sr=cr.primaryKey,Wr=""+Sr;"[object ArrayBuffer]"===Wr&&(Wr=""+new Uint8Array(Sr)),d(pn,Wr)||(pn[Wr]=!0,le(hr,cr,kr))}};return Promise.all([pe.or._iterate(Bn,Ge),os(zo(pe,Mt,Ge),pe.algorithm,Bn,!pe.keysOnly&&pe.valueMapper)])}return os(zo(pe,Mt,Ge),Ir(pe.algorithm,Lt),le,!pe.keysOnly&&pe.valueMapper)}function os(pe,le,Ge,Mt){var Lt=fi(Mt?(pn,Bn,hr)=>Ge(Mt(pn),Bn,hr):Ge);return pe.then(pn=>{if(pn)return pn.start(()=>{var Bn=()=>pn.continue();le&&!le(pn,hr=>Bn=hr,hr=>{pn.stop(hr),Bn=Ae},hr=>{pn.fail(hr),Bn=Ae})||Lt(pn.value,pn,hr=>Bn=hr),Bn()})})}function ns(pe,le){try{const Ge=Rs(pe),Mt=Rs(le);if(Ge!==Mt)return"Array"===Ge?1:"Array"===Mt?-1:"binary"===Ge?1:"binary"===Mt?-1:"string"===Ge?1:"string"===Mt?-1:"Date"===Ge?1:"Date"!==Mt?NaN:-1;switch(Ge){case"number":case"Date":case"string":return pe>le?1:pe<le?-1:0;case"binary":return function(Lt,pn){const Bn=Lt.length,hr=pn.length,cr=Bn<hr?Bn:hr;for(let kr=0;kr<cr;++kr)if(Lt[kr]!==pn[kr])return Lt[kr]<pn[kr]?-1:1;return Bn===hr?0:Bn<hr?-1:1}(ar(pe),ar(le));case"Array":return function(Lt,pn){const Bn=Lt.length,hr=pn.length,cr=Bn<hr?Bn:hr;for(let kr=0;kr<cr;++kr){const Sr=ns(Lt[kr],pn[kr]);if(0!==Sr)return Sr}return Bn===hr?0:Bn<hr?-1:1}(pe,le)}}catch{}return NaN}function Rs(pe){const le=typeof pe;if("object"!==le)return le;if(ArrayBuffer.isView(pe))return"binary";const Ge=_e(pe);return"ArrayBuffer"===Ge?"binary":Ge}function ar(pe){return pe instanceof Uint8Array?pe:ArrayBuffer.isView(pe)?new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength):new Uint8Array(pe)}class ur{_read(le,Ge){var Mt=this._ctx;return Mt.error?Mt.table._trans(null,si.bind(null,Mt.error)):Mt.table._trans("readonly",le).then(Ge)}_write(le){var Ge=this._ctx;return Ge.error?Ge.table._trans(null,si.bind(null,Ge.error)):Ge.table._trans("readwrite",le,"locked")}_addAlgorithm(le){var Ge=this._ctx;Ge.algorithm=Ir(Ge.algorithm,le)}_iterate(le,Ge){return Zo(this._ctx,le,Ge,this._ctx.table.core)}clone(le){var Ge=Object.create(this.constructor.prototype),Mt=Object.create(this._ctx);return le&&C(Mt,le),Ge._ctx=Mt,Ge}raw(){return this._ctx.valueMapper=null,this}each(le){var Ge=this._ctx;return this._read(Mt=>Zo(Ge,le,Mt,Ge.table.core))}count(le){return this._read(Ge=>{const Mt=this._ctx,Lt=Mt.table.core;if(Ro(Mt,!0))return Lt.count({trans:Ge,query:{index:ms(Mt,Lt.schema),range:Mt.range}}).then(Bn=>Math.min(Bn,Mt.limit));var pn=0;return Zo(Mt,()=>(++pn,!1),Ge,Lt).then(()=>pn)}).then(le)}sortBy(le,Ge){const Mt=le.split(".").reverse(),Lt=Mt[0],pn=Mt.length-1;function Bn(kr,Sr){return Sr?Bn(kr[Mt[Sr]],Sr-1):kr[Lt]}var hr="next"===this._ctx.dir?1:-1;function cr(kr,Sr){var Wr=Bn(kr,pn),Ur=Bn(Sr,pn);return Wr<Ur?-hr:Wr>Ur?hr:0}return this.toArray(function(kr){return kr.sort(cr)}).then(Ge)}toArray(le){return this._read(Ge=>{var Mt=this._ctx;if("next"===Mt.dir&&Ro(Mt,!0)&&Mt.limit>0){const{valueMapper:Lt}=Mt,pn=ms(Mt,Mt.table.core.schema);return Mt.table.core.query({trans:Ge,limit:Mt.limit,values:!0,query:{index:pn,range:Mt.range}}).then(({result:Bn})=>Lt?Bn.map(Lt):Bn)}{const Lt=[];return Zo(Mt,pn=>Lt.push(pn),Ge,Mt.table.core).then(()=>Lt)}},le)}offset(le){var Ge=this._ctx;return le<=0||(Ge.offset+=le,Ro(Ge)?Ws(Ge,()=>{var Mt=le;return(Lt,pn)=>0===Mt||(1===Mt?(--Mt,!1):(pn(()=>{Lt.advance(Mt),Mt=0}),!1))}):Ws(Ge,()=>{var Mt=le;return()=>--Mt<0})),this}limit(le){return this._ctx.limit=Math.min(this._ctx.limit,le),Ws(this._ctx,()=>{var Ge=le;return function(Mt,Lt,pn){return--Ge<=0&&Lt(pn),Ge>=0}},!0),this}until(le,Ge){return Is(this._ctx,function(Mt,Lt,pn){return!le(Mt.value)||(Lt(pn),Ge)}),this}first(le){return this.limit(1).toArray(function(Ge){return Ge[0]}).then(le)}last(le){return this.reverse().first(le)}filter(le){var Ge;return Is(this._ctx,function(Lt){return le(Lt.value)}),(Ge=this._ctx).isMatch=Ir(Ge.isMatch,le),this}and(le){return this.filter(le)}or(le){return new this.db.WhereClause(this._ctx.table,le,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(le){var Ge=this._ctx;return Ge.keysOnly=!Ge.isMatch,this.each(function(Mt,Lt){le(Lt.key,Lt)})}eachUniqueKey(le){return this._ctx.unique="unique",this.eachKey(le)}eachPrimaryKey(le){var Ge=this._ctx;return Ge.keysOnly=!Ge.isMatch,this.each(function(Mt,Lt){le(Lt.primaryKey,Lt)})}keys(le){var Ge=this._ctx;Ge.keysOnly=!Ge.isMatch;var Mt=[];return this.each(function(Lt,pn){Mt.push(pn.key)}).then(function(){return Mt}).then(le)}primaryKeys(le){var Ge=this._ctx;if("next"===Ge.dir&&Ro(Ge,!0)&&Ge.limit>0)return this._read(Lt=>{var pn=ms(Ge,Ge.table.core.schema);return Ge.table.core.query({trans:Lt,values:!1,limit:Ge.limit,query:{index:pn,range:Ge.range}})}).then(({result:Lt})=>Lt).then(le);Ge.keysOnly=!Ge.isMatch;var Mt=[];return this.each(function(Lt,pn){Mt.push(pn.primaryKey)}).then(function(){return Mt}).then(le)}uniqueKeys(le){return this._ctx.unique="unique",this.keys(le)}firstKey(le){return this.limit(1).keys(function(Ge){return Ge[0]}).then(le)}lastKey(le){return this.reverse().firstKey(le)}distinct(){var le=this._ctx,Ge=le.index&&le.table.schema.idxByName[le.index];if(!Ge||!Ge.multi)return this;var Mt={};return Is(this._ctx,function(Lt){var pn=Lt.primaryKey.toString(),Bn=d(Mt,pn);return Mt[pn]=!0,!Bn}),this}modify(le){var Ge=this._ctx;return this._write(Mt=>{var Lt;if("function"==typeof le)Lt=le;else{var pn=u(le),Bn=pn.length;Lt=function(Hn){for(var br=!1,kn=0;kn<Bn;++kn){var rr=pn[kn],Xr=le[rr];te(Hn,rr)!==Xr&&(ae(Hn,rr,Xr),br=!0)}return br}}const hr=Ge.table.core,{outbound:cr,extractKey:kr}=hr.schema.primaryKey,Sr=this.db._options.modifyChunkSize||200,Wr=[];let Ur=0;const Ci=[],Wi=(Hn,br)=>{const{failures:kn,numFailures:rr}=br;Ur+=Hn-rr;for(let Xr of u(kn))Wr.push(kn[Xr])};return this.clone().primaryKeys().then(Hn=>{const br=kn=>{const rr=Math.min(Sr,Hn.length-kn);return hr.getMany({trans:Mt,keys:Hn.slice(kn,kn+rr),cache:"immutable"}).then(Xr=>{const mi=[],Yi=[],Gi=cr?[]:null,Vi=[];for(let Ni=0;Ni<rr;++Ni){const zs=Xr[Ni],ws={value:Oe(zs),primKey:Hn[kn+Ni]};!1!==Lt.call(ws,ws.value,ws)&&(null==ws.value?Vi.push(Hn[kn+Ni]):cr||0===ns(kr(zs),kr(ws.value))?(Yi.push(ws.value),cr&&Gi.push(Hn[kn+Ni])):(Vi.push(Hn[kn+Ni]),mi.push(ws.value)))}const Yo=Ro(Ge)&&Ge.limit===1/0&&("function"!=typeof le||le===jr)&&{index:Ge.index,range:Ge.range};return Promise.resolve(mi.length>0&&hr.mutate({trans:Mt,type:"add",values:mi}).then(Ni=>{for(let zs in Ni.failures)Vi.splice(parseInt(zs),1);Wi(mi.length,Ni)})).then(()=>(Yi.length>0||Yo&&"object"==typeof le)&&hr.mutate({trans:Mt,type:"put",keys:Gi,values:Yi,criteria:Yo,changeSpec:"function"!=typeof le&&le}).then(Ni=>Wi(Yi.length,Ni))).then(()=>(Vi.length>0||Yo&&le===jr)&&hr.mutate({trans:Mt,type:"delete",keys:Vi,criteria:Yo}).then(Ni=>Wi(Vi.length,Ni))).then(()=>Hn.length>kn+rr&&br(kn+Sr))})};return br(0).then(()=>{if(Wr.length>0)throw new D("Error modifying one or more objects",Wr,Ur,Ci);return Hn.length})})})}delete(){var le=this._ctx,Ge=le.range;return Ro(le)&&(le.isPrimKey&&!fn||3===Ge.type)?this._write(Mt=>{const{primaryKey:Lt}=le.table.core.schema,pn=Ge;return le.table.core.count({trans:Mt,query:{index:Lt,range:pn}}).then(Bn=>le.table.core.mutate({trans:Mt,type:"deleteRange",range:pn}).then(({failures:hr,numFailures:Sr})=>{if(Sr)throw new D("Could not delete some values",Object.keys(hr).map(Wr=>hr[Wr]),Bn-Sr);return Bn-Sr}))}):this.modify(jr)}}const jr=(pe,le)=>le.value=null;function Mi(pe,le){return pe<le?-1:pe===le?0:1}function Ri(pe,le){return pe>le?-1:pe===le?0:1}function zi(pe,le,Ge){var Mt=pe instanceof Ns?new pe.Collection(pe):pe;return Mt._ctx.error=Ge?new Ge(le):new TypeError(le),Mt}function to(pe){return new pe.Collection(pe,()=>ls("")).limit(0)}function xo(pe,le,Ge,Mt,Lt,pn){for(var Bn=Math.min(pe.length,Mt.length),hr=-1,cr=0;cr<Bn;++cr){var kr=le[cr];if(kr!==Mt[cr])return Lt(pe[cr],Ge[cr])<0?pe.substr(0,cr)+Ge[cr]+Ge.substr(cr+1):Lt(pe[cr],Mt[cr])<0?pe.substr(0,cr)+Mt[cr]+Ge.substr(cr+1):hr>=0?pe.substr(0,hr)+le[hr]+Ge.substr(hr+1):null;Lt(pe[cr],kr)<0&&(hr=cr)}return Bn<Mt.length&&"next"===pn?pe+Ge.substr(pe.length):Bn<pe.length&&"prev"===pn?pe.substr(0,Ge.length):hr<0?null:pe.substr(0,hr)+Mt[hr]+Ge.substr(hr+1)}function $i(pe,le,Ge,Mt){var Lt,pn,Bn,hr,cr,kr,Sr,Wr=Ge.length;if(!Ge.every(Hn=>"string"==typeof Hn))return zi(pe,wo);function Ur(Hn){Lt=function(kn){return"next"===kn?rr=>rr.toUpperCase():rr=>rr.toLowerCase()}(Hn),pn=function(kn){return"next"===kn?rr=>rr.toLowerCase():rr=>rr.toUpperCase()}(Hn),Bn="next"===Hn?Mi:Ri;var br=Ge.map(function(kn){return{lower:pn(kn),upper:Lt(kn)}}).sort(function(kn,rr){return Bn(kn.lower,rr.lower)});hr=br.map(function(kn){return kn.upper}),cr=br.map(function(kn){return kn.lower}),kr=Hn,Sr="next"===Hn?"":Mt}Ur("next");var Ci=new pe.Collection(pe,()=>No(hr[0],cr[Wr-1]+Mt));Ci._ondirectionchange=function(Hn){Ur(Hn)};var Wi=0;return Ci._addAlgorithm(function(Hn,br,kn){var rr=Hn.key;if("string"!=typeof rr)return!1;var Xr=pn(rr);if(le(Xr,cr,Wi))return!0;for(var mi=null,Yi=Wi;Yi<Wr;++Yi){var Gi=xo(rr,Xr,hr[Yi],cr[Yi],Bn,kr);null===Gi&&null===mi?Wi=Yi+1:(null===mi||Bn(mi,Gi)>0)&&(mi=Gi)}return br(null!==mi?function(){Hn.continue(mi+Sr)}:kn),!1}),Ci}function No(pe,le,Ge,Mt){return{type:2,lower:pe,upper:le,lowerOpen:Ge,upperOpen:Mt}}function ls(pe){return{type:1,lower:pe,upper:pe}}class Ns{get Collection(){return this._ctx.table.db.Collection}between(le,Ge,Mt,Lt){Mt=!1!==Mt,Lt=!0===Lt;try{return this._cmp(le,Ge)>0||0===this._cmp(le,Ge)&&(Mt||Lt)&&(!Mt||!Lt)?to(this):new this.Collection(this,()=>No(le,Ge,!Mt,!Lt))}catch{return zi(this,so)}}equals(le){return null==le?zi(this,so):new this.Collection(this,()=>ls(le))}above(le){return null==le?zi(this,so):new this.Collection(this,()=>No(le,void 0,!0))}aboveOrEqual(le){return null==le?zi(this,so):new this.Collection(this,()=>No(le,void 0,!1))}below(le){return null==le?zi(this,so):new this.Collection(this,()=>No(void 0,le,!1,!0))}belowOrEqual(le){return null==le?zi(this,so):new this.Collection(this,()=>No(void 0,le))}startsWith(le){return"string"!=typeof le?zi(this,wo):this.between(le,le+"\uffff",!0,!0)}startsWithIgnoreCase(le){return""===le?this.startsWith(le):$i(this,(Ge,Mt)=>0===Ge.indexOf(Mt[0]),[le],"\uffff")}equalsIgnoreCase(le){return $i(this,(Ge,Mt)=>Ge===Mt[0],[le],"")}anyOfIgnoreCase(){var le=R.apply(de,arguments);return 0===le.length?to(this):$i(this,(Ge,Mt)=>-1!==Mt.indexOf(Ge),le,"")}startsWithAnyOfIgnoreCase(){var le=R.apply(de,arguments);return 0===le.length?to(this):$i(this,(Ge,Mt)=>Mt.some(Lt=>0===Ge.indexOf(Lt)),le,"\uffff")}anyOf(){const le=R.apply(de,arguments);let Ge=this._cmp;try{le.sort(Ge)}catch{return zi(this,so)}if(0===le.length)return to(this);const Mt=new this.Collection(this,()=>No(le[0],le[le.length-1]));Mt._ondirectionchange=pn=>{Ge="next"===pn?this._ascending:this._descending,le.sort(Ge)};let Lt=0;return Mt._addAlgorithm((pn,Bn,hr)=>{const cr=pn.key;for(;Ge(cr,le[Lt])>0;)if(++Lt,Lt===le.length)return Bn(hr),!1;return 0===Ge(cr,le[Lt])||(Bn(()=>{pn.continue(le[Lt])}),!1)}),Mt}notEqual(le){return this.inAnyRange([[Oi,le],[le,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const le=R.apply(de,arguments);if(0===le.length)return new this.Collection(this);try{le.sort(this._ascending)}catch{return zi(this,so)}const Ge=le.reduce((Mt,Lt)=>Mt?Mt.concat([[Mt[Mt.length-1][1],Lt]]):[[Oi,Lt]],null);return Ge.push([le[le.length-1],this.db._maxKey]),this.inAnyRange(Ge,{includeLowers:!1,includeUppers:!1})}inAnyRange(le,Ge){const Mt=this._cmp,Lt=this._ascending,pn=this._descending,Bn=this._min,hr=this._max;if(0===le.length)return to(this);if(!le.every(rr=>void 0!==rr[0]&&void 0!==rr[1]&&Lt(rr[0],rr[1])<=0))return zi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",z.InvalidArgument);const cr=!Ge||!1!==Ge.includeLowers,kr=Ge&&!0===Ge.includeUppers;let Sr,Wr=Lt;function Ur(rr,Xr){return Wr(rr[0],Xr[0])}try{Sr=le.reduce(function(rr,Xr){let mi=0,Yi=rr.length;for(;mi<Yi;++mi){const Gi=rr[mi];if(Mt(Xr[0],Gi[1])<0&&Mt(Xr[1],Gi[0])>0){Gi[0]=Bn(Gi[0],Xr[0]),Gi[1]=hr(Gi[1],Xr[1]);break}}return mi===Yi&&rr.push(Xr),rr},[]),Sr.sort(Ur)}catch{return zi(this,so)}let Ci=0;const Wi=kr?rr=>Lt(rr,Sr[Ci][1])>0:rr=>Lt(rr,Sr[Ci][1])>=0,Hn=cr?rr=>pn(rr,Sr[Ci][0])>0:rr=>pn(rr,Sr[Ci][0])>=0;let br=Wi;const kn=new this.Collection(this,()=>No(Sr[0][0],Sr[Sr.length-1][1],!cr,!kr));return kn._ondirectionchange=rr=>{"next"===rr?(br=Wi,Wr=Lt):(br=Hn,Wr=pn),Sr.sort(Ur)},kn._addAlgorithm((rr,Xr,mi)=>{for(var Yi=rr.key;br(Yi);)if(++Ci,Ci===Sr.length)return Xr(mi),!1;return!((Wi(Gi=Yi)||Hn(Gi))&&(0===this._cmp(Yi,Sr[Ci][1])||0===this._cmp(Yi,Sr[Ci][0])||Xr(()=>{rr.continue(Wr===Lt?Sr[Ci][0]:Sr[Ci][1])}),1));var Gi}),kn}startsWithAnyOf(){const le=R.apply(de,arguments);return le.every(Ge=>"string"==typeof Ge)?0===le.length?to(this):this.inAnyRange(le.map(Ge=>[Ge,Ge+"\uffff"])):zi(this,"startsWithAnyOf() only works with strings")}}function ys(pe){return fi(function(le){return Os(le),pe(le.target.error),!1})}function Os(pe){pe.stopPropagation&&pe.stopPropagation(),pe.preventDefault&&pe.preventDefault()}const qo="storagemutated",Gs="x-storagemutated-1",Lo=_o(null,qo);class pa{_lock(){return V(!xt.global),++this._reculock,1!==this._reculock||xt.global||(xt.lockOwnerFor=this),this}_unlock(){if(V(!xt.global),0==--this._reculock)for(xt.global||(xt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var le=this._blockedFuncs.shift();try{Be(le[1],le[0])}catch{}}return this}_locked(){return this._reculock&&xt.lockOwnerFor!==this}create(le){if(!this.mode)return this;const Ge=this.db.idbdb,Mt=this.db._state.dbOpenError;if(V(!this.idbtrans),!le&&!Ge)switch(Mt&&Mt.name){case"DatabaseClosedError":throw new z.DatabaseClosed(Mt);case"MissingAPIError":throw new z.MissingAPI(Mt.message,Mt);default:throw new z.OpenFailed(Mt)}if(!this.active)throw new z.TransactionInactive;return V(null===this._completion._state),(le=this.idbtrans=le||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):Ge.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=fi(Lt=>{Os(Lt),this._reject(le.error)}),le.onabort=fi(Lt=>{Os(Lt),this.active&&this._reject(new z.Abort(le.error)),this.active=!1,this.on("abort").fire(Lt)}),le.oncomplete=fi(()=>{this.active=!1,this._resolve(),"mutatedParts"in le&&Lo.storagemutated.fire(le.mutatedParts)}),this}_promise(le,Ge,Mt){if("readwrite"===le&&"readwrite"!==this.mode)return si(new z.ReadOnly("Transaction is readonly"));if(!this.active)return si(new z.TransactionInactive);if(this._locked())return new Ye((pn,Bn)=>{this._blockedFuncs.push([()=>{this._promise(le,Ge,Mt).then(pn,Bn)},xt])});if(Mt)return ro(()=>{var pn=new Ye((Bn,hr)=>{this._lock();const cr=Ge(Bn,hr,this);cr&&cr.then&&cr.then(Bn,hr)});return pn.finally(()=>this._unlock()),pn._lib=!0,pn});var Lt=new Ye((pn,Bn)=>{var hr=Ge(pn,Bn,this);hr&&hr.then&&hr.then(pn,Bn)});return Lt._lib=!0,Lt}_root(){return this.parent?this.parent._root():this}waitFor(le){var Ge=this._root();const Mt=Ye.resolve(le);if(Ge._waitingFor)Ge._waitingFor=Ge._waitingFor.then(()=>Mt);else{Ge._waitingFor=Mt,Ge._waitingQueue=[];var Lt=Ge.idbtrans.objectStore(Ge.storeNames[0]);!function Bn(){for(++Ge._spinCount;Ge._waitingQueue.length;)Ge._waitingQueue.shift()();Ge._waitingFor&&(Lt.get(-1/0).onsuccess=Bn)}()}var pn=Ge._waitingFor;return new Ye((Bn,hr)=>{Mt.then(cr=>Ge._waitingQueue.push(fi(Bn.bind(null,cr))),cr=>Ge._waitingQueue.push(fi(hr.bind(null,cr)))).finally(()=>{Ge._waitingFor===pn&&(Ge._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new z.Abort))}table(le){const Ge=this._memoizedTables||(this._memoizedTables={});if(d(Ge,le))return Ge[le];const Mt=this.schema[le];if(!Mt)throw new z.NotFound("Table "+le+" not part of transaction");const Lt=new this.db.Table(le,Mt,this);return Lt.core=this.db.core.table(le),Ge[le]=Lt,Lt}}function ca(pe,le,Ge,Mt,Lt,pn,Bn){return{name:pe,keyPath:le,unique:Ge,multi:Mt,auto:Lt,compound:pn,src:(Ge&&!Bn?"&":"")+(Mt?"*":"")+(Lt?"++":"")+Ms(le)}}function Ms(pe){return"string"==typeof pe?pe:pe?"["+[].join.call(pe,"+")+"]":""}function Ks(pe,le,Ge){return{name:pe,primKey:le,indexes:Ge,mappedClass:null,idxByName:J(Ge,Mt=>[Mt.name,Mt])}}let Ds=pe=>{try{return pe.only([[]]),Ds=()=>[[]],[[]]}catch{return Ds=()=>"\uffff","\uffff"}};function cs(pe){return null==pe?()=>{}:"string"==typeof pe?1===(le=pe).split(".").length?Mt=>Mt[le]:Mt=>te(Mt,le):le=>te(le,pe);var le}function ua(pe){return[].slice.call(pe)}let tr=0;function pr(pe){return null==pe?":id":"string"==typeof pe?pe:`[${pe.join("+")}]`}function xr(pe,le,Ge){function Mt(cr){if(3===cr.type)return null;if(4===cr.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:kr,upper:Sr,lowerOpen:Wr,upperOpen:Ur}=cr;return void 0===kr?void 0===Sr?null:le.upperBound(Sr,!!Ur):void 0===Sr?le.lowerBound(kr,!!Wr):le.bound(kr,Sr,!!Wr,!!Ur)}const{schema:Lt,hasGetAll:pn}=function(cr,kr){const Sr=ua(cr.objectStoreNames);return{schema:{name:cr.name,tables:Sr.map(Wr=>kr.objectStore(Wr)).map(Wr=>{const{keyPath:Ur,autoIncrement:Ci}=Wr,Wi=f(Ur),br={},kn={name:Wr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Ur,compound:Wi,keyPath:Ur,autoIncrement:Ci,unique:!0,extractKey:cs(Ur)},indexes:ua(Wr.indexNames).map(rr=>Wr.index(rr)).map(rr=>{const{name:Xr,unique:mi,multiEntry:Yi,keyPath:Gi}=rr,Vi={name:Xr,compound:f(Gi),keyPath:Gi,unique:mi,multiEntry:Yi,extractKey:cs(Gi)};return br[pr(Gi)]=Vi,Vi}),getIndexByKeyPath:rr=>br[pr(rr)]};return br[":id"]=kn.primaryKey,null!=Ur&&(br[pr(Ur)]=kn.primaryKey),kn})},hasGetAll:Sr.length>0&&"getAll"in kr.objectStore(Sr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(pe,Ge),Bn=Lt.tables.map(cr=>function(kr){const Sr=kr.name;return{name:Sr,schema:kr,mutate:function({trans:Wr,type:Ur,keys:Ci,values:Wi,range:Hn}){return new Promise((br,kn)=>{br=fi(br);const rr=Wr.objectStore(Sr),Xr=null==rr.keyPath,mi="put"===Ur||"add"===Ur;if(!mi&&"delete"!==Ur&&"deleteRange"!==Ur)throw new Error("Invalid operation type: "+Ur);const{length:Yi}=Ci||Wi||{length:1};if(Ci&&Wi&&Ci.length!==Wi.length)throw new Error("Given keys array must have same length as given values array.");if(0===Yi)return br({numFailures:0,failures:{},results:[],lastResult:void 0});let Gi;const Vi=[],Yo=[];let Ni=0;const zs=Jo=>{++Ni,Os(Jo)};if("deleteRange"===Ur){if(4===Hn.type)return br({numFailures:Ni,failures:Yo,results:[],lastResult:void 0});Vi.push(Gi=3===Hn.type?rr.clear():rr.delete(Mt(Hn)))}else{const[Jo,Cs]=mi?Xr?[Wi,Ci]:[Wi,null]:[Ci,null];if(mi)for(let rs=0;rs<Yi;++rs)Vi.push(Gi=Cs&&void 0!==Cs[rs]?rr[Ur](Jo[rs],Cs[rs]):rr[Ur](Jo[rs])),Gi.onerror=zs;else for(let rs=0;rs<Yi;++rs)Vi.push(Gi=rr[Ur](Jo[rs])),Gi.onerror=zs}const ws=Jo=>{const Cs=Jo.target.result;Vi.forEach((rs,Yt)=>null!=rs.error&&(Yo[Yt]=rs.error)),br({numFailures:Ni,failures:Yo,results:"delete"===Ur?Ci:Vi.map(rs=>rs.result),lastResult:Cs})};Gi.onerror=Jo=>{zs(Jo),ws(Jo)},Gi.onsuccess=ws})},getMany:({trans:Wr,keys:Ur})=>new Promise((Ci,Wi)=>{Ci=fi(Ci);const Hn=Wr.objectStore(Sr),br=Ur.length,kn=new Array(br);let rr,Xr=0,mi=0;const Yi=Vi=>{const Yo=Vi.target;kn[Yo._pos]=Yo.result,++mi===Xr&&Ci(kn)},Gi=ys(Wi);for(let Vi=0;Vi<br;++Vi)null!=Ur[Vi]&&(rr=Hn.get(Ur[Vi]),rr._pos=Vi,rr.onsuccess=Yi,rr.onerror=Gi,++Xr);0===Xr&&Ci(kn)}),get:({trans:Wr,key:Ur})=>new Promise((Ci,Wi)=>{Ci=fi(Ci);const Hn=Wr.objectStore(Sr).get(Ur);Hn.onsuccess=br=>Ci(br.target.result),Hn.onerror=ys(Wi)}),query:function(Wr){return Ur=>new Promise((Ci,Wi)=>{Ci=fi(Ci);const{trans:Hn,values:br,limit:kn,query:rr}=Ur,Xr=kn===1/0?void 0:kn,{index:mi,range:Yi}=rr,Gi=Hn.objectStore(Sr),Vi=mi.isPrimaryKey?Gi:Gi.index(mi.name),Yo=Mt(Yi);if(0===kn)return Ci({result:[]});if(Wr){const Ni=br?Vi.getAll(Yo,Xr):Vi.getAllKeys(Yo,Xr);Ni.onsuccess=zs=>Ci({result:zs.target.result}),Ni.onerror=ys(Wi)}else{let Ni=0;const zs=br||!("openKeyCursor"in Vi)?Vi.openCursor(Yo):Vi.openKeyCursor(Yo),ws=[];zs.onsuccess=Jo=>{const Cs=zs.result;return Cs?(ws.push(br?Cs.value:Cs.primaryKey),++Ni===kn?Ci({result:ws}):void Cs.continue()):Ci({result:ws})},zs.onerror=ys(Wi)}})}(pn),openCursor:function({trans:Wr,values:Ur,query:Ci,reverse:Wi,unique:Hn}){return new Promise((br,kn)=>{br=fi(br);const{index:rr,range:Xr}=Ci,mi=Wr.objectStore(Sr),Yi=rr.isPrimaryKey?mi:mi.index(rr.name),Gi=Wi?Hn?"prevunique":"prev":Hn?"nextunique":"next",Vi=Ur||!("openKeyCursor"in Yi)?Yi.openCursor(Mt(Xr),Gi):Yi.openKeyCursor(Mt(Xr),Gi);Vi.onerror=ys(kn),Vi.onsuccess=fi(Yo=>{const Ni=Vi.result;if(!Ni)return void br(null);Ni.___id=++tr,Ni.done=!1;const zs=Ni.continue.bind(Ni);let ws=Ni.continuePrimaryKey;ws&&(ws=ws.bind(Ni));const Jo=Ni.advance.bind(Ni),Cs=()=>{throw new Error("Cursor not stopped")};Ni.trans=Wr,Ni.stop=Ni.continue=Ni.continuePrimaryKey=Ni.advance=()=>{throw new Error("Cursor not started")},Ni.fail=fi(kn),Ni.next=function(){let rs=1;return this.start(()=>rs--?this.continue():this.stop()).then(()=>this)},Ni.start=rs=>{const Yt=new Promise((ct,kt)=>{ct=fi(ct),Vi.onerror=ys(kt),Ni.fail=kt,Ni.stop=mn=>{Ni.stop=Ni.continue=Ni.continuePrimaryKey=Ni.advance=Cs,ct(mn)}}),De=()=>{if(Vi.result)try{rs()}catch(ct){Ni.fail(ct)}else Ni.done=!0,Ni.start=()=>{throw new Error("Cursor behind last entry")},Ni.stop()};return Vi.onsuccess=fi(ct=>{Vi.onsuccess=De,De()}),Ni.continue=zs,Ni.continuePrimaryKey=ws,Ni.advance=Jo,De(),Yt},br(Ni)},kn)})},count({query:Wr,trans:Ur}){const{index:Ci,range:Wi}=Wr;return new Promise((Hn,br)=>{const kn=Ur.objectStore(Sr),rr=Ci.isPrimaryKey?kn:kn.index(Ci.name),Xr=Mt(Wi),mi=Xr?rr.count(Xr):rr.count();mi.onsuccess=fi(Yi=>Hn(Yi.target.result)),mi.onerror=ys(br)})}}}(cr)),hr={};return Bn.forEach(cr=>hr[cr.name]=cr),{stack:"dbcore",transaction:pe.transaction.bind(pe),table(cr){if(!hr[cr])throw new Error(`Table '${cr}' not found`);return hr[cr]},MIN_KEY:-1/0,MAX_KEY:Ds(le),schema:Lt}}function Pr({_novip:pe},le){const Mt=function(Lt,pn,{IDBKeyRange:Bn},cr){return{dbcore:(Sr=xr(pn,Bn,cr),Wr=Lt.dbcore,Wr.reduce((Ur,{create:Ci})=>({...Ur,...Ci(Ur)}),Sr))};var Sr,Wr}(pe._middlewares,le.db,pe._deps,le);pe.core=Mt.dbcore,pe.tables.forEach(Lt=>{const pn=Lt.name;pe.core.schema.tables.some(Bn=>Bn.name===pn)&&(Lt.core=pe.core.table(pn),pe[pn]instanceof pe.Table&&(pe[pn].core=Lt.core))})}function Bi({_novip:pe},le,Ge,Mt){Ge.forEach(Lt=>{const pn=Mt[Lt];le.forEach(Bn=>{const hr=v(Bn,Lt);(!hr||"value"in hr&&void 0===hr.value)&&(Bn===pe.Transaction.prototype||Bn instanceof pe.Transaction?U(Bn,Lt,{get(){return this.table(Lt)},set(cr){S(this,Lt,{value:cr,writable:!0,configurable:!0,enumerable:!0})}}):Bn[Lt]=new pe.Table(Lt,pn))})})}function ot({_novip:pe},le){le.forEach(Ge=>{for(let Mt in Ge)Ge[Mt]instanceof pe.Table&&delete Ge[Mt]})}function xn(pe,le){return pe._cfg.version-le._cfg.version}function hn(pe,le){const Ge={del:[],add:[],change:[]};let Mt;for(Mt in pe)le[Mt]||Ge.del.push(Mt);for(Mt in le){const Lt=pe[Mt],pn=le[Mt];if(Lt){const Bn={name:Mt,def:pn,recreate:!1,del:[],add:[],change:[]};if(""+(Lt.primKey.keyPath||"")!=""+(pn.primKey.keyPath||"")||Lt.primKey.auto!==pn.primKey.auto&&!Vo)Bn.recreate=!0,Ge.change.push(Bn);else{const hr=Lt.idxByName,cr=pn.idxByName;let kr;for(kr in hr)cr[kr]||Bn.del.push(kr);for(kr in cr){const Sr=hr[kr],Wr=cr[kr];Sr?Sr.src!==Wr.src&&Bn.change.push(Wr):Bn.add.push(Wr)}(Bn.del.length>0||Bn.add.length>0||Bn.change.length>0)&&Ge.change.push(Bn)}}else Ge.add.push([Mt,pn])}return Ge}function $e(pe,le,Ge,Mt){const Lt=pe.db.createObjectStore(le,Ge.keyPath?{keyPath:Ge.keyPath,autoIncrement:Ge.auto}:{autoIncrement:Ge.auto});return Mt.forEach(pn=>Nt(Lt,pn)),Lt}function Nt(pe,le){pe.createIndex(le.name,le.keyPath,{unique:le.unique,multiEntry:le.multi})}function nn(pe,le,Ge){const Mt={};return G(le.objectStoreNames,0).forEach(Lt=>{const pn=Ge.objectStore(Lt);let Bn=pn.keyPath;const hr=ca(Ms(Bn),Bn||"",!1,!1,!!pn.autoIncrement,Bn&&"string"!=typeof Bn,!0),cr=[];for(let Sr=0;Sr<pn.indexNames.length;++Sr){const Wr=pn.index(pn.indexNames[Sr]);Bn=Wr.keyPath;var kr=ca(Wr.name,Bn,!!Wr.unique,!!Wr.multiEntry,!1,Bn&&"string"!=typeof Bn,!1);cr.push(kr)}Mt[Lt]=Ks(Lt,hr,cr)}),Mt}function Zn({_novip:pe},le,Ge){const Mt=Ge.db.objectStoreNames;for(let Lt=0;Lt<Mt.length;++Lt){const pn=Mt[Lt],Bn=Ge.objectStore(pn);pe._hasGetAll="getAll"in Bn;for(let hr=0;hr<Bn.indexNames.length;++hr){const cr=Bn.indexNames[hr],kr=Bn.index(cr).keyPath,Sr="string"==typeof kr?kr:"["+G(kr).join("+")+"]";if(le[pn]){const Wr=le[pn].idxByName[Sr];Wr&&(Wr.name=cr,delete le[pn].idxByName[Sr],le[pn].idxByName[cr]=Wr)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(pe._hasGetAll=!1)}class Er{_parseStoresSpec(le,Ge){u(le).forEach(Mt=>{if(null!==le[Mt]){var Lt=le[Mt].split(",").map((Bn,hr)=>{const cr=(Bn=Bn.trim()).replace(/([&*]|\+\+)/g,""),kr=/^\[/.test(cr)?cr.match(/^\[(.*)\]$/)[1].split("+"):cr;return ca(cr,kr||null,/\&/.test(Bn),/\*/.test(Bn),/\+\+/.test(Bn),f(kr),0===hr)}),pn=Lt.shift();if(pn.multi)throw new z.Schema("Primary key cannot be multi-valued");Lt.forEach(Bn=>{if(Bn.auto)throw new z.Schema("Only primary key can be marked as autoIncrement (++)");if(!Bn.keyPath)throw new z.Schema("Index must have a name and cannot be an empty string")}),Ge[Mt]=Ks(Mt,pn,Lt)}})}stores(le){const Ge=this.db;this._cfg.storesSource=this._cfg.storesSource?C(this._cfg.storesSource,le):le;const Lt={};let pn={};return Ge._versions.forEach(Bn=>{C(Lt,Bn._cfg.storesSource),pn=Bn._cfg.dbschema={},Bn._parseStoresSpec(Lt,pn)}),Ge._dbSchema=pn,ot(Ge,[Ge._allTables,Ge,Ge.Transaction.prototype]),Bi(Ge,[Ge._allTables,Ge,Ge.Transaction.prototype,this._cfg.tables],u(pn),pn),Ge._storeNames=u(pn),this}upgrade(le){return this._cfg.contentUpgrade=ln(this._cfg.contentUpgrade||Ae,le),this}}function Cr(pe,le){let Ge=pe._dbNamesDB;return Ge||(Ge=pe._dbNamesDB=new Xn(Dt,{addons:[],indexedDB:pe,IDBKeyRange:le}),Ge.version(1).stores({dbnames:"name"})),Ge.table("dbnames")}function Kr(pe){return pe&&"function"==typeof pe.databases}function $r(pe){return ro(function(){return xt.letThrough=!0,pe()})}function pi(){var pe;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(le){var Ge=function(){return indexedDB.databases().finally(le)};pe=setInterval(Ge,100),Ge()}).finally(function(){return clearInterval(pe)}):Promise.resolve()}function Xi(pe){var le=pn=>pe.next(pn),Ge=Lt(le),Mt=Lt(pn=>pe.throw(pn));function Lt(pn){return Bn=>{var hr=pn(Bn),cr=hr.value;return hr.done?cr:cr&&"function"==typeof cr.then?cr.then(Ge,Mt):f(cr)?Promise.all(cr).then(Ge,Mt):Ge(cr)}}return Lt(le)()}function vo(pe,le,Ge){var Mt=arguments.length;if(Mt<2)throw new z.InvalidArgument("Too few arguments");for(var Lt=new Array(Mt-1);--Mt;)Lt[Mt-1]=arguments[Mt];return Ge=Lt.pop(),[pe,H(Lt),Ge]}function ko(pe,le,Ge,Mt,Lt){return Ye.resolve().then(()=>{const pn=xt.transless||xt,Bn=pe._createTransaction(le,Ge,pe._dbSchema,Mt),hr={trans:Bn,transless:pn};if(Mt)Bn.idbtrans=Mt.idbtrans;else try{Bn.create(),pe._state.PR1398_maxLoop=3}catch(Wr){return Wr.name===T.InvalidState&&pe.isOpen()&&--pe._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),pe._close(),pe.open().then(()=>ko(pe,le,Ge,null,Lt))):si(Wr)}const cr=j(Lt);let kr;cr&&Pe();const Sr=Ye.follow(()=>{if(kr=Lt.call(Bn,Bn),kr)if(cr){var Wr=dt.bind(null,null);kr.then(Wr,Wr)}else"function"==typeof kr.next&&"function"==typeof kr.throw&&(kr=Xi(kr))},hr);return(kr&&"function"==typeof kr.then?Ye.resolve(kr).then(Wr=>Bn.active?Wr:si(new z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):Sr.then(()=>kr)).then(Wr=>(Mt&&Bn._resolve(),Bn._completion.then(()=>Wr))).catch(Wr=>(Bn._reject(Wr),si(Wr)))})}function Ao(pe,le,Ge){const Mt=f(pe)?pe.slice():[pe];for(let Lt=0;Lt<Ge;++Lt)Mt.push(le);return Mt}const st={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(pe){return{...pe,table(le){const Ge=pe.table(le),{schema:Mt}=Ge,Lt={},pn=[];function Bn(Sr,Wr,Ur){const Ci=pr(Sr),Wi=Lt[Ci]=Lt[Ci]||[],Hn=null==Sr?0:"string"==typeof Sr?1:Sr.length,br=Wr>0,kn={...Ur,isVirtual:br,keyTail:Wr,keyLength:Hn,extractKey:cs(Sr),unique:!br&&Ur.unique};return Wi.push(kn),kn.isPrimaryKey||pn.push(kn),Hn>1&&Bn(2===Hn?Sr[0]:Sr.slice(0,Hn-1),Wr+1,Ur),Wi.sort((rr,Xr)=>rr.keyTail-Xr.keyTail),kn}const hr=Bn(Mt.primaryKey.keyPath,0,Mt.primaryKey);Lt[":id"]=[hr];for(const Sr of Mt.indexes)Bn(Sr.keyPath,0,Sr);function cr(Sr){const Wr=Sr.query.index;return Wr.isVirtual?{...Sr,query:{index:Wr,range:(Ur=Sr.query.range,Ci=Wr.keyTail,{type:1===Ur.type?2:Ur.type,lower:Ao(Ur.lower,Ur.lowerOpen?pe.MAX_KEY:pe.MIN_KEY,Ci),lowerOpen:!0,upper:Ao(Ur.upper,Ur.upperOpen?pe.MIN_KEY:pe.MAX_KEY,Ci),upperOpen:!0})}}:Sr;var Ur,Ci}return{...Ge,schema:{...Mt,primaryKey:hr,indexes:pn,getIndexByKeyPath:function(Sr){const Wr=Lt[pr(Sr)];return Wr&&Wr[0]}},count:Sr=>Ge.count(cr(Sr)),query:Sr=>Ge.query(cr(Sr)),openCursor(Sr){const{keyTail:Wr,isVirtual:Ur,keyLength:Ci}=Sr.query.index;return Ur?Ge.openCursor(cr(Sr)).then(Wi=>{return Wi&&(Hn=Wi,Object.create(Hn,{continue:{value:function(kn){null!=kn?Hn.continue(Ao(kn,Sr.reverse?pe.MAX_KEY:pe.MIN_KEY,Wr)):Sr.unique?Hn.continue(Hn.key.slice(0,Ci).concat(Sr.reverse?pe.MIN_KEY:pe.MAX_KEY,Wr)):Hn.continue()}},continuePrimaryKey:{value(kn,rr){Hn.continuePrimaryKey(Ao(kn,pe.MAX_KEY,Wr),rr)}},primaryKey:{get:()=>Hn.primaryKey},key:{get(){const kn=Hn.key;return 1===Ci?kn[0]:kn.slice(0,Ci)}},value:{get:()=>Hn.value}}));var Hn}):Ge.openCursor(Sr)}}}}}};function Qe(pe,le,Ge,Mt){return Ge=Ge||{},Mt=Mt||"",u(pe).forEach(Lt=>{if(d(le,Lt)){var pn=pe[Lt],Bn=le[Lt];if("object"==typeof pn&&"object"==typeof Bn&&pn&&Bn){const hr=_e(pn);hr!==_e(Bn)?Ge[Mt+Lt]=le[Lt]:"Object"===hr?Qe(pn,Bn,Ge,Mt+Lt+"."):pn!==Bn&&(Ge[Mt+Lt]=le[Lt])}else pn!==Bn&&(Ge[Mt+Lt]=le[Lt])}else Ge[Mt+Lt]=void 0}),u(le).forEach(Lt=>{d(pe,Lt)||(Ge[Mt+Lt]=le[Lt])}),Ge}const dn={stack:"dbcore",name:"HooksMiddleware",level:2,create:pe=>({...pe,table(le){const Ge=pe.table(le),{primaryKey:Mt}=Ge.schema;return{...Ge,mutate(pn){const Bn=xt.trans,{deleting:hr,creating:cr,updating:kr}=Bn.table(le).hook;switch(pn.type){case"add":if(cr.fire===Ae)break;return Bn._promise("readwrite",()=>Sr(pn),!0);case"put":if(cr.fire===Ae&&kr.fire===Ae)break;return Bn._promise("readwrite",()=>Sr(pn),!0);case"delete":if(hr.fire===Ae)break;return Bn._promise("readwrite",()=>Sr(pn),!0);case"deleteRange":if(hr.fire===Ae)break;return Bn._promise("readwrite",()=>{return Wr((Ur=pn).trans,Ur.range,1e4);var Ur},!0)}return Ge.mutate(pn);function Sr(Ur){const Ci=xt.trans,Wi=Ur.keys||("delete"===(br=Ur).type?br.keys:br.keys||br.values.map(Mt.extractKey));var br;if(!Wi)throw new Error("Keys missing");return"delete"!==(Ur="add"===Ur.type||"put"===Ur.type?{...Ur,keys:Wi}:{...Ur}).type&&(Ur.values=[...Ur.values]),Ur.keys&&(Ur.keys=[...Ur.keys]),function(Hn,br,kn){return"add"===br.type?Promise.resolve([]):Hn.getMany({trans:br.trans,keys:kn,cache:"immutable"})}(Ge,Ur,Wi).then(Hn=>{const br=Wi.map((kn,rr)=>{const Xr=Hn[rr],mi={onerror:null,onsuccess:null};if("delete"===Ur.type)hr.fire.call(mi,kn,Xr,Ci);else if("add"===Ur.type||void 0===Xr){const Yi=cr.fire.call(mi,kn,Ur.values[rr],Ci);null==kn&&null!=Yi&&(Ur.keys[rr]=kn=Yi,Mt.outbound||ae(Ur.values[rr],Mt.keyPath,kn))}else{const Yi=Qe(Xr,Ur.values[rr]),Gi=kr.fire.call(mi,Yi,kn,Xr,Ci);if(Gi){const Vi=Ur.values[rr];Object.keys(Gi).forEach(Yo=>{d(Vi,Yo)?Vi[Yo]=Gi[Yo]:ae(Vi,Yo,Gi[Yo])})}}return mi});return Ge.mutate(Ur).then(({failures:kn,results:rr,numFailures:Xr,lastResult:mi})=>{for(let Yi=0;Yi<Wi.length;++Yi){const Gi=rr?rr[Yi]:Wi[Yi],Vi=br[Yi];null==Gi?Vi.onerror&&Vi.onerror(kn[Yi]):Vi.onsuccess&&Vi.onsuccess("put"===Ur.type&&Hn[Yi]?Ur.values[Yi]:Gi)}return{failures:kn,results:rr,numFailures:Xr,lastResult:mi}}).catch(kn=>(br.forEach(rr=>rr.onerror&&rr.onerror(kn)),Promise.reject(kn)))})}function Wr(Ur,Ci,Wi){return Ge.query({trans:Ur,values:!1,query:{index:Mt,range:Ci},limit:Wi}).then(({result:Hn})=>Sr({type:"delete",keys:Hn,trans:Ur}).then(br=>br.numFailures>0?Promise.reject(br.failures[0]):Hn.length<Wi?{failures:[],numFailures:0,lastResult:void 0}:Wr(Ur,{...Ci,lower:Hn[Hn.length-1],lowerOpen:!0},Wi)))}}}}})};function ft(pe,le,Ge){try{if(!le||le.keys.length<pe.length)return null;const Mt=[];for(let Lt=0,pn=0;Lt<le.keys.length&&pn<pe.length;++Lt)0===ns(le.keys[Lt],pe[pn])&&(Mt.push(Ge?Oe(le.values[Lt]):le.values[Lt]),++pn);return Mt.length===pe.length?Mt:null}catch{return null}}const fe={stack:"dbcore",level:-1,create:pe=>({table:le=>{const Ge=pe.table(le);return{...Ge,getMany:Mt=>{if(!Mt.cache)return Ge.getMany(Mt);const Lt=ft(Mt.keys,Mt.trans._cache,"clone"===Mt.cache);return Lt?Ye.resolve(Lt):Ge.getMany(Mt).then(pn=>(Mt.trans._cache={keys:Mt.keys,values:"clone"===Mt.cache?Oe(pn):pn},pn))},mutate:Mt=>("add"!==Mt.type&&(Mt.trans._cache=null),Ge.mutate(Mt))}}})};function St(pe){return!("from"in pe)}const cn=function(pe,le){if(!this){const Ge=new cn;return pe&&"d"in pe&&C(Ge,pe),Ge}C(this,arguments.length?{d:1,from:pe,to:arguments.length>1?le:pe}:{d:0})};function Yn(pe,le,Ge){const Mt=ns(le,Ge);if(isNaN(Mt))return;if(Mt>0)throw RangeError();if(St(pe))return C(pe,{from:le,to:Ge,d:1});const Lt=pe.l,pn=pe.r;if(ns(Ge,pe.from)<0)return Lt?Yn(Lt,le,Ge):pe.l={from:le,to:Ge,d:1,l:null,r:null},Ke(pe);if(ns(le,pe.to)>0)return pn?Yn(pn,le,Ge):pe.r={from:le,to:Ge,d:1,l:null,r:null},Ke(pe);ns(le,pe.from)<0&&(pe.from=le,pe.l=null,pe.d=pn?pn.d+1:1),ns(Ge,pe.to)>0&&(pe.to=Ge,pe.r=null,pe.d=pe.l?pe.l.d+1:1);const Bn=!pe.r;Lt&&!pe.l&&wt(pe,Lt),pn&&Bn&&wt(pe,pn)}function wt(pe,le){St(le)||function Ge(Mt,{from:Lt,to:pn,l:Bn,r:hr}){Yn(Mt,Lt,pn),Bn&&Ge(Mt,Bn),hr&&Ge(Mt,hr)}(pe,le)}function be(pe){let le=St(pe)?null:{s:0,n:pe};return{next(Ge){const Mt=arguments.length>0;for(;le;)switch(le.s){case 0:if(le.s=1,Mt)for(;le.n.l&&ns(Ge,le.n.from)<0;)le={up:le,n:le.n.l,s:1};else for(;le.n.l;)le={up:le,n:le.n.l,s:1};case 1:if(le.s=2,!Mt||ns(Ge,le.n.to)<=0)return{value:le.n,done:!1};case 2:if(le.n.r){le.s=3,le={up:le,n:le.n.r,s:0};continue}case 3:le=le.up}return{done:!0}}}}function Ke(pe){var le,Ge;const Mt=((null===(le=pe.r)||void 0===le?void 0:le.d)||0)-((null===(Ge=pe.l)||void 0===Ge?void 0:Ge.d)||0),Lt=Mt>1?"r":Mt<-1?"l":"";if(Lt){const pn="r"===Lt?"l":"r",Bn={...pe},hr=pe[Lt];pe.from=hr.from,pe.to=hr.to,pe[Lt]=hr[Lt],Bn[Lt]=hr[pn],pe[pn]=Bn,Bn.d=$t(Bn)}pe.d=$t(pe)}function $t({r:pe,l:le}){return(pe?le?Math.max(pe.d,le.d):pe.d:le?le.d:0)+1}k(cn.prototype,{add(pe){return wt(this,pe),this},addKey(pe){return Yn(this,pe,pe),this},addKeys(pe){return pe.forEach(le=>Yn(this,le,le)),this},[ht](){return be(this)}});const Sn={stack:"dbcore",level:0,create:pe=>{const le=pe.schema.name,Ge=new cn(pe.MIN_KEY,pe.MAX_KEY);return{...pe,table:Mt=>{const Lt=pe.table(Mt),{schema:pn}=Lt,{primaryKey:Bn}=pn,{extractKey:hr,outbound:cr}=Bn,kr={...Lt,mutate:Ur=>{const Ci=Ur.trans,Wi=Ci.mutatedParts||(Ci.mutatedParts={}),Hn=Gi=>{const Vi=`idb://${le}/${Mt}/${Gi}`;return Wi[Vi]||(Wi[Vi]=new cn)},br=Hn(""),kn=Hn(":dels"),{type:rr}=Ur;let[Xr,mi]="deleteRange"===Ur.type?[Ur.range]:"delete"===Ur.type?[Ur.keys]:Ur.values.length<50?[[],Ur.values]:[];const Yi=Ur.trans._cache;return Lt.mutate(Ur).then(Gi=>{if(f(Xr)){"delete"!==rr&&(Xr=Gi.results),br.addKeys(Xr);const Vi=ft(Xr,Yi);Vi||"add"===rr||kn.addKeys(Xr),(Vi||mi)&&(Yo=Hn,zs=Vi,ws=mi,pn.indexes.forEach(function Jo(Cs){const rs=Yo(Cs.name||"");function Yt(ct){return null!=ct?Cs.extractKey(ct):null}const De=ct=>Cs.multiEntry&&f(ct)?ct.forEach(kt=>rs.addKey(kt)):rs.addKey(ct);(zs||ws).forEach((ct,kt)=>{const mn=zs&&Yt(zs[kt]),zn=ws&&Yt(ws[kt]);0!==ns(mn,zn)&&(null!=mn&&De(mn),null!=zn&&De(zn))})}))}else if(Xr){const Vi={from:Xr.lower,to:Xr.upper};kn.add(Vi),br.add(Vi)}else br.add(Ge),kn.add(Ge),pn.indexes.forEach(Vi=>Hn(Vi.name).add(Ge));var Yo,zs,ws;return Gi})}},Sr=({query:{index:Ur,range:Ci}})=>{var Wi,Hn;return[Ur,new cn(null!==(Wi=Ci.lower)&&void 0!==Wi?Wi:pe.MIN_KEY,null!==(Hn=Ci.upper)&&void 0!==Hn?Hn:pe.MAX_KEY)]},Wr={get:Ur=>[Bn,new cn(Ur.key)],getMany:Ur=>[Bn,(new cn).addKeys(Ur.keys)],count:Sr,query:Sr,openCursor:Sr};return u(Wr).forEach(Ur=>{kr[Ur]=function(Ci){const{subscr:Wi}=xt;if(Wi){const Hn=mi=>{const Yi=`idb://${le}/${Mt}/${mi}`;return Wi[Yi]||(Wi[Yi]=new cn)},br=Hn(""),kn=Hn(":dels"),[rr,Xr]=Wr[Ur](Ci);if(Hn(rr.name||"").add(Xr),!rr.isPrimaryKey){if("count"!==Ur){const mi="query"===Ur&&cr&&Ci.values&&Lt.query({...Ci,values:!1});return Lt[Ur].apply(this,arguments).then(Yi=>{if("query"===Ur){if(cr&&Ci.values)return mi.then(({result:Vi})=>(br.addKeys(Vi),Yi));const Gi=Ci.values?Yi.result.map(hr):Yi.result;Ci.values?br.addKeys(Gi):kn.addKeys(Gi)}else if("openCursor"===Ur){const Gi=Yi,Vi=Ci.values;return Gi&&Object.create(Gi,{key:{get:()=>(kn.addKey(Gi.primaryKey),Gi.key)},primaryKey:{get(){const Yo=Gi.primaryKey;return kn.addKey(Yo),Yo}},value:{get:()=>(Vi&&br.addKey(Gi.primaryKey),Gi.value)}})}return Yi})}kn.add(Ge)}}return Lt[Ur].apply(this,arguments)}}),kr}}}};class Xn{constructor(le,Ge){this._middlewares={},this.verno=0;const Mt=Xn.dependencies;this._options=Ge={addons:Xn.addons,autoOpen:!0,indexedDB:Mt.indexedDB,IDBKeyRange:Mt.IDBKeyRange,...Ge},this._deps={indexedDB:Ge.indexedDB,IDBKeyRange:Ge.IDBKeyRange};const{addons:Lt}=Ge;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const pn={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ae,dbReadyPromise:null,cancelOpen:Ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var Bn,hr;pn.dbReadyPromise=new Ye(hr=>{pn.dbReadyResolve=hr}),pn.openCanceller=new Ye((hr,cr)=>{pn.cancelOpen=cr}),this._state=pn,this.name=le,this.on=_o(this,"populate","blocked","versionchange","close",{ready:[ln,Ae]}),this.on.ready.subscribe=K(this.on.ready.subscribe,hr=>(cr,kr)=>{Xn.vip(()=>{const Sr=this._state;if(Sr.openComplete)Sr.dbOpenError||Ye.resolve().then(cr),kr&&hr(cr);else if(Sr.onReadyBeingFired)Sr.onReadyBeingFired.push(cr),kr&&hr(cr);else{hr(cr);const Wr=this;kr||hr(function Ur(){Wr.on.ready.unsubscribe(cr),Wr.on.ready.unsubscribe(Ur)})}})}),this.Collection=(Bn=this,Co(ur.prototype,function(hr,cr){this.db=Bn;let kr=Zr,Sr=null;if(cr)try{kr=cr()}catch(Wi){Sr=Wi}const Wr=hr._ctx,Ur=Wr.table,Ci=Ur.hook.reading.fire;this._ctx={table:Ur,index:Wr.index,isPrimKey:!Wr.index||Ur.schema.primKey.keyPath&&Wr.index===Ur.schema.primKey.name,range:kr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Sr,or:Wr.or,valueMapper:Ci!==se?Ci:null}})),this.Table=(hr=this,Co(Hi.prototype,function(cr,kr,Sr){this.db=hr,this._tx=Sr,this.name=cr,this.schema=kr,this.hook=hr._allTables[cr]?hr._allTables[cr].hook:_o(null,{creating:[ge,Ae],reading:[L,se],updating:[Pt,Ae],deleting:[et,Ae]})})),this.Transaction=function(hr){return Co(pa.prototype,function(cr,kr,Sr,Wr,Ur){this.db=hr,this.mode=cr,this.storeNames=kr,this.schema=Sr,this.chromeTransactionDurability=Wr,this.idbtrans=null,this.on=_o(this,"complete","error","abort"),this.parent=Ur||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ye((Ci,Wi)=>{this._resolve=Ci,this._reject=Wi}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},Ci=>{var Wi=this.active;return this.active=!1,this.on.error.fire(Ci),this.parent?this.parent._reject(Ci):Wi&&this.idbtrans&&this.idbtrans.abort(),si(Ci)})})}(this),this.Version=function(hr){return Co(Er.prototype,function(cr){this.db=hr,this._cfg={version:cr,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(hr){return Co(Ns.prototype,function(cr,kr,Sr){this.db=hr,this._ctx={table:cr,index:":id"===kr?null:kr,or:Sr};const Wr=hr._deps.indexedDB;if(!Wr)throw new z.MissingAPI;this._cmp=this._ascending=Wr.cmp.bind(Wr),this._descending=(Ur,Ci)=>Wr.cmp(Ci,Ur),this._max=(Ur,Ci)=>Wr.cmp(Ur,Ci)>0?Ur:Ci,this._min=(Ur,Ci)=>Wr.cmp(Ur,Ci)<0?Ur:Ci,this._IDBKeyRange=hr._deps.IDBKeyRange})}(this),this.on("versionchange",hr=>{hr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",hr=>{!hr.newVersion||hr.newVersion<hr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${hr.oldVersion/10}`)}),this._maxKey=Ds(Ge.IDBKeyRange),this._createTransaction=(hr,cr,kr,Sr)=>new this.Transaction(hr,cr,kr,this._options.chromeTransactionDurability,Sr),this._fireOnBlocked=hr=>{this.on("blocked").fire(hr),eo.filter(cr=>cr.name===this.name&&cr!==this&&!cr._state.vcFired).map(cr=>cr.on("versionchange").fire(hr))},this.use(st),this.use(dn),this.use(Sn),this.use(fe),this.vip=Object.create(this,{_vip:{value:!0}}),Lt.forEach(hr=>hr(this))}version(le){if(isNaN(le)||le<.1)throw new z.Type("Given version is not a positive number");if(le=Math.round(10*le)/10,this.idbdb||this._state.isBeingOpened)throw new z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,le);const Ge=this._versions;var Mt=Ge.filter(Lt=>Lt._cfg.version===le)[0];return Mt||(Mt=new this.Version(le),Ge.push(Mt),Ge.sort(xn),Mt.stores({}),this._state.autoSchema=!1,Mt)}_whenReady(le){return this.idbdb&&(this._state.openComplete||xt.letThrough||this._vip)?le():new Ye((Ge,Mt)=>{if(this._state.openComplete)return Mt(new z.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void Mt(new z.DatabaseClosed);this.open().catch(Ae)}this._state.dbReadyPromise.then(Ge,Mt)}).then(le)}use({stack:le,create:Ge,level:Mt,name:Lt}){Lt&&this.unuse({stack:le,name:Lt});const pn=this._middlewares[le]||(this._middlewares[le]=[]);return pn.push({stack:le,create:Ge,level:Mt??10,name:Lt}),pn.sort((Bn,hr)=>Bn.level-hr.level),this}unuse({stack:le,name:Ge,create:Mt}){return le&&this._middlewares[le]&&(this._middlewares[le]=this._middlewares[le].filter(Lt=>Mt?Lt.create!==Mt:!!Ge&&Lt.name!==Ge)),this}open(){return function ri(pe){const le=pe._state,{indexedDB:Ge}=pe._deps;if(le.isBeingOpened||pe.idbdb)return le.dbReadyPromise.then(()=>le.dbOpenError?si(le.dbOpenError):pe);he&&(le.openCanceller._stackHolder=zt()),le.isBeingOpened=!0,le.dbOpenError=null,le.openComplete=!1;const Mt=le.openCanceller;function Lt(){if(le.openCanceller!==Mt)throw new z.DatabaseClosed("db.open() was cancelled")}let pn=le.dbReadyResolve,Bn=null,hr=!1;const cr=()=>new Ye((kr,Sr)=>{if(Lt(),!Ge)throw new z.MissingAPI;const Wr=pe.name,Ur=le.autoSchema?Ge.open(Wr):Ge.open(Wr,Math.round(10*pe.verno));if(!Ur)throw new z.MissingAPI;Ur.onerror=ys(Sr),Ur.onblocked=fi(pe._fireOnBlocked),Ur.onupgradeneeded=fi(Ci=>{if(Bn=Ur.transaction,le.autoSchema&&!pe._options.allowEmptyDB){Ur.onerror=Os,Bn.abort(),Ur.result.close();const Hn=Ge.deleteDatabase(Wr);Hn.onsuccess=Hn.onerror=fi(()=>{Sr(new z.NoSuchDatabase(`Database ${Wr} doesnt exist`))})}else{Bn.onerror=ys(Sr);var Wi=Ci.oldVersion>Math.pow(2,62)?0:Ci.oldVersion;hr=Wi<1,pe._novip.idbdb=Ur.result,function Wt(pe,le,Ge,Mt){const Lt=pe._dbSchema,pn=pe._createTransaction("readwrite",pe._storeNames,Lt);pn.create(Ge),pn._completion.catch(Mt);const Bn=pn._reject.bind(pn),hr=xt.transless||xt;ro(()=>{xt.trans=pn,xt.transless=hr,0===le?(u(Lt).forEach(cr=>{$e(Ge,cr,Lt[cr].primKey,Lt[cr].indexes)}),Pr(pe,Ge),Ye.follow(()=>pe.on.populate.fire(pn)).catch(Bn)):function({_novip:cr},kr,Sr,Wr){const Ur=[],Ci=cr._versions;let Wi=cr._dbSchema=nn(0,cr.idbdb,Wr),Hn=!1;return Ci.filter(rr=>rr._cfg.version>=kr).forEach(rr=>{Ur.push(()=>{const Xr=Wi,mi=rr._cfg.dbschema;Zn(cr,Xr,Wr),Zn(cr,mi,Wr),Wi=cr._dbSchema=mi;const Yi=hn(Xr,mi);Yi.add.forEach(Vi=>{$e(Wr,Vi[0],Vi[1].primKey,Vi[1].indexes)}),Yi.change.forEach(Vi=>{if(Vi.recreate)throw new z.Upgrade("Not yet support for changing primary key");{const Yo=Wr.objectStore(Vi.name);Vi.add.forEach(Ni=>Nt(Yo,Ni)),Vi.change.forEach(Ni=>{Yo.deleteIndex(Ni.name),Nt(Yo,Ni)}),Vi.del.forEach(Ni=>Yo.deleteIndex(Ni))}});const Gi=rr._cfg.contentUpgrade;if(Gi&&rr._cfg.version>kr){Pr(cr,Wr),Sr._memoizedTables={},Hn=!0;let Vi=Y(mi);Yi.del.forEach(ws=>{Vi[ws]=Xr[ws]}),ot(cr,[cr.Transaction.prototype]),Bi(cr,[cr.Transaction.prototype],u(Vi),Vi),Sr.schema=Vi;const Yo=j(Gi);let Ni;Yo&&Pe();const zs=Ye.follow(()=>{if(Ni=Gi(Sr),Ni&&Yo){var ws=dt.bind(null,null);Ni.then(ws,ws)}});return Ni&&"function"==typeof Ni.then?Ye.resolve(Ni):zs.then(()=>Ni)}}),Ur.push(Xr=>{var mi,Yi;(!Hn||!$n)&&(mi=rr._cfg.dbschema,[].slice.call((Yi=Xr).db.objectStoreNames).forEach(Gi=>null==mi[Gi]&&Yi.db.deleteObjectStore(Gi))),ot(cr,[cr.Transaction.prototype]),Bi(cr,[cr.Transaction.prototype],cr._storeNames,cr._dbSchema),Sr.schema=cr._dbSchema})}),function kn(){return Ur.length?Ye.resolve(Ur.shift()(Sr.idbtrans)).then(kn):Ye.resolve()}().then(()=>{var rr,Xr;Xr=Wr,u(rr=Wi).forEach(mi=>{Xr.db.objectStoreNames.contains(mi)||$e(Xr,mi,rr[mi].primKey,rr[mi].indexes)})})}(pe,le,pn,Ge).catch(Bn)})}(pe,Wi/10,Bn,Sr)}},Sr),Ur.onsuccess=fi(()=>{Bn=null;const Ci=pe._novip.idbdb=Ur.result,Wi=G(Ci.objectStoreNames);if(Wi.length>0)try{const br=Ci.transaction(1===(Hn=Wi).length?Hn[0]:Hn,"readonly");le.autoSchema?function({_novip:kn},rr,Xr){kn.verno=rr.version/10;const mi=kn._dbSchema=nn(0,rr,Xr);kn._storeNames=G(rr.objectStoreNames,0),Bi(kn,[kn._allTables],u(mi),mi)}(pe,Ci,br):(Zn(pe,pe._dbSchema,br),function(kn,rr){const Xr=hn(nn(0,kn.idbdb,rr),kn._dbSchema);return!(Xr.add.length||Xr.change.some(mi=>mi.add.length||mi.change.length))}(pe,br)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Pr(pe,br)}catch{}var Hn;eo.push(pe),Ci.onversionchange=fi(br=>{le.vcFired=!0,pe.on("versionchange").fire(br)}),Ci.onclose=fi(br=>{pe.on("close").fire(br)}),hr&&function({indexedDB:br,IDBKeyRange:kn},rr){!Kr(br)&&rr!==Dt&&Cr(br,kn).put({name:rr}).catch(Ae)}(pe._deps,Wr),kr()},Sr)}).catch(kr=>kr&&"UnknownError"===kr.name&&le.PR1398_maxLoop>0?(le.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),cr()):Ye.reject(kr));return Ye.race([Mt,(typeof navigator>"u"?Ye.resolve():pi()).then(cr)]).then(()=>(Lt(),le.onReadyBeingFired=[],Ye.resolve($r(()=>pe.on.ready.fire(pe.vip))).then(function kr(){if(le.onReadyBeingFired.length>0){let Sr=le.onReadyBeingFired.reduce(ln,Ae);return le.onReadyBeingFired=[],Ye.resolve($r(()=>Sr(pe.vip))).then(kr)}}))).finally(()=>{le.onReadyBeingFired=null,le.isBeingOpened=!1}).then(()=>pe).catch(kr=>{le.dbOpenError=kr;try{Bn&&Bn.abort()}catch{}return Mt===le.openCanceller&&pe._close(),si(kr)}).finally(()=>{le.openComplete=!0,pn()})}(this)}_close(){const le=this._state,Ge=eo.indexOf(this);if(Ge>=0&&eo.splice(Ge,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}le.dbReadyPromise=new Ye(Mt=>{le.dbReadyResolve=Mt}),le.openCanceller=new Ye((Mt,Lt)=>{le.cancelOpen=Lt})}close(){this._close();const le=this._state;this._options.autoOpen=!1,le.dbOpenError=new z.DatabaseClosed,le.isBeingOpened&&le.cancelOpen(le.dbOpenError)}delete(){const le=arguments.length>0,Ge=this._state;return new Ye((Mt,Lt)=>{const pn=()=>{this.close();var Bn=this._deps.indexedDB.deleteDatabase(this.name);Bn.onsuccess=fi(()=>{(function({indexedDB:hr,IDBKeyRange:cr},kr){!Kr(hr)&&kr!==Dt&&Cr(hr,cr).delete(kr).catch(Ae)})(this._deps,this.name),Mt()}),Bn.onerror=ys(Lt),Bn.onblocked=this._fireOnBlocked};if(le)throw new z.InvalidArgument("Arguments not allowed in db.delete()");Ge.isBeingOpened?Ge.dbReadyPromise.then(pn):pn()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const le=this._state.dbOpenError;return le&&"DatabaseClosed"===le.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return u(this._allTables).map(le=>this._allTables[le])}transaction(){const le=vo.apply(this,arguments);return this._transaction.apply(this,le)}_transaction(le,Ge,Mt){let Lt=xt.trans;Lt&&Lt.db===this&&-1===le.indexOf("!")||(Lt=null);const pn=-1!==le.indexOf("?");let Bn,hr;le=le.replace("!","").replace("?","");try{if(hr=Ge.map(kr=>{var Sr=kr instanceof this.Table?kr.name:kr;if("string"!=typeof Sr)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Sr}),"r"==le||le===sn)Bn=sn;else{if("rw"!=le&&le!=Wn)throw new z.InvalidArgument("Invalid transaction mode: "+le);Bn=Wn}if(Lt){if(Lt.mode===sn&&Bn===Wn){if(!pn)throw new z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Lt=null}Lt&&hr.forEach(kr=>{if(Lt&&-1===Lt.storeNames.indexOf(kr)){if(!pn)throw new z.SubTransaction("Table "+kr+" not included in parent transaction.");Lt=null}}),pn&&Lt&&!Lt.active&&(Lt=null)}}catch(kr){return Lt?Lt._promise(null,(Sr,Wr)=>{Wr(kr)}):si(kr)}const cr=ko.bind(null,this,Bn,hr,Lt,Mt);return Lt?Lt._promise(Bn,cr,"lock"):xt.trans?Be(xt.transless,()=>this._whenReady(cr)):this._whenReady(cr)}table(le){if(!d(this._allTables,le))throw new z.InvalidTable(`Table ${le} does not exist`);return this._allTables[le]}}const yr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Vr{constructor(le){this._subscribe=le}subscribe(le,Ge,Mt){return this._subscribe(le&&"function"!=typeof le?le:{next:le,error:Ge,complete:Mt})}[yr](){return this}}function ci(pe,le){return u(le).forEach(Ge=>{wt(pe[Ge]||(pe[Ge]=new cn),le[Ge])}),pe}let Lr;try{Lr={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{Lr={indexedDB:null,IDBKeyRange:null}}const wi=Xn;function Zi(pe){let le=Ui;try{Ui=!0,Lo.storagemutated.fire(pe)}finally{Ui=le}}k(wi,{...I,delete:pe=>new wi(pe,{addons:[]}).delete(),exists:pe=>new wi(pe,{addons:[]}).open().then(le=>(le.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(pe){try{return function({indexedDB:le,IDBKeyRange:Ge}){return Kr(le)?Promise.resolve(le.databases()).then(Mt=>Mt.map(Lt=>Lt.name).filter(Lt=>Lt!==Dt)):Cr(le,Ge).toCollection().primaryKeys()}(wi.dependencies).then(pe)}catch{return si(new z.MissingAPI)}},defineClass:()=>function(pe){C(this,pe)},ignoreTransaction:pe=>xt.trans?Be(xt.transless,pe):pe(),vip:$r,async:function(pe){return function(){try{var le=Xi(pe.apply(this,arguments));return le&&"function"==typeof le.then?le:Ye.resolve(le)}catch(Ge){return si(Ge)}}},spawn:function(pe,le,Ge){try{var Mt=Xi(pe.apply(Ge,le||[]));return Mt&&"function"==typeof Mt.then?Mt:Ye.resolve(Mt)}catch(Lt){return si(Lt)}},currentTransaction:{get:()=>xt.trans||null},waitFor:function(pe,le){const Ge=Ye.resolve("function"==typeof pe?wi.ignoreTransaction(pe):pe).timeout(le||6e4);return xt.trans?xt.trans.waitFor(Ge):Ge},Promise:Ye,debug:{get:()=>he,set:pe=>{Ce(pe,"dexie"===pe?()=>!0:ze)}},derive:P,extend:C,props:k,override:K,Events:_o,on:Lo,liveQuery:function di(pe){let le,Ge=!1;const Mt=new Vr(Lt=>{const pn=j(pe);let Bn=!1,hr={},cr={};const kr={get closed(){return Bn},unsubscribe:()=>{Bn=!0,Lo.storagemutated.unsubscribe(Ci)}};Lt.start&&Lt.start(kr);let Sr=!1,Wr=!1;function Ur(){return u(cr).some(Hn=>hr[Hn]&&function Q(pe,le){const Ge=be(le);let Mt=Ge.next();if(Mt.done)return!1;let Lt=Mt.value;const pn=be(pe);let Bn=pn.next(Lt.from),hr=Bn.value;for(;!Mt.done&&!Bn.done;){if(ns(hr.from,Lt.to)<=0&&ns(hr.to,Lt.from)>=0)return!0;ns(Lt.from,hr.from)<0?Lt=(Mt=Ge.next(hr.from)).value:hr=(Bn=pn.next(Lt.from)).value}return!1}(hr[Hn],cr[Hn]))}const Ci=Hn=>{ci(hr,Hn),Ur()&&Wi()},Wi=()=>{if(Sr||Bn)return;hr={};const Hn={},br=function(kn){pn&&Pe();const rr=()=>ro(pe,{subscr:kn,trans:null}),Xr=xt.trans?Be(xt.transless,rr):rr();return pn&&Xr.then(dt,dt),Xr}(Hn);Wr||(Lo(qo,Ci),Wr=!0),Sr=!0,Promise.resolve(br).then(kn=>{Ge=!0,le=kn,Sr=!1,Bn||(Ur()?Wi():(hr={},cr=Hn,Lt.next&&Lt.next(kn)))},kn=>{Sr=!1,Ge=!1,Lt.error&&Lt.error(kn),kr.unsubscribe()})};return Wi(),kr});return Mt.hasValue=()=>Ge,Mt.getValue=()=>le,Mt},extendObservabilitySet:ci,getByKeyPath:te,setByKeyPath:ae,delByKeyPath:function(pe,le){"string"==typeof le?ae(pe,le,void 0):"length"in le&&[].map.call(le,function(Ge){ae(pe,Ge,void 0)})},shallowClone:Y,deepClone:Oe,getObjectDiff:Qe,cmp:ns,asap:Z,minKey:Oi,addons:[],connections:eo,errnames:T,dependencies:Lr,semVer:"3.2.7",version:"3.2.7".split(".").map(pe=>parseInt(pe)).reduce((pe,le,Ge)=>pe+le/Math.pow(10,2*Ge))}),wi.maxKey=Ds(wi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Lo(qo,pe=>{if(!Ui){let le;Vo?(le=document.createEvent("CustomEvent"),le.initCustomEvent(Gs,!0,!0,pe)):le=new CustomEvent(Gs,{detail:pe}),Ui=!0,dispatchEvent(le),Ui=!1}}),addEventListener(Gs,({detail:pe})=>{Ui||Zi(pe)}));let Ui=!1;if(typeof BroadcastChannel<"u"){const pe=new BroadcastChannel(Gs);"function"==typeof pe.unref&&pe.unref(),Lo(qo,le=>{Ui||pe.postMessage(le)}),pe.onmessage=le=>{le.data&&Zi(le.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Lo(qo,le=>{try{Ui||(typeof localStorage<"u"&&localStorage.setItem(Gs,JSON.stringify({trig:Math.random(),changedParts:le})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(Ge=>Ge.postMessage({type:Gs,changedParts:le})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",le=>{if(le.key===Gs){const Ge=JSON.parse(le.newValue);Ge&&Zi(Ge.changedParts)}});const pe=self.document&&navigator.serviceWorker;pe&&pe.addEventListener("message",function({data:le}){le&&le.type===Gs&&Zi(le.changedParts)})}Ye.rejectionMapper=function(pe,le){if(!pe||pe instanceof Ot||pe instanceof TypeError||pe instanceof SyntaxError||!pe.name||!p[pe.name])return pe;var Ge=new p[pe.name](le||pe.message,pe);return"stack"in pe&&U(Ge,"stack",{get:function(){return this.inner.stack}}),Ge},Ce(he,ze)},81025:(en,Ve,E)=>{"use strict";E.d(Ve,{$i:()=>ge,IP:()=>p,YT:()=>z,ht:()=>L,jM:()=>Ae,lE:()=>u,vI:()=>se});var i=Symbol.for("immer-nothing"),u=Symbol.for("immer-draftable"),f=Symbol.for("immer-state");function x(je,...Ht){throw new Error(`[Immer] minified error nr: ${je}. Full error at: https://bit.ly/3cXEKWf`)}var w=Object.getPrototypeOf;function d(je){return!!je&&!!je[f]}function k(je){return!!je&&(U(je)||Array.isArray(je)||!!je[u]||!!je.constructor?.[u]||Z(je)||J(je))}var S=Object.prototype.constructor.toString();function U(je){if(!je||"object"!=typeof je)return!1;const Ht=w(je);if(null===Ht)return!0;const ut=Object.hasOwnProperty.call(Ht,"constructor")&&Ht.constructor;return ut===Object||"function"==typeof ut&&Function.toString.call(ut)===S}function y(je,Ht){0===v(je)?Reflect.ownKeys(je).forEach(ut=>{Ht(ut,je[ut],je)}):je.forEach((ut,jt)=>Ht(jt,ut,je))}function v(je){const Ht=je[f];return Ht?Ht.type_:Array.isArray(je)?1:Z(je)?2:J(je)?3:0}function M(je,Ht){return 2===v(je)?je.has(Ht):Object.prototype.hasOwnProperty.call(je,Ht)}function G(je,Ht){return 2===v(je)?je.get(Ht):je[Ht]}function K(je,Ht,ut){const jt=v(je);2===jt?je.set(Ht,ut):3===jt?je.add(ut):je[Ht]=ut}function Z(je){return je instanceof Map}function J(je){return je instanceof Set}function te(je){return je.copy_||je.base_}function ae(je,Ht){if(Z(je))return new Map(je);if(J(je))return new Set(je);if(Array.isArray(je))return Array.prototype.slice.call(je);const ut=U(je);if(!0===Ht||"class_only"===Ht&&!ut){const jt=Object.getOwnPropertyDescriptors(je);delete jt[f];let gn=Reflect.ownKeys(jt);for(let lt=0;lt<gn.length;lt++){const bt=gn[lt],He=jt[bt];!1===He.writable&&(He.writable=!0,He.configurable=!0),(He.get||He.set)&&(jt[bt]={configurable:!0,writable:!0,enumerable:He.enumerable,value:je[bt]})}return Object.create(w(je),jt)}{const jt=w(je);if(null!==jt&&ut)return{...je};const gn=Object.create(jt);return Object.assign(gn,je)}}function Y(je,Ht=!1){return H(je)||d(je)||!k(je)||(v(je)>1&&(je.set=je.add=je.clear=je.delete=$),Object.freeze(je),Ht&&Object.entries(je).forEach(([ut,jt])=>Y(jt,!0))),je}function $(){x(2)}function H(je){return Object.isFrozen(je)}var Oe,me={};function B(je){const Ht=me[je];return Ht||x(0),Ht}function ce(je,Ht){me[je]||(me[je]=Ht)}function Ue(){return Oe}function _e(je,Ht){Ht&&(B("Patches"),je.patches_=[],je.inversePatches_=[],je.patchListener_=Ht)}function ht(je){Bt(je),je.drafts_.forEach(R),je.drafts_=null}function Bt(je){je===Oe&&(Oe=je.parent_)}function de(je){return Oe=function qe(je,Ht){return{drafts_:[],parent_:je,immer_:Ht,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(Oe,je)}function R(je){const Ht=je[f];0===Ht.type_||1===Ht.type_?Ht.revoke_():Ht.revoked_=!0}function j(je,Ht){Ht.unfinalizedDrafts_=Ht.drafts_.length;const ut=Ht.drafts_[0];return void 0!==je&&je!==ut?(ut[f].modified_&&(ht(Ht),x(4)),k(je)&&(je=he(Ht,je),Ht.parent_||Re(Ht,je)),Ht.patches_&&B("Patches").generateReplacementPatches_(ut[f].base_,je,Ht.patches_,Ht.inversePatches_)):je=he(Ht,ut,[]),ht(Ht),Ht.patches_&&Ht.patchListener_(Ht.patches_,Ht.inversePatches_),je!==i?je:void 0}function he(je,Ht,ut){if(H(Ht))return Ht;const jt=Ht[f];if(!jt)return y(Ht,(gn,lt)=>Ce(je,jt,Ht,gn,lt,ut)),Ht;if(jt.scope_!==je)return Ht;if(!jt.modified_)return Re(je,jt.base_,!0),jt.base_;if(!jt.finalized_){jt.finalized_=!0,jt.scope_.unfinalizedDrafts_--;const gn=jt.copy_;let lt=gn,bt=!1;3===jt.type_&&(lt=new Set(gn),gn.clear(),bt=!0),y(lt,(He,ye)=>Ce(je,jt,gn,He,ye,ut,bt)),Re(je,gn,!1),ut&&je.patches_&&B("Patches").generatePatches_(jt,ut,je.patches_,je.inversePatches_)}return jt.copy_}function Ce(je,Ht,ut,jt,gn,lt,bt){if(d(gn)){const ye=he(je,gn,lt&&Ht&&3!==Ht.type_&&!M(Ht.assigned_,jt)?lt.concat(jt):void 0);if(K(ut,jt,ye),!d(ye))return;je.canAutoFreeze_=!1}else bt&&ut.add(gn);if(k(gn)&&!H(gn)){if(!je.immer_.autoFreeze_&&je.unfinalizedDrafts_<1)return;he(je,gn),(!Ht||!Ht.scope_.parent_)&&"symbol"!=typeof jt&&Object.prototype.propertyIsEnumerable.call(ut,jt)&&Re(je,gn)}}function Re(je,Ht,ut=!1){!je.parent_&&je.immer_.autoFreeze_&&je.canAutoFreeze_&&Y(Ht,ut)}var zt={get(je,Ht){if(Ht===f)return je;const ut=te(je);if(!M(ut,Ht))return function Ne(je,Ht,ut){const jt=Xe(Ht,ut);return jt?"value"in jt?jt.value:jt.get?.call(je.draft_):void 0}(je,ut,Ht);const jt=ut[Ht];return je.finalized_||!k(jt)?jt:jt===It(je.base_,Ht)?(re(je),je.copy_[Ht]=F(jt,je)):jt},has:(je,Ht)=>Ht in te(je),ownKeys:je=>Reflect.ownKeys(te(je)),set(je,Ht,ut){const jt=Xe(te(je),Ht);if(jt?.set)return jt.set.call(je.draft_,ut),!0;if(!je.modified_){const gn=It(te(je),Ht),lt=gn?.[f];if(lt&&lt.base_===ut)return je.copy_[Ht]=ut,je.assigned_[Ht]=!1,!0;if(function V(je,Ht){return je===Ht?0!==je||1/je==1/Ht:je!=je&&Ht!=Ht}(ut,gn)&&(void 0!==ut||M(je.base_,Ht)))return!0;re(je),Ot(je)}return je.copy_[Ht]===ut&&(void 0!==ut||Ht in je.copy_)||Number.isNaN(ut)&&Number.isNaN(je.copy_[Ht])||(je.copy_[Ht]=ut,je.assigned_[Ht]=!0),!0},deleteProperty:(je,Ht)=>(void 0!==It(je.base_,Ht)||Ht in je.base_?(je.assigned_[Ht]=!1,re(je),Ot(je)):delete je.assigned_[Ht],je.copy_&&delete je.copy_[Ht],!0),getOwnPropertyDescriptor(je,Ht){const ut=te(je),jt=Reflect.getOwnPropertyDescriptor(ut,Ht);return jt&&{writable:!0,configurable:1!==je.type_||"length"!==Ht,enumerable:jt.enumerable,value:ut[Ht]}},defineProperty(){x(11)},getPrototypeOf:je=>w(je.base_),setPrototypeOf(){x(12)}},Mn={};function It(je,Ht){const ut=je[f];return(ut?te(ut):je)[Ht]}function Xe(je,Ht){if(!(Ht in je))return;let ut=w(je);for(;ut;){const jt=Object.getOwnPropertyDescriptor(ut,Ht);if(jt)return jt;ut=w(ut)}}function Ot(je){je.modified_||(je.modified_=!0,je.parent_&&Ot(je.parent_))}function re(je){je.copy_||(je.copy_=ae(je.base_,je.scope_.immer_.useStrictShallowCopy_))}function F(je,Ht){const ut=Z(je)?B("MapSet").proxyMap_(je,Ht):J(je)?B("MapSet").proxySet_(je,Ht):function pt(je,Ht){const ut=Array.isArray(je),jt={type_:ut?1:0,scope_:Ht?Ht.scope_:Ue(),modified_:!1,finalized_:!1,assigned_:{},parent_:Ht,base_:je,draft_:null,copy_:null,revoke_:null,isManual_:!1};let gn=jt,lt=zt;ut&&(gn=[jt],lt=Mn);const{revoke:bt,proxy:He}=Proxy.revocable(gn,lt);return jt.draft_=He,jt.revoke_=bt,He}(je,Ht);return(Ht?Ht.scope_:Ue()).drafts_.push(ut),ut}function W(je){if(!k(je)||H(je))return je;const Ht=je[f];let ut;if(Ht){if(!Ht.modified_)return Ht.base_;Ht.finalized_=!0,ut=ae(je,Ht.scope_.immer_.useStrictShallowCopy_)}else ut=ae(je,!0);return y(ut,(jt,gn)=>{K(ut,jt,W(gn))}),Ht&&(Ht.finalized_=!1),ut}function z(){const Ht="replace",ut="add",jt="remove";function rt(Dn){if(!k(Dn))return Dn;if(Array.isArray(Dn))return Dn.map(rt);if(Z(Dn))return new Map(Array.from(Dn.entries()).map(([lr,an])=>[lr,rt(an)]));if(J(Dn))return new Set(Array.from(Dn).map(rt));const Jn=Object.create(w(Dn));for(const lr in Dn)Jn[lr]=rt(Dn[lr]);return M(Dn,u)&&(Jn[u]=Dn[u]),Jn}function Kt(Dn){return d(Dn)?rt(Dn):Dn}ce("Patches",{applyPatches_:function mt(Dn,Jn){return Jn.forEach(lr=>{const{path:an,op:At}=lr;let Et=Dn;for(let Xt=0;Xt<an.length-1;Xt++){const Ye=v(Et);let Vt=an[Xt];"string"!=typeof Vt&&"number"!=typeof Vt&&(Vt=""+Vt),(0===Ye||1===Ye)&&("__proto__"===Vt||"constructor"===Vt)&&x(19),"function"==typeof Et&&"prototype"===Vt&&x(19),Et=G(Et,Vt),"object"!=typeof Et&&x(18,an.join("/"))}const xt=v(Et),gt=rt(lr.value),tn=an[an.length-1];switch(At){case Ht:switch(xt){case 2:return Et.set(tn,gt);case 3:x(16);default:return Et[tn]=gt}case ut:switch(xt){case 1:return"-"===tn?Et.push(gt):Et.splice(tn,0,gt);case 2:return Et.set(tn,gt);case 3:return Et.add(gt);default:return Et[tn]=gt}case jt:switch(xt){case 1:return Et.splice(tn,1);case 2:return Et.delete(tn);case 3:return Et.delete(lr.value);default:return delete Et[tn]}default:x(17)}}),Dn},generatePatches_:function gn(Dn,Jn,lr,an){switch(Dn.type_){case 0:case 2:return function bt(Dn,Jn,lr,an){const{base_:At,copy_:Et}=Dn;y(Dn.assigned_,(xt,gt)=>{const tn=G(At,xt),Xt=G(Et,xt),Ye=gt?M(At,xt)?Ht:ut:jt;if(tn===Xt&&Ye===Ht)return;const Vt=Jn.concat(xt);lr.push(Ye===jt?{op:Ye,path:Vt}:{op:Ye,path:Vt,value:Xt}),an.push(Ye===ut?{op:jt,path:Vt}:Ye===jt?{op:ut,path:Vt,value:Kt(tn)}:{op:Ht,path:Vt,value:Kt(tn)})})}(Dn,Jn,lr,an);case 1:return function lt(Dn,Jn,lr,an){let{base_:At,assigned_:Et}=Dn,xt=Dn.copy_;xt.length<At.length&&([At,xt]=[xt,At],[lr,an]=[an,lr]);for(let gt=0;gt<At.length;gt++)if(Et[gt]&&xt[gt]!==At[gt]){const tn=Jn.concat([gt]);lr.push({op:Ht,path:tn,value:Kt(xt[gt])}),an.push({op:Ht,path:tn,value:Kt(At[gt])})}for(let gt=At.length;gt<xt.length;gt++){const tn=Jn.concat([gt]);lr.push({op:ut,path:tn,value:Kt(xt[gt])})}for(let gt=xt.length-1;At.length<=gt;--gt){const tn=Jn.concat([gt]);an.push({op:jt,path:tn})}}(Dn,Jn,lr,an);case 3:return function He(Dn,Jn,lr,an){let{base_:At,copy_:Et}=Dn,xt=0;At.forEach(gt=>{if(!Et.has(gt)){const tn=Jn.concat([xt]);lr.push({op:jt,path:tn,value:gt}),an.unshift({op:ut,path:tn,value:gt})}xt++}),xt=0,Et.forEach(gt=>{if(!At.has(gt)){const tn=Jn.concat([xt]);lr.push({op:ut,path:tn,value:gt}),an.unshift({op:jt,path:tn,value:gt})}xt++})}(Dn,Jn,lr,an)}},generateReplacementPatches_:function ye(Dn,Jn,lr,an){lr.push({op:Ht,path:[],value:Jn===i?void 0:Jn}),an.push({op:Ht,path:[],value:Dn})}})}function p(){class je extends Map{constructor(ye,mt){super(),this[f]={type_:2,parent_:mt,scope_:mt?mt.scope_:Ue(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:ye,draft_:this,isManual_:!1,revoked_:!1}}get size(){return te(this[f]).size}has(ye){return te(this[f]).has(ye)}set(ye,mt){const rt=this[f];return bt(rt),(!te(rt).has(ye)||te(rt).get(ye)!==mt)&&(ut(rt),Ot(rt),rt.assigned_.set(ye,!0),rt.copy_.set(ye,mt),rt.assigned_.set(ye,!0)),this}delete(ye){if(!this.has(ye))return!1;const mt=this[f];return bt(mt),ut(mt),Ot(mt),mt.base_.has(ye)?mt.assigned_.set(ye,!1):mt.assigned_.delete(ye),mt.copy_.delete(ye),!0}clear(){const ye=this[f];bt(ye),te(ye).size&&(ut(ye),Ot(ye),ye.assigned_=new Map,y(ye.base_,mt=>{ye.assigned_.set(mt,!1)}),ye.copy_.clear())}forEach(ye,mt){te(this[f]).forEach((Kt,Dn,Jn)=>{ye.call(mt,this.get(Dn),Dn,this)})}get(ye){const mt=this[f];bt(mt);const rt=te(mt).get(ye);if(mt.finalized_||!k(rt)||rt!==mt.base_.get(ye))return rt;const Kt=F(rt,mt);return ut(mt),mt.copy_.set(ye,Kt),Kt}keys(){return te(this[f]).keys()}values(){const ye=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const mt=ye.next();return mt.done?mt:{done:!1,value:this.get(mt.value)}}}}entries(){const ye=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const mt=ye.next();if(mt.done)return mt;const rt=this.get(mt.value);return{done:!1,value:[mt.value,rt]}}}}[Symbol.iterator](){return this.entries()}}function ut(He){He.copy_||(He.assigned_=new Map,He.copy_=new Map(He.base_))}class jt extends Set{constructor(ye,mt){super(),this[f]={type_:3,parent_:mt,scope_:mt?mt.scope_:Ue(),modified_:!1,finalized_:!1,copy_:void 0,base_:ye,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return te(this[f]).size}has(ye){const mt=this[f];return bt(mt),mt.copy_?!!(mt.copy_.has(ye)||mt.drafts_.has(ye)&&mt.copy_.has(mt.drafts_.get(ye))):mt.base_.has(ye)}add(ye){const mt=this[f];return bt(mt),this.has(ye)||(lt(mt),Ot(mt),mt.copy_.add(ye)),this}delete(ye){if(!this.has(ye))return!1;const mt=this[f];return bt(mt),lt(mt),Ot(mt),mt.copy_.delete(ye)||!!mt.drafts_.has(ye)&&mt.copy_.delete(mt.drafts_.get(ye))}clear(){const ye=this[f];bt(ye),te(ye).size&&(lt(ye),Ot(ye),ye.copy_.clear())}values(){const ye=this[f];return bt(ye),lt(ye),ye.copy_.values()}entries(){const ye=this[f];return bt(ye),lt(ye),ye.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(ye,mt){const rt=this.values();let Kt=rt.next();for(;!Kt.done;)ye.call(mt,Kt.value,Kt.value,this),Kt=rt.next()}}function lt(He){He.copy_||(He.copy_=new Set,He.base_.forEach(ye=>{if(k(ye)){const mt=F(ye,He);He.drafts_.set(ye,mt),He.copy_.add(mt)}else He.copy_.add(ye)}))}function bt(He){He.revoked_&&x(3,JSON.stringify(te(He)))}ce("MapSet",{proxyMap_:function Ht(He,ye){return new je(He,ye)},proxySet_:function gn(He,ye){return new jt(He,ye)}})}y(zt,(je,Ht)=>{Mn[je]=function(){return arguments[0]=arguments[0][0],Ht.apply(this,arguments)}}),Mn.deleteProperty=function(je,Ht){return Mn.set.call(this,je,Ht,void 0)},Mn.set=function(je,Ht,ut){return zt.set.call(this,je[0],Ht,ut,je[0])};var I=new class{constructor(je){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(Ht,ut,jt)=>{if("function"==typeof Ht&&"function"!=typeof ut){const lt=ut;ut=Ht;const bt=this;return function(ye=lt,...mt){return bt.produce(ye,rt=>ut.call(this,rt,...mt))}}let gn;if("function"!=typeof ut&&x(6),void 0!==jt&&"function"!=typeof jt&&x(7),k(Ht)){const lt=de(this),bt=F(Ht,void 0);let He=!0;try{gn=ut(bt),He=!1}finally{He?ht(lt):Bt(lt)}return _e(lt,jt),j(gn,lt)}if(!Ht||"object"!=typeof Ht){if(gn=ut(Ht),void 0===gn&&(gn=Ht),gn===i&&(gn=void 0),this.autoFreeze_&&Y(gn,!0),jt){const lt=[],bt=[];B("Patches").generateReplacementPatches_(Ht,gn,lt,bt),jt(lt,bt)}return gn}x(1)},this.produceWithPatches=(Ht,ut)=>{if("function"==typeof Ht)return(bt,...He)=>this.produceWithPatches(bt,ye=>Ht(ye,...He));let jt,gn;return[this.produce(Ht,ut,(bt,He)=>{jt=bt,gn=He}),jt,gn]},"boolean"==typeof je?.autoFreeze&&this.setAutoFreeze(je.autoFreeze),"boolean"==typeof je?.useStrictShallowCopy&&this.setUseStrictShallowCopy(je.useStrictShallowCopy)}createDraft(je){k(je)||x(8),d(je)&&(je=function T(je){return d(je)||x(10),W(je)}(je));const Ht=de(this),ut=F(je,void 0);return ut[f].isManual_=!0,Bt(Ht),ut}finishDraft(je,Ht){const ut=je&&je[f];(!ut||!ut.isManual_)&&x(9);const{scope_:jt}=ut;return _e(jt,Ht),j(void 0,jt)}setAutoFreeze(je){this.autoFreeze_=je}setUseStrictShallowCopy(je){this.useStrictShallowCopy_=je}applyPatches(je,Ht){let ut;for(ut=Ht.length-1;ut>=0;ut--){const gn=Ht[ut];if(0===gn.path.length&&"replace"===gn.op){je=gn.value;break}}ut>-1&&(Ht=Ht.slice(ut+1));const jt=B("Patches").applyPatches_;return d(je)?jt(je,Ht):this.produce(je,gn=>jt(gn,Ht))}},Ae=I.produce,se=I.produceWithPatches.bind(I),L=I.setAutoFreeze.bind(I),ge=(I.setUseStrictShallowCopy.bind(I),I.applyPatches.bind(I));I.createDraft.bind(I),I.finishDraft.bind(I)},17225:(en,Ve,E)=>{"use strict";function i(u){return{all:u=u||new Map,on:function(f,C){var x=u.get(f);x?x.push(C):u.set(f,[C])},off:function(f,C){var x=u.get(f);x&&(C?x.splice(x.indexOf(C)>>>0,1):u.set(f,[]))},emit:function(f,C){var x=u.get(f);x&&x.slice().map(function(w){w(C)}),(x=u.get("*"))&&x.slice().map(function(w){w(f,C)})}}}E.r(Ve),E.d(Ve,{default:()=>i})},73845:(en,Ve,E)=>{"use strict";E.d(Ve,{Je:()=>re,Un:()=>D});var i=E(85052),u=E(15877),f=E(2573),C=E(60391),x=E(19827);const w=new f.c(x.l);E(2515);var S=E(14264),U=E(39705),P=E(17365),y=E(11756),v=E(36110),M=E(28577),G=E(32914);E(35160),E(8360),E(15210),E(66196),E(96513),E(20075);var H=E(60177),me=E(54438);function ce(W){return!(!W.parentElement||"picture"!==W.parentElement.nodeName.toLowerCase())}function Oe(W){return"img"===W.nodeName.toLowerCase()}function Ue(W,z,p){return Oe(W)?p&&"srcset"in W?W.srcset=z:W.src=z:W.style.backgroundImage=`url('${z}')`,W}function qe(W){return z=>{const p=z.parentElement.getElementsByTagName("source");for(let I=0;I<p.length;I++){const Ae=p[I].getAttribute(W);Ae&&("srcset"in p[I]?p[I].srcset=Ae:p[I].src=Ae)}}}const _e=qe("defaultImage"),ht=qe("lazyLoad"),Bt=qe("errorImage");function de(W){return(z,p,I)=>{Oe(z)&&ce(z)&&W(z),p&&Ue(z,p,I)}}const R=de(_e),j=de(ht),he=de(Bt);class Ce{constructor(){this.navigator=function B(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(z){this.platformId=z}onDestroy(z){}onAttributeChange(z){}}function pt(W,z){W.className=W.className.replace(z,"")}function zt(W,z){W.className.includes(z)||(W.className+=` ${z}`)}class It extends Ce{setup(z){R(z.element,z.defaultImagePath,z.useSrcset),z.imagePath&&zt(z.element,"ng-lazyloading"),function Mn(W,z){return W.className&&W.className.includes(z)}(z.element,"ng-lazyloaded")&&pt(z.element,"ng-lazyloaded")}finally(z){zt(z.element,"ng-lazyloaded"),pt(z.element,"ng-lazyloading")}loadImage(z){if(this.skipLazyLoading(z))return[z.imagePath];const{element:p,useSrcset:I,imagePath:Ae,decode:se}=z;let L;return Oe(p)&&ce(p)?(L=p.parentNode.cloneNode(!0).getElementsByTagName("img")[0],ht(L),Ue(L,Ae,I)):(L=new Image,Oe(p)&&p.referrerPolicy&&(L.referrerPolicy=p.referrerPolicy),Oe(p)&&p.sizes&&(L.sizes=p.sizes),I&&"srcset"in L?L.srcset=Ae:L.src=Ae),se&&L.decode?L.decode().then(()=>Ae):new Promise((ve,ge)=>{L.onload=()=>ve(Ae),L.onerror=()=>ge(null)})}setErrorImage(z,p){const{element:I,useSrcset:Ae,errorImagePath:se}=p;he(I,se,Ae),zt(I,"ng-failed-lazyloaded")}setLoadedImage(z,p){const{element:I,useSrcset:Ae}=p;j(I,z,Ae)}isDisabled(){return(0,H.Vy)(this.platformId)&&!this.isBot()}skipLazyLoading(z){return this.isBot(z)}isBot(z){return!!this.navigator?.userAgent&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}class Ne extends It{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new i.B,this.uniqKey={}}getObservable(z){if(this.skipLazyLoading(z))return(0,u.of)({isIntersecting:!0});if(z.customObservable)return z.customObservable;const p=z.scrollContainer||this.uniqKey,I={root:z.scrollContainer||null};z.offset&&(I.rootMargin=`${z.offset}px`);let Ae=this.observers.get(p);return Ae||(Ae=new IntersectionObserver(se=>this.loadingCallback(se),I),this.observers.set(p,Ae)),Ae.observe(z.element),f.c.create(se=>{const L=this.intersectionSubject.pipe((0,S.p)(ve=>ve.target===z.element)).subscribe(se);return()=>{L.unsubscribe(),Ae.unobserve(z.element)}})}isVisible(z){return z.isIntersecting}loadingCallback(z){z.forEach(p=>this.intersectionSubject.next(p))}}const Ot=new me.nKC("LazyLoadImageHooks");let re=(()=>{class W{constructor(p,I,Ae,se){this.onStateChange=new me.bkB,this.elementRef=p,this.ngZone=I,this.propertyChanges$=new C.m,this.hooks=se,this.hooks.setPlatformId(Ae),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(p=>console.log(p))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,U.M)(p=>this.hooks.onAttributeChange(p)),(0,U.M)(p=>p.onStateChange.emit({reason:"setup"})),(0,U.M)(p=>this.hooks.setup(p)),(0,G.n)(p=>p.imagePath?this.hooks.getObservable(p).pipe(function Xe(W,z){return p=>p.pipe((0,U.M)(I=>z.onStateChange.emit({reason:"observer-emit",data:I})),(0,S.p)(I=>W.isVisible(I,z)),(0,P.s)(1),(0,U.M)(()=>z.onStateChange.emit({reason:"start-loading"})),(0,y.Z)(()=>W.loadImage(z)),(0,U.M)(()=>z.onStateChange.emit({reason:"mount-image"})),(0,U.M)(I=>W.setLoadedImage(I,z)),(0,U.M)(()=>z.onStateChange.emit({reason:"loading-succeeded"})),(0,v.T)(()=>!0),(0,M.W)(I=>(z.onStateChange.emit({reason:"loading-failed",data:I}),W.setErrorImage(I,z),(0,u.of)(!1))),(0,U.M)(()=>{z.onStateChange.emit({reason:"finally"}),W.finally(z)}))}(this.hooks,p)):function d(){return w}())).subscribe({next:()=>null})})}ngOnDestroy(){this.propertyChanges$.pipe((0,P.s)(1)).subscribe({next:p=>this.hooks.onDestroy(p)}).unsubscribe(),this.loadSubscription?.unsubscribe(),this.debugSubscription?.unsubscribe()}}return W.\u0275fac=function(p){return new(p||W)(me.rXU(me.aKT),me.rXU(me.SKi),me.rXU(me.Agw),me.rXU(Ot))},W.\u0275dir=me.FsC({type:W,selectors:[["","lazyLoad",""]],inputs:{lazyImage:[me.Mj6.None,"lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[me.OA$]}),W})(),D=(()=>{class W{}return W.\u0275fac=function(p){return new(p||W)},W.\u0275mod=me.$C({type:W}),W.\u0275inj=me.G2t({providers:[{provide:Ot,useClass:Ne}]}),W})();class F{constructor(z,p,I,Ae){this.left=z,this.top=p,this.right=I,this.bottom=Ae}static fromElement(z){const{left:p,top:I,right:Ae,bottom:se}=z.getBoundingClientRect();return 0===p&&0===I&&0===Ae&&0===se?F.empty:new F(p,I,Ae,se)}static fromWindow(z){return new F(0,0,z.innerWidth,z.innerHeight)}inflate(z){this.left-=z,this.top-=z,this.right+=z,this.bottom+=z}intersectsWith(z){return z.left<this.right&&this.left<z.right&&z.top<this.bottom&&this.top<z.bottom}getIntersectionWith(z){const p=Math.max(this.left,z.left),I=Math.max(this.top,z.top),Ae=Math.min(this.right,z.right),se=Math.min(this.bottom,z.bottom);return Ae>=p&&se>=I?new F(p,I,Ae,se):F.empty}}F.empty=new F(0,0,0,0)},29242:(en,Ve,E)=>{"use strict";E.d(Ve,{gq:()=>P,ob:()=>Y});var i=E(54438),u=E(60177),f=E(15877),C=E(29160),x=E(85052),w=E(14264);const d=new i.nKC("recaptcha-language"),k=new i.nKC("recaptcha-base-url"),S=new i.nKC("recaptcha-nonce-tag"),P=(new i.nKC("recaptcha-settings"),new i.nKC("recaptcha-v3-site-key")),y=new i.nKC("recaptcha-loader-options"),G={loadScript:function v(B,ce,Oe,{url:Ue,lang:qe,nonce:_e}={}){window.ng2recaptchaloaded=()=>{Oe(grecaptcha)};const ht=document.createElement("script");ht.innerHTML="";const{url:Bt,nonce:de}=ce(new URL(Ue||"https://www.google.com/recaptcha/api.js"));Bt.searchParams.set("render","explicit"===B?B:B.key),Bt.searchParams.set("onload","ng2recaptchaloaded"),Bt.searchParams.set("trustedtypes","true"),qe&&Bt.searchParams.set("hl",qe),ht.src=Bt.href;const R=de||_e;R&&ht.setAttribute("nonce",R),ht.async=!0,ht.defer=!0,document.head.appendChild(ht)},newLoadScript:function M({v3SiteKey:B,onBeforeLoad:ce,onLoaded:Oe}){G.loadScript(B?{key:B}:"explicit",ce,Oe)}};let V=(()=>{var B;class ce{constructor(Ue,qe,_e,ht,Bt,de){this.platformId=Ue,this.language=qe,this.baseUrl=_e,this.nonce=ht,this.v3SiteKey=Bt,this.options=de;const R=this.init();this.ready=R?function K(B){return B.asObservable().pipe((0,w.p)(ce=>null!==ce))}(R):(0,f.of)()}init(){if(ce.ready)return ce.ready;if(!(0,u.UE)(this.platformId))return;const Ue=new C.t(null);return ce.ready=Ue,G.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:qe=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(qe);const _e=new URL(this.baseUrl??qe);return this.language&&_e.searchParams.set("hl",this.language),{url:_e,nonce:this.nonce}},onLoaded:qe=>{let _e=qe;this.options?.onLoaded&&(_e=this.options.onLoaded(qe)),Ue.next(_e)}}),Ue}}return(B=ce).ready=null,B.\u0275fac=function(Ue){return new(Ue||B)(i.KVO(i.Agw),i.KVO(d,8),i.KVO(k,8),i.KVO(S,8),i.KVO(P,8),i.KVO(y,8))},B.\u0275prov=i.jDH({token:B,factory:B.\u0275fac}),ce})(),Y=(()=>{var B;class ce{constructor(Ue,qe,_e){this.recaptchaLoader=qe,this.zone=Ue,this.siteKey=_e,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new x.B,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new x.B,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(Ue){const qe=new x.B;return this.grecaptcha?this.executeActionWithSubject(Ue,qe):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([Ue,qe])),qe.asObservable()}executeActionWithSubject(Ue,qe){const _e=ht=>{this.zone.run(()=>{qe.error(ht),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:Ue,error:ht})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:Ue}).then(ht=>{this.zone.run(()=>{qe.next(ht),qe.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:Ue,token:ht})})},_e)}catch(ht){_e(ht)}})}init(){this.recaptchaLoader.ready.subscribe(Ue=>{this.grecaptcha=Ue,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([qe,_e])=>this.executeActionWithSubject(qe,_e)),this.actionBacklog=void 0)})}}return(B=ce).\u0275fac=function(Ue){return new(Ue||B)(i.KVO(i.SKi),i.KVO(V),i.KVO(P))},B.\u0275prov=i.jDH({token:B,factory:B.\u0275fac}),ce})()},11562:(en,Ve,E)=>{"use strict";E.d(Ve,{YG:()=>p});var i=E(99158),u=E(54438),f=E(60177);typeof window<"u"&&window;let p=(()=>{var I;class Ae{}return I=Ae,(0,i.A)(Ae,"\u0275fac",function(L){return new(L||I)}),(0,i.A)(Ae,"\u0275mod",u.$C({type:I})),(0,i.A)(Ae,"\u0275inj",u.G2t({imports:[f.MD]})),Ae})()},35286:(en,Ve,E)=>{"use strict";E.d(Ve,{GY:()=>Oe,Rl:()=>he,i0:()=>Re,y2:()=>Mn});var i=E(28407),u=E(60177),f=E(54438),C=E(85052),x=E(76718),w=E(15877),d=E(43654),k=E(32914),S=E(99539),U=E(21082),P=E(49784),y=E(35160),v=E(36110),G=(E(37925),E(60830)),K=E(40832),V=E(21626),Z=E(345);let Y=(()=>{var Ne;class Xe{constructor(){this._buttonClick$=new C.B,this.copied$=this._buttonClick$.pipe((0,k.n)(()=>(0,x.h)((0,w.of)(!0),(0,d.O)(3e3).pipe((0,S.u)(!1)))),(0,U.F)(),(0,P.t)(1)),this.copiedText$=this.copied$.pipe((0,y.Z)(!1),(0,v.T)(re=>re?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(Ne=Xe).\u0275fac=function(re){return new(re||Ne)},Ne.\u0275cmp=f.VBU({type:Ne,selectors:[["markdown-clipboard"]],standalone:!0,features:[f.aNF],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(re,D){1&re&&(f.j41(0,"button",0),f.nI1(1,"async"),f.bIt("click",function(){return D.onCopyToClipboardClick()}),f.EFF(2),f.nI1(3,"async"),f.k0s()),2&re&&(f.AVh("copied",f.bMT(1,3,D.copied$)),f.R7$(2),f.JRh(f.bMT(3,5,D.copiedText$)))},dependencies:[u.Jj],encapsulation:2,changeDetection:0}),Xe})();const $=new f.nKC("CLIPBOARD_OPTIONS"),ce=new f.nKC("MARKED_EXTENSIONS"),Oe=new f.nKC("MARKED_OPTIONS"),R=new f.nKC("SECURITY_CONTEXT");let he=(()=>{var Ne;class Xe{get options(){return this._options}set options(re){this._options={...this.DEFAULT_MARKED_OPTIONS,...re}}get renderer(){return this.options.renderer}set renderer(re){this.options.renderer=re}constructor(re,D,F,T,W,z,p){this.clipboardOptions=re,this.extensions=D,this.platform=T,this.securityContext=W,this.http=z,this.sanitizer=p,this.DEFAULT_MARKED_OPTIONS={renderer:new K.A4},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new C.B,this.reload$=this._reload$.asObservable(),this.options=F}parse(re,D=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:F,inline:T,emoji:W,mermaid:z,disableSanitizer:p}=D,I={...this.options,...D.markedOptions},Ae=I.renderer||this.renderer||new K.A4;this.extensions&&(this.renderer=this.extendsRendererForExtensions(Ae)),z&&(this.renderer=this.extendsRendererForMermaid(Ae));const se=this.trimIndentation(re),L=F?this.decodeHtml(se):se,ve=W?this.parseEmoji(L):L,ge=this.parseMarked(ve,I,T);return(p?ge:this.sanitizer.sanitize(this.securityContext,ge))||""}render(re,D=this.DEFAULT_RENDER_OPTIONS,F){const{clipboard:T,clipboardOptions:W,katex:z,katexOptions:p,mermaid:I,mermaidOptions:Ae}=D;z&&this.renderKatex(re,{...this.DEFAULT_KATEX_OPTIONS,...p}),I&&this.renderMermaid(re,{...this.DEFAULT_MERMAID_OPTIONS,...Ae}),T&&this.renderClipboard(re,F,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...W}),this.highlight(re)}reload(){this._reload$.next()}getSource(re){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(re,{responseType:"text"}).pipe((0,v.T)(D=>this.handleExtension(re,D)))}highlight(re){if(!(0,u.UE)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;re||(re=document);const D=re.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(D,F=>F.classList.add("language-none")),Prism.highlightAllUnder(re)}decodeHtml(re){if(!(0,u.UE)(this.platform))return re;const D=document.createElement("textarea");return D.innerHTML=re,D.value}extendsRendererForExtensions(re){const D=re;return!0===D.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&K.xI.use(...this.extensions),D.\u0275NgxMarkdownRendererExtendedForExtensions=!0),re}extendsRendererForMermaid(re){const D=re;if(!0===D.\u0275NgxMarkdownRendererExtendedForMermaid)return re;const F=re.code;return re.code=function(T,W,z){return"mermaid"===W?`<div class="mermaid">${T}</div>`:F.call(this,T,W,z)},D.\u0275NgxMarkdownRendererExtendedForMermaid=!0,re}handleExtension(re,D){const F=re.lastIndexOf("://"),T=F>-1?re.substring(F+4):re,W=T.lastIndexOf("/"),z=W>-1?T.substring(W+1).split("?")[0]:"",p=z.lastIndexOf("."),I=p>-1?z.substring(p+1):"";return I&&"md"!==I?"```"+I+"\n"+D+"\n```":D}parseMarked(re,D,F=!1){if(D.renderer){const T={...D.renderer};delete T.\u0275NgxMarkdownRendererExtendedForExtensions,delete T.\u0275NgxMarkdownRendererExtendedForMermaid,delete D.renderer,K.xI.use({renderer:T})}return F?K.xI.parseInline(re,D):K.xI.parse(re,D)}parseEmoji(re){if(!(0,u.UE)(this.platform))return re;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(re)}renderKatex(re,D){if((0,u.UE)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(re,D)}}renderClipboard(re,D,F){if(!(0,u.UE)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!D)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:T,buttonTemplate:W}=F,z=re.querySelectorAll("pre");for(let p=0;p<z.length;p++){const I=z.item(p),Ae=document.createElement("div");Ae.style.position="relative",I.parentNode.insertBefore(Ae,I),Ae.appendChild(I);const se=document.createElement("div");let L,ve;if(se.style.position="absolute",se.style.top=".5em",se.style.right=".5em",se.style.opacity="0",se.style.transition="opacity 250ms ease-out",se.style.zIndex="1",Ae.insertAdjacentElement("beforeend",se),I.onmouseover=()=>se.style.opacity="1",I.onmouseout=()=>se.style.opacity="0",T){const ge=D.createComponent(T);L=ge.hostView,ge.changeDetectorRef.markForCheck()}else if(W)L=D.createEmbeddedView(W);else{const ge=D.createComponent(Y);L=ge.hostView,ge.changeDetectorRef.markForCheck()}L.rootNodes.forEach(ge=>{ge.onmouseover=()=>se.style.opacity="1",se.appendChild(ge),ve=new ClipboardJS(ge,{text:()=>I.innerText})}),L.onDestroy(()=>ve.destroy())}}renderMermaid(re,D=this.DEFAULT_MERMAID_OPTIONS){if(!(0,u.UE)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const F=re.querySelectorAll(".mermaid");0!==F.length&&(mermaid.initialize(D),mermaid.run({nodes:F}))}trimIndentation(re){if(!re)return"";let D;return re.split("\n").map(F=>{let T=D;return F.length>0&&(T=isNaN(T)?F.search(/\S|$/):Math.min(F.search(/\S|$/),T)),isNaN(D)&&(D=T),T?F.substring(T):F}).join("\n")}}return(Ne=Xe).\u0275fac=function(re){return new(re||Ne)(f.KVO($,8),f.KVO(ce,8),f.KVO(Oe,8),f.KVO(f.Agw),f.KVO(R),f.KVO(V.Qq,8),f.KVO(Z.up))},Ne.\u0275prov=f.jDH({token:Ne,factory:Ne.\u0275fac}),Xe})(),Re=(()=>{var Ne;class Xe{constructor(re,D,F,T,W){this.domSanitizer=re,this.elementRef=D,this.markdownService=F,this.viewContainerRef=T,this.zone=W}transform(re,D){var F=this;return(0,i.A)(function*(){if(null==re)return"";if("string"!=typeof re)return console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof re}]`),re;const T=yield F.markdownService.parse(re,D);return F.zone.onStable.pipe((0,G.$)()).subscribe(()=>F.markdownService.render(F.elementRef.nativeElement,D,F.viewContainerRef)),F.domSanitizer.bypassSecurityTrustHtml(T)})()}}return(Ne=Xe).\u0275fac=function(re){return new(re||Ne)(f.rXU(Z.up,16),f.rXU(f.aKT,16),f.rXU(he,16),f.rXU(f.c1b,16),f.rXU(f.SKi,16))},Ne.\u0275pipe=f.EJ8({name:"markdown",type:Ne,pure:!0,standalone:!0}),Xe})();function pt(Ne){return[he,Ne?.loader??[],Ne?.clipboardOptions??[],Ne?.markedOptions??[],{provide:ce,useValue:Ne?.markedExtensions??[]},{provide:R,useValue:Ne?.sanitize??f.WPN.HTML}]}let Mn=(()=>{var Ne;class Xe{static forRoot(re){return{ngModule:Xe,providers:[pt(re)]}}static forChild(){return{ngModule:Xe}}}return(Ne=Xe).\u0275fac=function(re){return new(re||Ne)},Ne.\u0275mod=f.$C({type:Ne}),Ne.\u0275inj=f.G2t({imports:[u.MD]}),Xe})();var It;!function(Ne){let Xe;var D;let Ot,re;(D=Xe=Ne.SecurityLevel||(Ne.SecurityLevel={})).Strict="strict",D.Loose="loose",D.Antiscript="antiscript",D.Sandbox="sandbox",function(D){D.Base="base",D.Forest="forest",D.Dark="dark",D.Default="default",D.Neutral="neutral"}(Ot=Ne.Theme||(Ne.Theme={})),function(D){D[D.Debug=1]="Debug",D[D.Info=2]="Info",D[D.Warn=3]="Warn",D[D.Error=4]="Error",D[D.Fatal=5]="Fatal"}(re=Ne.LogLevel||(Ne.LogLevel={}))}(It||(It={}))},74902:(en,Ve,E)=>{"use strict";var i;E.d(Ve,{F:()=>C});var u=E(54438),f=E(5442);let C=(()=>{var x;class w{constructor(){this._papa=i||(i=E.t(f,2))}parse(k,S){return this._papa.parse(k,S)}unparse(k,S){return this._papa.unparse(k,S)}setLocalChunkSize(k){this._papa.LocalChunkSize=k}setRemoteChunkSize(k){this._papa.RemoteChunkSize=k}setDefaultDelimiter(k){this._papa.DefaultDelimiter=k}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}}return(x=w).\u0275fac=function(k){return new(k||x)},x.\u0275prov=u.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),w})()},27878:(en,Ve,E)=>{"use strict";E.d(Ve,{wR:()=>d});var i=E(54438);let d=(()=>{var k;class S{}return(k=S).\u0275fac=function(P){return new(P||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),S})()},40832:(en,Ve,E)=>{"use strict";E.d(Ve,{A4:()=>Ue,xI:()=>Ce});var i=E(15114),u=E(21766),f=E(99158);let x={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function w(re){x=re}const d=/[&<>"']/,k=new RegExp(d.source,"g"),S=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,U=new RegExp(S.source,"g"),P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=re=>P[re];function v(re,D){if(D){if(d.test(re))return re.replace(k,y)}else if(S.test(re))return re.replace(U,y);return re}const M=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,K=/(^|[^\[])\^/g;function V(re,D){re="string"==typeof re?re:re.source,D=D||"";const F={replace:(T,W)=>(W=(W="object"==typeof W&&"source"in W?W.source:W).replace(K,"$1"),re=re.replace(T,W),F),getRegex:()=>new RegExp(re,D)};return F}function Z(re){try{re=encodeURI(re).replace(/%25/g,"%")}catch{return null}return re}const J={exec:()=>null};function te(re,D){const T=re.replace(/\|/g,(z,p,I)=>{let Ae=!1,se=p;for(;--se>=0&&"\\"===I[se];)Ae=!Ae;return Ae?"|":" |"}).split(/ \|/);let W=0;if(T[0].trim()||T.shift(),T.length>0&&!T[T.length-1].trim()&&T.pop(),D)if(T.length>D)T.splice(D);else for(;T.length<D;)T.push("");for(;W<T.length;W++)T[W]=T[W].trim().replace(/\\\|/g,"|");return T}function ae(re,D,F){const T=re.length;if(0===T)return"";let W=0;for(;W<T;){const z=re.charAt(T-W-1);if(z!==D||F){if(z===D||!F)break;W++}else W++}return re.slice(0,T-W)}function $(re,D,F,T){const W=D.href,z=D.title?v(D.title):null,p=re[1].replace(/\\([\[\]])/g,"$1");if("!"!==re[0].charAt(0)){T.state.inLink=!0;const I={type:"link",raw:F,href:W,title:z,text:p,tokens:T.inlineTokens(p)};return T.state.inLink=!1,I}return{type:"image",raw:F,href:W,title:z,text:v(p)}}class me{constructor(D){(0,f.A)(this,"options",void 0),(0,f.A)(this,"rules",void 0),(0,f.A)(this,"lexer",void 0),this.options=D||x}space(D){const F=this.rules.block.newline.exec(D);if(F&&F[0].length>0)return{type:"space",raw:F[0]}}code(D){const F=this.rules.block.code.exec(D);if(F){const T=F[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:F[0],codeBlockStyle:"indented",text:this.options.pedantic?T:ae(T,"\n")}}}fences(D){const F=this.rules.block.fences.exec(D);if(F){const T=F[0],W=function H(re,D){const F=re.match(/^(\s+)(?:```)/);if(null===F)return D;const T=F[1];return D.split("\n").map(W=>{const z=W.match(/^\s+/);if(null===z)return W;const[p]=z;return p.length>=T.length?W.slice(T.length):W}).join("\n")}(T,F[3]||"");return{type:"code",raw:T,lang:F[2]?F[2].trim().replace(this.rules.inline._escapes,"$1"):F[2],text:W}}}heading(D){const F=this.rules.block.heading.exec(D);if(F){let T=F[2].trim();if(/#$/.test(T)){const W=ae(T,"#");(this.options.pedantic||!W||/ $/.test(W))&&(T=W.trim())}return{type:"heading",raw:F[0],depth:F[1].length,text:T,tokens:this.lexer.inline(T)}}}hr(D){const F=this.rules.block.hr.exec(D);if(F)return{type:"hr",raw:F[0]}}blockquote(D){const F=this.rules.block.blockquote.exec(D);if(F){const T=ae(F[0].replace(/^ *>[ \t]?/gm,""),"\n"),W=this.lexer.state.top;this.lexer.state.top=!0;const z=this.lexer.blockTokens(T);return this.lexer.state.top=W,{type:"blockquote",raw:F[0],tokens:z,text:T}}}list(D){let F=this.rules.block.list.exec(D);if(F){let T=F[1].trim();const W=T.length>1,z={type:"list",raw:"",ordered:W,start:W?+T.slice(0,-1):"",loose:!1,items:[]};T=W?`\\d{1,9}\\${T.slice(-1)}`:`\\${T}`,this.options.pedantic&&(T=W?T:"[*+-]");const p=new RegExp(`^( {0,3}${T})((?:[\t ][^\\n]*)?(?:\\n|$))`);let I="",Ae="",se=!1;for(;D;){let L=!1;if(!(F=p.exec(D))||this.rules.block.hr.test(D))break;I=F[0],D=D.substring(I.length);let ve=F[2].split("\n",1)[0].replace(/^\t+/,je=>" ".repeat(3*je.length)),ge=D.split("\n",1)[0],et=0;this.options.pedantic?(et=2,Ae=ve.trimStart()):(et=F[2].search(/[^ ]/),et=et>4?1:et,Ae=ve.slice(et),et+=F[1].length);let Pt=!1;if(!ve&&/^ *$/.test(ge)&&(I+=ge+"\n",D=D.substring(ge.length+1),L=!0),!L){const je=new RegExp(`^ {0,${Math.min(3,et-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ht=new RegExp(`^ {0,${Math.min(3,et-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ut=new RegExp(`^ {0,${Math.min(3,et-1)}}(?:\`\`\`|~~~)`),jt=new RegExp(`^ {0,${Math.min(3,et-1)}}#`);for(;D;){const gn=D.split("\n",1)[0];if(ge=gn,this.options.pedantic&&(ge=ge.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),ut.test(ge)||jt.test(ge)||je.test(ge)||Ht.test(D))break;if(ge.search(/[^ ]/)>=et||!ge.trim())Ae+="\n"+ge.slice(et);else{if(Pt||ve.search(/[^ ]/)>=4||ut.test(ve)||jt.test(ve)||Ht.test(ve))break;Ae+="\n"+ge}!Pt&&!ge.trim()&&(Pt=!0),I+=gn+"\n",D=D.substring(gn.length+1),ve=ge.slice(et)}}z.loose||(se?z.loose=!0:/\n *\n *$/.test(I)&&(se=!0));let ln,Rt=null;this.options.gfm&&(Rt=/^\[[ xX]\] /.exec(Ae),Rt&&(ln="[ ] "!==Rt[0],Ae=Ae.replace(/^\[[ xX]\] +/,""))),z.items.push({type:"list_item",raw:I,task:!!Rt,checked:ln,loose:!1,text:Ae,tokens:[]}),z.raw+=I}z.items[z.items.length-1].raw=I.trimEnd(),z.items[z.items.length-1].text=Ae.trimEnd(),z.raw=z.raw.trimEnd();for(let L=0;L<z.items.length;L++)if(this.lexer.state.top=!1,z.items[L].tokens=this.lexer.blockTokens(z.items[L].text,[]),!z.loose){const ve=z.items[L].tokens.filter(et=>"space"===et.type),ge=ve.length>0&&ve.some(et=>/\n.*\n/.test(et.raw));z.loose=ge}if(z.loose)for(let L=0;L<z.items.length;L++)z.items[L].loose=!0;return z}}html(D){const F=this.rules.block.html.exec(D);if(F)return{type:"html",block:!0,raw:F[0],pre:"pre"===F[1]||"script"===F[1]||"style"===F[1],text:F[0]}}def(D){const F=this.rules.block.def.exec(D);if(F){const T=F[1].toLowerCase().replace(/\s+/g," "),W=F[2]?F[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",z=F[3]?F[3].substring(1,F[3].length-1).replace(this.rules.inline._escapes,"$1"):F[3];return{type:"def",tag:T,raw:F[0],href:W,title:z}}}table(D){const F=this.rules.block.table.exec(D);if(F){if(!/[:|]/.test(F[2]))return;const T={type:"table",raw:F[0],header:te(F[1]).map(W=>({text:W,tokens:[]})),align:F[2].replace(/^\||\| *$/g,"").split("|"),rows:F[3]&&F[3].trim()?F[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(T.header.length===T.align.length){let z,p,I,Ae,W=T.align.length;for(z=0;z<W;z++){const se=T.align[z];se&&(T.align[z]=/^ *-+: *$/.test(se)?"right":/^ *:-+: *$/.test(se)?"center":/^ *:-+ *$/.test(se)?"left":null)}for(W=T.rows.length,z=0;z<W;z++)T.rows[z]=te(T.rows[z],T.header.length).map(se=>({text:se,tokens:[]}));for(W=T.header.length,p=0;p<W;p++)T.header[p].tokens=this.lexer.inline(T.header[p].text);for(W=T.rows.length,p=0;p<W;p++)for(Ae=T.rows[p],I=0;I<Ae.length;I++)Ae[I].tokens=this.lexer.inline(Ae[I].text);return T}}}lheading(D){const F=this.rules.block.lheading.exec(D);if(F)return{type:"heading",raw:F[0],depth:"="===F[2].charAt(0)?1:2,text:F[1],tokens:this.lexer.inline(F[1])}}paragraph(D){const F=this.rules.block.paragraph.exec(D);if(F){const T="\n"===F[1].charAt(F[1].length-1)?F[1].slice(0,-1):F[1];return{type:"paragraph",raw:F[0],text:T,tokens:this.lexer.inline(T)}}}text(D){const F=this.rules.block.text.exec(D);if(F)return{type:"text",raw:F[0],text:F[0],tokens:this.lexer.inline(F[0])}}escape(D){const F=this.rules.inline.escape.exec(D);if(F)return{type:"escape",raw:F[0],text:v(F[1])}}tag(D){const F=this.rules.inline.tag.exec(D);if(F)return!this.lexer.state.inLink&&/^<a /i.test(F[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(F[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(F[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(F[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:F[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:F[0]}}link(D){const F=this.rules.inline.link.exec(D);if(F){const T=F[2].trim();if(!this.options.pedantic&&/^</.test(T)){if(!/>$/.test(T))return;const p=ae(T.slice(0,-1),"\\");if((T.length-p.length)%2==0)return}else{const p=function Y(re,D){if(-1===re.indexOf(D[1]))return-1;let F=0;for(let T=0;T<re.length;T++)if("\\"===re[T])T++;else if(re[T]===D[0])F++;else if(re[T]===D[1]&&(F--,F<0))return T;return-1}(F[2],"()");if(p>-1){const Ae=(0===F[0].indexOf("!")?5:4)+F[1].length+p;F[2]=F[2].substring(0,p),F[0]=F[0].substring(0,Ae).trim(),F[3]=""}}let W=F[2],z="";if(this.options.pedantic){const p=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(W);p&&(W=p[1],z=p[3])}else z=F[3]?F[3].slice(1,-1):"";return W=W.trim(),/^</.test(W)&&(W=this.options.pedantic&&!/>$/.test(T)?W.slice(1):W.slice(1,-1)),$(F,{href:W&&W.replace(this.rules.inline._escapes,"$1"),title:z&&z.replace(this.rules.inline._escapes,"$1")},F[0],this.lexer)}}reflink(D,F){let T;if((T=this.rules.inline.reflink.exec(D))||(T=this.rules.inline.nolink.exec(D))){let W=(T[2]||T[1]).replace(/\s+/g," ");if(W=F[W.toLowerCase()],!W){const z=T[0].charAt(0);return{type:"text",raw:z,text:z}}return $(T,W,T[0],this.lexer)}}emStrong(D,F,T=""){let W=this.rules.inline.emStrong.lDelim.exec(D);if(!(!W||W[3]&&T.match(/[\p{L}\p{N}]/u))&&(!W[1]&&!W[2]||!T||this.rules.inline.punctuation.exec(T))){const p=[...W[0]].length-1;let I,Ae,se=p,L=0;const ve="*"===W[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ve.lastIndex=0,F=F.slice(-1*D.length+p);null!=(W=ve.exec(F));){if(I=W[1]||W[2]||W[3]||W[4]||W[5]||W[6],!I)continue;if(Ae=[...I].length,W[3]||W[4]){se+=Ae;continue}if((W[5]||W[6])&&p%3&&!((p+Ae)%3)){L+=Ae;continue}if(se-=Ae,se>0)continue;Ae=Math.min(Ae,Ae+se+L);const ge=[...W[0]][0].length,et=D.slice(0,p+W.index+ge+Ae);if(Math.min(p,Ae)%2){const Rt=et.slice(1,-1);return{type:"em",raw:et,text:Rt,tokens:this.lexer.inlineTokens(Rt)}}const Pt=et.slice(2,-2);return{type:"strong",raw:et,text:Pt,tokens:this.lexer.inlineTokens(Pt)}}}}codespan(D){const F=this.rules.inline.code.exec(D);if(F){let T=F[2].replace(/\n/g," ");const W=/[^ ]/.test(T),z=/^ /.test(T)&&/ $/.test(T);return W&&z&&(T=T.substring(1,T.length-1)),T=v(T,!0),{type:"codespan",raw:F[0],text:T}}}br(D){const F=this.rules.inline.br.exec(D);if(F)return{type:"br",raw:F[0]}}del(D){const F=this.rules.inline.del.exec(D);if(F)return{type:"del",raw:F[0],text:F[2],tokens:this.lexer.inlineTokens(F[2])}}autolink(D){const F=this.rules.inline.autolink.exec(D);if(F){let T,W;return"@"===F[2]?(T=v(F[1]),W="mailto:"+T):(T=v(F[1]),W=T),{type:"link",raw:F[0],text:T,href:W,tokens:[{type:"text",raw:T,text:T}]}}}url(D){let F;if(F=this.rules.inline.url.exec(D)){let T,W;if("@"===F[2])T=v(F[0]),W="mailto:"+T;else{let z;do{z=F[0],F[0]=this.rules.inline._backpedal.exec(F[0])[0]}while(z!==F[0]);T=v(F[0]),W="www."===F[1]?"http://"+F[0]:F[0]}return{type:"link",raw:F[0],text:T,href:W,tokens:[{type:"text",raw:T,text:T}]}}}inlineText(D){const F=this.rules.inline.text.exec(D);if(F){let T;return T=this.lexer.state.inRawBlock?F[0]:v(F[0]),{type:"text",raw:F[0],text:T}}}}const B={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:J,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};B.def=V(B.def).replace("label",B._label).replace("title",B._title).getRegex(),B.bullet=/(?:[*+-]|\d{1,9}[.)])/,B.listItemStart=V(/^( *)(bull) */).replace("bull",B.bullet).getRegex(),B.list=V(B.list).replace(/bull/g,B.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+B.def.source+")").getRegex(),B._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",B._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,B.html=V(B.html,"i").replace("comment",B._comment).replace("tag",B._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),B.lheading=V(B.lheading).replace(/bull/g,B.bullet).getRegex(),B.paragraph=V(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.blockquote=V(B.blockquote).replace("paragraph",B.paragraph).getRegex(),B.normal={...B},B.gfm={...B.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},B.gfm.table=V(B.gfm.table).replace("hr",B.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.gfm.paragraph=V(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",B.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.pedantic={...B.normal,html:V("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",B._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:J,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:V(B.normal._paragraph).replace("hr",B.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",B.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const ce={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:J,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:J,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};ce.punctuation=V(ce.punctuation,"u").replace(/punctuation/g,ce._punctuation).getRegex(),ce.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,ce.anyPunctuation=/\\[punct]/g,ce._escapes=/\\([punct])/g,ce._comment=V(B._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ce.emStrong.lDelim=V(ce.emStrong.lDelim,"u").replace(/punct/g,ce._punctuation).getRegex(),ce.emStrong.rDelimAst=V(ce.emStrong.rDelimAst,"gu").replace(/punct/g,ce._punctuation).getRegex(),ce.emStrong.rDelimUnd=V(ce.emStrong.rDelimUnd,"gu").replace(/punct/g,ce._punctuation).getRegex(),ce.anyPunctuation=V(ce.anyPunctuation,"gu").replace(/punct/g,ce._punctuation).getRegex(),ce._escapes=V(ce._escapes,"gu").replace(/punct/g,ce._punctuation).getRegex(),ce._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ce._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ce.autolink=V(ce.autolink).replace("scheme",ce._scheme).replace("email",ce._email).getRegex(),ce._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ce.tag=V(ce.tag).replace("comment",ce._comment).replace("attribute",ce._attribute).getRegex(),ce._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ce._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ce._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ce.link=V(ce.link).replace("label",ce._label).replace("href",ce._href).replace("title",ce._title).getRegex(),ce.reflink=V(ce.reflink).replace("label",ce._label).replace("ref",B._label).getRegex(),ce.nolink=V(ce.nolink).replace("ref",B._label).getRegex(),ce.reflinkSearch=V(ce.reflinkSearch,"g").replace("reflink",ce.reflink).replace("nolink",ce.nolink).getRegex(),ce.normal={...ce},ce.pedantic={...ce.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:V(/^!?\[(label)\]\((.*?)\)/).replace("label",ce._label).getRegex(),reflink:V(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ce._label).getRegex()},ce.gfm={...ce.normal,escape:V(ce.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ce.gfm.url=V(ce.gfm.url,"i").replace("email",ce.gfm._extended_email).getRegex(),ce.breaks={...ce.gfm,br:V(ce.br).replace("{2,}","*").getRegex(),text:V(ce.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Oe{constructor(D){(0,f.A)(this,"tokens",void 0),(0,f.A)(this,"options",void 0),(0,f.A)(this,"state",void 0),(0,f.A)(this,"tokenizer",void 0),(0,f.A)(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=D||x,this.options.tokenizer=this.options.tokenizer||new me,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const F={block:B.normal,inline:ce.normal};this.options.pedantic?(F.block=B.pedantic,F.inline=ce.pedantic):this.options.gfm&&(F.block=B.gfm,F.inline=this.options.breaks?ce.breaks:ce.gfm),this.tokenizer.rules=F}static get rules(){return{block:B,inline:ce}}static lex(D,F){return new Oe(F).lex(D)}static lexInline(D,F){return new Oe(F).inlineTokens(D)}lex(D){let F;for(D=D.replace(/\r\n|\r/g,"\n"),this.blockTokens(D,this.tokens);F=this.inlineQueue.shift();)this.inlineTokens(F.src,F.tokens);return this.tokens}blockTokens(D,F=[]){let T,W,z,p;for(D=this.options.pedantic?D.replace(/\t/g,"    ").replace(/^ +$/gm,""):D.replace(/^( *)(\t+)/gm,(I,Ae,se)=>Ae+"    ".repeat(se.length));D;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(I=>!!(T=I.call({lexer:this},D,F))&&(D=D.substring(T.raw.length),F.push(T),!0)))){if(T=this.tokenizer.space(D)){D=D.substring(T.raw.length),1===T.raw.length&&F.length>0?F[F.length-1].raw+="\n":F.push(T);continue}if(T=this.tokenizer.code(D)){D=D.substring(T.raw.length),W=F[F.length-1],!W||"paragraph"!==W.type&&"text"!==W.type?F.push(T):(W.raw+="\n"+T.raw,W.text+="\n"+T.text,this.inlineQueue[this.inlineQueue.length-1].src=W.text);continue}if(T=this.tokenizer.fences(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.heading(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.hr(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.blockquote(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.list(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.html(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.def(D)){D=D.substring(T.raw.length),W=F[F.length-1],!W||"paragraph"!==W.type&&"text"!==W.type?this.tokens.links[T.tag]||(this.tokens.links[T.tag]={href:T.href,title:T.title}):(W.raw+="\n"+T.raw,W.text+="\n"+T.raw,this.inlineQueue[this.inlineQueue.length-1].src=W.text);continue}if(T=this.tokenizer.table(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.lheading(D)){D=D.substring(T.raw.length),F.push(T);continue}if(z=D,this.options.extensions&&this.options.extensions.startBlock){let I=1/0;const Ae=D.slice(1);let se;this.options.extensions.startBlock.forEach(L=>{se=L.call({lexer:this},Ae),"number"==typeof se&&se>=0&&(I=Math.min(I,se))}),I<1/0&&I>=0&&(z=D.substring(0,I+1))}if(this.state.top&&(T=this.tokenizer.paragraph(z))){W=F[F.length-1],p&&"paragraph"===W.type?(W.raw+="\n"+T.raw,W.text+="\n"+T.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=W.text):F.push(T),p=z.length!==D.length,D=D.substring(T.raw.length);continue}if(T=this.tokenizer.text(D)){D=D.substring(T.raw.length),W=F[F.length-1],W&&"text"===W.type?(W.raw+="\n"+T.raw,W.text+="\n"+T.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=W.text):F.push(T);continue}if(D){const I="Infinite loop on byte: "+D.charCodeAt(0);if(this.options.silent){console.error(I);break}throw new Error(I)}}return this.state.top=!0,F}inline(D,F=[]){return this.inlineQueue.push({src:D,tokens:F}),F}inlineTokens(D,F=[]){let T,W,z,I,Ae,se,p=D;if(this.tokens.links){const L=Object.keys(this.tokens.links);if(L.length>0)for(;null!=(I=this.tokenizer.rules.inline.reflinkSearch.exec(p));)L.includes(I[0].slice(I[0].lastIndexOf("[")+1,-1))&&(p=p.slice(0,I.index)+"["+"a".repeat(I[0].length-2)+"]"+p.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(I=this.tokenizer.rules.inline.blockSkip.exec(p));)p=p.slice(0,I.index)+"["+"a".repeat(I[0].length-2)+"]"+p.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(I=this.tokenizer.rules.inline.anyPunctuation.exec(p));)p=p.slice(0,I.index)+"++"+p.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;D;)if(Ae||(se=""),Ae=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(L=>!!(T=L.call({lexer:this},D,F))&&(D=D.substring(T.raw.length),F.push(T),!0)))){if(T=this.tokenizer.escape(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.tag(D)){D=D.substring(T.raw.length),W=F[F.length-1],W&&"text"===T.type&&"text"===W.type?(W.raw+=T.raw,W.text+=T.text):F.push(T);continue}if(T=this.tokenizer.link(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.reflink(D,this.tokens.links)){D=D.substring(T.raw.length),W=F[F.length-1],W&&"text"===T.type&&"text"===W.type?(W.raw+=T.raw,W.text+=T.text):F.push(T);continue}if(T=this.tokenizer.emStrong(D,p,se)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.codespan(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.br(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.del(D)){D=D.substring(T.raw.length),F.push(T);continue}if(T=this.tokenizer.autolink(D)){D=D.substring(T.raw.length),F.push(T);continue}if(!this.state.inLink&&(T=this.tokenizer.url(D))){D=D.substring(T.raw.length),F.push(T);continue}if(z=D,this.options.extensions&&this.options.extensions.startInline){let L=1/0;const ve=D.slice(1);let ge;this.options.extensions.startInline.forEach(et=>{ge=et.call({lexer:this},ve),"number"==typeof ge&&ge>=0&&(L=Math.min(L,ge))}),L<1/0&&L>=0&&(z=D.substring(0,L+1))}if(T=this.tokenizer.inlineText(z)){D=D.substring(T.raw.length),"_"!==T.raw.slice(-1)&&(se=T.raw.slice(-1)),Ae=!0,W=F[F.length-1],W&&"text"===W.type?(W.raw+=T.raw,W.text+=T.text):F.push(T);continue}if(D){const L="Infinite loop on byte: "+D.charCodeAt(0);if(this.options.silent){console.error(L);break}throw new Error(L)}}return F}}class Ue{constructor(D){(0,f.A)(this,"options",void 0),this.options=D||x}code(D,F,T){const W=(F||"").match(/^\S*/)?.[0];return D=D.replace(/\n$/,"")+"\n",W?'<pre><code class="language-'+v(W)+'">'+(T?D:v(D,!0))+"</code></pre>\n":"<pre><code>"+(T?D:v(D,!0))+"</code></pre>\n"}blockquote(D){return`<blockquote>\n${D}</blockquote>\n`}html(D,F){return D}heading(D,F,T){return`<h${F}>${D}</h${F}>\n`}hr(){return"<hr>\n"}list(D,F,T){const W=F?"ol":"ul";return"<"+W+(F&&1!==T?' start="'+T+'"':"")+">\n"+D+"</"+W+">\n"}listitem(D,F,T){return`<li>${D}</li>\n`}checkbox(D){return"<input "+(D?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(D){return`<p>${D}</p>\n`}table(D,F){return F&&(F=`<tbody>${F}</tbody>`),"<table>\n<thead>\n"+D+"</thead>\n"+F+"</table>\n"}tablerow(D){return`<tr>\n${D}</tr>\n`}tablecell(D,F){const T=F.header?"th":"td";return(F.align?`<${T} align="${F.align}">`:`<${T}>`)+D+`</${T}>\n`}strong(D){return`<strong>${D}</strong>`}em(D){return`<em>${D}</em>`}codespan(D){return`<code>${D}</code>`}br(){return"<br>"}del(D){return`<del>${D}</del>`}link(D,F,T){const W=Z(D);if(null===W)return T;let z='<a href="'+(D=W)+'"';return F&&(z+=' title="'+F+'"'),z+=">"+T+"</a>",z}image(D,F,T){const W=Z(D);if(null===W)return T;let z=`<img src="${D=W}" alt="${T}"`;return F&&(z+=` title="${F}"`),z+=">",z}text(D){return D}}class qe{strong(D){return D}em(D){return D}codespan(D){return D}del(D){return D}html(D){return D}text(D){return D}link(D,F,T){return""+T}image(D,F,T){return""+T}br(){return""}}class _e{constructor(D){(0,f.A)(this,"options",void 0),(0,f.A)(this,"renderer",void 0),(0,f.A)(this,"textRenderer",void 0),this.options=D||x,this.options.renderer=this.options.renderer||new Ue,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qe}static parse(D,F){return new _e(F).parse(D)}static parseInline(D,F){return new _e(F).parseInline(D)}parse(D,F=!0){let T="";for(let W=0;W<D.length;W++){const z=D[W];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[z.type]){const p=z,I=this.options.extensions.renderers[p.type].call({parser:this},p);if(!1!==I||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type)){T+=I||"";continue}}switch(z.type){case"space":continue;case"hr":T+=this.renderer.hr();continue;case"heading":{const p=z;T+=this.renderer.heading(this.parseInline(p.tokens),p.depth,this.parseInline(p.tokens,this.textRenderer).replace(M,(D,F)=>"colon"===(F=F.toLowerCase())?":":"#"===F.charAt(0)?"x"===F.charAt(1)?String.fromCharCode(parseInt(F.substring(2),16)):String.fromCharCode(+F.substring(1)):""));continue}case"code":T+=this.renderer.code(z.text,z.lang,!!z.escaped);continue;case"table":{const p=z;let I="",Ae="";for(let L=0;L<p.header.length;L++)Ae+=this.renderer.tablecell(this.parseInline(p.header[L].tokens),{header:!0,align:p.align[L]});I+=this.renderer.tablerow(Ae);let se="";for(let L=0;L<p.rows.length;L++){const ve=p.rows[L];Ae="";for(let ge=0;ge<ve.length;ge++)Ae+=this.renderer.tablecell(this.parseInline(ve[ge].tokens),{header:!1,align:p.align[ge]});se+=this.renderer.tablerow(Ae)}T+=this.renderer.table(I,se);continue}case"blockquote":{const I=this.parse(z.tokens);T+=this.renderer.blockquote(I);continue}case"list":{const p=z,I=p.ordered,Ae=p.start,se=p.loose;let L="";for(let ve=0;ve<p.items.length;ve++){const ge=p.items[ve],et=ge.checked,Pt=ge.task;let Rt="";if(ge.task){const ln=this.renderer.checkbox(!!et);se?ge.tokens.length>0&&"paragraph"===ge.tokens[0].type?(ge.tokens[0].text=ln+" "+ge.tokens[0].text,ge.tokens[0].tokens&&ge.tokens[0].tokens.length>0&&"text"===ge.tokens[0].tokens[0].type&&(ge.tokens[0].tokens[0].text=ln+" "+ge.tokens[0].tokens[0].text)):ge.tokens.unshift({type:"text",text:ln+" "}):Rt+=ln+" "}Rt+=this.parse(ge.tokens,se),L+=this.renderer.listitem(Rt,Pt,!!et)}T+=this.renderer.list(L,I,Ae);continue}case"html":T+=this.renderer.html(z.text,z.block);continue;case"paragraph":T+=this.renderer.paragraph(this.parseInline(z.tokens));continue;case"text":{let p=z,I=p.tokens?this.parseInline(p.tokens):p.text;for(;W+1<D.length&&"text"===D[W+1].type;)p=D[++W],I+="\n"+(p.tokens?this.parseInline(p.tokens):p.text);T+=F?this.renderer.paragraph(I):I;continue}default:{const p='Token with "'+z.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return T}parseInline(D,F){F=F||this.renderer;let T="";for(let W=0;W<D.length;W++){const z=D[W];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[z.type]){const p=this.options.extensions.renderers[z.type].call({parser:this},z);if(!1!==p||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(z.type)){T+=p||"";continue}}switch(z.type){case"escape":case"text":T+=F.text(z.text);break;case"html":T+=F.html(z.text);break;case"link":T+=F.link(z.href,z.title,this.parseInline(z.tokens,F));break;case"image":T+=F.image(z.href,z.title,z.text);break;case"strong":T+=F.strong(this.parseInline(z.tokens,F));break;case"em":T+=F.em(this.parseInline(z.tokens,F));break;case"codespan":T+=F.codespan(z.text);break;case"br":T+=F.br();break;case"del":T+=F.del(this.parseInline(z.tokens,F));break;default:{const p='Token with "'+z.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return T}}class ht{constructor(D){(0,f.A)(this,"options",void 0),this.options=D||x}preprocess(D){return D}postprocess(D){return D}}(0,f.A)(ht,"passThroughHooks",new Set(["preprocess","postprocess"]));var Bt=new WeakSet;function R(re,D){return(F,T)=>{const W={...T},z={...this.defaults,...W};!0===this.defaults.async&&!1===W.async&&(z.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),z.async=!0);const p=(0,u.A)(Bt,this,j).call(this,!!z.silent,!!z.async);if(typeof F>"u"||null===F)return p(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof F)return p(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(F)+", string expected"));if(z.hooks&&(z.hooks.options=z),z.async)return Promise.resolve(z.hooks?z.hooks.preprocess(F):F).then(I=>re(I,z)).then(I=>z.walkTokens?Promise.all(this.walkTokens(I,z.walkTokens)).then(()=>I):I).then(I=>D(I,z)).then(I=>z.hooks?z.hooks.postprocess(I):I).catch(p);try{z.hooks&&(F=z.hooks.preprocess(F));const I=re(F,z);z.walkTokens&&this.walkTokens(I,z.walkTokens);let Ae=D(I,z);return z.hooks&&(Ae=z.hooks.postprocess(Ae)),Ae}catch(I){return p(I)}}}function j(re,D){return F=>{if(F.message+="\nPlease report this to https://github.com/markedjs/marked.",re){const T="<p>An error occurred:</p><pre>"+v(F.message+"",!0)+"</pre>";return D?Promise.resolve(T):T}if(D)return Promise.reject(F);throw F}}const he=new class de{constructor(...D){(0,i.A)(this,Bt),(0,f.A)(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),(0,f.A)(this,"options",this.setOptions),(0,f.A)(this,"parse",(0,u.A)(Bt,this,R).call(this,Oe.lex,_e.parse)),(0,f.A)(this,"parseInline",(0,u.A)(Bt,this,R).call(this,Oe.lexInline,_e.parseInline)),(0,f.A)(this,"Parser",_e),(0,f.A)(this,"Renderer",Ue),(0,f.A)(this,"TextRenderer",qe),(0,f.A)(this,"Lexer",Oe),(0,f.A)(this,"Tokenizer",me),(0,f.A)(this,"Hooks",ht),this.use(...D)}walkTokens(D,F){let T=[];for(const W of D)switch(T=T.concat(F.call(this,W)),W.type){case"table":{const z=W;for(const p of z.header)T=T.concat(this.walkTokens(p.tokens,F));for(const p of z.rows)for(const I of p)T=T.concat(this.walkTokens(I.tokens,F));break}case"list":T=T.concat(this.walkTokens(W.items,F));break;default:{const z=W;this.defaults.extensions?.childTokens?.[z.type]?this.defaults.extensions.childTokens[z.type].forEach(p=>{T=T.concat(this.walkTokens(z[p],F))}):z.tokens&&(T=T.concat(this.walkTokens(z.tokens,F)))}}return T}use(...D){const F=this.defaults.extensions||{renderers:{},childTokens:{}};return D.forEach(T=>{const W={...T};if(W.async=this.defaults.async||W.async||!1,T.extensions&&(T.extensions.forEach(z=>{if(!z.name)throw new Error("extension name required");if("renderer"in z){const p=F.renderers[z.name];F.renderers[z.name]=p?function(...I){let Ae=z.renderer.apply(this,I);return!1===Ae&&(Ae=p.apply(this,I)),Ae}:z.renderer}if("tokenizer"in z){if(!z.level||"block"!==z.level&&"inline"!==z.level)throw new Error("extension level must be 'block' or 'inline'");const p=F[z.level];p?p.unshift(z.tokenizer):F[z.level]=[z.tokenizer],z.start&&("block"===z.level?F.startBlock?F.startBlock.push(z.start):F.startBlock=[z.start]:"inline"===z.level&&(F.startInline?F.startInline.push(z.start):F.startInline=[z.start]))}"childTokens"in z&&z.childTokens&&(F.childTokens[z.name]=z.childTokens)}),W.extensions=F),T.renderer){const z=this.defaults.renderer||new Ue(this.defaults);for(const p in T.renderer){const I=T.renderer[p],se=z[p];z[p]=(...L)=>{let ve=I.apply(z,L);return!1===ve&&(ve=se.apply(z,L)),ve||""}}W.renderer=z}if(T.tokenizer){const z=this.defaults.tokenizer||new me(this.defaults);for(const p in T.tokenizer){const I=T.tokenizer[p],se=z[p];z[p]=(...L)=>{let ve=I.apply(z,L);return!1===ve&&(ve=se.apply(z,L)),ve}}W.tokenizer=z}if(T.hooks){const z=this.defaults.hooks||new ht;for(const p in T.hooks){const I=T.hooks[p],se=z[p];z[p]=ht.passThroughHooks.has(p)?L=>{if(this.defaults.async)return Promise.resolve(I.call(z,L)).then(ge=>se.call(z,ge));const ve=I.call(z,L);return se.call(z,ve)}:(...L)=>{let ve=I.apply(z,L);return!1===ve&&(ve=se.apply(z,L)),ve}}W.hooks=z}if(T.walkTokens){const z=this.defaults.walkTokens,p=T.walkTokens;W.walkTokens=function(I){let Ae=[];return Ae.push(p.call(this,I)),z&&(Ae=Ae.concat(z.call(this,I))),Ae}}this.defaults={...this.defaults,...W}}),this}setOptions(D){return this.defaults={...this.defaults,...D},this}lexer(D,F){return Oe.lex(D,F??this.defaults)}parser(D,F){return _e.parse(D,F??this.defaults)}};function Ce(re,D){return he.parse(re,D)}Ce.options=Ce.setOptions=function(re){return he.setOptions(re),w(Ce.defaults=he.defaults),Ce},Ce.getDefaults=function C(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Ce.defaults=x,Ce.use=function(...re){return he.use(...re),w(Ce.defaults=he.defaults),Ce},Ce.walkTokens=function(re,D){return he.walkTokens(re,D)},Ce.parseInline=he.parseInline,Ce.Parser=_e,Ce.parser=_e.parse,Ce.Renderer=Ue,Ce.TextRenderer=qe,Ce.Lexer=Oe,Ce.lexer=Oe.lex,Ce.Tokenizer=me,Ce.Hooks=ht,Ce.parse=Ce},93163:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>R});var i=E(28407),u=E(15114),f=E(99158),C=E(90719);function x(F,T,W){(0,C.A)(F,T),T.set(F,W)}var w=E(21766);function d(F,T,W){return W((0,w.A)(F,T))}function k(F,T){return F.get((0,w.A)(F,T))}function S(F,T,W){return F.set((0,w.A)(F,T),W),W}var U=E(91677);class y extends Error{constructor(T){super(T),this.name="TimeoutError"}}class v extends Error{constructor(T){super(),this.name="AbortError",this.message=T}}const M=F=>void 0===globalThis.DOMException?new v(F):new DOMException(F),G=F=>{const T=void 0===F.reason?M("This operation was aborted."):F.reason;return T instanceof Error?T:M(T)};var Z=new WeakMap;class J{constructor(){x(this,Z,[])}enqueue(T,W){const z={priority:(W={priority:0,...W}).priority,run:T};if(this.size&&k(Z,this)[this.size-1].priority>=W.priority)return void k(Z,this).push(z);const p=function V(F,T,W){let z=0,p=F.length;for(;p>0;){const I=Math.trunc(p/2);let Ae=z+I;W(F[Ae],T)<=0?(z=++Ae,p-=I+1):p=I}return z}(k(Z,this),z,(I,Ae)=>Ae.priority-I.priority);k(Z,this).splice(p,0,z)}dequeue(){return k(Z,this).shift()?.run}filter(T){return k(Z,this).filter(W=>W.priority===T.priority).map(W=>W.run)}get size(){return k(Z,this).length}}var te=new WeakMap,ae=new WeakMap,Y=new WeakMap,$=new WeakMap,H=new WeakMap,me=new WeakMap,B=new WeakMap,ce=new WeakMap,Oe=new WeakMap,Ue=new WeakMap,qe=new WeakMap,_e=new WeakMap,ht=new WeakMap,Bt=new WeakMap,de=new WeakSet;class R extends U{constructor(T){if(super(),(0,u.A)(this,de),x(this,te,void 0),x(this,ae,void 0),x(this,Y,0),x(this,$,void 0),x(this,H,void 0),x(this,me,0),x(this,B,void 0),x(this,ce,void 0),x(this,Oe,void 0),x(this,Ue,void 0),x(this,qe,0),x(this,_e,void 0),x(this,ht,void 0),x(this,Bt,void 0),(0,f.A)(this,"timeout",void 0),!("number"==typeof(T={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:J,...T}).intervalCap&&T.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${T.intervalCap?.toString()??""}\` (${typeof T.intervalCap})`);if(void 0===T.interval||!(Number.isFinite(T.interval)&&T.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${T.interval?.toString()??""}\` (${typeof T.interval})`);S(te,this,T.carryoverConcurrencyCount),S(ae,this,T.intervalCap===Number.POSITIVE_INFINITY||0===T.interval),S($,this,T.intervalCap),S(H,this,T.interval),S(Oe,this,new T.queueClass),S(Ue,this,T.queueClass),this.concurrency=T.concurrency,this.timeout=T.timeout,S(Bt,this,!0===T.throwOnTimeout),S(ht,this,!1===T.autoStart)}get concurrency(){return k(_e,this)}set concurrency(T){if(!("number"==typeof T&&T>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${T}\` (${typeof T})`);S(_e,this,T),(0,w.A)(de,this,Ne).call(this)}add(T,W={}){var z=this;return(0,i.A)(function*(){return W={timeout:z.timeout,throwOnTimeout:k(Bt,z),...W},new Promise((p,I)=>{k(Oe,z).enqueue((0,i.A)(function*(){var Ae,L;S(qe,z,(Ae=k(qe,z),++Ae)),S(Y,z,(L=k(Y,z),++L));try{W.signal?.throwIfAborted();let ge=T({signal:W.signal});W.timeout&&(ge=function K(F,T){const{milliseconds:W,fallback:z,message:p,customTimers:I={setTimeout,clearTimeout}}=T;let Ae;const L=new Promise((ve,ge)=>{if("number"!=typeof W||1!==Math.sign(W))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${W}\``);if(T.signal){const{signal:Pt}=T;Pt.aborted&&ge(G(Pt)),Pt.addEventListener("abort",()=>{ge(G(Pt))})}if(W===Number.POSITIVE_INFINITY)return void F.then(ve,ge);const et=new y;Ae=I.setTimeout.call(void 0,()=>{if(z)try{ve(z())}catch(Pt){ge(Pt)}else"function"==typeof F.cancel&&F.cancel(),!1===p?ve():p instanceof Error?ge(p):(et.message=p??`Promise timed out after ${W} milliseconds`,ge(et))},W),(0,i.A)(function*(){try{ve(yield F)}catch(Pt){ge(Pt)}})()}).finally(()=>{L.clear()});return L.clear=()=>{I.clearTimeout.call(void 0,Ae),Ae=void 0},L}(Promise.resolve(ge),{milliseconds:W.timeout})),W.signal&&(ge=Promise.race([ge,(0,w.A)(de,z,Xe).call(z,W.signal)]));const et=yield ge;p(et),z.emit("completed",et)}catch(ge){if(ge instanceof y&&!W.throwOnTimeout)return void p();I(ge),z.emit("error",ge)}finally{(0,w.A)(de,z,Ce).call(z)}}),W),z.emit("add"),(0,w.A)(de,z,zt).call(z)})})()}addAll(T,W){var z=this;return(0,i.A)(function*(){return Promise.all(T.map(function(){var p=(0,i.A)(function*(I){return z.add(I,W)});return function(I){return p.apply(this,arguments)}}()))})()}start(){return k(ht,this)?(S(ht,this,!1),(0,w.A)(de,this,Ne).call(this),this):this}pause(){S(ht,this,!0)}clear(){S(Oe,this,new(k(Ue,this)))}onEmpty(){var T=this;return(0,i.A)(function*(){0!==k(Oe,T).size&&(yield(0,w.A)(de,T,re).call(T,"empty"))})()}onSizeLessThan(T){var W=this;return(0,i.A)(function*(){k(Oe,W).size<T||(yield(0,w.A)(de,W,re).call(W,"next",()=>k(Oe,W).size<T))})()}onIdle(){var T=this;return(0,i.A)(function*(){0===k(qe,T)&&0===k(Oe,T).size||(yield(0,w.A)(de,T,re).call(T,"idle"))})()}get size(){return k(Oe,this).size}sizeBy(T){return k(Oe,this).filter(T).length}get pending(){return k(qe,this)}get isPaused(){return k(ht,this)}}function j(F){return k(ae,F)||k(Y,F)<k($,F)}function he(F){return k(qe,F)<k(_e,F)}function Ce(){var F;S(qe,this,(F=k(qe,this),--F)),(0,w.A)(de,this,zt).call(this),this.emit("next")}function Re(){(0,w.A)(de,this,It).call(this),(0,w.A)(de,this,Mn).call(this),S(ce,this,void 0)}function pt(F){const T=Date.now();if(void 0===k(B,F)){const W=k(me,F)-T;if(!(W<0))return void 0===k(ce,F)&&S(ce,F,setTimeout(()=>{(0,w.A)(de,F,Re).call(F)},W)),!0;S(Y,F,k(te,F)?k(qe,F):0)}return!1}function zt(){if(0===k(Oe,this).size)return k(B,this)&&clearInterval(k(B,this)),S(B,this,void 0),this.emit("empty"),0===k(qe,this)&&this.emit("idle"),!1;if(!k(ht,this)){const F=!d(de,this,pt);if(d(de,this,j)&&d(de,this,he)){const T=k(Oe,this).dequeue();return!!T&&(this.emit("active"),T(),F&&(0,w.A)(de,this,Mn).call(this),!0)}}return!1}function Mn(){k(ae,this)||void 0!==k(B,this)||(S(B,this,setInterval(()=>{(0,w.A)(de,this,It).call(this)},k(H,this))),S(me,this,Date.now()+k(H,this)))}function It(){0===k(Y,this)&&0===k(qe,this)&&k(B,this)&&(clearInterval(k(B,this)),S(B,this,void 0)),S(Y,this,k(te,this)?k(qe,this):0),(0,w.A)(de,this,Ne).call(this)}function Ne(){for(;(0,w.A)(de,this,zt).call(this););}function Xe(F){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,i.A)(function*(F){return new Promise((T,W)=>{F.addEventListener("abort",()=>{W(F.reason)},{once:!0})})})).apply(this,arguments)}function re(F,T){return D.apply(this,arguments)}function D(){return(D=(0,i.A)(function*(F,T){return new Promise(W=>{const z=()=>{T&&!T()||(this.off(F,z),W())};this.on(F,z)})})).apply(this,arguments)}},70432:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>S});var i=E(28407),u=E(86179);const f=Object.prototype.toString,C=P=>"[object Error]"===f.call(P),x=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);class d extends Error{constructor(y){super(),y instanceof Error?(this.originalError=y,({message:y}=y)):(this.originalError=new Error(y),this.originalError.stack=this.stack),this.name="AbortError",this.message=y}}const k=(P,y,v)=>{const M=v.retries-(y-1);return P.attemptNumber=y,P.retriesLeft=M,P};function S(P,y){return U.apply(this,arguments)}function U(){return U=(0,i.A)(function*(P,y){return new Promise((v,M)=>{y={onFailedAttempt(){},retries:10,shouldRetry:()=>!0,...y};const G=u.operation(y),K=()=>{G.stop(),M(y.signal?.reason)};y.signal&&!y.signal.aborted&&y.signal.addEventListener("abort",K,{once:!0});const V=()=>{y.signal?.removeEventListener("abort",K),G.stop()};G.attempt(function(){var Z=(0,i.A)(function*(J){try{const te=yield P(J);V(),v(te)}catch(te){try{if(!(te instanceof Error))throw new TypeError(`Non-error was thrown: "${te}". You should only throw errors.`);if(te instanceof d)throw te.originalError;if(te instanceof TypeError&&!function w(P){return!(!P||!C(P)||"TypeError"!==P.name||"string"!=typeof P.message)&&("Load failed"===P.message?void 0===P.stack:x.has(P.message))}(te))throw te;if(k(te,J,y),(yield y.shouldRetry(te))||(G.stop(),M(te)),yield y.onFailedAttempt(te),!G.retry(te))throw G.mainError()}catch(ae){k(ae,J,y),V(),M(ae)}}});return function(J){return Z.apply(this,arguments)}}())})}),U.apply(this,arguments)}},21766:(en,Ve,E)=>{"use strict";function i(u,f,C){if("function"==typeof u?u===f:u.has(f))return arguments.length<3?f:C;throw new TypeError("Private element is not present on this object")}E.d(Ve,{A:()=>i})},28407:(en,Ve,E)=>{"use strict";function i(f,C,x,w,d,k,S){try{var U=f[k](S),P=U.value}catch(y){return void x(y)}U.done?C(P):Promise.resolve(P).then(w,d)}function u(f){return function(){var C=this,x=arguments;return new Promise(function(w,d){var k=f.apply(C,x);function S(P){i(k,w,d,S,U,"next",P)}function U(P){i(k,w,d,S,U,"throw",P)}S(void 0)})}}E.d(Ve,{A:()=>u})},90719:(en,Ve,E)=>{"use strict";function i(u,f){if(f.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}E.d(Ve,{A:()=>i})},15114:(en,Ve,E)=>{"use strict";E.d(Ve,{A:()=>u});var i=E(90719);function u(f,C){(0,i.A)(f,C),C.add(f)}},99158:(en,Ve,E)=>{"use strict";function i(x){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function C(x,w,d){return(w=function f(x){var w=function u(x,w){if("object"!=i(x)||!x)return x;var d=x[Symbol.toPrimitive];if(void 0!==d){var k=d.call(x,w||"default");if("object"!=i(k))return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===w?String:Number)(x)}(x,"string");return"symbol"==i(w)?w:String(w)}(w))in x?Object.defineProperty(x,w,{value:d,enumerable:!0,configurable:!0,writable:!0}):x[w]=d,x}E.d(Ve,{A:()=>C})},31635:(en,Ve,E)=>{"use strict";function y(j,he,Ce,Re){return new(Ce||(Ce=Promise))(function(zt,Mn){function It(Ot){try{Xe(Re.next(Ot))}catch(re){Mn(re)}}function Ne(Ot){try{Xe(Re.throw(Ot))}catch(re){Mn(re)}}function Xe(Ot){Ot.done?zt(Ot.value):function pt(zt){return zt instanceof Ce?zt:new Ce(function(Mn){Mn(zt)})}(Ot.value).then(It,Ne)}Xe((Re=Re.apply(j,he||[])).next())})}function ae(j){return this instanceof ae?(this.v=j,this):new ae(j)}function Y(j,he,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,Re=Ce.apply(j,he||[]),zt=[];return pt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),It("next"),It("throw"),It("return",function Mn(F){return function(T){return Promise.resolve(T).then(F,re)}}),pt[Symbol.asyncIterator]=function(){return this},pt;function It(F,T){Re[F]&&(pt[F]=function(W){return new Promise(function(z,p){zt.push([F,W,z,p])>1||Ne(F,W)})},T&&(pt[F]=T(pt[F])))}function Ne(F,T){try{!function Xe(F){F.value instanceof ae?Promise.resolve(F.value.v).then(Ot,re):D(zt[0][2],F)}(Re[F](T))}catch(W){D(zt[0][3],W)}}function Ot(F){Ne("next",F)}function re(F){Ne("throw",F)}function D(F,T){F(T),zt.shift(),zt.length&&Ne(zt[0][0],zt[0][1])}}function H(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,he=j[Symbol.asyncIterator];return he?he.call(j):(j=function K(j){var he="function"==typeof Symbol&&Symbol.iterator,Ce=he&&j[he],Re=0;if(Ce)return Ce.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&Re>=j.length&&(j=void 0),{value:j&&j[Re++],done:!j}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),Ce={},Re("next"),Re("throw"),Re("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Re(zt){Ce[zt]=j[zt]&&function(Mn){return new Promise(function(It,Ne){!function pt(zt,Mn,It,Ne){Promise.resolve(Ne).then(function(Xe){zt({value:Xe,done:It})},Mn)}(It,Ne,(Mn=j[zt](Mn)).done,Mn.value)})}}}E.d(Ve,{AQ:()=>Y,N3:()=>ae,sH:()=>y,xN:()=>H}),"function"==typeof SuppressedError&&SuppressedError}}]);