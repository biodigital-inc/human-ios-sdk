(self.webpackChunkhuman_studio_next=self.webpackChunkhuman_studio_next||[]).push([[502,449],{65763:(ln,qe,w)=>{"use strict";w.d(qe,{rc:()=>sr,En:()=>zn,rK:()=>rr,l6:()=>ko,MD:()=>zs,Um:()=>qo,Uw:()=>Lr,il:()=>Go,Mz:()=>Ds,rM:()=>to,xi:()=>gr});var r=w(54438),s=w(60391);let v=(()=>{class tt{constructor(){this.bootstrap$=new s.m(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return tt.\u0275fac=function(jt){return new(jt||tt)},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();function S(tt,gn){return tt===gn}function C(tt,gn=S){let jt=null,cn=null;function je(){return function M(tt,gn,jt){if(null===gn||null===jt||gn.length!==jt.length)return!1;const cn=gn.length;for(let je=0;je<cn;je++)if(!tt(gn[je],jt[je]))return!1;return!0}(gn,jt,arguments)||(cn=tt.apply(null,arguments)),jt=arguments,cn}return je.reset=function(){jt=null,cn=null},je}let d=(()=>{class tt{static set(jt){this._value=jt}static pop(){const jt=this._value;return this._value={},jt}}return tt._value={},tt})();const F=new r.nKC("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>d.pop()}),P=new r.nKC("\u0275NGXS_STATE_FACTORY"),G=new r.nKC("\u0275NGXS_STATE_CONTEXT_FACTORY");var N=w(60177),x=w(2573),m=w(85052),E=w(29160),L=w(15877),ae=w(46104),U=w(45326),Z=w(2515),ne=w(21472),q=w(28454),le=w(14264),z=w(36110),J=w(20075),he=w(49784),we=w(17365),k=w(81954),ue=w(15210),Ie=w(66196);function ke(tt,gn){return gn?jt=>jt.pipe(ke((cn,je)=>(0,k.Tg)(tt(cn,je)).pipe((0,z.T)((It,Qt)=>gn(cn,It,je,Qt))))):(0,ue.N)((jt,cn)=>{let je=0,It=null,Qt=!1;jt.subscribe((0,Ie._)(cn,qn=>{It||(It=(0,Ie._)(cn,void 0,()=>{It=null,Qt&&cn.complete()}),(0,k.Tg)(tt(qn,je++)).subscribe(It))},()=>{Qt=!0,!It&&cn.complete()}))})}var Ze=w(11756),Ce=w(47369),Nt=w(28577),Kt=w(37925),me=w(21082),ee=w(39705),fe=w(35160),ye=w(1670);function j(tt){return tt.constructor&&tt.constructor.type?tt.constructor.type:tt.type}const I=(tt,gn,jt)=>{tt=Object.assign({},tt);const cn=gn.split("."),je=cn.length-1;return cn.reduce((It,Qt,qn)=>(It[Qt]=qn===je?jt:Array.isArray(It[Qt])?It[Qt].slice():Object.assign({},It[Qt]),It&&It[Qt]),tt),tt},xe=(tt,gn)=>gn.split(".").reduce((jt,cn)=>jt&&jt[cn],tt),ie=tt=>tt&&"object"==typeof tt&&!Array.isArray(tt),D=(tt,...gn)=>{if(!gn.length)return tt;const jt=gn.shift();if(ie(tt)&&ie(jt))for(const cn in jt)ie(jt[cn])?(tt[cn]||Object.assign(tt,{[cn]:{}}),D(tt[cn],jt[cn])):Object.assign(tt,{[cn]:jt[cn]});return D(tt,...gn)};let st=(()=>{class tt{constructor(jt,cn){this._ngZone=jt,this._platformId=cn}enter(jt){return(0,N.Vy)(this._platformId)?this.runInsideAngular(jt):this.runOutsideAngular(jt)}leave(jt){return this.runInsideAngular(jt)}runInsideAngular(jt){return r.SKi.isInAngularZone()?jt():this._ngZone.run(jt)}runOutsideAngular(jt){return r.SKi.isInAngularZone()?this._ngZone.runOutsideAngular(jt):jt()}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(r.SKi),r.KVO(r.Agw))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();const Ut=new r.nKC("ROOT_OPTIONS"),Ne=new r.nKC("ROOT_STATE_TOKEN"),zt=new r.nKC("FEATURE_STATE_TOKEN"),Zt=new r.nKC("NGXS_PLUGINS"),Cn="NGXS_META",Zn="NGXS_OPTIONS_META",br="NGXS_SELECTOR_META";let Mr=(()=>{class tt{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=st}}return tt.\u0275fac=function(jt){return new(jt||tt)},tt.\u0275prov=r.jDH({token:tt,factory:function(jt){let cn=null;return jt?cn=new jt:(je=r.KVO(Ut),cn=D(new tt,je)),cn;var je},providedIn:"root"}),tt})();class yn{constructor(gn,jt,cn){this.previousValue=gn,this.currentValue=jt,this.firstChange=cn}}let St=(()=>{class tt{enter(jt){return jt()}leave(jt){return jt()}}return tt.\u0275fac=function(jt){return new(jt||tt)},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();const kt=new r.nKC("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),Mt=new r.nKC("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const tt=(0,r.WQX)(r.duS),gn=tt.get(kt);return tt.get(gn||(typeof r.JZv.Zone<"u"?st:St))}});function bt(tt){if(!tt.hasOwnProperty(Cn)){const gn={name:null,actions:{},defaults:{},path:null,makeRootSelector:jt=>jt.getStateGetter(gn.name),children:[]};Object.defineProperty(tt,Cn,{value:gn})}return sn(tt)}function sn(tt){return tt[Cn]}function Qe(tt){return tt[br]}function vt(tt,gn){return gn&&gn.compatibility&&gn.compatibility.strictContentSecurityPolicy?function Lt(tt){const gn=tt.slice();return jt=>gn.reduce((cn,je)=>cn&&cn[je],jt)}(tt):function Mn(tt){const gn=tt;let jt="store."+gn[0],cn=0;const je=gn.length;let It=jt;for(;++cn<je;)It=It+" && "+(jt=jt+"."+gn[cn]);return new Function("store","return "+It+";")}(tt)}function gr(...tt){return wi(tt,["DISPATCHED"])}function to(...tt){return wi(tt,["SUCCESSFUL","CANCELED","ERRORED"],Uo)}function wi(tt,gn,jt=So){const cn=function yo(tt){return tt.reduce((gn,jt)=>(gn[j(jt)]=!0,gn),{})}(tt),je=gn&&function ts(tt){return tt.reduce((gn,jt)=>(gn[jt]=!0,gn),{})}(gn);return function(It){return It.pipe(function _o(tt,gn){return(0,le.p)(jt=>{const cn=j(jt.action);return tt[cn]&&(!gn||gn[jt.status])})}(cn,je),jt())}}function Uo(){return(0,z.T)(({action:tt,status:gn,error:jt})=>({action:tt,result:{successful:"SUCCESSFUL"===gn,canceled:"CANCELED"===gn,error:jt}}))}function So(){return(0,z.T)(tt=>tt.action)}function Xo(tt){return gn=>new x.c(jt=>gn.subscribe({next(cn){tt.leave(()=>jt.next(cn))},error(cn){tt.leave(()=>jt.error(cn))},complete(){tt.leave(()=>jt.complete())}}))}let Io=(()=>{class tt{constructor(jt){this._executionStrategy=jt}enter(jt){return this._executionStrategy.enter(jt)}leave(jt){return this._executionStrategy.leave(jt)}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(Mt))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();function Fe(tt){const gn=[];let jt=!1;return function(...je){if(jt)gn.unshift(je);else{for(jt=!0,tt(...je);gn.length>0;){const It=gn.pop();It&&tt(...It)}jt=!1}}}class _t extends m.B{constructor(){super(...arguments),this._orderedNext=Fe(gn=>super.next(gn))}next(gn){this._orderedNext(gn)}}class bn extends E.t{constructor(gn){super(gn),this._orderedNext=Fe(jt=>super.next(jt)),this._currentValue=gn}getValue(){return this._currentValue}next(gn){this._currentValue=gn,this._orderedNext(gn)}}let xn=(()=>{class tt extends _t{ngOnDestroy(){this.complete()}}return tt.\u0275fac=(()=>{let gn;return function(cn){return(gn||(gn=r.xGo(tt)))(cn||tt)}})(),tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),zn=(()=>{class tt extends x.c{constructor(jt,cn){const je=jt.pipe(Xo(cn),(0,J.u)());super(It=>{const Qt=je.subscribe({next:qn=>It.next(qn),error:qn=>It.error(qn),complete:()=>It.complete()});It.add(Qt)})}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(xn),r.KVO(Io))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();const ir=tt=>(...gn)=>tt.shift()(...gn,(...cn)=>ir(tt)(...cn));let et=(()=>{class tt{constructor(jt){this._injector=jt,this._errorHandler=null}reportErrorSafely(jt){null===this._errorHandler&&(this._errorHandler=this._injector.get(r.zcH));try{this._errorHandler.handleError(jt)}catch{}}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(r.zZn))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),$t=(()=>{class tt extends bn{constructor(){super({})}ngOnDestroy(){this.complete()}}return tt.\u0275fac=function(jt){return new(jt||tt)},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),Vn=(()=>{class tt{constructor(jt,cn){this._parentManager=jt,this._pluginHandlers=cn,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const jt=this.getPluginHandlers();this.rootPlugins.push(...jt)}getPluginHandlers(){return(this._pluginHandlers||[]).map(cn=>cn.handle?cn.handle.bind(cn):cn)}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(tt,12),r.KVO(Zt,8))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac}),tt})(),Tr=(()=>{class tt extends m.B{}return tt.\u0275fac=(()=>{let gn;return function(cn){return(gn||(gn=r.xGo(tt)))(cn||tt)}})(),tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),ei=(()=>{class tt{constructor(jt,cn,je,It,Qt,qn){this._actions=jt,this._actionResults=cn,this._pluginManager=je,this._stateStream=It,this._ngxsExecutionStrategy=Qt,this._internalErrorReporter=qn}dispatch(jt){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(jt)).pipe(function Pr(tt,gn){return jt=>{let cn=!1;return jt.subscribe({error:je=>{gn.enter(()=>Promise.resolve().then(()=>{cn||gn.leave(()=>tt.reportErrorSafely(je))}))}}),new x.c(je=>(cn=!0,jt.pipe(Xo(gn)).subscribe(je)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(jt){return Array.isArray(jt)?0===jt.length?(0,L.of)(this._stateStream.getValue()):(0,ae.p)(jt.map(cn=>this.dispatchSingle(cn))):this.dispatchSingle(jt)}dispatchSingle(jt){const cn=this._stateStream.getValue();return ir([...this._pluginManager.plugins,(It,Qt)=>{It!==cn&&this._stateStream.next(It);const qn=this.getActionResultStream(Qt);return qn.subscribe(hr=>this._actions.next(hr)),this._actions.next({action:Qt,status:"DISPATCHED"}),this.createDispatchObservable(qn)}])(cn,jt).pipe((0,he.t)())}getActionResultStream(jt){return this._actionResults.pipe((0,le.p)(cn=>cn.action===jt&&"DISPATCHED"!==cn.status),(0,we.s)(1),(0,he.t)())}createDispatchObservable(jt){return jt.pipe(ke(cn=>{switch(cn.status){case"SUCCESSFUL":return(0,L.of)(this._stateStream.getValue());case"ERRORED":return(0,U.$)(cn.error);default:return Z.w}})).pipe((0,he.t)())}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(xn),r.KVO(Tr),r.KVO(Vn),r.KVO($t),r.KVO(Io),r.KVO(et))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),Ri=(()=>{class tt{constructor(jt,cn,je){this._stateStream=jt,this._dispatcher=cn,this._config=je}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:cn=>this._stateStream.next(cn),dispatch:cn=>this._dispatcher.dispatch(cn)}}setStateToTheCurrentWithNew(jt){const cn=this.getRootStateOperations(),je=cn.getState();cn.setState(Object.assign(Object.assign({},je),jt.defaults))}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO($t),r.KVO(ei),r.KVO(Mr))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),yi=(()=>{class tt{constructor(jt){this._internalStateOperations=jt}createStateContext(jt){const cn=this._internalStateOperations.getRootStateOperations();return{getState:()=>Co(cn.getState(),jt.path),patchState(je){const It=cn.getState(),Qt=function Ci(tt){return gn=>{const jt=Object.assign({},gn);for(const cn in tt)jt[cn]=tt[cn];return jt}}(je);return so(cn,It,Qt,jt.path)},setState(je){const It=cn.getState();return function yt(tt){return"function"==typeof tt}(je)?so(cn,It,je,jt.path):Yi(cn,It,je,jt.path)},dispatch:je=>cn.dispatch(je)}}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(Ri))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();function Yi(tt,gn,jt,cn){const je=I(gn,cn,jt);return tt.setState(je),je}function so(tt,gn,jt,cn){return Yi(tt,gn,jt(Co(gn,cn)),cn)}function Co(tt,gn){return xe(tt,gn)}new RegExp("^[a-zA-Z0-9_]+$");let Hn=(()=>{class tt{}return tt.type="@@INIT",tt})(),Dr=(()=>{class tt{constructor(jt){this.addedStates=jt}}return tt.type="@@UPDATE_STATE",tt})();new r.nKC("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let vo=(()=>{class tt{constructor(jt,cn,je,It,Qt,qn,hr){this._injector=jt,this._config=cn,this._parentFactory=je,this._actions=It,this._actionResults=Qt,this._stateContextFactory=qn,this._initialState=hr,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=C(()=>{const yr=this;function Hr(oi){const qr=yr.statePaths[oi];return qr?vt(qr.split("."),yr._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(oi){let qr=Hr(oi);return qr||((...Ui)=>(qr||(qr=Hr(oi)),qr?qr(...Ui):void 0))},getSelectorOptions:oi=>Object.assign(Object.assign({},yr._config.selectorOptions),oi||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(jt){let cn=jt;return Array.isArray(jt)?cn=jt.slice():function Pn(tt){return"object"==typeof tt&&null!==tt||"function"==typeof tt}(jt)?cn=Object.assign({},jt):void 0===jt&&(cn={}),cn}ngOnDestroy(){var jt;null===(jt=this._actionsSubscription)||void 0===jt||jt.unsubscribe()}add(jt){const{newStates:cn}=this.addToStatesMap(jt);if(!cn.length)return[];const je=function ze(tt){const gn=jt=>tt.find(je=>je===jt)[Cn].name;return tt.reduce((jt,cn)=>{const{name:je,children:It}=cn[Cn];return jt[je]=(It||[]).map(gn),jt},{})}(cn),It=function At(tt){const gn=[],jt={},cn=(je,It=[])=>{Array.isArray(It)||(It=[]),It.push(je),jt[je]=!0,tt[je].forEach(Qt=>{jt[Qt]||cn(Qt,It.slice(0))}),gn.indexOf(je)<0&&gn.push(je)};return Object.keys(tt).forEach(je=>cn(je)),gn.reverse()}(je),Qt=function Ye(tt,gn={}){const jt=(cn,je)=>{for(const It in cn)if(cn.hasOwnProperty(It)&&cn[It].indexOf(je)>=0){const Qt=jt(cn,It);return null!==Qt?`${Qt}.${It}`:It}return null};for(const cn in tt)if(tt.hasOwnProperty(cn)){const je=jt(tt,cn);gn[cn]=je?`${je}.${cn}`:cn}return gn}(je),qn=function nn(tt){return tt.reduce((gn,jt)=>(gn[jt[Cn].name]=jt,gn),{})}(cn),hr=[];for(const yr of It){const Hr=qn[yr],jr=Qt[yr],oi=Hr[Cn];this.addRuntimeInfoToMeta(oi,jr);const qr={name:yr,path:jr,isInitialised:!1,actions:oi.actions,instance:this._injector.get(Hr),defaults:tt._cloneDefaults(oi.defaults)};this.hasBeenMountedAndBootstrapped(yr,jr)||hr.push(qr),this.states.push(qr)}return hr}addAndReturnDefaults(jt){const je=this.add(jt||[]);return{defaults:je.reduce((Qt,qn)=>I(Qt,qn.path,qn.defaults),{}),states:je}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const jt=new m.B;this._actionsSubscription=this._actions.pipe((0,le.p)(cn=>"DISPATCHED"===cn.status),(0,Ze.Z)(cn=>{jt.next(cn);const je=cn.action;return this.invokeActions(jt,je).pipe((0,z.T)(()=>({action:je,status:"SUCCESSFUL"})),(0,Ce.U)({action:je,status:"CANCELED"}),(0,Nt.W)(It=>(0,L.of)({action:je,status:"ERRORED",error:It})))})).subscribe(cn=>this._actionResults.next(cn))}invokeActions(jt,cn){const je=j(cn),It=[];let Qt=!1;for(const qn of this.states){const hr=qn.actions[je];if(hr)for(const yr of hr){const Hr=this._stateContextFactory.createStateContext(qn);try{let jr=qn.instance[yr.fn](Hr,cn);jr instanceof Promise&&(jr=(0,ne.H)(jr)),(0,q.A)(jr)?(jr=jr.pipe((0,Ze.Z)(oi=>oi instanceof Promise?(0,ne.H)(oi):(0,q.A)(oi)?oi:(0,L.of)(oi)),(0,Ce.U)({})),yr.options.cancelUncompleted&&(jr=jr.pipe((0,Kt.Q)(jt.pipe(gr(cn)))))):jr=(0,L.of)({}).pipe((0,he.t)()),It.push(jr)}catch(jr){It.push((0,U.$)(jr))}Qt=!0}}return It.length||It.push((0,L.of)({})),(0,ae.p)(It)}addToStatesMap(jt){const cn=[],je=this.statesByName;for(const It of jt){const Qt=sn(It).name;!je[Qt]&&(cn.push(It),je[Qt]=It)}return{newStates:cn}}addRuntimeInfoToMeta(jt,cn){this.statePaths[jt.name]=cn,jt.path=cn}hasBeenMountedAndBootstrapped(jt,cn){const je=void 0!==xe(this._initialState,cn);return this.statesByName[jt]&&je}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(r.zZn),r.KVO(Mr),r.KVO(tt,12),r.KVO(xn),r.KVO(Tr),r.KVO(yi),r.KVO(F,8))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac}),tt})();function ms(tt){const gn=Qe(tt)||sn(tt);return gn&&gn.makeRootSelector||(()=>tt)}let Go=(()=>{class tt{constructor(jt,cn,je,It,Qt,qn){this._stateStream=jt,this._internalStateOperations=cn,this._config=je,this._internalExecutionStrategy=It,this._stateFactory=Qt,this._selectableStateStream=this._stateStream.pipe(Xo(this._internalExecutionStrategy),(0,he.t)({bufferSize:1,refCount:!0})),this.initStateStream(qn)}dispatch(jt){return this._internalStateOperations.getRootStateOperations().dispatch(jt)}select(jt){const cn=this.getStoreBoundSelectorFn(jt);return this._selectableStateStream.pipe((0,z.T)(cn),(0,Nt.W)(je=>{const{suppressErrors:It}=this._config.selectorOptions;return je instanceof TypeError&&It?(0,L.of)(void 0):(0,U.$)(je)}),(0,me.F)(),Xo(this._internalExecutionStrategy))}selectOnce(jt){return this.select(jt).pipe((0,we.s)(1))}selectSnapshot(jt){return this.getStoreBoundSelectorFn(jt)(this._stateStream.getValue())}subscribe(jt){return this._selectableStateStream.pipe(Xo(this._internalExecutionStrategy)).subscribe(jt)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(jt){return this._internalStateOperations.getRootStateOperations().setState(jt)}getStoreBoundSelectorFn(jt){return ms(jt)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(jt){const cn=this._stateStream.value;if(!cn||0===Object.keys(cn).length){const Qt=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),jt):jt;this._stateStream.next(Qt)}}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO($t),r.KVO(Ri),r.KVO(Mr),r.KVO(Io),r.KVO(vo),r.KVO(F,8))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),Qo=(()=>{class tt{constructor(jt,cn){tt.store=jt,tt.config=cn}ngOnDestroy(){tt.store=null,tt.config=null}}return tt.store=null,tt.config=null,tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(Go),r.KVO(Mr))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),os=(()=>{class tt{constructor(jt,cn,je,It,Qt){this._store=jt,this._internalErrorReporter=cn,this._internalStateOperations=je,this._stateContextFactory=It,this._bootstrapper=Qt,this._destroy$=new m.B}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(jt,cn){this._internalStateOperations.getRootStateOperations().dispatch(jt).pipe((0,le.p)(()=>!!cn),(0,ee.M)(()=>this._invokeInitOnStates(cn.states)),(0,Ze.Z)(()=>this._bootstrapper.appBootstrapped$),(0,le.p)(je=>!!je),(0,Nt.W)(je=>(this._internalErrorReporter.reportErrorSafely(je),Z.w)),(0,Kt.Q)(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(cn.states))}_invokeInitOnStates(jt){for(const cn of jt){const je=cn.instance;je.ngxsOnChanges&&this._store.select(It=>xe(It,cn.path)).pipe((0,fe.Z)(void 0),(0,ye.J)(),(0,Kt.Q)(this._destroy$)).subscribe(([It,Qt])=>{const qn=new yn(It,Qt,!cn.isInitialised);je.ngxsOnChanges(qn)}),je.ngxsOnInit&&je.ngxsOnInit(this._getStateContext(cn)),cn.isInitialised=!0}}_invokeBootstrapOnStates(jt){for(const cn of jt){const je=cn.instance;je.ngxsAfterBootstrap&&je.ngxsAfterBootstrap(this._getStateContext(cn))}}_getStateContext(jt){return this._stateContextFactory.createStateContext(jt)}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(Go),r.KVO(et),r.KVO(Ri),r.KVO(yi),r.KVO(v))},tt.\u0275prov=r.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})(),ns=(()=>{class tt{constructor(jt,cn,je,It,Qt=[],qn){const hr=jt.addAndReturnDefaults(Qt);cn.setStateToTheCurrentWithNew(hr),jt.connectActionHandlers(),qn.ngxsBootstrap(new Hn,hr)}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(vo),r.KVO(Ri),r.KVO(Go),r.KVO(Qo),r.KVO(Ne,8),r.KVO(os))},tt.\u0275mod=r.$C({type:tt}),tt.\u0275inj=r.G2t({}),tt})(),Rs=(()=>{class tt{constructor(jt,cn,je,It=[],Qt){const qn=tt.flattenStates(It),hr=je.addAndReturnDefaults(qn);hr.states.length&&(cn.setStateToTheCurrentWithNew(hr),Qt.ngxsBootstrap(new Dr(hr.defaults),hr))}static flattenStates(jt=[]){return jt.reduce((cn,je)=>cn.concat(je),[])}}return tt.\u0275fac=function(jt){return new(jt||tt)(r.KVO(Go),r.KVO(Ri),r.KVO(vo),r.KVO(zt,8),r.KVO(os))},tt.\u0275mod=r.$C({type:tt}),tt.\u0275inj=r.G2t({}),tt})(),rr=(()=>{class tt{static forRoot(jt=[],cn={}){return{ngModule:ns,providers:[vo,Vn,...jt,...tt.ngxsTokenProviders(jt,cn)]}}static forFeature(jt=[]){return{ngModule:Rs,providers:[vo,Vn,...jt,{provide:zt,multi:!0,useValue:jt}]}}static ngxsTokenProviders(jt,cn){return[{provide:kt,useValue:cn.executionStrategy},{provide:Ne,useValue:jt},{provide:Ut,useValue:cn},{provide:r.iLQ,useFactory:tt.appBootstrapListenerFactory,multi:!0,deps:[v]},{provide:G,useExisting:yi},{provide:P,useExisting:vo}]}static appBootstrapListenerFactory(jt){return()=>jt.bootstrap()}}return tt.\u0275fac=function(jt){return new(jt||tt)},tt.\u0275mod=r.$C({type:tt}),tt.\u0275inj=r.G2t({}),tt})();function sr(tt,gn){return(jt,cn)=>{const je=bt(jt.constructor);Array.isArray(tt)||(tt=[tt]);for(const It of tt){const Qt=It.type;je.actions[Qt]||(je.actions[Qt]=[]),je.actions[Qt].push({fn:cn,options:gn||{},type:Qt})}}}function Lr(tt){return gn=>{const jt=gn,cn=bt(jt),je=Object.getPrototypeOf(jt),It=function gi(tt,gn){return Object.assign(Object.assign({},tt[Zn]||{}),gn)}(je,tt);(function Ei(tt){const{meta:gn,inheritedStateClass:jt,optionsWithInheritance:cn}=tt,{children:je,defaults:It,name:Qt}=cn,qn="string"==typeof Qt?Qt:Qt&&Qt.getName()||null;if(jt.hasOwnProperty(Cn)){const hr=jt[Cn]||{};gn.actions=Object.assign(Object.assign({},gn.actions),hr.actions)}gn.children=je,gn.defaults=It,gn.name=qn})({meta:cn,inheritedStateClass:je,optionsWithInheritance:It}),jt[Zn]=It}}const Fi=36;function ko(tt,...gn){return function(jt,cn){const je=cn.toString(),It=`__${je}__selector`,Qt=function ho(tt,gn,jt=[]){return gn=gn||function Bi(tt){const gn=tt.length-1;return tt.charCodeAt(gn)===Fi?tt.slice(0,gn):tt}(tt),"string"==typeof gn?vt(jt.length?[gn,...jt]:gn.split("."),Qo.config):gn}(je,tt,gn);Object.defineProperties(jt,{[It]:{writable:!0,enumerable:!1,configurable:!0},[je]:{enumerable:!0,configurable:!0,get(){return this[It]||(this[It]=function Wi(tt){return Qo.store||function it(){throw new Error("You have forgotten to import the NGXS module!")}(),Qo.store.select(tt)}(Qt))}}})}}const ls="NGXS_SELECTOR_OPTIONS_META",Ls={getOptions:tt=>tt&&tt[ls]||{},defineOptions:(tt,gn)=>{tt&&(tt[ls]=gn)}};function ys(tt,gn){const jt=function Yt(tt){return tt.hasOwnProperty(br)||Object.defineProperty(tt,br,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),Qe(tt)}(tt);jt.originalFn=tt;let cn=()=>({});gn&&(jt.containerClass=gn.containerClass,jt.selectorName=gn.selectorName||null,cn=gn.getSelectorOptions||cn);const je=Object.assign({},jt);return jt.getSelectorOptions=()=>function Os(tt,gn){return Object.assign(Object.assign(Object.assign(Object.assign({},Ls.getOptions(tt.containerClass)||{}),Ls.getOptions(tt.originalFn)||{}),tt.getSelectorOptions()||{}),gn)}(je,cn()),jt}function qo(tt){return function(jt,cn,je){if(cn){je||(je=Object.getOwnPropertyDescriptor(jt,cn));const It=je.value||je.originalFn;It&&Ls.defineOptions(It,tt)}else Ls.defineOptions(jt,tt)}}function Ds(tt,gn,jt){const cn=function Ao(tt,gn){const jt=gn&&gn.containerClass,je=C(function(...Qt){const qn=tt.apply(jt,Qt);return qn instanceof Function?C.apply(null,[qn]):qn});return Object.setPrototypeOf(je,tt),je}(gn,jt),je=ys(gn,jt);return je.makeRootSelector=function Do(tt,gn,jt){return cn=>{const{argumentSelectorFunctions:je,selectorOptions:It}=function Ms(tt,gn,jt=[]){const cn=gn.getSelectorOptions(),je=tt.getSelectorOptions(cn),Qt=function Ks(tt=[],gn,jt){const cn=[];return jt&&(0===tt.length||gn.injectContainerState)&&sn(jt)&&cn.push(jt),tt&&cn.push(...tt),cn}(jt,je,gn.containerClass).map(qn=>ms(qn)(tt));return{selectorOptions:je,argumentSelectorFunctions:Qt}}(cn,tt,gn);return function(qn){const hr=je.map(yr=>yr(qn));try{return jt(...hr)}catch(yr){if(yr instanceof TypeError&&It.suppressErrors)return;throw yr}}}}(je,tt,cn),cn}function zs(tt){return(gn,jt,cn)=>{cn||(cn=Object.getOwnPropertyDescriptor(gn,jt));const je=cn?.value,It=Ds(tt,je,{containerClass:gn,selectorName:jt.toString(),getSelectorOptions:()=>({})}),Qt={configurable:!0,get:()=>It};return Qt.originalFn=je,Qt}}},28638:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{Constants:()=>s,MotionController:()=>m,fetchProfile:()=>d,fetchProfilesList:()=>M});var r=w(28407);const s={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};function v(E){return S.apply(this,arguments)}function S(){return(S=(0,r.A)(function*(E){const L=yield fetch(E);if(L.ok)return L.json();throw new Error(L.statusText)})).apply(this,arguments)}function M(E){return C.apply(this,arguments)}function C(){return(C=(0,r.A)(function*(E){if(!E)throw new Error("No basePath supplied");return yield v(`${E}/profilesList.json`)})).apply(this,arguments)}function d(E,L){return F.apply(this,arguments)}function F(){return(F=(0,r.A)(function*(E,L,ae=null,U=!0){if(!E)throw new Error("No xrInputSource supplied");if(!L)throw new Error("No basePath supplied");const Z=yield M(L);let ne;if(E.profiles.some(z=>{const J=Z[z];return J&&(ne={profileId:z,profilePath:`${L}/${J.path}`,deprecated:!!J.deprecated}),!!ne}),!ne){if(!ae)throw new Error("No matching profile name found");const z=Z[ae];if(!z)throw new Error(`No matching profile name found and default profile "${ae}" missing.`);ne={profileId:ae,profilePath:`${L}/${z.path}`,deprecated:!!z.deprecated}}const q=yield v(ne.profilePath);let le;if(U){let z;if(z="any"===E.handedness?q.layouts[Object.keys(q.layouts)[0]]:q.layouts[E.handedness],!z)throw new Error(`No matching handedness, ${E.handedness}, in profile ${ne.profileId}`);z.assetPath&&(le=ne.profilePath.replace("profile.json",z.assetPath))}return{profile:q,assetPath:le}})).apply(this,arguments)}const P={xAxis:0,yAxis:0,button:0,state:s.ComponentState.DEFAULT};class N{constructor(L){this.componentProperty=L.componentProperty,this.states=L.states,this.valueNodeName=L.valueNodeName,this.valueNodeProperty=L.valueNodeProperty,this.valueNodeProperty===s.VisualResponseProperty.TRANSFORM&&(this.minNodeName=L.minNodeName,this.maxNodeName=L.maxNodeName),this.value=0,this.updateFromComponent(P)}updateFromComponent({xAxis:L,yAxis:ae,button:U,state:Z}){const{normalizedXAxis:ne,normalizedYAxis:q}=function G(E=0,L=0){let ae=E,U=L;if(Math.sqrt(E*E+L*L)>1){const q=Math.atan2(L,E);ae=Math.cos(q),U=Math.sin(q)}return{normalizedXAxis:.5*ae+.5,normalizedYAxis:.5*U+.5}}(L,ae);switch(this.componentProperty){case s.ComponentProperty.X_AXIS:this.value=this.states.includes(Z)?ne:.5;break;case s.ComponentProperty.Y_AXIS:this.value=this.states.includes(Z)?q:.5;break;case s.ComponentProperty.BUTTON:this.value=this.states.includes(Z)?U:0;break;case s.ComponentProperty.STATE:this.value=this.valueNodeProperty===s.VisualResponseProperty.VISIBILITY?this.states.includes(Z):this.states.includes(Z)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class x{constructor(L,ae){if(!(L&&ae&&ae.visualResponses&&ae.gamepadIndices&&0!==Object.keys(ae.gamepadIndices).length))throw new Error("Invalid arguments supplied");this.id=L,this.type=ae.type,this.rootNodeName=ae.rootNodeName,this.touchPointNodeName=ae.touchPointNodeName,this.visualResponses={},Object.keys(ae.visualResponses).forEach(U=>{const Z=new N(ae.visualResponses[U]);this.visualResponses[U]=Z}),this.gamepadIndices=Object.assign({},ae.gamepadIndices),this.values={state:s.ComponentState.DEFAULT,button:void 0!==this.gamepadIndices.button?0:void 0,xAxis:void 0!==this.gamepadIndices.xAxis?0:void 0,yAxis:void 0!==this.gamepadIndices.yAxis?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(L){if(this.values.state=s.ComponentState.DEFAULT,void 0!==this.gamepadIndices.button&&L.buttons.length>this.gamepadIndices.button){const ae=L.buttons[this.gamepadIndices.button];this.values.button=ae.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,ae.pressed||1===this.values.button?this.values.state=s.ComponentState.PRESSED:(ae.touched||this.values.button>s.ButtonTouchThreshold)&&(this.values.state=s.ComponentState.TOUCHED)}void 0!==this.gamepadIndices.xAxis&&L.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=L.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===s.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>s.AxisTouchThreshold&&(this.values.state=s.ComponentState.TOUCHED)),void 0!==this.gamepadIndices.yAxis&&L.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=L.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===s.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>s.AxisTouchThreshold&&(this.values.state=s.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(ae=>{ae.updateFromComponent(this.values)})}}class m{constructor(L,ae,U){if(!L)throw new Error("No xrInputSource supplied");if(!ae)throw new Error("No profile supplied");this.xrInputSource=L,this.assetUrl=U,this.id=ae.profileId,this.layoutDescription=ae.layouts[L.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(Z=>{this.components[Z]=new x(Z,this.layoutDescription.components[Z])}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const L=[];return Object.values(this.components).forEach(ae=>{L.push(ae.data)}),L}updateFromGamepad(){Object.values(this.components).forEach(L=>{L.updateFromGamepad(this.xrInputSource.gamepad)})}}},64680:(ln,qe,w)=>{"use strict";var r=w(89222),s=w(85924),v=s(r("String.prototype.indexOf"));ln.exports=function(M,C){var d=r(M,!!C);return"function"==typeof d&&v(M,".prototype.")>-1?s(d):d}},85924:(ln,qe,w)=>{"use strict";var r=w(82988),s=w(89222),v=w(93330),S=w(63698),M=s("%Function.prototype.apply%"),C=s("%Function.prototype.call%"),d=s("%Reflect.apply%",!0)||r.call(C,M),F=w(82182),P=s("%Math.max%");ln.exports=function(x){if("function"!=typeof x)throw new S("a function is required");var m=d(r,C,arguments);return v(m,1+P(0,x.length-(arguments.length-1)),!0)};var G=function(){return d(r,M,arguments)};F?F(ln.exports,"apply",{value:G}):ln.exports.apply=G},67092:(ln,qe)=>{"use strict";qe.r=function E(ne,q){var le=ne.slice(0,33);return new Promise(function(z,J){var he=new FileReader;he.onload=function(){var we=new Uint8Array(he.result),k=ne.slice(33),ue=function Z(ne,q,le,z){if(le===C)return ne[13]=1,ne[14]=q>>8,ne[15]=255&q,ne[16]=q>>8,ne[17]=255&q,ne;if(le===M){var J=new Uint8Array(13);q*=39.3701,J[0]=G,J[1]=N,J[2]=x,J[3]=m,J[4]=q>>>24,J[5]=q>>>16,J[6]=q>>>8,J[7]=255&q,J[8]=J[4],J[9]=J[5],J[10]=J[6],J[11]=J[7],J[12]=1;var he=function v(ne){var q=-1;S||(S=function s(){for(var ne=new Int32Array(256),q=0;q<256;q++){for(var le=q,z=0;z<8;z++)le=1&le?3988292384^le>>>1:le>>>1;ne[q]=le}return ne}());for(var le=0;le<ne.length;le++)q=S[255&(q^ne[le])]^q>>>8;return~q}(J),we=new Uint8Array(4);if(we[0]=he>>>24,we[1]=he>>>16,we[2]=he>>>8,we[3]=255&he,z){var k=function U(ne){for(var le=ne.length-1;le>=4;le--)if(9===ne[le-4]&&ne[le-3]===G&&ne[le-2]===N&&ne[le-1]===x&&ne[le]===m)return le-3}(ne);return ne.set(J,k),ne.set(we,k+13),ne}var ue=new Uint8Array(4);ue[0]=0,ue[1]=0,ue[2]=0,ue[3]=9;var Ie=new Uint8Array(54);return Ie.set(ne,0),Ie.set(ue,33),Ie.set(J,37),Ie.set(we,50),Ie}}(we,q,ne.type);z(new Blob([ue,k],{type:ne.type}))},he.readAsArrayBuffer(le)})};var S=void 0,M="image/png",C="image/jpeg",G=112,N=72,x=89,m=115},16938:(ln,qe,w)=>{"use strict";w.d(qe,{Z:()=>s});var r=w(49727);function s(v,S={}){return function(M,C){const d=Reflect.getMetadata("design:type",M,C);r.s.addTypeMetadata({target:M.constructor,propertyName:C,reflectedType:d,typeFunction:v,options:S})}}},55460:(ln,qe,w)=>{"use strict";w.d(qe,{_:()=>r});var r=function(s){return s[s.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",s[s.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",s[s.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",s}(r||{})},40470:(ln,qe,w)=>{"use strict";w.d(qe,{uK:()=>ae,bj:()=>E});var r=w(49727),s=w(55460);class C{constructor(z,J){this.transformationType=z,this.options=J,this.recursionStack=new Set}transform(z,J,he,we,k,ue=0){if(Array.isArray(J)||J instanceof Set){const Ie=we&&this.transformationType===s._.PLAIN_TO_CLASS?function M(le){const z=new le;return z instanceof Set||"push"in z?z:[]}(we):[];return J.forEach((ke,Ze)=>{const Ce=z?z[Ze]:void 0;if(this.options.enableCircularCheck&&this.isCircular(ke))this.transformationType===s._.CLASS_TO_CLASS&&(Ie instanceof Set?Ie.add(ke):Ie.push(ke));else{let Nt;if("function"!=typeof he&&he&&he.options&&he.options.discriminator&&he.options.discriminator.property&&he.options.discriminator.subTypes){if(this.transformationType===s._.PLAIN_TO_CLASS){Nt=he.options.discriminator.subTypes.find(fe=>fe.name===ke[he.options.discriminator.property]);const ee=he.typeFunction({newObject:Ie,object:ke,property:void 0});Nt=void 0===Nt?ee:Nt.value,he.options.keepDiscriminatorProperty||delete ke[he.options.discriminator.property]}this.transformationType===s._.CLASS_TO_CLASS&&(Nt=ke.constructor),this.transformationType===s._.CLASS_TO_PLAIN&&(ke[he.options.discriminator.property]=he.options.discriminator.subTypes.find(me=>me.value===ke.constructor).name)}else Nt=he;const Kt=this.transform(Ce,ke,Nt,void 0,ke instanceof Map,ue+1);Ie instanceof Set?Ie.add(Kt):Ie.push(Kt)}}),Ie}if(he===String&&!k)return null==J?J:String(J);if(he===Number&&!k)return null==J?J:Number(J);if(he===Boolean&&!k)return null==J?J:!!J;if((he===Date||J instanceof Date)&&!k)return J instanceof Date?new Date(J.valueOf()):null==J?J:new Date(J);if(function v(){return typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:void 0}().Buffer&&(he===Buffer||J instanceof Buffer)&&!k)return null==J?J:Buffer.from(J);if(function S(le){return null!==le&&"object"==typeof le&&"function"==typeof le.then}(J)&&!k)return new Promise((Ie,ke)=>{J.then(Ze=>Ie(this.transform(void 0,Ze,he,void 0,void 0,ue+1)),ke)});if(!k&&null!==J&&"object"==typeof J&&"function"==typeof J.then)return J;if("object"==typeof J&&null!==J){!he&&J.constructor!==Object&&(!Array.isArray(J)&&J.constructor===Array||(he=J.constructor)),!he&&z&&(he=z.constructor),this.options.enableCircularCheck&&this.recursionStack.add(J);const Ie=this.getKeys(he,J,k);let ke=z||{};!z&&(this.transformationType===s._.PLAIN_TO_CLASS||this.transformationType===s._.CLASS_TO_CLASS)&&(ke=k?new Map:he?new he:{});for(const Ze of Ie){if("__proto__"===Ze||"constructor"===Ze)continue;const Ce=Ze;let me,Nt=Ze,Kt=Ze;if(!this.options.ignoreDecorators&&he)if(this.transformationType===s._.PLAIN_TO_CLASS){const Be=r.s.findExposeMetadataByCustomName(he,Ze);Be&&(Kt=Be.propertyName,Nt=Be.propertyName)}else if(this.transformationType===s._.CLASS_TO_PLAIN||this.transformationType===s._.CLASS_TO_CLASS){const Be=r.s.findExposeMetadata(he,Ze);Be&&Be.options&&Be.options.name&&(Nt=Be.options.name)}me=this.transformationType===s._.PLAIN_TO_CLASS?J[Ce]:J instanceof Map?J.get(Ce):J[Ce]instanceof Function?J[Ce]():J[Ce];let ee,fe=me instanceof Map;if(he&&k)ee=he;else if(he){const Be=r.s.findTypeMetadata(he,Kt);if(Be){const qt=Be.typeFunction?Be.typeFunction({newObject:ke,object:J,property:Kt}):Be.reflectedType;Be.options&&Be.options.discriminator&&Be.options.discriminator.property&&Be.options.discriminator.subTypes?J[Ce]instanceof Array?ee=Be:(this.transformationType===s._.PLAIN_TO_CLASS&&(ee=Be.options.discriminator.subTypes.find(Ln=>{if(me&&me instanceof Object&&Be.options.discriminator.property in me)return Ln.name===me[Be.options.discriminator.property]}),ee=void 0===ee?qt:ee.value,Be.options.keepDiscriminatorProperty||me&&me instanceof Object&&Be.options.discriminator.property in me&&delete me[Be.options.discriminator.property]),this.transformationType===s._.CLASS_TO_CLASS&&(ee=me.constructor),this.transformationType===s._.CLASS_TO_PLAIN&&me&&(me[Be.options.discriminator.property]=Be.options.discriminator.subTypes.find(Ln=>Ln.value===me.constructor).name)):ee=qt,fe=fe||Be.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(yt=>yt.target===he&&!!yt.properties[Kt]).forEach(yt=>ee=yt.properties[Kt]);else if(this.options.enableImplicitConversion&&this.transformationType===s._.PLAIN_TO_CLASS){const yt=Reflect.getMetadata("design:type",he.prototype,Kt);yt&&(ee=yt)}}const ye=Array.isArray(J[Ce])?this.getReflectedType(he,Kt):void 0,Se=z?z[Ce]:void 0;if(ke.constructor.prototype){const Be=Object.getOwnPropertyDescriptor(ke.constructor.prototype,Nt);if((this.transformationType===s._.PLAIN_TO_CLASS||this.transformationType===s._.CLASS_TO_CLASS)&&(Be&&!Be.set||ke[Nt]instanceof Function))continue}if(this.options.enableCircularCheck&&this.isCircular(me)){if(this.transformationType===s._.CLASS_TO_CLASS){let Be=me;Be=this.applyCustomTransformations(Be,he,Ze,J,this.transformationType),(void 0!==Be||this.options.exposeUnsetFields)&&(ke instanceof Map?ke.set(Nt,Be):ke[Nt]=Be)}}else{const Be=this.transformationType===s._.PLAIN_TO_CLASS?Nt:Ze;let yt;this.transformationType===s._.CLASS_TO_PLAIN?(yt=J[Be],yt=this.applyCustomTransformations(yt,he,Be,J,this.transformationType),yt=J[Be]===yt?me:yt,yt=this.transform(Se,yt,ee,ye,fe,ue+1)):void 0===me&&this.options.exposeDefaultValues?yt=ke[Nt]:(yt=this.transform(Se,me,ee,ye,fe,ue+1),yt=this.applyCustomTransformations(yt,he,Be,J,this.transformationType)),(void 0!==yt||this.options.exposeUnsetFields)&&(ke instanceof Map?ke.set(Nt,yt):ke[Nt]=yt)}}return this.options.enableCircularCheck&&this.recursionStack.delete(J),ke}return J}applyCustomTransformations(z,J,he,we,k){let ue=r.s.findTransformMetadatas(J,he,this.transformationType);return void 0!==this.options.version&&(ue=ue.filter(Ie=>!Ie.options||this.checkVersion(Ie.options.since,Ie.options.until))),ue=ue.filter(this.options.groups&&this.options.groups.length?Ie=>!Ie.options||this.checkGroups(Ie.options.groups):Ie=>!Ie.options||!Ie.options.groups||!Ie.options.groups.length),ue.forEach(Ie=>{z=Ie.transformFn({value:z,key:he,obj:we,type:k,options:this.options})}),z}isCircular(z){return this.recursionStack.has(z)}getReflectedType(z,J){if(!z)return;const he=r.s.findTypeMetadata(z,J);return he?he.reflectedType:void 0}getKeys(z,J,he){let we=r.s.getStrategy(z);"none"===we&&(we=this.options.strategy||"exposeAll");let k=[];if(("exposeAll"===we||he)&&(k=J instanceof Map?Array.from(J.keys()):Object.keys(J)),he)return k;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&z&&(k=[...r.s.getExposedProperties(z,this.transformationType),...r.s.getExcludedProperties(z,this.transformationType)]),!this.options.ignoreDecorators&&z){let ue=r.s.getExposedProperties(z,this.transformationType);this.transformationType===s._.PLAIN_TO_CLASS&&(ue=ue.map(ke=>{const Ze=r.s.findExposeMetadata(z,ke);return Ze&&Ze.options&&Ze.options.name?Ze.options.name:ke})),k=this.options.excludeExtraneousValues?ue:k.concat(ue);const Ie=r.s.getExcludedProperties(z,this.transformationType);Ie.length>0&&(k=k.filter(ke=>!Ie.includes(ke))),void 0!==this.options.version&&(k=k.filter(ke=>{const Ze=r.s.findExposeMetadata(z,ke);return!Ze||!Ze.options||this.checkVersion(Ze.options.since,Ze.options.until)})),k=k.filter(this.options.groups&&this.options.groups.length?ke=>{const Ze=r.s.findExposeMetadata(z,ke);return!Ze||!Ze.options||this.checkGroups(Ze.options.groups)}:ke=>{const Ze=r.s.findExposeMetadata(z,ke);return!(Ze&&Ze.options&&Ze.options.groups&&Ze.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(k=k.filter(ue=>this.options.excludePrefixes.every(Ie=>ue.substr(0,Ie.length)!==Ie))),k=k.filter((ue,Ie,ke)=>ke.indexOf(ue)===Ie),k}checkVersion(z,J){let he=!0;return he&&z&&(he=this.options.version>=z),he&&J&&(he=this.options.version<J),he}checkGroups(z){return!z||this.options.groups.some(J=>z.includes(J))}}const d={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},P=new class F{instanceToPlain(z,J){return new C(s._.CLASS_TO_PLAIN,{...d,...J}).transform(void 0,z,void 0,void 0,void 0,void 0)}classToPlainFromExist(z,J,he){return new C(s._.CLASS_TO_PLAIN,{...d,...he}).transform(J,z,void 0,void 0,void 0,void 0)}plainToInstance(z,J,he){return new C(s._.PLAIN_TO_CLASS,{...d,...he}).transform(void 0,J,z,void 0,void 0,void 0)}plainToClassFromExist(z,J,he){return new C(s._.PLAIN_TO_CLASS,{...d,...he}).transform(z,J,void 0,void 0,void 0,void 0)}instanceToInstance(z,J){return new C(s._.CLASS_TO_CLASS,{...d,...J}).transform(void 0,z,void 0,void 0,void 0,void 0)}classToClassFromExist(z,J,he){return new C(s._.CLASS_TO_CLASS,{...d,...he}).transform(J,z,void 0,void 0,void 0,void 0)}serialize(z,J){return JSON.stringify(this.instanceToPlain(z,J))}deserialize(z,J,he){const we=JSON.parse(J);return this.plainToInstance(z,we,he)}deserializeArray(z,J,he){const we=JSON.parse(J);return this.plainToInstance(z,we,he)}};function E(le,z,J){return P.plainToInstance(le,z,J)}function ae(le,z){return P.instanceToInstance(le,z)}},49727:(ln,qe,w)=>{"use strict";w.d(qe,{s:()=>v});var r=w(55460);const v=new class s{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(M){this._typeMetadatas.has(M.target)||this._typeMetadatas.set(M.target,new Map),this._typeMetadatas.get(M.target).set(M.propertyName,M)}addTransformMetadata(M){this._transformMetadatas.has(M.target)||this._transformMetadatas.set(M.target,new Map),this._transformMetadatas.get(M.target).has(M.propertyName)||this._transformMetadatas.get(M.target).set(M.propertyName,[]),this._transformMetadatas.get(M.target).get(M.propertyName).push(M)}addExposeMetadata(M){this._exposeMetadatas.has(M.target)||this._exposeMetadatas.set(M.target,new Map),this._exposeMetadatas.get(M.target).set(M.propertyName,M)}addExcludeMetadata(M){this._excludeMetadatas.has(M.target)||this._excludeMetadatas.set(M.target,new Map),this._excludeMetadatas.get(M.target).set(M.propertyName,M)}findTransformMetadatas(M,C,d){return this.findMetadatas(this._transformMetadatas,M,C).filter(F=>!F.options||!0===F.options.toClassOnly&&!0===F.options.toPlainOnly||(!0===F.options.toClassOnly?d===r._.CLASS_TO_CLASS||d===r._.PLAIN_TO_CLASS:!0!==F.options.toPlainOnly||d===r._.CLASS_TO_PLAIN))}findExcludeMetadata(M,C){return this.findMetadata(this._excludeMetadatas,M,C)}findExposeMetadata(M,C){return this.findMetadata(this._exposeMetadatas,M,C)}findExposeMetadataByCustomName(M,C){return this.getExposedMetadatas(M).find(d=>d.options&&d.options.name===C)}findTypeMetadata(M,C){return this.findMetadata(this._typeMetadatas,M,C)}getStrategy(M){const C=this._excludeMetadatas.get(M),d=C&&C.get(void 0),F=this._exposeMetadatas.get(M),P=F&&F.get(void 0);return d&&P||!d&&!P?"none":d?"excludeAll":"exposeAll"}getExposedMetadatas(M){return this.getMetadata(this._exposeMetadatas,M)}getExcludedMetadatas(M){return this.getMetadata(this._excludeMetadatas,M)}getExposedProperties(M,C){return this.getExposedMetadatas(M).filter(d=>!d.options||!0===d.options.toClassOnly&&!0===d.options.toPlainOnly||(!0===d.options.toClassOnly?C===r._.CLASS_TO_CLASS||C===r._.PLAIN_TO_CLASS:!0!==d.options.toPlainOnly||C===r._.CLASS_TO_PLAIN)).map(d=>d.propertyName)}getExcludedProperties(M,C){return this.getExcludedMetadatas(M).filter(d=>!d.options||!0===d.options.toClassOnly&&!0===d.options.toPlainOnly||(!0===d.options.toClassOnly?C===r._.CLASS_TO_CLASS||C===r._.PLAIN_TO_CLASS:!0!==d.options.toPlainOnly||C===r._.CLASS_TO_PLAIN)).map(d=>d.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(M,C){const d=M.get(C);let F;d&&(F=Array.from(d.values()).filter(G=>void 0!==G.propertyName));const P=[];for(const G of this.getAncestors(C)){const N=M.get(G);if(N){const x=Array.from(N.values()).filter(m=>void 0!==m.propertyName);P.push(...x)}}return P.concat(F||[])}findMetadata(M,C,d){const F=M.get(C);if(F){const P=F.get(d);if(P)return P}for(const P of this.getAncestors(C)){const G=M.get(P);if(G){const N=G.get(d);if(N)return N}}}findMetadatas(M,C,d){const F=M.get(C);let P;F&&(P=F.get(d));const G=[];for(const N of this.getAncestors(C)){const x=M.get(N);x&&x.has(d)&&G.push(...x.get(d))}return G.slice().reverse().concat((P||[]).slice().reverse())}getAncestors(M){if(!M)return[];if(!this._ancestorsMap.has(M)){const C=[];for(let d=Object.getPrototypeOf(M.prototype.constructor);typeof d.prototype<"u";d=Object.getPrototypeOf(d.prototype.constructor))C.push(d);this._ancestorsMap.set(M,C)}return this._ancestorsMap.get(M)}}},2948:(ln,qe,w)=>{"use strict";var r=w(82182),s=w(35097),v=w(63698),S=w(99234);ln.exports=function(C,d,F){if(!C||"object"!=typeof C&&"function"!=typeof C)throw new v("`obj` must be an object or a function`");if("string"!=typeof d&&"symbol"!=typeof d)throw new v("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new v("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new v("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new v("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new v("`loose`, if provided, must be a boolean");var P=arguments.length>3?arguments[3]:null,G=arguments.length>4?arguments[4]:null,N=arguments.length>5?arguments[5]:null,x=arguments.length>6&&arguments[6],m=!!S&&S(C,d);if(r)r(C,d,{configurable:null===N&&m?m.configurable:!N,enumerable:null===P&&m?m.enumerable:!P,value:F,writable:null===G&&m?m.writable:!G});else{if(!x&&(P||G||N))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");C[d]=F}}},78851:(ln,qe)=>{qe.TF=function C(d){return d.replace(/[^\u0000-\u007e]/g,function(F){return s[F]||F})};for(var r=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],s={},v=0;v<r.length;v+=1)for(var S=r[v].chars,M=0;M<S.length;M+=1)s[S[M]]=r[v].base},82182:(ln,qe,w)=>{"use strict";var s=w(89222)("%Object.defineProperty%",!0)||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}ln.exports=s},21776:ln=>{"use strict";ln.exports=EvalError},52276:ln=>{"use strict";ln.exports=Error},63433:ln=>{"use strict";ln.exports=RangeError},42025:ln=>{"use strict";ln.exports=ReferenceError},35097:ln=>{"use strict";ln.exports=SyntaxError},63698:ln=>{"use strict";ln.exports=TypeError},87378:ln=>{"use strict";ln.exports=URIError},37678:function(ln,qe){var w,s;void 0!==(s="function"==typeof(w=function(){"use strict";function S(G,N,x){var m=new XMLHttpRequest;m.open("GET",G),m.responseType="blob",m.onload=function(){P(m.response,N,x)},m.onerror=function(){console.error("could not download file")},m.send()}function M(G){var N=new XMLHttpRequest;N.open("HEAD",G,!1);try{N.send()}catch{}return 200<=N.status&&299>=N.status}function C(G){try{G.dispatchEvent(new MouseEvent("click"))}catch{var N=document.createEvent("MouseEvents");N.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),G.dispatchEvent(N)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,F=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),P=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!F?function(G,N,x){var m=d.URL||d.webkitURL,E=document.createElement("a");E.download=N=N||G.name||"download",E.rel="noopener","string"==typeof G?(E.href=G,E.origin===location.origin?C(E):M(E.href)?S(G,N,x):C(E,E.target="_blank")):(E.href=m.createObjectURL(G),setTimeout(function(){m.revokeObjectURL(E.href)},4e4),setTimeout(function(){C(E)},0))}:"msSaveOrOpenBlob"in navigator?function(G,N,x){if(N=N||G.name||"download","string"!=typeof G)navigator.msSaveOrOpenBlob(function v(G,N){return typeof N>"u"?N={autoBom:!1}:"object"!=typeof N&&(console.warn("Deprecated: Expected third argument to be a object"),N={autoBom:!N}),N.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(G.type)?new Blob(["\ufeff",G],{type:G.type}):G}(G,x),N);else if(M(G))S(G,N,x);else{var m=document.createElement("a");m.href=G,m.target="_blank",setTimeout(function(){C(m)})}}:function(G,N,x,m){if((m=m||open("","_blank"))&&(m.document.title=m.document.body.innerText="downloading..."),"string"==typeof G)return S(G,N,x);var E="application/octet-stream"===G.type,L=/constructor/i.test(d.HTMLElement)||d.safari,ae=/CriOS\/[\d]+/.test(navigator.userAgent);if((ae||E&&L||F)&&typeof FileReader<"u"){var U=new FileReader;U.onloadend=function(){var q=U.result;q=ae?q:q.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=q:location=q,m=null},U.readAsDataURL(G)}else{var Z=d.URL||d.webkitURL,ne=Z.createObjectURL(G);m?m.location=ne:location.href=ne,m=null,setTimeout(function(){Z.revokeObjectURL(ne)},4e4)}});d.saveAs=P.saveAs=P,ln.exports=P})?w.apply(qe,[]):w)&&(ln.exports=s)},94864:ln=>{"use strict";var w=Object.prototype.toString,r=Math.max,v=function(d,F){for(var P=[],G=0;G<d.length;G+=1)P[G]=d[G];for(var N=0;N<F.length;N+=1)P[N+d.length]=F[N];return P};ln.exports=function(d){var F=this;if("function"!=typeof F||"[object Function]"!==w.apply(F))throw new TypeError("Function.prototype.bind called on incompatible "+F);for(var G,P=function(d,F){for(var P=[],G=1,N=0;G<d.length;G+=1,N+=1)P[N]=d[G];return P}(arguments),x=r(0,F.length-P.length),m=[],E=0;E<x;E++)m[E]="$"+E;if(G=Function("binder","return function ("+function(C,d){for(var F="",P=0;P<C.length;P+=1)F+=C[P],P+1<C.length&&(F+=",");return F}(m)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof G){var ae=F.apply(this,v(P,arguments));return Object(ae)===ae?ae:this}return F.apply(d,v(P,arguments))}),F.prototype){var L=function(){};L.prototype=F.prototype,G.prototype=new L,L.prototype=null}return G}},82988:(ln,qe,w)=>{"use strict";var r=w(94864);ln.exports=Function.prototype.bind||r},89222:(ln,qe,w)=>{"use strict";var r,s=w(52276),v=w(21776),S=w(63433),M=w(42025),C=w(35097),d=w(63698),F=w(87378),P=Function,G=function(me){try{return P('"use strict"; return ('+me+").constructor;")()}catch{}},N=Object.getOwnPropertyDescriptor;if(N)try{N({},"")}catch{N=null}var x=function(){throw new d},m=N?function(){try{return x}catch{try{return N(arguments,"callee").get}catch{return x}}}():x,E=w(17528)(),L=w(88003)(),ae=Object.getPrototypeOf||(L?function(me){return me.__proto__}:null),U={},Z=typeof Uint8Array>"u"||!ae?r:ae(Uint8Array),ne={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":E&&ae?ae([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":v,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&ae?ae(ae([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!E||!ae?r:ae((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":S,"%ReferenceError%":M,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!E||!ae?r:ae((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&ae?ae(""[Symbol.iterator]()):r,"%Symbol%":E?Symbol:r,"%SyntaxError%":C,"%ThrowTypeError%":m,"%TypedArray%":Z,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":F,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(ae)try{null.error}catch(me){var q=ae(ae(me));ne["%Error.prototype%"]=q}var le=function me(ee){var fe;if("%AsyncFunction%"===ee)fe=G("async function () {}");else if("%GeneratorFunction%"===ee)fe=G("function* () {}");else if("%AsyncGeneratorFunction%"===ee)fe=G("async function* () {}");else if("%AsyncGenerator%"===ee){var ye=me("%AsyncGeneratorFunction%");ye&&(fe=ye.prototype)}else if("%AsyncIteratorPrototype%"===ee){var Se=me("%AsyncGenerator%");Se&&ae&&(fe=ae(Se.prototype))}return ne[ee]=fe,fe},z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},J=w(82988),he=w(58252),we=J.call(Function.call,Array.prototype.concat),k=J.call(Function.apply,Array.prototype.splice),ue=J.call(Function.call,String.prototype.replace),Ie=J.call(Function.call,String.prototype.slice),ke=J.call(Function.call,RegExp.prototype.exec),Ze=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ce=/\\(\\)?/g,Kt=function(ee,fe){var Se,ye=ee;if(he(z,ye)&&(ye="%"+(Se=z[ye])[0]+"%"),he(ne,ye)){var Be=ne[ye];if(Be===U&&(Be=le(ye)),typeof Be>"u"&&!fe)throw new d("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:Se,name:ye,value:Be}}throw new C("intrinsic "+ee+" does not exist!")};ln.exports=function(ee,fe){if("string"!=typeof ee||0===ee.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof fe)throw new d('"allowMissing" argument must be a boolean');if(null===ke(/^%?[^%]*%?$/,ee))throw new C("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ye=function(ee){var fe=Ie(ee,0,1),ye=Ie(ee,-1);if("%"===fe&&"%"!==ye)throw new C("invalid intrinsic syntax, expected closing `%`");if("%"===ye&&"%"!==fe)throw new C("invalid intrinsic syntax, expected opening `%`");var Se=[];return ue(ee,Ze,function(Be,yt,qt,Ln){Se[Se.length]=qt?ue(Ln,Ce,"$1"):yt||Be}),Se}(ee),Se=ye.length>0?ye[0]:"",Be=Kt("%"+Se+"%",fe),yt=Be.name,qt=Be.value,Ln=!1,Tt=Be.alias;Tt&&(Se=Tt[0],k(ye,we([0,1],Tt)));for(var We=1,Ve=!0;We<ye.length;We+=1){var wt=ye[We],Y=Ie(wt,0,1),b=Ie(wt,-1);if(('"'===Y||"'"===Y||"`"===Y||'"'===b||"'"===b||"`"===b)&&Y!==b)throw new C("property names with quotes must have matching quotes");if(("constructor"===wt||!Ve)&&(Ln=!0),he(ne,yt="%"+(Se+="."+wt)+"%"))qt=ne[yt];else if(null!=qt){if(!(wt in qt)){if(!fe)throw new d("base intrinsic for "+ee+" exists, but the property is not available.");return}if(N&&We+1>=ye.length){var R=N(qt,wt);qt=(Ve=!!R)&&"get"in R&&!("originalValue"in R.get)?R.get:qt[wt]}else Ve=he(qt,wt),qt=qt[wt];Ve&&!Ln&&(ne[yt]=qt)}}return qt}},9818:(ln,qe,w)=>{"use strict";w.d(qe,{Ov:()=>v,p8:()=>r,tb:()=>s});var r=1e-6,s=typeof Float32Array<"u"?Float32Array:Array,v=Math.random;Math,Math.hypot||(Math.hypot=function(){for(var F=0,P=arguments.length;P--;)F+=arguments[P]*arguments[P];return Math.sqrt(F)})},7928:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{add:()=>k,adjoint:()=>N,clone:()=>S,copy:()=>M,create:()=>s,determinant:()=>x,equals:()=>Ce,exactEquals:()=>Ze,frob:()=>we,fromMat2d:()=>q,fromMat4:()=>v,fromQuat:()=>le,fromRotation:()=>Z,fromScaling:()=>ne,fromTranslation:()=>U,fromValues:()=>C,identity:()=>F,invert:()=>G,mul:()=>Nt,multiply:()=>m,multiplyScalar:()=>Ie,multiplyScalarAndAdd:()=>ke,normalFromMat4:()=>z,projection:()=>J,rotate:()=>L,scale:()=>ae,set:()=>d,str:()=>he,sub:()=>Kt,subtract:()=>ue,translate:()=>E,transpose:()=>P});var r=w(9818);function s(){var me=new r.tb(9);return r.tb!=Float32Array&&(me[1]=0,me[2]=0,me[3]=0,me[5]=0,me[6]=0,me[7]=0),me[0]=1,me[4]=1,me[8]=1,me}function v(me,ee){return me[0]=ee[0],me[1]=ee[1],me[2]=ee[2],me[3]=ee[4],me[4]=ee[5],me[5]=ee[6],me[6]=ee[8],me[7]=ee[9],me[8]=ee[10],me}function S(me){var ee=new r.tb(9);return ee[0]=me[0],ee[1]=me[1],ee[2]=me[2],ee[3]=me[3],ee[4]=me[4],ee[5]=me[5],ee[6]=me[6],ee[7]=me[7],ee[8]=me[8],ee}function M(me,ee){return me[0]=ee[0],me[1]=ee[1],me[2]=ee[2],me[3]=ee[3],me[4]=ee[4],me[5]=ee[5],me[6]=ee[6],me[7]=ee[7],me[8]=ee[8],me}function C(me,ee,fe,ye,Se,Be,yt,qt,Ln){var Tt=new r.tb(9);return Tt[0]=me,Tt[1]=ee,Tt[2]=fe,Tt[3]=ye,Tt[4]=Se,Tt[5]=Be,Tt[6]=yt,Tt[7]=qt,Tt[8]=Ln,Tt}function d(me,ee,fe,ye,Se,Be,yt,qt,Ln,Tt){return me[0]=ee,me[1]=fe,me[2]=ye,me[3]=Se,me[4]=Be,me[5]=yt,me[6]=qt,me[7]=Ln,me[8]=Tt,me}function F(me){return me[0]=1,me[1]=0,me[2]=0,me[3]=0,me[4]=1,me[5]=0,me[6]=0,me[7]=0,me[8]=1,me}function P(me,ee){if(me===ee){var fe=ee[1],ye=ee[2],Se=ee[5];me[1]=ee[3],me[2]=ee[6],me[3]=fe,me[5]=ee[7],me[6]=ye,me[7]=Se}else me[0]=ee[0],me[1]=ee[3],me[2]=ee[6],me[3]=ee[1],me[4]=ee[4],me[5]=ee[7],me[6]=ee[2],me[7]=ee[5],me[8]=ee[8];return me}function G(me,ee){var fe=ee[0],ye=ee[1],Se=ee[2],Be=ee[3],yt=ee[4],qt=ee[5],Ln=ee[6],Tt=ee[7],We=ee[8],Ve=We*yt-qt*Tt,wt=-We*Be+qt*Ln,Y=Tt*Be-yt*Ln,b=fe*Ve+ye*wt+Se*Y;return b?(me[0]=Ve*(b=1/b),me[1]=(-We*ye+Se*Tt)*b,me[2]=(qt*ye-Se*yt)*b,me[3]=wt*b,me[4]=(We*fe-Se*Ln)*b,me[5]=(-qt*fe+Se*Be)*b,me[6]=Y*b,me[7]=(-Tt*fe+ye*Ln)*b,me[8]=(yt*fe-ye*Be)*b,me):null}function N(me,ee){var fe=ee[0],ye=ee[1],Se=ee[2],Be=ee[3],yt=ee[4],qt=ee[5],Ln=ee[6],Tt=ee[7],We=ee[8];return me[0]=yt*We-qt*Tt,me[1]=Se*Tt-ye*We,me[2]=ye*qt-Se*yt,me[3]=qt*Ln-Be*We,me[4]=fe*We-Se*Ln,me[5]=Se*Be-fe*qt,me[6]=Be*Tt-yt*Ln,me[7]=ye*Ln-fe*Tt,me[8]=fe*yt-ye*Be,me}function x(me){var Se=me[3],Be=me[4],yt=me[5],qt=me[6],Ln=me[7],Tt=me[8];return me[0]*(Tt*Be-yt*Ln)+me[1]*(-Tt*Se+yt*qt)+me[2]*(Ln*Se-Be*qt)}function m(me,ee,fe){var ye=ee[0],Se=ee[1],Be=ee[2],yt=ee[3],qt=ee[4],Ln=ee[5],Tt=ee[6],We=ee[7],Ve=ee[8],wt=fe[0],Y=fe[1],b=fe[2],R=fe[3],T=fe[4],V=fe[5],j=fe[6],h=fe[7],I=fe[8];return me[0]=wt*ye+Y*yt+b*Tt,me[1]=wt*Se+Y*qt+b*We,me[2]=wt*Be+Y*Ln+b*Ve,me[3]=R*ye+T*yt+V*Tt,me[4]=R*Se+T*qt+V*We,me[5]=R*Be+T*Ln+V*Ve,me[6]=j*ye+h*yt+I*Tt,me[7]=j*Se+h*qt+I*We,me[8]=j*Be+h*Ln+I*Ve,me}function E(me,ee,fe){var ye=ee[0],Se=ee[1],Be=ee[2],yt=ee[3],qt=ee[4],Ln=ee[5],Tt=ee[6],We=ee[7],Ve=ee[8],wt=fe[0],Y=fe[1];return me[0]=ye,me[1]=Se,me[2]=Be,me[3]=yt,me[4]=qt,me[5]=Ln,me[6]=wt*ye+Y*yt+Tt,me[7]=wt*Se+Y*qt+We,me[8]=wt*Be+Y*Ln+Ve,me}function L(me,ee,fe){var ye=ee[0],Se=ee[1],Be=ee[2],yt=ee[3],qt=ee[4],Ln=ee[5],Tt=ee[6],We=ee[7],Ve=ee[8],wt=Math.sin(fe),Y=Math.cos(fe);return me[0]=Y*ye+wt*yt,me[1]=Y*Se+wt*qt,me[2]=Y*Be+wt*Ln,me[3]=Y*yt-wt*ye,me[4]=Y*qt-wt*Se,me[5]=Y*Ln-wt*Be,me[6]=Tt,me[7]=We,me[8]=Ve,me}function ae(me,ee,fe){var ye=fe[0],Se=fe[1];return me[0]=ye*ee[0],me[1]=ye*ee[1],me[2]=ye*ee[2],me[3]=Se*ee[3],me[4]=Se*ee[4],me[5]=Se*ee[5],me[6]=ee[6],me[7]=ee[7],me[8]=ee[8],me}function U(me,ee){return me[0]=1,me[1]=0,me[2]=0,me[3]=0,me[4]=1,me[5]=0,me[6]=ee[0],me[7]=ee[1],me[8]=1,me}function Z(me,ee){var fe=Math.sin(ee),ye=Math.cos(ee);return me[0]=ye,me[1]=fe,me[2]=0,me[3]=-fe,me[4]=ye,me[5]=0,me[6]=0,me[7]=0,me[8]=1,me}function ne(me,ee){return me[0]=ee[0],me[1]=0,me[2]=0,me[3]=0,me[4]=ee[1],me[5]=0,me[6]=0,me[7]=0,me[8]=1,me}function q(me,ee){return me[0]=ee[0],me[1]=ee[1],me[2]=0,me[3]=ee[2],me[4]=ee[3],me[5]=0,me[6]=ee[4],me[7]=ee[5],me[8]=1,me}function le(me,ee){var fe=ee[0],ye=ee[1],Se=ee[2],Be=ee[3],yt=fe+fe,qt=ye+ye,Ln=Se+Se,Tt=fe*yt,We=ye*yt,Ve=ye*qt,wt=Se*yt,Y=Se*qt,b=Se*Ln,R=Be*yt,T=Be*qt,V=Be*Ln;return me[0]=1-Ve-b,me[3]=We-V,me[6]=wt+T,me[1]=We+V,me[4]=1-Tt-b,me[7]=Y-R,me[2]=wt-T,me[5]=Y+R,me[8]=1-Tt-Ve,me}function z(me,ee){var fe=ee[0],ye=ee[1],Se=ee[2],Be=ee[3],yt=ee[4],qt=ee[5],Ln=ee[6],Tt=ee[7],We=ee[8],Ve=ee[9],wt=ee[10],Y=ee[11],b=ee[12],R=ee[13],T=ee[14],V=ee[15],j=fe*qt-ye*yt,h=fe*Ln-Se*yt,I=fe*Tt-Be*yt,xe=ye*Ln-Se*qt,ie=ye*Tt-Be*qt,D=Se*Tt-Be*Ln,K=We*R-Ve*b,se=We*T-wt*b,Le=We*V-Y*b,ct=Ve*T-wt*R,ut=Ve*V-Y*R,en=wt*V-Y*T,Oe=j*en-h*ut+I*ct+xe*Le-ie*se+D*K;return Oe?(me[0]=(qt*en-Ln*ut+Tt*ct)*(Oe=1/Oe),me[1]=(Ln*Le-yt*en-Tt*se)*Oe,me[2]=(yt*ut-qt*Le+Tt*K)*Oe,me[3]=(Se*ut-ye*en-Be*ct)*Oe,me[4]=(fe*en-Se*Le+Be*se)*Oe,me[5]=(ye*Le-fe*ut-Be*K)*Oe,me[6]=(R*D-T*ie+V*xe)*Oe,me[7]=(T*I-b*D-V*h)*Oe,me[8]=(b*ie-R*I+V*j)*Oe,me):null}function J(me,ee,fe){return me[0]=2/ee,me[1]=0,me[2]=0,me[3]=0,me[4]=-2/fe,me[5]=0,me[6]=-1,me[7]=1,me[8]=1,me}function he(me){return"mat3("+me[0]+", "+me[1]+", "+me[2]+", "+me[3]+", "+me[4]+", "+me[5]+", "+me[6]+", "+me[7]+", "+me[8]+")"}function we(me){return Math.hypot(me[0],me[1],me[2],me[3],me[4],me[5],me[6],me[7],me[8])}function k(me,ee,fe){return me[0]=ee[0]+fe[0],me[1]=ee[1]+fe[1],me[2]=ee[2]+fe[2],me[3]=ee[3]+fe[3],me[4]=ee[4]+fe[4],me[5]=ee[5]+fe[5],me[6]=ee[6]+fe[6],me[7]=ee[7]+fe[7],me[8]=ee[8]+fe[8],me}function ue(me,ee,fe){return me[0]=ee[0]-fe[0],me[1]=ee[1]-fe[1],me[2]=ee[2]-fe[2],me[3]=ee[3]-fe[3],me[4]=ee[4]-fe[4],me[5]=ee[5]-fe[5],me[6]=ee[6]-fe[6],me[7]=ee[7]-fe[7],me[8]=ee[8]-fe[8],me}function Ie(me,ee,fe){return me[0]=ee[0]*fe,me[1]=ee[1]*fe,me[2]=ee[2]*fe,me[3]=ee[3]*fe,me[4]=ee[4]*fe,me[5]=ee[5]*fe,me[6]=ee[6]*fe,me[7]=ee[7]*fe,me[8]=ee[8]*fe,me}function ke(me,ee,fe,ye){return me[0]=ee[0]+fe[0]*ye,me[1]=ee[1]+fe[1]*ye,me[2]=ee[2]+fe[2]*ye,me[3]=ee[3]+fe[3]*ye,me[4]=ee[4]+fe[4]*ye,me[5]=ee[5]+fe[5]*ye,me[6]=ee[6]+fe[6]*ye,me[7]=ee[7]+fe[7]*ye,me[8]=ee[8]+fe[8]*ye,me}function Ze(me,ee){return me[0]===ee[0]&&me[1]===ee[1]&&me[2]===ee[2]&&me[3]===ee[3]&&me[4]===ee[4]&&me[5]===ee[5]&&me[6]===ee[6]&&me[7]===ee[7]&&me[8]===ee[8]}function Ce(me,ee){var fe=me[0],ye=me[1],Se=me[2],Be=me[3],yt=me[4],qt=me[5],Ln=me[6],Tt=me[7],We=me[8],Ve=ee[0],wt=ee[1],Y=ee[2],b=ee[3],R=ee[4],T=ee[5],V=ee[6],j=ee[7],h=ee[8];return Math.abs(fe-Ve)<=r.p8*Math.max(1,Math.abs(fe),Math.abs(Ve))&&Math.abs(ye-wt)<=r.p8*Math.max(1,Math.abs(ye),Math.abs(wt))&&Math.abs(Se-Y)<=r.p8*Math.max(1,Math.abs(Se),Math.abs(Y))&&Math.abs(Be-b)<=r.p8*Math.max(1,Math.abs(Be),Math.abs(b))&&Math.abs(yt-R)<=r.p8*Math.max(1,Math.abs(yt),Math.abs(R))&&Math.abs(qt-T)<=r.p8*Math.max(1,Math.abs(qt),Math.abs(T))&&Math.abs(Ln-V)<=r.p8*Math.max(1,Math.abs(Ln),Math.abs(V))&&Math.abs(Tt-j)<=r.p8*Math.max(1,Math.abs(Tt),Math.abs(j))&&Math.abs(We-h)<=r.p8*Math.max(1,Math.abs(We),Math.abs(h))}var Nt=m,Kt=ue},65133:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{add:()=>Ve,adjoint:()=>G,clone:()=>v,copy:()=>S,create:()=>s,determinant:()=>N,equals:()=>T,exactEquals:()=>R,frob:()=>We,fromQuat:()=>Nt,fromQuat2:()=>k,fromRotation:()=>le,fromRotationTranslation:()=>we,fromRotationTranslationScale:()=>Ze,fromRotationTranslationScaleOrigin:()=>Ce,fromScaling:()=>q,fromTranslation:()=>ne,fromValues:()=>M,fromXRotation:()=>z,fromYRotation:()=>J,fromZRotation:()=>he,frustum:()=>Kt,getRotation:()=>ke,getScaling:()=>Ie,getTranslation:()=>ue,identity:()=>d,invert:()=>P,lookAt:()=>qt,mul:()=>V,multiply:()=>x,multiplyScalar:()=>Y,multiplyScalarAndAdd:()=>b,ortho:()=>Be,orthoNO:()=>Se,orthoZO:()=>yt,perspective:()=>ee,perspectiveFromFieldOfView:()=>ye,perspectiveNO:()=>me,perspectiveZO:()=>fe,rotate:()=>L,rotateX:()=>ae,rotateY:()=>U,rotateZ:()=>Z,scale:()=>E,set:()=>C,str:()=>Tt,sub:()=>j,subtract:()=>wt,targetTo:()=>Ln,translate:()=>m,transpose:()=>F});var r=w(9818);function s(){var h=new r.tb(16);return r.tb!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0),h[0]=1,h[5]=1,h[10]=1,h[15]=1,h}function v(h){var I=new r.tb(16);return I[0]=h[0],I[1]=h[1],I[2]=h[2],I[3]=h[3],I[4]=h[4],I[5]=h[5],I[6]=h[6],I[7]=h[7],I[8]=h[8],I[9]=h[9],I[10]=h[10],I[11]=h[11],I[12]=h[12],I[13]=h[13],I[14]=h[14],I[15]=h[15],I}function S(h,I){return h[0]=I[0],h[1]=I[1],h[2]=I[2],h[3]=I[3],h[4]=I[4],h[5]=I[5],h[6]=I[6],h[7]=I[7],h[8]=I[8],h[9]=I[9],h[10]=I[10],h[11]=I[11],h[12]=I[12],h[13]=I[13],h[14]=I[14],h[15]=I[15],h}function M(h,I,xe,ie,D,K,se,Le,ct,ut,en,Oe,Pt,it,Bt,pn){var st=new r.tb(16);return st[0]=h,st[1]=I,st[2]=xe,st[3]=ie,st[4]=D,st[5]=K,st[6]=se,st[7]=Le,st[8]=ct,st[9]=ut,st[10]=en,st[11]=Oe,st[12]=Pt,st[13]=it,st[14]=Bt,st[15]=pn,st}function C(h,I,xe,ie,D,K,se,Le,ct,ut,en,Oe,Pt,it,Bt,pn,st){return h[0]=I,h[1]=xe,h[2]=ie,h[3]=D,h[4]=K,h[5]=se,h[6]=Le,h[7]=ct,h[8]=ut,h[9]=en,h[10]=Oe,h[11]=Pt,h[12]=it,h[13]=Bt,h[14]=pn,h[15]=st,h}function d(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function F(h,I){if(h===I){var xe=I[1],ie=I[2],D=I[3],K=I[6],se=I[7],Le=I[11];h[1]=I[4],h[2]=I[8],h[3]=I[12],h[4]=xe,h[6]=I[9],h[7]=I[13],h[8]=ie,h[9]=K,h[11]=I[14],h[12]=D,h[13]=se,h[14]=Le}else h[0]=I[0],h[1]=I[4],h[2]=I[8],h[3]=I[12],h[4]=I[1],h[5]=I[5],h[6]=I[9],h[7]=I[13],h[8]=I[2],h[9]=I[6],h[10]=I[10],h[11]=I[14],h[12]=I[3],h[13]=I[7],h[14]=I[11],h[15]=I[15];return h}function P(h,I){var xe=I[0],ie=I[1],D=I[2],K=I[3],se=I[4],Le=I[5],ct=I[6],ut=I[7],en=I[8],Oe=I[9],Pt=I[10],it=I[11],Bt=I[12],pn=I[13],st=I[14],mt=I[15],Ut=xe*Le-ie*se,Ne=xe*ct-D*se,zt=xe*ut-K*se,Zt=ie*ct-D*Le,Cn=ie*ut-K*Le,Zn=D*ut-K*ct,br=en*pn-Oe*Bt,Mr=en*st-Pt*Bt,yn=en*mt-it*Bt,St=Oe*st-Pt*pn,kt=Oe*mt-it*pn,Mt=Pt*mt-it*st,bt=Ut*Mt-Ne*kt+zt*St+Zt*yn-Cn*Mr+Zn*br;return bt?(h[0]=(Le*Mt-ct*kt+ut*St)*(bt=1/bt),h[1]=(D*kt-ie*Mt-K*St)*bt,h[2]=(pn*Zn-st*Cn+mt*Zt)*bt,h[3]=(Pt*Cn-Oe*Zn-it*Zt)*bt,h[4]=(ct*yn-se*Mt-ut*Mr)*bt,h[5]=(xe*Mt-D*yn+K*Mr)*bt,h[6]=(st*zt-Bt*Zn-mt*Ne)*bt,h[7]=(en*Zn-Pt*zt+it*Ne)*bt,h[8]=(se*kt-Le*yn+ut*br)*bt,h[9]=(ie*yn-xe*kt-K*br)*bt,h[10]=(Bt*Cn-pn*zt+mt*Ut)*bt,h[11]=(Oe*zt-en*Cn-it*Ut)*bt,h[12]=(Le*Mr-se*St-ct*br)*bt,h[13]=(xe*St-ie*Mr+D*br)*bt,h[14]=(pn*Ne-Bt*Zt-st*Ut)*bt,h[15]=(en*Zt-Oe*Ne+Pt*Ut)*bt,h):null}function G(h,I){var xe=I[0],ie=I[1],D=I[2],K=I[3],se=I[4],Le=I[5],ct=I[6],ut=I[7],en=I[8],Oe=I[9],Pt=I[10],it=I[11],Bt=I[12],pn=I[13],st=I[14],mt=I[15];return h[0]=Le*(Pt*mt-it*st)-Oe*(ct*mt-ut*st)+pn*(ct*it-ut*Pt),h[1]=-(ie*(Pt*mt-it*st)-Oe*(D*mt-K*st)+pn*(D*it-K*Pt)),h[2]=ie*(ct*mt-ut*st)-Le*(D*mt-K*st)+pn*(D*ut-K*ct),h[3]=-(ie*(ct*it-ut*Pt)-Le*(D*it-K*Pt)+Oe*(D*ut-K*ct)),h[4]=-(se*(Pt*mt-it*st)-en*(ct*mt-ut*st)+Bt*(ct*it-ut*Pt)),h[5]=xe*(Pt*mt-it*st)-en*(D*mt-K*st)+Bt*(D*it-K*Pt),h[6]=-(xe*(ct*mt-ut*st)-se*(D*mt-K*st)+Bt*(D*ut-K*ct)),h[7]=xe*(ct*it-ut*Pt)-se*(D*it-K*Pt)+en*(D*ut-K*ct),h[8]=se*(Oe*mt-it*pn)-en*(Le*mt-ut*pn)+Bt*(Le*it-ut*Oe),h[9]=-(xe*(Oe*mt-it*pn)-en*(ie*mt-K*pn)+Bt*(ie*it-K*Oe)),h[10]=xe*(Le*mt-ut*pn)-se*(ie*mt-K*pn)+Bt*(ie*ut-K*Le),h[11]=-(xe*(Le*it-ut*Oe)-se*(ie*it-K*Oe)+en*(ie*ut-K*Le)),h[12]=-(se*(Oe*st-Pt*pn)-en*(Le*st-ct*pn)+Bt*(Le*Pt-ct*Oe)),h[13]=xe*(Oe*st-Pt*pn)-en*(ie*st-D*pn)+Bt*(ie*Pt-D*Oe),h[14]=-(xe*(Le*st-ct*pn)-se*(ie*st-D*pn)+Bt*(ie*ct-D*Le)),h[15]=xe*(Le*Pt-ct*Oe)-se*(ie*Pt-D*Oe)+en*(ie*ct-D*Le),h}function N(h){var I=h[0],xe=h[1],ie=h[2],D=h[3],K=h[4],se=h[5],Le=h[6],ct=h[7],ut=h[8],en=h[9],Oe=h[10],Pt=h[11],it=h[12],Bt=h[13],pn=h[14],st=h[15];return(I*se-xe*K)*(Oe*st-Pt*pn)-(I*Le-ie*K)*(en*st-Pt*Bt)+(I*ct-D*K)*(en*pn-Oe*Bt)+(xe*Le-ie*se)*(ut*st-Pt*it)-(xe*ct-D*se)*(ut*pn-Oe*it)+(ie*ct-D*Le)*(ut*Bt-en*it)}function x(h,I,xe){var ie=I[0],D=I[1],K=I[2],se=I[3],Le=I[4],ct=I[5],ut=I[6],en=I[7],Oe=I[8],Pt=I[9],it=I[10],Bt=I[11],pn=I[12],st=I[13],mt=I[14],Ut=I[15],Ne=xe[0],zt=xe[1],Zt=xe[2],Cn=xe[3];return h[0]=Ne*ie+zt*Le+Zt*Oe+Cn*pn,h[1]=Ne*D+zt*ct+Zt*Pt+Cn*st,h[2]=Ne*K+zt*ut+Zt*it+Cn*mt,h[3]=Ne*se+zt*en+Zt*Bt+Cn*Ut,h[4]=(Ne=xe[4])*ie+(zt=xe[5])*Le+(Zt=xe[6])*Oe+(Cn=xe[7])*pn,h[5]=Ne*D+zt*ct+Zt*Pt+Cn*st,h[6]=Ne*K+zt*ut+Zt*it+Cn*mt,h[7]=Ne*se+zt*en+Zt*Bt+Cn*Ut,h[8]=(Ne=xe[8])*ie+(zt=xe[9])*Le+(Zt=xe[10])*Oe+(Cn=xe[11])*pn,h[9]=Ne*D+zt*ct+Zt*Pt+Cn*st,h[10]=Ne*K+zt*ut+Zt*it+Cn*mt,h[11]=Ne*se+zt*en+Zt*Bt+Cn*Ut,h[12]=(Ne=xe[12])*ie+(zt=xe[13])*Le+(Zt=xe[14])*Oe+(Cn=xe[15])*pn,h[13]=Ne*D+zt*ct+Zt*Pt+Cn*st,h[14]=Ne*K+zt*ut+Zt*it+Cn*mt,h[15]=Ne*se+zt*en+Zt*Bt+Cn*Ut,h}function m(h,I,xe){var se,Le,ct,ut,en,Oe,Pt,it,Bt,pn,st,mt,ie=xe[0],D=xe[1],K=xe[2];return I===h?(h[12]=I[0]*ie+I[4]*D+I[8]*K+I[12],h[13]=I[1]*ie+I[5]*D+I[9]*K+I[13],h[14]=I[2]*ie+I[6]*D+I[10]*K+I[14],h[15]=I[3]*ie+I[7]*D+I[11]*K+I[15]):(Le=I[1],ct=I[2],ut=I[3],en=I[4],Oe=I[5],Pt=I[6],it=I[7],Bt=I[8],pn=I[9],st=I[10],mt=I[11],h[0]=se=I[0],h[1]=Le,h[2]=ct,h[3]=ut,h[4]=en,h[5]=Oe,h[6]=Pt,h[7]=it,h[8]=Bt,h[9]=pn,h[10]=st,h[11]=mt,h[12]=se*ie+en*D+Bt*K+I[12],h[13]=Le*ie+Oe*D+pn*K+I[13],h[14]=ct*ie+Pt*D+st*K+I[14],h[15]=ut*ie+it*D+mt*K+I[15]),h}function E(h,I,xe){var ie=xe[0],D=xe[1],K=xe[2];return h[0]=I[0]*ie,h[1]=I[1]*ie,h[2]=I[2]*ie,h[3]=I[3]*ie,h[4]=I[4]*D,h[5]=I[5]*D,h[6]=I[6]*D,h[7]=I[7]*D,h[8]=I[8]*K,h[9]=I[9]*K,h[10]=I[10]*K,h[11]=I[11]*K,h[12]=I[12],h[13]=I[13],h[14]=I[14],h[15]=I[15],h}function L(h,I,xe,ie){var ct,ut,en,Oe,Pt,it,Bt,pn,st,mt,Ut,Ne,zt,Zt,Cn,Zn,br,Mr,yn,St,kt,Mt,bt,sn,D=ie[0],K=ie[1],se=ie[2],Le=Math.hypot(D,K,se);return Le<r.p8?null:(D*=Le=1/Le,K*=Le,se*=Le,ct=Math.sin(xe),ut=Math.cos(xe),Pt=I[1],it=I[2],Bt=I[3],st=I[5],mt=I[6],Ut=I[7],zt=I[9],Zt=I[10],Cn=I[11],yn=D*K*(en=1-ut)-se*ct,St=K*K*en+ut,kt=se*K*en+D*ct,Mt=D*se*en+K*ct,bt=K*se*en-D*ct,sn=se*se*en+ut,h[0]=(Oe=I[0])*(Zn=D*D*en+ut)+(pn=I[4])*(br=K*D*en+se*ct)+(Ne=I[8])*(Mr=se*D*en-K*ct),h[1]=Pt*Zn+st*br+zt*Mr,h[2]=it*Zn+mt*br+Zt*Mr,h[3]=Bt*Zn+Ut*br+Cn*Mr,h[4]=Oe*yn+pn*St+Ne*kt,h[5]=Pt*yn+st*St+zt*kt,h[6]=it*yn+mt*St+Zt*kt,h[7]=Bt*yn+Ut*St+Cn*kt,h[8]=Oe*Mt+pn*bt+Ne*sn,h[9]=Pt*Mt+st*bt+zt*sn,h[10]=it*Mt+mt*bt+Zt*sn,h[11]=Bt*Mt+Ut*bt+Cn*sn,I!==h&&(h[12]=I[12],h[13]=I[13],h[14]=I[14],h[15]=I[15]),h)}function ae(h,I,xe){var ie=Math.sin(xe),D=Math.cos(xe),K=I[4],se=I[5],Le=I[6],ct=I[7],ut=I[8],en=I[9],Oe=I[10],Pt=I[11];return I!==h&&(h[0]=I[0],h[1]=I[1],h[2]=I[2],h[3]=I[3],h[12]=I[12],h[13]=I[13],h[14]=I[14],h[15]=I[15]),h[4]=K*D+ut*ie,h[5]=se*D+en*ie,h[6]=Le*D+Oe*ie,h[7]=ct*D+Pt*ie,h[8]=ut*D-K*ie,h[9]=en*D-se*ie,h[10]=Oe*D-Le*ie,h[11]=Pt*D-ct*ie,h}function U(h,I,xe){var ie=Math.sin(xe),D=Math.cos(xe),K=I[0],se=I[1],Le=I[2],ct=I[3],ut=I[8],en=I[9],Oe=I[10],Pt=I[11];return I!==h&&(h[4]=I[4],h[5]=I[5],h[6]=I[6],h[7]=I[7],h[12]=I[12],h[13]=I[13],h[14]=I[14],h[15]=I[15]),h[0]=K*D-ut*ie,h[1]=se*D-en*ie,h[2]=Le*D-Oe*ie,h[3]=ct*D-Pt*ie,h[8]=K*ie+ut*D,h[9]=se*ie+en*D,h[10]=Le*ie+Oe*D,h[11]=ct*ie+Pt*D,h}function Z(h,I,xe){var ie=Math.sin(xe),D=Math.cos(xe),K=I[0],se=I[1],Le=I[2],ct=I[3],ut=I[4],en=I[5],Oe=I[6],Pt=I[7];return I!==h&&(h[8]=I[8],h[9]=I[9],h[10]=I[10],h[11]=I[11],h[12]=I[12],h[13]=I[13],h[14]=I[14],h[15]=I[15]),h[0]=K*D+ut*ie,h[1]=se*D+en*ie,h[2]=Le*D+Oe*ie,h[3]=ct*D+Pt*ie,h[4]=ut*D-K*ie,h[5]=en*D-se*ie,h[6]=Oe*D-Le*ie,h[7]=Pt*D-ct*ie,h}function ne(h,I){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=I[0],h[13]=I[1],h[14]=I[2],h[15]=1,h}function q(h,I){return h[0]=I[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=I[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=I[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function le(h,I,xe){var Le,ct,ut,ie=xe[0],D=xe[1],K=xe[2],se=Math.hypot(ie,D,K);return se<r.p8?null:(ie*=se=1/se,D*=se,K*=se,Le=Math.sin(I),ct=Math.cos(I),h[0]=ie*ie*(ut=1-ct)+ct,h[1]=D*ie*ut+K*Le,h[2]=K*ie*ut-D*Le,h[3]=0,h[4]=ie*D*ut-K*Le,h[5]=D*D*ut+ct,h[6]=K*D*ut+ie*Le,h[7]=0,h[8]=ie*K*ut+D*Le,h[9]=D*K*ut-ie*Le,h[10]=K*K*ut+ct,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h)}function z(h,I){var xe=Math.sin(I),ie=Math.cos(I);return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=ie,h[6]=xe,h[7]=0,h[8]=0,h[9]=-xe,h[10]=ie,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function J(h,I){var xe=Math.sin(I),ie=Math.cos(I);return h[0]=ie,h[1]=0,h[2]=-xe,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=xe,h[9]=0,h[10]=ie,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function he(h,I){var xe=Math.sin(I),ie=Math.cos(I);return h[0]=ie,h[1]=xe,h[2]=0,h[3]=0,h[4]=-xe,h[5]=ie,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function we(h,I,xe){var ie=I[0],D=I[1],K=I[2],se=I[3],Le=ie+ie,ct=D+D,ut=K+K,en=ie*Le,Oe=ie*ct,Pt=ie*ut,it=D*ct,Bt=D*ut,pn=K*ut,st=se*Le,mt=se*ct,Ut=se*ut;return h[0]=1-(it+pn),h[1]=Oe+Ut,h[2]=Pt-mt,h[3]=0,h[4]=Oe-Ut,h[5]=1-(en+pn),h[6]=Bt+st,h[7]=0,h[8]=Pt+mt,h[9]=Bt-st,h[10]=1-(en+it),h[11]=0,h[12]=xe[0],h[13]=xe[1],h[14]=xe[2],h[15]=1,h}function k(h,I){var xe=new r.tb(3),ie=-I[0],D=-I[1],K=-I[2],se=I[3],Le=I[4],ct=I[5],ut=I[6],en=I[7],Oe=ie*ie+D*D+K*K+se*se;return Oe>0?(xe[0]=2*(Le*se+en*ie+ct*K-ut*D)/Oe,xe[1]=2*(ct*se+en*D+ut*ie-Le*K)/Oe,xe[2]=2*(ut*se+en*K+Le*D-ct*ie)/Oe):(xe[0]=2*(Le*se+en*ie+ct*K-ut*D),xe[1]=2*(ct*se+en*D+ut*ie-Le*K),xe[2]=2*(ut*se+en*K+Le*D-ct*ie)),we(h,I,xe),h}function ue(h,I){return h[0]=I[12],h[1]=I[13],h[2]=I[14],h}function Ie(h,I){var K=I[4],se=I[5],Le=I[6],ct=I[8],ut=I[9],en=I[10];return h[0]=Math.hypot(I[0],I[1],I[2]),h[1]=Math.hypot(K,se,Le),h[2]=Math.hypot(ct,ut,en),h}function ke(h,I){var xe=new r.tb(3);Ie(xe,I);var ie=1/xe[0],D=1/xe[1],K=1/xe[2],se=I[0]*ie,Le=I[1]*D,ct=I[2]*K,ut=I[4]*ie,en=I[5]*D,Oe=I[6]*K,Pt=I[8]*ie,it=I[9]*D,Bt=I[10]*K,pn=se+en+Bt,st=0;return pn>0?(st=2*Math.sqrt(pn+1),h[3]=.25*st,h[0]=(Oe-it)/st,h[1]=(Pt-ct)/st,h[2]=(Le-ut)/st):se>en&&se>Bt?(st=2*Math.sqrt(1+se-en-Bt),h[3]=(Oe-it)/st,h[0]=.25*st,h[1]=(Le+ut)/st,h[2]=(Pt+ct)/st):en>Bt?(st=2*Math.sqrt(1+en-se-Bt),h[3]=(Pt-ct)/st,h[0]=(Le+ut)/st,h[1]=.25*st,h[2]=(Oe+it)/st):(st=2*Math.sqrt(1+Bt-se-en),h[3]=(Le-ut)/st,h[0]=(Pt+ct)/st,h[1]=(Oe+it)/st,h[2]=.25*st),h}function Ze(h,I,xe,ie){var D=I[0],K=I[1],se=I[2],Le=I[3],ct=D+D,ut=K+K,en=se+se,Oe=D*ct,Pt=D*ut,it=D*en,Bt=K*ut,pn=K*en,st=se*en,mt=Le*ct,Ut=Le*ut,Ne=Le*en,zt=ie[0],Zt=ie[1],Cn=ie[2];return h[0]=(1-(Bt+st))*zt,h[1]=(Pt+Ne)*zt,h[2]=(it-Ut)*zt,h[3]=0,h[4]=(Pt-Ne)*Zt,h[5]=(1-(Oe+st))*Zt,h[6]=(pn+mt)*Zt,h[7]=0,h[8]=(it+Ut)*Cn,h[9]=(pn-mt)*Cn,h[10]=(1-(Oe+Bt))*Cn,h[11]=0,h[12]=xe[0],h[13]=xe[1],h[14]=xe[2],h[15]=1,h}function Ce(h,I,xe,ie,D){var K=I[0],se=I[1],Le=I[2],ct=I[3],ut=K+K,en=se+se,Oe=Le+Le,Pt=K*ut,it=K*en,Bt=K*Oe,pn=se*en,st=se*Oe,mt=Le*Oe,Ut=ct*ut,Ne=ct*en,zt=ct*Oe,Zt=ie[0],Cn=ie[1],Zn=ie[2],br=D[0],Mr=D[1],yn=D[2],St=(1-(pn+mt))*Zt,kt=(it+zt)*Zt,Mt=(Bt-Ne)*Zt,bt=(it-zt)*Cn,sn=(1-(Pt+mt))*Cn,Yt=(st+Ut)*Cn,Qe=(Bt+Ne)*Zn,Lt=(st-Ut)*Zn,Mn=(1-(Pt+pn))*Zn;return h[0]=St,h[1]=kt,h[2]=Mt,h[3]=0,h[4]=bt,h[5]=sn,h[6]=Yt,h[7]=0,h[8]=Qe,h[9]=Lt,h[10]=Mn,h[11]=0,h[12]=xe[0]+br-(St*br+bt*Mr+Qe*yn),h[13]=xe[1]+Mr-(kt*br+sn*Mr+Lt*yn),h[14]=xe[2]+yn-(Mt*br+Yt*Mr+Mn*yn),h[15]=1,h}function Nt(h,I){var xe=I[0],ie=I[1],D=I[2],K=I[3],se=xe+xe,Le=ie+ie,ct=D+D,ut=xe*se,en=ie*se,Oe=ie*Le,Pt=D*se,it=D*Le,Bt=D*ct,pn=K*se,st=K*Le,mt=K*ct;return h[0]=1-Oe-Bt,h[1]=en+mt,h[2]=Pt-st,h[3]=0,h[4]=en-mt,h[5]=1-ut-Bt,h[6]=it+pn,h[7]=0,h[8]=Pt+st,h[9]=it-pn,h[10]=1-ut-Oe,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Kt(h,I,xe,ie,D,K,se){var Le=1/(xe-I),ct=1/(D-ie),ut=1/(K-se);return h[0]=2*K*Le,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*K*ct,h[6]=0,h[7]=0,h[8]=(xe+I)*Le,h[9]=(D+ie)*ct,h[10]=(se+K)*ut,h[11]=-1,h[12]=0,h[13]=0,h[14]=se*K*2*ut,h[15]=0,h}function me(h,I,xe,ie,D){var se,K=1/Math.tan(I/2);return h[0]=K/xe,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=K,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,null!=D&&D!==1/0?(h[10]=(D+ie)*(se=1/(ie-D)),h[14]=2*D*ie*se):(h[10]=-1,h[14]=-2*ie),h}var ee=me;function fe(h,I,xe,ie,D){var se,K=1/Math.tan(I/2);return h[0]=K/xe,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=K,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,null!=D&&D!==1/0?(h[10]=D*(se=1/(ie-D)),h[14]=D*ie*se):(h[10]=-1,h[14]=-ie),h}function ye(h,I,xe,ie){var D=Math.tan(I.upDegrees*Math.PI/180),K=Math.tan(I.downDegrees*Math.PI/180),se=Math.tan(I.leftDegrees*Math.PI/180),Le=Math.tan(I.rightDegrees*Math.PI/180),ct=2/(se+Le),ut=2/(D+K);return h[0]=ct,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=ut,h[6]=0,h[7]=0,h[8]=-(se-Le)*ct*.5,h[9]=(D-K)*ut*.5,h[10]=ie/(xe-ie),h[11]=-1,h[12]=0,h[13]=0,h[14]=ie*xe/(xe-ie),h[15]=0,h}function Se(h,I,xe,ie,D,K,se){var Le=1/(I-xe),ct=1/(ie-D),ut=1/(K-se);return h[0]=-2*Le,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*ct,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*ut,h[11]=0,h[12]=(I+xe)*Le,h[13]=(D+ie)*ct,h[14]=(se+K)*ut,h[15]=1,h}var Be=Se;function yt(h,I,xe,ie,D,K,se){var Le=1/(I-xe),ct=1/(ie-D),ut=1/(K-se);return h[0]=-2*Le,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*ct,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=ut,h[11]=0,h[12]=(I+xe)*Le,h[13]=(D+ie)*ct,h[14]=K*ut,h[15]=1,h}function qt(h,I,xe,ie){var D,K,se,Le,ct,ut,en,Oe,Pt,it,Bt=I[0],pn=I[1],st=I[2],mt=ie[0],Ut=ie[1],Ne=ie[2],zt=xe[0],Zt=xe[1],Cn=xe[2];return Math.abs(Bt-zt)<r.p8&&Math.abs(pn-Zt)<r.p8&&Math.abs(st-Cn)<r.p8?d(h):(en=Bt-zt,Oe=pn-Zt,Pt=st-Cn,D=Ut*(Pt*=it=1/Math.hypot(en,Oe,Pt))-Ne*(Oe*=it),K=Ne*(en*=it)-mt*Pt,se=mt*Oe-Ut*en,(it=Math.hypot(D,K,se))?(D*=it=1/it,K*=it,se*=it):(D=0,K=0,se=0),Le=Oe*se-Pt*K,ct=Pt*D-en*se,ut=en*K-Oe*D,(it=Math.hypot(Le,ct,ut))?(Le*=it=1/it,ct*=it,ut*=it):(Le=0,ct=0,ut=0),h[0]=D,h[1]=Le,h[2]=en,h[3]=0,h[4]=K,h[5]=ct,h[6]=Oe,h[7]=0,h[8]=se,h[9]=ut,h[10]=Pt,h[11]=0,h[12]=-(D*Bt+K*pn+se*st),h[13]=-(Le*Bt+ct*pn+ut*st),h[14]=-(en*Bt+Oe*pn+Pt*st),h[15]=1,h)}function Ln(h,I,xe,ie){var D=I[0],K=I[1],se=I[2],Le=ie[0],ct=ie[1],ut=ie[2],en=D-xe[0],Oe=K-xe[1],Pt=se-xe[2],it=en*en+Oe*Oe+Pt*Pt;it>0&&(en*=it=1/Math.sqrt(it),Oe*=it,Pt*=it);var Bt=ct*Pt-ut*Oe,pn=ut*en-Le*Pt,st=Le*Oe-ct*en;return(it=Bt*Bt+pn*pn+st*st)>0&&(Bt*=it=1/Math.sqrt(it),pn*=it,st*=it),h[0]=Bt,h[1]=pn,h[2]=st,h[3]=0,h[4]=Oe*st-Pt*pn,h[5]=Pt*Bt-en*st,h[6]=en*pn-Oe*Bt,h[7]=0,h[8]=en,h[9]=Oe,h[10]=Pt,h[11]=0,h[12]=D,h[13]=K,h[14]=se,h[15]=1,h}function Tt(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"}function We(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}function Ve(h,I,xe){return h[0]=I[0]+xe[0],h[1]=I[1]+xe[1],h[2]=I[2]+xe[2],h[3]=I[3]+xe[3],h[4]=I[4]+xe[4],h[5]=I[5]+xe[5],h[6]=I[6]+xe[6],h[7]=I[7]+xe[7],h[8]=I[8]+xe[8],h[9]=I[9]+xe[9],h[10]=I[10]+xe[10],h[11]=I[11]+xe[11],h[12]=I[12]+xe[12],h[13]=I[13]+xe[13],h[14]=I[14]+xe[14],h[15]=I[15]+xe[15],h}function wt(h,I,xe){return h[0]=I[0]-xe[0],h[1]=I[1]-xe[1],h[2]=I[2]-xe[2],h[3]=I[3]-xe[3],h[4]=I[4]-xe[4],h[5]=I[5]-xe[5],h[6]=I[6]-xe[6],h[7]=I[7]-xe[7],h[8]=I[8]-xe[8],h[9]=I[9]-xe[9],h[10]=I[10]-xe[10],h[11]=I[11]-xe[11],h[12]=I[12]-xe[12],h[13]=I[13]-xe[13],h[14]=I[14]-xe[14],h[15]=I[15]-xe[15],h}function Y(h,I,xe){return h[0]=I[0]*xe,h[1]=I[1]*xe,h[2]=I[2]*xe,h[3]=I[3]*xe,h[4]=I[4]*xe,h[5]=I[5]*xe,h[6]=I[6]*xe,h[7]=I[7]*xe,h[8]=I[8]*xe,h[9]=I[9]*xe,h[10]=I[10]*xe,h[11]=I[11]*xe,h[12]=I[12]*xe,h[13]=I[13]*xe,h[14]=I[14]*xe,h[15]=I[15]*xe,h}function b(h,I,xe,ie){return h[0]=I[0]+xe[0]*ie,h[1]=I[1]+xe[1]*ie,h[2]=I[2]+xe[2]*ie,h[3]=I[3]+xe[3]*ie,h[4]=I[4]+xe[4]*ie,h[5]=I[5]+xe[5]*ie,h[6]=I[6]+xe[6]*ie,h[7]=I[7]+xe[7]*ie,h[8]=I[8]+xe[8]*ie,h[9]=I[9]+xe[9]*ie,h[10]=I[10]+xe[10]*ie,h[11]=I[11]+xe[11]*ie,h[12]=I[12]+xe[12]*ie,h[13]=I[13]+xe[13]*ie,h[14]=I[14]+xe[14]*ie,h[15]=I[15]+xe[15]*ie,h}function R(h,I){return h[0]===I[0]&&h[1]===I[1]&&h[2]===I[2]&&h[3]===I[3]&&h[4]===I[4]&&h[5]===I[5]&&h[6]===I[6]&&h[7]===I[7]&&h[8]===I[8]&&h[9]===I[9]&&h[10]===I[10]&&h[11]===I[11]&&h[12]===I[12]&&h[13]===I[13]&&h[14]===I[14]&&h[15]===I[15]}function T(h,I){var xe=h[0],ie=h[1],D=h[2],K=h[3],se=h[4],Le=h[5],ct=h[6],ut=h[7],en=h[8],Oe=h[9],Pt=h[10],it=h[11],Bt=h[12],pn=h[13],st=h[14],mt=h[15],Ut=I[0],Ne=I[1],zt=I[2],Zt=I[3],Cn=I[4],Zn=I[5],br=I[6],Mr=I[7],yn=I[8],St=I[9],kt=I[10],Mt=I[11],bt=I[12],sn=I[13],Yt=I[14],Qe=I[15];return Math.abs(xe-Ut)<=r.p8*Math.max(1,Math.abs(xe),Math.abs(Ut))&&Math.abs(ie-Ne)<=r.p8*Math.max(1,Math.abs(ie),Math.abs(Ne))&&Math.abs(D-zt)<=r.p8*Math.max(1,Math.abs(D),Math.abs(zt))&&Math.abs(K-Zt)<=r.p8*Math.max(1,Math.abs(K),Math.abs(Zt))&&Math.abs(se-Cn)<=r.p8*Math.max(1,Math.abs(se),Math.abs(Cn))&&Math.abs(Le-Zn)<=r.p8*Math.max(1,Math.abs(Le),Math.abs(Zn))&&Math.abs(ct-br)<=r.p8*Math.max(1,Math.abs(ct),Math.abs(br))&&Math.abs(ut-Mr)<=r.p8*Math.max(1,Math.abs(ut),Math.abs(Mr))&&Math.abs(en-yn)<=r.p8*Math.max(1,Math.abs(en),Math.abs(yn))&&Math.abs(Oe-St)<=r.p8*Math.max(1,Math.abs(Oe),Math.abs(St))&&Math.abs(Pt-kt)<=r.p8*Math.max(1,Math.abs(Pt),Math.abs(kt))&&Math.abs(it-Mt)<=r.p8*Math.max(1,Math.abs(it),Math.abs(Mt))&&Math.abs(Bt-bt)<=r.p8*Math.max(1,Math.abs(Bt),Math.abs(bt))&&Math.abs(pn-sn)<=r.p8*Math.max(1,Math.abs(pn),Math.abs(sn))&&Math.abs(st-Yt)<=r.p8*Math.max(1,Math.abs(st),Math.abs(Yt))&&Math.abs(mt-Qe)<=r.p8*Math.max(1,Math.abs(mt),Math.abs(Qe))}var V=x,j=wt},9556:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{add:()=>ke,calculateW:()=>E,clone:()=>we,conjugate:()=>le,copy:()=>ue,create:()=>M,dot:()=>Nt,equals:()=>yt,exactEquals:()=>Be,exp:()=>L,fromEuler:()=>J,fromMat3:()=>z,fromValues:()=>k,getAngle:()=>P,getAxisAngle:()=>F,identity:()=>C,invert:()=>q,len:()=>ee,length:()=>me,lerp:()=>Kt,ln:()=>ae,mul:()=>Ze,multiply:()=>G,normalize:()=>Se,pow:()=>U,random:()=>ne,rotateX:()=>N,rotateY:()=>x,rotateZ:()=>m,rotationTo:()=>qt,scale:()=>Ce,set:()=>Ie,setAxes:()=>Tt,setAxisAngle:()=>d,slerp:()=>Z,sqlerp:()=>Ln,sqrLen:()=>ye,squaredLength:()=>fe,str:()=>he});var r=w(9818),s=w(7928),v=w(38472),S=w(34525);function M(){var We=new r.tb(4);return r.tb!=Float32Array&&(We[0]=0,We[1]=0,We[2]=0),We[3]=1,We}function C(We){return We[0]=0,We[1]=0,We[2]=0,We[3]=1,We}function d(We,Ve,wt){wt*=.5;var Y=Math.sin(wt);return We[0]=Y*Ve[0],We[1]=Y*Ve[1],We[2]=Y*Ve[2],We[3]=Math.cos(wt),We}function F(We,Ve){var wt=2*Math.acos(Ve[3]),Y=Math.sin(wt/2);return Y>r.p8?(We[0]=Ve[0]/Y,We[1]=Ve[1]/Y,We[2]=Ve[2]/Y):(We[0]=1,We[1]=0,We[2]=0),wt}function P(We,Ve){var wt=Nt(We,Ve);return Math.acos(2*wt*wt-1)}function G(We,Ve,wt){var Y=Ve[0],b=Ve[1],R=Ve[2],T=Ve[3],V=wt[0],j=wt[1],h=wt[2],I=wt[3];return We[0]=Y*I+T*V+b*h-R*j,We[1]=b*I+T*j+R*V-Y*h,We[2]=R*I+T*h+Y*j-b*V,We[3]=T*I-Y*V-b*j-R*h,We}function N(We,Ve,wt){wt*=.5;var Y=Ve[0],b=Ve[1],R=Ve[2],T=Ve[3],V=Math.sin(wt),j=Math.cos(wt);return We[0]=Y*j+T*V,We[1]=b*j+R*V,We[2]=R*j-b*V,We[3]=T*j-Y*V,We}function x(We,Ve,wt){wt*=.5;var Y=Ve[0],b=Ve[1],R=Ve[2],T=Ve[3],V=Math.sin(wt),j=Math.cos(wt);return We[0]=Y*j-R*V,We[1]=b*j+T*V,We[2]=R*j+Y*V,We[3]=T*j-b*V,We}function m(We,Ve,wt){wt*=.5;var Y=Ve[0],b=Ve[1],R=Ve[2],T=Ve[3],V=Math.sin(wt),j=Math.cos(wt);return We[0]=Y*j+b*V,We[1]=b*j-Y*V,We[2]=R*j+T*V,We[3]=T*j-R*V,We}function E(We,Ve){var wt=Ve[0],Y=Ve[1],b=Ve[2];return We[0]=wt,We[1]=Y,We[2]=b,We[3]=Math.sqrt(Math.abs(1-wt*wt-Y*Y-b*b)),We}function L(We,Ve){var wt=Ve[0],Y=Ve[1],b=Ve[2],R=Ve[3],T=Math.sqrt(wt*wt+Y*Y+b*b),V=Math.exp(R),j=T>0?V*Math.sin(T)/T:0;return We[0]=wt*j,We[1]=Y*j,We[2]=b*j,We[3]=V*Math.cos(T),We}function ae(We,Ve){var wt=Ve[0],Y=Ve[1],b=Ve[2],R=Ve[3],T=Math.sqrt(wt*wt+Y*Y+b*b),V=T>0?Math.atan2(T,R)/T:0;return We[0]=wt*V,We[1]=Y*V,We[2]=b*V,We[3]=.5*Math.log(wt*wt+Y*Y+b*b+R*R),We}function U(We,Ve,wt){return ae(We,Ve),Ce(We,We,wt),L(We,We),We}function Z(We,Ve,wt,Y){var ie,D,K,se,Le,b=Ve[0],R=Ve[1],T=Ve[2],V=Ve[3],j=wt[0],h=wt[1],I=wt[2],xe=wt[3];return(D=b*j+R*h+T*I+V*xe)<0&&(D=-D,j=-j,h=-h,I=-I,xe=-xe),1-D>r.p8?(ie=Math.acos(D),K=Math.sin(ie),se=Math.sin((1-Y)*ie)/K,Le=Math.sin(Y*ie)/K):(se=1-Y,Le=Y),We[0]=se*b+Le*j,We[1]=se*R+Le*h,We[2]=se*T+Le*I,We[3]=se*V+Le*xe,We}function ne(We){var Ve=r.Ov(),wt=r.Ov(),Y=r.Ov(),b=Math.sqrt(1-Ve),R=Math.sqrt(Ve);return We[0]=b*Math.sin(2*Math.PI*wt),We[1]=b*Math.cos(2*Math.PI*wt),We[2]=R*Math.sin(2*Math.PI*Y),We[3]=R*Math.cos(2*Math.PI*Y),We}function q(We,Ve){var wt=Ve[0],Y=Ve[1],b=Ve[2],R=Ve[3],T=wt*wt+Y*Y+b*b+R*R,V=T?1/T:0;return We[0]=-wt*V,We[1]=-Y*V,We[2]=-b*V,We[3]=R*V,We}function le(We,Ve){return We[0]=-Ve[0],We[1]=-Ve[1],We[2]=-Ve[2],We[3]=Ve[3],We}function z(We,Ve){var Y,wt=Ve[0]+Ve[4]+Ve[8];if(wt>0)Y=Math.sqrt(wt+1),We[3]=.5*Y,We[0]=(Ve[5]-Ve[7])*(Y=.5/Y),We[1]=(Ve[6]-Ve[2])*Y,We[2]=(Ve[1]-Ve[3])*Y;else{var b=0;Ve[4]>Ve[0]&&(b=1),Ve[8]>Ve[3*b+b]&&(b=2);var R=(b+1)%3,T=(b+2)%3;Y=Math.sqrt(Ve[3*b+b]-Ve[3*R+R]-Ve[3*T+T]+1),We[b]=.5*Y,We[3]=(Ve[3*R+T]-Ve[3*T+R])*(Y=.5/Y),We[R]=(Ve[3*R+b]+Ve[3*b+R])*Y,We[T]=(Ve[3*T+b]+Ve[3*b+T])*Y}return We}function J(We,Ve,wt,Y){var b=.5*Math.PI/180;Ve*=b,wt*=b,Y*=b;var R=Math.sin(Ve),T=Math.cos(Ve),V=Math.sin(wt),j=Math.cos(wt),h=Math.sin(Y),I=Math.cos(Y);return We[0]=R*j*I-T*V*h,We[1]=T*V*I+R*j*h,We[2]=T*j*h-R*V*I,We[3]=T*j*I+R*V*h,We}function he(We){return"quat("+We[0]+", "+We[1]+", "+We[2]+", "+We[3]+")"}var We,Ve,wt,we=S.clone,k=S.fromValues,ue=S.copy,Ie=S.set,ke=S.add,Ze=G,Ce=S.scale,Nt=S.dot,Kt=S.lerp,me=S.length,ee=me,fe=S.squaredLength,ye=fe,Se=S.normalize,Be=S.exactEquals,yt=S.equals,qt=(We=v.create(),Ve=v.fromValues(1,0,0),wt=v.fromValues(0,1,0),function(Y,b,R){var T=v.dot(b,R);return T<-.999999?(v.cross(We,Ve,b),v.len(We)<1e-6&&v.cross(We,wt,b),v.normalize(We,We),d(Y,We,Math.PI),Y):T>.999999?(Y[0]=0,Y[1]=0,Y[2]=0,Y[3]=1,Y):(v.cross(We,b,R),Y[0]=We[0],Y[1]=We[1],Y[2]=We[2],Y[3]=1+T,Se(Y,Y))}),Ln=function(){var We=M(),Ve=M();return function(wt,Y,b,R,T,V){return Z(We,Y,T,V),Z(Ve,b,R,V),Z(wt,We,Ve,2*V*(1-V)),wt}}(),Tt=function(){var We=s.create();return function(Ve,wt,Y,b){return We[0]=Y[0],We[3]=Y[1],We[6]=Y[2],We[1]=b[0],We[4]=b[1],We[7]=b[2],We[2]=-wt[0],We[5]=-wt[1],We[8]=-wt[2],Se(Ve,z(Ve,We))}}()},30559:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{add:()=>d,angle:()=>me,ceil:()=>N,clone:()=>v,copy:()=>M,create:()=>s,cross:()=>k,dist:()=>Tt,distance:()=>Z,div:()=>Ln,divide:()=>G,dot:()=>we,equals:()=>Se,exactEquals:()=>ye,floor:()=>x,forEach:()=>wt,fromValues:()=>S,inverse:()=>J,len:()=>Be,length:()=>q,lerp:()=>ue,max:()=>E,min:()=>m,mul:()=>qt,multiply:()=>P,negate:()=>z,normalize:()=>he,random:()=>Ie,rotate:()=>Kt,round:()=>L,scale:()=>ae,scaleAndAdd:()=>U,set:()=>C,sqrDist:()=>We,sqrLen:()=>Ve,squaredDistance:()=>ne,squaredLength:()=>le,str:()=>fe,sub:()=>yt,subtract:()=>F,transformMat2:()=>ke,transformMat2d:()=>Ze,transformMat3:()=>Ce,transformMat4:()=>Nt,zero:()=>ee});var r=w(9818);function s(){var Y=new r.tb(2);return r.tb!=Float32Array&&(Y[0]=0,Y[1]=0),Y}function v(Y){var b=new r.tb(2);return b[0]=Y[0],b[1]=Y[1],b}function S(Y,b){var R=new r.tb(2);return R[0]=Y,R[1]=b,R}function M(Y,b){return Y[0]=b[0],Y[1]=b[1],Y}function C(Y,b,R){return Y[0]=b,Y[1]=R,Y}function d(Y,b,R){return Y[0]=b[0]+R[0],Y[1]=b[1]+R[1],Y}function F(Y,b,R){return Y[0]=b[0]-R[0],Y[1]=b[1]-R[1],Y}function P(Y,b,R){return Y[0]=b[0]*R[0],Y[1]=b[1]*R[1],Y}function G(Y,b,R){return Y[0]=b[0]/R[0],Y[1]=b[1]/R[1],Y}function N(Y,b){return Y[0]=Math.ceil(b[0]),Y[1]=Math.ceil(b[1]),Y}function x(Y,b){return Y[0]=Math.floor(b[0]),Y[1]=Math.floor(b[1]),Y}function m(Y,b,R){return Y[0]=Math.min(b[0],R[0]),Y[1]=Math.min(b[1],R[1]),Y}function E(Y,b,R){return Y[0]=Math.max(b[0],R[0]),Y[1]=Math.max(b[1],R[1]),Y}function L(Y,b){return Y[0]=Math.round(b[0]),Y[1]=Math.round(b[1]),Y}function ae(Y,b,R){return Y[0]=b[0]*R,Y[1]=b[1]*R,Y}function U(Y,b,R,T){return Y[0]=b[0]+R[0]*T,Y[1]=b[1]+R[1]*T,Y}function Z(Y,b){return Math.hypot(b[0]-Y[0],b[1]-Y[1])}function ne(Y,b){var R=b[0]-Y[0],T=b[1]-Y[1];return R*R+T*T}function q(Y){return Math.hypot(Y[0],Y[1])}function le(Y){var b=Y[0],R=Y[1];return b*b+R*R}function z(Y,b){return Y[0]=-b[0],Y[1]=-b[1],Y}function J(Y,b){return Y[0]=1/b[0],Y[1]=1/b[1],Y}function he(Y,b){var R=b[0],T=b[1],V=R*R+T*T;return V>0&&(V=1/Math.sqrt(V)),Y[0]=b[0]*V,Y[1]=b[1]*V,Y}function we(Y,b){return Y[0]*b[0]+Y[1]*b[1]}function k(Y,b,R){var T=b[0]*R[1]-b[1]*R[0];return Y[0]=Y[1]=0,Y[2]=T,Y}function ue(Y,b,R,T){var V=b[0],j=b[1];return Y[0]=V+T*(R[0]-V),Y[1]=j+T*(R[1]-j),Y}function Ie(Y,b){b=b||1;var R=2*r.Ov()*Math.PI;return Y[0]=Math.cos(R)*b,Y[1]=Math.sin(R)*b,Y}function ke(Y,b,R){var T=b[0],V=b[1];return Y[0]=R[0]*T+R[2]*V,Y[1]=R[1]*T+R[3]*V,Y}function Ze(Y,b,R){var T=b[0],V=b[1];return Y[0]=R[0]*T+R[2]*V+R[4],Y[1]=R[1]*T+R[3]*V+R[5],Y}function Ce(Y,b,R){var T=b[0],V=b[1];return Y[0]=R[0]*T+R[3]*V+R[6],Y[1]=R[1]*T+R[4]*V+R[7],Y}function Nt(Y,b,R){var T=b[0],V=b[1];return Y[0]=R[0]*T+R[4]*V+R[12],Y[1]=R[1]*T+R[5]*V+R[13],Y}function Kt(Y,b,R,T){var V=b[0]-R[0],j=b[1]-R[1],h=Math.sin(T),I=Math.cos(T);return Y[0]=V*I-j*h+R[0],Y[1]=V*h+j*I+R[1],Y}function me(Y,b){var R=Y[0],T=Y[1],V=b[0],j=b[1],h=Math.sqrt(R*R+T*T)*Math.sqrt(V*V+j*j);return Math.acos(Math.min(Math.max(h&&(R*V+T*j)/h,-1),1))}function ee(Y){return Y[0]=0,Y[1]=0,Y}function fe(Y){return"vec2("+Y[0]+", "+Y[1]+")"}function ye(Y,b){return Y[0]===b[0]&&Y[1]===b[1]}function Se(Y,b){var R=Y[0],T=Y[1],V=b[0],j=b[1];return Math.abs(R-V)<=r.p8*Math.max(1,Math.abs(R),Math.abs(V))&&Math.abs(T-j)<=r.p8*Math.max(1,Math.abs(T),Math.abs(j))}var Y,Be=q,yt=F,qt=P,Ln=G,Tt=Z,We=ne,Ve=le,wt=(Y=s(),function(b,R,T,V,j,h){var I,xe;for(R||(R=2),T||(T=0),xe=V?Math.min(V*R+T,b.length):b.length,I=T;I<xe;I+=R)Y[0]=b[I],Y[1]=b[I+1],j(Y,Y,h),b[I]=Y[0],b[I+1]=Y[1];return b})},38472:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{add:()=>F,angle:()=>ye,bezier:()=>ke,ceil:()=>x,clone:()=>v,copy:()=>C,create:()=>s,cross:()=>k,dist:()=>Ve,distance:()=>ne,div:()=>We,divide:()=>N,dot:()=>we,equals:()=>qt,exactEquals:()=>yt,floor:()=>m,forEach:()=>R,fromValues:()=>M,hermite:()=>Ie,inverse:()=>J,len:()=>Y,length:()=>S,lerp:()=>ue,max:()=>L,min:()=>E,mul:()=>Tt,multiply:()=>G,negate:()=>z,normalize:()=>he,random:()=>Ze,rotateX:()=>me,rotateY:()=>ee,rotateZ:()=>fe,round:()=>ae,scale:()=>U,scaleAndAdd:()=>Z,set:()=>d,sqrDist:()=>wt,sqrLen:()=>b,squaredDistance:()=>q,squaredLength:()=>le,str:()=>Be,sub:()=>Ln,subtract:()=>P,transformMat3:()=>Nt,transformMat4:()=>Ce,transformQuat:()=>Kt,zero:()=>Se});var r=w(9818);function s(){var T=new r.tb(3);return r.tb!=Float32Array&&(T[0]=0,T[1]=0,T[2]=0),T}function v(T){var V=new r.tb(3);return V[0]=T[0],V[1]=T[1],V[2]=T[2],V}function S(T){return Math.hypot(T[0],T[1],T[2])}function M(T,V,j){var h=new r.tb(3);return h[0]=T,h[1]=V,h[2]=j,h}function C(T,V){return T[0]=V[0],T[1]=V[1],T[2]=V[2],T}function d(T,V,j,h){return T[0]=V,T[1]=j,T[2]=h,T}function F(T,V,j){return T[0]=V[0]+j[0],T[1]=V[1]+j[1],T[2]=V[2]+j[2],T}function P(T,V,j){return T[0]=V[0]-j[0],T[1]=V[1]-j[1],T[2]=V[2]-j[2],T}function G(T,V,j){return T[0]=V[0]*j[0],T[1]=V[1]*j[1],T[2]=V[2]*j[2],T}function N(T,V,j){return T[0]=V[0]/j[0],T[1]=V[1]/j[1],T[2]=V[2]/j[2],T}function x(T,V){return T[0]=Math.ceil(V[0]),T[1]=Math.ceil(V[1]),T[2]=Math.ceil(V[2]),T}function m(T,V){return T[0]=Math.floor(V[0]),T[1]=Math.floor(V[1]),T[2]=Math.floor(V[2]),T}function E(T,V,j){return T[0]=Math.min(V[0],j[0]),T[1]=Math.min(V[1],j[1]),T[2]=Math.min(V[2],j[2]),T}function L(T,V,j){return T[0]=Math.max(V[0],j[0]),T[1]=Math.max(V[1],j[1]),T[2]=Math.max(V[2],j[2]),T}function ae(T,V){return T[0]=Math.round(V[0]),T[1]=Math.round(V[1]),T[2]=Math.round(V[2]),T}function U(T,V,j){return T[0]=V[0]*j,T[1]=V[1]*j,T[2]=V[2]*j,T}function Z(T,V,j,h){return T[0]=V[0]+j[0]*h,T[1]=V[1]+j[1]*h,T[2]=V[2]+j[2]*h,T}function ne(T,V){return Math.hypot(V[0]-T[0],V[1]-T[1],V[2]-T[2])}function q(T,V){var j=V[0]-T[0],h=V[1]-T[1],I=V[2]-T[2];return j*j+h*h+I*I}function le(T){var V=T[0],j=T[1],h=T[2];return V*V+j*j+h*h}function z(T,V){return T[0]=-V[0],T[1]=-V[1],T[2]=-V[2],T}function J(T,V){return T[0]=1/V[0],T[1]=1/V[1],T[2]=1/V[2],T}function he(T,V){var j=V[0],h=V[1],I=V[2],xe=j*j+h*h+I*I;return xe>0&&(xe=1/Math.sqrt(xe)),T[0]=V[0]*xe,T[1]=V[1]*xe,T[2]=V[2]*xe,T}function we(T,V){return T[0]*V[0]+T[1]*V[1]+T[2]*V[2]}function k(T,V,j){var h=V[0],I=V[1],xe=V[2],ie=j[0],D=j[1],K=j[2];return T[0]=I*K-xe*D,T[1]=xe*ie-h*K,T[2]=h*D-I*ie,T}function ue(T,V,j,h){var I=V[0],xe=V[1],ie=V[2];return T[0]=I+h*(j[0]-I),T[1]=xe+h*(j[1]-xe),T[2]=ie+h*(j[2]-ie),T}function Ie(T,V,j,h,I,xe){var ie=xe*xe,D=ie*(2*xe-3)+1,K=ie*(xe-2)+xe,se=ie*(xe-1),Le=ie*(3-2*xe);return T[0]=V[0]*D+j[0]*K+h[0]*se+I[0]*Le,T[1]=V[1]*D+j[1]*K+h[1]*se+I[1]*Le,T[2]=V[2]*D+j[2]*K+h[2]*se+I[2]*Le,T}function ke(T,V,j,h,I,xe){var ie=1-xe,D=ie*ie,K=xe*xe,se=D*ie,Le=3*xe*D,ct=3*K*ie,ut=K*xe;return T[0]=V[0]*se+j[0]*Le+h[0]*ct+I[0]*ut,T[1]=V[1]*se+j[1]*Le+h[1]*ct+I[1]*ut,T[2]=V[2]*se+j[2]*Le+h[2]*ct+I[2]*ut,T}function Ze(T,V){V=V||1;var j=2*r.Ov()*Math.PI,h=2*r.Ov()-1,I=Math.sqrt(1-h*h)*V;return T[0]=Math.cos(j)*I,T[1]=Math.sin(j)*I,T[2]=h*V,T}function Ce(T,V,j){var h=V[0],I=V[1],xe=V[2],ie=j[3]*h+j[7]*I+j[11]*xe+j[15];return T[0]=(j[0]*h+j[4]*I+j[8]*xe+j[12])/(ie=ie||1),T[1]=(j[1]*h+j[5]*I+j[9]*xe+j[13])/ie,T[2]=(j[2]*h+j[6]*I+j[10]*xe+j[14])/ie,T}function Nt(T,V,j){var h=V[0],I=V[1],xe=V[2];return T[0]=h*j[0]+I*j[3]+xe*j[6],T[1]=h*j[1]+I*j[4]+xe*j[7],T[2]=h*j[2]+I*j[5]+xe*j[8],T}function Kt(T,V,j){var h=j[0],I=j[1],xe=j[2],D=V[0],K=V[1],se=V[2],Le=I*se-xe*K,ct=xe*D-h*se,ut=h*K-I*D,en=I*ut-xe*ct,Oe=xe*Le-h*ut,Pt=h*ct-I*Le,it=2*j[3];return ct*=it,ut*=it,Oe*=2,Pt*=2,T[0]=D+(Le*=it)+(en*=2),T[1]=K+ct+Oe,T[2]=se+ut+Pt,T}function me(T,V,j,h){var I=[],xe=[];return I[0]=V[0]-j[0],I[1]=V[1]-j[1],I[2]=V[2]-j[2],xe[0]=I[0],xe[1]=I[1]*Math.cos(h)-I[2]*Math.sin(h),xe[2]=I[1]*Math.sin(h)+I[2]*Math.cos(h),T[0]=xe[0]+j[0],T[1]=xe[1]+j[1],T[2]=xe[2]+j[2],T}function ee(T,V,j,h){var I=[],xe=[];return I[0]=V[0]-j[0],I[1]=V[1]-j[1],I[2]=V[2]-j[2],xe[0]=I[2]*Math.sin(h)+I[0]*Math.cos(h),xe[1]=I[1],xe[2]=I[2]*Math.cos(h)-I[0]*Math.sin(h),T[0]=xe[0]+j[0],T[1]=xe[1]+j[1],T[2]=xe[2]+j[2],T}function fe(T,V,j,h){var I=[],xe=[];return I[0]=V[0]-j[0],I[1]=V[1]-j[1],I[2]=V[2]-j[2],xe[0]=I[0]*Math.cos(h)-I[1]*Math.sin(h),xe[1]=I[0]*Math.sin(h)+I[1]*Math.cos(h),xe[2]=I[2],T[0]=xe[0]+j[0],T[1]=xe[1]+j[1],T[2]=xe[2]+j[2],T}function ye(T,V){var j=T[0],h=T[1],I=T[2],xe=V[0],ie=V[1],D=V[2],Le=Math.sqrt(j*j+h*h+I*I)*Math.sqrt(xe*xe+ie*ie+D*D),ct=Le&&we(T,V)/Le;return Math.acos(Math.min(Math.max(ct,-1),1))}function Se(T){return T[0]=0,T[1]=0,T[2]=0,T}function Be(T){return"vec3("+T[0]+", "+T[1]+", "+T[2]+")"}function yt(T,V){return T[0]===V[0]&&T[1]===V[1]&&T[2]===V[2]}function qt(T,V){var j=T[0],h=T[1],I=T[2],xe=V[0],ie=V[1],D=V[2];return Math.abs(j-xe)<=r.p8*Math.max(1,Math.abs(j),Math.abs(xe))&&Math.abs(h-ie)<=r.p8*Math.max(1,Math.abs(h),Math.abs(ie))&&Math.abs(I-D)<=r.p8*Math.max(1,Math.abs(I),Math.abs(D))}var T,Ln=P,Tt=G,We=N,Ve=ne,wt=q,Y=S,b=le,R=(T=s(),function(V,j,h,I,xe,ie){var D,K;for(j||(j=3),h||(h=0),K=I?Math.min(I*j+h,V.length):V.length,D=h;D<K;D+=j)T[0]=V[D],T[1]=V[D+1],T[2]=V[D+2],xe(T,T,ie),V[D]=T[0],V[D+1]=T[1],V[D+2]=T[2];return V})},34525:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{add:()=>d,ceil:()=>N,clone:()=>v,copy:()=>M,create:()=>s,cross:()=>k,dist:()=>Se,distance:()=>Z,div:()=>ye,divide:()=>G,dot:()=>we,equals:()=>me,exactEquals:()=>Kt,floor:()=>x,forEach:()=>Ln,fromValues:()=>S,inverse:()=>J,len:()=>yt,length:()=>q,lerp:()=>ue,max:()=>E,min:()=>m,mul:()=>fe,multiply:()=>P,negate:()=>z,normalize:()=>he,random:()=>Ie,round:()=>L,scale:()=>ae,scaleAndAdd:()=>U,set:()=>C,sqrDist:()=>Be,sqrLen:()=>qt,squaredDistance:()=>ne,squaredLength:()=>le,str:()=>Nt,sub:()=>ee,subtract:()=>F,transformMat4:()=>ke,transformQuat:()=>Ze,zero:()=>Ce});var r=w(9818);function s(){var Tt=new r.tb(4);return r.tb!=Float32Array&&(Tt[0]=0,Tt[1]=0,Tt[2]=0,Tt[3]=0),Tt}function v(Tt){var We=new r.tb(4);return We[0]=Tt[0],We[1]=Tt[1],We[2]=Tt[2],We[3]=Tt[3],We}function S(Tt,We,Ve,wt){var Y=new r.tb(4);return Y[0]=Tt,Y[1]=We,Y[2]=Ve,Y[3]=wt,Y}function M(Tt,We){return Tt[0]=We[0],Tt[1]=We[1],Tt[2]=We[2],Tt[3]=We[3],Tt}function C(Tt,We,Ve,wt,Y){return Tt[0]=We,Tt[1]=Ve,Tt[2]=wt,Tt[3]=Y,Tt}function d(Tt,We,Ve){return Tt[0]=We[0]+Ve[0],Tt[1]=We[1]+Ve[1],Tt[2]=We[2]+Ve[2],Tt[3]=We[3]+Ve[3],Tt}function F(Tt,We,Ve){return Tt[0]=We[0]-Ve[0],Tt[1]=We[1]-Ve[1],Tt[2]=We[2]-Ve[2],Tt[3]=We[3]-Ve[3],Tt}function P(Tt,We,Ve){return Tt[0]=We[0]*Ve[0],Tt[1]=We[1]*Ve[1],Tt[2]=We[2]*Ve[2],Tt[3]=We[3]*Ve[3],Tt}function G(Tt,We,Ve){return Tt[0]=We[0]/Ve[0],Tt[1]=We[1]/Ve[1],Tt[2]=We[2]/Ve[2],Tt[3]=We[3]/Ve[3],Tt}function N(Tt,We){return Tt[0]=Math.ceil(We[0]),Tt[1]=Math.ceil(We[1]),Tt[2]=Math.ceil(We[2]),Tt[3]=Math.ceil(We[3]),Tt}function x(Tt,We){return Tt[0]=Math.floor(We[0]),Tt[1]=Math.floor(We[1]),Tt[2]=Math.floor(We[2]),Tt[3]=Math.floor(We[3]),Tt}function m(Tt,We,Ve){return Tt[0]=Math.min(We[0],Ve[0]),Tt[1]=Math.min(We[1],Ve[1]),Tt[2]=Math.min(We[2],Ve[2]),Tt[3]=Math.min(We[3],Ve[3]),Tt}function E(Tt,We,Ve){return Tt[0]=Math.max(We[0],Ve[0]),Tt[1]=Math.max(We[1],Ve[1]),Tt[2]=Math.max(We[2],Ve[2]),Tt[3]=Math.max(We[3],Ve[3]),Tt}function L(Tt,We){return Tt[0]=Math.round(We[0]),Tt[1]=Math.round(We[1]),Tt[2]=Math.round(We[2]),Tt[3]=Math.round(We[3]),Tt}function ae(Tt,We,Ve){return Tt[0]=We[0]*Ve,Tt[1]=We[1]*Ve,Tt[2]=We[2]*Ve,Tt[3]=We[3]*Ve,Tt}function U(Tt,We,Ve,wt){return Tt[0]=We[0]+Ve[0]*wt,Tt[1]=We[1]+Ve[1]*wt,Tt[2]=We[2]+Ve[2]*wt,Tt[3]=We[3]+Ve[3]*wt,Tt}function Z(Tt,We){return Math.hypot(We[0]-Tt[0],We[1]-Tt[1],We[2]-Tt[2],We[3]-Tt[3])}function ne(Tt,We){var Ve=We[0]-Tt[0],wt=We[1]-Tt[1],Y=We[2]-Tt[2],b=We[3]-Tt[3];return Ve*Ve+wt*wt+Y*Y+b*b}function q(Tt){return Math.hypot(Tt[0],Tt[1],Tt[2],Tt[3])}function le(Tt){var We=Tt[0],Ve=Tt[1],wt=Tt[2],Y=Tt[3];return We*We+Ve*Ve+wt*wt+Y*Y}function z(Tt,We){return Tt[0]=-We[0],Tt[1]=-We[1],Tt[2]=-We[2],Tt[3]=-We[3],Tt}function J(Tt,We){return Tt[0]=1/We[0],Tt[1]=1/We[1],Tt[2]=1/We[2],Tt[3]=1/We[3],Tt}function he(Tt,We){var Ve=We[0],wt=We[1],Y=We[2],b=We[3],R=Ve*Ve+wt*wt+Y*Y+b*b;return R>0&&(R=1/Math.sqrt(R)),Tt[0]=Ve*R,Tt[1]=wt*R,Tt[2]=Y*R,Tt[3]=b*R,Tt}function we(Tt,We){return Tt[0]*We[0]+Tt[1]*We[1]+Tt[2]*We[2]+Tt[3]*We[3]}function k(Tt,We,Ve,wt){var Y=Ve[0]*wt[1]-Ve[1]*wt[0],b=Ve[0]*wt[2]-Ve[2]*wt[0],R=Ve[0]*wt[3]-Ve[3]*wt[0],T=Ve[1]*wt[2]-Ve[2]*wt[1],V=Ve[1]*wt[3]-Ve[3]*wt[1],j=Ve[2]*wt[3]-Ve[3]*wt[2],h=We[0],I=We[1],xe=We[2],ie=We[3];return Tt[0]=I*j-xe*V+ie*T,Tt[1]=-h*j+xe*R-ie*b,Tt[2]=h*V-I*R+ie*Y,Tt[3]=-h*T+I*b-xe*Y,Tt}function ue(Tt,We,Ve,wt){var Y=We[0],b=We[1],R=We[2],T=We[3];return Tt[0]=Y+wt*(Ve[0]-Y),Tt[1]=b+wt*(Ve[1]-b),Tt[2]=R+wt*(Ve[2]-R),Tt[3]=T+wt*(Ve[3]-T),Tt}function Ie(Tt,We){var Ve,wt,Y,b,R,T;We=We||1;do{R=(Ve=2*r.Ov()-1)*Ve+(wt=2*r.Ov()-1)*wt}while(R>=1);do{T=(Y=2*r.Ov()-1)*Y+(b=2*r.Ov()-1)*b}while(T>=1);var V=Math.sqrt((1-R)/T);return Tt[0]=We*Ve,Tt[1]=We*wt,Tt[2]=We*Y*V,Tt[3]=We*b*V,Tt}function ke(Tt,We,Ve){var wt=We[0],Y=We[1],b=We[2],R=We[3];return Tt[0]=Ve[0]*wt+Ve[4]*Y+Ve[8]*b+Ve[12]*R,Tt[1]=Ve[1]*wt+Ve[5]*Y+Ve[9]*b+Ve[13]*R,Tt[2]=Ve[2]*wt+Ve[6]*Y+Ve[10]*b+Ve[14]*R,Tt[3]=Ve[3]*wt+Ve[7]*Y+Ve[11]*b+Ve[15]*R,Tt}function Ze(Tt,We,Ve){var wt=We[0],Y=We[1],b=We[2],R=Ve[0],T=Ve[1],V=Ve[2],j=Ve[3],h=j*wt+T*b-V*Y,I=j*Y+V*wt-R*b,xe=j*b+R*Y-T*wt,ie=-R*wt-T*Y-V*b;return Tt[0]=h*j+ie*-R+I*-V-xe*-T,Tt[1]=I*j+ie*-T+xe*-R-h*-V,Tt[2]=xe*j+ie*-V+h*-T-I*-R,Tt[3]=We[3],Tt}function Ce(Tt){return Tt[0]=0,Tt[1]=0,Tt[2]=0,Tt[3]=0,Tt}function Nt(Tt){return"vec4("+Tt[0]+", "+Tt[1]+", "+Tt[2]+", "+Tt[3]+")"}function Kt(Tt,We){return Tt[0]===We[0]&&Tt[1]===We[1]&&Tt[2]===We[2]&&Tt[3]===We[3]}function me(Tt,We){var Ve=Tt[0],wt=Tt[1],Y=Tt[2],b=Tt[3],R=We[0],T=We[1],V=We[2],j=We[3];return Math.abs(Ve-R)<=r.p8*Math.max(1,Math.abs(Ve),Math.abs(R))&&Math.abs(wt-T)<=r.p8*Math.max(1,Math.abs(wt),Math.abs(T))&&Math.abs(Y-V)<=r.p8*Math.max(1,Math.abs(Y),Math.abs(V))&&Math.abs(b-j)<=r.p8*Math.max(1,Math.abs(b),Math.abs(j))}var Tt,ee=F,fe=P,ye=G,Se=Z,Be=ne,yt=q,qt=le,Ln=(Tt=s(),function(We,Ve,wt,Y,b,R){var T,V;for(Ve||(Ve=4),wt||(wt=0),V=Y?Math.min(Y*Ve+wt,We.length):We.length,T=wt;T<V;T+=Ve)Tt[0]=We[T],Tt[1]=We[T+1],Tt[2]=We[T+2],Tt[3]=We[T+3],b(Tt,Tt,R),We[T]=Tt[0],We[T+1]=Tt[1],We[T+2]=Tt[2],We[T+3]=Tt[3];return We})},99234:(ln,qe,w)=>{"use strict";var s=w(89222)("%Object.getOwnPropertyDescriptor%",!0);if(s)try{s([],"length")}catch{s=null}ln.exports=s},28931:(ln,qe,w)=>{var r;!function(s,v,S,M){"use strict";var ae,C=["","webkit","Moz","MS","ms","o"],d=v.createElement("div"),F="function",P=Math.round,G=Math.abs,N=Date.now;function x(Ge,xt,rn){return setTimeout(q(Ge,rn),xt)}function m(Ge,xt,rn){return!!Array.isArray(Ge)&&(E(Ge,rn[xt],rn),!0)}function E(Ge,xt,rn){var Hn;if(Ge)if(Ge.forEach)Ge.forEach(xt,rn);else if(Ge.length!==M)for(Hn=0;Hn<Ge.length;)xt.call(rn,Ge[Hn],Hn,Ge),Hn++;else for(Hn in Ge)Ge.hasOwnProperty(Hn)&&xt.call(rn,Ge[Hn],Hn,Ge)}function L(Ge,xt,rn){var Hn="DEPRECATED METHOD: "+xt+"\n"+rn+" AT \n";return function(){var Dr=new Error("get-stack-trace"),Qr=Dr&&Dr.stack?Dr.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Qi=s.console&&(s.console.warn||s.console.log);return Qi&&Qi.call(s.console,Hn,Qr),Ge.apply(this,arguments)}}ae="function"!=typeof Object.assign?function(xt){if(xt===M||null===xt)throw new TypeError("Cannot convert undefined or null to object");for(var rn=Object(xt),Hn=1;Hn<arguments.length;Hn++){var Dr=arguments[Hn];if(Dr!==M&&null!==Dr)for(var Qr in Dr)Dr.hasOwnProperty(Qr)&&(rn[Qr]=Dr[Qr])}return rn}:Object.assign;var U=L(function(xt,rn,Hn){for(var Dr=Object.keys(rn),Qr=0;Qr<Dr.length;)(!Hn||Hn&&xt[Dr[Qr]]===M)&&(xt[Dr[Qr]]=rn[Dr[Qr]]),Qr++;return xt},"extend","Use `assign`."),Z=L(function(xt,rn){return U(xt,rn,!0)},"merge","Use `assign`.");function ne(Ge,xt,rn){var Dr,Hn=xt.prototype;(Dr=Ge.prototype=Object.create(Hn)).constructor=Ge,Dr._super=Hn,rn&&ae(Dr,rn)}function q(Ge,xt){return function(){return Ge.apply(xt,arguments)}}function le(Ge,xt){return typeof Ge==F?Ge.apply(xt&&xt[0]||M,xt):Ge}function z(Ge,xt){return Ge===M?xt:Ge}function J(Ge,xt,rn){E(ue(xt),function(Hn){Ge.addEventListener(Hn,rn,!1)})}function he(Ge,xt,rn){E(ue(xt),function(Hn){Ge.removeEventListener(Hn,rn,!1)})}function we(Ge,xt){for(;Ge;){if(Ge==xt)return!0;Ge=Ge.parentNode}return!1}function k(Ge,xt){return Ge.indexOf(xt)>-1}function ue(Ge){return Ge.trim().split(/\s+/g)}function Ie(Ge,xt,rn){if(Ge.indexOf&&!rn)return Ge.indexOf(xt);for(var Hn=0;Hn<Ge.length;){if(rn&&Ge[Hn][rn]==xt||!rn&&Ge[Hn]===xt)return Hn;Hn++}return-1}function ke(Ge){return Array.prototype.slice.call(Ge,0)}function Ze(Ge,xt,rn){for(var Hn=[],Dr=[],Qr=0;Qr<Ge.length;){var Qi=xt?Ge[Qr][xt]:Ge[Qr];Ie(Dr,Qi)<0&&Hn.push(Ge[Qr]),Dr[Qr]=Qi,Qr++}return rn&&(Hn=xt?Hn.sort(function(vo,Do){return vo[xt]>Do[xt]}):Hn.sort()),Hn}function Ce(Ge,xt){for(var rn,Hn,Dr=xt[0].toUpperCase()+xt.slice(1),Qr=0;Qr<C.length;){if((Hn=(rn=C[Qr])?rn+Dr:xt)in Ge)return Hn;Qr++}return M}var Nt=1;function me(Ge){var xt=Ge.ownerDocument||Ge;return xt.defaultView||xt.parentWindow||s}var fe="ontouchstart"in s,ye=Ce(s,"PointerEvent")!==M,Se=fe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Be="touch",qt="mouse",Tt=25,We=1,wt=4,Y=8,b=1,R=2,T=4,V=8,j=16,h=R|T,I=V|j,xe=h|I,ie=["x","y"],D=["clientX","clientY"];function K(Ge,xt){var rn=this;this.manager=Ge,this.callback=xt,this.element=Ge.element,this.target=Ge.options.inputTarget,this.domHandler=function(Hn){le(Ge.options.enable,[Ge])&&rn.handler(Hn)},this.init()}function Le(Ge,xt,rn){var Hn=rn.pointers.length,Dr=rn.changedPointers.length,Qr=xt&We&&Hn-Dr==0,Qi=xt&(wt|Y)&&Hn-Dr==0;rn.isFirst=!!Qr,rn.isFinal=!!Qi,Qr&&(Ge.session={}),rn.eventType=xt,function ct(Ge,xt){var rn=Ge.session,Hn=xt.pointers,Dr=Hn.length;rn.firstInput||(rn.firstInput=Oe(xt)),Dr>1&&!rn.firstMultiple?rn.firstMultiple=Oe(xt):1===Dr&&(rn.firstMultiple=!1);var Qr=rn.firstInput,Qi=rn.firstMultiple,Gi=Qi?Qi.center:Qr.center,vo=xt.center=Pt(Hn);xt.timeStamp=N(),xt.deltaTime=xt.timeStamp-Qr.timeStamp,xt.angle=st(Gi,vo),xt.distance=pn(Gi,vo),function ut(Ge,xt){var rn=xt.center,Hn=Ge.offsetDelta||{},Dr=Ge.prevDelta||{},Qr=Ge.prevInput||{};(xt.eventType===We||Qr.eventType===wt)&&(Dr=Ge.prevDelta={x:Qr.deltaX||0,y:Qr.deltaY||0},Hn=Ge.offsetDelta={x:rn.x,y:rn.y}),xt.deltaX=Dr.x+(rn.x-Hn.x),xt.deltaY=Dr.y+(rn.y-Hn.y)}(rn,xt),xt.offsetDirection=Bt(xt.deltaX,xt.deltaY);var Do=it(xt.deltaTime,xt.deltaX,xt.deltaY);xt.overallVelocityX=Do.x,xt.overallVelocityY=Do.y,xt.overallVelocity=G(Do.x)>G(Do.y)?Do.x:Do.y,xt.scale=Qi?function Ut(Ge,xt){return pn(xt[0],xt[1],D)/pn(Ge[0],Ge[1],D)}(Qi.pointers,Hn):1,xt.rotation=Qi?function mt(Ge,xt){return st(xt[1],xt[0],D)+st(Ge[1],Ge[0],D)}(Qi.pointers,Hn):0,xt.maxPointers=rn.prevInput?xt.pointers.length>rn.prevInput.maxPointers?xt.pointers.length:rn.prevInput.maxPointers:xt.pointers.length,function en(Ge,xt){var Dr,Qr,Qi,Gi,rn=Ge.lastInterval||xt,Hn=xt.timeStamp-rn.timeStamp;if(xt.eventType!=Y&&(Hn>Tt||rn.velocity===M)){var vo=xt.deltaX-rn.deltaX,Do=xt.deltaY-rn.deltaY,Ao=it(Hn,vo,Do);Qr=Ao.x,Qi=Ao.y,Dr=G(Ao.x)>G(Ao.y)?Ao.x:Ao.y,Gi=Bt(vo,Do),Ge.lastInterval=xt}else Dr=rn.velocity,Qr=rn.velocityX,Qi=rn.velocityY,Gi=rn.direction;xt.velocity=Dr,xt.velocityX=Qr,xt.velocityY=Qi,xt.direction=Gi}(rn,xt);var Ao=Ge.element;we(xt.srcEvent.target,Ao)&&(Ao=xt.srcEvent.target),xt.target=Ao}(Ge,rn),Ge.emit("hammer.input",rn),Ge.recognize(rn),Ge.session.prevInput=rn}function Oe(Ge){for(var xt=[],rn=0;rn<Ge.pointers.length;)xt[rn]={clientX:P(Ge.pointers[rn].clientX),clientY:P(Ge.pointers[rn].clientY)},rn++;return{timeStamp:N(),pointers:xt,center:Pt(xt),deltaX:Ge.deltaX,deltaY:Ge.deltaY}}function Pt(Ge){var xt=Ge.length;if(1===xt)return{x:P(Ge[0].clientX),y:P(Ge[0].clientY)};for(var rn=0,Hn=0,Dr=0;Dr<xt;)rn+=Ge[Dr].clientX,Hn+=Ge[Dr].clientY,Dr++;return{x:P(rn/xt),y:P(Hn/xt)}}function it(Ge,xt,rn){return{x:xt/Ge||0,y:rn/Ge||0}}function Bt(Ge,xt){return Ge===xt?b:G(Ge)>=G(xt)?Ge<0?R:T:xt<0?V:j}function pn(Ge,xt,rn){rn||(rn=ie);var Hn=xt[rn[0]]-Ge[rn[0]],Dr=xt[rn[1]]-Ge[rn[1]];return Math.sqrt(Hn*Hn+Dr*Dr)}function st(Ge,xt,rn){return rn||(rn=ie),180*Math.atan2(xt[rn[1]]-Ge[rn[1]],xt[rn[0]]-Ge[rn[0]])/Math.PI}K.prototype={handler:function(){},init:function(){this.evEl&&J(this.element,this.evEl,this.domHandler),this.evTarget&&J(this.target,this.evTarget,this.domHandler),this.evWin&&J(me(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&he(this.element,this.evEl,this.domHandler),this.evTarget&&he(this.target,this.evTarget,this.domHandler),this.evWin&&he(me(this.element),this.evWin,this.domHandler)}};var Ne={mousedown:We,mousemove:2,mouseup:wt},zt="mousedown",Zt="mousemove mouseup";function Cn(){this.evEl=zt,this.evWin=Zt,this.pressed=!1,K.apply(this,arguments)}ne(Cn,K,{handler:function(xt){var rn=Ne[xt.type];rn&We&&0===xt.button&&(this.pressed=!0),2&rn&&1!==xt.which&&(rn=wt),this.pressed&&(rn&wt&&(this.pressed=!1),this.callback(this.manager,rn,{pointers:[xt],changedPointers:[xt],pointerType:qt,srcEvent:xt}))}});var Zn={pointerdown:We,pointermove:2,pointerup:wt,pointercancel:Y,pointerout:Y},br={2:Be,3:"pen",4:qt,5:"kinect"},Mr="pointerdown",yn="pointermove pointerup pointercancel";function St(){this.evEl=Mr,this.evWin=yn,K.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(Mr="MSPointerDown",yn="MSPointerMove MSPointerUp MSPointerCancel"),ne(St,K,{handler:function(xt){var rn=this.store,Hn=!1,Dr=xt.type.toLowerCase().replace("ms",""),Qr=Zn[Dr],Qi=br[xt.pointerType]||xt.pointerType,Gi=Qi==Be,vo=Ie(rn,xt.pointerId,"pointerId");Qr&We&&(0===xt.button||Gi)?vo<0&&(rn.push(xt),vo=rn.length-1):Qr&(wt|Y)&&(Hn=!0),!(vo<0)&&(rn[vo]=xt,this.callback(this.manager,Qr,{pointers:rn,changedPointers:[xt],pointerType:Qi,srcEvent:xt}),Hn&&rn.splice(vo,1))}});var kt={touchstart:We,touchmove:2,touchend:wt,touchcancel:Y};function sn(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,K.apply(this,arguments)}function Yt(Ge,xt){var rn=ke(Ge.touches),Hn=ke(Ge.changedTouches);return xt&(wt|Y)&&(rn=Ze(rn.concat(Hn),"identifier",!0)),[rn,Hn]}ne(sn,K,{handler:function(xt){var rn=kt[xt.type];if(rn===We&&(this.started=!0),this.started){var Hn=Yt.call(this,xt,rn);rn&(wt|Y)&&Hn[0].length-Hn[1].length==0&&(this.started=!1),this.callback(this.manager,rn,{pointers:Hn[0],changedPointers:Hn[1],pointerType:Be,srcEvent:xt})}}});var Qe={touchstart:We,touchmove:2,touchend:wt,touchcancel:Y},Lt="touchstart touchmove touchend touchcancel";function Mn(){this.evTarget=Lt,this.targetIds={},K.apply(this,arguments)}function vt(Ge,xt){var rn=ke(Ge.touches),Hn=this.targetIds;if(xt&(2|We)&&1===rn.length)return Hn[rn[0].identifier]=!0,[rn,rn];var Dr,Qr,Qi=ke(Ge.changedTouches),Gi=[],vo=this.target;if(Qr=rn.filter(function(Do){return we(Do.target,vo)}),xt===We)for(Dr=0;Dr<Qr.length;)Hn[Qr[Dr].identifier]=!0,Dr++;for(Dr=0;Dr<Qi.length;)Hn[Qi[Dr].identifier]&&Gi.push(Qi[Dr]),xt&(wt|Y)&&delete Hn[Qi[Dr].identifier],Dr++;return Gi.length?[Ze(Qr.concat(Gi),"identifier",!0),Gi]:void 0}ne(Mn,K,{handler:function(xt){var rn=Qe[xt.type],Hn=vt.call(this,xt,rn);Hn&&this.callback(this.manager,rn,{pointers:Hn[0],changedPointers:Hn[1],pointerType:Be,srcEvent:xt})}});var ze=2500;function Ye(){K.apply(this,arguments);var Ge=q(this.handler,this);this.touch=new Mn(this.manager,Ge),this.mouse=new Cn(this.manager,Ge),this.primaryTouch=null,this.lastTouches=[]}function At(Ge,xt){Ge&We?(this.primaryTouch=xt.changedPointers[0].identifier,Pn.call(this,xt)):Ge&(wt|Y)&&Pn.call(this,xt)}function Pn(Ge){var xt=Ge.changedPointers[0];if(xt.identifier===this.primaryTouch){var rn={x:xt.clientX,y:xt.clientY};this.lastTouches.push(rn);var Hn=this.lastTouches;setTimeout(function(){var Qr=Hn.indexOf(rn);Qr>-1&&Hn.splice(Qr,1)},ze)}}function Yn(Ge){for(var xt=Ge.srcEvent.clientX,rn=Ge.srcEvent.clientY,Hn=0;Hn<this.lastTouches.length;Hn++){var Dr=this.lastTouches[Hn],Qr=Math.abs(xt-Dr.x),Qi=Math.abs(rn-Dr.y);if(Qr<=25&&Qi<=25)return!0}return!1}ne(Ye,K,{handler:function(xt,rn,Hn){var Qr=Hn.pointerType==qt;if(!(Qr&&Hn.sourceCapabilities&&Hn.sourceCapabilities.firesTouchEvents)){if(Hn.pointerType==Be)At.call(this,rn,Hn);else if(Qr&&Yn.call(this,Hn))return;this.callback(xt,rn,Hn)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var gr=Ce(d.style,"touchAction"),vr=gr!==M,vi="compute",ro="manipulation",wi="none",_o="pan-x",Uo="pan-y",So=function Xo(){if(!vr)return!1;var Ge={},xt=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(rn){Ge[rn]=!xt||s.CSS.supports("touch-action",rn)}),Ge}();function yo(Ge,xt){this.manager=Ge,this.set(xt)}yo.prototype={set:function(Ge){Ge==vi&&(Ge=this.compute()),vr&&this.manager.element.style&&So[Ge]&&(this.manager.element.style[gr]=Ge),this.actions=Ge.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Ge=[];return E(this.manager.recognizers,function(xt){le(xt.options.enable,[xt])&&(Ge=Ge.concat(xt.getTouchAction()))}),function ts(Ge){if(k(Ge,wi))return wi;var xt=k(Ge,_o),rn=k(Ge,Uo);return xt&&rn?wi:xt||rn?xt?_o:Uo:k(Ge,ro)?ro:"auto"}(Ge.join(" "))},preventDefaults:function(Ge){var xt=Ge.srcEvent,rn=Ge.offsetDirection;if(!this.manager.session.prevented){var Hn=this.actions,Dr=k(Hn,wi)&&!So[wi],Qr=k(Hn,Uo)&&!So[Uo],Qi=k(Hn,_o)&&!So[_o];if(Dr&&1===Ge.pointers.length&&Ge.distance<2&&Ge.deltaTime<250)return;return Qi&&Qr||!(Dr||Qr&&rn&h||Qi&&rn&I)?void 0:this.preventSrc(xt)}xt.preventDefault()},preventSrc:function(Ge){this.manager.session.prevented=!0,Ge.preventDefault()}};var Io=1;function Pr(Ge){this.options=ae({},this.defaults,Ge||{}),this.id=function Kt(){return Nt++}(),this.manager=null,this.options.enable=z(this.options.enable,!0),this.state=Io,this.simultaneous={},this.requireFail=[]}function et(Ge){return 16&Ge?"cancel":8&Ge?"end":4&Ge?"move":2&Ge?"start":""}function $t(Ge){return Ge==j?"down":Ge==V?"up":Ge==R?"left":Ge==T?"right":""}function Vn(Ge,xt){var rn=xt.manager;return rn?rn.get(Ge):Ge}function Tr(){Pr.apply(this,arguments)}function ei(){Tr.apply(this,arguments),this.pX=null,this.pY=null}function Si(){Tr.apply(this,arguments)}function Ri(){Pr.apply(this,arguments),this._timer=null,this._input=null}function io(){Tr.apply(this,arguments)}function Ci(){Tr.apply(this,arguments)}function yi(){Pr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Yi(Ge,xt){return(xt=xt||{}).recognizers=z(xt.recognizers,Yi.defaults.preset),new qi(Ge,xt)}function qi(Ge,xt){this.options=ae({},Yi.defaults,xt||{}),this.options.inputTarget=this.options.inputTarget||Ge,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Ge,this.input=function se(Ge){return new(Ge.options.inputClass||(ye?St:Se?Mn:fe?Ye:Cn))(Ge,Le)}(this),this.touchAction=new yo(this,this.options.touchAction),jo(this,!0),E(this.options.recognizers,function(rn){var Hn=this.add(new rn[0](rn[1]));rn[2]&&Hn.recognizeWith(rn[2]),rn[3]&&Hn.requireFailure(rn[3])},this)}function jo(Ge,xt){var Hn,rn=Ge.element;rn.style&&(E(Ge.options.cssProps,function(Dr,Qr){Hn=Ce(rn.style,Qr),xt?(Ge.oldCssProps[Hn]=rn.style[Hn],rn.style[Hn]=Dr):rn.style[Hn]=Ge.oldCssProps[Hn]||""}),xt||(Ge.oldCssProps={}))}Pr.prototype={defaults:{},set:function(Ge){return ae(this.options,Ge),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Ge){if(m(Ge,"recognizeWith",this))return this;var xt=this.simultaneous;return xt[(Ge=Vn(Ge,this)).id]||(xt[Ge.id]=Ge,Ge.recognizeWith(this)),this},dropRecognizeWith:function(Ge){return m(Ge,"dropRecognizeWith",this)||(Ge=Vn(Ge,this),delete this.simultaneous[Ge.id]),this},requireFailure:function(Ge){if(m(Ge,"requireFailure",this))return this;var xt=this.requireFail;return-1===Ie(xt,Ge=Vn(Ge,this))&&(xt.push(Ge),Ge.requireFailure(this)),this},dropRequireFailure:function(Ge){if(m(Ge,"dropRequireFailure",this))return this;Ge=Vn(Ge,this);var xt=Ie(this.requireFail,Ge);return xt>-1&&this.requireFail.splice(xt,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Ge){return!!this.simultaneous[Ge.id]},emit:function(Ge){var xt=this,rn=this.state;function Hn(Dr){xt.manager.emit(Dr,Ge)}rn<8&&Hn(xt.options.event+et(rn)),Hn(xt.options.event),Ge.additionalEvent&&Hn(Ge.additionalEvent),rn>=8&&Hn(xt.options.event+et(rn))},tryEmit:function(Ge){if(this.canEmit())return this.emit(Ge);this.state=32},canEmit:function(){for(var Ge=0;Ge<this.requireFail.length;){if(!(this.requireFail[Ge].state&(32|Io)))return!1;Ge++}return!0},recognize:function(Ge){var xt=ae({},Ge);if(!le(this.options.enable,[this,xt]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Io),this.state=this.process(xt),30&this.state&&this.tryEmit(xt)},process:function(Ge){},getTouchAction:function(){},reset:function(){}},ne(Tr,Pr,{defaults:{pointers:1},attrTest:function(Ge){var xt=this.options.pointers;return 0===xt||Ge.pointers.length===xt},process:function(Ge){var xt=this.state,rn=Ge.eventType,Hn=6&xt,Dr=this.attrTest(Ge);return Hn&&(rn&Y||!Dr)?16|xt:Hn||Dr?rn&wt?8|xt:2&xt?4|xt:2:32}}),ne(ei,Tr,{defaults:{event:"pan",threshold:10,pointers:1,direction:xe},getTouchAction:function(){var Ge=this.options.direction,xt=[];return Ge&h&&xt.push(Uo),Ge&I&&xt.push(_o),xt},directionTest:function(Ge){var xt=this.options,rn=!0,Hn=Ge.distance,Dr=Ge.direction,Qr=Ge.deltaX,Qi=Ge.deltaY;return Dr&xt.direction||(xt.direction&h?(Dr=0===Qr?b:Qr<0?R:T,rn=Qr!=this.pX,Hn=Math.abs(Ge.deltaX)):(Dr=0===Qi?b:Qi<0?V:j,rn=Qi!=this.pY,Hn=Math.abs(Ge.deltaY))),Ge.direction=Dr,rn&&Hn>xt.threshold&&Dr&xt.direction},attrTest:function(Ge){return Tr.prototype.attrTest.call(this,Ge)&&(2&this.state||!(2&this.state)&&this.directionTest(Ge))},emit:function(Ge){this.pX=Ge.deltaX,this.pY=Ge.deltaY;var xt=$t(Ge.direction);xt&&(Ge.additionalEvent=this.options.event+xt),this._super.emit.call(this,Ge)}}),ne(Si,Tr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[wi]},attrTest:function(Ge){return this._super.attrTest.call(this,Ge)&&(Math.abs(Ge.scale-1)>this.options.threshold||2&this.state)},emit:function(Ge){1!==Ge.scale&&(Ge.additionalEvent=this.options.event+(Ge.scale<1?"in":"out")),this._super.emit.call(this,Ge)}}),ne(Ri,Pr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Ge){var xt=this.options,rn=Ge.pointers.length===xt.pointers,Hn=Ge.distance<xt.threshold,Dr=Ge.deltaTime>xt.time;if(this._input=Ge,!Hn||!rn||Ge.eventType&(wt|Y)&&!Dr)this.reset();else if(Ge.eventType&We)this.reset(),this._timer=x(function(){this.state=8,this.tryEmit()},xt.time,this);else if(Ge.eventType&wt)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Ge){8===this.state&&(Ge&&Ge.eventType&wt?this.manager.emit(this.options.event+"up",Ge):(this._input.timeStamp=N(),this.manager.emit(this.options.event,this._input)))}}),ne(io,Tr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[wi]},attrTest:function(Ge){return this._super.attrTest.call(this,Ge)&&(Math.abs(Ge.rotation)>this.options.threshold||2&this.state)}}),ne(Ci,Tr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:h|I,pointers:1},getTouchAction:function(){return ei.prototype.getTouchAction.call(this)},attrTest:function(Ge){var rn,xt=this.options.direction;return xt&(h|I)?rn=Ge.overallVelocity:xt&h?rn=Ge.overallVelocityX:xt&I&&(rn=Ge.overallVelocityY),this._super.attrTest.call(this,Ge)&&xt&Ge.offsetDirection&&Ge.distance>this.options.threshold&&Ge.maxPointers==this.options.pointers&&G(rn)>this.options.velocity&&Ge.eventType&wt},emit:function(Ge){var xt=$t(Ge.offsetDirection);xt&&this.manager.emit(this.options.event+xt,Ge),this.manager.emit(this.options.event,Ge)}}),ne(yi,Pr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ro]},process:function(Ge){var xt=this.options,rn=Ge.pointers.length===xt.pointers,Hn=Ge.distance<xt.threshold,Dr=Ge.deltaTime<xt.time;if(this.reset(),Ge.eventType&We&&0===this.count)return this.failTimeout();if(Hn&&Dr&&rn){if(Ge.eventType!=wt)return this.failTimeout();var Qr=!this.pTime||Ge.timeStamp-this.pTime<xt.interval,Qi=!this.pCenter||pn(this.pCenter,Ge.center)<xt.posThreshold;if(this.pTime=Ge.timeStamp,this.pCenter=Ge.center,Qi&&Qr?this.count+=1:this.count=1,this._input=Ge,0==this.count%xt.taps)return this.hasRequireFailures()?(this._timer=x(function(){this.state=8,this.tryEmit()},xt.interval,this),2):8}return 32},failTimeout:function(){return this._timer=x(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Yi.VERSION="2.0.7",Yi.defaults={domEvents:!1,touchAction:vi,enable:!0,inputTarget:null,inputClass:null,preset:[[io,{enable:!1}],[Si,{enable:!1},["rotate"]],[Ci,{direction:h}],[ei,{direction:h},["swipe"]],[yi],[yi,{event:"doubletap",taps:2},["tap"]],[Ri]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},qi.prototype={set:function(Ge){return ae(this.options,Ge),Ge.touchAction&&this.touchAction.update(),Ge.inputTarget&&(this.input.destroy(),this.input.target=Ge.inputTarget,this.input.init()),this},stop:function(Ge){this.session.stopped=Ge?2:1},recognize:function(Ge){var xt=this.session;if(!xt.stopped){this.touchAction.preventDefaults(Ge);var rn,Hn=this.recognizers,Dr=xt.curRecognizer;(!Dr||Dr&&8&Dr.state)&&(Dr=xt.curRecognizer=null);for(var Qr=0;Qr<Hn.length;)rn=Hn[Qr],2===xt.stopped||Dr&&rn!=Dr&&!rn.canRecognizeWith(Dr)?rn.reset():rn.recognize(Ge),!Dr&&14&rn.state&&(Dr=xt.curRecognizer=rn),Qr++}},get:function(Ge){if(Ge instanceof Pr)return Ge;for(var xt=this.recognizers,rn=0;rn<xt.length;rn++)if(xt[rn].options.event==Ge)return xt[rn];return null},add:function(Ge){if(m(Ge,"add",this))return this;var xt=this.get(Ge.options.event);return xt&&this.remove(xt),this.recognizers.push(Ge),Ge.manager=this,this.touchAction.update(),Ge},remove:function(Ge){if(m(Ge,"remove",this))return this;if(Ge=this.get(Ge)){var xt=this.recognizers,rn=Ie(xt,Ge);-1!==rn&&(xt.splice(rn,1),this.touchAction.update())}return this},on:function(Ge,xt){if(Ge!==M&&xt!==M){var rn=this.handlers;return E(ue(Ge),function(Hn){rn[Hn]=rn[Hn]||[],rn[Hn].push(xt)}),this}},off:function(Ge,xt){if(Ge!==M){var rn=this.handlers;return E(ue(Ge),function(Hn){xt?rn[Hn]&&rn[Hn].splice(Ie(rn[Hn],xt),1):delete rn[Hn]}),this}},emit:function(Ge,xt){this.options.domEvents&&function $n(Ge,xt){var rn=v.createEvent("Event");rn.initEvent(Ge,!0,!0),rn.gesture=xt,xt.target.dispatchEvent(rn)}(Ge,xt);var rn=this.handlers[Ge]&&this.handlers[Ge].slice();if(rn&&rn.length){xt.type=Ge,xt.preventDefault=function(){xt.srcEvent.preventDefault()};for(var Hn=0;Hn<rn.length;)rn[Hn](xt),Hn++}},destroy:function(){this.element&&jo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ae(Yi,{INPUT_START:We,INPUT_MOVE:2,INPUT_END:wt,INPUT_CANCEL:Y,STATE_POSSIBLE:Io,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:b,DIRECTION_LEFT:R,DIRECTION_RIGHT:T,DIRECTION_UP:V,DIRECTION_DOWN:j,DIRECTION_HORIZONTAL:h,DIRECTION_VERTICAL:I,DIRECTION_ALL:xe,Manager:qi,Input:K,TouchAction:yo,TouchInput:Mn,MouseInput:Cn,PointerEventInput:St,TouchMouseInput:Ye,SingleTouchInput:sn,Recognizer:Pr,AttrRecognizer:Tr,Tap:yi,Pan:ei,Swipe:Ci,Pinch:Si,Rotate:io,Press:Ri,on:J,off:he,each:E,merge:Z,extend:U,assign:ae,inherit:ne,bindFn:q,prefixed:Ce}),(typeof s<"u"?s:typeof self<"u"?self:{}).Hammer=Yi,(r=function(){return Yi}.call(qe,w,qe,ln))!==M&&(ln.exports=r)}(window,document)},70401:(ln,qe,w)=>{"use strict";var r=w(82182),s=function(){return!!r};s.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch{return!0}},ln.exports=s},88003:ln=>{"use strict";var qe={__proto__:null,foo:{}},w=Object;ln.exports=function(){return{__proto__:qe}.foo===qe.foo&&!(qe instanceof w)}},17528:(ln,qe,w)=>{"use strict";var r=typeof Symbol<"u"&&Symbol,s=w(16138);ln.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&s()}},16138:ln=>{"use strict";ln.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var w={},r=Symbol("test"),s=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(s))return!1;for(r in w[r]=42,w)return!1;if("function"==typeof Object.keys&&0!==Object.keys(w).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(w).length)return!1;var S=Object.getOwnPropertySymbols(w);if(1!==S.length||S[0]!==r||!Object.prototype.propertyIsEnumerable.call(w,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var M=Object.getOwnPropertyDescriptor(w,r);if(42!==M.value||!0!==M.enumerable)return!1}return!0}},58252:(ln,qe,w)=>{"use strict";var r=Function.prototype.call,s=Object.prototype.hasOwnProperty,v=w(82988);ln.exports=v.call(r,s)},97953:(ln,qe)=>{var r;!function(){"use strict";var s=function(){this.init()};s.prototype={init:function(){var x=this||v;return x._counter=1e3,x._html5AudioPool=[],x.html5PoolSize=10,x._codecs={},x._howls=[],x._muted=!1,x._volume=1,x._canPlayEvent="canplaythrough",x._navigator=typeof window<"u"&&window.navigator?window.navigator:null,x.masterGain=null,x.noAudio=!1,x.usingWebAudio=!0,x.autoSuspend=!0,x.ctx=null,x.autoUnlock=!0,x._setup(),x},volume:function(x){var m=this||v;if(x=parseFloat(x),m.ctx||N(),typeof x<"u"&&x>=0&&x<=1){if(m._volume=x,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(x,v.ctx.currentTime);for(var E=0;E<m._howls.length;E++)if(!m._howls[E]._webAudio)for(var L=m._howls[E]._getSoundIds(),ae=0;ae<L.length;ae++){var U=m._howls[E]._soundById(L[ae]);U&&U._node&&(U._node.volume=U._volume*x)}return m}return m._volume},mute:function(x){var m=this||v;m.ctx||N(),m._muted=x,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(x?0:m._volume,v.ctx.currentTime);for(var E=0;E<m._howls.length;E++)if(!m._howls[E]._webAudio)for(var L=m._howls[E]._getSoundIds(),ae=0;ae<L.length;ae++){var U=m._howls[E]._soundById(L[ae]);U&&U._node&&(U._node.muted=!!x||U._muted)}return m},stop:function(){for(var x=this||v,m=0;m<x._howls.length;m++)x._howls[m].stop();return x},unload:function(){for(var x=this||v,m=x._howls.length-1;m>=0;m--)x._howls[m].unload();return x.usingWebAudio&&x.ctx&&typeof x.ctx.close<"u"&&(x.ctx.close(),x.ctx=null,N()),x},codecs:function(x){return(this||v)._codecs[x.replace(/^x-/,"")]},_setup:function(){var x=this||v;if(x.state=x.ctx&&x.ctx.state||"suspended",x._autoSuspend(),!x.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(x._canPlayEvent="canplay")}catch{x.noAudio=!0}else x.noAudio=!0;try{(new Audio).muted&&(x.noAudio=!0)}catch{}return x.noAudio||x._setupCodecs(),x},_setupCodecs:function(){var x=this||v,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return x}if(!m||"function"!=typeof m.canPlayType)return x;var E=m.canPlayType("audio/mpeg;").replace(/^no$/,""),L=x._navigator?x._navigator.userAgent:"",ae=L.match(/OPR\/(\d+)/g),U=ae&&parseInt(ae[0].split("/")[1],10)<33,Z=-1!==L.indexOf("Safari")&&-1===L.indexOf("Chrome"),ne=L.match(/Version\/(.*?) /),q=Z&&ne&&parseInt(ne[1],10)<15;return x._codecs={mp3:!(U||!E&&!m.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!E,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(q||!m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(q||!m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},x},_unlockAudio:function(){var x=this||v;if(!x._audioUnlocked&&x.ctx){x._audioUnlocked=!1,x.autoUnlock=!1,!x._mobileUnloaded&&44100!==x.ctx.sampleRate&&(x._mobileUnloaded=!0,x.unload()),x._scratchBuffer=x.ctx.createBuffer(1,1,22050);var m=function(E){for(;x._html5AudioPool.length<x.html5PoolSize;)try{var L=new Audio;L._unlocked=!0,x._releaseHtml5Audio(L)}catch{x.noAudio=!0;break}for(var ae=0;ae<x._howls.length;ae++)if(!x._howls[ae]._webAudio)for(var U=x._howls[ae]._getSoundIds(),Z=0;Z<U.length;Z++){var ne=x._howls[ae]._soundById(U[Z]);ne&&ne._node&&!ne._node._unlocked&&(ne._node._unlocked=!0,ne._node.load())}x._autoResume();var q=x.ctx.createBufferSource();q.buffer=x._scratchBuffer,q.connect(x.ctx.destination),typeof q.start>"u"?q.noteOn(0):q.start(0),"function"==typeof x.ctx.resume&&x.ctx.resume(),q.onended=function(){q.disconnect(0),x._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var le=0;le<x._howls.length;le++)x._howls[le]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),x}},_obtainHtml5Audio:function(){var x=this||v;if(x._html5AudioPool.length)return x._html5AudioPool.pop();var m=(new Audio).play();return m&&typeof Promise<"u"&&(m instanceof Promise||"function"==typeof m.then)&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(x){var m=this||v;return x._unlocked&&m._html5AudioPool.push(x),m},_autoSuspend:function(){var x=this;if(x.autoSuspend&&x.ctx&&!(typeof x.ctx.suspend>"u")&&v.usingWebAudio){for(var m=0;m<x._howls.length;m++)if(x._howls[m]._webAudio)for(var E=0;E<x._howls[m]._sounds.length;E++)if(!x._howls[m]._sounds[E]._paused)return x;return x._suspendTimer&&clearTimeout(x._suspendTimer),x._suspendTimer=setTimeout(function(){if(x.autoSuspend){x._suspendTimer=null,x.state="suspending";var L=function(){x.state="suspended",x._resumeAfterSuspend&&(delete x._resumeAfterSuspend,x._autoResume())};x.ctx.suspend().then(L,L)}},3e4),x}},_autoResume:function(){var x=this;if(x.ctx&&!(typeof x.ctx.resume>"u")&&v.usingWebAudio)return"running"===x.state&&"interrupted"!==x.ctx.state&&x._suspendTimer?(clearTimeout(x._suspendTimer),x._suspendTimer=null):"suspended"===x.state||"running"===x.state&&"interrupted"===x.ctx.state?(x.ctx.resume().then(function(){x.state="running";for(var m=0;m<x._howls.length;m++)x._howls[m]._emit("resume")}),x._suspendTimer&&(clearTimeout(x._suspendTimer),x._suspendTimer=null)):"suspending"===x.state&&(x._resumeAfterSuspend=!0),x}};var v=new s,S=function(x){x.src&&0!==x.src.length?this.init(x):console.error("An array of source files must be passed with any new Howl.")};S.prototype={init:function(x){var m=this;return v.ctx||N(),m._autoplay=x.autoplay||!1,m._format="string"!=typeof x.format?x.format:[x.format],m._html5=x.html5||!1,m._muted=x.mute||!1,m._loop=x.loop||!1,m._pool=x.pool||5,m._preload="boolean"!=typeof x.preload&&"metadata"!==x.preload||x.preload,m._rate=x.rate||1,m._sprite=x.sprite||{},m._src="string"!=typeof x.src?x.src:[x.src],m._volume=void 0!==x.volume?x.volume:1,m._xhr={method:x.xhr&&x.xhr.method?x.xhr.method:"GET",headers:x.xhr&&x.xhr.headers?x.xhr.headers:null,withCredentials:!(!x.xhr||!x.xhr.withCredentials)&&x.xhr.withCredentials},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=x.onend?[{fn:x.onend}]:[],m._onfade=x.onfade?[{fn:x.onfade}]:[],m._onload=x.onload?[{fn:x.onload}]:[],m._onloaderror=x.onloaderror?[{fn:x.onloaderror}]:[],m._onplayerror=x.onplayerror?[{fn:x.onplayerror}]:[],m._onpause=x.onpause?[{fn:x.onpause}]:[],m._onplay=x.onplay?[{fn:x.onplay}]:[],m._onstop=x.onstop?[{fn:x.onstop}]:[],m._onmute=x.onmute?[{fn:x.onmute}]:[],m._onvolume=x.onvolume?[{fn:x.onvolume}]:[],m._onrate=x.onrate?[{fn:x.onrate}]:[],m._onseek=x.onseek?[{fn:x.onseek}]:[],m._onunlock=x.onunlock?[{fn:x.onunlock}]:[],m._onresume=[],m._webAudio=v.usingWebAudio&&!m._html5,typeof v.ctx<"u"&&v.ctx&&v.autoUnlock&&v._unlockAudio(),v._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&"none"!==m._preload&&m.load(),m},load:function(){var x=this,m=null;if(v.noAudio)x._emit("loaderror",null,"No audio support.");else{"string"==typeof x._src&&(x._src=[x._src]);for(var E=0;E<x._src.length;E++){var L,ae;if(x._format&&x._format[E])L=x._format[E];else{if("string"!=typeof(ae=x._src[E])){x._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(L=/^data:audio\/([^;,]+);/i.exec(ae))||(L=/\.([^.]+)$/.exec(ae.split("?",1)[0])),L&&(L=L[1].toLowerCase())}if(L||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),L&&v.codecs(L)){m=x._src[E];break}}if(m)return x._src=m,x._state="loading","https:"===window.location.protocol&&"http:"===m.slice(0,5)&&(x._html5=!0,x._webAudio=!1),new M(x),x._webAudio&&d(x),x;x._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(x,m){var E=this,L=null;if("number"==typeof x)L=x,x=null;else{if("string"==typeof x&&"loaded"===E._state&&!E._sprite[x])return null;if(typeof x>"u"&&(x="__default",!E._playLock)){for(var ae=0,U=0;U<E._sounds.length;U++)E._sounds[U]._paused&&!E._sounds[U]._ended&&(ae++,L=E._sounds[U]._id);1===ae?x=null:L=null}}var Z=L?E._soundById(L):E._inactiveSound();if(!Z)return null;if(L&&!x&&(x=Z._sprite||"__default"),"loaded"!==E._state){Z._sprite=x,Z._ended=!1;var ne=Z._id;return E._queue.push({event:"play",action:function(){E.play(ne)}}),ne}if(L&&!Z._paused)return m||E._loadQueue("play"),Z._id;E._webAudio&&v._autoResume();var q=Math.max(0,Z._seek>0?Z._seek:E._sprite[x][0]/1e3),le=Math.max(0,(E._sprite[x][0]+E._sprite[x][1])/1e3-q),z=1e3*le/Math.abs(Z._rate),J=E._sprite[x][0]/1e3,he=(E._sprite[x][0]+E._sprite[x][1])/1e3;Z._sprite=x,Z._ended=!1;var we=function(){Z._paused=!1,Z._seek=q,Z._start=J,Z._stop=he,Z._loop=!(!Z._loop&&!E._sprite[x][2])};if(!(q>=he)){var k=Z._node;if(E._webAudio){var ue=function(){E._playLock=!1,we(),E._refreshBuffer(Z),k.gain.setValueAtTime(Z._muted||E._muted?0:Z._volume,v.ctx.currentTime),Z._playStart=v.ctx.currentTime,typeof k.bufferSource.start>"u"?k.bufferSource.noteGrainOn(0,q,Z._loop?86400:le):k.bufferSource.start(0,q,Z._loop?86400:le),z!==1/0&&(E._endTimers[Z._id]=setTimeout(E._ended.bind(E,Z),z)),m||setTimeout(function(){E._emit("play",Z._id),E._loadQueue()},0)};"running"===v.state&&"interrupted"!==v.ctx.state?ue():(E._playLock=!0,E.once("resume",ue),E._clearTimer(Z._id))}else{var Ie=function(){k.currentTime=q,k.muted=Z._muted||E._muted||v._muted||k.muted,k.volume=Z._volume*v.volume(),k.playbackRate=Z._rate;try{var Ce=k.play();if(Ce&&typeof Promise<"u"&&(Ce instanceof Promise||"function"==typeof Ce.then)?(E._playLock=!0,we(),Ce.then(function(){E._playLock=!1,k._unlocked=!0,m?E._loadQueue():E._emit("play",Z._id)}).catch(function(){E._playLock=!1,E._emit("playerror",Z._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),Z._ended=!0,Z._paused=!0})):m||(E._playLock=!1,we(),E._emit("play",Z._id)),k.playbackRate=Z._rate,k.paused)return void E._emit("playerror",Z._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==x||Z._loop?E._endTimers[Z._id]=setTimeout(E._ended.bind(E,Z),z):(E._endTimers[Z._id]=function(){E._ended(Z),k.removeEventListener("ended",E._endTimers[Z._id],!1)},k.addEventListener("ended",E._endTimers[Z._id],!1))}catch(Nt){E._emit("playerror",Z._id,Nt)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===k.src&&(k.src=E._src,k.load());var ke=window&&window.ejecta||!k.readyState&&v._navigator.isCocoonJS;if(k.readyState>=3||ke)Ie();else{E._playLock=!0,E._state="loading";var Ze=function(){E._state="loaded",Ie(),k.removeEventListener(v._canPlayEvent,Ze,!1)};k.addEventListener(v._canPlayEvent,Ze,!1),E._clearTimer(Z._id)}}return Z._id}E._ended(Z)},pause:function(x){var m=this;if("loaded"!==m._state||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(x)}}),m;for(var E=m._getSoundIds(x),L=0;L<E.length;L++){m._clearTimer(E[L]);var ae=m._soundById(E[L]);if(ae&&!ae._paused&&(ae._seek=m.seek(E[L]),ae._rateSeek=0,ae._paused=!0,m._stopFade(E[L]),ae._node))if(m._webAudio){if(!ae._node.bufferSource)continue;typeof ae._node.bufferSource.stop>"u"?ae._node.bufferSource.noteOff(0):ae._node.bufferSource.stop(0),m._cleanBuffer(ae._node)}else(!isNaN(ae._node.duration)||ae._node.duration===1/0)&&ae._node.pause();arguments[1]||m._emit("pause",ae?ae._id:null)}return m},stop:function(x,m){var E=this;if("loaded"!==E._state||E._playLock)return E._queue.push({event:"stop",action:function(){E.stop(x)}}),E;for(var L=E._getSoundIds(x),ae=0;ae<L.length;ae++){E._clearTimer(L[ae]);var U=E._soundById(L[ae]);U&&(U._seek=U._start||0,U._rateSeek=0,U._paused=!0,U._ended=!0,E._stopFade(L[ae]),U._node&&(E._webAudio?U._node.bufferSource&&(typeof U._node.bufferSource.stop>"u"?U._node.bufferSource.noteOff(0):U._node.bufferSource.stop(0),E._cleanBuffer(U._node)):(!isNaN(U._node.duration)||U._node.duration===1/0)&&(U._node.currentTime=U._start||0,U._node.pause(),U._node.duration===1/0&&E._clearSound(U._node))),m||E._emit("stop",U._id))}return E},mute:function(x,m){var E=this;if("loaded"!==E._state||E._playLock)return E._queue.push({event:"mute",action:function(){E.mute(x,m)}}),E;if(typeof m>"u"){if("boolean"!=typeof x)return E._muted;E._muted=x}for(var L=E._getSoundIds(m),ae=0;ae<L.length;ae++){var U=E._soundById(L[ae]);U&&(U._muted=x,U._interval&&E._stopFade(U._id),E._webAudio&&U._node?U._node.gain.setValueAtTime(x?0:U._volume,v.ctx.currentTime):U._node&&(U._node.muted=!!v._muted||x),E._emit("mute",U._id))}return E},volume:function(){var E,L,Z,x=this,m=arguments;if(0===m.length)return x._volume;if(1===m.length||2===m.length&&typeof m[1]>"u"?x._getSoundIds().indexOf(m[0])>=0?L=parseInt(m[0],10):E=parseFloat(m[0]):m.length>=2&&(E=parseFloat(m[0]),L=parseInt(m[1],10)),!(typeof E<"u"&&E>=0&&E<=1))return(Z=L?x._soundById(L):x._sounds[0])?Z._volume:0;if("loaded"!==x._state||x._playLock)return x._queue.push({event:"volume",action:function(){x.volume.apply(x,m)}}),x;typeof L>"u"&&(x._volume=E),L=x._getSoundIds(L);for(var ne=0;ne<L.length;ne++)(Z=x._soundById(L[ne]))&&(Z._volume=E,m[2]||x._stopFade(L[ne]),x._webAudio&&Z._node&&!Z._muted?Z._node.gain.setValueAtTime(E,v.ctx.currentTime):Z._node&&!Z._muted&&(Z._node.volume=E*v.volume()),x._emit("volume",Z._id));return x},fade:function(x,m,E,L){var ae=this;if("loaded"!==ae._state||ae._playLock)return ae._queue.push({event:"fade",action:function(){ae.fade(x,m,E,L)}}),ae;x=Math.min(Math.max(0,parseFloat(x)),1),m=Math.min(Math.max(0,parseFloat(m)),1),E=parseFloat(E),ae.volume(x,L);for(var U=ae._getSoundIds(L),Z=0;Z<U.length;Z++){var ne=ae._soundById(U[Z]);if(ne){if(L||ae._stopFade(U[Z]),ae._webAudio&&!ne._muted){var q=v.ctx.currentTime,le=q+E/1e3;ne._volume=x,ne._node.gain.setValueAtTime(x,q),ne._node.gain.linearRampToValueAtTime(m,le)}ae._startFadeInterval(ne,x,m,E,U[Z],typeof L>"u")}}return ae},_startFadeInterval:function(x,m,E,L,ae,U){var Z=this,ne=m,q=E-m,le=Math.abs(q/.01),z=Math.max(4,le>0?L/le:L),J=Date.now();x._fadeTo=E,x._interval=setInterval(function(){var he=(Date.now()-J)/L;J=Date.now(),ne+=q*he,ne=Math.round(100*ne)/100,ne=q<0?Math.max(E,ne):Math.min(E,ne),Z._webAudio?x._volume=ne:Z.volume(ne,x._id,!0),U&&(Z._volume=ne),(E<m&&ne<=E||E>m&&ne>=E)&&(clearInterval(x._interval),x._interval=null,x._fadeTo=null,Z.volume(E,x._id),Z._emit("fade",x._id))},z)},_stopFade:function(x){var m=this,E=m._soundById(x);return E&&E._interval&&(m._webAudio&&E._node.gain.cancelScheduledValues(v.ctx.currentTime),clearInterval(E._interval),E._interval=null,m.volume(E._fadeTo,x),E._fadeTo=null,m._emit("fade",x)),m},loop:function(){var E,L,ae,x=this,m=arguments;if(0===m.length)return x._loop;if(1===m.length){if("boolean"!=typeof m[0])return!!(ae=x._soundById(parseInt(m[0],10)))&&ae._loop;x._loop=E=m[0]}else 2===m.length&&(E=m[0],L=parseInt(m[1],10));for(var U=x._getSoundIds(L),Z=0;Z<U.length;Z++)(ae=x._soundById(U[Z]))&&(ae._loop=E,x._webAudio&&ae._node&&ae._node.bufferSource&&(ae._node.bufferSource.loop=E,E&&(ae._node.bufferSource.loopStart=ae._start||0,ae._node.bufferSource.loopEnd=ae._stop,x.playing(U[Z])&&(x.pause(U[Z],!0),x.play(U[Z],!0)))));return x},rate:function(){var E,L,Z,x=this,m=arguments;if(0===m.length?L=x._sounds[0]._id:1===m.length?x._getSoundIds().indexOf(m[0])>=0?L=parseInt(m[0],10):E=parseFloat(m[0]):2===m.length&&(E=parseFloat(m[0]),L=parseInt(m[1],10)),"number"!=typeof E)return(Z=x._soundById(L))?Z._rate:x._rate;if("loaded"!==x._state||x._playLock)return x._queue.push({event:"rate",action:function(){x.rate.apply(x,m)}}),x;typeof L>"u"&&(x._rate=E),L=x._getSoundIds(L);for(var ne=0;ne<L.length;ne++)if(Z=x._soundById(L[ne])){x.playing(L[ne])&&(Z._rateSeek=x.seek(L[ne]),Z._playStart=x._webAudio?v.ctx.currentTime:Z._playStart),Z._rate=E,x._webAudio&&Z._node&&Z._node.bufferSource?Z._node.bufferSource.playbackRate.setValueAtTime(E,v.ctx.currentTime):Z._node&&(Z._node.playbackRate=E);var q=x.seek(L[ne]),z=1e3*((x._sprite[Z._sprite][0]+x._sprite[Z._sprite][1])/1e3-q)/Math.abs(Z._rate);(x._endTimers[L[ne]]||!Z._paused)&&(x._clearTimer(L[ne]),x._endTimers[L[ne]]=setTimeout(x._ended.bind(x,Z),z)),x._emit("rate",Z._id)}return x},seek:function(){var E,L,x=this,m=arguments;if(0===m.length?x._sounds.length&&(L=x._sounds[0]._id):1===m.length?x._getSoundIds().indexOf(m[0])>=0?L=parseInt(m[0],10):x._sounds.length&&(L=x._sounds[0]._id,E=parseFloat(m[0])):2===m.length&&(E=parseFloat(m[0]),L=parseInt(m[1],10)),typeof L>"u")return 0;if("number"==typeof E&&("loaded"!==x._state||x._playLock))return x._queue.push({event:"seek",action:function(){x.seek.apply(x,m)}}),x;var Z=x._soundById(L);if(Z){if(!("number"==typeof E&&E>=0)){if(x._webAudio){var z=x.playing(L)?v.ctx.currentTime-Z._playStart:0;return Z._seek+((Z._rateSeek?Z._rateSeek-Z._seek:0)+z*Math.abs(Z._rate))}return Z._node.currentTime}var ne=x.playing(L);ne&&x.pause(L,!0),Z._seek=E,Z._ended=!1,x._clearTimer(L),!x._webAudio&&Z._node&&!isNaN(Z._node.duration)&&(Z._node.currentTime=E);var q=function(){ne&&x.play(L,!0),x._emit("seek",L)};if(ne&&!x._webAudio){var le=function(){x._playLock?setTimeout(le,0):q()};setTimeout(le,0)}else q()}return x},playing:function(x){var m=this;if("number"==typeof x){var E=m._soundById(x);return!!E&&!E._paused}for(var L=0;L<m._sounds.length;L++)if(!m._sounds[L]._paused)return!0;return!1},duration:function(x){var m=this,E=m._duration,L=m._soundById(x);return L&&(E=m._sprite[L._sprite][1]/1e3),E},state:function(){return this._state},unload:function(){for(var x=this,m=x._sounds,E=0;E<m.length;E++)m[E]._paused||x.stop(m[E]._id),x._webAudio||(x._clearSound(m[E]._node),m[E]._node.removeEventListener("error",m[E]._errorFn,!1),m[E]._node.removeEventListener(v._canPlayEvent,m[E]._loadFn,!1),m[E]._node.removeEventListener("ended",m[E]._endFn,!1),v._releaseHtml5Audio(m[E]._node)),delete m[E]._node,x._clearTimer(m[E]._id);var L=v._howls.indexOf(x);L>=0&&v._howls.splice(L,1);var ae=!0;for(E=0;E<v._howls.length;E++)if(v._howls[E]._src===x._src||x._src.indexOf(v._howls[E]._src)>=0){ae=!1;break}return C&&ae&&delete C[x._src],v.noAudio=!1,x._state="unloaded",x._sounds=[],x=null,null},on:function(x,m,E,L){return"function"==typeof m&&this["_on"+x].push(L?{id:E,fn:m,once:L}:{id:E,fn:m}),this},off:function(x,m,E){var L=this,ae=L["_on"+x],U=0;if("number"==typeof m&&(E=m,m=null),m||E)for(U=0;U<ae.length;U++){var Z=E===ae[U].id;if(m===ae[U].fn&&Z||!m&&Z){ae.splice(U,1);break}}else if(x)L["_on"+x]=[];else{var ne=Object.keys(L);for(U=0;U<ne.length;U++)0===ne[U].indexOf("_on")&&Array.isArray(L[ne[U]])&&(L[ne[U]]=[])}return L},once:function(x,m,E){return this.on(x,m,E,1),this},_emit:function(x,m,E){for(var L=this,ae=L["_on"+x],U=ae.length-1;U>=0;U--)(!ae[U].id||ae[U].id===m||"load"===x)&&(setTimeout(function(Z){Z.call(this,m,E)}.bind(L,ae[U].fn),0),ae[U].once&&L.off(x,ae[U].fn,ae[U].id));return L._loadQueue(x),L},_loadQueue:function(x){var m=this;if(m._queue.length>0){var E=m._queue[0];E.event===x&&(m._queue.shift(),m._loadQueue()),x||E.action()}return m},_ended:function(x){var m=this,E=x._sprite;if(!m._webAudio&&x._node&&!x._node.paused&&!x._node.ended&&x._node.currentTime<x._stop)return setTimeout(m._ended.bind(m,x),100),m;var L=!(!x._loop&&!m._sprite[E][2]);if(m._emit("end",x._id),!m._webAudio&&L&&m.stop(x._id,!0).play(x._id),m._webAudio&&L){m._emit("play",x._id),x._seek=x._start||0,x._rateSeek=0,x._playStart=v.ctx.currentTime;var ae=1e3*(x._stop-x._start)/Math.abs(x._rate);m._endTimers[x._id]=setTimeout(m._ended.bind(m,x),ae)}return m._webAudio&&!L&&(x._paused=!0,x._ended=!0,x._seek=x._start||0,x._rateSeek=0,m._clearTimer(x._id),m._cleanBuffer(x._node),v._autoSuspend()),!m._webAudio&&!L&&m.stop(x._id,!0),m},_clearTimer:function(x){var m=this;if(m._endTimers[x]){if("function"!=typeof m._endTimers[x])clearTimeout(m._endTimers[x]);else{var E=m._soundById(x);E&&E._node&&E._node.removeEventListener("ended",m._endTimers[x],!1)}delete m._endTimers[x]}return m},_soundById:function(x){for(var m=this,E=0;E<m._sounds.length;E++)if(x===m._sounds[E]._id)return m._sounds[E];return null},_inactiveSound:function(){var x=this;x._drain();for(var m=0;m<x._sounds.length;m++)if(x._sounds[m]._ended)return x._sounds[m].reset();return new M(x)},_drain:function(){var x=this,m=x._pool,E=0,L=0;if(!(x._sounds.length<m)){for(L=0;L<x._sounds.length;L++)x._sounds[L]._ended&&E++;for(L=x._sounds.length-1;L>=0;L--){if(E<=m)return;x._sounds[L]._ended&&(x._webAudio&&x._sounds[L]._node&&x._sounds[L]._node.disconnect(0),x._sounds.splice(L,1),E--)}}},_getSoundIds:function(x){if(typeof x>"u"){for(var E=[],L=0;L<this._sounds.length;L++)E.push(this._sounds[L]._id);return E}return[x]},_refreshBuffer:function(x){return x._node.bufferSource=v.ctx.createBufferSource(),x._node.bufferSource.buffer=C[this._src],x._node.bufferSource.connect(x._panner?x._panner:x._node),x._node.bufferSource.loop=x._loop,x._loop&&(x._node.bufferSource.loopStart=x._start||0,x._node.bufferSource.loopEnd=x._stop||0),x._node.bufferSource.playbackRate.setValueAtTime(x._rate,v.ctx.currentTime),this},_cleanBuffer:function(x){var E=v._navigator&&v._navigator.vendor.indexOf("Apple")>=0;if(!x.bufferSource)return this;if(v._scratchBuffer&&x.bufferSource&&(x.bufferSource.onended=null,x.bufferSource.disconnect(0),E))try{x.bufferSource.buffer=v._scratchBuffer}catch{}return x.bufferSource=null,this},_clearSound:function(x){/MSIE |Trident\//.test(v._navigator&&v._navigator.userAgent)||(x.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var M=function(x){this._parent=x,this.init()};M.prototype={init:function(){var x=this,m=x._parent;return x._muted=m._muted,x._loop=m._loop,x._volume=m._volume,x._rate=m._rate,x._seek=0,x._paused=!0,x._ended=!0,x._sprite="__default",x._id=++v._counter,m._sounds.push(x),x.create(),x},create:function(){var x=this,m=x._parent,E=v._muted||x._muted||x._parent._muted?0:x._volume;return m._webAudio?(x._node=typeof v.ctx.createGain>"u"?v.ctx.createGainNode():v.ctx.createGain(),x._node.gain.setValueAtTime(E,v.ctx.currentTime),x._node.paused=!0,x._node.connect(v.masterGain)):v.noAudio||(x._node=v._obtainHtml5Audio(),x._errorFn=x._errorListener.bind(x),x._node.addEventListener("error",x._errorFn,!1),x._loadFn=x._loadListener.bind(x),x._node.addEventListener(v._canPlayEvent,x._loadFn,!1),x._endFn=x._endListener.bind(x),x._node.addEventListener("ended",x._endFn,!1),x._node.src=m._src,x._node.preload=!0===m._preload?"auto":m._preload,x._node.volume=E*v.volume(),x._node.load()),x},reset:function(){var x=this,m=x._parent;return x._muted=m._muted,x._loop=m._loop,x._volume=m._volume,x._rate=m._rate,x._seek=0,x._rateSeek=0,x._paused=!0,x._ended=!0,x._sprite="__default",x._id=++v._counter,x},_errorListener:function(){var x=this;x._parent._emit("loaderror",x._id,x._node.error?x._node.error.code:0),x._node.removeEventListener("error",x._errorFn,!1)},_loadListener:function(){var x=this,m=x._parent;m._duration=Math.ceil(10*x._node.duration)/10,0===Object.keys(m._sprite).length&&(m._sprite={__default:[0,1e3*m._duration]}),"loaded"!==m._state&&(m._state="loaded",m._emit("load"),m._loadQueue()),x._node.removeEventListener(v._canPlayEvent,x._loadFn,!1)},_endListener:function(){var x=this,m=x._parent;m._duration===1/0&&(m._duration=Math.ceil(10*x._node.duration)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=1e3*m._duration),m._ended(x)),x._node.removeEventListener("ended",x._endFn,!1)}};var C={},d=function(x){var m=x._src;if(C[m])return x._duration=C[m].duration,void G(x);if(/^data:[^;]+;base64,/.test(m)){for(var E=atob(m.split(",")[1]),L=new Uint8Array(E.length),ae=0;ae<E.length;++ae)L[ae]=E.charCodeAt(ae);P(L.buffer,x)}else{var U=new XMLHttpRequest;U.open(x._xhr.method,m,!0),U.withCredentials=x._xhr.withCredentials,U.responseType="arraybuffer",x._xhr.headers&&Object.keys(x._xhr.headers).forEach(function(Z){U.setRequestHeader(Z,x._xhr.headers[Z])}),U.onload=function(){var Z=(U.status+"")[0];"0"===Z||"2"===Z||"3"===Z?P(U.response,x):x._emit("loaderror",null,"Failed loading audio file with status: "+U.status+".")},U.onerror=function(){x._webAudio&&(x._html5=!0,x._webAudio=!1,x._sounds=[],delete C[m],x.load())},F(U)}},F=function(x){try{x.send()}catch{x.onerror()}},P=function(x,m){var E=function(){m._emit("loaderror",null,"Decoding audio data failed.")},L=function(ae){ae&&m._sounds.length>0?(C[m._src]=ae,G(m,ae)):E()};typeof Promise<"u"&&1===v.ctx.decodeAudioData.length?v.ctx.decodeAudioData(x).then(L).catch(E):v.ctx.decodeAudioData(x,L,E)},G=function(x,m){m&&!x._duration&&(x._duration=m.duration),0===Object.keys(x._sprite).length&&(x._sprite={__default:[0,1e3*x._duration]}),"loaded"!==x._state&&(x._state="loaded",x._emit("load"),x._loadQueue())},N=function(){if(v.usingWebAudio){try{typeof AudioContext<"u"?v.ctx=new AudioContext:typeof webkitAudioContext<"u"?v.ctx=new webkitAudioContext:v.usingWebAudio=!1}catch{v.usingWebAudio=!1}v.ctx||(v.usingWebAudio=!1);var x=/iP(hone|od|ad)/.test(v._navigator&&v._navigator.platform),m=v._navigator&&v._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),E=m?parseInt(m[1],10):null;if(x&&E&&E<9){var L=/safari/.test(v._navigator&&v._navigator.userAgent.toLowerCase());v._navigator&&!L&&(v.usingWebAudio=!1)}v.usingWebAudio&&(v.masterGain=typeof v.ctx.createGain>"u"?v.ctx.createGainNode():v.ctx.createGain(),v.masterGain.gain.setValueAtTime(v._muted?0:v._volume,v.ctx.currentTime),v.masterGain.connect(v.ctx.destination)),v._setup()}};void 0!==(r=function(){return{Howler:v,Howl:S}}.apply(qe,[]))&&(ln.exports=r),qe.Howler=v,qe.Howl=S,typeof global<"u"?(global.HowlerGlobal=s,global.Howler=v,global.Howl=S,global.Sound=M):typeof window<"u"&&(window.HowlerGlobal=s,window.Howler=v,window.Howl=S,window.Sound=M)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(v){var S=this;if(!S.ctx||!S.ctx.listener)return S;for(var M=S._howls.length-1;M>=0;M--)S._howls[M].stereo(v);return S},HowlerGlobal.prototype.pos=function(v,S,M){var C=this;return C.ctx&&C.ctx.listener?"number"!=typeof v?C._pos:(C._pos=[v,S="number"!=typeof S?C._pos[1]:S,M="number"!=typeof M?C._pos[2]:M],typeof C.ctx.listener.positionX<"u"?(C.ctx.listener.positionX.setTargetAtTime(C._pos[0],Howler.ctx.currentTime,.1),C.ctx.listener.positionY.setTargetAtTime(C._pos[1],Howler.ctx.currentTime,.1),C.ctx.listener.positionZ.setTargetAtTime(C._pos[2],Howler.ctx.currentTime,.1)):C.ctx.listener.setPosition(C._pos[0],C._pos[1],C._pos[2]),C):C},HowlerGlobal.prototype.orientation=function(v,S,M,C,d,F){var P=this;if(!P.ctx||!P.ctx.listener)return P;var G=P._orientation;return"number"!=typeof v?G:(P._orientation=[v,S="number"!=typeof S?G[1]:S,M="number"!=typeof M?G[2]:M,C="number"!=typeof C?G[3]:C,d="number"!=typeof d?G[4]:d,F="number"!=typeof F?G[5]:F],typeof P.ctx.listener.forwardX<"u"?(P.ctx.listener.forwardX.setTargetAtTime(v,Howler.ctx.currentTime,.1),P.ctx.listener.forwardY.setTargetAtTime(S,Howler.ctx.currentTime,.1),P.ctx.listener.forwardZ.setTargetAtTime(M,Howler.ctx.currentTime,.1),P.ctx.listener.upX.setTargetAtTime(C,Howler.ctx.currentTime,.1),P.ctx.listener.upY.setTargetAtTime(d,Howler.ctx.currentTime,.1),P.ctx.listener.upZ.setTargetAtTime(F,Howler.ctx.currentTime,.1)):P.ctx.listener.setOrientation(v,S,M,C,d,F),P)},Howl.prototype.init=function(v){return function(S){var M=this;return M._orientation=S.orientation||[1,0,0],M._stereo=S.stereo||null,M._pos=S.pos||null,M._pannerAttr={coneInnerAngle:typeof S.coneInnerAngle<"u"?S.coneInnerAngle:360,coneOuterAngle:typeof S.coneOuterAngle<"u"?S.coneOuterAngle:360,coneOuterGain:typeof S.coneOuterGain<"u"?S.coneOuterGain:0,distanceModel:typeof S.distanceModel<"u"?S.distanceModel:"inverse",maxDistance:typeof S.maxDistance<"u"?S.maxDistance:1e4,panningModel:typeof S.panningModel<"u"?S.panningModel:"HRTF",refDistance:typeof S.refDistance<"u"?S.refDistance:1,rolloffFactor:typeof S.rolloffFactor<"u"?S.rolloffFactor:1},M._onstereo=S.onstereo?[{fn:S.onstereo}]:[],M._onpos=S.onpos?[{fn:S.onpos}]:[],M._onorientation=S.onorientation?[{fn:S.onorientation}]:[],v.call(this,S)}}(Howl.prototype.init),Howl.prototype.stereo=function(v,S){var M=this;if(!M._webAudio)return M;if("loaded"!==M._state)return M._queue.push({event:"stereo",action:function(){M.stereo(v,S)}}),M;var C=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof S>"u"){if("number"!=typeof v)return M._stereo;M._stereo=v,M._pos=[v,0,0]}for(var d=M._getSoundIds(S),F=0;F<d.length;F++){var P=M._soundById(d[F]);if(P){if("number"!=typeof v)return P._stereo;P._stereo=v,P._pos=[v,0,0],P._node&&(P._pannerAttr.panningModel="equalpower",(!P._panner||!P._panner.pan)&&s(P,C),"spatial"===C?typeof P._panner.positionX<"u"?(P._panner.positionX.setValueAtTime(v,Howler.ctx.currentTime),P._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),P._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):P._panner.setPosition(v,0,0):P._panner.pan.setValueAtTime(v,Howler.ctx.currentTime)),M._emit("stereo",P._id)}}return M},Howl.prototype.pos=function(v,S,M,C){var d=this;if(!d._webAudio)return d;if("loaded"!==d._state)return d._queue.push({event:"pos",action:function(){d.pos(v,S,M,C)}}),d;if(S="number"!=typeof S?0:S,M="number"!=typeof M?-.5:M,typeof C>"u"){if("number"!=typeof v)return d._pos;d._pos=[v,S,M]}for(var F=d._getSoundIds(C),P=0;P<F.length;P++){var G=d._soundById(F[P]);if(G){if("number"!=typeof v)return G._pos;G._pos=[v,S,M],G._node&&((!G._panner||G._panner.pan)&&s(G,"spatial"),typeof G._panner.positionX<"u"?(G._panner.positionX.setValueAtTime(v,Howler.ctx.currentTime),G._panner.positionY.setValueAtTime(S,Howler.ctx.currentTime),G._panner.positionZ.setValueAtTime(M,Howler.ctx.currentTime)):G._panner.setPosition(v,S,M)),d._emit("pos",G._id)}}return d},Howl.prototype.orientation=function(v,S,M,C){var d=this;if(!d._webAudio)return d;if("loaded"!==d._state)return d._queue.push({event:"orientation",action:function(){d.orientation(v,S,M,C)}}),d;if(S="number"!=typeof S?d._orientation[1]:S,M="number"!=typeof M?d._orientation[2]:M,typeof C>"u"){if("number"!=typeof v)return d._orientation;d._orientation=[v,S,M]}for(var F=d._getSoundIds(C),P=0;P<F.length;P++){var G=d._soundById(F[P]);if(G){if("number"!=typeof v)return G._orientation;G._orientation=[v,S,M],G._node&&(G._panner||(G._pos||(G._pos=d._pos||[0,0,-.5]),s(G,"spatial")),typeof G._panner.orientationX<"u"?(G._panner.orientationX.setValueAtTime(v,Howler.ctx.currentTime),G._panner.orientationY.setValueAtTime(S,Howler.ctx.currentTime),G._panner.orientationZ.setValueAtTime(M,Howler.ctx.currentTime)):G._panner.setOrientation(v,S,M)),d._emit("orientation",G._id)}}return d},Howl.prototype.pannerAttr=function(){var M,C,d,v=this,S=arguments;if(!v._webAudio)return v;if(0===S.length)return v._pannerAttr;if(1===S.length){if("object"!=typeof S[0])return(d=v._soundById(parseInt(S[0],10)))?d._pannerAttr:v._pannerAttr;M=S[0],typeof C>"u"&&(M.pannerAttr||(M.pannerAttr={coneInnerAngle:M.coneInnerAngle,coneOuterAngle:M.coneOuterAngle,coneOuterGain:M.coneOuterGain,distanceModel:M.distanceModel,maxDistance:M.maxDistance,refDistance:M.refDistance,rolloffFactor:M.rolloffFactor,panningModel:M.panningModel}),v._pannerAttr={coneInnerAngle:typeof M.pannerAttr.coneInnerAngle<"u"?M.pannerAttr.coneInnerAngle:v._coneInnerAngle,coneOuterAngle:typeof M.pannerAttr.coneOuterAngle<"u"?M.pannerAttr.coneOuterAngle:v._coneOuterAngle,coneOuterGain:typeof M.pannerAttr.coneOuterGain<"u"?M.pannerAttr.coneOuterGain:v._coneOuterGain,distanceModel:typeof M.pannerAttr.distanceModel<"u"?M.pannerAttr.distanceModel:v._distanceModel,maxDistance:typeof M.pannerAttr.maxDistance<"u"?M.pannerAttr.maxDistance:v._maxDistance,refDistance:typeof M.pannerAttr.refDistance<"u"?M.pannerAttr.refDistance:v._refDistance,rolloffFactor:typeof M.pannerAttr.rolloffFactor<"u"?M.pannerAttr.rolloffFactor:v._rolloffFactor,panningModel:typeof M.pannerAttr.panningModel<"u"?M.pannerAttr.panningModel:v._panningModel})}else 2===S.length&&(M=S[0],C=parseInt(S[1],10));for(var F=v._getSoundIds(C),P=0;P<F.length;P++)if(d=v._soundById(F[P])){var G=d._pannerAttr;G={coneInnerAngle:typeof M.coneInnerAngle<"u"?M.coneInnerAngle:G.coneInnerAngle,coneOuterAngle:typeof M.coneOuterAngle<"u"?M.coneOuterAngle:G.coneOuterAngle,coneOuterGain:typeof M.coneOuterGain<"u"?M.coneOuterGain:G.coneOuterGain,distanceModel:typeof M.distanceModel<"u"?M.distanceModel:G.distanceModel,maxDistance:typeof M.maxDistance<"u"?M.maxDistance:G.maxDistance,refDistance:typeof M.refDistance<"u"?M.refDistance:G.refDistance,rolloffFactor:typeof M.rolloffFactor<"u"?M.rolloffFactor:G.rolloffFactor,panningModel:typeof M.panningModel<"u"?M.panningModel:G.panningModel};var N=d._panner;N||(d._pos||(d._pos=v._pos||[0,0,-.5]),s(d,"spatial"),N=d._panner),N.coneInnerAngle=G.coneInnerAngle,N.coneOuterAngle=G.coneOuterAngle,N.coneOuterGain=G.coneOuterGain,N.distanceModel=G.distanceModel,N.maxDistance=G.maxDistance,N.refDistance=G.refDistance,N.rolloffFactor=G.rolloffFactor,N.panningModel=G.panningModel}return v},Sound.prototype.init=function(v){return function(){var S=this,M=S._parent;S._orientation=M._orientation,S._stereo=M._stereo,S._pos=M._pos,S._pannerAttr=M._pannerAttr,v.call(this),S._stereo?M.stereo(S._stereo):S._pos&&M.pos(S._pos[0],S._pos[1],S._pos[2],S._id)}}(Sound.prototype.init),Sound.prototype.reset=function(v){return function(){var S=this,M=S._parent;return S._orientation=M._orientation,S._stereo=M._stereo,S._pos=M._pos,S._pannerAttr=M._pannerAttr,S._stereo?M.stereo(S._stereo):S._pos?M.pos(S._pos[0],S._pos[1],S._pos[2],S._id):S._panner&&(S._panner.disconnect(0),S._panner=void 0,M._refreshBuffer(S)),v.call(this)}}(Sound.prototype.reset);var s=function(v,S){"spatial"===(S=S||"spatial")?(v._panner=Howler.ctx.createPanner(),v._panner.coneInnerAngle=v._pannerAttr.coneInnerAngle,v._panner.coneOuterAngle=v._pannerAttr.coneOuterAngle,v._panner.coneOuterGain=v._pannerAttr.coneOuterGain,v._panner.distanceModel=v._pannerAttr.distanceModel,v._panner.maxDistance=v._pannerAttr.maxDistance,v._panner.refDistance=v._pannerAttr.refDistance,v._panner.rolloffFactor=v._pannerAttr.rolloffFactor,v._panner.panningModel=v._pannerAttr.panningModel,typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(v._pos[0],Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(v._pos[1],Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(v._pos[2],Howler.ctx.currentTime)):v._panner.setPosition(v._pos[0],v._pos[1],v._pos[2]),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(v._orientation[0],Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(v._orientation[1],Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(v._orientation[2],Howler.ctx.currentTime)):v._panner.setOrientation(v._orientation[0],v._orientation[1],v._orientation[2])):(v._panner=Howler.ctx.createStereoPanner(),v._panner.pan.setValueAtTime(v._stereo,Howler.ctx.currentTime)),v._panner.connect(v._node),v._paused||v._parent.pause(v._id,!0).play(v._id,!0)}}()},7662:(ln,qe,w)=>{"use strict";w.d(qe,{mo:()=>vr});var r=w(28407);const v=(()=>{let Fe=0;return()=>(Fe+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${Fe}`)})();function M(Fe){const _t=[];for(let bn=0,xn=Fe.length;bn<xn;bn++)_t.push(Fe[bn]);return _t}function C(Fe,_t){const xn=(Fe.ownerDocument.defaultView||window).getComputedStyle(Fe).getPropertyValue(_t);return xn?parseFloat(xn.replace("px","")):0}function P(Fe,_t={}){const bn=_t.width||function d(Fe){const _t=C(Fe,"border-left-width"),bn=C(Fe,"border-right-width");return Fe.clientWidth+_t+bn}(Fe),xn=_t.height||function F(Fe){const _t=C(Fe,"border-top-width"),bn=C(Fe,"border-bottom-width");return Fe.clientHeight+_t+bn}(Fe);return{width:bn,height:xn}}const N=16384;function E(Fe){return new Promise((_t,bn)=>{const xn=new Image;xn.decode=()=>_t(xn),xn.onload=()=>_t(xn),xn.onerror=bn,xn.crossOrigin="anonymous",xn.decoding="async",xn.src=Fe})}function ae(){return(ae=(0,r.A)(function*(Fe){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(Fe)).then(encodeURIComponent).then(_t=>`data:image/svg+xml;charset=utf-8,${_t}`)})).apply(this,arguments)}function Z(){return Z=(0,r.A)(function*(Fe,_t,bn){const xn="http://www.w3.org/2000/svg",zn=document.createElementNS(xn,"svg"),ir=document.createElementNS(xn,"foreignObject");return zn.setAttribute("width",`${_t}`),zn.setAttribute("height",`${bn}`),zn.setAttribute("viewBox",`0 0 ${_t} ${bn}`),ir.setAttribute("width","100%"),ir.setAttribute("height","100%"),ir.setAttribute("x","0"),ir.setAttribute("y","0"),ir.setAttribute("externalResourcesRequired","true"),zn.appendChild(ir),ir.appendChild(Fe),function L(Fe){return ae.apply(this,arguments)}(zn)}),Z.apply(this,arguments)}const ne=(Fe,_t)=>{if(Fe instanceof _t)return!0;const bn=Object.getPrototypeOf(Fe);return null!==bn&&(bn.constructor.name===_t.name||ne(bn,_t))};function J(Fe,_t,bn){const xn=window.getComputedStyle(Fe,bn),zn=xn.getPropertyValue("content");if(""===zn||"none"===zn)return;const ir=v();try{_t.className=`${_t.className} ${ir}`}catch{return}const Pr=document.createElement("style");Pr.appendChild(function z(Fe,_t,bn){const xn=`.${Fe}:${_t}`,zn=bn.cssText?function q(Fe){const _t=Fe.getPropertyValue("content");return`${Fe.cssText} content: '${_t.replace(/'|"/g,"")}';`}(bn):function le(Fe){return M(Fe).map(_t=>`${_t}: ${Fe.getPropertyValue(_t)}${Fe.getPropertyPriority(_t)?" !important":""};`).join(" ")}(bn);return document.createTextNode(`${xn}{${zn}}`)}(ir,bn,xn)),_t.appendChild(Pr)}const we="application/font-woff",k="image/jpeg",ue={woff:we,woff2:we,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:k,jpeg:k,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function ke(Fe){const _t=function Ie(Fe){const _t=/\.([^./]*?)$/g.exec(Fe);return _t?_t[1]:""}(Fe).toLowerCase();return ue[_t]||""}function Ce(Fe){return-1!==Fe.search(/^(data:)/)}function Nt(Fe,_t){return`data:${_t};base64,${Fe}`}function Kt(Fe,_t,bn){return me.apply(this,arguments)}function me(){return(me=(0,r.A)(function*(Fe,_t,bn){const xn=yield fetch(Fe,_t);if(404===xn.status)throw new Error(`Resource "${xn.url}" not found`);const zn=yield xn.blob();return new Promise((ir,Pr)=>{const et=new FileReader;et.onerror=Pr,et.onloadend=()=>{try{ir(bn({res:xn,result:et.result}))}catch($t){Pr($t)}},et.readAsDataURL(zn)})})).apply(this,arguments)}const ee={};function ye(Fe,_t,bn){return Se.apply(this,arguments)}function Se(){return(Se=(0,r.A)(function*(Fe,_t,bn){const xn=function fe(Fe,_t,bn){let xn=Fe.replace(/\?.*/,"");return bn&&(xn=Fe),/ttf|otf|eot|woff2?/i.test(xn)&&(xn=xn.replace(/.*\//,"")),_t?`[${_t}]${xn}`:xn}(Fe,_t,bn.includeQueryParams);if(null!=ee[xn])return ee[xn];let zn;bn.cacheBust&&(Fe+=(/\?/.test(Fe)?"&":"?")+(new Date).getTime());try{const ir=yield Kt(Fe,bn.fetchRequestInit,({res:Pr,result:et})=>(_t||(_t=Pr.headers.get("Content-Type")||""),function Ze(Fe){return Fe.split(/,/)[1]}(et)));zn=Nt(ir,_t)}catch(ir){zn=bn.imagePlaceholder||"";let Pr=`Failed to fetch resource: ${Fe}`;ir&&(Pr="string"==typeof ir?ir:ir.message),Pr&&console.warn(Pr)}return ee[xn]=zn,zn})).apply(this,arguments)}function yt(){return(yt=(0,r.A)(function*(Fe){const _t=Fe.toDataURL();return"data:,"===_t?Fe.cloneNode(!1):E(_t)})).apply(this,arguments)}function Ln(){return(Ln=(0,r.A)(function*(Fe,_t){if(Fe.currentSrc){const ir=document.createElement("canvas"),Pr=ir.getContext("2d");return ir.width=Fe.clientWidth,ir.height=Fe.clientHeight,Pr?.drawImage(Fe,0,0,ir.width,ir.height),E(ir.toDataURL())}const bn=Fe.poster,xn=ke(bn);return E(yield ye(bn,xn,_t))})).apply(this,arguments)}function We(){return(We=(0,r.A)(function*(Fe){var _t;try{if(null!==(_t=Fe?.contentDocument)&&void 0!==_t&&_t.body)return yield ie(Fe.contentDocument.body,{},!0)}catch{}return Fe.cloneNode(!1)})).apply(this,arguments)}function wt(){return wt=(0,r.A)(function*(Fe,_t){return ne(Fe,HTMLCanvasElement)?function Be(Fe){return yt.apply(this,arguments)}(Fe):ne(Fe,HTMLVideoElement)?function qt(Fe,_t){return Ln.apply(this,arguments)}(Fe,_t):ne(Fe,HTMLIFrameElement)?function Tt(Fe){return We.apply(this,arguments)}(Fe):Fe.cloneNode(!1)}),wt.apply(this,arguments)}const Y=Fe=>null!=Fe.tagName&&"SLOT"===Fe.tagName.toUpperCase();function R(){return(R=(0,r.A)(function*(Fe,_t,bn){var xn,zn;let ir=[];return ir=Y(Fe)&&Fe.assignedNodes?M(Fe.assignedNodes()):ne(Fe,HTMLIFrameElement)&&null!==(xn=Fe.contentDocument)&&void 0!==xn&&xn.body?M(Fe.contentDocument.body.childNodes):M((null!==(zn=Fe.shadowRoot)&&void 0!==zn?zn:Fe).childNodes),0===ir.length||ne(Fe,HTMLVideoElement)||(yield ir.reduce((Pr,et)=>Pr.then(()=>ie(et,bn)).then($t=>{$t&&_t.appendChild($t)}),Promise.resolve())),_t})).apply(this,arguments)}function xe(){return(xe=(0,r.A)(function*(Fe,_t){const bn=Fe.querySelectorAll?Fe.querySelectorAll("use"):[];if(0===bn.length)return Fe;const xn={};for(let ir=0;ir<bn.length;ir++){const et=bn[ir].getAttribute("xlink:href");if(et){const $t=Fe.querySelector(et),Vn=document.querySelector(et);!$t&&Vn&&!xn[et]&&(xn[et]=yield ie(Vn,_t,!0))}}const zn=Object.values(xn);if(zn.length){const ir="http://www.w3.org/1999/xhtml",Pr=document.createElementNS(ir,"svg");Pr.setAttribute("xmlns",ir),Pr.style.position="absolute",Pr.style.width="0",Pr.style.height="0",Pr.style.overflow="hidden",Pr.style.display="none";const et=document.createElementNS(ir,"defs");Pr.appendChild(et);for(let $t=0;$t<zn.length;$t++)et.appendChild(zn[$t]);Fe.appendChild(Pr)}return Fe})).apply(this,arguments)}function ie(Fe,_t,bn){return D.apply(this,arguments)}function D(){return D=(0,r.A)(function*(Fe,_t,bn){return bn||!_t.filter||_t.filter(Fe)?Promise.resolve(Fe).then(xn=>function Ve(Fe,_t){return wt.apply(this,arguments)}(xn,_t)).then(xn=>function b(Fe,_t,bn){return R.apply(this,arguments)}(Fe,xn,_t)).then(xn=>function h(Fe,_t){return ne(_t,Element)&&(function T(Fe,_t){const bn=_t.style;if(!bn)return;const xn=window.getComputedStyle(Fe);xn.cssText?(bn.cssText=xn.cssText,bn.transformOrigin=xn.transformOrigin):M(xn).forEach(zn=>{let ir=xn.getPropertyValue(zn);"font-size"===zn&&ir.endsWith("px")&&(ir=Math.floor(parseFloat(ir.substring(0,ir.length-2)))-.1+"px"),ne(Fe,HTMLIFrameElement)&&"display"===zn&&"inline"===ir&&(ir="block"),"d"===zn&&_t.getAttribute("d")&&(ir=`path(${_t.getAttribute("d")})`),bn.setProperty(zn,ir,xn.getPropertyPriority(zn))})}(Fe,_t),function he(Fe,_t){J(Fe,_t,":before"),J(Fe,_t,":after")}(Fe,_t),function V(Fe,_t){ne(Fe,HTMLTextAreaElement)&&(_t.innerHTML=Fe.value),ne(Fe,HTMLInputElement)&&_t.setAttribute("value",Fe.value)}(Fe,_t),function j(Fe,_t){if(ne(Fe,HTMLSelectElement)){const xn=Array.from(_t.children).find(zn=>Fe.value===zn.getAttribute("value"));xn&&xn.setAttribute("selected","")}}(Fe,_t)),_t}(Fe,xn)).then(xn=>function I(Fe,_t){return xe.apply(this,arguments)}(xn,_t)):null}),D.apply(this,arguments)}const K=/url\((['"]?)([^'"]+?)\1\)/g,se=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Le=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Oe(){return(Oe=(0,r.A)(function*(Fe,_t,bn,xn,zn){try{const ir=bn?function s(Fe,_t){if(Fe.match(/^[a-z]+:\/\//i))return Fe;if(Fe.match(/^\/\//))return window.location.protocol+Fe;if(Fe.match(/^[a-z]+:/i))return Fe;const bn=document.implementation.createHTMLDocument(),xn=bn.createElement("base"),zn=bn.createElement("a");return bn.head.appendChild(xn),bn.body.appendChild(zn),_t&&(xn.href=_t),zn.href=Fe,zn.href}(_t,bn):_t,Pr=ke(_t);let et;return et=zn?Nt(yield zn(ir),Pr):yield ye(ir,Pr,xn),Fe.replace(function ct(Fe){const _t=Fe.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${_t})(['"]?\\))`,"g")}(_t),`$1${et}$3`)}catch{}return Fe})).apply(this,arguments)}function it(Fe){return-1!==Fe.search(K)}function Bt(Fe,_t,bn){return pn.apply(this,arguments)}function pn(){return pn=(0,r.A)(function*(Fe,_t,bn){if(!it(Fe))return Fe;const xn=function Pt(Fe,{preferredFontFormat:_t}){return _t?Fe.replace(Le,bn=>{for(;;){const[xn,,zn]=se.exec(bn)||[];if(!zn)return"";if(zn===_t)return`src: ${xn};`}}):Fe}(Fe,bn);return function ut(Fe){const _t=[];return Fe.replace(K,(bn,xn,zn)=>(_t.push(zn),bn)),_t.filter(bn=>!Ce(bn))}(xn).reduce((ir,Pr)=>ir.then(et=>function en(Fe,_t,bn,xn,zn){return Oe.apply(this,arguments)}(et,Pr,_t,bn)),Promise.resolve(xn))}),pn.apply(this,arguments)}function st(Fe,_t,bn){return mt.apply(this,arguments)}function mt(){return(mt=(0,r.A)(function*(Fe,_t,bn){var xn;const zn=null===(xn=_t.style)||void 0===xn?void 0:xn.getPropertyValue(Fe);if(zn){const ir=yield Bt(zn,null,bn);return _t.style.setProperty(Fe,ir,_t.style.getPropertyPriority(Fe)),!0}return!1})).apply(this,arguments)}function Ne(){return(Ne=(0,r.A)(function*(Fe,_t){(yield st("background",Fe,_t))||(yield st("background-image",Fe,_t)),(yield st("mask",Fe,_t))||(yield st("mask-image",Fe,_t))})).apply(this,arguments)}function Zt(){return(Zt=(0,r.A)(function*(Fe,_t){const bn=ne(Fe,HTMLImageElement);if((!bn||Ce(Fe.src))&&(!ne(Fe,SVGImageElement)||Ce(Fe.href.baseVal)))return;const xn=bn?Fe.src:Fe.href.baseVal,zn=yield ye(xn,ke(xn),_t);yield new Promise((ir,Pr)=>{Fe.onload=ir,Fe.onerror=Pr;const et=Fe;et.decode&&(et.decode=ir),"lazy"===et.loading&&(et.loading="eager"),bn?(Fe.srcset="",Fe.src=zn):Fe.href.baseVal=zn})})).apply(this,arguments)}function Zn(){return(Zn=(0,r.A)(function*(Fe,_t){const xn=M(Fe.childNodes).map(zn=>br(zn,_t));yield Promise.all(xn).then(()=>Fe)})).apply(this,arguments)}function br(Fe,_t){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,r.A)(function*(Fe,_t){ne(Fe,Element)&&(yield function Ut(Fe,_t){return Ne.apply(this,arguments)}(Fe,_t),yield function zt(Fe,_t){return Zt.apply(this,arguments)}(Fe,_t),yield function Cn(Fe,_t){return Zn.apply(this,arguments)}(Fe,_t))}),Mr.apply(this,arguments)}const St={};function kt(Fe){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.A)(function*(Fe){let _t=St[Fe];return null!=_t||(_t={url:Fe,cssText:yield(yield fetch(Fe)).text()},St[Fe]=_t),_t})).apply(this,arguments)}function bt(Fe,_t){return sn.apply(this,arguments)}function sn(){return sn=(0,r.A)(function*(Fe,_t){let bn=Fe.cssText;const xn=/url\(["']?([^"')]+)["']?\)/g,ir=(bn.match(/url\([^)]+\)/g)||[]).map(function(){var Pr=(0,r.A)(function*(et){let $t=et.replace(xn,"$1");return $t.startsWith("https://")||($t=new URL($t,Fe.url).href),Kt($t,_t.fetchRequestInit,({result:Vn})=>(bn=bn.replace(et,`url(${Vn})`),[et,Vn]))});return function(et){return Pr.apply(this,arguments)}}());return Promise.all(ir).then(()=>bn)}),sn.apply(this,arguments)}function Yt(Fe){if(null==Fe)return[];const _t=[];let xn=Fe.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const zn=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const $t=zn.exec(xn);if(null===$t)break;_t.push($t[0])}xn=xn.replace(zn,"");const ir=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,et=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let $t=ir.exec(xn);if(null===$t){if($t=et.exec(xn),null===$t)break;ir.lastIndex=et.lastIndex}else et.lastIndex=ir.lastIndex;_t.push($t[0])}return _t}function Lt(){return(Lt=(0,r.A)(function*(Fe,_t){const bn=[],xn=[];return Fe.forEach(zn=>{if("cssRules"in zn)try{M(zn.cssRules||[]).forEach((ir,Pr)=>{if(ir.type===CSSRule.IMPORT_RULE){let et=Pr+1;const Vn=kt(ir.href).then(Tr=>bt(Tr,_t)).then(Tr=>Yt(Tr).forEach(ei=>{try{zn.insertRule(ei,ei.startsWith("@import")?et+=1:zn.cssRules.length)}catch(Si){console.error("Error inserting rule from remote css",{rule:ei,error:Si})}})).catch(Tr=>{console.error("Error loading remote css",Tr.toString())});xn.push(Vn)}})}catch(ir){const Pr=Fe.find(et=>null==et.href)||document.styleSheets[0];null!=zn.href&&xn.push(kt(zn.href).then(et=>bt(et,_t)).then(et=>Yt(et).forEach($t=>{Pr.insertRule($t,zn.cssRules.length)})).catch(et=>{console.error("Error loading remote stylesheet",et)})),console.error("Error inlining remote css file",ir)}}),Promise.all(xn).then(()=>(Fe.forEach(zn=>{if("cssRules"in zn)try{M(zn.cssRules||[]).forEach(ir=>{bn.push(ir)})}catch(ir){console.error(`Error while reading CSS rules from ${zn.href}`,ir)}}),bn))})).apply(this,arguments)}function ze(){return ze=(0,r.A)(function*(Fe,_t){if(null==Fe.ownerDocument)throw new Error("Provided element is not within a Document");const bn=M(Fe.ownerDocument.styleSheets),xn=yield function Qe(Fe,_t){return Lt.apply(this,arguments)}(bn,_t);return function Mn(Fe){return Fe.filter(_t=>_t.type===CSSRule.FONT_FACE_RULE).filter(_t=>it(_t.style.getPropertyValue("src")))}(xn)}),ze.apply(this,arguments)}function Ye(){return Ye=(0,r.A)(function*(Fe,_t){const bn=yield function vt(Fe,_t){return ze.apply(this,arguments)}(Fe,_t);return(yield Promise.all(bn.map(zn=>Bt(zn.cssText,zn.parentStyleSheet?zn.parentStyleSheet.href:null,_t)))).join("\n")}),Ye.apply(this,arguments)}function Pn(){return Pn=(0,r.A)(function*(Fe,_t){const bn=null!=_t.fontEmbedCSS?_t.fontEmbedCSS:_t.skipFonts?null:yield function nn(Fe,_t){return Ye.apply(this,arguments)}(Fe,_t);if(bn){const xn=document.createElement("style"),zn=document.createTextNode(bn);xn.appendChild(zn),Fe.firstChild?Fe.insertBefore(xn,Fe.firstChild):Fe.appendChild(xn)}}),Pn.apply(this,arguments)}function gr(){return gr=(0,r.A)(function*(Fe,_t={}){const{width:bn,height:xn}=P(Fe,_t),zn=yield ie(Fe,_t,!0);return yield function At(Fe,_t){return Pn.apply(this,arguments)}(zn,_t),yield br(zn,_t),function yn(Fe,_t){const{style:bn}=Fe;_t.backgroundColor&&(bn.backgroundColor=_t.backgroundColor),_t.width&&(bn.width=`${_t.width}px`),_t.height&&(bn.height=`${_t.height}px`);const xn=_t.style;null!=xn&&Object.keys(xn).forEach(zn=>{bn[zn]=xn[zn]})}(zn,_t),yield function U(Fe,_t,bn){return Z.apply(this,arguments)}(zn,bn,xn)}),gr.apply(this,arguments)}function vr(Fe){return vi.apply(this,arguments)}function vi(){return vi=(0,r.A)(function*(Fe,_t={}){const{width:bn,height:xn}=P(Fe,_t),zn=yield function Yn(Fe){return gr.apply(this,arguments)}(Fe,_t),ir=yield E(zn),Pr=document.createElement("canvas"),et=Pr.getContext("2d"),$t=_t.pixelRatio||function G(){let Fe,_t;try{_t=process}catch{}const bn=_t&&_t.env?_t.env.devicePixelRatio:null;return bn&&(Fe=parseInt(bn,10),Number.isNaN(Fe)&&(Fe=1)),Fe||window.devicePixelRatio||1}(),Vn=_t.canvasWidth||bn,Tr=_t.canvasHeight||xn;return Pr.width=Vn*$t,Pr.height=Tr*$t,_t.skipAutoScale||function x(Fe){(Fe.width>N||Fe.height>N)&&(Fe.width>N&&Fe.height>N?Fe.width>Fe.height?(Fe.height*=N/Fe.width,Fe.width=N):(Fe.width*=N/Fe.height,Fe.height=N):Fe.width>N?(Fe.height*=N/Fe.width,Fe.width=N):(Fe.width*=N/Fe.height,Fe.height=N))}(Pr),Pr.style.width=`${Vn}`,Pr.style.height=`${Tr}`,_t.backgroundColor&&(et.fillStyle=_t.backgroundColor,et.fillRect(0,0,Pr.width,Pr.height)),et.drawImage(ir,0,0,Pr.width,Pr.height),Pr}),vi.apply(this,arguments)}},5114:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{KTX2Container:()=>N,read:()=>ae,write:()=>ne});const r=new Uint8Array([0]),s=[171,75,84,88,32,50,48,187,13,10,26,10];var v,S,M,C,d,F,P,G,q;(q=v||(v={}))[q.NONE=0]="NONE",q[q.BASISLZ=1]="BASISLZ",q[q.ZSTD=2]="ZSTD",q[q.ZLIB=3]="ZLIB",function(q){q[q.BASICFORMAT=0]="BASICFORMAT"}(S||(S={})),function(q){q[q.UNSPECIFIED=0]="UNSPECIFIED",q[q.ETC1S=163]="ETC1S",q[q.UASTC=166]="UASTC"}(M||(M={})),function(q){q[q.UNSPECIFIED=0]="UNSPECIFIED",q[q.SRGB=1]="SRGB"}(C||(C={})),function(q){q[q.UNSPECIFIED=0]="UNSPECIFIED",q[q.LINEAR=1]="LINEAR",q[q.SRGB=2]="SRGB",q[q.ITU=3]="ITU",q[q.NTSC=4]="NTSC",q[q.SLOG=5]="SLOG",q[q.SLOG2=6]="SLOG2"}(d||(d={})),function(q){q[q.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",q[q.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(F||(F={})),function(q){q[q.RGB=0]="RGB",q[q.RRR=3]="RRR",q[q.GGG=4]="GGG",q[q.AAA=15]="AAA"}(P||(P={})),function(q){q[q.RGB=0]="RGB",q[q.RGBA=3]="RGBA",q[q.RRR=4]="RRR",q[q.RRRG=5]="RRRG"}(G||(G={}));class N{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=v.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:S.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:M.UNSPECIFIED,colorPrimaries:C.SRGB,transferFunction:C.SRGB,flags:F.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null}}class x{constructor(le,z,J,he){this._dataView=new DataView(le.buffer,le.byteOffset+z,J),this._littleEndian=he,this._offset=0}_nextUint8(){const le=this._dataView.getUint8(this._offset);return this._offset+=1,le}_nextUint16(){const le=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,le}_nextUint32(){const le=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,le}_nextUint64(){const le=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,le}_skip(le){return this._offset+=le,this}_scan(le,z=0){const J=this._offset;let he=0;for(;this._dataView.getUint8(this._offset)!==z&&he<le;)he++,this._offset++;return he<le&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+J,he)}}function m(q){return typeof TextEncoder<"u"?(new TextEncoder).encode(q):Buffer.from(q)}function E(q){return typeof TextDecoder<"u"?(new TextDecoder).decode(q):Buffer.from(q).toString("utf8")}function L(q){let le=0;for(const he of q)le+=he.byteLength;const z=new Uint8Array(le);let J=0;for(const he of q)z.set(new Uint8Array(he),J),J+=he.byteLength;return z}function ae(q){const le=new Uint8Array(q.buffer,q.byteOffset,s.length);if(le[0]!==s[0]||le[1]!==s[1]||le[2]!==s[2]||le[3]!==s[3]||le[4]!==s[4]||le[5]!==s[5]||le[6]!==s[6]||le[7]!==s[7]||le[8]!==s[8]||le[9]!==s[9]||le[10]!==s[10]||le[11]!==s[11])throw new Error("Missing KTX 2.0 identifier.");const z=new N,J=17*Uint32Array.BYTES_PER_ELEMENT,he=new x(q,s.length,J,!0);z.vkFormat=he._nextUint32(),z.typeSize=he._nextUint32(),z.pixelWidth=he._nextUint32(),z.pixelHeight=he._nextUint32(),z.pixelDepth=he._nextUint32(),z.layerCount=he._nextUint32(),z.faceCount=he._nextUint32();const we=he._nextUint32();z.supercompressionScheme=he._nextUint32();const k=he._nextUint32(),ue=he._nextUint32(),Ie=he._nextUint32(),ke=he._nextUint32(),Ze=he._nextUint64(),Ce=he._nextUint64(),Nt=new x(q,s.length+J,3*we*8,!0);for(let h=0;h<we;h++)z.levels.push({levelData:new Uint8Array(q.buffer,q.byteOffset+Nt._nextUint64(),Nt._nextUint64()),uncompressedByteLength:Nt._nextUint64()});const Kt=new x(q,k,ue,!0),me={vendorId:Kt._skip(4)._nextUint16(),descriptorType:Kt._nextUint16(),versionNumber:Kt._nextUint16(),descriptorBlockSize:Kt._nextUint16(),colorModel:Kt._nextUint8(),colorPrimaries:Kt._nextUint8(),transferFunction:Kt._nextUint8(),flags:Kt._nextUint8(),texelBlockDimension:{x:Kt._nextUint8()+1,y:Kt._nextUint8()+1,z:Kt._nextUint8()+1,w:Kt._nextUint8()+1},bytesPlane:[Kt._nextUint8(),Kt._nextUint8(),Kt._nextUint8(),Kt._nextUint8(),Kt._nextUint8(),Kt._nextUint8(),Kt._nextUint8(),Kt._nextUint8()],samples:[]},ee=(me.descriptorBlockSize/4-6)/4;for(let h=0;h<ee;h++)me.samples[h]={bitOffset:Kt._nextUint16(),bitLength:Kt._nextUint8(),channelID:Kt._nextUint8(),samplePosition:[Kt._nextUint8(),Kt._nextUint8(),Kt._nextUint8(),Kt._nextUint8()],sampleLower:Kt._nextUint32(),sampleUpper:Kt._nextUint32()};z.dataFormatDescriptor.length=0,z.dataFormatDescriptor.push(me);const fe=new x(q,Ie,ke,!0);for(;fe._offset<ke;){const h=fe._nextUint32(),I=fe._scan(h),xe=E(I),ie=fe._scan(h-I.byteLength);z.keyValue[xe]=xe.match(/^ktx/i)?E(ie):ie,h%4&&fe._skip(4-h%4)}if(Ce<=0)return z;const ye=new x(q,Ze,Ce,!0),Se=ye._nextUint16(),Be=ye._nextUint16(),yt=ye._nextUint32(),qt=ye._nextUint32(),Ln=ye._nextUint32(),Tt=ye._nextUint32(),We=[];for(let h=0;h<we;h++)We.push({imageFlags:ye._nextUint32(),rgbSliceByteOffset:ye._nextUint32(),rgbSliceByteLength:ye._nextUint32(),alphaSliceByteOffset:ye._nextUint32(),alphaSliceByteLength:ye._nextUint32()});const Ve=Ze+ye._offset,wt=Ve+yt,Y=wt+qt,b=Y+Ln,R=new Uint8Array(q.buffer,q.byteOffset+Ve,yt),T=new Uint8Array(q.buffer,q.byteOffset+wt,qt),V=new Uint8Array(q.buffer,q.byteOffset+Y,Ln),j=new Uint8Array(q.buffer,q.byteOffset+b,Tt);return z.globalData={endpointCount:Se,selectorCount:Be,imageDescs:We,endpointsData:R,selectorsData:T,tablesData:V,extendedData:j},z}function U(){return(U=Object.assign||function(q){for(var le=1;le<arguments.length;le++){var z=arguments[le];for(var J in z)Object.prototype.hasOwnProperty.call(z,J)&&(q[J]=z[J])}return q}).apply(this,arguments)}const Z={keepWriter:!1};function ne(q,le={}){le=U({},Z,le);let z=new ArrayBuffer(0);if(q.globalData){const ye=new ArrayBuffer(20+5*q.globalData.imageDescs.length*4),Se=new DataView(ye);Se.setUint16(0,q.globalData.endpointCount,!0),Se.setUint16(2,q.globalData.selectorCount,!0),Se.setUint32(4,q.globalData.endpointsData.byteLength,!0),Se.setUint32(8,q.globalData.selectorsData.byteLength,!0),Se.setUint32(12,q.globalData.tablesData.byteLength,!0),Se.setUint32(16,q.globalData.extendedData.byteLength,!0);for(let Be=0;Be<q.globalData.imageDescs.length;Be++){const yt=q.globalData.imageDescs[Be];Se.setUint32(20+5*Be*4+0,yt.imageFlags,!0),Se.setUint32(20+5*Be*4+4,yt.rgbSliceByteOffset,!0),Se.setUint32(20+5*Be*4+8,yt.rgbSliceByteLength,!0),Se.setUint32(20+5*Be*4+12,yt.alphaSliceByteOffset,!0),Se.setUint32(20+5*Be*4+16,yt.alphaSliceByteLength,!0)}z=L([ye,q.globalData.endpointsData,q.globalData.selectorsData,q.globalData.tablesData,q.globalData.extendedData])}const J=[];let he=q.keyValue;le.keepWriter||(he=U({},q.keyValue,{KTXwriter:"KTX-Parse v0.0.4"}));for(const ye in he){const Se=he[ye],Be=m(ye),yt="string"==typeof Se?m(Se):Se,qt=Be.byteLength+1+yt.byteLength+1,Ln=qt%4?4-qt%4:0;J.push(L([new Uint32Array([qt]),Be,r,yt,r,new Uint8Array(Ln).fill(0)]))}const we=L(J),k=new ArrayBuffer(44),ue=new DataView(k);if(1!==q.dataFormatDescriptor.length||q.dataFormatDescriptor[0].descriptorType!==S.BASICFORMAT)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const Ie=q.dataFormatDescriptor[0];ue.setUint32(0,44,!0),ue.setUint16(4,Ie.vendorId,!0),ue.setUint16(6,Ie.descriptorType,!0),ue.setUint16(8,Ie.versionNumber,!0),ue.setUint16(10,Ie.descriptorBlockSize,!0),ue.setUint8(12,Ie.colorModel),ue.setUint8(13,Ie.colorPrimaries),ue.setUint8(14,Ie.transferFunction),ue.setUint8(15,Ie.flags),ue.setUint8(16,Ie.texelBlockDimension.x-1),ue.setUint8(17,Ie.texelBlockDimension.y-1),ue.setUint8(18,Ie.texelBlockDimension.z-1),ue.setUint8(19,Ie.texelBlockDimension.w-1);for(let ye=0;ye<8;ye++)ue.setUint8(20+ye,Ie.bytesPlane[ye]);for(let ye=0;ye<Ie.samples.length;ye++){const Se=Ie.samples[ye],Be=28+16*ye;ue.setUint16(Be+0,Se.bitOffset,!0),ue.setUint8(Be+2,Se.bitLength),ue.setUint8(Be+3,Se.channelID),ue.setUint8(Be+4,Se.samplePosition[0]),ue.setUint8(Be+5,Se.samplePosition[1]),ue.setUint8(Be+6,Se.samplePosition[2]),ue.setUint8(Be+7,Se.samplePosition[3]),ue.setUint32(Be+8,Se.sampleLower,!0),ue.setUint32(Be+12,Se.sampleUpper,!0)}const ke=s.length+68+3*q.levels.length*8,Ze=ke+k.byteLength;let Ce=Ze+we.byteLength;Ce%8&&(Ce+=8-Ce%8);const Nt=[],Kt=new DataView(new ArrayBuffer(3*q.levels.length*8));let me=Ce+z.byteLength;for(let ye=0;ye<q.levels.length;ye++){const Se=q.levels[ye];Nt.push(Se.levelData),Kt.setBigUint64(24*ye+0,BigInt(me),!0),Kt.setBigUint64(24*ye+8,BigInt(Se.levelData.byteLength),!0),Kt.setBigUint64(24*ye+16,BigInt(Se.uncompressedByteLength),!0),me+=Se.levelData.byteLength}const ee=new ArrayBuffer(68),fe=new DataView(ee);return fe.setUint32(0,q.vkFormat,!0),fe.setUint32(4,q.typeSize,!0),fe.setUint32(8,q.pixelWidth,!0),fe.setUint32(12,q.pixelHeight,!0),fe.setUint32(16,q.pixelDepth,!0),fe.setUint32(20,q.layerCount,!0),fe.setUint32(24,q.faceCount,!0),fe.setUint32(28,q.levels.length,!0),fe.setUint32(32,q.supercompressionScheme,!0),fe.setUint32(36,ke,!0),fe.setUint32(40,k.byteLength,!0),fe.setUint32(44,Ze,!0),fe.setUint32(48,we.byteLength,!0),fe.setBigUint64(52,BigInt(Ce),!0),fe.setBigUint64(60,BigInt(z.byteLength),!0),new Uint8Array(L([new Uint8Array(s).buffer,ee,Kt.buffer,k,we,new ArrayBuffer(Ce-(Ze+we.byteLength)),z,...Nt]))}},49204:function(ln,qe,w){var r;ln=w.nmd(ln),function(){var s,C="Expected a function",F="__lodash_hash_undefined__",G="__lodash_placeholder__",J=128,Kt=1/0,me=9007199254740991,ye=4294967295,yt=[["ary",J],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],qt="[object Arguments]",Ln="[object Array]",We="[object Boolean]",Ve="[object Date]",Y="[object Error]",b="[object Function]",R="[object GeneratorFunction]",T="[object Map]",V="[object Number]",h="[object Object]",I="[object Promise]",ie="[object RegExp]",D="[object Set]",K="[object String]",se="[object Symbol]",ct="[object WeakMap]",en="[object ArrayBuffer]",Oe="[object DataView]",Pt="[object Float32Array]",it="[object Float64Array]",Bt="[object Int8Array]",pn="[object Int16Array]",st="[object Int32Array]",mt="[object Uint8Array]",Ut="[object Uint8ClampedArray]",Ne="[object Uint16Array]",zt="[object Uint32Array]",Zt=/\b__p \+= '';/g,Cn=/\b(__p \+=) '' \+/g,Zn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,br=/&(?:amp|lt|gt|quot|#39);/g,Mr=/[&<>"']/g,yn=RegExp(br.source),St=RegExp(Mr.source),kt=/<%-([\s\S]+?)%>/g,Mt=/<%([\s\S]+?)%>/g,bt=/<%=([\s\S]+?)%>/g,sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yt=/^\w*$/,Qe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,Mn=RegExp(Lt.source),vt=/^\s+/,ze=/\s/,nn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ye=/\{\n\/\* \[wrapped with (.+)\] \*/,At=/,? & /,Pn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yn=/[()=,{}\[\]\/\s]/,gr=/\\(\\)?/g,vr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vi=/\w*$/,to=/^[-+]0x[0-9a-f]+$/i,ro=/^0b[01]+$/i,wi=/^\[object .+?Constructor\]$/,_o=/^0o[0-7]+$/i,Uo=/^(?:0|[1-9]\d*)$/,So=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yo=/($^)/,ts=/['\n\r\u2028\u2029\\]/g,Xo="\\ud800-\\udfff",bn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xn="\\u2700-\\u27bf",zn="a-z\\xdf-\\xf6\\xf8-\\xff",Vn="A-Z\\xc0-\\xd6\\xd8-\\xde",Tr="\\ufe0e\\ufe0f",ei="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ri="["+Xo+"]",io="["+ei+"]",Ci="["+bn+"]",yi="\\d+",Yi="["+xn+"]",so="["+zn+"]",Co="[^"+Xo+ei+yi+xn+zn+Vn+"]",qi="\\ud83c[\\udffb-\\udfff]",$n="[^"+Xo+"]",un="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",xt="["+Vn+"]",Hn="(?:"+so+"|"+Co+")",Dr="(?:"+xt+"|"+Co+")",Qr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qi="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Gi="(?:"+Ci+"|"+qi+")?",vo="["+Tr+"]?",Ks=vo+Gi+"(?:\\u200d(?:"+[$n,un,Ge].join("|")+")"+vo+Gi+")*",ms="(?:"+[Yi,un,Ge].join("|")+")"+Ks,Go="(?:"+[$n+Ci+"?",Ci,un,Ge,Ri].join("|")+")",Qo=RegExp("['\u2019]","g"),os=RegExp(Ci,"g"),ns=RegExp(qi+"(?="+qi+")|"+Go+Ks,"g"),Rs=RegExp([xt+"?"+so+"+"+Qr+"(?="+[io,xt,"$"].join("|")+")",Dr+"+"+Qi+"(?="+[io,xt+Hn,"$"].join("|")+")",xt+"?"+Hn+"+"+Qr,xt+"+"+Qi,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yi,ms].join("|"),"g"),rr=RegExp("[\\u200d"+Xo+bn+Tr+"]"),sr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gi=-1,Ei={};Ei[Pt]=Ei[it]=Ei[Bt]=Ei[pn]=Ei[st]=Ei[mt]=Ei[Ut]=Ei[Ne]=Ei[zt]=!0,Ei[qt]=Ei[Ln]=Ei[en]=Ei[We]=Ei[Oe]=Ei[Ve]=Ei[Y]=Ei[b]=Ei[T]=Ei[V]=Ei[h]=Ei[ie]=Ei[D]=Ei[K]=Ei[ct]=!1;var Fi={};Fi[qt]=Fi[Ln]=Fi[en]=Fi[Oe]=Fi[We]=Fi[Ve]=Fi[Pt]=Fi[it]=Fi[Bt]=Fi[pn]=Fi[st]=Fi[T]=Fi[V]=Fi[h]=Fi[ie]=Fi[D]=Fi[K]=Fi[se]=Fi[mt]=Fi[Ut]=Fi[Ne]=Fi[zt]=!0,Fi[Y]=Fi[b]=Fi[ct]=!1;var ko={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ls=parseFloat,Ls=parseInt,ys="object"==typeof global&&global&&global.Object===Object&&global,Os="object"==typeof self&&self&&self.Object===Object&&self,qo=ys||Os||Function("return this")(),Hs=qe&&!qe.nodeType&&qe,Fo=Hs&&ln&&!ln.nodeType&&ln,pa=Fo&&Fo.exports===Hs,oa=pa&&ys.process,Ds=function(){try{return Fo&&Fo.require&&Fo.require("util").types||oa&&oa.binding&&oa.binding("util")}catch{}}(),zs=Ds&&Ds.isArrayBuffer,Ts=Ds&&Ds.isDate,cs=Ds&&Ds.isMap,ua=Ds&&Ds.isRegExp,Jn=Ds&&Ds.isSet,lr=Ds&&Ds.isTypedArray;function mr(Un,pr,Sn){switch(Sn.length){case 0:return Un.call(pr);case 1:return Un.call(pr,Sn[0]);case 2:return Un.call(pr,Sn[0],Sn[1]);case 3:return Un.call(pr,Sn[0],Sn[1],Sn[2])}return Un.apply(pr,Sn)}function Ir(Un,pr,Sn,er){for(var zr=-1,si=null==Un?0:Un.length;++zr<si;){var Vi=Un[zr];pr(er,Vi,Sn(Vi),Un)}return er}function Ai(Un,pr){for(var Sn=-1,er=null==Un?0:Un.length;++Sn<er&&!1!==pr(Un[Sn],Sn,Un););return Un}function tt(Un,pr){for(var Sn=null==Un?0:Un.length;Sn--&&!1!==pr(Un[Sn],Sn,Un););return Un}function gn(Un,pr){for(var Sn=-1,er=null==Un?0:Un.length;++Sn<er;)if(!pr(Un[Sn],Sn,Un))return!1;return!0}function jt(Un,pr){for(var Sn=-1,er=null==Un?0:Un.length,zr=0,si=[];++Sn<er;){var Vi=Un[Sn];pr(Vi,Sn,Un)&&(si[zr++]=Vi)}return si}function cn(Un,pr){return!(null==Un||!Un.length)&&co(Un,pr,0)>-1}function je(Un,pr,Sn){for(var er=-1,zr=null==Un?0:Un.length;++er<zr;)if(Sn(pr,Un[er]))return!0;return!1}function It(Un,pr){for(var Sn=-1,er=null==Un?0:Un.length,zr=Array(er);++Sn<er;)zr[Sn]=pr(Un[Sn],Sn,Un);return zr}function Qt(Un,pr){for(var Sn=-1,er=pr.length,zr=Un.length;++Sn<er;)Un[zr+Sn]=pr[Sn];return Un}function qn(Un,pr,Sn,er){var zr=-1,si=null==Un?0:Un.length;for(er&&si&&(Sn=Un[++zr]);++zr<si;)Sn=pr(Sn,Un[zr],zr,Un);return Sn}function hr(Un,pr,Sn,er){var zr=null==Un?0:Un.length;for(er&&zr&&(Sn=Un[--zr]);zr--;)Sn=pr(Sn,Un[zr],zr,Un);return Sn}function yr(Un,pr){for(var Sn=-1,er=null==Un?0:Un.length;++Sn<er;)if(pr(Un[Sn],Sn,Un))return!0;return!1}var Hr=$e("length");function qr(Un,pr,Sn){var er;return Sn(Un,function(zr,si,Vi){if(pr(zr,si,Vi))return er=si,!1}),er}function Ui(Un,pr,Sn,er){for(var zr=Un.length,si=Sn+(er?1:-1);er?si--:++si<zr;)if(pr(Un[si],si,Un))return si;return-1}function co(Un,pr,Sn){return pr==pr?function Rt(Un,pr,Sn){for(var er=Sn-1,zr=Un.length;++er<zr;)if(Un[er]===pr)return er;return-1}(Un,pr,Sn):Ui(Un,mo,Sn)}function Ro(Un,pr,Sn,er){for(var zr=Sn-1,si=Un.length;++zr<si;)if(er(Un[zr],pr))return zr;return-1}function mo(Un){return Un!=Un}function nt(Un,pr){var Sn=null==Un?0:Un.length;return Sn?Et(Un,pr)/Sn:NaN}function $e(Un){return function(pr){return null==pr?s:pr[Un]}}function an(Un){return function(pr){return null==Un?s:Un[pr]}}function at(Un,pr,Sn,er,zr){return zr(Un,function(si,Vi,ki){Sn=er?(er=!1,si):pr(Sn,si,Vi,ki)}),Sn}function Et(Un,pr){for(var Sn,er=-1,zr=Un.length;++er<zr;){var si=pr(Un[er]);si!==s&&(Sn=Sn===s?si:Sn+si)}return Sn}function on(Un,pr){for(var Sn=-1,er=Array(Un);++Sn<Un;)er[Sn]=pr(Sn);return er}function ht(Un){return Un&&Un.slice(0,or(Un)+1).replace(vt,"")}function $(Un){return function(pr){return Un(pr)}}function ge(Un,pr){return It(pr,function(Sn){return Un[Sn]})}function He(Un,pr){return Un.has(pr)}function Vt(Un,pr){for(var Sn=-1,er=Un.length;++Sn<er&&co(pr,Un[Sn],0)>-1;);return Sn}function wn(Un,pr){for(var Sn=Un.length;Sn--&&co(pr,Un[Sn],0)>-1;);return Sn}var fr=an({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ur=an({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ni(Un){return"\\"+ko[Un]}function Br(Un){return rr.test(Un)}function Ii(Un){var pr=-1,Sn=Array(Un.size);return Un.forEach(function(er,zr){Sn[++pr]=[zr,er]}),Sn}function pe(Un,pr){return function(Sn){return Un(pr(Sn))}}function oe(Un,pr){for(var Sn=-1,er=Un.length,zr=0,si=[];++Sn<er;){var Vi=Un[Sn];(Vi===pr||Vi===G)&&(Un[Sn]=G,si[zr++]=Sn)}return si}function Ue(Un){var pr=-1,Sn=Array(Un.size);return Un.forEach(function(er){Sn[++pr]=er}),Sn}function Rn(Un){return Br(Un)?function Cr(Un){for(var pr=ns.lastIndex=0;ns.test(Un);)++pr;return pr}(Un):Hr(Un)}function ar(Un){return Br(Un)?function Gr(Un){return Un.match(ns)||[]}(Un):function jr(Un){return Un.split("")}(Un)}function or(Un){for(var pr=Un.length;pr--&&ze.test(Un.charAt(pr)););return pr}var Rr=an({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ni=function Un(pr){var c,Sn=(pr=null==pr?qo:Ni.defaults(qo.Object(),pr,Ni.pick(qo,Lr))).Array,er=pr.Date,zr=pr.Error,si=pr.Function,Vi=pr.Math,ki=pr.Object,Oi=pr.RegExp,Ko=pr.String,Ti=pr.TypeError,$s=Sn.prototype,Jo=ki.prototype,Cs=pr["__core-js_shared__"],rs=si.prototype.toString,Gt=Jo.hasOwnProperty,Ae=0,ot=(c=/[^.]+$/.exec(Cs&&Cs.keys&&Cs.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",Ct=Jo.toString,fn=rs.call(ki),jn=qo._,tr=Oi("^"+rs.call(Gt).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ti=pa?pr.Buffer:s,Pi=pr.Symbol,eo=pr.Uint8Array,lo=ti?ti.allocUnsafe:s,Oo=pe(ki.getPrototypeOf,ki),ss=ki.create,sa=Jo.propertyIsEnumerable,Ca=$s.splice,_e=Pi?Pi.isConcatSpreadable:s,dt=Pi?Pi.iterator:s,On=Pi?Pi.toStringTag:s,Ke=function(){try{var c=il(ki,"defineProperty");return c({},"",{}),c}catch{}}(),En=pr.clearTimeout!==qo.clearTimeout&&pr.clearTimeout,dr=er&&er.now!==qo.Date.now&&er.now,li=pr.setTimeout!==qo.setTimeout&&pr.setTimeout,Ji=Vi.ceil,gs=Vi.floor,us=ki.getOwnPropertySymbols,ds=ti?ti.isBuffer:s,fs=pr.isFinite,na=$s.join,bs=pe(ki.keys,ki),Lo=Vi.max,Ho=Vi.min,Ki=er.now,bo=pr.parseInt,Ps=Vi.random,va=$s.reverse,Qs=il(pr,"DataView"),fa=il(pr,"Map"),Ua=il(pr,"Promise"),ks=il(pr,"Set"),ha=il(pr,"WeakMap"),xa=il(ki,"create"),Wo=ha&&new ha,tl={},Al=Nl(Qs),Cc=Nl(fa),Aa=Nl(Ua),ou=Nl(ks),Ac=Nl(ha),Wa=Pi?Pi.prototype:s,Ml=Wa?Wa.valueOf:s,uc=Wa?Wa.toString:s;function _n(c){if(oo(c)&&!Qn(c)&&!(c instanceof Fs)){if(c instanceof No)return c;if(Gt.call(c,"__wrapped__"))return _c(c)}return new No(c)}var Vl=function(){function c(){}return function(y){if(!ci(y))return{};if(ss)return ss(y);c.prototype=y;var re=new c;return c.prototype=s,re}}();function gl(){}function No(c,y){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=s}function Fs(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function cl(c){var y=-1,re=null==c?0:c.length;for(this.clear();++y<re;){var Je=c[y];this.set(Je[0],Je[1])}}function Ha(c){var y=-1,re=null==c?0:c.length;for(this.clear();++y<re;){var Je=c[y];this.set(Je[0],Je[1])}}function ul(c){var y=-1,re=null==c?0:c.length;for(this.clear();++y<re;){var Je=c[y];this.set(Je[0],Je[1])}}function Xl(c){var y=-1,re=null==c?0:c.length;for(this.__data__=new ul;++y<re;)this.add(c[y])}function Xe(c){var y=this.__data__=new Ha(c);this.size=y.size}function $i(c,y){var re=Qn(c),Je=!re&&ur(c),tn=!re&&!Je&&di(c),Bn=!re&&!Je&&!tn&&ic(c),cr=re||Je||tn||Bn,Er=cr?on(c.length,Ko):[],Wr=Er.length;for(var ji in c)(y||Gt.call(c,ji))&&(!cr||!("length"==ji||tn&&("offset"==ji||"parent"==ji)||Bn&&("buffer"==ji||"byteLength"==ji||"byteOffset"==ji)||gc(ji,Wr)))&&Er.push(ji);return Er}function _i(c){var y=c.length;return y?c[rl(0,y-1)]:s}function zo(c,y){return ec(ja(c),Tc(y,0,c.length))}function Ws(c){return ec(ja(c))}function xs(c,y,re){(re!==s&&!vn(c[y],re)||re===s&&!(y in c))&&dl(c,y,re)}function ia(c,y,re){var Je=c[y];(!Gt.call(c,y)||!vn(Je,re)||re===s&&!(y in c))&&dl(c,y,re)}function ea(c,y){for(var re=c.length;re--;)if(vn(c[re][0],y))return re;return-1}function ma(c,y,re,Je){return Na(c,function(tn,Bn,cr){y(Je,tn,re(tn),cr)}),Je}function dc(c,y){return c&&Ma(y,Za(y),c)}function dl(c,y,re){"__proto__"==y&&Ke?Ke(c,y,{configurable:!0,enumerable:!0,value:re,writable:!0}):c[y]=re}function xu(c,y){for(var re=-1,Je=y.length,tn=Sn(Je),Bn=null==c;++re<Je;)tn[re]=Bn?s:lf(c,y[re]);return tn}function Tc(c,y,re){return c==c&&(re!==s&&(c=c<=re?c:re),y!==s&&(c=c>=y?c:y)),c}function vl(c,y,re,Je,tn,Bn){var cr,Er=1&y,Wr=2&y,ji=4&y;if(re&&(cr=tn?re(c,Je,tn,Bn):re(c)),cr!==s)return cr;if(!ci(c))return c;var Li=Qn(c);if(Li){if(cr=function rm(c){var y=c.length,re=new c.constructor(y);return y&&"string"==typeof c[0]&&Gt.call(c,"index")&&(re.index=c.index,re.input=c.input),re}(c),!Er)return ja(c,cr)}else{var Zi=Qa(c),Eo=Zi==b||Zi==R;if(di(c))return Bd(c,Er);if(Zi==h||Zi==qt||Eo&&!tn){if(cr=Wr||Eo?{}:If(c),!Er)return Wr?function wf(c,y){return Ma(c,Hd(c),y)}(c,function Ka(c,y){return c&&Ma(y,ol(y),c)}(cr,c)):function Ah(c,y){return Ma(c,Gd(c),y)}(c,dc(cr,c))}else{if(!Fi[Zi])return tn?c:{};cr=function Rf(c,y,re){var Je=c.constructor;switch(y){case en:return td(c);case We:case Ve:return new Je(+c);case Oe:return function em(c,y){var re=y?td(c.buffer):c.buffer;return new c.constructor(re,c.byteOffset,c.byteLength)}(c,re);case Pt:case it:case Bt:case pn:case st:case mt:case Ut:case Ne:case zt:return Jc(c,re);case T:return new Je;case V:case K:return new Je(c);case ie:return function Ch(c){var y=new c.constructor(c.source,vi.exec(c));return y.lastIndex=c.lastIndex,y}(c);case D:return new Je;case se:return function Nd(c){return Ml?ki(Ml.call(c)):{}}(c)}}(c,Zi,Er)}}Bn||(Bn=new Xe);var Vo=Bn.get(c);if(Vo)return Vo;Bn.set(c,cr),yc(c)?c.forEach(function($o){cr.add(vl($o,y,re,$o,c,Bn))}):ca(c)&&c.forEach(function($o,Zs){cr.set(Zs,vl($o,y,re,Zs,c,Bn))});var Ys=Li?s:(ji?Wr?Sf:id:Wr?ol:Za)(c);return Ai(Ys||c,function($o,Zs){Ys&&($o=c[Zs=$o]),ia(cr,Zs,vl($o,y,re,Zs,c,Bn))}),cr}function Yl(c,y,re){var Je=re.length;if(null==c)return!Je;for(c=ki(c);Je--;){var tn=re[Je],cr=c[tn];if(cr===s&&!(tn in c)||!(0,y[tn])(cr))return!1}return!0}function Sc(c,y,re){if("function"!=typeof c)throw new Ti(C);return Ru(function(){c.apply(s,re)},y)}function Ic(c,y,re,Je){var tn=-1,Bn=cn,cr=!0,Er=c.length,Wr=[],ji=y.length;if(!Er)return Wr;re&&(y=It(y,$(re))),Je?(Bn=je,cr=!1):y.length>=200&&(Bn=He,cr=!1,y=new Xl(y));e:for(;++tn<Er;){var Li=c[tn],Zi=null==re?Li:re(Li);if(Li=Je||0!==Li?Li:0,cr&&Zi==Zi){for(var Eo=ji;Eo--;)if(y[Eo]===Zi)continue e;Wr.push(Li)}else Bn(y,Zi,Je)||Wr.push(Li)}return Wr}_n.templateSettings={escape:kt,evaluate:Mt,interpolate:bt,variable:"",imports:{_:_n}},(_n.prototype=gl.prototype).constructor=_n,(No.prototype=Vl(gl.prototype)).constructor=No,(Fs.prototype=Vl(gl.prototype)).constructor=Fs,cl.prototype.clear=function Da(){this.__data__=xa?xa(null):{},this.size=0},cl.prototype.delete=function Mc(c){var y=this.has(c)&&delete this.__data__[c];return this.size-=y?1:0,y},cl.prototype.get=function Ba(c){var y=this.__data__;if(xa){var re=y[c];return re===F?s:re}return Gt.call(y,c)?y[c]:s},cl.prototype.has=function Oa(c){var y=this.__data__;return xa?y[c]!==s:Gt.call(y,c)},cl.prototype.set=function Dl(c,y){var re=this.__data__;return this.size+=this.has(c)?0:1,re[c]=xa&&y===s?F:y,this},Ha.prototype.clear=function _s(){this.__data__=[],this.size=0},Ha.prototype.delete=function nl(c){var y=this.__data__,re=ea(y,c);return!(re<0||(re==y.length-1?y.pop():Ca.call(y,re,1),--this.size,0))},Ha.prototype.get=function Kc(c){var y=this.__data__,re=ea(y,c);return re<0?s:y[re][1]},Ha.prototype.has=function _l(c){return ea(this.__data__,c)>-1},Ha.prototype.set=function Xc(c,y){var re=this.__data__,Je=ea(re,c);return Je<0?(++this.size,re.push([c,y])):re[Je][1]=y,this},ul.prototype.clear=function ra(){this.size=0,this.__data__={hash:new cl,map:new(fa||Ha),string:new cl}},ul.prototype.delete=function Yc(c){var y=mc(this,c).delete(c);return this.size-=y?1:0,y},ul.prototype.get=function Dc(c){return mc(this,c).get(c)},ul.prototype.has=function au(c){return mc(this,c).has(c)},ul.prototype.set=function Zo(c,y){var re=mc(this,c),Je=re.size;return re.set(c,y),this.size+=re.size==Je?0:1,this},Xl.prototype.add=Xl.prototype.push=function ce(c){return this.__data__.set(c,F),this},Xl.prototype.has=function Te(c){return this.__data__.has(c)},Xe.prototype.clear=function De(){this.__data__=new Ha,this.size=0},Xe.prototype.delete=function ft(c){var y=this.__data__,re=y.delete(c);return this.size=y.size,re},Xe.prototype.get=function mn(c){return this.__data__.get(c)},Xe.prototype.has=function Nn(c){return this.__data__.has(c)},Xe.prototype.set=function Kr(c,y){var re=this.__data__;if(re instanceof Ha){var Je=re.__data__;if(!fa||Je.length<199)return Je.push([c,y]),this.size=++re.size,this;re=this.__data__=new ul(Je)}return re.set(c,y),this.size=re.size,this};var Na=Cu(Ea),Rc=Cu(Yu,!0);function Id(c,y){var re=!0;return Na(c,function(Je,tn,Bn){return re=!!y(Je,tn,Bn)}),re}function Qc(c,y,re){for(var Je=-1,tn=c.length;++Je<tn;){var Bn=c[Je],cr=y(Bn);if(null!=cr&&(Er===s?cr==cr&&!Is(cr):re(cr,Er)))var Er=cr,Wr=Bn}return Wr}function Xu(c,y){var re=[];return Na(c,function(Je,tn,Bn){y(Je,tn,Bn)&&re.push(Je)}),re}function hs(c,y,re,Je,tn){var Bn=-1,cr=c.length;for(re||(re=Oh),tn||(tn=[]);++Bn<cr;){var Er=c[Bn];y>0&&re(Er)?y>1?hs(Er,y-1,re,Je,tn):Qt(tn,Er):Je||(tn[tn.length]=Er)}return tn}var Oc=uu(),Pc=uu(!0);function Ea(c,y){return c&&Oc(c,y,Za)}function Yu(c,y){return c&&Pc(c,y,Za)}function jl(c,y){return jt(y,function(re){return Yo(c[re])})}function yl(c,y){for(var re=0,Je=(y=Ra(y,c)).length;null!=c&&re<Je;)c=c[tc(y[re++])];return re&&re==Je?c:s}function Xa(c,y,re){var Je=y(c);return Qn(c)?Je:Qt(Je,re(c))}function Pa(c){return null==c?c===s?"[object Undefined]":"[object Null]":On&&On in ki(c)?function Ga(c){var y=Gt.call(c,On),re=c[On];try{c[On]=s;var Je=!0}catch{}var tn=Ct.call(c);return Je&&(y?c[On]=re:delete c[On]),tn}(c):function Uc(c){return Ct.call(c)}(c)}function kc(c,y){return c>y}function Qu(c,y){return null!=c&&Gt.call(c,y)}function fl(c,y){return null!=c&&y in ki(c)}function p(c,y,re){for(var Je=re?je:cn,tn=c[0].length,Bn=c.length,cr=Bn,Er=Sn(Bn),Wr=1/0,ji=[];cr--;){var Li=c[cr];cr&&y&&(Li=It(Li,$(y))),Wr=Ho(Li.length,Wr),Er[cr]=!re&&(y||tn>=120&&Li.length>=120)?new Xl(cr&&Li):s}Li=c[0];var Zi=-1,Eo=Er[0];e:for(;++Zi<tn&&ji.length<Wr;){var Vo=Li[Zi],as=y?y(Vo):Vo;if(Vo=re||0!==Vo?Vo:0,!(Eo?He(Eo,as):Je(ji,as,re))){for(cr=Bn;--cr;){var Ys=Er[cr];if(!(Ys?He(Ys,as):Je(c[cr],as,re)))continue e}Eo&&Eo.push(as),ji.push(Vo)}}return ji}function Re(c,y,re){var Je=null==(c=tu(c,y=Ra(y,c)))?c:c[tc(ga(y))];return null==Je?s:mr(Je,c,re)}function lt(c){return oo(c)&&Pa(c)==qt}function Dn(c,y,re,Je,tn){return c===y||(null==c||null==y||!oo(c)&&!oo(y)?c!=c&&y!=y:function Xn(c,y,re,Je,tn,Bn){var cr=Qn(c),Er=Qn(y),Wr=cr?Ln:Qa(c),ji=Er?Ln:Qa(y),Li=(Wr=Wr==qt?h:Wr)==h,Zi=(ji=ji==qt?h:ji)==h,Eo=Wr==ji;if(Eo&&di(c)){if(!di(y))return!1;cr=!0,Li=!1}if(Eo&&!Li)return Bn||(Bn=new Xe),cr||ic(c)?Tf(c,y,re,Je,tn,Bn):function Sh(c,y,re,Je,tn,Bn,cr){switch(re){case Oe:if(c.byteLength!=y.byteLength||c.byteOffset!=y.byteOffset)return!1;c=c.buffer,y=y.buffer;case en:return!(c.byteLength!=y.byteLength||!Bn(new eo(c),new eo(y)));case We:case Ve:case V:return vn(+c,+y);case Y:return c.name==y.name&&c.message==y.message;case ie:case K:return c==y+"";case T:var Er=Ii;case D:if(Er||(Er=Ue),c.size!=y.size&&!(1&Je))return!1;var ji=cr.get(c);if(ji)return ji==y;Je|=2,cr.set(c,y);var Li=Tf(Er(c),Er(y),Je,tn,Bn,cr);return cr.delete(c),Li;case se:if(Ml)return Ml.call(c)==Ml.call(y)}return!1}(c,y,Wr,re,Je,tn,Bn);if(!(1&re)){var Vo=Li&&Gt.call(c,"__wrapped__"),as=Zi&&Gt.call(y,"__wrapped__");if(Vo||as){var Ys=Vo?c.value():c,$o=as?y.value():y;return Bn||(Bn=new Xe),tn(Ys,$o,re,Je,Bn)}}return!!Eo&&(Bn||(Bn=new Xe),function Tu(c,y,re,Je,tn,Bn){var cr=1&re,Er=id(c),Wr=Er.length;if(Wr!=id(y).length&&!cr)return!1;for(var Zi=Wr;Zi--;){var Eo=Er[Zi];if(!(cr?Eo in y:Gt.call(y,Eo)))return!1}var Vo=Bn.get(c),as=Bn.get(y);if(Vo&&as)return Vo==y&&as==c;var Ys=!0;Bn.set(c,y),Bn.set(y,c);for(var $o=cr;++Zi<Wr;){var Zs=c[Eo=Er[Zi]],da=y[Eo];if(Je)var ac=cr?Je(da,Zs,Eo,y,c,Bn):Je(Zs,da,Eo,c,y,Bn);if(!(ac===s?Zs===da||tn(Zs,da,re,Je,Bn):ac)){Ys=!1;break}$o||($o="constructor"==Eo)}if(Ys&&!$o){var kl=c.constructor,Kl=y.constructor;kl!=Kl&&"constructor"in c&&"constructor"in y&&!("function"==typeof kl&&kl instanceof kl&&"function"==typeof Kl&&Kl instanceof Kl)&&(Ys=!1)}return Bn.delete(c),Bn.delete(y),Ys}(c,y,re,Je,tn,Bn))}(c,y,re,Je,Dn,tn))}function xr(c,y,re,Je){var tn=re.length,Bn=tn,cr=!Je;if(null==c)return!Bn;for(c=ki(c);tn--;){var Er=re[tn];if(cr&&Er[2]?Er[1]!==c[Er[0]]:!(Er[0]in c))return!1}for(;++tn<Bn;){var Wr=(Er=re[tn])[0],ji=c[Wr],Li=Er[1];if(cr&&Er[2]){if(ji===s&&!(Wr in c))return!1}else{var Zi=new Xe;if(Je)var Eo=Je(ji,Li,Wr,c,y,Zi);if(!(Eo===s?Dn(Li,ji,3,Je,Zi):Eo))return!1}}return!0}function Jr(c){return!(!ci(c)||function kh(c){return!!ot&&ot in c}(c))&&(Yo(c)?tr:wi).test(Nl(c))}function Xi(c){return"function"==typeof c?c:null==c?Pl:"object"==typeof c?Qn(c)?Bo(c[0],c[1]):Mo(c):Pm(c)}function ui(c){if(!fu(c))return bs(c);var y=[];for(var re in ki(c))Gt.call(c,re)&&"constructor"!=re&&y.push(re);return y}function Po(c,y){return c<y}function To(c,y){var re=-1,Je=$r(c)?Sn(c.length):[];return Na(c,function(tn,Bn,cr){Je[++re]=y(tn,Bn,cr)}),Je}function Mo(c){var y=Lc(c);return 1==y.length&&y[0][2]?Pf(y[0][0],y[0][1]):function(re){return re===c||xr(re,c,y)}}function Bo(c,y){return Of(c)&&om(y)?Pf(tc(c),y):function(re){var Je=lf(re,c);return Je===s&&Je===y?ch(re,c):Dn(y,Je,3)}}function Sr(c,y,re,Je,tn){c!==y&&Oc(y,function(Bn,cr){if(tn||(tn=new Xe),ci(Bn))!function wo(c,y,re,Je,tn,Bn,cr){var Er=sd(c,re),Wr=sd(y,re),ji=cr.get(Wr);if(ji)xs(c,re,ji);else{var Li=Bn?Bn(Er,Wr,re+"",c,y,cr):s,Zi=Li===s;if(Zi){var Eo=Qn(Wr),Vo=!Eo&&di(Wr),as=!Eo&&!Vo&&ic(Wr);Li=Wr,Eo||Vo||as?Qn(Er)?Li=Er:Vr(Er)?Li=ja(Er):Vo?(Zi=!1,Li=Bd(Wr,!0)):as?(Zi=!1,Li=Jc(Wr,!0)):Li=[]:vc(Wr)||ur(Wr)?(Li=Er,ur(Er)?Li=bc(Er):(!ci(Er)||Yo(Er))&&(Li=If(Wr))):Zi=!1}Zi&&(cr.set(Wr,Li),tn(Li,Wr,Je,Bn,cr),cr.delete(Wr)),xs(c,re,Li)}}(c,y,cr,re,Sr,Je,tn);else{var Er=Je?Je(sd(c,cr),Bn,cr+"",c,y,tn):s;Er===s&&(Er=Bn),xs(c,cr,Er)}},ol)}function Bs(c,y){var re=c.length;if(re)return gc(y+=y<0?re:0,re)?c[y]:s}function Xs(c,y,re){y=y.length?It(y,function(Bn){return Qn(Bn)?function(cr){return yl(cr,1===Bn.length?Bn[0]:Bn)}:Bn}):[Pl];var Je=-1;return y=It(y,$(es())),function de(Un,pr){var Sn=Un.length;for(Un.sort(pr);Sn--;)Un[Sn]=Un[Sn].value;return Un}(To(c,function(Bn,cr,Er){return{criteria:It(y,function(ji){return ji(Bn)}),index:++Je,value:Bn}}),function(Bn,cr){return function Ld(c,y,re){for(var Je=-1,tn=c.criteria,Bn=y.criteria,cr=tn.length,Er=re.length;++Je<cr;){var Wr=Va(tn[Je],Bn[Je]);if(Wr)return Je>=Er?Wr:Wr*("desc"==re[Je]?-1:1)}return c.index-y.index}(Bn,cr,re)})}function ta(c,y,re){for(var Je=-1,tn=y.length,Bn={};++Je<tn;){var cr=y[Je],Er=yl(c,cr);re(Er,cr)&&wu(Bn,Ra(cr,c),Er)}return Bn}function Us(c,y,re,Je){var tn=Je?Ro:co,Bn=-1,cr=y.length,Er=c;for(c===y&&(y=ja(y)),re&&(Er=It(c,$(re)));++Bn<cr;)for(var Wr=0,ji=y[Bn],Li=re?re(ji):ji;(Wr=tn(Er,Li,Wr,Je))>-1;)Er!==c&&Ca.call(Er,Wr,1),Ca.call(c,Wr,1);return c}function is(c,y){for(var re=c?y.length:0,Je=re-1;re--;){var tn=y[re];if(re==Je||tn!==Bn){var Bn=tn;gc(tn)?Ca.call(c,tn,1):Pd(c,tn)}}return c}function rl(c,y){return c+gs(Ps()*(y-c+1))}function qc(c,y){var re="";if(!c||y<1||y>me)return re;do{y%2&&(re+=c),(y=gs(y/2))&&(c+=c)}while(y);return re}function Ss(c,y){return Ou(Bh(c,y,Pl),c+"")}function Ya(c){return _i(Ul(c))}function fc(c,y){var re=Ul(c);return ec(re,Tc(y,0,re.length))}function wu(c,y,re,Je){if(!ci(c))return c;for(var tn=-1,Bn=(y=Ra(y,c)).length,cr=Bn-1,Er=c;null!=Er&&++tn<Bn;){var Wr=tc(y[tn]),ji=re;if("__proto__"===Wr||"constructor"===Wr||"prototype"===Wr)return c;if(tn!=cr){var Li=Er[Wr];(ji=Je?Je(Li,Wr,Er):s)===s&&(ji=ci(Li)?Li:gc(y[tn+1])?[]:{})}ia(Er,Wr,ji),Er=Er[Wr]}return c}var bl=Wo?function(c,y){return Wo.set(c,y),c}:Pl,Ql=Ke?function(c,y){return Ke(c,"toString",{configurable:!0,enumerable:!1,value:xp(y),writable:!0})}:Pl;function Jp(c){return ec(Ul(c))}function Bl(c,y,re){var Je=-1,tn=c.length;y<0&&(y=-y>tn?0:tn+y),(re=re>tn?tn:re)<0&&(re+=tn),tn=y>re?0:re-y>>>0,y>>>=0;for(var Bn=Sn(tn);++Je<tn;)Bn[Je]=c[Je+y];return Bn}function Zp(c,y){var re;return Na(c,function(Je,tn,Bn){return!(re=y(Je,tn,Bn))}),!!re}function Rd(c,y,re){var Je=0,tn=null==c?Je:c.length;if("number"==typeof y&&y==y&&tn<=2147483647){for(;Je<tn;){var Bn=Je+tn>>>1,cr=c[Bn];null!==cr&&!Is(cr)&&(re?cr<=y:cr<y)?Je=Bn+1:tn=Bn}return tn}return qu(c,y,Pl,re)}function qu(c,y,re,Je){var tn=0,Bn=null==c?0:c.length;if(0===Bn)return 0;for(var cr=(y=re(y))!=y,Er=null===y,Wr=Is(y),ji=y===s;tn<Bn;){var Li=gs((tn+Bn)/2),Zi=re(c[Li]),Eo=Zi!==s,Vo=null===Zi,as=Zi==Zi,Ys=Is(Zi);if(cr)var $o=Je||as;else $o=ji?as&&(Je||Eo):Er?as&&Eo&&(Je||!Vo):Wr?as&&Eo&&!Vo&&(Je||!Ys):!Vo&&!Ys&&(Je?Zi<=y:Zi<y);$o?tn=Li+1:Bn=Li}return Ho(Bn,4294967294)}function Od(c,y){for(var re=-1,Je=c.length,tn=0,Bn=[];++re<Je;){var cr=c[re],Er=y?y(cr):cr;if(!re||!vn(Er,Wr)){var Wr=Er;Bn[tn++]=0===cr?0:cr}}return Bn}function cu(c){return"number"==typeof c?c:Is(c)?NaN:+c}function za(c){if("string"==typeof c)return c;if(Qn(c))return It(c,za)+"";if(Is(c))return uc?uc.call(c):"";var y=c+"";return"0"==y&&1/c==-Kt?"-0":y}function Fc(c,y,re){var Je=-1,tn=cn,Bn=c.length,cr=!0,Er=[],Wr=Er;if(re)cr=!1,tn=je;else if(Bn>=200){var ji=y?null:Th(c);if(ji)return Ue(ji);cr=!1,tn=He,Wr=new Xl}else Wr=y?[]:Er;e:for(;++Je<Bn;){var Li=c[Je],Zi=y?y(Li):Li;if(Li=re||0!==Li?Li:0,cr&&Zi==Zi){for(var Eo=Wr.length;Eo--;)if(Wr[Eo]===Zi)continue e;y&&Wr.push(Zi),Er.push(Li)}else tn(Wr,Zi,re)||(Wr!==Er&&Wr.push(Zi),Er.push(Li))}return Er}function Pd(c,y){return null==(c=tu(c,y=Ra(y,c)))||delete c[tc(ga(y))]}function kd(c,y,re,Je){return wu(c,y,re(yl(c,y)),Je)}function Ju(c,y,re,Je){for(var tn=c.length,Bn=Je?tn:-1;(Je?Bn--:++Bn<tn)&&y(c[Bn],Bn,c););return re?Bl(c,Je?0:Bn,Je?Bn+1:tn):Bl(c,Je?Bn+1:0,Je?tn:Bn)}function Tl(c,y){var re=c;return re instanceof Fs&&(re=re.value()),qn(y,function(Je,tn){return tn.func.apply(tn.thisArg,Qt([Je],tn.args))},re)}function Zu(c,y,re){var Je=c.length;if(Je<2)return Je?Fc(c[0]):[];for(var tn=-1,Bn=Sn(Je);++tn<Je;)for(var cr=c[tn],Er=-1;++Er<Je;)Er!=tn&&(Bn[tn]=Ic(Bn[tn]||cr,c[Er],y,re));return Fc(hs(Bn,1),y,re)}function Fd(c,y,re){for(var Je=-1,tn=c.length,Bn=y.length,cr={};++Je<tn;)re(cr,c[Je],Je<Bn?y[Je]:s);return cr}function ed(c){return Vr(c)?c:[]}function Ef(c){return"function"==typeof c?c:Pl}function Ra(c,y){return Qn(c)?c:Of(c,y)?[c]:Pu(_a(c))}var la=Ss;function qs(c,y,re){var Je=c.length;return re=re===s?Je:re,!y&&re>=Je?c:Bl(c,y,re)}var Bc=En||function(c){return qo.clearTimeout(c)};function Bd(c,y){if(y)return c.slice();var re=c.length,Je=lo?lo(re):new c.constructor(re);return c.copy(Je),Je}function td(c){var y=new c.constructor(c.byteLength);return new eo(y).set(new eo(c)),y}function Jc(c,y){var re=y?td(c.buffer):c.buffer;return new c.constructor(re,c.byteOffset,c.length)}function Va(c,y){if(c!==y){var re=c!==s,Je=null===c,tn=c==c,Bn=Is(c),cr=y!==s,Er=null===y,Wr=y==y,ji=Is(y);if(!Er&&!ji&&!Bn&&c>y||Bn&&cr&&Wr&&!Er&&!ji||Je&&cr&&Wr||!re&&Wr||!tn)return 1;if(!Je&&!Bn&&!ji&&c<y||ji&&re&&tn&&!Je&&!Bn||Er&&re&&tn||!cr&&tn||!Wr)return-1}return 0}function Zc(c,y,re,Je){for(var tn=-1,Bn=c.length,cr=re.length,Er=-1,Wr=y.length,ji=Lo(Bn-cr,0),Li=Sn(Wr+ji),Zi=!Je;++Er<Wr;)Li[Er]=y[Er];for(;++tn<cr;)(Zi||tn<Bn)&&(Li[re[tn]]=c[tn]);for(;ji--;)Li[Er++]=c[tn++];return Li}function vs(c,y,re,Je){for(var tn=-1,Bn=c.length,cr=-1,Er=re.length,Wr=-1,ji=y.length,Li=Lo(Bn-Er,0),Zi=Sn(Li+ji),Eo=!Je;++tn<Li;)Zi[tn]=c[tn];for(var Vo=tn;++Wr<ji;)Zi[Vo+Wr]=y[Wr];for(;++cr<Er;)(Eo||tn<Bn)&&(Zi[Vo+re[cr]]=c[tn++]);return Zi}function ja(c,y){var re=-1,Je=c.length;for(y||(y=Sn(Je));++re<Je;)y[re]=c[re];return y}function Ma(c,y,re,Je){var tn=!re;re||(re={});for(var Bn=-1,cr=y.length;++Bn<cr;){var Er=y[Bn],Wr=Je?Je(re[Er],c[Er],Er,re,c):s;Wr===s&&(Wr=c[Er]),tn?dl(re,Er,Wr):ia(re,Er,Wr)}return re}function Ud(c,y){return function(re,Je){var tn=Qn(re)?Ir:ma,Bn=y?y():{};return tn(re,c,es(Je,2),Bn)}}function Gl(c){return Ss(function(y,re){var Je=-1,tn=re.length,Bn=tn>1?re[tn-1]:s,cr=tn>2?re[2]:s;for(Bn=c.length>3&&"function"==typeof Bn?(tn--,Bn):s,cr&&hl(re[0],re[1],cr)&&(Bn=tn<3?s:Bn,tn=1),y=ki(y);++Je<tn;){var Er=re[Je];Er&&c(y,Er,Je,Bn)}return y})}function Cu(c,y){return function(re,Je){if(null==re)return re;if(!$r(re))return c(re,Je);for(var tn=re.length,Bn=y?tn:-1,cr=ki(re);(y?Bn--:++Bn<tn)&&!1!==Je(cr[Bn],Bn,cr););return re}}function uu(c){return function(y,re,Je){for(var tn=-1,Bn=ki(y),cr=Je(y),Er=cr.length;Er--;){var Wr=cr[c?Er:++tn];if(!1===re(Bn[Wr],Wr,Bn))break}return y}}function Mh(c){return function(y){var re=Br(y=_a(y))?ar(y):s,Je=re?re[0]:y.charAt(0),tn=re?qs(re,1).join(""):y.slice(1);return Je[c]()+tn}}function Au(c){return function(y){return qn(Im(pp(y).replace(Qo,"")),c,"")}}function Mu(c){return function(){var y=arguments;switch(y.length){case 0:return new c;case 1:return new c(y[0]);case 2:return new c(y[0],y[1]);case 3:return new c(y[0],y[1],y[2]);case 4:return new c(y[0],y[1],y[2],y[3]);case 5:return new c(y[0],y[1],y[2],y[3],y[4]);case 6:return new c(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new c(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var re=Vl(c.prototype),Je=c.apply(re,y);return ci(Je)?Je:re}}function tm(c){return function(y,re,Je){var tn=ki(y);if(!$r(y)){var Bn=es(re,3);y=Za(y),re=function(Er){return Bn(tn[Er],Er,tn)}}var cr=c(y,re,Je);return cr>-1?tn[Bn?y[cr]:cr]:s}}function Vd(c){return pc(function(y){var re=y.length,Je=re,tn=No.prototype.thru;for(c&&y.reverse();Je--;){var Bn=y[Je];if("function"!=typeof Bn)throw new Ti(C);if(tn&&!cr&&"wrapper"==Zl(Bn))var cr=new No([],!0)}for(Je=cr?Je:re;++Je<re;){var Er=Zl(Bn=y[Je]),Wr="wrapper"==Er?Su(Bn):s;cr=Wr&&$d(Wr[0])&&424==Wr[1]&&!Wr[4].length&&1==Wr[9]?cr[Zl(Wr[0])].apply(cr,Wr[3]):1==Bn.length&&$d(Bn)?cr[Er]():cr.thru(Bn)}return function(){var ji=arguments,Li=ji[0];if(cr&&1==ji.length&&Qn(Li))return cr.plant(Li).value();for(var Zi=0,Eo=re?y[Zi].apply(this,ji):Li;++Zi<re;)Eo=y[Zi].call(this,Eo);return Eo}})}function eu(c,y,re,Je,tn,Bn,cr,Er,Wr,ji){var Li=y&J,Zi=1&y,Eo=2&y,Vo=24&y,as=512&y,Ys=Eo?s:Mu(c);return function $o(){for(var Zs=arguments.length,da=Sn(Zs),ac=Zs;ac--;)da[ac]=arguments[ac];if(Vo)var kl=du($o),Kl=function Wn(Un,pr){for(var Sn=Un.length,er=0;Sn--;)Un[Sn]===pr&&++er;return er}(da,kl);if(Je&&(da=Zc(da,Je,tn,Vo)),Bn&&(da=vs(da,Bn,cr,Vo)),Zs-=Kl,Vo&&Zs<ji){var Fa=oe(da,kl);return Af(c,y,eu,$o.placeholder,re,da,Fa,Er,Wr,ji-Zs)}var lc=Zi?re:this,zu=Eo?lc[c]:c;return Zs=da.length,Er?da=function Vc(c,y){for(var re=c.length,Je=Ho(y.length,re),tn=ja(c);Je--;){var Bn=y[Je];c[Je]=gc(Bn,re)?tn[Bn]:s}return c}(da,Er):as&&Zs>1&&da.reverse(),Li&&Wr<Zs&&(da.length=Wr),this&&this!==qo&&this instanceof $o&&(zu=Ys||Mu(zu)),zu.apply(lc,da)}}function Dh(c,y){return function(re,Je){return function W(c,y,re,Je){return Ea(c,function(tn,Bn,cr){y(Je,re(tn),Bn,cr)}),Je}(re,c,y(Je),{})}}function ql(c,y){return function(re,Je){var tn;if(re===s&&Je===s)return y;if(re!==s&&(tn=re),Je!==s){if(tn===s)return Je;"string"==typeof re||"string"==typeof Je?(re=za(re),Je=za(Je)):(re=cu(re),Je=cu(Je)),tn=c(re,Je)}return tn}}function Nc(c){return pc(function(y){return y=It(y,$(es())),Ss(function(re){var Je=this;return c(y,function(tn){return mr(tn,Je,re)})})})}function hc(c,y){var re=(y=y===s?" ":za(y)).length;if(re<2)return re?qc(y,c):y;var Je=qc(y,Ji(c/Rn(y)));return Br(y)?qs(ar(Je),0,c).join(""):Je.slice(0,c)}function jd(c){return function(y,re,Je){return Je&&"number"!=typeof Je&&hl(y,re,Je)&&(re=Je=s),y=xl(y),re===s?(re=y,y=0):re=xl(re),function lu(c,y,re,Je){for(var tn=-1,Bn=Lo(Ji((y-c)/(re||1)),0),cr=Sn(Bn);Bn--;)cr[Je?Bn:++tn]=c,c+=re;return cr}(y,re,Je=Je===s?y<re?1:-1:xl(Je),c)}}function nd(c){return function(y,re){return"string"==typeof y&&"string"==typeof re||(y=$a(y),re=$a(re)),c(y,re)}}function Af(c,y,re,Je,tn,Bn,cr,Er,Wr,ji){var Li=8&y;y|=Li?32:64,4&(y&=~(Li?64:32))||(y&=-4);var Ys=[c,y,tn,Li?Bn:s,Li?cr:s,Li?s:Bn,Li?s:cr,Er,Wr,ji],$o=re.apply(s,Ys);return $d(c)&&qa($o,Ys),$o.placeholder=Je,Wd($o,c,y)}function Hl(c){var y=Vi[c];return function(re,Je){if(re=$a(re),(Je=null==Je?0:Ho(Es(Je),292))&&fs(re)){var tn=(_a(re)+"e").split("e");return+((tn=(_a(y(tn[0]+"e"+(+tn[1]+Je)))+"e").split("e"))[0]+"e"+(+tn[1]-Je))}return y(re)}}var Th=ks&&1/Ue(new ks([,-0]))[1]==Kt?function(c){return new ks(c)}:Ep;function rd(c){return function(y){var re=Qa(y);return re==T?Ii(y):re==D?function gt(Un){var pr=-1,Sn=Array(Un.size);return Un.forEach(function(er){Sn[++pr]=[er,er]}),Sn}(y):function Kn(Un,pr){return It(pr,function(Sn){return[Sn,Un[Sn]]})}(y,c(y))}}function Jl(c,y,re,Je,tn,Bn,cr,Er){var Wr=2&y;if(!Wr&&"function"!=typeof c)throw new Ti(C);var ji=Je?Je.length:0;if(ji||(y&=-97,Je=tn=s),cr=cr===s?cr:Lo(Es(cr),0),Er=Er===s?Er:Es(Er),ji-=tn?tn.length:0,64&y){var Li=Je,Zi=tn;Je=tn=s}var Eo=Wr?s:Su(c),Vo=[c,y,re,Je,tn,Li,Zi,Bn,cr,Er];if(Eo&&function Sl(c,y){var re=c[1],Je=y[1],tn=re|Je;if(!(tn<131)&&!(Je==J&&8==re||Je==J&&256==re&&c[7].length<=y[8]||384==Je&&y[7].length<=y[8]&&8==re))return c;1&Je&&(c[2]=y[2],tn|=1&re?0:4);var Er=y[3];if(Er){var Wr=c[3];c[3]=Wr?Zc(Wr,Er,y[4]):Er,c[4]=Wr?oe(c[3],G):y[4]}(Er=y[5])&&(c[5]=(Wr=c[5])?vs(Wr,Er,y[6]):Er,c[6]=Wr?oe(c[5],G):y[6]),(Er=y[7])&&(c[7]=Er),Je&J&&(c[8]=null==c[8]?y[8]:Ho(c[8],y[8])),null==c[9]&&(c[9]=y[9]),c[0]=y[0],c[1]=tn}(Vo,Eo),c=Vo[0],y=Vo[1],re=Vo[2],Je=Vo[3],tn=Vo[4],!(Er=Vo[9]=Vo[9]===s?Wr?0:c.length:Lo(Vo[9]-ji,0))&&24&y&&(y&=-25),y&&1!=y)as=8==y||16==y?function yg(c,y,re){var Je=Mu(c);return function tn(){for(var Bn=arguments.length,cr=Sn(Bn),Er=Bn,Wr=du(tn);Er--;)cr[Er]=arguments[Er];var ji=Bn<3&&cr[0]!==Wr&&cr[Bn-1]!==Wr?[]:oe(cr,Wr);return(Bn-=ji.length)<re?Af(c,y,eu,tn.placeholder,s,cr,ji,s,s,re-Bn):mr(this&&this!==qo&&this instanceof tn?Je:c,this,cr)}}(c,y,Er):32!=y&&33!=y||tn.length?eu.apply(s,Vo):function nm(c,y,re,Je){var tn=1&y,Bn=Mu(c);return function cr(){for(var Er=-1,Wr=arguments.length,ji=-1,Li=Je.length,Zi=Sn(Li+Wr),Eo=this&&this!==qo&&this instanceof cr?Bn:c;++ji<Li;)Zi[ji]=Je[ji];for(;Wr--;)Zi[ji++]=arguments[++Er];return mr(Eo,tn?re:this,Zi)}}(c,y,re,Je);else var as=function Cf(c,y,re){var Je=1&y,tn=Mu(c);return function Bn(){return(this&&this!==qo&&this instanceof Bn?tn:c).apply(Je?re:this,arguments)}}(c,y,re);return Wd((Eo?bl:qa)(as,Vo),c,y)}function Mf(c,y,re,Je){return c===s||vn(c,Jo[re])&&!Gt.call(Je,re)?y:c}function Du(c,y,re,Je,tn,Bn){return ci(c)&&ci(y)&&(Bn.set(y,c),Sr(c,y,s,Du,Bn),Bn.delete(y)),c}function Df(c){return vc(c)?s:c}function Tf(c,y,re,Je,tn,Bn){var cr=1&re,Er=c.length,Wr=y.length;if(Er!=Wr&&!(cr&&Wr>Er))return!1;var ji=Bn.get(c),Li=Bn.get(y);if(ji&&Li)return ji==y&&Li==c;var Zi=-1,Eo=!0,Vo=2&re?new Xl:s;for(Bn.set(c,y),Bn.set(y,c);++Zi<Er;){var as=c[Zi],Ys=y[Zi];if(Je)var $o=cr?Je(Ys,as,Zi,y,c,Bn):Je(as,Ys,Zi,c,y,Bn);if($o!==s){if($o)continue;Eo=!1;break}if(Vo){if(!yr(y,function(Zs,da){if(!He(Vo,da)&&(as===Zs||tn(as,Zs,re,Je,Bn)))return Vo.push(da)})){Eo=!1;break}}else if(as!==Ys&&!tn(as,Ys,re,Je,Bn)){Eo=!1;break}}return Bn.delete(c),Bn.delete(y),Eo}function pc(c){return Ou(Bh(c,s,jc),c+"")}function id(c){return Xa(c,Za,Gd)}function Sf(c){return Xa(c,ol,Hd)}var Su=Wo?function(c){return Wo.get(c)}:Ep;function Zl(c){for(var y=c.name+"",re=tl[y],Je=Gt.call(tl,y)?re.length:0;Je--;){var tn=re[Je],Bn=tn.func;if(null==Bn||Bn==c)return tn.name}return y}function du(c){return(Gt.call(_n,"placeholder")?_n:c).placeholder}function es(){var c=_n.iteratee||pf;return c=c===pf?Xi:c,arguments.length?c(arguments[0],arguments[1]):c}function mc(c,y){var re=c.__data__;return function Ph(c){var y=typeof c;return"string"==y||"number"==y||"symbol"==y||"boolean"==y?"__proto__"!==c:null===c}(y)?re["string"==typeof y?"string":"hash"]:re.map}function Lc(c){for(var y=Za(c),re=y.length;re--;){var Je=y[re],tn=c[Je];y[re]=[Je,tn,om(tn)]}return y}function il(c,y){var re=function ri(Un,pr){return null==Un?s:Un[pr]}(c,y);return Jr(re)?re:s}var Gd=us?function(c){return null==c?[]:(c=ki(c),jt(us(c),function(y){return sa.call(c,y)}))}:Hu,Hd=us?function(c){for(var y=[];c;)Qt(y,Gd(c)),c=Oo(c);return y}:Hu,Qa=Pa;function od(c,y,re){for(var Je=-1,tn=(y=Ra(y,c)).length,Bn=!1;++Je<tn;){var cr=tc(y[Je]);if(!(Bn=null!=c&&re(c,cr)))break;c=c[cr]}return Bn||++Je!=tn?Bn:!!(tn=null==c?0:c.length)&&wr(tn)&&gc(cr,tn)&&(Qn(c)||ur(c))}function If(c){return"function"!=typeof c.constructor||fu(c)?{}:Vl(Oo(c))}function Oh(c){return Qn(c)||ur(c)||!!(_e&&c&&c[_e])}function gc(c,y){var re=typeof c;return!!(y=y??me)&&("number"==re||"symbol"!=re&&Uo.test(c))&&c>-1&&c%1==0&&c<y}function hl(c,y,re){if(!ci(re))return!1;var Je=typeof y;return!!("number"==Je?$r(re)&&gc(y,re.length):"string"==Je&&y in re)&&vn(re[y],c)}function Of(c,y){if(Qn(c))return!1;var re=typeof c;return!("number"!=re&&"symbol"!=re&&"boolean"!=re&&null!=c&&!Is(c))||Yt.test(c)||!sn.test(c)||null!=y&&c in ki(y)}function $d(c){var y=Zl(c),re=_n[y];if("function"!=typeof re||!(y in Fs.prototype))return!1;if(c===re)return!0;var Je=Su(re);return!!Je&&c===Je[0]}(Qs&&Qa(new Qs(new ArrayBuffer(1)))!=Oe||fa&&Qa(new fa)!=T||Ua&&Qa(Ua.resolve())!=I||ks&&Qa(new ks)!=D||ha&&Qa(new ha)!=ct)&&(Qa=function(c){var y=Pa(c),re=y==h?c.constructor:s,Je=re?Nl(re):"";if(Je)switch(Je){case Al:return Oe;case Cc:return T;case Aa:return I;case ou:return D;case Ac:return ct}return y});var im=Cs?Yo:mh;function fu(c){var y=c&&c.constructor;return c===("function"==typeof y&&y.prototype||Jo)}function om(c){return c==c&&!ci(c)}function Pf(c,y){return function(re){return null!=re&&re[c]===y&&(y!==s||c in ki(re))}}function Bh(c,y,re){return y=Lo(y===s?c.length-1:y,0),function(){for(var Je=arguments,tn=-1,Bn=Lo(Je.length-y,0),cr=Sn(Bn);++tn<Bn;)cr[tn]=Je[y+tn];tn=-1;for(var Er=Sn(y+1);++tn<y;)Er[tn]=Je[tn];return Er[y]=re(cr),mr(c,this,Er)}}function tu(c,y){return y.length<2?c:yl(c,Bl(y,0,-1))}function sd(c,y){if(("constructor"!==y||"function"!=typeof c[y])&&"__proto__"!=y)return c[y]}var qa=Nh(bl),Ru=li||function(c,y){return qo.setTimeout(c,y)},Ou=Nh(Ql);function Wd(c,y,re){var Je=y+"";return Ou(c,function zd(c,y){var re=y.length;if(!re)return c;var Je=re-1;return y[Je]=(re>1?"& ":"")+y[Je],y=y.join(re>2?", ":" "),c.replace(nn,"{\n/* [wrapped with "+y+"] */\n")}(Je,function ad(c,y){return Ai(yt,function(re){var Je="_."+re[0];y&re[1]&&!cn(c,Je)&&c.push(Je)}),c.sort()}(function Rh(c){var y=c.match(Ye);return y?y[1].split(At):[]}(Je),re)))}function Nh(c){var y=0,re=0;return function(){var Je=Ki(),tn=16-(Je-re);if(re=Je,tn>0){if(++y>=800)return arguments[0]}else y=0;return c.apply(s,arguments)}}function ec(c,y){var re=-1,Je=c.length,tn=Je-1;for(y=y===s?Je:y;++re<y;){var Bn=rl(re,tn),cr=c[Bn];c[Bn]=c[re],c[re]=cr}return c.length=y,c}var Pu=function Iu(c){var y=u(c,function(Je){return 500===re.size&&re.clear(),Je}),re=y.cache;return y}(function(c){var y=[];return 46===c.charCodeAt(0)&&y.push(""),c.replace(Qe,function(re,Je,tn,Bn){y.push(tn?Bn.replace(gr,"$1"):Je||re)}),y});function tc(c){if("string"==typeof c||Is(c))return c;var y=c+"";return"0"==y&&1/c==-Kt?"-0":y}function Nl(c){if(null!=c){try{return rs.call(c)}catch{}try{return c+""}catch{}}return""}function _c(c){if(c instanceof Fs)return c.clone();var y=new No(c.__wrapped__,c.__chain__);return y.__actions__=ja(c.__actions__),y.__index__=c.__index__,y.__values__=c.__values__,y}var Kd=Ss(function(c,y){return Vr(c)?Ic(c,hs(y,1,Vr,!0)):[]}),nc=Ss(function(c,y){var re=ga(y);return Vr(re)&&(re=s),Vr(c)?Ic(c,hs(y,1,Vr,!0),es(re,2)):[]}),Vh=Ss(function(c,y){var re=ga(y);return Vr(re)&&(re=s),Vr(c)?Ic(c,hs(y,1,Vr,!0),s,re):[]});function mu(c,y,re){var Je=null==c?0:c.length;if(!Je)return-1;var tn=null==re?0:Es(re);return tn<0&&(tn=Lo(Je+tn,0)),Ui(c,es(y,3),tn)}function cd(c,y,re){var Je=null==c?0:c.length;if(!Je)return-1;var tn=Je-1;return re!==s&&(tn=Es(re),tn=re<0?Lo(Je+tn,0):Ho(tn,Je-1)),Ui(c,es(y,3),tn,!0)}function jc(c){return null!=c&&c.length?hs(c,1):[]}function Ff(c){return c&&c.length?c[0]:s}var Il=Ss(function(c){var y=It(c,ed);return y.length&&y[0]===c[0]?p(y):[]}),ku=Ss(function(c){var y=ga(c),re=It(c,ed);return y===ga(re)?y=s:re.pop(),re.length&&re[0]===c[0]?p(re,es(y,2)):[]}),Yd=Ss(function(c){var y=ga(c),re=It(c,ed);return(y="function"==typeof y?y:s)&&re.pop(),re.length&&re[0]===c[0]?p(re,s,y):[]});function ga(c){var y=null==c?0:c.length;return y?c[y-1]:s}var ud=Ss(Nf);function Nf(c,y){return c&&c.length&&y&&y.length?Us(c,y):c}var jh=pc(function(c,y){var re=null==c?0:c.length,Je=xu(c,y);return is(c,It(y,function(tn){return gc(tn,re)?+tn:tn}).sort(Va)),Je});function Hc(c){return null==c?c:va.call(c)}var Hf=Ss(function(c){return Fc(hs(c,1,Vr,!0))}),Xh=Ss(function(c){var y=ga(c);return Vr(y)&&(y=s),Fc(hs(c,1,Vr,!0),es(y,2))}),zf=Ss(function(c){var y=ga(c);return y="function"==typeof y?y:s,Fc(hs(c,1,Vr,!0),s,y)});function qd(c){if(!c||!c.length)return[];var y=0;return c=jt(c,function(re){if(Vr(re))return y=Lo(re.length,y),!0}),on(y,function(re){return It(c,$e(re))})}function _m(c,y){if(!c||!c.length)return[];var re=qd(c);return null==y?re:It(re,function(Je){return mr(y,s,Je)})}var vm=Ss(function(c,y){return Vr(c)?Ic(c,y):[]}),Qh=Ss(function(c){return Zu(jt(c,Vr))}),$f=Ss(function(c){var y=ga(c);return Vr(y)&&(y=s),Zu(jt(c,Vr),es(y,2))}),ym=Ss(function(c){var y=ga(c);return y="function"==typeof y?y:s,Zu(jt(c,Vr),s,y)}),zc=Ss(qd),Wf=Ss(function(c){var y=c.length,re=y>1?c[y-1]:s;return re="function"==typeof re?(c.pop(),re):s,_m(c,re)});function Jd(c){var y=_n(c);return y.__chain__=!0,y}function fd(c,y){return y(c)}var ep=pc(function(c){var y=c.length,re=y?c[0]:0,Je=this.__wrapped__,tn=function(Bn){return xu(Bn,c)};return!(y>1||this.__actions__.length)&&Je instanceof Fs&&gc(re)?((Je=Je.slice(re,+re+(y?1:0))).__actions__.push({func:fd,args:[tn],thisArg:s}),new No(Je,this.__chain__).thru(function(Bn){return y&&!Bn.length&&Bn.push(s),Bn})):this.thru(tn)}),Zd=Ud(function(c,y,re){Gt.call(c,re)?++c[re]:dl(c,re,1)}),qf=tm(mu),Lu=tm(cd);function pd(c,y){return(Qn(c)?Ai:Na)(c,es(y,3))}function md(c,y){return(Qn(c)?tt:Rc)(c,es(y,3))}var xm=Ud(function(c,y,re){Gt.call(c,re)?c[re].push(y):dl(c,re,[y])}),nu=Ss(function(c,y,re){var Je=-1,tn="function"==typeof y,Bn=$r(c)?Sn(c.length):[];return Na(c,function(cr){Bn[++Je]=tn?mr(y,cr,re):Re(cr,y,re)}),Bn}),Zf=Ud(function(c,y,re){dl(c,re,y)});function _u(c,y){return(Qn(c)?It:To)(c,es(y,3))}var Em=Ud(function(c,y,re){c[re?0:1].push(y)},function(){return[[],[]]}),xg=Ss(function(c,y){if(null==c)return[];var re=y.length;return re>1&&hl(c,y[0],y[1])?y=[]:re>2&&hl(y[0],y[1],y[2])&&(y=[y[0]]),Xs(c,hs(y,1),[])}),ih=dr||function(){return qo.Date.now()};function rp(c,y,re){return y=re?s:y,Jl(c,J,s,s,s,s,y=c&&null==y?c.length:y)}function _d(c,y){var re;if("function"!=typeof y)throw new Ti(C);return c=Es(c),function(){return--c>0&&(re=y.apply(this,arguments)),c<=1&&(y=s),re}}var vd=Ss(function(c,y,re){var Je=1;if(re.length){var tn=oe(re,du(vd));Je|=32}return Jl(c,Je,y,re,tn)}),ip=Ss(function(c,y,re){var Je=3;if(re.length){var tn=oe(re,du(ip));Je|=32}return Jl(y,Je,c,re,tn)});function yd(c,y,re){var Je,tn,Bn,cr,Er,Wr,ji=0,Li=!1,Zi=!1,Eo=!0;if("function"!=typeof c)throw new Ti(C);function Vo(Fa){var lc=Je,zu=tn;return Je=tn=s,ji=Fa,cr=c.apply(zu,lc)}function $o(Fa){var lc=Fa-Wr;return Wr===s||lc>=y||lc<0||Zi&&Fa-ji>=Bn}function Zs(){var Fa=ih();if($o(Fa))return da(Fa);Er=Ru(Zs,function Ys(Fa){var Lm=y-(Fa-Wr);return Zi?Ho(Lm,Bn-(Fa-ji)):Lm}(Fa))}function da(Fa){return Er=s,Eo&&Je?Vo(Fa):(Je=tn=s,cr)}function Kl(){var Fa=ih(),lc=$o(Fa);if(Je=arguments,tn=this,Wr=Fa,lc){if(Er===s)return function as(Fa){return ji=Fa,Er=Ru(Zs,y),Li?Vo(Fa):cr}(Wr);if(Zi)return Bc(Er),Er=Ru(Zs,y),Vo(Wr)}return Er===s&&(Er=Ru(Zs,y)),cr}return y=$a(y)||0,ci(re)&&(Li=!!re.leading,Bn=(Zi="maxWait"in re)?Lo($a(re.maxWait)||0,y):Bn,Eo="trailing"in re?!!re.trailing:Eo),Kl.cancel=function ac(){Er!==s&&Bc(Er),ji=0,Je=Wr=tn=Er=s},Kl.flush=function kl(){return Er===s?cr:da(ih())},Kl}var f=Ss(function(c,y){return Sc(c,1,y)}),a=Ss(function(c,y,re){return Sc(c,$a(y)||0,re)});function u(c,y){if("function"!=typeof c||null!=y&&"function"!=typeof y)throw new Ti(C);var re=function(){var Je=arguments,tn=y?y.apply(this,Je):Je[0],Bn=re.cache;if(Bn.has(tn))return Bn.get(tn);var cr=c.apply(this,Je);return re.cache=Bn.set(tn,cr)||Bn,cr};return re.cache=new(u.Cache||ul),re}function O(c){if("function"!=typeof c)throw new Ti(C);return function(){var y=arguments;switch(y.length){case 0:return!c.call(this);case 1:return!c.call(this,y[0]);case 2:return!c.call(this,y[0],y[1]);case 3:return!c.call(this,y[0],y[1],y[2])}return!c.apply(this,y)}}u.Cache=ul;var te=la(function(c,y){var re=(y=1==y.length&&Qn(y[0])?It(y[0],$(es())):It(hs(y,1),$(es()))).length;return Ss(function(Je){for(var tn=-1,Bn=Ho(Je.length,re);++tn<Bn;)Je[tn]=y[tn].call(this,Je[tn]);return mr(c,this,Je)})}),Q=Ss(function(c,y){var re=oe(y,du(Q));return Jl(c,32,s,y,re)}),be=Ss(function(c,y){var re=oe(y,du(be));return Jl(c,64,s,y,re)}),Me=pc(function(c,y){return Jl(c,256,s,s,s,y)});function vn(c,y){return c===y||c!=c&&y!=y}var kn=nd(kc),nr=nd(function(c,y){return c>=y}),ur=lt(function(){return arguments}())?lt:function(c){return oo(c)&&Gt.call(c,"callee")&&!sa.call(c,"callee")},Qn=Sn.isArray,kr=zs?$(zs):function Ht(c){return oo(c)&&Pa(c)==en};function $r(c){return null!=c&&wr(c.length)&&!Yo(c)}function Vr(c){return oo(c)&&$r(c)}var di=ds||mh,ai=Ts?$(Ts):function hn(c){return oo(c)&&Pa(c)==Ve};function go(c){if(!oo(c))return!1;var y=Pa(c);return y==Y||"[object DOMException]"==y||"string"==typeof c.message&&"string"==typeof c.name&&!vc(c)}function Yo(c){if(!ci(c))return!1;var y=Pa(c);return y==b||y==R||"[object AsyncFunction]"==y||"[object Proxy]"==y}function xi(c){return"number"==typeof c&&c==Es(c)}function wr(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=me}function ci(c){var y=typeof c;return null!=c&&("object"==y||"function"==y)}function oo(c){return null!=c&&"object"==typeof c}var ca=cs?$(cs):function Gn(c){return oo(c)&&Qa(c)==T};function zl(c){return"number"==typeof c||oo(c)&&Pa(c)==V}function vc(c){if(!oo(c)||Pa(c)!=h)return!1;var y=Oo(c);if(null===y)return!0;var re=Gt.call(y,"constructor")&&y.constructor;return"function"==typeof re&&re instanceof re&&rs.call(re)==fn}var bd=ua?$(ua):function Zr(c){return oo(c)&&Pa(c)==ie},yc=Jn?$(Jn):function ii(c){return oo(c)&&Qa(c)==D};function wa(c){return"string"==typeof c||!Qn(c)&&oo(c)&&Pa(c)==K}function Is(c){return"symbol"==typeof c||oo(c)&&Pa(c)==se}var ic=lr?$(lr):function mi(c){return oo(c)&&wr(c.length)&&!!Ei[Pa(c)]},Vu=nd(Po),oc=nd(function(c,y){return c<=y});function Ta(c){if(!c)return[];if($r(c))return wa(c)?ar(c):ja(c);if(dt&&c[dt])return function zi(Un){for(var pr,Sn=[];!(pr=Un.next()).done;)Sn.push(pr.value);return Sn}(c[dt]());var y=Qa(c);return(y==T?Ii:y==D?Ue:Ul)(c)}function xl(c){return c?(c=$a(c))===Kt||c===-Kt?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function Es(c){var y=xl(c),re=y%1;return y==y?re?y-re:y:0}function ju(c){return c?Tc(Es(c),0,ye):0}function $a(c){if("number"==typeof c)return c;if(Is(c))return NaN;if(ci(c)){var y="function"==typeof c.valueOf?c.valueOf():c;c=ci(y)?y+"":y}if("string"!=typeof c)return 0===c?c:+c;c=ht(c);var re=ro.test(c);return re||_o.test(c)?Ls(c.slice(2),re?2:8):to.test(c)?NaN:+c}function bc(c){return Ma(c,ol(c))}function _a(c){return null==c?"":za(c)}var sh=Gl(function(c,y){if(fu(y)||$r(y))Ma(y,Za(y),c);else for(var re in y)Gt.call(y,re)&&ia(c,re,y[re])}),Am=Gl(function(c,y){Ma(y,ol(y),c)}),sf=Gl(function(c,y,re,Je){Ma(y,ol(y),c,Je)}),wd=Gl(function(c,y,re,Je){Ma(y,Za(y),c,Je)}),Cd=pc(xu),Gu=Ss(function(c,y){c=ki(c);var re=-1,Je=y.length,tn=Je>2?y[2]:s;for(tn&&hl(y[0],y[1],tn)&&(Je=1);++re<Je;)for(var Bn=y[re],cr=ol(Bn),Er=-1,Wr=cr.length;++Er<Wr;){var ji=cr[Er],Li=c[ji];(Li===s||vn(Li,Jo[ji])&&!Gt.call(c,ji))&&(c[ji]=Bn[ji])}return c}),ah=Ss(function(c){return c.push(s,Du),mr(df,s,c)});function lf(c,y,re){var Je=null==c?s:yl(c,y);return Je===s?re:Je}function ch(c,y){return null!=c&&od(c,y,fl)}var uh=Dh(function(c,y,re){null!=y&&"function"!=typeof y.toString&&(y=Ct.call(y)),c[y]=re},xp(Pl)),wg=Dh(function(c,y,re){null!=y&&"function"!=typeof y.toString&&(y=Ct.call(y)),Gt.call(c,y)?c[y].push(re):c[y]=[re]},es),Mm=Ss(Re);function Za(c){return $r(c)?$i(c):ui(c)}function ol(c){return $r(c)?$i(c,!0):function xo(c){if(!ci(c))return function Fh(c){var y=[];if(null!=c)for(var re in ki(c))y.push(re);return y}(c);var y=fu(c),re=[];for(var Je in c)"constructor"==Je&&(y||!Gt.call(c,Je))||re.push(Je);return re}(c)}var uf=Gl(function(c,y,re){Sr(c,y,re)}),df=Gl(function(c,y,re,Je){Sr(c,y,re,Je)}),ff=pc(function(c,y){var re={};if(null==c)return re;var Je=!1;y=It(y,function(Bn){return Bn=Ra(Bn,c),Je||(Je=Bn.length>1),Bn}),Ma(c,Sf(c),re),Je&&(re=vl(re,7,Df));for(var tn=y.length;tn--;)Pd(re,y[tn]);return re}),hp=pc(function(c,y){return null==c?{}:function uo(c,y){return ta(c,y,function(re,Je){return ch(c,Je)})}(c,y)});function dh(c,y){if(null==c)return{};var re=It(Sf(c),function(Je){return[Je]});return y=es(y),ta(c,re,function(Je,tn){return y(Je,tn[0])})}var Gs=rd(Za),Sa=rd(ol);function Ul(c){return null==c?[]:ge(c,Za(c))}var sc=Au(function(c,y,re){return y=y.toLowerCase(),c+(re?xc(y):y)});function xc(c){return vp(_a(c).toLowerCase())}function pp(c){return(c=_a(c))&&c.replace(So,fr).replace(os,"")}var F_=Au(function(c,y,re){return c+(re?"-":"")+y.toLowerCase()}),B_=Au(function(c,y,re){return c+(re?" ":"")+y.toLowerCase()}),Ag=Mh("toLowerCase"),Tm=Au(function(c,y,re){return c+(re?"_":"")+y.toLowerCase()}),j_=Au(function(c,y,re){return c+(re?" ":"")+vp(y)}),Ig=Au(function(c,y,re){return c+(re?" ":"")+y.toUpperCase()}),vp=Mh("toUpperCase");function Im(c,y,re){return c=_a(c),(y=re?s:y)===s?function hi(Un){return sr.test(Un)}(c)?function Nr(Un){return Un.match(Rs)||[]}(c):function oi(Un){return Un.match(Pn)||[]}(c):c.match(y)||[]}var yp=Ss(function(c,y){try{return mr(c,s,y)}catch(re){return go(re)?re:new zr(re)}}),Rg=pc(function(c,y){return Ai(y,function(re){re=tc(re),dl(c,re,vd(c[re],c))}),c});function xp(c){return function(){return c}}var ph=Vd(),Og=Vd(!0);function Pl(c){return c}function pf(c){return Xi("function"==typeof c?c:vl(c,1))}var $_=Ss(function(c,y){return function(re){return Re(re,c,y)}}),W_=Ss(function(c,y){return function(re){return Re(c,re,y)}});function Om(c,y,re){var Je=Za(y),tn=jl(y,Je);null==re&&(!ci(y)||!tn.length&&Je.length)&&(re=y,y=c,c=this,tn=jl(y,Za(y)));var Bn=!(ci(re)&&"chain"in re&&!re.chain),cr=Yo(c);return Ai(tn,function(Er){var Wr=y[Er];c[Er]=Wr,cr&&(c.prototype[Er]=function(){var ji=this.__chain__;if(Bn||ji){var Li=c(this.__wrapped__);return(Li.__actions__=ja(this.__actions__)).push({func:Wr,args:arguments,thisArg:c}),Li.__chain__=ji,Li}return Wr.apply(c,Qt([this.value()],arguments))})}),c}function Ep(){}var Fg=Nc(It),Bg=Nc(gn),mf=Nc(yr);function Pm(c){return Of(c)?$e(tc(c)):function aa(c){return function(y){return yl(y,c)}}(c)}var K_=jd(),wp=jd(!0);function Hu(){return[]}function mh(){return!1}var Nm=ql(function(c,y){return c+y},0),X_=Hl("ceil"),Y_=ql(function(c,y){return c/y},1),Q_=Hl("floor"),Gg=ql(function(c,y){return c*y},1),tv=Hl("round"),nv=ql(function(c,y){return c-y},0);return _n.after=function ru(c,y){if("function"!=typeof y)throw new Ti(C);return c=Es(c),function(){if(--c<1)return y.apply(this,arguments)}},_n.ary=rp,_n.assign=sh,_n.assignIn=Am,_n.assignInWith=sf,_n.assignWith=wd,_n.at=Cd,_n.before=_d,_n.bind=vd,_n.bindAll=Rg,_n.bindKey=ip,_n.castArray=function Wt(){if(!arguments.length)return[];var c=arguments[0];return Qn(c)?c:[c]},_n.chain=Jd,_n.chunk=function hu(c,y,re){y=(re?hl(c,y,re):y===s)?1:Lo(Es(y),0);var Je=null==c?0:c.length;if(!Je||y<1)return[];for(var tn=0,Bn=0,cr=Sn(Ji(Je/y));tn<Je;)cr[Bn++]=Bl(c,tn,tn+=y);return cr},_n.compact=function Lh(c){for(var y=-1,re=null==c?0:c.length,Je=0,tn=[];++y<re;){var Bn=c[y];Bn&&(tn[Je++]=Bn)}return tn},_n.concat=function Uh(){var c=arguments.length;if(!c)return[];for(var y=Sn(c-1),re=arguments[0],Je=c;Je--;)y[Je-1]=arguments[Je];return Qt(Qn(re)?ja(re):[re],hs(y,1))},_n.cond=function bp(c){var y=null==c?0:c.length,re=es();return c=y?It(c,function(Je){if("function"!=typeof Je[1])throw new Ti(C);return[re(Je[0]),Je[1]]}):[],Ss(function(Je){for(var tn=-1;++tn<y;){var Bn=c[tn];if(mr(Bn[0],this,Je))return mr(Bn[1],this,Je)}})},_n.conforms=function hh(c){return function Sd(c){var y=Za(c);return function(re){return Yl(re,c,y)}}(vl(c,1))},_n.constant=xp,_n.countBy=Zd,_n.create=function sp(c,y){var re=Vl(c);return null==y?re:dc(re,y)},_n.curry=function oh(c,y,re){var Je=Jl(c,8,s,s,s,s,s,y=re?s:y);return Je.placeholder=oh.placeholder,Je},_n.curryRight=function nf(c,y,re){var Je=Jl(c,16,s,s,s,s,s,y=re?s:y);return Je.placeholder=nf.placeholder,Je},_n.debounce=yd,_n.defaults=Gu,_n.defaultsDeep=ah,_n.defer=f,_n.delay=a,_n.difference=Kd,_n.differenceBy=nc,_n.differenceWith=Vh,_n.drop=function Xd(c,y,re){var Je=null==c?0:c.length;return Je?Bl(c,(y=re||y===s?1:Es(y))<0?0:y,Je):[]},_n.dropRight=function pu(c,y,re){var Je=null==c?0:c.length;return Je?Bl(c,0,(y=Je-(y=re||y===s?1:Es(y)))<0?0:y):[]},_n.dropRightWhile=function sm(c,y){return c&&c.length?Ju(c,es(y,3),!0,!0):[]},_n.dropWhile=function kf(c,y){return c&&c.length?Ju(c,es(y,3),!0):[]},_n.fill=function ld(c,y,re,Je){var tn=null==c?0:c.length;return tn?(re&&"number"!=typeof re&&hl(c,y,re)&&(re=0,Je=tn),function Eu(c,y,re,Je){var tn=c.length;for((re=Es(re))<0&&(re=-re>tn?0:tn+re),(Je=Je===s||Je>tn?tn:Es(Je))<0&&(Je+=tn),Je=re>Je?0:ju(Je);re<Je;)c[re++]=y;return c}(c,y,re,Je)):[]},_n.filter=function Qf(c,y){return(Qn(c)?jt:Xu)(c,es(y,3))},_n.flatMap=function hd(c,y){return hs(_u(c,y),1)},_n.flatMapDeep=function gu(c,y){return hs(_u(c,y),Kt)},_n.flatMapDepth=function ef(c,y,re){return re=re===s?1:Es(re),hs(_u(c,y),re)},_n.flatten=jc,_n.flattenDeep=function am(c){return null!=c&&c.length?hs(c,Kt):[]},_n.flattenDepth=function lm(c,y){return null!=c&&c.length?hs(c,y=y===s?1:Es(y)):[]},_n.flip=function g(c){return Jl(c,512)},_n.flow=ph,_n.flowRight=Og,_n.fromPairs=function cm(c){for(var y=-1,re=null==c?0:c.length,Je={};++y<re;){var tn=c[y];Je[tn[0]]=tn[1]}return Je},_n.functions=function lh(c){return null==c?[]:jl(c,Za(c))},_n.functionsIn=function Eg(c){return null==c?[]:jl(c,ol(c))},_n.groupBy=xm,_n.initial=function dm(c){return null!=c&&c.length?Bl(c,0,-1):[]},_n.intersection=Il,_n.intersectionBy=ku,_n.intersectionWith=Yd,_n.invert=uh,_n.invertBy=wg,_n.invokeMap=nu,_n.iteratee=pf,_n.keyBy=Zf,_n.keys=Za,_n.keysIn=ol,_n.map=_u,_n.mapKeys=function Ad(c,y){var re={};return y=es(y,3),Ea(c,function(Je,tn,Bn){dl(re,y(Je,tn,Bn),Je)}),re},_n.mapValues=function Md(c,y){var re={};return y=es(y,3),Ea(c,function(Je,tn,Bn){dl(re,tn,y(Je,tn,Bn))}),re},_n.matches=function z_(c){return Mo(vl(c,1))},_n.matchesProperty=function Pg(c,y){return Bo(c,vl(y,1))},_n.memoize=u,_n.merge=uf,_n.mergeWith=df,_n.method=$_,_n.methodOf=W_,_n.mixin=Om,_n.negate=O,_n.nthArg=function Ns(c){return c=Es(c),Ss(function(y){return Bs(y,c)})},_n.omit=ff,_n.omitBy=function fp(c,y){return dh(c,O(es(y)))},_n.once=function H(c){return _d(2,c)},_n.orderBy=function eh(c,y,re,Je){return null==c?[]:(Qn(y)||(y=null==y?[]:[y]),Qn(re=Je?s:re)||(re=null==re?[]:[re]),Xs(c,y,re))},_n.over=Fg,_n.overArgs=te,_n.overEvery=Bg,_n.overSome=mf,_n.partial=Q,_n.partialRight=be,_n.partition=Em,_n.pick=hp,_n.pickBy=dh,_n.property=Pm,_n.propertyOf=function Ng(c){return function(y){return null==c?s:yl(c,y)}},_n.pull=ud,_n.pullAll=Nf,_n.pullAllBy=function rc(c,y,re){return c&&c.length&&y&&y.length?Us(c,y,es(re,2)):c},_n.pullAllWith=function Lf(c,y,re){return c&&c.length&&y&&y.length?Us(c,y,s,re):c},_n.pullAt=jh,_n.range=K_,_n.rangeRight=wp,_n.rearg=Me,_n.reject=function wm(c,y){return(Qn(c)?jt:Xu)(c,O(es(y,3)))},_n.remove=function Gh(c,y){var re=[];if(!c||!c.length)return re;var Je=-1,tn=[],Bn=c.length;for(y=es(y,3);++Je<Bn;){var cr=c[Je];y(cr,Je,c)&&(re.push(cr),tn.push(Je))}return is(c,tn),re},_n.rest=function Ee(c,y){if("function"!=typeof c)throw new Ti(C);return Ss(c,y=y===s?y:Es(y))},_n.reverse=Hc,_n.sampleSize=function gd(c,y,re){return y=(re?hl(c,y,re):y===s)?1:Es(y),(Qn(c)?zo:fc)(c,y)},_n.set=function ao(c,y,re){return null==c?c:wu(c,y,re)},_n.setWith=function Vs(c,y,re,Je){return Je="function"==typeof Je?Je:s,null==c?c:wu(c,y,re,Je)},_n.shuffle=function rh(c){return(Qn(c)?Ws:Jp)(c)},_n.slice=function fm(c,y,re){var Je=null==c?0:c.length;return Je?(re&&"number"!=typeof re&&hl(c,y,re)?(y=0,re=Je):(y=null==y?0:Es(y),re=re===s?Je:Es(re)),Bl(c,y,re)):[]},_n.sortBy=xg,_n.sortedUniq=function dd(c){return c&&c.length?Od(c):[]},_n.sortedUniqBy=function Uf(c,y){return c&&c.length?Od(c,es(y,2)):[]},_n.split=function V_(c,y,re){return re&&"number"!=typeof re&&hl(c,y,re)&&(y=re=s),(re=re===s?ye:re>>>0)?(c=_a(c))&&("string"==typeof y||null!=y&&!bd(y))&&!(y=za(y))&&Br(c)?qs(ar(c),0,re):c.split(y,re):[]},_n.spread=function Pe(c,y){if("function"!=typeof c)throw new Ti(C);return y=null==y?0:Lo(Es(y),0),Ss(function(re){var Je=re[y],tn=qs(re,0,y);return Je&&Qt(tn,Je),mr(c,this,tn)})},_n.tail=function Vf(c){var y=null==c?0:c.length;return y?Bl(c,1,y):[]},_n.take=function jf(c,y,re){return c&&c.length?Bl(c,0,(y=re||y===s?1:Es(y))<0?0:y):[]},_n.takeRight=function Gf(c,y,re){var Je=null==c?0:c.length;return Je?Bl(c,(y=Je-(y=re||y===s?1:Es(y)))<0?0:y,Je):[]},_n.takeRightWhile=function Kh(c,y){return c&&c.length?Ju(c,es(y,3),!1,!0):[]},_n.takeWhile=function mm(c,y){return c&&c.length?Ju(c,es(y,3)):[]},_n.tap=function Zh(c,y){return y(c),c},_n.throttle=function rt(c,y,re){var Je=!0,tn=!0;if("function"!=typeof c)throw new Ti(C);return ci(re)&&(Je="leading"in re?!!re.leading:Je,tn="trailing"in re?!!re.trailing:tn),yd(c,y,{leading:Je,maxWait:y,trailing:tn})},_n.thru=fd,_n.toArray=Ta,_n.toPairs=Gs,_n.toPairsIn=Sa,_n.toPath=function Bm(c){return Qn(c)?It(c,tc):Is(c)?[c]:ja(Pu(_a(c)))},_n.toPlainObject=bc,_n.transform=function ya(c,y,re){var Je=Qn(c),tn=Je||di(c)||ic(c);if(y=es(y,4),null==re){var Bn=c&&c.constructor;re=tn?Je?new Bn:[]:ci(c)&&Yo(Bn)?Vl(Oo(c)):{}}return(tn?Ai:Ea)(c,function(cr,Er,Wr){return y(re,cr,Er,Wr)}),re},_n.unary=function Dt(c){return rp(c,1)},_n.union=Hf,_n.unionBy=Xh,_n.unionWith=zf,_n.uniq=function Yh(c){return c&&c.length?Fc(c):[]},_n.uniqBy=function Fu(c,y){return c&&c.length?Fc(c,es(y,2)):[]},_n.uniqWith=function gm(c,y){return y="function"==typeof y?y:s,c&&c.length?Fc(c,s,y):[]},_n.unset=function js(c,y){return null==c||Pd(c,y)},_n.unzip=qd,_n.unzipWith=_m,_n.update=function el(c,y,re){return null==c?c:kd(c,y,Ef(re))},_n.updateWith=function Ll(c,y,re,Je){return Je="function"==typeof Je?Je:s,null==c?c:kd(c,y,Ef(re),Je)},_n.values=Ul,_n.valuesIn=function hf(c){return null==c?[]:ge(c,ol(c))},_n.without=vm,_n.words=Im,_n.wrap=function Ft(c,y){return Q(Ef(y),c)},_n.xor=Qh,_n.xorBy=$f,_n.xorWith=ym,_n.zip=zc,_n.zipObject=function qh(c,y){return Fd(c||[],y||[],ia)},_n.zipObjectDeep=function Jh(c,y){return Fd(c||[],y||[],wu)},_n.zipWith=Wf,_n.entries=Gs,_n.entriesIn=Sa,_n.extend=Am,_n.extendWith=sf,Om(_n,_n),_n.add=Nm,_n.attempt=yp,_n.camelCase=sc,_n.capitalize=xc,_n.ceil=X_,_n.clamp=function pl(c,y,re){return re===s&&(re=y,y=s),re!==s&&(re=(re=$a(re))==re?re:0),y!==s&&(y=(y=$a(y))==y?y:0),Tc($a(c),y,re)},_n.clone=function Ot(c){return vl(c,4)},_n.cloneDeep=function Fn(c){return vl(c,5)},_n.cloneDeepWith=function Tn(c,y){return vl(c,5,y="function"==typeof y?y:s)},_n.cloneWith=function Jt(c,y){return vl(c,4,y="function"==typeof y?y:s)},_n.conformsTo=function An(c,y){return null==y||Yl(c,y,Za(y))},_n.deburr=pp,_n.defaultTo=function Rm(c,y){return null==c||c!=c?y:c},_n.divide=Y_,_n.endsWith=function Cg(c,y,re){c=_a(c),y=za(y);var Je=c.length,tn=re=re===s?Je:Tc(Es(re),0,Je);return(re-=y.length)>=0&&c.slice(re,tn)==y},_n.eq=vn,_n.escape=function Dm(c){return(c=_a(c))&&St.test(c)?c.replace(Mr,Ur):c},_n.escapeRegExp=function mp(c){return(c=_a(c))&&Mn.test(c)?c.replace(Lt,"\\$&"):c},_n.every=function Nu(c,y,re){var Je=Qn(c)?gn:Id;return re&&hl(c,y,re)&&(y=s),Je(c,es(y,3))},_n.find=qf,_n.findIndex=mu,_n.findKey=function ap(c,y){return qr(c,es(y,3),Ea)},_n.findLast=Lu,_n.findLastIndex=cd,_n.findLastKey=function lp(c,y){return qr(c,es(y,3),Yu)},_n.floor=Q_,_n.forEach=pd,_n.forEachRight=md,_n.forIn=function af(c,y){return null==c?c:Oc(c,es(y,3),ol)},_n.forInRight=function cp(c,y){return null==c?c:Pc(c,es(y,3),ol)},_n.forOwn=function up(c,y){return c&&Ea(c,es(y,3))},_n.forOwnRight=function dp(c,y){return c&&Yu(c,es(y,3))},_n.get=lf,_n.gt=kn,_n.gte=nr,_n.has=function cf(c,y){return null!=c&&od(c,y,Qu)},_n.hasIn=ch,_n.head=Ff,_n.identity=Pl,_n.includes=function Jf(c,y,re,Je){c=$r(c)?c:Ul(c),re=re&&!Je?Es(re):0;var tn=c.length;return re<0&&(re=Lo(tn+re,0)),wa(c)?re<=tn&&c.indexOf(y,re)>-1:!!tn&&co(c,y,re)>-1},_n.indexOf=function um(c,y,re){var Je=null==c?0:c.length;if(!Je)return-1;var tn=null==re?0:Es(re);return tn<0&&(tn=Lo(Je+tn,0)),co(c,y,tn)},_n.inRange=function Ol(c,y,re){return y=xl(y),re===s?(re=y,y=0):re=xl(re),function i(c,y,re){return c>=Ho(y,re)&&c<Lo(y,re)}(c=$a(c),y,re)},_n.invoke=Mm,_n.isArguments=ur,_n.isArray=Qn,_n.isArrayBuffer=kr,_n.isArrayLike=$r,_n.isArrayLikeObject=Vr,_n.isBoolean=function Fr(c){return!0===c||!1===c||oo(c)&&Pa(c)==We},_n.isBuffer=di,_n.isDate=ai,_n.isElement=function fi(c){return oo(c)&&1===c.nodeType&&!vc(c)},_n.isEmpty=function Or(c){if(null==c)return!0;if($r(c)&&(Qn(c)||"string"==typeof c||"function"==typeof c.splice||di(c)||ic(c)||ur(c)))return!c.length;var y=Qa(c);if(y==T||y==D)return!c.size;if(fu(c))return!ui(c).length;for(var re in c)if(Gt.call(c,re))return!1;return!0},_n.isEqual=function bi(c,y){return Dn(c,y)},_n.isEqualWith=function Mi(c,y,re){var Je=(re="function"==typeof re?re:s)?re(c,y):s;return Je===s?Dn(c,y,s,re):!!Je},_n.isError=go,_n.isFinite=function fo(c){return"number"==typeof c&&fs(c)},_n.isFunction=Yo,_n.isInteger=xi,_n.isLength=wr,_n.isMap=ca,_n.isMatch=function Js(c,y){return c===y||xr(c,y,Lc(y))},_n.isMatchWith=function As(c,y,re){return re="function"==typeof re?re:s,xr(c,y,Lc(y),re)},_n.isNaN=function La(c){return zl(c)&&c!=+c},_n.isNative=function ka(c){if(im(c))throw new zr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Jr(c)},_n.isNil=function Rl(c){return null==c},_n.isNull=function Ja(c){return null===c},_n.isNumber=zl,_n.isObject=ci,_n.isObjectLike=oo,_n.isPlainObject=vc,_n.isRegExp=bd,_n.isSafeInteger=function xd(c){return xi(c)&&c>=-me&&c<=me},_n.isSet=yc,_n.isString=wa,_n.isSymbol=Is,_n.isTypedArray=ic,_n.isUndefined=function Uu(c){return c===s},_n.isWeakMap=function rf(c){return oo(c)&&Qa(c)==ct},_n.isWeakSet=function Ed(c){return oo(c)&&"[object WeakSet]"==Pa(c)},_n.join=function Bf(c,y){return null==c?"":na.call(c,y)},_n.kebabCase=F_,_n.last=ga,_n.lastIndexOf=function Gc(c,y,re){var Je=null==c?0:c.length;if(!Je)return-1;var tn=Je;return re!==s&&(tn=(tn=Es(re))<0?Lo(Je+tn,0):Ho(tn,Je-1)),y==y?function dn(Un,pr,Sn){for(var er=Sn+1;er--;)if(Un[er]===pr)return er;return er}(c,y,tn):Ui(c,mo,tn,!0)},_n.lowerCase=B_,_n.lowerFirst=Ag,_n.lt=Vu,_n.lte=oc,_n.max=function Vg(c){return c&&c.length?Qc(c,Pl,kc):s},_n.maxBy=function q_(c,y){return c&&c.length?Qc(c,es(y,2),kc):s},_n.mean=function J_(c){return nt(c,Pl)},_n.meanBy=function Z_(c,y){return nt(c,es(y,2))},_n.min=function ev(c){return c&&c.length?Qc(c,Pl,Po):s},_n.minBy=function jg(c,y){return c&&c.length?Qc(c,es(y,2),Po):s},_n.stubArray=Hu,_n.stubFalse=mh,_n.stubObject=function gh(){return{}},_n.stubString=function Lg(){return""},_n.stubTrue=function km(){return!0},_n.multiply=Gg,_n.nth=function Qd(c,y){return c&&c.length?Bs(c,Es(y)):s},_n.noConflict=function kg(){return qo._===this&&(qo._=jn),this},_n.noop=Ep,_n.now=ih,_n.pad=function N_(c,y,re){c=_a(c);var Je=(y=Es(y))?Rn(c):0;if(!y||Je>=y)return c;var tn=(y-Je)/2;return hc(gs(tn),re)+c+hc(Ji(tn),re)},_n.padEnd=function L_(c,y,re){c=_a(c);var Je=(y=Es(y))?Rn(c):0;return y&&Je<y?c+hc(y-Je,re):c},_n.padStart=function U_(c,y,re){c=_a(c);var Je=(y=Es(y))?Rn(c):0;return y&&Je<y?hc(y-Je,re)+c:c},_n.parseInt=function Mg(c,y,re){return re||null==y?y=0:y&&(y=+y),bo(_a(c).replace(vt,""),y||0)},_n.random=function $l(c,y,re){if(re&&"boolean"!=typeof re&&hl(c,y,re)&&(y=re=s),re===s&&("boolean"==typeof y?(re=y,y=s):"boolean"==typeof c&&(re=c,c=s)),c===s&&y===s?(c=0,y=1):(c=xl(c),y===s?(y=c,c=0):y=xl(y)),c>y){var Je=c;c=y,y=Je}if(re||c%1||y%1){var tn=Ps();return Ho(c+tn*(y-c+ls("1e-"+((tn+"").length-1))),y)}return rl(c,y)},_n.reduce=function th(c,y,re){var Je=Qn(c)?qn:at,tn=arguments.length<3;return Je(c,es(y,4),re,tn,Na)},_n.reduceRight=function nh(c,y,re){var Je=Qn(c)?hr:at,tn=arguments.length<3;return Je(c,es(y,4),re,tn,Rc)},_n.repeat=function fh(c,y,re){return y=(re?hl(c,y,re):y===s)?1:Es(y),qc(_a(c),y)},_n.replace=function gp(){var c=arguments,y=_a(c[0]);return c.length<3?y:y.replace(c[1],c[2])},_n.result=function Xr(c,y,re){var Je=-1,tn=(y=Ra(y,c)).length;for(tn||(tn=1,c=s);++Je<tn;){var Bn=null==c?s:c[tc(y[Je])];Bn===s&&(Je=tn,Bn=re),c=Yo(Bn)?Bn.call(c):Bn}return c},_n.round=tv,_n.runInContext=Un,_n.sample=function Cm(c){return(Qn(c)?_i:Ya)(c)},_n.size=function tf(c){if(null==c)return 0;if($r(c))return wa(c)?Rn(c):c.length;var y=Qa(c);return y==T||y==D?c.size:ui(c).length},_n.snakeCase=Tm,_n.some=function np(c,y,re){var Je=Qn(c)?yr:Zp;return re&&hl(c,y,re)&&(y=s),Je(c,es(y,3))},_n.sortedIndex=function Hh(c,y){return Rd(c,y)},_n.sortedIndexBy=function hm(c,y,re){return qu(c,y,es(re,2))},_n.sortedIndexOf=function pm(c,y){var re=null==c?0:c.length;if(re){var Je=Rd(c,y);if(Je<re&&vn(c[Je],y))return Je}return-1},_n.sortedLastIndex=function zh(c,y){return Rd(c,y,!0)},_n.sortedLastIndexBy=function $h(c,y,re){return qu(c,y,es(re,2),!0)},_n.sortedLastIndexOf=function Wh(c,y){if(null!=c&&c.length){var Je=Rd(c,y,!0)-1;if(vn(c[Je],y))return Je}return-1},_n.startCase=j_,_n.startsWith=function Sm(c,y,re){return c=_a(c),re=null==re?0:Tc(Es(re),0,c.length),y=za(y),c.slice(re,re+y.length)==y},_n.subtract=nv,_n.sum=function Wl(c){return c&&c.length?Et(c,Pl):0},_n.sumBy=function rv(c,y){return c&&c.length?Et(c,es(y,2)):0},_n.template=function Dg(c,y,re){var Je=_n.templateSettings;re&&hl(c,y,re)&&(y=s),c=_a(c),y=sf({},y,Je,Mf);var Er,Wr,tn=sf({},y.imports,Je.imports,Mf),Bn=Za(tn),cr=ge(tn,Bn),ji=0,Li=y.interpolate||yo,Zi="__p += '",Eo=Oi((y.escape||yo).source+"|"+Li.source+"|"+(Li===bt?vr:yo).source+"|"+(y.evaluate||yo).source+"|$","g"),Vo="//# sourceURL="+(Gt.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gi+"]")+"\n";c.replace(Eo,function($o,Zs,da,ac,kl,Kl){return da||(da=ac),Zi+=c.slice(ji,Kl).replace(ts,ni),Zs&&(Er=!0,Zi+="' +\n__e("+Zs+") +\n'"),kl&&(Wr=!0,Zi+="';\n"+kl+";\n__p += '"),da&&(Zi+="' +\n((__t = ("+da+")) == null ? '' : __t) +\n'"),ji=Kl+$o.length,$o}),Zi+="';\n";var as=Gt.call(y,"variable")&&y.variable;if(as){if(Yn.test(as))throw new zr("Invalid `variable` option passed into `_.template`")}else Zi="with (obj) {\n"+Zi+"\n}\n";Zi=(Wr?Zi.replace(Zt,""):Zi).replace(Cn,"$1").replace(Zn,"$1;"),Zi="function("+(as||"obj")+") {\n"+(as?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Er?", __e = _.escape":"")+(Wr?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Zi+"return __p\n}";var Ys=yp(function(){return si(Bn,Vo+"return "+Zi).apply(s,cr)});if(Ys.source=Zi,go(Ys))throw Ys;return Ys},_n.times=function Fm(c,y){if((c=Es(c))<1||c>me)return[];var re=ye,Je=Ho(c,ye);y=es(y),c-=ye;for(var tn=on(Je,y);++re<c;)y(re);return tn},_n.toFinite=xl,_n.toInteger=Es,_n.toLength=ju,_n.toLower=function Dd(c){return _a(c).toLowerCase()},_n.toNumber=$a,_n.toSafeInteger=function op(c){return c?Tc(Es(c),-me,me):0===c?c:0},_n.toString=_a,_n.toUpper=function Tg(c){return _a(c).toUpperCase()},_n.trim=function Sg(c,y,re){if((c=_a(c))&&(re||y===s))return ht(c);if(!c||!(y=za(y)))return c;var Je=ar(c),tn=ar(y);return qs(Je,Vt(Je,tn),wn(Je,tn)+1).join("")},_n.trimEnd=function G_(c,y,re){if((c=_a(c))&&(re||y===s))return c.slice(0,or(c)+1);if(!c||!(y=za(y)))return c;var Je=ar(c);return qs(Je,0,wn(Je,ar(y))+1).join("")},_n.trimStart=function Xy(c,y,re){if((c=_a(c))&&(re||y===s))return c.replace(vt,"");if(!c||!(y=za(y)))return c;var Je=ar(c);return qs(Je,Vt(Je,ar(y))).join("")},_n.truncate=function _p(c,y){var re=30,Je="...";if(ci(y)){var tn="separator"in y?y.separator:tn;re="length"in y?Es(y.length):re,Je="omission"in y?za(y.omission):Je}var Bn=(c=_a(c)).length;if(Br(c)){var cr=ar(c);Bn=cr.length}if(re>=Bn)return c;var Er=re-Rn(Je);if(Er<1)return Je;var Wr=cr?qs(cr,0,Er).join(""):c.slice(0,Er);if(tn===s)return Wr+Je;if(cr&&(Er+=Wr.length-Er),bd(tn)){if(c.slice(Er).search(tn)){var ji,Li=Wr;for(tn.global||(tn=Oi(tn.source,_a(vi.exec(tn))+"g")),tn.lastIndex=0;ji=tn.exec(Li);)var Zi=ji.index;Wr=Wr.slice(0,Zi===s?Er:Zi)}}else if(c.indexOf(za(tn),Er)!=Er){var Eo=Wr.lastIndexOf(tn);Eo>-1&&(Wr=Wr.slice(0,Eo))}return Wr+Je},_n.unescape=function H_(c){return(c=_a(c))&&yn.test(c)?c.replace(br,Rr):c},_n.uniqueId=function Ug(c){var y=++Ae;return _a(c)+y},_n.upperCase=Ig,_n.upperFirst=vp,_n.each=pd,_n.eachRight=md,_n.first=Ff,Om(_n,function(){var c={};return Ea(_n,function(y,re){Gt.call(_n.prototype,re)||(c[re]=y)}),c}(),{chain:!1}),_n.VERSION="4.17.21",Ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){_n[c].placeholder=_n}),Ai(["drop","take"],function(c,y){Fs.prototype[c]=function(re){re=re===s?1:Lo(Es(re),0);var Je=this.__filtered__&&!y?new Fs(this):this.clone();return Je.__filtered__?Je.__takeCount__=Ho(re,Je.__takeCount__):Je.__views__.push({size:Ho(re,ye),type:c+(Je.__dir__<0?"Right":"")}),Je},Fs.prototype[c+"Right"]=function(re){return this.reverse()[c](re).reverse()}}),Ai(["filter","map","takeWhile"],function(c,y){var re=y+1,Je=1==re||3==re;Fs.prototype[c]=function(tn){var Bn=this.clone();return Bn.__iteratees__.push({iteratee:es(tn,3),type:re}),Bn.__filtered__=Bn.__filtered__||Je,Bn}}),Ai(["head","last"],function(c,y){var re="take"+(y?"Right":"");Fs.prototype[c]=function(){return this[re](1).value()[0]}}),Ai(["initial","tail"],function(c,y){var re="drop"+(y?"":"Right");Fs.prototype[c]=function(){return this.__filtered__?new Fs(this):this[re](1)}}),Fs.prototype.compact=function(){return this.filter(Pl)},Fs.prototype.find=function(c){return this.filter(c).head()},Fs.prototype.findLast=function(c){return this.reverse().find(c)},Fs.prototype.invokeMap=Ss(function(c,y){return"function"==typeof c?new Fs(this):this.map(function(re){return Re(re,c,y)})}),Fs.prototype.reject=function(c){return this.filter(O(es(c)))},Fs.prototype.slice=function(c,y){c=Es(c);var re=this;return re.__filtered__&&(c>0||y<0)?new Fs(re):(c<0?re=re.takeRight(-c):c&&(re=re.drop(c)),y!==s&&(re=(y=Es(y))<0?re.dropRight(-y):re.take(y-c)),re)},Fs.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Fs.prototype.toArray=function(){return this.take(ye)},Ea(Fs.prototype,function(c,y){var re=/^(?:filter|find|map|reject)|While$/.test(y),Je=/^(?:head|last)$/.test(y),tn=_n[Je?"take"+("last"==y?"Right":""):y],Bn=Je||/^find/.test(y);tn&&(_n.prototype[y]=function(){var cr=this.__wrapped__,Er=Je?[1]:arguments,Wr=cr instanceof Fs,ji=Er[0],Li=Wr||Qn(cr),Zi=function(Zs){var da=tn.apply(_n,Qt([Zs],Er));return Je&&Eo?da[0]:da};Li&&re&&"function"==typeof ji&&1!=ji.length&&(Wr=Li=!1);var Eo=this.__chain__,as=Bn&&!Eo,Ys=Wr&&!this.__actions__.length;if(!Bn&&Li){cr=Ys?cr:new Fs(this);var $o=c.apply(cr,Er);return $o.__actions__.push({func:fd,args:[Zi],thisArg:s}),new No($o,Eo)}return as&&Ys?c.apply(this,Er):($o=this.thru(Zi),as?Je?$o.value()[0]:$o.value():$o)})}),Ai(["pop","push","shift","sort","splice","unshift"],function(c){var y=$s[c],re=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",Je=/^(?:pop|shift)$/.test(c);_n.prototype[c]=function(){var tn=arguments;if(Je&&!this.__chain__){var Bn=this.value();return y.apply(Qn(Bn)?Bn:[],tn)}return this[re](function(cr){return y.apply(Qn(cr)?cr:[],tn)})}}),Ea(Fs.prototype,function(c,y){var re=_n[y];if(re){var Je=re.name+"";Gt.call(tl,Je)||(tl[Je]=[]),tl[Je].push({name:y,func:re})}}),tl[eu(s,2).name]=[{name:"wrapper",func:s}],Fs.prototype.clone=function Wc(){var c=new Fs(this.__wrapped__);return c.__actions__=ja(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=ja(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=ja(this.__views__),c},Fs.prototype.reverse=function Fl(){if(this.__filtered__){var c=new Fs(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},Fs.prototype.value=function su(){var c=this.__wrapped__.value(),y=this.__dir__,re=Qn(c),Je=y<0,tn=re?c.length:0,Bn=function Ih(c,y,re){for(var Je=-1,tn=re.length;++Je<tn;){var Bn=re[Je],cr=Bn.size;switch(Bn.type){case"drop":c+=cr;break;case"dropRight":y-=cr;break;case"take":y=Ho(y,c+cr);break;case"takeRight":c=Lo(c,y-cr)}}return{start:c,end:y}}(0,tn,this.__views__),cr=Bn.start,Er=Bn.end,Wr=Er-cr,ji=Je?Er:cr-1,Li=this.__iteratees__,Zi=Li.length,Eo=0,Vo=Ho(Wr,this.__takeCount__);if(!re||!Je&&tn==Wr&&Vo==Wr)return Tl(c,this.__actions__);var as=[];e:for(;Wr--&&Eo<Vo;){for(var Ys=-1,$o=c[ji+=y];++Ys<Zi;){var Zs=Li[Ys],ac=Zs.type,kl=(0,Zs.iteratee)($o);if(2==ac)$o=kl;else if(!kl){if(1==ac)continue e;break e}}as[Eo++]=$o}return as},_n.prototype.at=ep,_n.prototype.chain=function tp(){return Jd(this)},_n.prototype.commit=function Kf(){return new No(this.value(),this.__chain__)},_n.prototype.next=function bg(){this.__values__===s&&(this.__values__=Ta(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?s:this.__values__[this.__index__++]}},_n.prototype.plant=function Bu(c){for(var y,re=this;re instanceof gl;){var Je=_c(re);Je.__index__=0,Je.__values__=s,y?tn.__wrapped__=Je:y=Je;var tn=Je;re=re.__wrapped__}return tn.__wrapped__=c,y},_n.prototype.reverse=function Xf(){var c=this.__wrapped__;if(c instanceof Fs){var y=c;return this.__actions__.length&&(y=new Fs(this)),(y=y.reverse()).__actions__.push({func:fd,args:[Hc],thisArg:s}),new No(y,this.__chain__)}return this.thru(Hc)},_n.prototype.toJSON=_n.prototype.valueOf=_n.prototype.value=function Yf(){return Tl(this.__wrapped__,this.__actions__)},_n.prototype.first=_n.prototype.head,dt&&(_n.prototype[dt]=function bm(){return this}),_n}();qo._=Ni,(r=function(){return Ni}.call(qe,w,qe,ln))!==s&&(ln.exports=r)}.call(this)},24434:function(ln,qe,w){"use strict";var r=this&&this.__createBinding||(Object.create?function(d,F,P,G){void 0===G&&(G=P);var N=Object.getOwnPropertyDescriptor(F,P);(!N||("get"in N?!F.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return F[P]}}),Object.defineProperty(d,G,N)}:function(d,F,P,G){void 0===G&&(G=P),d[G]=F[P]}),s=this&&this.__setModuleDefault||(Object.create?function(d,F){Object.defineProperty(d,"default",{enumerable:!0,value:F})}:function(d,F){d.default=F}),v=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var F={};if(null!=d)for(var P in d)"default"!==P&&Object.prototype.hasOwnProperty.call(d,P)&&r(F,d,P);return s(F,d),F};Object.defineProperty(qe,"__esModule",{value:!0}),qe.objectSorter=void 0;const S=v(w(69209)),M=w(91921);qe.objectSorter=d=>{const{sort:F,coerce:P,trim:G}={sort:!0,coerce:!0,trim:!1,...d},N_array="boolean"==typeof F?F:F?.array??!1,N_typedArray="boolean"!=typeof F&&(F?.typedArray??!1),N_object="boolean"==typeof F?F:F?.object??!1,N_set="boolean"==typeof F?F:F?.set??!1,N_map="boolean"==typeof F?F:F?.map??!1,x_boolean="boolean"==typeof P?P:P?.boolean??!1,x_number="boolean"==typeof P?P:P?.number??!1,x_bigint="boolean"==typeof P?P:P?.bigint??!1,x_string="boolean"==typeof P?P:P?.string??!1,x_undefined="boolean"==typeof P?P:P?.undefined??!1,x_null="boolean"==typeof P?P:P?.null??!1,x_symbol="boolean"==typeof P?P:P?.symbol??!1,x_function="boolean"==typeof P?P:P?.function??!1,x_date="boolean"==typeof P?P:P?.date??!1,x_set="boolean"==typeof P?P:P?.set??!1,m_string="boolean"==typeof G?G:G?.string??!1,m_function="boolean"==typeof G?G:G?.function??!1,E={unknown:function(U){return`<:${U.constructor?.name??"unknonw"}>:${"function"==typeof U.toString?U.toString():"unknown"}`}};return E.hashable=S._hashable.bind(E),E.string=m_string?x_string?S._stringTrimCoerce.bind(E):S._stringTrim.bind(E):x_string?S._stringCoerce.bind(E):S._string.bind(E),E.number=x_number?S._numberCoerce.bind(E):S._number.bind(E),E.bigint=x_bigint?S._bigIntCoerce.bind(E):S._bigInt.bind(E),E.boolean=x_boolean?S._booleanCoerce.bind(E):S._boolean.bind(E),E.symbol=x_symbol?S._symbolCoerce.bind(E):S._symbol.bind(E),E.undefined=x_undefined?S._undefinedCoerce.bind(E):S._undefined.bind(E),E.null=x_null?S._nullCoerce.bind(E):S._null.bind(E),E.function=m_function?x_function?S._functionTrimCoerce.bind(E):S._functionTrim.bind(E):x_function?S._functionCoerce.bind(E):S._function.bind(E),E.date=x_date?S._dateCoerce.bind(E):S._date.bind(E),E.array=N_array?S._arraySort.bind(E):S._array.bind(E),E.typedarray=N_typedArray?S._typedArraySort.bind(E):S._typedArray.bind(E),E.set=N_set?x_set?S._setSortCoerce.bind(E):S._setSort.bind(E):x_set?S._setCoerce.bind(E):S._set.bind(E),E.object=N_object?S._objectSort.bind(E):S._object.bind(E),E.map=N_map?S._mapSort.bind(E):S._map.bind(E),function L(ae){return E[(0,M.guessType)(ae)](ae)}}},69209:(ln,qe,w)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0}),qe._mapSort=qe._map=qe._objectSort=qe._object=qe._setCoerce=qe._set=qe._setSort=qe._setSortCoerce=qe._typedArray=qe._typedArraySort=qe._array=qe._arraySort=qe._date=qe._dateCoerce=qe._functionTrim=qe._functionTrimCoerce=qe._function=qe._functionCoerce=qe._null=qe._nullCoerce=qe._undefined=qe._undefinedCoerce=qe._symbol=qe._symbolCoerce=qe._boolean=qe._booleanCoerce=qe._bigInt=qe._bigIntCoerce=qe._number=qe._numberCoerce=qe._stringTrim=qe._stringTrimCoerce=qe._string=qe._stringCoerce=qe._hashable=qe.PREFIX=void 0;const r=w(91921);function we(ye){const Se=this;return"["+ye.map(Be=>Se[(0,r.guessType)(Be)](Be)).sort().toString()+"]"}function k(ye){const Se=this;return"["+ye.map(Be=>Se[(0,r.guessType)(Be)](Be)).toString()+"]"}qe.PREFIX={string:"<:s>",number:"<:n>",bigint:"<:bi>",boolean:"<:b>",symbol:"<:smbl>",undefined:"<:undf>",null:"<:null>",function:"<:func>",array:"",date:"<:date>",set:"<:set>",map:"<:map>"},qe._hashable=function s(ye){return ye.toHashableString()},qe._stringCoerce=function v(ye){return ye},qe._string=function S(ye){return qe.PREFIX.string+":"+ye},qe._stringTrimCoerce=function M(ye){return ye.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},qe._stringTrim=function C(ye){return qe.PREFIX.string+":"+ye.replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},qe._numberCoerce=function d(ye){return ye.toString()},qe._number=function F(ye){return`${qe.PREFIX.number}:${ye}`},qe._bigIntCoerce=function P(ye){return ye.toString()},qe._bigInt=function G(ye){return`${qe.PREFIX.bigint}:${ye.toString()}`},qe._booleanCoerce=function N(ye){return ye?"1":"0"},qe._boolean=function x(ye){return qe.PREFIX.boolean+":"+ye.toString()},qe._symbolCoerce=function m(){return qe.PREFIX.symbol},qe._symbol=function E(ye){return qe.PREFIX.symbol+":"+ye.toString()},qe._undefinedCoerce=function L(){return""},qe._undefined=function ae(){return qe.PREFIX.undefined},qe._nullCoerce=function U(){return""},qe._null=function Z(){return qe.PREFIX.null},qe._functionCoerce=function ne(ye){return ye.name+"=>"+ye.toString()},qe._function=function q(ye){return qe.PREFIX.function+":"+ye.name+"=>"+ye.toString()},qe._functionTrimCoerce=function le(ye){return ye.name+"=>"+ye.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},qe._functionTrim=function z(ye){return qe.PREFIX.function+":"+ye.name+"=>"+ye.toString().replace(/(\s+|\t|\r\n|\n|\r)/gm," ").trim()},qe._dateCoerce=function J(ye){return ye.toISOString()},qe._date=function he(ye){return qe.PREFIX.date+":"+ye.toISOString()},qe._arraySort=we,qe._array=k,qe._typedArraySort=function ue(ye){const Se=this;return"["+Array.prototype.slice.call(ye).map(yt=>Se[(0,r.guessType)(yt)](yt)).sort().toString()+"]"},qe._typedArray=function Ie(ye){const Se=this;return"["+Array.prototype.slice.call(ye).map(yt=>Se[(0,r.guessType)(yt)](yt)).toString()+"]"},qe._setSortCoerce=function ke(ye){return we.call(this,Array.from(ye))},qe._setSort=function Ze(ye){return`${qe.PREFIX.set}:${we.call(this,Array.from(ye))}`},qe._set=function Ce(ye){return`${qe.PREFIX.set}:${k.call(this,Array.from(ye))}`},qe._setCoerce=function Nt(ye){return k.call(this,Array.from(ye))},qe._object=function Kt(ye){const Se=this,Be=Object.keys(ye),yt=[];for(const qt of Be){const Ln=ye[qt],Tt=(0,r.guessType)(Ln);yt.push(qt+":"+Se[Tt](Ln))}return"{"+yt.toString()+"}"},qe._objectSort=function me(ye){const Se=this,Be=Object.keys(ye).sort(),yt=[];for(const qt of Be){const Ln=ye[qt],Tt=(0,r.guessType)(Ln);yt.push(qt+":"+Se[Tt](Ln))}return"{"+yt.toString()+"}"},qe._map=function ee(ye){const Se=this,Be=Array.from(ye),yt=[];for(const qt of Be){const[Ln,Tt]=qt;yt.push([Se[(0,r.guessType)(Ln)](Ln),Se[(0,r.guessType)(Tt)](Tt)])}return"["+yt.join(";")+"]"},qe._mapSort=function fe(ye){const Se=this,Be=Array.from(ye),yt=[];for(const qt of Be){const[Ln,Tt]=qt;yt.push([Se[(0,r.guessType)(Ln)](Ln),Se[(0,r.guessType)(Tt)](Tt)])}return"["+yt.sort().join(";")+"]"}},91921:(ln,qe)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0}),qe.instanceOfHashable=qe.guessType=qe.guessObjectType=qe.TYPE_MAP=void 0,qe.TYPE_MAP={Array:"array",Int8Array:"typedarray",Uint8Array:"typedarray",Uint8ClampedArray:"typedarray",Int16Array:"typedarray",Uint16Array:"typedarray",Int32Array:"typedarray",Uint32Array:"typedarray",Float32Array:"typedarray",Float64Array:"typedarray",BigUint64Array:"typedarray",BigInt64Array:"typedarray",Buffer:"typedarray",Map:"map",Set:"set",Date:"date",String:"string",Number:"number",BigInt:"bigint",Boolean:"boolean",Object:"object"},qe.guessObjectType=v=>null===v?"null":(0,qe.instanceOfHashable)(v)?"hashable":qe.TYPE_MAP[v?.constructor?.name??"unknown"]||"unknown",qe.guessType=v=>{const S=typeof v;return"object"!==S?S:(0,qe.guessObjectType)(v)},qe.instanceOfHashable=v=>"function"==typeof v.toHashableString},92298:(ln,qe,w)=>{var r="function"==typeof Map&&Map.prototype,s=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,v=r&&s&&"function"==typeof s.get?s.get:null,S=r&&Map.prototype.forEach,M="function"==typeof Set&&Set.prototype,C=Object.getOwnPropertyDescriptor&&M?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,d=M&&C&&"function"==typeof C.get?C.get:null,F=M&&Set.prototype.forEach,G="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,x="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,E="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,L=Boolean.prototype.valueOf,ae=Object.prototype.toString,U=Function.prototype.toString,Z=String.prototype.match,ne=String.prototype.slice,q=String.prototype.replace,le=String.prototype.toUpperCase,z=String.prototype.toLowerCase,J=RegExp.prototype.test,he=Array.prototype.concat,we=Array.prototype.join,k=Array.prototype.slice,ue=Math.floor,Ie="function"==typeof BigInt?BigInt.prototype.valueOf:null,ke=Object.getOwnPropertySymbols,Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ce="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Nt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Kt=Object.prototype.propertyIsEnumerable,me=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(mt){return mt.__proto__}:null);function ee(mt,Ut){if(mt===1/0||mt===-1/0||mt!=mt||mt&&mt>-1e3&&mt<1e3||J.call(/e/,Ut))return Ut;var Ne=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof mt){var zt=mt<0?-ue(-mt):ue(mt);if(zt!==mt){var Zt=String(zt),Cn=ne.call(Ut,Zt.length+1);return q.call(Zt,Ne,"$&_")+"."+q.call(q.call(Cn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return q.call(Ut,Ne,"$&_")}var fe=w(42634),ye=fe.custom,Se=b(ye)?ye:null;function Be(mt,Ut,Ne){var zt="double"===(Ne.quoteStyle||Ut)?'"':"'";return zt+mt+zt}function yt(mt){return q.call(String(mt),/"/g,"&quot;")}function qt(mt){return!("[object Array]"!==j(mt)||Nt&&"object"==typeof mt&&Nt in mt)}function Tt(mt){return!("[object RegExp]"!==j(mt)||Nt&&"object"==typeof mt&&Nt in mt)}function b(mt){if(Ce)return mt&&"object"==typeof mt&&mt instanceof Symbol;if("symbol"==typeof mt)return!0;if(!mt||"object"!=typeof mt||!Ze)return!1;try{return Ze.call(mt),!0}catch{}return!1}ln.exports=function mt(Ut,Ne,zt,Zt){var Cn=Ne||{};if(V(Cn,"quoteStyle")&&"single"!==Cn.quoteStyle&&"double"!==Cn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(Cn,"maxStringLength")&&("number"==typeof Cn.maxStringLength?Cn.maxStringLength<0&&Cn.maxStringLength!==1/0:null!==Cn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Zn=!V(Cn,"customInspect")||Cn.customInspect;if("boolean"!=typeof Zn&&"symbol"!==Zn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(Cn,"indent")&&null!==Cn.indent&&"\t"!==Cn.indent&&!(parseInt(Cn.indent,10)===Cn.indent&&Cn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(Cn,"numericSeparator")&&"boolean"!=typeof Cn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var br=Cn.numericSeparator;if(typeof Ut>"u")return"undefined";if(null===Ut)return"null";if("boolean"==typeof Ut)return Ut?"true":"false";if("string"==typeof Ut)return ct(Ut,Cn);if("number"==typeof Ut){if(0===Ut)return 1/0/Ut>0?"0":"-0";var Mr=String(Ut);return br?ee(Ut,Mr):Mr}if("bigint"==typeof Ut){var yn=String(Ut)+"n";return br?ee(Ut,yn):yn}var St=typeof Cn.depth>"u"?5:Cn.depth;if(typeof zt>"u"&&(zt=0),zt>=St&&St>0&&"object"==typeof Ut)return qt(Ut)?"[Array]":"[Object]";var kt=function Bt(mt,Ut){var Ne;if("\t"===mt.indent)Ne="\t";else{if(!("number"==typeof mt.indent&&mt.indent>0))return null;Ne=we.call(Array(mt.indent+1)," ")}return{base:Ne,prev:we.call(Array(Ut+1),Ne)}}(Cn,zt);if(typeof Zt>"u")Zt=[];else if(I(Zt,Ut)>=0)return"[Circular]";function Mt(to,ro,wi){if(ro&&(Zt=k.call(Zt)).push(ro),wi){var _o={depth:Cn.depth};return V(Cn,"quoteStyle")&&(_o.quoteStyle=Cn.quoteStyle),mt(to,_o,zt+1,Zt)}return mt(to,Cn,zt+1,Zt)}if("function"==typeof Ut&&!Tt(Ut)){var bt=function h(mt){if(mt.name)return mt.name;var Ut=Z.call(U.call(mt),/^function\s*([\w$]+)/);return Ut?Ut[1]:null}(Ut),sn=st(Ut,Mt);return"[Function"+(bt?": "+bt:" (anonymous)")+"]"+(sn.length>0?" { "+we.call(sn,", ")+" }":"")}if(b(Ut)){var Yt=Ce?q.call(String(Ut),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ze.call(Ut);return"object"!=typeof Ut||Ce?Yt:en(Yt)}if(function Le(mt){return!(!mt||"object"!=typeof mt)&&(typeof HTMLElement<"u"&&mt instanceof HTMLElement||"string"==typeof mt.nodeName&&"function"==typeof mt.getAttribute)}(Ut)){for(var Qe="<"+z.call(String(Ut.nodeName)),Lt=Ut.attributes||[],Mn=0;Mn<Lt.length;Mn++)Qe+=" "+Lt[Mn].name+"="+Be(yt(Lt[Mn].value),"double",Cn);return Qe+=">",Ut.childNodes&&Ut.childNodes.length&&(Qe+="..."),Qe+"</"+z.call(String(Ut.nodeName))+">"}if(qt(Ut)){if(0===Ut.length)return"[]";var vt=st(Ut,Mt);return kt&&!function it(mt){for(var Ut=0;Ut<mt.length;Ut++)if(I(mt[Ut],"\n")>=0)return!1;return!0}(vt)?"["+pn(vt,kt)+"]":"[ "+we.call(vt,", ")+" ]"}if(function We(mt){return!("[object Error]"!==j(mt)||Nt&&"object"==typeof mt&&Nt in mt)}(Ut)){var ze=st(Ut,Mt);return"cause"in Error.prototype||!("cause"in Ut)||Kt.call(Ut,"cause")?0===ze.length?"["+String(Ut)+"]":"{ ["+String(Ut)+"] "+we.call(ze,", ")+" }":"{ ["+String(Ut)+"] "+we.call(he.call("[cause]: "+Mt(Ut.cause),ze),", ")+" }"}if("object"==typeof Ut&&Zn){if(Se&&"function"==typeof Ut[Se]&&fe)return fe(Ut,{depth:St-zt});if("symbol"!==Zn&&"function"==typeof Ut.inspect)return Ut.inspect()}if(function xe(mt){if(!v||!mt||"object"!=typeof mt)return!1;try{v.call(mt);try{d.call(mt)}catch{return!0}return mt instanceof Map}catch{}return!1}(Ut)){var nn=[];return S&&S.call(Ut,function(to,ro){nn.push(Mt(ro,Ut,!0)+" => "+Mt(to,Ut))}),Pt("Map",v.call(Ut),nn,kt)}if(function K(mt){if(!d||!mt||"object"!=typeof mt)return!1;try{d.call(mt);try{v.call(mt)}catch{return!0}return mt instanceof Set}catch{}return!1}(Ut)){var Ye=[];return F&&F.call(Ut,function(to){Ye.push(Mt(to,Ut))}),Pt("Set",d.call(Ut),Ye,kt)}if(function ie(mt){if(!G||!mt||"object"!=typeof mt)return!1;try{G.call(mt,G);try{x.call(mt,x)}catch{return!0}return mt instanceof WeakMap}catch{}return!1}(Ut))return Oe("WeakMap");if(function se(mt){if(!x||!mt||"object"!=typeof mt)return!1;try{x.call(mt,x);try{G.call(mt,G)}catch{return!0}return mt instanceof WeakSet}catch{}return!1}(Ut))return Oe("WeakSet");if(function D(mt){if(!E||!mt||"object"!=typeof mt)return!1;try{return E.call(mt),!0}catch{}return!1}(Ut))return Oe("WeakRef");if(function wt(mt){return!("[object Number]"!==j(mt)||Nt&&"object"==typeof mt&&Nt in mt)}(Ut))return en(Mt(Number(Ut)));if(function R(mt){if(!mt||"object"!=typeof mt||!Ie)return!1;try{return Ie.call(mt),!0}catch{}return!1}(Ut))return en(Mt(Ie.call(Ut)));if(function Y(mt){return!("[object Boolean]"!==j(mt)||Nt&&"object"==typeof mt&&Nt in mt)}(Ut))return en(L.call(Ut));if(function Ve(mt){return!("[object String]"!==j(mt)||Nt&&"object"==typeof mt&&Nt in mt)}(Ut))return en(Mt(String(Ut)));if(typeof window<"u"&&Ut===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ut===globalThis||typeof global<"u"&&Ut===global)return"{ [object globalThis] }";if(!function Ln(mt){return!("[object Date]"!==j(mt)||Nt&&"object"==typeof mt&&Nt in mt)}(Ut)&&!Tt(Ut)){var At=st(Ut,Mt),Pn=me?me(Ut)===Object.prototype:Ut instanceof Object||Ut.constructor===Object,Yn=Ut instanceof Object?"":"null prototype",gr=!Pn&&Nt&&Object(Ut)===Ut&&Nt in Ut?ne.call(j(Ut),8,-1):Yn?"Object":"",vi=(Pn||"function"!=typeof Ut.constructor?"":Ut.constructor.name?Ut.constructor.name+" ":"")+(gr||Yn?"["+we.call(he.call([],gr||[],Yn||[]),": ")+"] ":"");return 0===At.length?vi+"{}":kt?vi+"{"+pn(At,kt)+"}":vi+"{ "+we.call(At,", ")+" }"}return String(Ut)};var T=Object.prototype.hasOwnProperty||function(mt){return mt in this};function V(mt,Ut){return T.call(mt,Ut)}function j(mt){return ae.call(mt)}function I(mt,Ut){if(mt.indexOf)return mt.indexOf(Ut);for(var Ne=0,zt=mt.length;Ne<zt;Ne++)if(mt[Ne]===Ut)return Ne;return-1}function ct(mt,Ut){if(mt.length>Ut.maxStringLength){var Ne=mt.length-Ut.maxStringLength,zt="... "+Ne+" more character"+(Ne>1?"s":"");return ct(ne.call(mt,0,Ut.maxStringLength),Ut)+zt}return Be(q.call(q.call(mt,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ut),"single",Ut)}function ut(mt){var Ut=mt.charCodeAt(0),Ne={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ut];return Ne?"\\"+Ne:"\\x"+(Ut<16?"0":"")+le.call(Ut.toString(16))}function en(mt){return"Object("+mt+")"}function Oe(mt){return mt+" { ? }"}function Pt(mt,Ut,Ne,zt){return mt+" ("+Ut+") {"+(zt?pn(Ne,zt):we.call(Ne,", "))+"}"}function pn(mt,Ut){if(0===mt.length)return"";var Ne="\n"+Ut.prev+Ut.base;return Ne+we.call(mt,","+Ne)+"\n"+Ut.prev}function st(mt,Ut){var Ne=qt(mt),zt=[];if(Ne){zt.length=mt.length;for(var Zt=0;Zt<mt.length;Zt++)zt[Zt]=V(mt,Zt)?Ut(mt[Zt],mt):""}var Zn,Cn="function"==typeof ke?ke(mt):[];if(Ce){Zn={};for(var br=0;br<Cn.length;br++)Zn["$"+Cn[br]]=Cn[br]}for(var Mr in mt)V(mt,Mr)&&(Ne&&String(Number(Mr))===Mr&&Mr<mt.length||Ce&&Zn["$"+Mr]instanceof Symbol||(J.call(/[^\w$]/,Mr)?zt.push(Ut(Mr,mt)+": "+Ut(mt[Mr],mt)):zt.push(Mr+": "+Ut(mt[Mr],mt))));if("function"==typeof ke)for(var yn=0;yn<Cn.length;yn++)Kt.call(mt,Cn[yn])&&zt.push("["+Ut(Cn[yn])+"]: "+Ut(mt[Cn[yn]],mt));return zt}},91677:ln=>{"use strict";var qe=Object.prototype.hasOwnProperty,w="~";function r(){}function s(C,d,F){this.fn=C,this.context=d,this.once=F||!1}function v(C,d,F,P,G){if("function"!=typeof F)throw new TypeError("The listener must be a function");var N=new s(F,P||C,G),x=w?w+d:d;return C._events[x]?C._events[x].fn?C._events[x]=[C._events[x],N]:C._events[x].push(N):(C._events[x]=N,C._eventsCount++),C}function S(C,d){0==--C._eventsCount?C._events=new r:delete C._events[d]}function M(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(w=!1)),M.prototype.eventNames=function(){var F,P,d=[];if(0===this._eventsCount)return d;for(P in F=this._events)qe.call(F,P)&&d.push(w?P.slice(1):P);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(F)):d},M.prototype.listeners=function(d){var P=this._events[w?w+d:d];if(!P)return[];if(P.fn)return[P.fn];for(var G=0,N=P.length,x=new Array(N);G<N;G++)x[G]=P[G].fn;return x},M.prototype.listenerCount=function(d){var P=this._events[w?w+d:d];return P?P.fn?1:P.length:0},M.prototype.emit=function(d,F,P,G,N,x){var m=w?w+d:d;if(!this._events[m])return!1;var ae,U,E=this._events[m],L=arguments.length;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),L){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,F),!0;case 3:return E.fn.call(E.context,F,P),!0;case 4:return E.fn.call(E.context,F,P,G),!0;case 5:return E.fn.call(E.context,F,P,G,N),!0;case 6:return E.fn.call(E.context,F,P,G,N,x),!0}for(U=1,ae=new Array(L-1);U<L;U++)ae[U-1]=arguments[U];E.fn.apply(E.context,ae)}else{var ne,Z=E.length;for(U=0;U<Z;U++)switch(E[U].once&&this.removeListener(d,E[U].fn,void 0,!0),L){case 1:E[U].fn.call(E[U].context);break;case 2:E[U].fn.call(E[U].context,F);break;case 3:E[U].fn.call(E[U].context,F,P);break;case 4:E[U].fn.call(E[U].context,F,P,G);break;default:if(!ae)for(ne=1,ae=new Array(L-1);ne<L;ne++)ae[ne-1]=arguments[ne];E[U].fn.apply(E[U].context,ae)}}return!0},M.prototype.on=function(d,F,P){return v(this,d,F,P,!1)},M.prototype.once=function(d,F,P){return v(this,d,F,P,!0)},M.prototype.removeListener=function(d,F,P,G){var N=w?w+d:d;if(!this._events[N])return this;if(!F)return S(this,N),this;var x=this._events[N];if(x.fn)x.fn===F&&(!G||x.once)&&(!P||x.context===P)&&S(this,N);else{for(var m=0,E=[],L=x.length;m<L;m++)(x[m].fn!==F||G&&!x[m].once||P&&x[m].context!==P)&&E.push(x[m]);E.length?this._events[N]=1===E.length?E[0]:E:S(this,N)}return this},M.prototype.removeAllListeners=function(d){var F;return d?this._events[F=w?w+d:d]&&S(this,F):(this._events=new r,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=w,M.EventEmitter=M,ln.exports=M},86179:(ln,qe,w)=>{ln.exports=w(80365)},80365:(ln,qe,w)=>{var r=w(33555);qe.operation=function(s){var v=qe.timeouts(s);return new r(v,{forever:s&&(s.forever||s.retries===1/0),unref:s&&s.unref,maxRetryTime:s&&s.maxRetryTime})},qe.timeouts=function(s){if(s instanceof Array)return[].concat(s);var v={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var S in s)v[S]=s[S];if(v.minTimeout>v.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var M=[],C=0;C<v.retries;C++)M.push(this.createTimeout(C,v));return s&&s.forever&&!M.length&&M.push(this.createTimeout(C,v)),M.sort(function(d,F){return d-F}),M},qe.createTimeout=function(s,v){var S=v.randomize?Math.random()+1:1,M=Math.round(S*Math.max(v.minTimeout,1)*Math.pow(v.factor,s));return Math.min(M,v.maxTimeout)},qe.wrap=function(s,v,S){if(v instanceof Array&&(S=v,v=null),!S)for(var M in S=[],s)"function"==typeof s[M]&&S.push(M);for(var C=0;C<S.length;C++){var d=S[C];s[d]=function(G){var N=qe.operation(v),x=Array.prototype.slice.call(arguments,1),m=x.pop();x.push(function(E){N.retry(E)||(E&&(arguments[0]=N.mainError()),m.apply(this,arguments))}),N.attempt(function(){G.apply(s,x)})}.bind(s,s[d]),s[d].options=v}}},33555:ln=>{function qe(w,r){"boolean"==typeof r&&(r={forever:r}),this._originalTimeouts=JSON.parse(JSON.stringify(w)),this._timeouts=w,this._options=r||{},this._maxRetryTime=r&&r.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}ln.exports=qe,qe.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},qe.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},qe.prototype.retry=function(w){if(this._timeout&&clearTimeout(this._timeout),!w)return!1;var r=(new Date).getTime();if(w&&r-this._operationStart>=this._maxRetryTime)return this._errors.push(w),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(w);var s=this._timeouts.shift();if(void 0===s){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1)}var v=this;return this._timer=setTimeout(function(){v._attempts++,v._operationTimeoutCb&&(v._timeout=setTimeout(function(){v._operationTimeoutCb(v._attempts)},v._operationTimeout),v._options.unref&&v._timeout.unref()),v._fn(v._attempts)},s),this._options.unref&&this._timer.unref(),!0},qe.prototype.attempt=function(w,r){this._fn=w,r&&(r.timeout&&(this._operationTimeout=r.timeout),r.cb&&(this._operationTimeoutCb=r.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},qe.prototype.try=function(w){console.log("Using RetryOperation.try() is deprecated"),this.attempt(w)},qe.prototype.start=function(w){console.log("Using RetryOperation.start() is deprecated"),this.attempt(w)},qe.prototype.start=qe.prototype.try,qe.prototype.errors=function(){return this._errors},qe.prototype.attempts=function(){return this._attempts},qe.prototype.mainError=function(){if(0===this._errors.length)return null;for(var w={},r=null,s=0,v=0;v<this._errors.length;v++){var S=this._errors[v],M=S.message,C=(w[M]||0)+1;w[M]=C,C>=s&&(r=S,s=C)}return r}},5442:function(ln,qe){var w,s;w=function v(){"use strict";var S=typeof self<"u"?self:typeof window<"u"?window:void 0!==S?S:{},M=!S.document&&!!S.postMessage,C=S.IS_PAPA_WORKER||!1,d={},F=0,P={parse:function(we,k){var ue=(k=k||{}).dynamicTyping||!1;if(he(ue)&&(k.dynamicTypingFunction=ue,ue={}),k.dynamicTyping=ue,k.transform=!!he(k.transform)&&k.transform,k.worker&&P.WORKERS_SUPPORTED){var Ie=function(){if(!P.WORKERS_SUPPORTED)return!1;var Nt,Kt,Ze=(Nt=S.URL||S.webkitURL||null,Kt=v.toString(),P.BLOB_URL||(P.BLOB_URL=Nt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Kt,")();"],{type:"text/javascript"})))),Ce=new S.Worker(Ze);return Ce.onmessage=ne,Ce.id=F++,d[Ce.id]=Ce}();return Ie.userStep=k.step,Ie.userChunk=k.chunk,Ie.userComplete=k.complete,Ie.userError=k.error,k.step=he(k.step),k.chunk=he(k.chunk),k.complete=he(k.complete),k.error=he(k.error),delete k.worker,void Ie.postMessage({input:we,config:k,workerId:Ie.id})}var Ze,ke=null;return"string"==typeof we?(we=65279===(Ze=we).charCodeAt(0)?Ze.slice(1):Ze,ke=k.download?new x(k):new E(k)):!0===we.readable&&he(we.read)&&he(we.on)?ke=new L(k):(S.File&&we instanceof File||we instanceof Object)&&(ke=new m(k)),ke.stream(we)},unparse:function(we,k){var ue=!1,Ie=!0,ke=",",Ze="\r\n",Ce='"',Nt=Ce+Ce,Kt=!1,me=null,ee=!1;!function(){if("object"==typeof k){if("string"!=typeof k.delimiter||P.BAD_DELIMITERS.filter(function(Be){return-1!==k.delimiter.indexOf(Be)}).length||(ke=k.delimiter),("boolean"==typeof k.quotes||"function"==typeof k.quotes||Array.isArray(k.quotes))&&(ue=k.quotes),"boolean"!=typeof k.skipEmptyLines&&"string"!=typeof k.skipEmptyLines||(Kt=k.skipEmptyLines),"string"==typeof k.newline&&(Ze=k.newline),"string"==typeof k.quoteChar&&(Ce=k.quoteChar),"boolean"==typeof k.header&&(Ie=k.header),Array.isArray(k.columns)){if(0===k.columns.length)throw new Error("Option columns is empty");me=k.columns}void 0!==k.escapeChar&&(Nt=k.escapeChar+Ce),("boolean"==typeof k.escapeFormulae||k.escapeFormulae instanceof RegExp)&&(ee=k.escapeFormulae instanceof RegExp?k.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var fe=new RegExp(U(Ce),"g");if("string"==typeof we&&(we=JSON.parse(we)),Array.isArray(we)){if(!we.length||Array.isArray(we[0]))return ye(null,we,Kt);if("object"==typeof we[0])return ye(me||Object.keys(we[0]),we,Kt)}else if("object"==typeof we)return"string"==typeof we.data&&(we.data=JSON.parse(we.data)),Array.isArray(we.data)&&(we.fields||(we.fields=we.meta&&we.meta.fields||me),we.fields||(we.fields=Array.isArray(we.data[0])?we.fields:"object"==typeof we.data[0]?Object.keys(we.data[0]):[]),Array.isArray(we.data[0])||"object"==typeof we.data[0]||(we.data=[we.data])),ye(we.fields||[],we.data||[],Kt);throw new Error("Unable to serialize unrecognized input");function ye(Be,yt,qt){var Ln="";"string"==typeof Be&&(Be=JSON.parse(Be)),"string"==typeof yt&&(yt=JSON.parse(yt));var Tt=Array.isArray(Be)&&0<Be.length,We=!Array.isArray(yt[0]);if(Tt&&Ie){for(var Ve=0;Ve<Be.length;Ve++)0<Ve&&(Ln+=ke),Ln+=Se(Be[Ve],Ve);0<yt.length&&(Ln+=Ze)}for(var wt=0;wt<yt.length;wt++){var Y=Tt?Be.length:yt[wt].length,b=!1,R=Tt?0===Object.keys(yt[wt]).length:0===yt[wt].length;if(qt&&!Tt&&(b="greedy"===qt?""===yt[wt].join("").trim():1===yt[wt].length&&0===yt[wt][0].length),"greedy"===qt&&Tt){for(var T=[],V=0;V<Y;V++)T.push(yt[wt][We?Be[V]:V]);b=""===T.join("").trim()}if(!b){for(var h=0;h<Y;h++)0<h&&!R&&(Ln+=ke),Ln+=Se(yt[wt][Tt&&We?Be[h]:h],h);wt<yt.length-1&&(!qt||0<Y&&!R)&&(Ln+=Ze)}}return Ln}function Se(Be,yt){if(null==Be)return"";if(Be.constructor===Date)return JSON.stringify(Be).slice(1,25);var qt=!1;ee&&"string"==typeof Be&&ee.test(Be)&&(Be="'"+Be,qt=!0);var Ln=Be.toString().replace(fe,Nt);return(qt=qt||!0===ue||"function"==typeof ue&&ue(Be,yt)||Array.isArray(ue)&&ue[yt]||function(Tt,We){for(var Ve=0;Ve<We.length;Ve++)if(-1<Tt.indexOf(We[Ve]))return!0;return!1}(Ln,P.BAD_DELIMITERS)||-1<Ln.indexOf(ke)||" "===Ln.charAt(0)||" "===Ln.charAt(Ln.length-1))?Ce+Ln+Ce:Ln}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(P.BAD_DELIMITERS=["\r","\n",'"',P.BYTE_ORDER_MARK],P.WORKERS_SUPPORTED=!M&&!!S.Worker,P.NODE_STREAM_INPUT=1,P.LocalChunkSize=10485760,P.RemoteChunkSize=5242880,P.DefaultDelimiter=",",P.Parser=Z,P.ParserHandle=ae,P.NetworkStreamer=x,P.FileStreamer=m,P.StringStreamer=E,P.ReadableStreamStreamer=L,S.jQuery){var G=S.jQuery;G.fn.parse=function(we){var k=we.config||{},ue=[];return this.each(function(Ze){if("INPUT"!==G(this).prop("tagName").toUpperCase()||"file"!==G(this).attr("type").toLowerCase()||!S.FileReader||!this.files||0===this.files.length)return!0;for(var Ce=0;Ce<this.files.length;Ce++)ue.push({file:this.files[Ce],inputElem:this,instanceConfig:G.extend({},k)})}),Ie(),this;function Ie(){if(0!==ue.length){var Ce,Nt,Kt,me=ue[0];if(he(we.before)){var ee=we.before(me.file,me.inputElem);if("object"==typeof ee){if("abort"===ee.action)return"AbortError",Ce=me.file,Nt=me.inputElem,Kt=ee.reason,void(he(we.error)&&we.error({name:"AbortError"},Ce,Nt,Kt));if("skip"===ee.action)return void ke();"object"==typeof ee.config&&(me.instanceConfig=G.extend(me.instanceConfig,ee.config))}else if("skip"===ee)return void ke()}var fe=me.instanceConfig.complete;me.instanceConfig.complete=function(ye){he(fe)&&fe(ye,me.file,me.inputElem),ke()},P.parse(me.file,me.instanceConfig)}else he(we.complete)&&we.complete()}function ke(){ue.splice(0,1),Ie()}}}function N(we){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(k){var ue=z(k);ue.chunkSize=parseInt(ue.chunkSize),k.step||k.chunk||(ue.chunkSize=null),this._handle=new ae(ue),(this._handle.streamer=this)._config=ue}.call(this,we),this.parseChunk=function(k,ue){if(this.isFirstChunk&&he(this._config.beforeFirstChunk)){var Ie=this._config.beforeFirstChunk(k);void 0!==Ie&&(k=Ie)}this.isFirstChunk=!1,this._halted=!1;var ke=this._partialLine+k;this._partialLine="";var Ze=this._handle.parse(ke,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ce=Ze.meta.cursor;this._finished||(this._partialLine=ke.substring(Ce-this._baseIndex),this._baseIndex=Ce),Ze&&Ze.data&&(this._rowCount+=Ze.data.length);var Nt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(C)S.postMessage({results:Ze,workerId:P.WORKER_ID,finished:Nt});else if(he(this._config.chunk)&&!ue){if(this._config.chunk(Ze,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Ze=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ze.data),this._completeResults.errors=this._completeResults.errors.concat(Ze.errors),this._completeResults.meta=Ze.meta),this._completed||!Nt||!he(this._config.complete)||Ze&&Ze.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Nt||Ze&&Ze.meta.paused||this._nextChunk(),Ze}this._halted=!0},this._sendError=function(k){he(this._config.error)?this._config.error(k):C&&this._config.error&&S.postMessage({workerId:P.WORKER_ID,error:k,finished:!1})}}function x(we){var k;(we=we||{}).chunkSize||(we.chunkSize=P.RemoteChunkSize),N.call(this,we),this._nextChunk=M?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(ue){this._input=ue,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),M||(k.onload=J(this._chunkLoaded,this),k.onerror=J(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!M),this._config.downloadRequestHeaders){var ue=this._config.downloadRequestHeaders;for(var Ie in ue)k.setRequestHeader(Ie,ue[Ie])}this._config.chunkSize&&k.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{k.send(this._config.downloadRequestBody)}catch(Ze){this._chunkError(Ze.message)}M&&0===k.status&&this._chunkError()}},this._chunkLoaded=function(){var Ie;4===k.readyState&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(Ie=k.getResponseHeader("Content-Range"))?-1:parseInt(Ie.substring(Ie.lastIndexOf("/")+1))),this.parseChunk(k.responseText)))},this._chunkError=function(ue){this._sendError(new Error(k.statusText||ue))}}function m(we){var k,ue;(we=we||{}).chunkSize||(we.chunkSize=P.LocalChunkSize),N.call(this,we);var Ie=typeof FileReader<"u";this.stream=function(ke){this._input=ke,ue=ke.slice||ke.webkitSlice||ke.mozSlice,Ie?((k=new FileReader).onload=J(this._chunkLoaded,this),k.onerror=J(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ke=this._input;if(this._config.chunkSize){var Ze=Math.min(this._start+this._config.chunkSize,this._input.size);ke=ue.call(ke,this._start,Ze)}var Ce=k.readAsText(ke,this._config.encoding);Ie||this._chunkLoaded({target:{result:Ce}})},this._chunkLoaded=function(ke){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ke.target.result)},this._chunkError=function(){this._sendError(k.error)}}function E(we){var k;N.call(this,we=we||{}),this.stream=function(ue){return k=ue,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var ue,Ie=this._config.chunkSize;return Ie?(ue=k.substring(0,Ie),k=k.substring(Ie)):(ue=k,k=""),this._finished=!k,this.parseChunk(ue)}}}function L(we){N.call(this,we=we||{});var k=[],ue=!0,Ie=!1;this.pause=function(){N.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){N.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ke){this._input=ke,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Ie&&1===k.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):ue=!0},this._streamData=J(function(ke){try{k.push("string"==typeof ke?ke:ke.toString(this._config.encoding)),ue&&(ue=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(Ze){this._streamError(Ze)}},this),this._streamError=J(function(ke){this._streamCleanUp(),this._sendError(ke)},this),this._streamEnd=J(function(){this._streamCleanUp(),Ie=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ae(we){var k,ue,Ie,ke=Math.pow(2,53),Ze=-ke,Ce=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Nt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Kt=this,me=0,ee=0,fe=!1,ye=!1,Se=[],Be={data:[],errors:[],meta:{}};if(he(we.step)){var yt=we.step;we.step=function(wt){if(Be=wt,Tt())Ln();else{if(Ln(),0===Be.data.length)return;me+=wt.data.length,we.preview&&me>we.preview?ue.abort():(Be.data=Be.data[0],yt(Be,Kt))}}}function qt(wt){return"greedy"===we.skipEmptyLines?""===wt.join("").trim():1===wt.length&&0===wt[0].length}function Ln(){return Be&&Ie&&(Ve("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+P.DefaultDelimiter+"'"),Ie=!1),we.skipEmptyLines&&(Be.data=Be.data.filter(function(wt){return!qt(wt)})),Tt()&&function(){if(Be)if(Array.isArray(Be.data[0])){for(var Y=0;Tt()&&Y<Be.data.length;Y++)Be.data[Y].forEach(wt);Be.data.splice(0,1)}else Be.data.forEach(wt);function wt(b,R){he(we.transformHeader)&&(b=we.transformHeader(b,R)),Se.push(b)}}(),function(){if(!Be||!we.header&&!we.dynamicTyping&&!we.transform)return Be;function wt(b,R){var T,V=we.header?{}:[];for(T=0;T<b.length;T++){var j=T,h=b[T];we.header&&(j=T>=Se.length?"__parsed_extra":Se[T]),we.transform&&(h=we.transform(h,j)),h=We(j,h),"__parsed_extra"===j?(V[j]=V[j]||[],V[j].push(h)):V[j]=h}return we.header&&(T>Se.length?Ve("FieldMismatch","TooManyFields","Too many fields: expected "+Se.length+" fields but parsed "+T,ee+R):T<Se.length&&Ve("FieldMismatch","TooFewFields","Too few fields: expected "+Se.length+" fields but parsed "+T,ee+R)),V}var Y=1;return!Be.data.length||Array.isArray(Be.data[0])?(Be.data=Be.data.map(wt),Y=Be.data.length):Be.data=wt(Be.data,0),we.header&&Be.meta&&(Be.meta.fields=Se),ee+=Y,Be}()}function Tt(){return we.header&&0===Se.length}function We(wt,Y){return b=wt,we.dynamicTypingFunction&&void 0===we.dynamicTyping[b]&&(we.dynamicTyping[b]=we.dynamicTypingFunction(b)),!0===(we.dynamicTyping[b]||we.dynamicTyping)?"true"===Y||"TRUE"===Y||"false"!==Y&&"FALSE"!==Y&&(function(R){if(Ce.test(R)){var T=parseFloat(R);if(Ze<T&&T<ke)return!0}return!1}(Y)?parseFloat(Y):Nt.test(Y)?new Date(Y):""===Y?null:Y):Y;var b}function Ve(wt,Y,b,R){var T={type:wt,code:Y,message:b};void 0!==R&&(T.row=R),Be.errors.push(T)}this.parse=function(wt,Y,b){if(we.newline||(we.newline=function(j,h){j=j.substring(0,1048576);var I=new RegExp(U(h)+"([^]*?)"+U(h),"gm"),xe=(j=j.replace(I,"")).split("\r"),ie=j.split("\n");if(1===xe.length||1<ie.length&&ie[0].length<xe[0].length)return"\n";for(var K=0,se=0;se<xe.length;se++)"\n"===xe[se][0]&&K++;return K>=xe.length/2?"\r\n":"\r"}(wt,we.quoteChar||'"')),Ie=!1,we.delimiter)he(we.delimiter)&&(we.delimiter=we.delimiter(wt),Be.meta.delimiter=we.delimiter);else{var T=function(j,h,I,xe,ie){var D,K,se,Le;ie=ie||[",","\t","|",";",P.RECORD_SEP,P.UNIT_SEP];for(var ct=0;ct<ie.length;ct++){var ut=ie[ct],en=0,Oe=0,Pt=0;se=void 0;for(var it=new Z({comments:xe,delimiter:ut,newline:h,preview:10}).parse(j),Bt=0;Bt<it.data.length;Bt++)if(I&&qt(it.data[Bt]))Pt++;else{var pn=it.data[Bt].length;Oe+=pn,void 0!==se?0<pn&&(en+=Math.abs(pn-se),se=pn):se=pn}0<it.data.length&&(Oe/=it.data.length-Pt),(void 0===K||en<=K)&&(void 0===Le||Le<Oe)&&1.99<Oe&&(K=en,D=ut,Le=Oe)}return{successful:!!(we.delimiter=D),bestDelimiter:D}}(wt,we.newline,we.skipEmptyLines,we.comments,we.delimitersToGuess);T.successful?we.delimiter=T.bestDelimiter:(Ie=!0,we.delimiter=P.DefaultDelimiter),Be.meta.delimiter=we.delimiter}var V=z(we);return we.preview&&we.header&&V.preview++,k=wt,ue=new Z(V),Be=ue.parse(k,Y,b),Ln(),fe?{meta:{paused:!0}}:Be||{meta:{paused:!1}}},this.paused=function(){return fe},this.pause=function(){fe=!0,ue.abort(),k=he(we.chunk)?"":k.substring(ue.getCharIndex())},this.resume=function(){Kt.streamer._halted?(fe=!1,Kt.streamer.parseChunk(k,!0)):setTimeout(Kt.resume,3)},this.aborted=function(){return ye},this.abort=function(){ye=!0,ue.abort(),Be.meta.aborted=!0,he(we.complete)&&we.complete(Be),k=""}}function U(we){return we.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z(we){var k,ue=(we=we||{}).delimiter,Ie=we.newline,ke=we.comments,Ze=we.step,Ce=we.preview,Nt=we.fastMode,Kt=k=null==we.quoteChar?'"':we.quoteChar;if(void 0!==we.escapeChar&&(Kt=we.escapeChar),("string"!=typeof ue||-1<P.BAD_DELIMITERS.indexOf(ue))&&(ue=","),ke===ue)throw new Error("Comment character same as delimiter");!0===ke?ke="#":("string"!=typeof ke||-1<P.BAD_DELIMITERS.indexOf(ke))&&(ke=!1),"\n"!==Ie&&"\r"!==Ie&&"\r\n"!==Ie&&(Ie="\n");var me=0,ee=!1;this.parse=function(fe,ye,Se){if("string"!=typeof fe)throw new Error("Input must be a string");var Be=fe.length,yt=ue.length,qt=Ie.length,Ln=ke.length,Tt=he(Ze),We=[],Ve=[],wt=[],Y=me=0;if(!fe)return st();if(we.header&&!ye){var b=fe.split(Ie)[0].split(ue),R=[],T={},V=!1;for(var j in b){var h=b[j];he(we.transformHeader)&&(h=we.transformHeader(h,j));var I=h,xe=T[h]||0;for(0<xe&&(V=!0,I=h+"_"+xe),T[h]=xe+1;R.includes(I);)I=I+"_"+xe;R.push(I)}if(V){var ie=fe.split(Ie);ie[0]=R.join(ue),fe=ie.join(Ie)}}if(Nt||!1!==Nt&&-1===fe.indexOf(k)){for(var D=fe.split(Ie),K=0;K<D.length;K++){if(me+=(wt=D[K]).length,K!==D.length-1)me+=Ie.length;else if(Se)return st();if(!ke||wt.substring(0,Ln)!==ke){if(Tt){if(We=[],Pt(wt.split(ue)),mt(),ee)return st()}else Pt(wt.split(ue));if(Ce&&Ce<=K)return We=We.slice(0,Ce),st(!0)}}return st()}for(var se=fe.indexOf(ue,me),Le=fe.indexOf(Ie,me),ct=new RegExp(U(Kt)+U(k),"g"),ut=fe.indexOf(k,me);;)if(fe[me]!==k)if(ke&&0===wt.length&&fe.substring(me,me+Ln)===ke){if(-1===Le)return st();Le=fe.indexOf(Ie,me=Le+qt),se=fe.indexOf(ue,me)}else if(-1!==se&&(se<Le||-1===Le))wt.push(fe.substring(me,se)),se=fe.indexOf(ue,me=se+yt);else{if(-1===Le)break;if(wt.push(fe.substring(me,Le)),pn(Le+qt),Tt&&(mt(),ee))return st();if(Ce&&We.length>=Ce)return st(!0)}else for(ut=me,me++;;){if(-1===(ut=fe.indexOf(k,ut+1)))return Se||Ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:We.length,index:me}),Bt();if(ut===Be-1)return Bt(fe.substring(me,ut).replace(ct,k));if(k!==Kt||fe[ut+1]!==Kt){if(k===Kt||0===ut||fe[ut-1]!==Kt){-1!==se&&se<ut+1&&(se=fe.indexOf(ue,ut+1)),-1!==Le&&Le<ut+1&&(Le=fe.indexOf(Ie,ut+1));var en=it(-1===Le?se:Math.min(se,Le));if(fe.substr(ut+1+en,yt)===ue){wt.push(fe.substring(me,ut).replace(ct,k)),fe[me=ut+1+en+yt]!==k&&(ut=fe.indexOf(k,me)),se=fe.indexOf(ue,me),Le=fe.indexOf(Ie,me);break}var Oe=it(Le);if(fe.substring(ut+1+Oe,ut+1+Oe+qt)===Ie){if(wt.push(fe.substring(me,ut).replace(ct,k)),pn(ut+1+Oe+qt),se=fe.indexOf(ue,me),ut=fe.indexOf(k,me),Tt&&(mt(),ee))return st();if(Ce&&We.length>=Ce)return st(!0);break}Ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:We.length,index:me}),ut++}}else ut++}return Bt();function Pt(Ut){We.push(Ut),Y=me}function it(Ut){var Ne=0;if(-1!==Ut){var zt=fe.substring(ut+1,Ut);zt&&""===zt.trim()&&(Ne=zt.length)}return Ne}function Bt(Ut){return Se||(void 0===Ut&&(Ut=fe.substring(me)),wt.push(Ut),me=Be,Pt(wt),Tt&&mt()),st()}function pn(Ut){me=Ut,Pt(wt),wt=[],Le=fe.indexOf(Ie,me)}function st(Ut){return{data:We,errors:Ve,meta:{delimiter:ue,linebreak:Ie,aborted:ee,truncated:!!Ut,cursor:Y+(ye||0)}}}function mt(){Ze(st()),We=[],Ve=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return me}}function ne(we){var k=we.data,ue=d[k.workerId],Ie=!1;if(k.error)ue.userError(k.error,k.file);else if(k.results&&k.results.data){var ke={abort:function(){Ie=!0,q(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:le,resume:le};if(he(ue.userStep)){for(var Ze=0;Ze<k.results.data.length&&(ue.userStep({data:k.results.data[Ze],errors:k.results.errors,meta:k.results.meta},ke),!Ie);Ze++);delete k.results}else he(ue.userChunk)&&(ue.userChunk(k.results,ke,k.file),delete k.results)}k.finished&&!Ie&&q(k.workerId,k.results)}function q(we,k){var ue=d[we];he(ue.userComplete)&&ue.userComplete(k),ue.terminate(),delete d[we]}function le(){throw new Error("Not implemented.")}function z(we){if("object"!=typeof we||null===we)return we;var k=Array.isArray(we)?[]:{};for(var ue in we)k[ue]=z(we[ue]);return k}function J(we,k){return function(){we.apply(k,arguments)}}function he(we){return"function"==typeof we}return C&&(S.onmessage=function(we){var k=we.data;if(void 0===P.WORKER_ID&&k&&(P.WORKER_ID=k.workerId),"string"==typeof k.input)S.postMessage({workerId:P.WORKER_ID,results:P.parse(k.input,k.config),finished:!0});else if(S.File&&k.input instanceof File||k.input instanceof Object){var ue=P.parse(k.input,k.config);ue&&S.postMessage({workerId:P.WORKER_ID,results:ue,finished:!0})}}),(x.prototype=Object.create(N.prototype)).constructor=x,(m.prototype=Object.create(N.prototype)).constructor=m,(E.prototype=Object.create(E.prototype)).constructor=E,(L.prototype=Object.create(N.prototype)).constructor=L,P},void 0!==(s=w.apply(qe,[]))&&(ln.exports=s)},11724:(ln,qe,w)=>{var r=w(48788).default,s=w(79640).default,v=w(19420).default,S=w(31049).default,M=w(15199).default,C=w(15488).default,d=w(15985).default;(F=>{"use strict";var P={493:f=>{f.exports=w(71245)}},G={};function N(f){var a=G[f];if(void 0!==a)return a.exports;var g=G[f]={exports:{}};return P[f](g,g.exports,N),g.exports}N.n=f=>{var a=f&&f.__esModule?()=>f.default:()=>f;return N.d(a,{a}),a},N.d=(f,a)=>{for(var g in a)N.o(a,g)&&!N.o(f,g)&&Object.defineProperty(f,g,{enumerable:!0,get:a[g]})},N.o=(f,a)=>Object.prototype.hasOwnProperty.call(f,a),N.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var x={};N.r(x),N.d(x,{AABB:()=>Uc,AbstractTexture:()=>wt,AmbientLightNode:()=>ni,Animation:()=>cs,AnimationSystem:()=>ht,BIODIGITAL_HIGHLIGHT_COLOR:()=>ye,BIODIGITAL_PARTICLE_SCALE:()=>Kt,BIODIGITAL_SCENE_SCALE:()=>Nt,BioDigitalAnatomyObject:()=>ti,BioDigitalAnatomySceneGraph:()=>eo,BioDigitalAnimationPlayer:()=>$h,BioDigitalChapter:()=>Vi,BioDigitalEngine:()=>pm,BioDigitalFileServer:()=>gd,BioDigitalMarker:()=>jf,BioDigitalRenderer:()=>Sl,BioDigitalScreenMarker:()=>Hf,BioDigitalStory:()=>dr,BioDigitalWebSocketServer:()=>th,BioDigitalXR:()=>md,COMMIT:()=>oh,CameraController:()=>Tt,CameraNode:()=>ar,CameraOrbiter:()=>xg,CameraTween:()=>Ro,ClipId:()=>wn,CubeTexture:()=>se,DEFAULT_TONE_MAP_MODE:()=>Be,DirectionalLightNode:()=>ri,ENABLE_COMPRESSED_TEXTURES:()=>Se,EPSILON:()=>J,EmitterMap:()=>Mt,EventEmitter:()=>le,FogModeNumericEnum:()=>Wn,FresnelTween:()=>co,Geometry:()=>Zt,LegacyGeometry:()=>Cn,LegacyLightNode:()=>fr,LegacyMaterial:()=>Mn,LegacyMeshNode:()=>bt,LightNode:()=>Ur,MAX_ANIMATION_TICK:()=>fe,MAX_FLOAT32:()=>he,MAX_SIMULATION_TICK:()=>ee,Material:()=>Yt,MaterialTween:()=>qn,MeshNode:()=>br,MeshTopology:()=>it,MultiKeyMap:()=>Y,ObjectAttributeSwitch:()=>an,ObjectAttributeTween:()=>oi,OrthographicCameraNode:()=>zh,PARTICLE_WORKERS:()=>me,ParticleComponentTween:()=>de,ParticleSystem:()=>sn,ParticleSystemDebugView:()=>ih,ParticleSystemTween:()=>at,PerspectiveCameraNode:()=>or,PhysicalMaterial:()=>yo,PointLightNode:()=>Br,Pool:()=>Ze,ResourceCache:()=>lo,SceneGraphMonitor:()=>li,SceneNode:()=>ke,SpotLightNode:()=>hi,StoryAssetLoader:()=>En,Switch:()=>mo,TIMESTAMP:()=>nf,Texture:()=>Oo,TextureFilter:()=>We,TextureTween:()=>yr,TextureWrap:()=>Ve,TransformTween:()=>Ai,TransparencyModeEnum:()=>Vt,Tween:()=>Jn,UnlitMaterial:()=>So,VERSION:()=>yd,XR:()=>ip,XRGrabber:()=>Xh,XRInputCollection:()=>hd,XRInputController:()=>Lu,applyTransform:()=>ot,atos:()=>xm,autoCameraRange:()=>Gh,barycentricCoord:()=>Wh,bigEnoughUintArray:()=>Bt,boundsRayDistance:()=>Bh,boundsSphereDistance:()=>dc,boxIntersectsPlaneBounds:()=>du,boxRayDistance:()=>tu,boxSphereDistance:()=>Ka,buildRotationScaleMat3:()=>$t,canvasSpace:()=>Kh,cartesianCoord:()=>dd,clamp:()=>we,cloneSceneNode:()=>bm,cloneSceneTree:()=>Bu,colorArray:()=>vt,copyBox:()=>st,deepFreeze:()=>kt,emptyBox:()=>pn,eulerXYZFromMatrix:()=>_d,eulerZYXFromMatrix:()=>k,fetchAssetLibrary:()=>_u,fill:()=>er,findAllTransfers:()=>ru,findSceneNode:()=>Yh,findSceneNodeByName:()=>Fu,floatString:()=>Re,get:()=>nu,getTranslation:()=>ae,getTrianglePositions:()=>Lf,gltfBuildLegacyMaterial:()=>gu,gltfBuildPhysicalMaterial:()=>pd,gltfBuildUnlitMaterial:()=>ef,gltfGeometry:()=>fd,isPowerOfTwo:()=>qs,isTypedArray:()=>U,joinPath:()=>Le,loadCompressedTexture:()=>ss,loadGLTF:()=>tp,loadImage:()=>ct,lookAtObject:()=>Rn,makeClippingPlanes:()=>zs,makeWorker:()=>ls,makeWorkerService:()=>Ti,memoize:()=>b,meshAlphaMode:()=>Rc,normalizePlane:()=>ea,objectKey:()=>Qc,objectLookAt:()=>dn,partial:()=>Ue,pixelFormats:()=>ie,planeDistanceToPoint:()=>ia,positionFromArray:()=>rc,processGLTF:()=>ep,projectScreenSpace:()=>Gf,quatFromEulerXYZ:()=>vd,quatFromEulerZYX:()=>z,rayIntersectTriangle:()=>Nf,registerWorker:()=>ko,serveWorker:()=>rp,setFrustumPlanesFromMatrix:()=>ma,setGeometryBounds:()=>mt,setVectorOption:()=>Z,shaderOptionsKey:()=>Eu,textureMipLevels:()=>ut,traverseSceneNodes:()=>si,triangleNormal:()=>Uf,vec3Equals:()=>Fh,vec3Pool:()=>Ce,vertexCount:()=>gs});const m=w(38472),E=w(9556),L=w(65133);function ae(f,a,g){if(f[0]=a[12],f[1]=a[13],f[2]=a[14],g){const u=g[0],O=g[1],H=g[2];f[0]+=a[0]*u+a[4]*O+a[8]*H-u,f[1]+=a[1]*u+a[5]*O+a[9]*H-O,f[2]+=a[2]*u+a[6]*O+a[10]*H-H}return f}function U(f){return ArrayBuffer.isView(f)&&!(f instanceof DataView)}function Z(f,a){if(a)if((Array.isArray(a)||U(a))&&a.length>=3)(0,m.copy)(f,a);else{if(Array.isArray(a)||"object"!=typeof a)throw new Error("setVectorOption: unknown source format");{const{x:g,y:u,z:O}=a;(0,m.set)(f,g,u,O)}}return f}const ne=w(17225);var q=N.n(ne);class le{constructor(){d(this,"on",void 0),d(this,"off",void 0),d(this,"emit",void 0),d(this,"destroy",void 0);const{all:a,on:g,off:u,emit:O}=q()();this.on=g,this.off=u,this.emit=O,this.destroy=()=>a.clear()}}function z(f,a,g,u){a*=.5,u*=.5,g*=.5;const O=Math.sin(a),H=Math.cos(a),te=Math.sin(g),Q=Math.cos(g),be=Math.sin(u),Me=Math.cos(u);return f[0]=O*Q*Me-H*te*be,f[1]=H*te*Me+O*Q*be,f[2]=H*Q*be-O*te*Me,f[3]=H*Q*Me+O*te*be,f}const J=1e-6,he=170141185e30,we=(f,a=0,g=1)=>Math.max(a,Math.min(g,f));function k(f,a){const g=a[0],u=a[1],O=a[2],H=a[4],te=a[5],Q=a[6],be=a[8],Me=a[9],Ee=a[10];let Pe=g,rt=u,Dt=O,Ft=H,Wt=te,Ot=Q,Jt=Ee;const Fn=g*g+u*u+O*O,Tn=H*H+te*te+Q*Q;if(Math.abs(Fn-1)>J){const vn=Math.sqrt(Fn);Pe/=vn,Ft/=vn}if(Math.abs(Tn-1)>J){const vn=Math.sqrt(Tn);rt/=vn,Wt/=vn}const An=be*be+Me*Me+Ee*Ee;if(Math.abs(An-1)>J){const vn=Math.sqrt(An);Dt/=vn,Ot/=vn,Jt/=vn}return f[1]=Math.asin(-we(Dt,-1,1)),Math.abs(Dt)<.9999999?(f[0]=Math.atan2(Ot,Jt),f[2]=Math.atan2(rt,Pe)):(f[0]=0,f[2]=Math.atan2(-Ft,Wt)),f}class ue{constructor(a,g){const{deleteProperty:u,set:O,get:H,...te}=g,Q={...te};return H&&(Q.get=(be,Me,Ee)=>{if(!/^\d+$/.test(Me))return Reflect.get(be,Me,Ee);const Pe=parseInt(Me,10);return H(be,Pe,Ee)}),O&&(Q.set=(be,Me,Ee,Pe)=>{if("length"===Me){for(let Dt=be.length-1;Dt>=Ee;Dt--)void 0!==be[Dt]&&Pe.pop();return be.length=Ee,!0}const rt="string"==typeof Me&&/^\d+$/.test(Me)?parseInt(Me,10):Ee;return"number"==typeof rt&&rt>=0?O(be,rt,Ee,Pe):(be[Me]=Ee,!0)}),u&&(Q.deleteProperty=(be,Me)=>{const Ee="string"==typeof Me&&/^\d+$/.test(Me)&&parseInt(Me,10);return"number"==typeof Ee?u(be,Ee):(Reflect.deleteProperty(be,Me),!0)}),new Proxy(a,Q)}}const Ie=(F=new WeakMap,class extends ue{constructor(a){const g=a?[...a]:[];super(g,{set:(O,H,te)=>{if(te===g[H])return!0;const Q=g[H];return g[H]=te,C(F,this).emit("change",{index:H,value:te,previous:Q}),void 0===Q&&C(F,this).emit("add",{index:H,value:te}),!0},deleteProperty:(O,H)=>{if(H>=g.length)return!0;const te=g[H];return g[H]=void 0,C(F,this).emit("change",{index:H,value:void 0,previous:te}),C(F,this).emit("delete",{index:H,previous:te}),!0}}),M(this,F,new le);const u=C(F,this);Object.defineProperties(this,{on:{value:u.on,enumerable:!1},off:{value:u.off,enumerable:!1},emit:{value:u.emit,enumerable:!1},destroy:{value:u.destroy,enumerable:!1}})}});class ke extends le{constructor(a={}){super(),d(this,"name",void 0),d(this,"parent",void 0),d(this,"children",void 0),d(this,"position",void 0),d(this,"origin",void 0),d(this,"scale",void 0),d(this,"quaternion",void 0),d(this,"rotation",void 0),d(this,"matrix",void 0),d(this,"worldMatrix",void 0),d(this,"rotationSource",void 0),d(this,"dirty",void 0),d(this,"matrixDirty",void 0),d(this,"worldMatrixDirty",void 0),d(this,"constraints",void 0),d(this,"updateWorldMatrix",void 0),d(this,"dirtyMatrix",void 0),d(this,"dirtyWorldMatrix",void 0),d(this,"updateMatrix",void 0),d(this,"setMatrix",void 0),d(this,"setWorldMatrix",void 0);const{arrays:g,name:u}=a;let O=null;if(this.name=u||"",this.children=new Set,this.position=g?.position||(0,m.create)(),Z(this.position,a?.position||[0,0,0]),this.origin=g?.origin||(0,m.create)(),Z(this.origin,a?.origin||[0,0,0]),this.scale=g?.scale||(0,m.create)(),Z(this.scale,a?.scale||[1,1,1]),this.quaternion=g?.quaternion||(0,E.create)(),a?.quaternion)if(4===a.quaternion.length)(0,E.copy)(this.quaternion,a.quaternion);else if("object"==typeof a.quaternion){const{x:Ee,y:Pe,z:rt,w:Dt}=a.quaternion;(0,E.set)(this.quaternion,Ee,Pe,rt,Dt)}this.rotation=g?.rotation||(0,m.create)(),Z(this.rotation,a?.rotation||[0,0,0]),this.matrix=g?.matrix||(0,L.create)(),this.worldMatrix=g?.worldMatrix||(0,L.create)(),this.constraints=new Ie(a?.constraints),this.constraints.on("change",()=>{this.emit("change",{node:this,property:"constraints"})});let H=!0,te=!0,Q="euler"===a.rotationSource||"quaternion"===a.rotationSource?a.rotationSource:a.rotation&&!a.quaternion?"euler":"quaternion",be="euler"===Q;this.dirtyMatrix=()=>{H=!0,this.dirtyWorldMatrix()},this.dirtyWorldMatrix=()=>{if(!te){te=!0;for(const Ee of this.children)Ee.dirtyWorldMatrix();this.emit("dirty",{node:this})}},this.updateMatrix=()=>{if(H){const Ee=this.matrix,{position:Pe,origin:rt,quaternion:Dt,rotation:Ft,scale:Wt}=this;if(be){const[Ot,Jt,Fn]=Ft;z(Dt,Ot,Jt,Fn)}(0,L.fromRotationTranslationScaleOrigin)(Ee,Dt,Pe,Wt,rt),be||k(Ft,Ee),H=!1,this.emit("updateMatrix",{node:this})}},this.updateWorldMatrix=Ee=>{this.updateMatrix(),te&&(this.parent?(this.parent.updateWorldMatrix(),(0,L.multiply)(this.worldMatrix,this.parent.worldMatrix,this.matrix)):(0,L.copy)(this.worldMatrix,this.matrix),Ee&&Ee(),te=!1,this.emit("updateWorldMatrix",{node:this}))},this.setMatrix=Ee=>{Ee!==this.matrix&&(0,L.copy)(this.matrix,Ee),ae(this.position,this.matrix,this.origin),(0,L.getRotation)(this.quaternion,this.matrix),k(this.rotation,this.matrix),(0,L.getScaling)(this.scale,this.matrix),H=!1,this.dirtyWorldMatrix()},this.setWorldMatrix=Ee=>{if(Ee!==this.worldMatrix&&(0,L.copy)(this.worldMatrix,Ee),this.parent){this.parent.updateWorldMatrix();const Pe=this.matrix;(0,L.invert)(Pe,this.parent.worldMatrix),(0,L.multiply)(this.matrix,Pe,this.worldMatrix)}else(0,L.copy)(this.matrix,this.worldMatrix);this.setMatrix(this.matrix)};const Me=this.destroy;this.destroy=()=>{this.parent=null,this.children.forEach(Ee=>this.remove(Ee)),this.emit("destroy",{node:this}),Me()},Object.defineProperties(this,{rotationSource:{get:()=>Q,set(Ee){Ee!==Q&&(Q=Ee,be="euler"===Q,this.dirtyMatrix())}},dirty:{get:()=>H||te},matrixDirty:{get:()=>H},worldMatrixDirty:{get:()=>te},parent:{get:()=>O,set:(Ee=null)=>{if(O===Ee)return;let Pe=null;O&&(O.children.delete(this),Pe=O),Ee&&Ee.children.add(this),O=Ee,Pe&&Pe.emit("remove",{node:Pe,child:this}),Ee&&Ee.emit("add",{node:Ee,child:this}),this.emit("parent",{node:this,parent:Ee}),this.dirtyWorldMatrix()}}})}add(a){a&&!this.children.has(a)&&(a.parent=this)}remove(a){a&&this.children.has(a)&&(a.parent=null)}}class Ze{constructor(a,g,u=100){d(this,"activeCount",void 0),d(this,"size",void 0),d(this,"get",void 0),d(this,"release",void 0);const O=[];let H=0;Object.defineProperties(this,{activeCount:{get:()=>H},size:{get:()=>O.length}}),this.get=()=>(H++,O.length?O.pop():a()),this.release=te=>{if(H<=0)throw new Error("Pool: too many objects released.");H--,O.length<u&&(g&&g(te),O.push(te))}}}const Ce=new Ze(()=>(0,m.create)(),f=>(0,m.set)(f,0,0,0)),Nt=.01,Kt=.001,me=!1,ee=40,fe=300,ye=[0,.8,1],Se=!0,Be="granTurismo",yt=24*Nt,qt=new Float32Array([0,1,0]),Ln=(0,L.create)();class Tt{constructor(a,g){d(this,"minDistance",void 0),d(this,"maxDistance",void 0),d(this,"zoom",void 0),d(this,"dollyScale",void 0),d(this,"camera",void 0),d(this,"position",void 0),d(this,"target",void 0),d(this,"up",void 0),d(this,"center",void 0),d(this,"distance",void 0),d(this,"orbit",void 0),d(this,"dolly",void 0),d(this,"pan",void 0),d(this,"setPosition",void 0),d(this,"setTarget",void 0),d(this,"setUp",void 0),d(this,"setCamera",void 0);const u=(0,m.create)(),O=(0,m.create)(),H=(0,m.create)(),te=a.up;let Q=g?.distance??80*Nt,be=g?.minDistance??.01*Nt,Me=g?.maxDistance??150*Nt;function Ee(Pe){a.parent?(a.updateWorldMatrix(),a.worldMatrix[12]=Pe[0],a.worldMatrix[13]=Pe[1],a.worldMatrix[14]=Pe[2],a.setWorldMatrix(a.worldMatrix)):((0,m.copy)(a.position,Pe),a.dirtyMatrix())}this.dollyScale=g?.dollyScale??yt,a.updateWorldMatrix(),g?.position?(Z(u,g.position),Ee(u)):(0,L.getTranslation)(u,a.worldMatrix),g?.target?(Z(O,g.target),a.lookAt(O),Q=(0,m.distance)(u,O)):((0,m.transformMat4)(O,[0,0,-1],a.worldMatrix),(0,m.normalize)(O,O),(0,m.scale)(O,O,Q)),g?.up&&(Z(te,g.up),(0,m.normalize)(te,te)),Z(H,g?.center||O),this.orbit=(Pe=0,rt=0)=>{if(!Pe&&!rt)return;const Dt=Ce.get(),Ft=Ce.get(),Wt=Ce.get(),Ot=Ce.get();if((0,m.subtract)(Dt,u,H),(0,m.subtract)(Ft,O,H),(0,m.subtract)(Wt,Ft,Dt),(0,m.normalize)(Wt,Wt),(0,m.cross)(Ot,te,Wt),rt){const Jt=Math.sign(te[1])||1;(0,L.fromRotation)(Ln,Jt*rt,qt)}else(0,L.identity)(Ln);Pe&&(0,L.rotate)(Ln,Ln,Pe,Ot),(0,m.transformMat4)(Dt,Dt,Ln),(0,m.transformMat4)(Ft,Ft,Ln),(0,m.transformMat4)(te,te,Ln),(0,m.normalize)(te,te),(0,m.add)(u,Dt,H),(0,m.add)(O,Ft,H),Ee(u),a.lookAt(O),Ce.release(Dt),Ce.release(Ft),Ce.release(Wt),Ce.release(Ot)},this.pan=(Pe,rt,Dt=0)=>{if(!Pe&&!rt&&!Dt)return;const Ft=Ce.get(),Wt=Ce.get(),Ot=Ce.get();(0,m.set)(Ft,0,0,0),(Pe||Dt)&&(0,m.subtract)(Wt,u,O),Pe&&((0,m.cross)(Ot,Wt,te),(0,m.normalize)(Ot,Ot),(0,m.scale)(Ft,Ot,Pe)),rt&&(0,m.scaleAndAdd)(Ft,Ft,te,rt),Dt&&((0,m.normalize)(Wt,Wt),(0,m.scaleAndAdd)(Ft,Ft,Wt,-Dt)),(0,m.add)(u,u,Ft),(0,m.add)(O,O,Ft),Ee(u),a.lookAt(O),Ce.release(Ft),Ce.release(Wt),Ce.release(Ot)},this.dolly=(Pe=0)=>{Pe&&(this.distance=be&&Me?Math.abs(Q+Pe*Q*this.dollyScale/Me):Math.abs(Q+Pe))},this.setPosition=(Pe,rt,Dt)=>{"number"==typeof Pe?(0,m.set)(u,Pe,rt,Dt):(0,m.copy)(u,Pe),Q=(0,m.distance)(u,O),Ee(u),(Q<be||Q>Me)&&(this.distance=Q),a.lookAt(O)},this.setTarget=(Pe,rt,Dt)=>{"number"==typeof Pe?(0,m.set)(O,Pe,rt,Dt):(0,m.copy)(O,Pe),Q=(0,m.distance)(u,O),(Q<be||Q>Me)&&(this.distance=Q),a.lookAt(O)},this.setCamera=(Pe,rt,Dt)=>{(0,m.copy)(u,Pe),(0,m.copy)(O,rt),Dt&&(0,m.copy)(te,Dt),Q=(0,m.distance)(u,O),Ee(u),(Q<be||Q>Me)&&(this.distance=Q),a.lookAt(O)},this.setUp=(Pe,rt,Dt)=>{"number"==typeof Pe?(0,m.set)(te,Pe,rt,Dt):(0,m.copy)(te,Pe),a.lookAt(O)},Object.defineProperties(this,{camera:{writable:!1,value:a},position:{writable:!1,value:u},target:{writable:!1,value:O},center:{writable:!1,value:H},up:{writable:!1,value:te},distance:{get:()=>Q,set:Pe=>{if((Pe=we(Pe,be,Me))!==Q){Q=Pe;const rt=Ce.get();(0,m.subtract)(rt,u,O),(0,m.normalize)(rt,rt),(0,m.scaleAndAdd)(u,O,rt,Q),Ce.release(rt),Ee(u)}}},zoom:{get:()=>1-(Q-be)/(Me-be),set:Pe=>{this.distance=be+(1-Pe)*(Me-be)}},minDistance:{get:()=>be,set:Pe=>{be=Pe,this.distance=Q}},maxDistance:{get:()=>Me,set:Pe=>{Me=Pe,this.distance=Q}}})}}let We=((f={}).Nearest="nearest",f.Linear="linear",f),Ve=function(f){return f.ClampToEdge="clamp-to-edge",f.Repeat="repeat",f.MirrorRepeat="mirror-repeat",f}({});var f;class wt extends le{constructor(a){super(),d(this,"width",void 0),d(this,"height",void 0),d(this,"min",void 0),d(this,"mag",void 0),d(this,"mipmapFilter",void 0),d(this,"wrapU",void 0),d(this,"wrapV",void 0),d(this,"rowOrder",void 0),d(this,"anisotropy",void 0),d(this,"name",void 0),this.min=a?.min||a?.minMag||We.Linear,this.mag=a?.mag||a?.minMag||We.Linear,this.mipmapFilter=a?.mipmapFilter||We.Nearest,this.wrapU=a?.wrapU||a?.wrap||Ve.Repeat,this.wrapV=a?.wrapV||a?.wrap||Ve.Repeat,this.rowOrder=a?.rowOrder||"bottom-up",this.anisotropy=a?.anisotropy||1,this.name=a?.name||"";const g=this.destroy;return this.destroy=()=>{this.emit("destroy",{texture:this}),g()},new Proxy(this,{set:(u,O,H)=>(u[O]!==H&&(u[O]=H,u.emit("change",{texture:u,property:O})),!0)})}}class Y{constructor(a){d(this,"size",void 0),d(this,"has",void 0),d(this,"get",void 0),d(this,"set",void 0),d(this,"delete",void 0),d(this,"clear",void 0),d(this,"forEach",void 0),d(this,Symbol.iterator,void 0);const g={value:void 0,map:null};let u=0;function O(Q){let be=g;for(let Me=0;Me<Q.length;Me++){const Ee=be.map?.get(Q[Me]);if(!Ee)return null;be=Ee}return be}function H(Q,be){if(!be.length){const rt=void 0!==Q.value;return rt&&(Q.value=void 0,u--),rt}const[Me,...Ee]=be,Pe=Q.map?.get(Me);if(Pe){const rt=H(Pe,Ee);return void 0!==Pe.value||Pe.map?.size||Q.map.delete(Me),Q.map.size||(Q.map=null),rt}return!1}function te(Q,be,Me,Ee=[]){void 0!==Q.value&&be.call(Me,Q.value,...Ee),Q.map?.forEach((Pe,rt)=>{te(Pe,be,Me,[...Ee,rt])},Me)}this.has=(...Q)=>{const be=O(Q);return null!==be&&void 0!==be.value},this.get=(...Q)=>{const be=O(Q);return null===be?void 0:be.value},this.set=(...Q)=>{const be=Q.pop();let Me=g;for(let Ee=0;Ee<Q.length;Ee++){const Pe=Q[Ee];let rt;Me.map?rt=Me.map.get(Pe):Me.map=new Map,rt||(rt={value:void 0,map:null},Me.map.set(Pe,rt)),Me=rt}return void 0===Me.value&&u++,Me.value=be,this},this.delete=(...Q)=>H(g,Q),this.clear=()=>(g.map=null,u=0,this),this.forEach=(Q,be=this)=>te(g,Q,be),this[Symbol.iterator]=()=>{const Q=[];return te(g,(be,...Me)=>Q.push([Me,be]),this),Q[Symbol.iterator]()},Object.defineProperty(this,"size",{get:()=>u}),a&&a.forEach(Q=>this.set(...Q))}}function b(f){const a=new Y;return(...g)=>{let u=a.get(...g);return u||(u=f(...g),a.set(...g,u)),u}}const R=b(function(f,a){const g=f-1,u=a-1;return function(O,H){return Math.floor((O+g)/f)*Math.floor((H+u)/a)*16}});function T(f,a){return Math.floor((f+3)/4)*Math.floor((a+3)/4)*8}function V(f,a){return Math.floor((f+3)/4)*Math.floor((a+3)/4)*16}function j(f,a){return(f=Math.max(f,16))*(a=Math.max(a,8))/4}function h(f,a){return(f=Math.max(f,8))*(a=Math.max(a,8))/2}function I(f,a){return Math.ceil(f/4)*Math.ceil(a/4)*8}function xe(f,a){return Math.ceil(f/4)*Math.ceil(a/4)*16}const ie={r8unorm:{channels:1,compressed:!1,bits:8},r8snorm:{channels:1,compressed:!1,bits:8},r8uint:{channels:1,compressed:!1,bits:8},r8sint:{channels:1,compressed:!1,bits:8},r16uint:{channels:1,compressed:!1,bits:16},r16sint:{channels:1,compressed:!1,bits:16},r16float:{channels:1,compressed:!1,bits:16},rg8unorm:{channels:2,compressed:!1,bits:16},rg8snorm:{channels:2,compressed:!1,bits:16},rg8uint:{channels:2,compressed:!1,bits:16},rg8sint:{channels:2,compressed:!1,bits:16},r32uint:{channels:1,compressed:!1,bits:32},r32sint:{channels:1,compressed:!1,bits:32},r32float:{channels:1,compressed:!1,bits:32},rg16uint:{channels:2,compressed:!1,bits:32},rg16sint:{channels:2,compressed:!1,bits:32},rg16float:{channels:2,compressed:!1,bits:32},rgba8unorm:{channels:4,compressed:!1,bits:32},"rgba8unorm-srgb":{channels:4,compressed:!1,bits:32},rgba8snorm:{channels:4,compressed:!1,bits:32},rgba8uint:{channels:4,compressed:!1,bits:32},rgba8sint:{channels:4,compressed:!1,bits:32},bgra8unorm:{channels:4,compressed:!1,bits:32},"bgra8unorm-srgb":{channels:4,compressed:!1,bits:32},rgb9e5ufloat:{channels:3,compressed:!1,bits:32},rgb10a2uint:{channels:3,compressed:!1,bits:32},rgb10a2unorm:{channels:3,compressed:!1,bits:32},rg11b10ufloat:{channels:4,compressed:!1,bits:32},rg32uint:{channels:2,compressed:!1,bits:64},rg32sint:{channels:2,compressed:!1,bits:64},rg32float:{channels:2,compressed:!1,bits:64},rgba16uint:{channels:4,compressed:!1,bits:64},rgba16sint:{channels:4,compressed:!1,bits:64},rgba16float:{channels:4,compressed:!1,bits:64},rgba32uint:{channels:4,compressed:!1,bits:128},rgba32sint:{channels:4,compressed:!1,bits:128},rgba32float:{channels:4,compressed:!1,bits:128},stencil8:{channels:1,compressed:!1,bits:8},depth16unorm:{channels:1,compressed:!1,bits:8},depth24plus:{channels:1,compressed:!1,bits:24},"depth24plus-stencil8":{channels:2,compressed:!1,bits:32},depth32float:{channels:1,compressed:!1,bits:32},"depth32float-stencil8":{channels:2,compressed:!1,bits:40},"bc1-rgba-unorm":{channels:4,compressed:!0,size:T},"bc1-rgba-unorm-srgb":{channels:4,compressed:!0,size:T},"bc2-rgba-unorm":{channels:4,compressed:!0,size:V},"bc2-rgba-unorm-srgb":{channels:4,compressed:!0,size:V},"bc3-rgba-unorm":{channels:4,compressed:!0,size:V},"bc3-rgba-unorm-srgb":{channels:4,compressed:!0,size:V},"bc4-r-unorm":{channels:1,compressed:!0,size:I},"bc4-r-snorm":{channels:1,compressed:!0,size:I},"bc5-rg-unorm":{channels:2,compressed:!0,size:xe},"bc5-rg-snorm":{channels:2,compressed:!0,size:xe},"bc6h-rgb-ufloat":{channels:3,compressed:!0,size:xe},"bc6h-rgb-float":{channels:3,compressed:!0,size:xe},"bc7-rgba-unorm":{channels:4,compressed:!0,size:xe},"bc7-rgba-unorm-srgb":{channels:4,compressed:!0,size:xe},"etc2-rgb8unorm":{channels:3,compressed:!0,size:T},"etc2-rgb8unorm-srgb":{channels:3,compressed:!0,size:T},"etc2-rgb8a1unorm":{channels:4,compressed:!0,size:T},"etc2-rgb8a1unorm-srgb":{channels:4,compressed:!0,size:T},"etc2-rgba8unorm":{channels:4,compressed:!0,size:V},"etc2-rgba8unorm-srgb":{channels:4,compressed:!0,size:V},"eac-r11unorm":{channels:1,compressed:!0,size:T},"eac-r11snorm":{channels:1,compressed:!0,size:T},"eac-rg11unorm":{channels:2,compressed:!0,size:V},"eac-rg11snorm":{channels:2,compressed:!0,size:V},"astc-4x4-unorm":{channels:4,compressed:!0,size:R(4,4)},"astc-4x4-unorm-srgb":{channels:4,compressed:!0,size:R(4,4)},"astc-5x4-unorm":{channels:4,compressed:!0,size:R(5,4)},"astc-5x4-unorm-srgb":{channels:4,compressed:!0,size:R(5,4)},"astc-5x5-unorm":{channels:4,compressed:!0,size:R(5,5)},"astc-5x5-unorm-srgb":{channels:4,compressed:!0,size:R(5,5)},"astc-6x5-unorm":{channels:4,compressed:!0,size:R(6,5)},"astc-6x5-unorm-srgb":{channels:4,compressed:!0,size:R(6,5)},"astc-6x6-unorm":{channels:4,compressed:!0,size:R(6,6)},"astc-6x6-unorm-srgb":{channels:4,compressed:!0,size:R(6,6)},"astc-8x5-unorm":{channels:4,compressed:!0,size:R(8,5)},"astc-8x5-unorm-srgb":{channels:4,compressed:!0,size:R(8,5)},"astc-8x6-unorm":{channels:4,compressed:!0,size:R(8,6)},"astc-8x6-unorm-srgb":{channels:4,compressed:!0,size:R(8,6)},"astc-8x8-unorm":{channels:4,compressed:!0,size:R(8,8)},"astc-8x8-unorm-srgb":{channels:4,compressed:!0,size:R(8,8)},"astc-10x5-unorm":{channels:4,compressed:!0,size:R(10,5)},"astc-10x5-unorm-srgb":{channels:4,compressed:!0,size:R(10,5)},"astc-10x6-unorm":{channels:4,compressed:!0,size:R(10,6)},"astc-10x6-unorm-srgb":{channels:4,compressed:!0,size:R(10,6)},"astc-10x8-unorm":{channels:4,compressed:!0,size:R(10,8)},"astc-10x8-unorm-srgb":{channels:4,compressed:!0,size:R(10,8)},"astc-10x10-unorm":{channels:4,compressed:!0,size:R(10,10)},"astc-10x10-unorm-srgb":{channels:4,compressed:!0,size:R(10,10)},"astc-12x10-unorm":{channels:4,compressed:!0,size:R(12,10)},"astc-12x10-unorm-srgb":{channels:4,compressed:!0,size:R(12,10)},"astc-12x12-unorm":{channels:4,compressed:!0,size:R(12,12)},"astc-12x12-unorm-srgb":{channels:4,compressed:!0,size:R(12,12)},"astc-4x4-hdr":{channels:4,compressed:!0,size:R(4,4)},"astc-5x4-hdr":{channels:4,compressed:!0,size:R(5,4)},"astc-5x5-hdr":{channels:4,compressed:!0,size:R(5,5)},"astc-6x5-hdr":{channels:4,compressed:!0,size:R(6,5)},"astc-6x6-hdr":{channels:4,compressed:!0,size:R(6,6)},"astc-8x5-hdr":{channels:4,compressed:!0,size:R(8,5)},"astc-8x6-hdr":{channels:4,compressed:!0,size:R(8,6)},"astc-8x8-hdr":{channels:4,compressed:!0,size:R(8,8)},"astc-10x5-hdr":{channels:4,compressed:!0,size:R(10,5)},"astc-10x6-hdr":{channels:4,compressed:!0,size:R(10,6)},"astc-10x8-hdr":{channels:4,compressed:!0,size:R(10,8)},"astc-10x10-hdr":{channels:4,compressed:!0,size:R(10,10)},"astc-12x10-hdr":{channels:4,compressed:!0,size:R(12,10)},"astc-12x12-hdr":{channels:4,compressed:!0,size:R(12,12)},"pvrtc-rgb4unorm":{channels:3,compressed:!0,size:h},"pvrtc-rgb2unorm":{channels:3,compressed:!0,size:j},"pvrtc-rgba4unorm":{channels:4,compressed:!0,size:h},"pvrtc-rgba2unorm":{channels:4,compressed:!0,size:j}},D=new Map([[Uint8Array,"rgba8unorm"],[Uint8ClampedArray,"rgba8unorm"],[Uint16Array,"rgba16uint"],[Uint32Array,"rgba32uint"],[Int8Array,"rgba8sint"],[Int16Array,"rgba16sint"],[Int32Array,"rgba32sint"],[Float32Array,"rgba32float"]]);class K extends le{constructor(a,g){super(),d(this,"source",void 0),d(this,"data",void 0),d(this,"levels",void 0),d(this,"format",void 0),d(this,"sizeDynamic",void 0),d(this,"dynamic",void 0),d(this,"width",void 0),d(this,"height",void 0),d(this,"valid",void 0),d(this,"update",void 0);let u=0,O=0,H=null,te=null,Q=!1,be=!1,Me=!1,Ee=!0;const Pe=g?.format||D.get(a.constructor)||"rgba8unorm";if(typeof ImageData<"u"&&a instanceof ImageData)u=a.width,O=a.height,H=a.data,Q=!0,Me=!0;else if(typeof ImageBitmap<"u"&&a instanceof ImageBitmap)u=a.width,O=a.height;else if(typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement){if(u=a.naturalWidth,O=a.naturalHeight,!a.naturalWidth){be=!0,Q=!0,Ee=!1;const Dt=()=>{u=a.naturalWidth,O=a.naturalHeight,be=!1,Q=!1,a.removeEventListener("load",Dt),Ee=!0,this.emit("resize",{source:this}),this.emit("update",{source:this})};a.addEventListener("load",Dt),this.on("destroy",()=>{a.removeEventListener("load",Dt)})}}else if(typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement){u=a.width,O=a.height,be=!0,Q=!0,Me=!0;const Dt=new MutationObserver(()=>{u=a.width,O=a.height,this.emit("resize",{source:this}),this.update()});Dt.observe(a,{subtree:!1,childList:!1,attributes:!0,attributeFilter:["width","height"]}),this.on("destroy",()=>{Dt.disconnect()})}else if(typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement){if(u=a.videoWidth,O=a.videoHeight,be=!1,Q=!0,Me=!0,a.readyState<a.HAVE_METADATA){be=!0;const Dt=()=>{u=a.videoWidth,O=a.videoHeight,be=!1,Ee=!0,a.removeEventListener("loadedmetadata",Dt),this.emit("resize",{source:this}),this.update()};a.addEventListener("loadedmetadata",Dt),this.on("destroy",()=>{a.removeEventListener("loadedmetadata",Dt)})}}else if(Array.isArray(a)&&a.length&&a[0].src)te=a.slice().sort((Dt,Ft)=>Dt.level-Ft.level),u=te[0].width,O=te[0].height,H=te[0].src;else{if(!U(a))throw new Error("Texture: unknown texture source format");{Q=!0,Me=!0,u=g?.width||0,O=g?.height||0;const Dt=ie[Pe];if(!0===Dt.compressed){if(Dt.size(u,O)!==a.byteLength)throw new Error("Texture: height and width do not match array size.")}else{const Ft=Dt.bits/8;if(!(u>0&&O>0)){const Ot=Math.sqrt(a.byteLength/Ft);Ot===Math.floor(Ot)&&(u=O=Ot)}if(!(u>0&&O>0))throw new Error("Texture: typed array texture requires width and height options or square image.");const Wt=u*O;if(a.length%Wt!=0||a.byteLength/Wt>Ft)throw new Error("Texture: height and width do not match array size.")}H=a}}Object.defineProperties(this,{source:{value:a,writable:!1},data:{value:H,writable:!1},levels:{value:te,writable:!1},format:{value:Pe,writable:!1}}),Object.defineProperties(this,be?{width:{get:()=>u},height:{get:()=>O},sizeDynamic:{get:()=>be},valid:{get:()=>Ee}}:{width:{value:u,writable:!1},height:{value:O,writable:!1},sizeDynamic:{value:be,writable:!1},valid:{value:Ee,writable:!1}}),this.update=Me?()=>this.emit("update",{source:this}):()=>{};const rt=this.destroy;this.destroy=()=>{this.emit("destroy"),rt()},Object.defineProperties(this,Q?{dynamic:{get:()=>Q}}:{dynamic:{value:Q,writable:!1}})}}class se extends wt{constructor(a,g){if(6!==a?.length)throw new Error("CubeTexture must have exactly 6 images");const u=a.map(Ee=>new K(Ee,g)),O=u[0],H=O.format;let te=!1;const Q=()=>{const{width:Ee,height:Pe,valid:rt}=O;if(!rt||!Ee||!Pe)return!1;if(Ee!==Pe)throw new Error("CubeTexture sources must be square.");for(let Dt=1;Dt<u.length;Dt++){const Ft=u[Dt];if(!Ft.valid||Ft.width!==Ee||Ft.height!==Pe)return!1}return!0};for(let Ee=1;Ee<u.length;Ee++)if(u[Ee].format!==O.format)throw new Error("CubeTexture must have the same format for all sources");te=Q(),super({mipmapFilter:We.Linear,wrap:Ve.ClampToEdge,...g}),d(this,"sources",void 0),d(this,"levels",void 0),d(this,"format",void 0),a=a.slice(),Object.freeze(a),u.forEach(Ee=>{Ee.on("resize",()=>{te=Q(),this.emit("resize")}),Ee.on("update",()=>{te=Q(),this.emit("update")})});let be=u.map(Ee=>Ee.levels);be.some(Ee=>!Ee)&&(be=null);const Me=this.destroy;this.destroy=()=>{u.forEach(Ee=>{Ee.destroy()}),Me()},Object.defineProperties(this,{sources:{value:a,writable:!1},levels:{value:be,writable:!1},format:{value:H,writable:!1},width:{get:()=>O.width},height:{get:()=>O.height},valid:{get:()=>te},sizeDynamic:{get:()=>O.sizeDynamic},dynamic:{value:O.dynamic,writable:!1}})}}function Le(f,...a){let g=f||"";return a.forEach(u=>{u&&(u.startsWith("/")&&(u=u.substring(1)),g.endsWith("/")?g+=u:g+="/"+u)}),g}function ct(f){return new Promise((a,g)=>{const u=new Image;u.onload=()=>{u.onload=u.onerror=null,a(u)},u.onerror=()=>{u.onload=u.onerror=null,g(new Error("Error loading image"))},u.src=f})}function ut(f,a){return Math.floor(Math.log2(Math.max(f,a)))+1}const en=typeof createImageBitmap<"u";function Oe(f,a,g,u){return Pt.apply(this,arguments)}function Pt(){return Pt=S(function*(f,a,g,u){const O=/(.+)\.([^.]+)$/.exec(g);if(!O)throw new Error(`Invalid asset id: '${g}'`);const H=O[1],te=O[2],Q=yield f("reflections",H,"outline");if(!Q[te])return console.error(`Reflection not found: ${H}[${te}]`),null;const{src:be,intensity:Me,space:Ee}=Q[te],Pe=function(Jt,Fn){const Tn=Fn.split("/");return Le(Jt,"content/states",Tn[0],"reflections",Tn[1]+"/")}(a,H),rt=[],Dt=[],Ft=yield Promise.all(be.map(function(){var Jt=S(function*(Fn){if(Fn=Pe+Fn,u?.loadImage){const kn=yield u.loadImage(Fn);if(kn)return kn}const Tn=yield u.fetch(Fn,"environment"),An=yield Tn.blob();if(en){const kn=yield createImageBitmap(An);return rt.push(kn),kn}const vn=URL.createObjectURL(An);try{const kn=ct(vn);return Dt.push(vn),kn}catch(kn){throw URL.revokeObjectURL(vn),kn}});return function(Fn){return Jt.apply(this,arguments)}}())).catch(Jt=>(console.warn("Error loading environment asset: "+g,Jt),null));if(!Ft)return null;const Wt=new se(Ft,{wrap:Ve.ClampToEdge,mag:We.Linear,min:We.Linear}),Ot=ut(Wt.width,Wt.height);return rt.length?Wt.on("destroy",()=>{rt.forEach(Jt=>{Jt.close()})}):Dt.length&&Wt.on("destroy",()=>{Dt.forEach(Jt=>{URL.revokeObjectURL(Jt)})}),{space:Ee,texture:Wt,intensity:Me,mipLevels:Ot}}),Pt.apply(this,arguments)}let it=function(f){return f.points="points",f.lines="lines",f.lineLoop="line-loop",f.lineStrip="line-strip",f.triangles="triangles",f.triangleStrip="triangle-strip",f.triangleFan="triangle-fan",f}({});const Bt=function(f,a,g,u){const O=f<256?Uint8Array:f<65536?Uint16Array:Uint32Array;return"number"==typeof a?new O(a):new O(a,g,u)};function pn(){return{min:(0,m.fromValues)(1/0,1/0,1/0),max:(0,m.fromValues)(-1/0,-1/0,-1/0)}}function st(f,a){(0,m.copy)(f.min,a.min),(0,m.copy)(f.max,a.max)}function mt(f,a){const{min:g,max:u}=f;(0,m.set)(g,1/0,1/0,1/0),(0,m.set)(u,-1/0,-1/0,-1/0);for(let O=0;O<a.length;O++){const H=O%3,te=a[O];te<g[H]&&(g[H]=te),te>u[H]&&(u[H]=te)}}const Ut=/coord|texture|\buvs?\b/i,Ne=/colou?r/i;class Zt extends le{constructor(a,g){super(),d(this,"attributes",void 0),d(this,"indices",void 0),d(this,"topology",void 0),d(this,"bounds",void 0),d(this,"name",void 0),d(this,"offset",void 0),d(this,"count",void 0),this.attributes=function zt(f){const a={};return Object.keys(f).forEach(g=>{if("indices"===g)return;const u=f[g],O=U(u)?{data:u}:Array.isArray(u)?{data:new Float32Array(u)}:{...u},H=O.name||g;if(O.value){if(!Array.isArray(O.value)&&!U(O.value))throw new Error("array.value is not array or TypedArray");return void(a[H]={value:O.value})}const te=function(Me){if(U(Me.data))return Me.data;let Ee=Me.type;return Ee||(Ee=Float32Array),new Ee(Me.data)}(O),Q=O.numComponents||function(Me,Ee){let Pe=3;if(Ut.test(Me)?Pe=2:Ne.test(Me)&&(Pe=4),Ee%Pe>0)throw new Error(`Can not guess numComponents for attribute '${Me}'. Tried ${Pe} but ${Ee} values is not evenly divisible by ${Pe}. You should specify it.`);return Pe}(g,U(te)||Array.isArray(te)?te.length:0);var be;a[H]={data:te,numComponents:Q,normalize:O.normalize?O.normalize:(be=te,be instanceof Int8Array||be instanceof Uint8Array),stride:O.stride||0,offset:O.offset||0,decodeMat:O.decodeMat||null,drawType:O.drawType||35044},void 0!==O.divisor&&(a[H]=O.divisor)}),a}(a),this.indices=null,a.indices&&(this.indices=U(a.indices)?a.indices:this.attributes.position?Bt(this.attributes.position.data.length/3,a.indices):new Uint32Array(a.indices)),this.bounds=pn(),this.name="",g?st(this.bounds,g):this.attributes.position&&mt(this.bounds,this.attributes.position.data);let u=it.triangles,O=this.indices?this.indices.length:(this.attributes.position?.data?.length||0)/3,H=0;const te=this.destroy;this.destroy=()=>{te();for(const Q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,Q)&&(this.attributes[Q]=null)},Object.defineProperties(this,{count:{get:()=>O,set:Q=>{O!==Q&&(O=Q,this.emit("change",{geometry:this,property:"count"}))}},offset:{get:()=>H,set:Q=>{H!==Q&&(H=Q,this.emit("change",{geometry:this,property:"offset"}))}},topology:{get:()=>u,set:Q=>{u!==Q&&(u=Q,this.emit("change",{geometry:this,property:"topology"}))}}})}}class Cn extends Zt{constructor(a,g){super(a,g),d(this,"morphKeys",void 0),this.morphKeys=[]}}const Zn=(0,m.create)();class br extends ke{constructor(a,g,u){const{castShadow:O=!0,receiveShadow:H=!0,...te}=u||{};super(te),d(this,"geometry",void 0),d(this,"material",void 0),d(this,"normalMatrix",void 0),d(this,"castShadow",void 0),d(this,"receiveShadow",void 0),d(this,"reflected",void 0),d(this,"renderable",void 0),d(this,"worldBoundsDirty",void 0),d(this,"worldBounds",void 0),d(this,"dirtyWorldBounds",void 0),d(this,"updateWorldBounds",void 0);let Q=1,be=!1,Me=!0,Ee=O,Pe=H,rt=!0;this.normalMatrix=(0,L.create)(),this.worldBounds=pn();const Dt=this.updateWorldMatrix;this.updateWorldMatrix=()=>Dt(()=>{const{worldMatrix:Jt,normalMatrix:Fn}=this;(0,L.invert)(Fn,Jt),(0,L.transpose)(Fn,Fn),Q=(0,L.determinant)(Jt),be=Q<0,Me=!!(g&&a&&Q)}),this.dirtyWorldBounds=()=>{rt||(rt=!0,this.emit("dirty",{node:this}))},this.updateWorldBounds=()=>{if(this.updateWorldMatrix(),rt){let Jt=1/0,Fn=1/0,Tn=1/0,An=-1/0,vn=-1/0,kn=-1/0;if(this.geometry){const{worldMatrix:nr}=this,{bounds:ur}=this.geometry;for(let Qn=0;Qn<8;Qn++){Zn[0]=1&Qn?ur.min[0]:ur.max[0],Zn[1]=2&Qn?ur.min[1]:ur.max[1],Zn[2]=4&Qn?ur.min[2]:ur.max[2],(0,m.transformMat4)(Zn,Zn,nr);const kr=Zn[0],$r=Zn[1],Vr=Zn[2];kr<Jt&&(Jt=kr),$r<Fn&&(Fn=$r),Vr<Tn&&(Tn=Vr),kr>An&&(An=kr),$r>vn&&(vn=$r),Vr>kn&&(kn=Vr)}}(0,m.set)(this.worldBounds.min,Jt,Fn,Tn),(0,m.set)(this.worldBounds.max,An,vn,kn),rt=!1,this.emit("updateWorldBounds",{node:this})}};const Ft=Jt=>this.emit("change",{node:this,property:Jt}),Wt=Jt=>this.emit("change",{node:this,property:"material",detail:Jt?.property}),Ot=Jt=>{this.dirtyWorldBounds(),this.emit("change",{node:this,property:"geometry",detail:Jt?.property})};g&&g.on("change",Wt),a&&a.on("change",Ot),this.on("dirty",()=>{rt=!0}),Object.defineProperties(this,{dirty:{get:()=>rt||this.matrixDirty||this.worldMatrixDirty},worldBoundsDirty:{get:()=>rt},reflected:{get:()=>be},renderable:{get:()=>Me},material:{get:()=>g,set:Jt=>{Jt||(Jt=null),Jt!==g&&(g&&g.off("change",Wt),(g=Jt)&&g.on("change",Wt),Me=!!(g&&a&&Q),Wt())}},geometry:{get:()=>a,set:Jt=>{Jt||(Jt=null),Jt!==a&&(a&&a.off("change",Ot),(a=Jt)&&a.on("change",Ot),Me=!!(g&&a&&Q),Ot())}},castShadow:{get:()=>Ee,set:Jt=>{(Jt=!!Jt)!==Ee&&(Ee=Jt,Ft("castShadow"))}},receiveShadow:{get:()=>Pe,set:Jt=>{(Jt=!!Jt)!==Pe&&(Pe=Jt,Ft("receiveShadow"))}}})}}const Mr=w(29685);var yn=N.n(Mr);function St(f){if(!f)return f;const a=f.constructor;if(a===String||a===Number)return f;if(a===Object){const g={};for(const u in f)Object.prototype.hasOwnProperty.call(f,u)&&(g[u]=St(f[u]));return g}if(Array.isArray(f))return f.map(St);if(f instanceof Set){const g=new Set;return f.forEach(u=>g.add(St(u))),g}if(f instanceof Map){const g=new Map;return f.forEach((u,O)=>g.set(O,St(u))),g}return U(f)?new globalThis[f.constructor.name](f):yn()(f)}function kt(f){if(!f||"object"!=typeof f)return f;for(const a in f)Object.prototype.hasOwnProperty.call(f,a)&&kt(f[a]);return Object.freeze(f)}class Mt extends le{constructor(a,g){super(),d(this,"clear",void 0),d(this,"delete",void 0),d(this,"forEach",void 0),d(this,"get",void 0),d(this,"has",void 0),d(this,"set",void 0),d(this,"size",void 0),d(this,"entries",void 0),d(this,"keys",void 0),d(this,"values",void 0),d(this,Symbol.iterator,void 0),d(this,Symbol.toStringTag,void 0);const u=new Map,O=!!(g?.clone??1),H=O&&!!(g?.freeze??O);this.forEach=(Q,be)=>(u.forEach((Me,Ee)=>Q.call(be,Me,Ee,this)),this),this.get=Q=>u.get(Q),this.has=Q=>u.has(Q),this.entries=()=>u.entries(),this.keys=()=>u.keys(),this.values=()=>u.values(),this[Symbol.iterator]=()=>u[Symbol.iterator](),this[Symbol.toStringTag]=u[Symbol.toStringTag],this.clear=()=>{const Q=Array.from(u.keys());u.clear();for(const be of Q)this.emit("change",be),this.emit("delete",be);return this},this.delete=Q=>!!u.has(Q)&&(u.delete(Q),this.emit("change",Q),this.emit("delete",Q),!0),this.set=(Q,be)=>{if(be===u.get(Q))return this;O&&(be=St(be)),H&&kt(be);const Me=u.has(Q);return u.set(Q,be),Me||this.emit("add",Q),this.emit("change",Q),this};const te=this.destroy;if(this.destroy=()=>{this.clear(),te()},Object.defineProperties(this,{size:{get:()=>u.size}}),a)for(const[Q,be]of a)this.set(Q,be)}}class bt extends br{constructor(a,g,u){const{layer:O,visible:H,depthMask:te,renderOrder:Q,clippable:be,...Me}=u||{};super(a,g,{rotationSource:"euler",...Me}),d(this,"layer",void 0),d(this,"renderOrder",void 0),d(this,"clippable",void 0),d(this,"modifiers",void 0),d(this,"morphKeyIndex",void 0),d(this,"morphFactor",void 0),d(this,"depthMask",void 0),d(this,"visible",void 0);let Ee=H??!0,Pe=O||0,rt=be??!0,Dt=Q||0,Ft=te??!0,Wt=-1,Ot=0,Jt=new Mt(void 0,{clone:!1});const Fn=new Set,Tn=()=>{this.emit("change",{node:this,property:"modifier",detail:"value"})},An=()=>{const nr=new Set(Fn);Fn.clear(),Jt.forEach(ur=>{"range"in ur&&ur.parent&&Fn.add(ur.parent)}),nr.forEach(ur=>{Fn.has(ur)||ur.off("dirty",Tn)}),Fn.forEach(ur=>{nr.has(ur)||ur.on("dirty",Tn)}),Tn()};Jt.on("change",An);const vn=()=>{this.emit("change",{node:this,property:"modifier"})};Jt.on("add",vn),Jt.on("delete",vn);const kn=this.destroy;this.destroy=()=>{Jt&&Jt.off("change",An),kn()},Object.defineProperties(this,{visible:{get:()=>Ee,set:nr=>{Ee!==nr&&(Ee=nr,this.emit("change",{node:this,property:"visible"}))}},layer:{get:()=>Pe,set:nr=>{Pe!==nr&&(Pe=nr,this.emit("change",{node:this,property:"layer"}))}},clippable:{get:()=>rt,set:nr=>{rt!==nr&&(rt=nr,this.emit("change",{node:this,property:"clippable"}))}},depthMask:{get:()=>Ft,set:nr=>{Ft!==nr&&(Ft=nr,this.emit("change",{node:this,property:"depthMask"}))}},morphKeyIndex:{get:()=>Wt,set:nr=>{Wt!==nr&&(Wt=nr,this.emit("change",{node:this,property:"morphKeyIndex"}))}},morphFactor:{get:()=>Ot,set:nr=>{Ot!==nr&&(Ot=nr,this.emit("change",{node:this,property:"morphFactor"}))}},modifiers:{get:()=>Jt,set:nr=>{const ur=Jt?.size||0;Jt!==nr&&(Jt&&(Jt.off("change",An),Jt.off("add",vn),Jt.off("delete",vn)),Jt=nr,Jt&&(Jt.on("change",An),Jt.on("add",vn),Jt.on("delete",vn)),(Jt?.size||ur)&&vn())}},renderOrder:{get:()=>Dt,set:nr=>{Dt!==nr&&(Dt=nr,this.emit("change",{node:this,property:"renderOrder"}))}}})}}class sn extends bt{constructor(...a){super(...a),d(this,"playBackRate",void 0),d(this,"emissionAverage",void 0),d(this,"emissionVariance",void 0),d(this,"pointSize",void 0),d(this,"perspectivePoints",void 0),d(this,"roundPoints",void 0),d(this,"pointUVScale",void 0),d(this,"id",void 0),d(this,"name",void 0),d(this,"loaded",void 0),d(this,"subSystemIds",void 0)}}class Yt extends le{constructor(a){const{transparent:g=!1,opacity:u=1,type:O="",name:H=""}=a||{};super(),d(this,"transparent",void 0),d(this,"opacity",void 0),d(this,"type",void 0),d(this,"name",void 0),d(this,"blendMode",void 0);let te=g,Q=u,be=O,Me=a?.blendMode||"normal";this.name=H;const Ee=this.destroy;this.destroy=()=>{this.emit("destroy",{material:this}),Ee()},Object.defineProperties(this,{transparent:{get:()=>te,set:Pe=>{Pe!==te&&(te=Pe,this.emit("change",{material:this,property:"transparent"}))}},opacity:{get:()=>Q,set:Pe=>{Pe!==Q&&(Q=Pe,this.emit("change",{material:this,property:"opacity"}))}},blendMode:{get:()=>Me,set:Pe=>{Pe!==Me&&(Me=Pe,this.emit("change",{material:this,property:"blendMode"}))}},type:{get:()=>be,set:Pe=>{Pe!==be&&(be=Pe,this.emit("change",{material:this,property:"type"}))}}})}}function Qe(f){return f?St(f):null}function Lt(f,a){const g=new Float32Array(a);if(f)for(let u=0;u<f.length;u++)g[u]=f[u];return g}class Mn extends Yt{constructor(a){const{baseColor:g,emitColor:u,metallic:O,roughness:H,specularf0:te,specularColor:Q,shine:be,glassFactor:Me,murkiness:Ee,textures:Pe,baseFresnel:rt,emitFresnel:Dt,specularFresnel:Ft,transparencyFresnel:Wt,alphaFresnel:Ot,reflectionFresnel:Jt,reflectionMap:Fn,...Tn}=a||{};var kn;super(Tn),d(this,"baseColor",void 0),d(this,"emitColor",void 0),d(this,"metallic",void 0),d(this,"roughness",void 0),d(this,"specularf0",void 0),d(this,"specularColor",void 0),d(this,"shine",void 0),d(this,"glassFactor",void 0),d(this,"murkiness",void 0),d(this,"textures",void 0),d(this,"baseFresnel",void 0),d(this,"emitFresnel",void 0),d(this,"specularFresnel",void 0),d(this,"transparencyFresnel",void 0),d(this,"alphaFresnel",void 0),d(this,"reflectionFresnel",void 0),d(this,"reflectionMap",void 0),this.type=Tn.type||"phong",this.baseColor=Lt(g,[1,1,1]),this.emitColor=Lt(u,[1,1,1,0]),this.metallic=O??1,this.roughness=H??1,this.specularf0=te??.1,this.specularColor=Lt(Q,[1,1,1]),this.shine=be??70,this.glassFactor=Me??0,this.murkiness=Ee??1,this.textures=function(kn){if(!kn)return[];if(!Array.isArray(kn))throw new Error("textures option must an array of texture layers.");const nr=[];return kn.forEach(ur=>{const{texture:Qn,applyTo:kr,blendMode:$r,blendFactor:Vr=1}=ur;nr.push({texture:Qn,applyTo:kr,blendMode:$r,blendFactor:Vr})}),nr}(Pe),this.baseFresnel=Qe(rt),this.emitFresnel=Qe(Dt),this.specularFresnel=Qe(Ft),this.transparencyFresnel=Qe(Wt),this.alphaFresnel=Qe(Ot),this.reflectionFresnel=Qe(Jt),this.reflectionMap=(kn=Fn)?Object.assign({},kn):null;const An=()=>{this.emit("change",{material:this,property:"texture"})};this.textures.forEach(kn=>{kn.texture.on("change",An),kn.texture.on("resize",An),kn.texture.on("update",An)});const vn=this.destroy;this.destroy=()=>{this.textures.forEach(kn=>{kn.texture.off("change",An),kn.texture.off("resize",An),kn.texture.off("update",An)}),this.textures.length=0,vn()}}}const vt=function(f){if(null==f)return;if("number"==typeof f)return[f,f,f];const{r:a,g,b:u,a:O}=f;return void 0===O?[a,g,u]:[a,g,u,O]},ze=/^([^/]+)\/([^/.]+)/;function nn(f){const a=ze.exec(f);if(!a)throw new Error(`Unable to parse material id "${f}"`);const[,g,u]=a;return"content/states/"+g+"/materials/"+u+"/"}const Ye={metallic:new Set(["specular","shine"]),phong:new Set(["metallic","roughness"])},At=["alphaFresnel","reflectionFresnel","transparencyFresnel"],Pn=["baseFresnel","emitFresnel","specularFresnel"],Yn={blendMode:"multiply",power:1},gr={alphaFresnel:0,reflectionFresnel:1,transparencyFresnel:0,baseFresnel:1,specularFresnel:0,emitFresnel:0},vr=new Set(["add","multiply"]),vi=new Set(["add","multiply","forceAdd","over"]);function ro(){return ro=S(function*(f,a,g){const u=!!f.nodes?.some(Ot=>"flags"===Ot.type&&!0===Ot.flags.transparent),O=f.alpha??1,H=vt(f.baseColor),te=f.emit||0,Q=f.emitColor?vt({...f.emitColor,a:te}):[1,1,1,te],be=[],Me={transparent:u,opacity:O,name:f.id||a,baseColor:H,emitColor:Q,textures:be};f.nodes?.some(Ot=>"flags"===Ot.type&&!0===Ot.flags.addBlend)&&(Me.blendMode="add");const Ee="workflow"in f?f.workflow:"phong";var Ot;"workflow"in f?"metallic"===f.workflow&&Object.assign(Me,function(Ot){const{metallic:Jt,roughness:Fn,specularf0:Tn}=Ot,An={type:"metallic",metallic:Jt,roughness:Fn,specularf0:Tn};return"reflectionId"in Ot&&console.warn("Material reflection maps are not supported on metallic/PBR materials."),An}(f)):Object.assign(Me,yield(Ot=S(function*(Jt,Fn,Tn){const{shine:An,glassFactor:vn=1,murkiness:kn}=Jt,nr={type:"phong",shine:An,glassFactor:vn,murkiness:kn,specularColor:Jt.specularColor?vt(Jt.specularColor):[1,1,1]};if(Jt.reflectionId){if(!Tn.getAssetLibrary&&!Tn.server)throw new Error("Unable to load reflection asset without getAssetLibrary or server option");const ur=Fn.replace(/\/materials\..*/,"/reflections."+Jt.reflectionId);try{const Qn=Tn.baseUrl||"",kr=Tn.getAssetLibrary||((Vr,Fr,di)=>Tn.server.getAssetLibrary(Qn,Vr,Fr,di)),$r=yield Oe(kr,Qn,ur,Tn.server);$r&&(nr.reflectionMap={texture:$r.texture,intensity:$r.intensity,mipLevels:$r.mipLevels})}catch(Qn){console.warn("Unable to load reflection asset "+ur+" for material "+Fn,Qn)}}return nr}),function(Jt,Fn,Tn){return Ot.apply(this,arguments)})(f,a,g));const Pe=f.nodes?.find(Ot=>"texture"===Ot.type&&Ot?.layers.length>0),rt=[],Dt=new Set,Ft=Symbol(a);if(Pe?.layers.length){const Ot=nn(a),Jt=b(Tn=>g.textureCache.get(Ft,Tn)),Fn=Ye[Ee];Pe.layers.forEach(Tn=>{let An=Tn.blendMode||"over",vn=Tn.applyTo;if("add"===An?An="over":"forceAdd"===An&&(An="add"),!vi.has(An))throw new Error("Texture has invalid blend mode: "+An);if("color"===vn&&(vn="baseColor"),Fn.has(vn))return void console.warn(`"${vn}" texture channels are not supported on ${Ee} materials.`);const kn={texture:null,applyTo:vn,blendMode:An,blendFactor:Tn.blendFactor??1};be.push(kn);const ur=Le(g.baseUrl||"",Tn.src||Ot+(Tn.uri||""));Dt.add(ur),rt.push(Jt(ur).then(Qn=>{if(kn.texture=Qn,!Qn)throw new Error("Failed to load texture")}).catch(Qn=>{console.warn("Error loading image",ur,Qn);const kr=be.indexOf(kn);kr>=0&&be.splice(kr,1)}))})}At.forEach(Ot=>{const Jt=f[Ot];if(Jt){if(Jt.blendMode&&!vr.has(Jt.blendMode))throw new Error(`Fresnel (${Ot}) has invalid blend mode: ${Jt.blendMode}`);const Fn=gr[Ot],Tn=1-Fn;Me[Ot]={...Yn,edge:Fn,center:Tn,...Jt}}}),Pn.forEach(Ot=>{const Jt=f[Ot];if(Jt){if(Jt.blendMode&&!vr.has(Jt.blendMode))throw new Error(`Fresnel (${Ot}) has invalid blend mode: ${Jt.blendMode}`);const Fn=gr[Ot],Tn=1-Fn;Me[Ot]={...Yn,...Jt,center:vt(Jt.center?Jt.center:Tn),edge:vt(Jt.edge?Jt.edge:Fn)}}}),yield Promise.all(rt);const Wt=new Mn(Me);return Wt.on("destroy",()=>{Dt.forEach(Ot=>g.textureCache.release(Ft,Ot))}),Wt}),ro.apply(this,arguments)}const wi=f=>f?.map(({blendFactor:a=1,blendMode:g="over",...u})=>({...u,blendFactor:a,blendMode:g}))||[],_o=f=>f?.map(({blendFactor:a=1,blendMode:g="over",channel:u="r",invert:O=!1,...H})=>({...H,blendFactor:a,blendMode:g,channel:u,invert:O}))||[];class Uo extends Yt{constructor(a){const{blendMode:g,baseColor:u,baseColorMaps:O,opacityMaps:H,baseColorFresnel:te,opacityFresnel:Q,...be}=a||{};super(be),d(this,"baseColor",void 0),d(this,"baseColorMaps",void 0),d(this,"opacityMaps",void 0),d(this,"baseColorFresnel",void 0),d(this,"opacityFresnel",void 0),this.blendMode=g||"normal",this.baseColor=Lt(u,[1,1,1]),this.baseColorMaps=wi(O),this.opacityMaps=_o(H),this.baseColorFresnel=Qe(te),this.opacityFresnel=Qe(Q);const Me=()=>{this.emit("change",{material:this,property:"texture"})},Ee=new Set([...this.baseColorMaps,...this.opacityMaps].map(({texture:rt})=>rt));Ee.forEach(rt=>{rt.on("change",Me),rt.on("resize",Me),rt.on("update",Me)});const Pe=this.destroy;this.destroy=()=>{Ee.forEach(rt=>{rt.off("change",Me),rt.off("resize",Me),rt.off("update",Me)}),this.baseColorMaps.length=0,this.opacityMaps.length=0,Pe()}}}class So extends Uo{constructor(a){super({...a,type:"unlit"})}}class yo extends Uo{constructor(a){const{normalMaps:g,metallic:u,metallicMaps:O,occlusionMaps:H,roughness:te,roughnessMaps:Q,emissive:be,emissiveMaps:Me,ior:Ee,specularFactor:Pe,specularFactorMaps:rt,specularColor:Dt,specularColorMaps:Ft,emissiveFresnel:Wt,...Ot}=a||{};super({...Ot,type:"physical"}),d(this,"normalMaps",void 0),d(this,"metallic",void 0),d(this,"metallicMaps",void 0),d(this,"occlusionMaps",void 0),d(this,"roughness",void 0),d(this,"roughnessMaps",void 0),d(this,"emissive",void 0),d(this,"emissiveMaps",void 0),d(this,"ior",void 0),d(this,"specularFactor",void 0),d(this,"specularFactorMaps",void 0),d(this,"specularColor",void 0),d(this,"specularColorMaps",void 0),d(this,"emissiveFresnel",void 0);let Jt=u??0,Fn=Ee??1.5,Tn=te??1,An=Pe??1;var vn;this.normalMaps=(vn=g,vn?.map(({blendFactor:Qn=1,blendMode:kr="over",...$r})=>({...$r,blendFactor:Qn,blendMode:kr}))||[]),this.metallicMaps=_o(O),this.roughnessMaps=_o(Q),this.occlusionMaps=_o(H),this.emissive=Lt(be,[0,0,0]),this.emissiveMaps=wi(Me),this.specularFactorMaps=_o(rt),this.specularColor=Lt(Dt,[1,1,1]),this.specularColorMaps=wi(Ft),this.emissiveFresnel=Qe(Wt);const kn=()=>{this.emit("change",{material:this,property:"texture"})},nr=new Set([...this.metallicMaps,...this.roughnessMaps,...this.occlusionMaps,...this.emissiveMaps].map(({texture:Qn})=>Qn));nr.forEach(Qn=>{Qn.on("change",kn),Qn.on("resize",kn),Qn.on("update",kn)});const ur=this.destroy;this.destroy=()=>{nr.forEach(Qn=>{Qn.off("change",kn),Qn.off("resize",kn),Qn.off("update",kn)}),this.emissiveMaps.length=0,this.specularColorMaps.length=0,this.normalMaps.length=0,this.metallicMaps.length=0,this.occlusionMaps.length=0,this.roughnessMaps.length=0,this.specularFactorMaps.length=0,ur()},Object.defineProperties(this,{metallic:{get:()=>Jt,set:Qn=>{Qn!==Jt&&(Jt=Qn,this.emit("change",{material:this,property:"metallic"}))}},roughness:{get:()=>Tn,set:Qn=>{Qn!==Tn&&(Tn=Qn,this.emit("change",{material:this,property:"roughness"}))}},ior:{get:()=>Fn,set:Qn=>{Qn!==Fn&&(Fn=Qn,this.emit("change",{material:this,property:"ior"}))}},specularFactor:{get:()=>An,set:Qn=>{Qn!==An&&(An=Qn,this.emit("change",{material:this,property:"specularFactor"}))}}})}}function ts(f,a){return{name:f.id||a,baseColor:vt(f.baseColor)}}const Xo=new Set(["add","multiply"]),Io=(f,a,g,u,O)=>function(){var H=S(function*(te,Q,be){const Me={...ts(te,Q),...a(te)},Ee=Symbol(Q),Pe=nn(Q),rt=[];yield Promise.all(g.map(function(){var Ft=S(function*(Wt){const Ot=te[Wt];if(Ot){const Jt=yield Promise.all(Ot.map(function(){var Fn=S(function*(Tn){const{uri:An,...vn}=Tn,nr=Le(be.baseUrl||"",Pe+(An||""));try{const ur=yield(Qn=nr,be.textureCache.get(Ee,Qn));return rt.push(nr),{...vn,texture:ur}}catch(ur){return console.warn("Error loading image",nr,ur),null}var Qn});return function(Tn){return Fn.apply(this,arguments)}}()));Me[Wt]=Jt.filter(Fn=>!!Fn)}});return function(Wt){return Ft.apply(this,arguments)}}())),u.forEach(Ft=>{const Wt=te[Ft];if(Wt){if(Wt.blendMode&&!Xo.has(Wt.blendMode))throw new Error(`Fresnel (${Ft}) has invalid blend mode: ${Wt.blendMode}`);Me[Ft]={...Wt}}}),O.forEach(Ft=>{const Wt=te[Ft];if(Wt){if(Wt.blendMode&&!Xo.has(Wt.blendMode))throw new Error(`Fresnel (${Ft}) has invalid blend mode: ${Wt.blendMode}`);Me[Ft]={...Wt,center:vt(Wt.center),edge:vt(Wt.edge)}}});const Dt=new f(Me);return Dt.on("destroy",()=>{rt.forEach(Ft=>be.textureCache.release(Ee,Ft))}),Dt});return function(te,Q,be){return H.apply(this,arguments)}}(),Fe=Io(So,function(f){const{opacity:a,blendMode:g}=f;return{opacity:a,blendMode:g}},["baseColorMaps","opacityMaps"],["opacityFresnel"],["baseColorFresnel"]),_t=Io(yo,function(f){const{opacity:a,blendMode:g,ior:u,metallic:O,roughness:H,specularFactor:te}=f;return{opacity:a,blendMode:g,emissive:vt(f.emissive),ior:u,metallic:O,roughness:H,specularColor:vt(f.specularColor),specularFactor:te}},["baseColorMaps","emissiveMaps","metallicMaps","normalMaps","occlusionMaps","opacityMaps","roughnessMaps","specularColorMaps","specularFactorMaps"],["opacityFresnel"],["baseColorFresnel","emissiveFresnel"]);function bn(f,a,g){return"workflow"in f&&"metallic"!==f.workflow?"physical"===f.workflow?_t(f,a,g):"unlit"===f.workflow?Fe(f,a,g):null:function to(f,a,g){return ro.apply(this,arguments)}(f,a,g)}function xn(f,a){return zn.apply(this,arguments)}function zn(){return zn=S(function*(f,a){if("materialId"in f)return a.loadMaterial(f.materialId,a);if(void 0!==f.material&&"workflow"in f.material)return bn(f.material,f.material.id,a);const g=f.material?.baseColor?vt(f.material.baseColor):null,u=f.material&&"alpha"in f.material&&void 0!==f.material.alpha?f.material?.alpha:1,O=Symbol("particle material:"+f.id),H=[],te={transparent:!0,opacity:u,baseColor:g,textures:H,name:f.id},Q=[],be=new Set;if("textures"in f){const Ee=f.textures?.length&&b(Pe=>a.textureCache.get(O,Pe));for(let Pe=0,rt=f.textures?.length||0;Pe<rt;Pe++){const Dt=f.textures[Pe],{src:Ft}=Dt;let Wt=Dt.applyTo||"baseColor";"color"===Wt&&(Wt="baseColor");const Ot={texture:null,applyTo:Wt,blendMode:"over",blendFactor:1};H.push(Ot);const Jt=Le(a?.baseUrl||"",Ft.startsWith("/")?""+Ft:"/content/states/"+Ft);be.add(Jt),Q.push(Ee(Jt).then(Fn=>{Ot.texture=Fn}).catch(Fn=>{console.warn("Error loading image",Jt,Fn);const Tn=H.indexOf(Ot);Tn>=0&&H.splice(Tn,1)}))}yield Promise.all(Q)}const Me=new Mn(te);return Me.on("destroy",()=>{be.forEach(Ee=>a.textureCache.release(O,Ee))}),Me}),zn.apply(this,arguments)}const ir=w(7928),Pr=(0,L.create)(),et=(0,L.create)();function $t(f,a,g){if(g?(0,L.fromScaling)(et,g):(0,L.identity)(et),a){const u=a[0],O=a[1],H=a[2];u&&((0,L.fromXRotation)(Pr,u),(0,L.multiply)(et,Pr,et)),O&&((0,L.fromYRotation)(Pr,O),(0,L.multiply)(et,Pr,et)),H&&((0,L.fromZRotation)(Pr,H),(0,L.multiply)(et,Pr,et))}return(0,ir.fromMat4)(f,et)}const Vn=(0,m.create)(),Tr=Math.PI/180,ei=(0,m.create)(),Si=Math.PI/180,Ri=2*Math.PI,io=(0,m.create)(),Ci=Math.PI/180,yi=Math.PI/180,Yi=(0,m.create)(),so=(0,m.create)(),Co=Math.PI/180,qi=Math.PI,jo=2*qi,$n=Math.PI/180;class un{constructor(){d(this,"translate",void 0),d(this,"rotate",void 0),d(this,"scale",void 0),d(this,"xform",void 0),d(this,"inverseXform",void 0),d(this,"normalXform",void 0),d(this,"dirty",void 0)}}const Ge={shapeTranslate:"translate",shapeRotate:"rotate",shapeScale:"scale"};function xt(f,a,g,u,O){const H=Ge[a],te=H&&f[H];return"shapeRotate"===a&&(g*=$n,u*=$n,O*=$n),!!te&&(te[0]=g,te[1]=u,te[2]=O,f.dirty=!0,!0)}class rn extends un{constructor(a){super(),this.translate=a?.translate?(0,m.clone)(a.translate):null,this.xform=a?.scale||a?.rotate?(0,ir.create)():null,this.xform?(this.rotate=(0,m.fromValues)(0,0,0),a?.rotate&&(0,m.scale)(this.rotate,a.rotate,$n),this.scale=(0,m.fromValues)(1,1,1),a?.scale&&(0,m.copy)(this.scale,a.scale),this.inverseXform=(0,ir.create)(),this.normalXform=(0,ir.create)(),this.dirty=!0,this.updateXform()):(this.rotate=null,this.scale=null,this.inverseXform=null,this.normalXform=null,this.dirty=!1)}updateXform(){this.xform&&this.dirty&&($t(this.xform,this.rotate,this.scale),(0,ir.invert)(this.inverseXform,this.xform),(0,ir.transpose)(this.normalXform,this.inverseXform)),this.dirty=!1}}const Hn=Math.PI/180,Dr=(0,ir.create)();function Qr(f,a){return a[0]*f.normal[0]+a[1]*f.normal[1]+a[2]*f.normal[2]}function Qi(f){const a=f[0],g=f[1],u=f[2];return a*a+g*g+u*u}const Gi={Cube:class extends rn{in(f){const a=f[0],g=f[1],u=f[2];return a>=-.5&&a<=.5&&g>=-.5&&g<=.5&&u>=-.5&&u<=.5}out(f){const a=f[0],g=f[1],u=f[2];return a<=-.5||a>=.5||g<=-.5||g>=.5||u<=-.5||u>=.5}surfaceProjection(f,a,g){let u=f[0],O=f[1],H=f[2];const te=Math.abs(u+.5),Q=Math.abs(u-.5),be=Math.abs(O+.5),Me=Math.abs(O-.5),Ee=Math.abs(H+.5),Pe=Math.abs(H-.5);te<Q&&te<be&&te<Me&&te<Ee&&te<Pe?(u=-.5,(0,m.set)(g,-1,0,0)):Q<be&&Q<Me&&Q<Ee&&Q<Pe?(u=.5,(0,m.set)(g,1,0,0)):be<Me&&be<Ee&&be<Pe?(O=-.5,(0,m.set)(g,0,-1,0)):Me<Ee&&Me<Pe?(O=.5,(0,m.set)(g,0,1,0)):Ee<Pe?(H=-.5,(0,m.set)(g,0,0,-1)):(H=.5,(0,m.set)(g,0,0,1)),a[0]=we(u,-.5,.5),a[1]=we(O,-.5,.5),a[2]=we(H,-.5,.5),this.xform&&(this.updateXform(),(0,m.transformMat3)(a,a,this.xform),(0,m.transformMat3)(g,g,this.normalXform),(0,m.normalize)(g,g)),this.translate&&(0,m.add)(a,a,this.translate)}},Cylinder:class extends rn{in(f){const a=f[0],g=f[1],u=f[2];return a*a+u*u<=1&&g>=-1&&g<=1}out(f){const a=f[0],g=f[1],u=f[2];return a*a+u*u>=1||g<=-1||g>=1}surfaceProjection(f,a,g){let u=f[0],O=f[1],H=f[2];if(O<=-1)(0,m.set)(g,0,-1,0),O=-1;else if(O>=1)(0,m.set)(g,0,1,0),O=1;else{const te=Math.sqrt(u*u+H*H);te>=1||1-Math.abs(O)>=1-te?(u/=te,H/=te,(0,m.set)(g,u,0,H)):(O=Math.sign(O),(0,m.set)(g,0,O,0))}a[0]=u,a[1]=O,a[2]=H,this.xform&&(this.updateXform(),(0,m.transformMat3)(a,a,this.xform),(0,m.transformMat3)(g,g,this.normalXform),(0,m.normalize)(g,g)),this.translate&&(0,m.add)(a,a,this.translate)}},Plane:class extends un{constructor(a){super(),d(this,"translate",void 0),d(this,"rotate",void 0),d(this,"normal",void 0),d(this,"distance",void 0),d(this,"xform",void 0),d(this,"dirty",!0),this.translate=(0,m.clone)(a.translate||[0,0,0]),this.rotate=(0,m.clone)(a.rotate||[0,0,0]),a.rotate&&(0,m.scale)(this.rotate,a.rotate,Hn),this.normal=(0,m.create)(),this.distance=0,this.updateXform()}updateXform(){this.dirty&&(this.normal[0]=0,this.normal[1]=1,this.normal[2]=0,$t(Dr,this.rotate),(0,m.transformMat3)(this.normal,this.normal,Dr),this.distance=(0,m.dot)(this.translate,this.normal),this.dirty=!1)}in(a){return this.updateXform(),Qr(this,a)<=this.distance}out(a){return this.updateXform(),Qr(this,a)>=this.distance}surfaceProjection(a,g,u){this.updateXform(),u[0]=this.normal[0],u[1]=this.normal[1],u[2]=this.normal[2];const O=Ce.get();(0,m.scale)(O,u,this.distance-(0,m.dot)(a,u)),(0,m.add)(g,a,O),Ce.release(O)}},Sphere:class extends rn{in(f){return Qi(f)<=1}out(f){return Qi(f)>=1}surfaceProjection(f,a,g){(0,m.normalize)(a,f),U(g)?g.set(a):(0,m.copy)(g,a),this.xform&&(this.updateXform(),(0,m.transformMat3)(a,a,this.xform),(0,m.transformMat3)(g,g,this.normalXform),(0,m.normalize)(g,g)),this.translate&&(0,m.add)(a,a,this.translate)}}},vo=Gi;function Do(f,a,g,u){const O=3*u;return f[0]=g[O],f[1]=g[O+1],f[2]=g[O+2],a?.translate&&(f[0]-=a.translate[0],f[1]-=a.translate[1],f[2]-=a.translate[2]),a?.inverseXform&&(a instanceof rn&&a.updateXform(),(0,m.transformMat3)(f,f,a.inverseXform)),f}const Ao=(0,m.create)(),Ms=(0,m.create)(),Ks=(0,m.create)(),ms=(0,m.create)(),Go=(0,m.create)(),Qo=(0,m.create)(),os=(0,m.create)(),ns=ee/1e3,Rs={CubePosition:function(f){const a=f.translate?(0,m.clone)(f.translate):null,g=f.scale||f.rotate?(0,ir.create)():null,u=g?(0,m.create)():null;f.rotate&&(0,m.scale)(u,f.rotate,Tr);const O={scale:g?(0,m.clone)(f.scale)||(0,m.fromValues)(1,1,1):null,rotate:u,translate:a};let H=!0;return{set(te,Q,be,Me){"rotate"===te?(0,m.set)(u,Q*Tr,be*Tr,Me*Tr):te in O&&(0,m.set)(O[te],Q,be,Me),H=!0},update(te,Q,be){const Me=te.get("position");g&&H&&($t(g,u,O.scale),H=!1);for(let Ee=Q,Pe=3*Ee;Ee<be;Ee++,Pe+=3)Vn[0]=Math.random()-.5,Vn[1]=Math.random()-.5,Vn[2]=Math.random()-.5,g&&(0,m.transformMat3)(Vn,Vn,g),a&&(0,m.add)(Vn,Vn,a),Me.set(Vn,Pe)}}},CylinderPosition:function(f){const a=f.translate?(0,m.clone)(f.translate):null,g=f.scale||f.rotate?(0,ir.create)():null,u=g?(0,m.create)():null;f.rotate&&(0,m.scale)(u,f.rotate,Si);const O={scale:g?(0,m.clone)(f.scale)||(0,m.fromValues)(1,1,1):null,rotate:u,translate:a};let H=!0;return{set(te,Q,be,Me){"rotate"===te?(0,m.set)(u,Q*Si,be*Si,Me*Si):te in O&&(0,m.set)(O[te],Q,be,Me),H=!0},update(te,Q,be){const Me=te.get("position");g&&H&&($t(g,u,O.scale),H=!1);for(let Ee=Q,Pe=3*Ee;Ee<be;Ee++,Pe+=3){const rt=Math.random()*Ri,Dt=Math.random(),Ft=2*Math.random()-1;ei[0]=Dt*Math.cos(rt),ei[1]=Ft,ei[2]=Dt*Math.sin(rt),g&&(0,m.transformMat3)(ei,ei,g),a&&(0,m.add)(ei,ei,a),Me.set(ei,Pe)}}}},DirectionalVelocity:function(f){const a=(0,m.clone)(f.directionAverage);(0,m.normalize)(a,a);const g={directionAverage:a},u={forceAverage:f.forceAverage,forceVariance:f.forceVariance||0,directionVariance:f.directionVariance||0};return{components:["velocity"],set(O,H,te,Q){O in g?(0,m.set)(g[O],H,te,Q):O in u&&(u[O]=H)},update(O,H,te){const Q=O.get("velocity"),{forceAverage:be,forceVariance:Me,directionVariance:Ee}=u;for(let Pe=H,rt=3*Pe;Pe<te;Pe++,rt+=3){const Dt=be+2*Math.random()*Me-Me;io[0]=a[0]+2*Math.random()*Ee-Ee,io[1]=a[1]+2*Math.random()*Ee-Ee,io[2]=a[2]+2*Math.random()*Ee-Ee,(0,m.normalize)(io,io),Q[rt]+=io[0]*Dt,Q[rt+1]+=io[1]*Dt,Q[rt+2]+=io[2]*Dt}}}},Lifetime:function(f){const a={average:f.average,variance:f.variance||0};return{components:["lifetime","age"],set(g,u){g in a&&(a[g]=u)},update(g,u,O){const H=g.get("age"),te=g.get("lifetime");let{average:Q,variance:be}=a;be>Q&&(Q=be=(Q+be)/2);for(let Me=u;Me<O;Me++)H[Me]=0,te[Me]=Q,be>0&&(te[Me]+=2*Math.random()*be-be)}}},PointPosition:function(f){const a=(0,m.clone)(f.position),g={position:a};return{set(u,O,H,te){u in g&&(0,m.set)(g[u],O,H,te)},update(u,O,H){const te=u.get("position");for(let Q=O,be=3*Q;Q<H;Q++,be+=3)te.set(a,be)}}},RandomRotation:function(f){const a={average:f.average*Ci,variance:(f.variance||0)*Ci};return{components:["uvRotate"],set(g,u){g in a&&(a[g]=u*Ci)},update(g,u,O){const H=g.get("uvRotate"),{average:te,variance:Q}=a;for(let be=u;be<O;be++){let Me=te;Q>0&&(Me+=2*Math.random()*Q-Q),H[be]=Me}}}},RandomRotationSpeed:function(f){const a={average:f.average*yi,variance:(f.variance||0)*yi};return{components:["rotationSpeed","uvRotate"],set(g,u){g in a&&(a[g]=u*yi)},update(g,u,O){const H=g.get("rotationSpeed"),{average:te,variance:Q}=a;for(let be=u;be<O;be++){let Me=te;Q>0&&(Me+=2*Math.random()*Q-Q),H[be]=Me}}}},RandomScale:function(f){const a={average:f.average,variance:f.variance||0};return{components:["scale"],set(g,u){g in a&&(a[g]=u)},update(g,u,O){const H=g.get("scale");let{average:te,variance:Q}=a;Q>te&&(te=Q=(te+Q)/2);for(let be=u;be<O;be++){let Me=te;Q>0&&(Me+=2*Math.random()*Q-Q),H[be]=Me}}}},RandomVelocity:function(f){const a={forceAverage:f.forceAverage,forceVariance:f.forceVariance||0};return{components:["velocity"],set(g,u){g in a&&(a[g]=u)},update(g,u,O){const H=g.get("velocity"),{forceAverage:te,forceVariance:Q}=a;for(let be=u,Me=3*be;be<O;be++,Me+=3){const Ee=te+2*Math.random()*Q-Q;Yi[0]=2*Math.random()-1,Yi[1]=2*Math.random()-1,Yi[2]=2*Math.random()-1,(0,m.normalize)(Yi,Yi),H[Me]+=Yi[0]*Ee,H[Me+1]+=Yi[1]*Ee,H[Me+2]+=Yi[2]*Ee}}}},SpherePosition:function(f){const a=f.translate?(0,m.clone)(f.translate):null,g=f.scale||f.rotate?(0,ir.create)():null,u=g?(0,m.create)():null;f.rotate&&(0,m.scale)(u,f.rotate,Co);const O={scale:g?(0,m.clone)(f.scale)||(0,m.fromValues)(1,1,1):null,rotate:u,translate:a};let H=!0;return{set(te,Q,be,Me){"rotate"===te?(0,m.set)(u,Q*Co,be*Co,Me*Co):te in O&&(0,m.set)(O[te],Q,be,Me),H=!0},update(te,Q,be){const Me=te.get("position");g&&H&&($t(g,u,O.scale),H=!1);for(let Ee=Q,Pe=3*Ee;Ee<be;Ee++,Pe+=3){const rt=Math.random()*qi,Dt=Math.random()*jo,Ft=Math.random(),Wt=Math.sin(rt);so[0]=Ft*Wt*Math.sin(Dt),so[1]=Ft*Math.cos(rt),so[2]=Ft*Wt*Math.cos(Dt),g&&(0,m.transformMat3)(so,so,g),a&&(0,m.add)(so,so,a),Me.set(so,Pe)}}}},SpriteAnimationDuration:function(f,a,g){const u={average:f.average,variance:f.variance||0,startFrame:g.spriteStartFrame||0,endFrame:g.spriteEndFrame||Math.max(0,g.spriteCols*g.spriteCols-1)};return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],set(O,H){O in u&&(u[O]=H)},update(O,H,te){const Q=O.get("spriteFrameDuration"),be=O.get("spriteCurrentTime"),{startFrame:Me,endFrame:Ee}=u,Pe=Ee-Me;let{average:rt,variance:Dt}=u;Dt>rt&&(rt=Dt=(rt+Dt)/2);for(let Ft=H;Ft<te;Ft++){let Wt=rt;Dt>0&&(Wt+=2*Math.random()*Dt-Dt),be[Ft]=0,Q[Ft]=Pe?Math.max(Wt/Pe,0):0}}}}},rr={AgeColorBlend:function(f){const a=[];for(let H=0,te=f.colors.length;H<te;H++)a[H]=new Uint8Array(f.colors[H]);const g=f.shape?new vo[f.shape.type](f.shape):null,O=g?g[f.shape?.direction||"in"].bind(g):null;return{components:["position","age","lifetime","color"],set(H,te,Q,be){xt(g,H,te,Q,be)},update(H,te,Q){const be=H.get("position"),Me=H.get("age"),Ee=H.get("lifetime"),Pe=H.get("color"),rt=a.length-1,Dt=g?Ce.get():null;for(let Ft=te,Wt=4*Ft;Ft<Q;Ft++,Wt+=4)if(!O||O(Do(Dt,g,be,Ft))){const Ot=Ee[Ft]?Me[Ft]/Ee[Ft]*rt:0,Jt=Math.floor(Ot),Tn=a[Jt],An=a[Jt+1]||a[Jt],vn=Ot-Jt,kn=1-vn;Pe[Wt]=kn*Tn[0]+vn*An[0],Pe[Wt+1]=kn*Tn[1]+vn*An[1],Pe[Wt+2]=kn*Tn[2]+vn*An[2],Pe[Wt+3]=kn*Tn[3]+vn*An[3]}Dt&&Ce.release(Dt)}}},AxisForce:function(f){const a=f.forceAverage,g=f.forceVariance||0,u=(0,m.clone)(f.position),O=(0,m.clone)(f.direction);(0,m.normalize)(O,O);const H=f.shape?new vo[f.shape.type](f.shape):null,Q=H?H[f.shape?.direction||"in"].bind(H):null,be={forceAverage:f.forceAverage,forceVariance:f.forceVariance||0};return{components:["velocity","position"],set(Me,Ee,Pe,rt){"shapeTranslate"===Me||"shapeRotate"===Me||"shapeScale"===Me?xt(H,Me,Ee,Pe,rt):Me in be&&(be[Me]=Ee)},update(Me,Ee,Pe,rt){const Dt=Me.get("position"),Ft=Me.get("velocity"),Wt=a*rt,Ot=g*rt,Jt=H?Ce.get():null,Fn=Ce.get(),Tn=Ce.get(),An=Ce.get(),vn=Ce.get();for(let kn=Ee,nr=3*kn;kn<Pe;kn++,nr+=3)if(!Q||Q(Do(Jt,H,Dt,kn))){const ur=nr+1,Qn=nr+2;let kr=Wt;Ot>0&&(kr+=2*Math.random()*Ot-Ot),Fn[0]=Dt[nr],Fn[1]=Dt[ur],Fn[2]=Dt[Qn],(0,m.subtract)(vn,Fn,u);const $r=(0,m.dot)(vn,O);(0,m.scale)(An,O,$r),(0,m.add)(Tn,An,u),(0,m.subtract)(Tn,Fn,Tn),(0,m.normalize)(Tn,Tn),Ft[nr]+=Tn[0]*kr,Ft[ur]+=Tn[1]*kr,Ft[Qn]+=Tn[2]*kr}Jt&&Ce.release(Jt),Ce.release(Fn),Ce.release(Tn),Ce.release(An),Ce.release(vn)}}},BrownianMotion:function(f){const a=f.shape?new vo[f.shape.type](f.shape):null,u=a?a[f.shape?.direction||"in"].bind(a):null,O={forceAverage:f.forceAverage,forceVariance:f.forceVariance||0,frequency:f.frequency};return{components:["velocity","position"],set(H,te,Q,be){"shapeTranslate"===H||"shapeRotate"===H||"shapeScale"===H?xt(a,H,te,Q,be):H in O&&(O[H]=te)},update(H,te,Q,be){const Me=H.get("position"),Ee=H.get("velocity"),Pe=O.frequency*be,rt=O.forceAverage*be,Dt=O.forceVariance*be,Ft=a?Ce.get():null,Wt=Ce.get();for(let Ot=te,Jt=3*Ot;Ot<Q;Ot++,Jt+=3)if((!u||u(Do(Ft,a,Me,Ot)))&&Math.random()<Pe){let Fn=rt;Dt>0&&(Fn+=2*Math.random()*Dt-Dt),Wt[0]=2*Math.random()-1,Wt[1]=2*Math.random()-1,Wt[2]=2*Math.random()-1,(0,m.normalize)(Wt,Wt),Ee[Jt]+=Wt[0]*Fn,Ee[Jt+1]+=Wt[1]*Fn,Ee[Jt+2]+=Wt[2]*Fn}Ft&&Ce.release(Ft),Ce.release(Wt)}}},Gravity:function(f){const a=(0,m.clone)(f.position),g=f.shape?new vo[f.shape.type](f.shape):null,O=g?g[f.shape?.direction||"in"].bind(g):null,H={position:a},te={forceAverage:f.forceAverage,forceVariance:f.forceVariance||0,radius:f.radius};return{components:["velocity","position"],set(Q,be,Me,Ee){"shapeTranslate"===Q||"shapeRotate"===Q||"shapeScale"===Q?xt(g,Q,be,Me,Ee):Q in H?(0,m.set)(H[Q],be,Me,Ee):Q in te&&(te[Q]=be)},update(Q,be,Me,Ee){const{forceAverage:Pe,forceVariance:rt,radius:Dt}=te;if(0===Dt)return;const Ft=Q.get("position"),Wt=Q.get("velocity"),Ot=Pe*Ee,Jt=rt*Ee,Fn=g?Ce.get():null,Tn=H.position,An=Ce.get();for(let vn=be,kn=3*vn;vn<Me;vn++,kn+=3)if(!O||O(Do(Fn,g,Ft,vn))){let nr=Ot;Jt>0&&(nr+=2*Math.random()*Jt-Jt);const ur=kn+1,Qn=kn+2;An[0]=Tn[0]-Ft[kn],An[1]=Tn[1]-Ft[ur],An[2]=Tn[2]-Ft[Qn];const kr=1/Math.max((0,m.length)(An),Dt);(0,m.scale)(An,An,kr),nr*=kr*kr,Wt[kn]+=An[0]*nr,Wt[kn+1]+=An[1]*nr,Wt[kn+2]+=An[2]*nr}Fn&&Ce.release(Fn),Ce.release(An)}}},Friction:function(f){const a=f.shape?new vo[f.shape.type](f.shape):null,u=a?a[f.shape?.direction||"in"].bind(a):null,O={friction:1-f.friction};return{components:["velocity","position"],set(H,te,Q,be){"shapeTranslate"===H||"shapeRotate"===H||"shapeScale"===H?xt(a,H,te,Q,be):H in O&&(O[H]=1-te)},update(H,te,Q,be){const Me=H.get("position"),Ee=H.get("velocity"),Pe=Math.pow(O.friction,be),rt=a?Ce.get():null;for(let Dt=te,Ft=3*Dt;Dt<Q;Dt++,Ft+=3)u&&!u(Do(rt,a,Me,Dt))||(Ee[Ft]*=Pe,Ee[Ft+1]*=Pe,Ee[Ft+2]*=Pe);rt&&Ce.release(rt)}}},Path:function(f,a){const g=function(te){const Q=[];return te.forEach(({position:be,radius:Me,forceAverage:Ee,forceVariance:Pe},rt)=>{const Dt=(0,m.clone)(be),Ft=rt?(0,m.subtract)((0,m.create)(),Dt,Q[rt-1].position):null,Wt=rt?(0,m.length)(Ft):0,Ot={position:Dt,radiusSquared:Me?Me*Me:0,forceVariance:Pe||0,forceAverage:Ee,vec:Ft,dir:rt?(0,m.scale)((0,m.create)(),Ft,1/Wt):null,length:Wt};Q.push(Ot)}),Q}(f.nodes);a.path=g;const u=f.shape?new vo[f.shape.type](f.shape):null,H=u?u[f.shape?.direction||"in"].bind(u):null;return{components:["velocity","position","pathIndex"],set(te,Q,be,Me){xt(u,te,Q,be,Me)},update(te,Q,be,Me){const Ee=te.get("position"),Pe=te.get("velocity"),rt=te.get("pathIndex"),Dt=u?Ce.get():null,Ft=Ce.get(),Wt=Ce.get(),Ot=Ce.get();for(let Jt=Q,Fn=3*Jt;Jt<be;Jt++,Fn+=3)if(!H||H(Do(Dt,u,Ee,Jt))){const Tn=rt[Jt];let An=g[Tn];if(An){const vn=Fn+1,kn=Fn+2;Ft[0]=Ee[Fn],Ft[1]=Ee[vn],Ft[2]=Ee[kn];let nr=null;if(Tn){if((0,m.subtract)(Wt,Ft,g[Tn-1].position),(0,m.dot)(Wt,An.dir)>An.length){const Qn=Tn+1;if(rt[Jt]=Qn,An=g[Qn],An){Ot[0]=Pe[Fn],Ot[1]=Pe[vn],Ot[2]=Pe[kn];const kr=(0,m.length)(Ot);(0,m.scale)(Ot,An.dir,kr),Pe.set(Ot,Fn)}}An&&(nr=An.dir)}else{if((0,m.squaredDistance)(Ft,An.position)<An.radiusSquared){const ur=Tn+1;rt[Jt]=ur,An=g[ur]}An&&((0,m.subtract)(Wt,An.position,Ft),nr=(0,m.normalize)(Wt,Wt))}if(An){const Qn=An.forceVariance*Me;let kr=An.forceAverage*Me;Qn>0&&(kr+=2*Math.random()*Qn-Qn),Pe[Fn]+=nr[0]*kr,Pe[vn]+=nr[1]*kr,Pe[kn]+=nr[2]*kr}}}Dt&&Ce.release(Dt),Ce.release(Ft),Ce.release(Wt),Ce.release(Ot)}}},RadialForce:function(f){const a=(0,m.clone)(f.position),g=f.shape?new vo[f.shape.type](f.shape):null,O=g?g[f.shape?.direction||"in"].bind(g):null,H={position:a},te={forceAverage:f.forceAverage,forceVariance:f.forceVariance||0};return{components:["velocity","position"],set(Q,be,Me,Ee){"shapeTranslate"===Q||"shapeRotate"===Q||"shapeScale"===Q?xt(g,Q,be,Me,Ee):Q in H?(0,m.set)(H[Q],be,Me,Ee):Q in te&&(te[Q]=be)},update(Q,be,Me,Ee){const Pe=Q.get("position"),rt=Q.get("velocity"),Dt=te.forceAverage*Ee,Ft=te.forceVariance*Ee,Wt=g?Ce.get():null,Ot=Ce.get();for(let Jt=be,Fn=3*Jt;Jt<Me;Jt++,Fn+=3)if(!O||O(Do(Wt,g,Pe,Jt))){let Tn=Dt;Ft>0&&(Tn+=2*Math.random()*Ft-Ft);const An=Fn+1,vn=Fn+2;Ot[0]=Pe[Fn]-a[0],Ot[1]=Pe[An]-a[1],Ot[2]=Pe[vn]-a[2],(0,m.normalize)(Ot,Ot),rt[Fn]+=Ot[0]*Tn,rt[An]+=Ot[1]*Tn,rt[vn]+=Ot[2]*Tn}Wt&&Ce.release(Wt),Ce.release(Ot)}}},SpriteAnimation:function(f,a,g){const u=g.spriteRows||0,O=g.spriteCols||1,H=g.spriteStartFrame||0,te=(g.spriteEndFrame||Math.max(0,u*O-1))-H;return{components:["uvTranslate","spriteFrameDuration","spriteCurrentTime"],update(Q,be,Me,Ee){const Pe=Q.get("uvTranslate"),rt=Q.get("spriteFrameDuration"),Dt=Q.get("spriteCurrentTime");for(let Ft=be,Wt=2*Ft,Ot=Ft+1;Ft<Me;Ft++,Wt+=2,Ot+=2){Dt[Ft]=(Dt[Ft]+Ee)%(te*rt[Ft]);const Fn=Math.floor(Dt[Ft]/rt[Ft]);Pe[Wt]=Fn%O/O;const An=Math.floor(Fn/O)+1;Pe[Ot]=-An/u}}}},UniformForce:function(f){const a=(0,m.clone)(f.directionAverage),g=f.shape?new vo[f.shape.type](f.shape):null,O=g?g[f.shape?.direction||"in"].bind(g):null,H={directionAverage:a},te={forceAverage:f.forceAverage,forceVariance:f.forceVariance||0,directionVariance:f.directionVariance||0};return{components:["velocity","position"],set(Q,be,Me,Ee){"shapeTranslate"===Q||"shapeRotate"===Q||"shapeScale"===Q?xt(g,Q,be,Me,Ee):Q in H?(0,m.set)(H[Q],be,Me,Ee):Q in te&&(te[Q]=be)},update(Q,be,Me,Ee){const Pe=Q.get("position"),rt=Q.get("velocity"),{forceAverage:Dt,forceVariance:Ft,directionVariance:Wt}=te,Ot=Dt*Ee,Jt=Ft*Ee,Fn=g?Ce.get():null,Tn=Ce.get();for(let An=be,vn=3*An;An<Me;An++,vn+=3)if(!O||O(Do(Fn,g,Pe,An))){let kn=Ot;Jt>0&&(kn+=2*Math.random()*Jt-Jt),(0,m.copy)(Tn,a),Wt&&(Tn[0]+=2*Math.random()*Wt-Wt,Tn[1]+=2*Math.random()*Wt-Wt,Tn[2]+=2*Math.random()*Wt-Wt,(0,m.normalize)(Tn,Tn)),rt[vn]+=Tn[0]*kn,rt[vn+1]+=Tn[1]*kn,rt[vn+2]+=Tn[2]*kn}Fn&&Ce.release(Fn),Ce.release(Tn)}}}},sr={LifetimeKill:function(){return{components:["lifetime","age","dead"],update(f,a,g){const u=f.get("age"),O=f.get("lifetime"),H=f.get("dead");for(let te=a;te<g;te++)u[te]>=O[te]&&(H[te]=!0)}}},LifetimeStop:function(){return{components:["lifetime","age","stopped"],update(f,a,g){const u=f.get("age"),O=f.get("lifetime"),H=f.get("stopped");for(let te=a;te<g;te++)u[te]>=O[te]&&(H[te]=!0)}}},PathRadius:function(f,a){const{path:g=[]}=a;return{components:["position","pathIndex"],update(u,O,H){const te=u.get("position"),Q=u.get("pathIndex");for(let be=O,Me=3*be;be<H;be++,Me+=3){const Ee=Q[be],Pe=Ee>0?g[Ee]:null;if(Pe){const rt=Me+1,Dt=Me+2;Ao[0]=te[Me],Ao[1]=te[rt],Ao[2]=te[Dt],(0,m.subtract)(Ms,Ao,g[Ee-1].position);const Wt=(0,m.dot)(Ms,Pe.dir);(0,m.scale)(Ks,Pe.dir,Wt),(0,m.subtract)(Ks,Ms,Ks);const Ot=(0,m.squaredLength)(Ks);if(Ot>Pe.radiusSquared){(0,m.normalize)(Ks,Ks);const Jt=(0,m.scale)(Ks,Ks,Math.sqrt(Pe.radiusSquared)-Math.sqrt(Ot));te[Me]=Jt[0],te[rt]=Jt[1],te[Dt]=Jt[2]}}}}}},PathKill:function(f,a){const{path:g=[]}=a,u=g.length;return{components:["position","path","pathIndex","dead"],update(O,H,te){const Q=O.get("pathIndex"),be=O.get("dead");for(let Me=H;Me<te;Me++)Q[Me]>=u&&(be[Me]=!0)}}},PathStop:function(f,a){const{path:g=[]}=a,u=g.length;return{components:["position","path","pathIndex","stopped"],update(O,H,te){const Q=O.get("pathIndex"),be=O.get("stopped");for(let Me=H;Me<te;Me++)Q[Me]>=u&&(be[Me]=!0)}}},ShapeBounce:function(f,a){const g=new vo[f.shape.type](f.shape),u=f.shape.direction||"in",O=!!f.trap,H=a.trapId||0;O&&(a.trapId=H+1);const te=1<<H,Q=["position","velocity"];O&&Q.push("trap");const be=g[u].bind(g);return{components:Q,set(Me,Ee,Pe,rt){xt(g,Me,Ee,Pe,rt)},update(Me,Ee,Pe){const rt=Me.get("position"),Dt=Me.get("velocity"),Ft=O?Me.get("trap"):null,Wt=Ce.get();for(let Ot=Ee;Ot<Pe;Ot++)if(Do(Wt,g,rt,Ot),be(Wt)){if(!O||Ft[Ot]&te){const Jt=3*Ot;g.surfaceProjection(Wt,ms,Go),rt.set(ms,Jt),Qo[0]=Dt[Jt],Qo[1]=Dt[Jt+1],Qo[2]=Dt[Jt+2];const Fn=(0,m.length)(Qo);if(Fn){Qo[0]/=Fn,Qo[1]/=Fn,Qo[2]/=Fn;const Tn=(0,m.dot)(Qo,Go);(0,m.scale)(os,Go,2*Tn),(0,m.subtract)(os,Qo,os),(0,m.scale)(os,os,Fn)}else os[0]=0,os[1]=0,os[2]=0;Dt.set(os,Jt)}}else O&&(Ft[Ot]|=te);Ce.release(Wt)}}},ShapeKill:function(f,a){const g=new vo[f.shape.type](f.shape),u=f.shape.direction||"in",O=!!f.trap,H=a.trapId||0;O&&(a.trapId=H+1);const te=1<<H,Q=["position","dead"];O&&Q.push("trap");const be=g[u].bind(g);return{components:Q,set(Me,Ee,Pe,rt){xt(g,Me,Ee,Pe,rt)},update(Me,Ee,Pe){const rt=Me.get("position"),Dt=Me.get("dead"),Ft=O?Me.get("trap"):null,Wt=Ce.get();for(let Ot=Ee;Ot<Pe;Ot++)Do(Wt,g,rt,Ot),be(Wt)?(!O||Ft[Ot]&te)&&(Dt[Ot]=!0):O&&(Ft[Ot]|=te);Ce.release(Wt)}}},ShapeStop:function(f,a){const g=new vo[f.shape.type](f.shape),u=f.shape.direction||"in",O=!!f.trap,H=a.trapId||0;O&&(a.trapId=H+1);const te=1<<H,Q=["position","stopped"];O&&Q.push("trap");const be=g[u].bind(g);return{components:Q,set(Me,Ee,Pe,rt){xt(g,Me,Ee,Pe,rt)},update(Me,Ee,Pe){const rt=Me.get("position"),Dt=Me.get("stopped"),Ft=O?Me.get("trap"):null,Wt=Ce.get();for(let Ot=Ee;Ot<Pe;Ot++)Do(Wt,g,rt,Ot),be(Wt)?(!O||Ft[Ot]&te)&&(Dt[Ot]=!0):O&&(Ft[Ot]|=te);Ce.release(Wt)}}}},Lr={position:{construct:Float32Array,size:3},velocity:{construct:Float32Array,size:3},color:{construct:Uint8Array,size:4,geometry:!0},scale:{construct:Float32Array,size:1,geometry:!0,init:1},uvRotate:{construct:Float32Array,size:1,geometry:!0},uvTranslate:{construct:Float32Array,size:2,geometry:2,init(f,a,g,u){const{spriteRows:O=0,spriteCols:H=1,spriteStartFrame:te=0}=u,Q=te%H/H,be=(O-1-Math.floor(te/H))/O;for(let Me=2*a,Ee=2*g;Me<Ee;Me+=2)f[Me]=Q,f[Me+1]=be}},dead:{init:!1},stopped:{init:!1}},gi=(0,m.create)();class Ei{constructor(a){d(this,"playBackRate",void 0),d(this,"emissionAverage",void 0),d(this,"emissionVariance",void 0),d(this,"bounds",pn()),d(this,"arrays",void 0),d(this,"particles",void 0),d(this,"active",void 0),d(this,"subSystemIds",void 0),d(this,"update",void 0),d(this,"reset",void 0),d(this,"set",void 0);const{numParticles:g}=a,u=new Float32Array(3*g),O=new Float32Array(3*g),H={position:{data:u,numComponents:3,drawType:35048}},te=new Map([["position",u],["velocity",O]]),Q={},be=new Map;function Me(An){return"function"==typeof An?An:(An.components&&An.components.forEach(vn=>{if(!te.has(vn)){const kn=Lr[vn],nr=kn?.construct||Array,ur=kn?.size||1,Qn=new nr(g*ur);te.set(vn,Qn),kn?.geometry&&(H[vn]={data:Qn,drawType:35048,numComponents:ur})}}),An.update)}const Ee=[];a.creators.filter(An=>!!Rs[An.type]||(console.error(`Undefined particle system creator: '${An.type}'`,An),!1)).forEach(An=>{const vn=Rs[An.type](An,Q,a),kn=Me(vn);Ee.push(kn),An.id&&("function"!=typeof vn?be.set(An.id,vn):console.error("Cannot update component",An.type))});const Pe=[];a.updaters?.filter(An=>!!rr[An.type]||(console.error(`Undefined particle system updater: '${An.type}'`,An),!1)).map(An=>{const vn=rr[An.type](An,Q,a),kn=Me(vn);Pe.push(kn),An.id&&("function"!=typeof vn?be.set(An.id,vn):console.error("Cannot update component",An.type))});const rt=[];a.constraints?.filter(An=>!!sr[An.type]||(console.error(`Undefined particle system constraint: '${An.type}'`,An),!1)).map(An=>{const vn=sr[An.type](An,Q,a),kn=Me(vn);rt.push(kn),An.id&&("function"!=typeof vn?be.set(An.id,vn):console.error("Cannot update component",An.type))});const Dt=a.maxSpeed||0,Ft=Dt*Dt;this.playBackRate=1,this.emissionAverage=a.emissionAverage??1,this.emissionVariance=a.emissionVariance||0,this.subSystemIds=new Set(be.keys());let Wt=1/0,Ot=0,Jt=0;function Fn(An){const vn=Ot-1;Ot--,An!==vn&&te.forEach((kn,nr)=>{const ur=Lr[nr];if(ur?.copy)return void ur.copy(kn,vn,An);const Qn=ur?.size||1;if(1===Qn)kn[An]=kn[vn];else for(let kr=0,$r=vn*Qn,Vr=An*Qn;kr<Qn;kr++,$r++,Vr++)kn[Vr]=kn[$r]})}function Tn(An){const vn=Jt;Jt++,An!==vn&&te.forEach((kn,nr)=>{const ur=Lr[nr];if(ur?.swap)return void ur.swap(kn,vn,An);const Qn=ur?.size||1;if(1===Qn){const kr=kn[An];kn[An]=kn[vn],kn[vn]=kr}else for(let kr=0,$r=vn*Qn,Vr=An*Qn;kr<Qn;kr++,$r++,Vr++){const Fr=kn[Vr];kn[Vr]=kn[$r],kn[$r]=Fr}})}this.update=An=>{const vn=we(An-Wt,0,ns)*this.playBackRate;Wt=An;let kn=!1;if(Ot<g){const fi=this.emissionVariance*vn;let Or=Math.max(this.emissionAverage*vn+2*Math.random()*fi-fi,0);if(Or=Or>=1?Math.floor(Or):Math.random()<Or?1:0,Or>0){const bi=Math.min(Ot+Or,g);te.forEach((Mi,go)=>{const fo=Lr[go];if("function"==typeof fo?.init)return void fo.init(Mi,Ot,bi,a);const Yo=fo?.size||1,xi=fo?.init??0;if(U(Mi))Mi.fill(xi,Ot*Yo,bi*Yo);else if(Array.isArray(Mi))if(1===Yo)for(let wr=Ot;wr<bi;wr++)Mi[wr]=xi;else for(let wr=Ot*Yo,ci=bi*Yo;wr<ci;wr++)Mi[wr]=xi}),Ee.forEach(Mi=>{Mi(te,Ot,bi,vn)}),Ot=bi,kn=!0}}if(Ot>Jt){Pe.forEach(bi=>{bi(te,Jt,Ot,vn)});for(let bi=Jt,Mi=3*bi,go=Mi+1,fo=Mi+2;bi<Ot;bi++,Mi+=3,go+=3,fo+=3){if(gi[0]=O[Mi]*vn,gi[1]=O[go]*vn,gi[2]=O[fo]*vn,Ft>0){const Yo=gi[0]*gi[0]+gi[1]*gi[1]+gi[2]*gi[2];if(Yo>Ft){const xi=Math.sqrt(Yo);(0,m.scale)(gi,gi,Dt/xi),O.set(gi,Mi)}}u[Mi]+=gi[0],u[go]+=gi[1],u[fo]+=gi[2]}const ai=te.get("rotationSpeed");if(ai){const bi=te.get("uvRotate");for(let Mi=Jt;Mi<Ot;Mi++)bi[Mi]+=ai[Mi]*vn}const fi=te.get("age"),Or=te.get("lifetime");if(fi&&Or)for(let bi=Jt;bi<Ot;bi++)fi[bi]=Math.min(fi[bi]+vn,Or[bi]);rt.forEach(bi=>{bi(te,Jt,Ot,vn)}),kn=!0}const nr=te.get("dead"),ur=te.get("stopped");if(nr||ur)for(let ai=Ot-1;ai>=Jt;ai--)nr&&nr[ai]?(Fn(ai),kn=!0):ur&&ur[ai]&&(Tn(ai),kn=!0);let Qn=1/0,kr=1/0,$r=1/0,Vr=-1/0,Fr=-1/0,di=-1/0;for(let ai=0,fi=3*ai,Or=fi+1,bi=fi+2;ai<Ot;ai++,fi+=3,Or+=3,bi+=3){const Mi=u[fi],go=u[Or],fo=u[bi];Mi<Qn&&(Qn=Mi),go<kr&&(kr=go),fo<$r&&($r=fo),Mi>Vr&&(Vr=Mi),go>Fr&&(Fr=go),fo>di&&(di=fo)}return(0,m.set)(this.bounds.min,Qn,kr,$r),(0,m.set)(this.bounds.max,Vr,Fr,di),kn},this.reset=()=>{Ot=0,Jt=0},this.set=(An,vn,kn,nr,ur)=>{const Qn=be.get(An);Qn&&Qn.set&&Qn.set(vn,kn,nr,ur)},Object.defineProperties(this,{arrays:{get:()=>H},particles:{get:()=>Ot},active:{get:()=>Ot-Jt}})}}var Fi=new WeakMap,Wi=new WeakMap;class ho extends sn{constructor(a,g){var u;super(null,null),u=this,M(this,Fi,!1),M(this,Wi,void 0),d(this,"subSystemIds",void 0),d(this,"update",void 0),d(this,"load",void 0),d(this,"start",void 0),d(this,"pause",void 0),d(this,"reset",void 0),d(this,"set",void 0),d(this,"get",void 0),this.layer=a.properties.layer||0,this.depthMask=!1!==a.properties.depthMask,this.pointSize=a.pointSize??1,this.perspectivePoints=a.properties.perspectivePoints??!1,this.roundPoints=a.properties.roundPoints??!1,this.pointUVScale=[1/(a.spriteCols||1),1/(a.spriteRows||1)],v(Wi,this,new Y);const O=new Ei(a),H=this.geometry=new Cn(O.arrays,O.bounds);H.name=a.id,H.topology=it.points,H.count=O.particles;let te=null;this.load=()=>(te||(te=xn(a,g).then(be=>{this.material=be})),te),this.update=be=>{C(Fi,this)||O.update(be)&&(H.count=O.particles,(0,m.copy)(H.bounds.min,O.bounds.min),(0,m.copy)(H.bounds.max,O.bounds.max),H.emit("change",{geometry:H,property:"attributes"}))},this.start=()=>{v(Fi,this,!1)},this.pause=()=>{v(Fi,this,!0)},this.reset=()=>{O.reset(),this.geometry.count=O.particles},this.set=(be,Me,Ee,Pe,rt)=>{O.set(be,Me,Ee,Pe,rt),void 0===Pe&&void 0===rt?C(Wi,this).set(be,Me,Ee):C(Wi,this).set(be,Me,[Ee,Pe,rt])},this.get=(be,Me)=>C(Wi,this).get(be,Me);const Q=this.destroy;this.destroy=S(function*(){u.geometry?.destroy(),u.geometry=null,Q(),!u.material&&te&&(yield te),u.material?.destroy(),u.material=null}),Object.defineProperties(this,{id:{writable:!1,value:a.id},name:{writable:!1,value:a.name||""},subSystemIds:{writable:!1,value:O.subSystemIds},loaded:{get:()=>!!this.material},playBackRate:{get:()=>O.playBackRate,set:be=>{if(be<=0)throw new Error("Negative or zero playback rate not supported");O.playBackRate=be}},emissionAverage:{get:()=>O.emissionAverage,set(be){O.emissionAverage=be}},emissionVariance:{get:()=>O.emissionVariance,set(be){O.emissionVariance=be}}})}}const Bi={};function ko(f,a){Bi[f]&&console.warn(`Worker '${f}' is already registered`,Bi[f]),Bi[f]=a}function ls(f){const a=Bi[f];if(!a)throw new Error(`Worker ${f} is not registered.`);return a()}class Ls extends le{constructor(...a){super(...a),d(this,"arrays",{}),d(this,"particles",0),d(this,"bounds",pn())}}class ys{constructor(){d(this,"add",void 0),d(this,"remove",void 0),d(this,"start",void 0),d(this,"pause",void 0),d(this,"reset",void 0),d(this,"setPlayBackRate",void 0),d(this,"setEmissionAverage",void 0),d(this,"setEmissionVariance",void 0),d(this,"set",void 0),d(this,"destroy",void 0);let a=null,g=0;const u=new Map;function O(){if(a){if(!u.size)return clearTimeout(g),void(g=setTimeout(O,5e3));a.terminate(),a.onmessage=null,a=null}}function H(Q){const{id:be,particles:Me,arrays:Ee,bounds:Pe}=Q.data,{emitter:rt}=u.get(be);rt.particles=Me,(0,m.copy)(rt.bounds.min,Pe.min),(0,m.copy)(rt.bounds.max,Pe.max);const Dt=[],Ft=[];Object.keys(Ee).forEach(Wt=>{const{data:Ot,...Jt}=Ee[Wt];if(rt.arrays[Wt]){if(Me>0){const Fn=Me*(Jt.numComponents||3),Tn=Ot.subarray(0,Fn);rt.arrays[Wt].data.subarray(0,Fn).set(Tn)}}else rt.arrays[Wt]={...Jt,data:Ot.slice()};Ft.push(Ot),Dt.push(Ot.buffer)}),rt.emit("update"),a&&a.postMessage({command:"returnArrays",arrays:Ft},Dt)}function te(Q){const{command:be,id:Me}=Q.data;if("update"===be)H(Q);else if("create"===be){const Ee=u.get(Me);H(Q),Ee.resolved||(Ee.resolved=!0,Ee.resolve(Ee.emitter))}}this.add=Q=>{const{id:be}=Q;if(u.has(be))return console.warn(`Simulation worker manager: Simulation already exists: '${be}'`),u.get(be).promise;let Me,Ee;const Pe=new Promise((rt,Dt)=>{Me=rt,Ee=Dt});return(a||(a=ls("simulation"),a.onmessage=te),a).postMessage({command:"create",id:be,def:Q}),u.set(be,{emitter:new Ls,resolve:Me,reject:Ee,promise:Pe,resolved:!1}),Pe},this.remove=Q=>{u.has(Q)?(u.delete(Q),a&&(a.postMessage({command:"destroy",id:Q}),u.size||(clearTimeout(g),g=setTimeout(O,5e3)))):console.warn(`Simulation worker manager: Simulation not found: '${Q}'`)},this.start=Q=>{u.has(Q)?a&&a.postMessage({command:"start",id:Q}):console.warn(`Simulation worker manager: Simulation not found: '${Q}'`)},this.pause=Q=>{u.has(Q)?a&&a.postMessage({command:"pause",id:Q}):console.warn(`Simulation worker manager: Simulation not found: '${Q}'`)},this.reset=Q=>{u.has(Q)?a&&a.postMessage({command:"reset",id:Q}):console.warn(`Simulation worker manager: Simulation not found: '${Q}'`)},this.setPlayBackRate=(Q,be)=>{u.has(Q)?a&&a.postMessage({command:"playBackRate",id:Q,value:be}):console.warn(`Simulation worker manager: Simulation not found: '${Q}'`)},this.setEmissionAverage=(Q,be)=>{u.has(Q)?a&&a.postMessage({command:"emissionAverage",id:Q,value:be}):console.warn(`Simulation worker manager: Simulation not found: '${Q}'`)},this.setEmissionVariance=(Q,be)=>{u.has(Q)?a&&a.postMessage({command:"emissionVariance",id:Q,value:be}):console.warn(`Simulation worker manager: Simulation not found: '${Q}'`)},this.set=(Q,be,Me,Ee,Pe,rt)=>{u.has(Q)?a&&a.postMessage({command:"set",id:Q,componentId:be,key:Me,x:Ee,y:Pe,z:rt}):console.warn(`Simulation worker manager: Simulation not found: '${Q}'`)},this.destroy=()=>{u.forEach(Q=>{Q.resolved||Q.reject(new Error("Simulation worker manager terminated."))}),u.clear(),O()}}}var Os=new WeakMap;class qo extends sn{constructor(a,g,u){var O;super(null,null),O=this,d(this,"subSystemIds",void 0),M(this,Os,void 0),d(this,"update",void 0),d(this,"load",void 0),d(this,"start",void 0),d(this,"pause",void 0),d(this,"reset",void 0),d(this,"set",void 0),d(this,"get",void 0);const{id:H,name:te}=a;let Q=null;this.layer=a.properties.layer||0,this.depthMask=!1!==a.properties.depthMask,this.pointSize=a.pointSize??1,this.perspectivePoints=a.properties.perspectivePoints??!1,this.roundPoints=a.properties.roundPoints??!1,this.pointUVScale=[1/a.spriteCols||1,1/a.spriteRows||1],this.subSystemIds=new Set([...a.creators.map(Dt=>Dt.id),...a.updaters?.map(Dt=>Dt.id)||[],...a.constraints?.map(Dt=>Dt.id)||[]].filter(Dt=>"string"==typeof Dt)),v(Os,this,new Y);let be=null;this.load=()=>(be||(be=Promise.all([xn(a,u),g.add(a)]).then(([Dt,Ft])=>{this.material=Dt,Q=Ft;const Wt=new Cn(Ft.arrays,Ft.bounds);Wt.name=a.id,Wt.topology=it.points,Wt.count=Ft.particles,Q.on("update",()=>{Wt.count=Ft.particles,(0,m.copy)(Wt.bounds.min,Ft.bounds.min),(0,m.copy)(Wt.bounds.max,Ft.bounds.max),Wt.emit("change",{geometry:Wt,property:"attributes"})}),this.geometry=Wt})),be),this.update=()=>{},this.start=()=>g.start(H),this.pause=()=>g.pause(H),this.reset=()=>{g.reset(H),this.geometry&&(this.geometry.count=0)},this.set=(Dt,Ft,Wt,Ot,Jt)=>{g.set(H,Dt,Ft,Wt,Ot,Jt),void 0===Ot&&void 0===Jt?C(Os,this).set(Dt,Ft,Wt):C(Os,this).set(Dt,Ft,[Wt,Ot,Jt])},this.get=(Dt,Ft)=>C(Os,this).get(Dt,Ft);const Me=this.destroy;this.destroy=S(function*(){O.pause(),g.remove(H),Me(),be&&(yield be,O.geometry?.destroy(),O.geometry=null,O.material?.destroy(),O.material=null)});let Ee=this.playBackRate,Pe=this.emissionAverage,rt=this.emissionVariance;Object.defineProperties(this,{id:{writable:!1,value:H},name:{writable:!1,value:te||""},loaded:{get:()=>!!this.material},playBackRate:{get:()=>Ee,set:Dt=>{if(Dt<=0)throw new Error("Negative or zero playback rate not supported");Ee=Dt,g.setPlayBackRate(H,Ee)}},emissionAverage:{get:()=>Pe,set(Dt){Pe=Dt,g.setEmissionAverage(H,Pe)}},emissionVariance:{get:()=>rt,set(Dt){rt=Dt,g.setEmissionVariance(H,rt)}}})}}const Hs={lights:[{lightId:"light0",params:{mode:"ambient",color:{r:.2,g:.2,b:.2,diffuse:!0}}},{lightId:"light1",params:{mode:"dir",dir:{x:1,y:0,z:-.5},color:{r:.1,g:.1,b:.2},diffuse:!0,specular:!0,space:"view"}},{lightId:"light2",params:{mode:"dir",dir:{x:-1,y:0,z:1},color:{r:.55,g:.5,b:.5},diffuse:!0,specular:!0,space:"view"}},{lightId:"light3",params:{mode:"dir",dir:{x:.25,y:0,z:-1},color:{r:.9,g:.9,b:.9},diffuse:!0,specular:!1,space:"view"}}]},Fo=w(34525);function pa(f,a,g){return f+g*(a-f)}function oa(f,a,g,u){const O=1-u;return a+O*O*(f-a)+u*u*(g-a)}const Ds=[{name:"left",dim:0,direction:1},{name:"right",dim:0,direction:-1},{name:"bottom",dim:1,direction:1},{name:"top",dim:1,direction:-1},{name:"front",dim:2,direction:1},{name:"back",dim:2,direction:-1}];function zs({clips:f,boundary:a,enabled:g}){if(!f||!1===g)return[];const{xmin:u=-1/0,xmax:O=1/0,ymin:H=-1/0,ymax:te=1/0,zmin:Q=-1/0,zmax:be=1/0}=a||{},Me=[O,te,be],Ee=[u,H,Q],Pe=[];return Ds.forEach(({name:rt,dim:Dt,direction:Ft})=>{const Wt=f[rt];if(!Wt?.enabled||!Wt?.progress&&!Wt?.fadeDistance)return;const Ot=(0,Fo.create)();Ot[Dt]=Ft;const Jt=Wt.fade&&Wt.fadeDistance||0,Tn=pa(Ee[Dt],Me[Dt],Ft>0?Wt.progress:1-Wt.progress)-Jt*Ft;Ot[3]=-Ft*Tn,Pe.push({plane:Ot,fade:Jt})}),Pe.sort((rt,Dt)=>rt.fade-Dt.fade),Pe}function Ts(f,a,g){if(!f.length)return 0;const u=Math.max(f.length-1,0);let O=we(g,0,u);for(;O>0&&f[O].time>a;)O--;let H=O+1;for(;H<=u&&f[H].time<=a;)H++;return O=H-1,O}class cs{constructor(a){d(this,"keyFrames",[]),d(this,"value",{}),d(this,"targetData",void 0),d(this,"keyFrameIndex",0),this.targetData=a}update(a){const{keyFrames:g}=this;if(!g.length)return;this.keyFrameIndex=we(Ts(g,a,this.keyFrameIndex),0,g.length-1);const{operations:u}=g[this.keyFrameIndex];for(const O in u)if(Object.prototype.hasOwnProperty.call(u,O)){const H=u[O],te=this.value[O];for(const Q in H)if(Object.prototype.hasOwnProperty.call(H,Q)){const be=H[Q](a);te[Q]=be}}}}function ua(f,a,g,u){const O=a-f;if("object"!=typeof u){if(!O)return()=>u;const Me=u,Ee="object"==typeof g?g.value:g;return Pe=>{const rt=we((Pe-f)/O,0,1);return pa(Ee,Me,rt)}}const H=u.value,te="object"==typeof g?g.value:g,[Q,be]=u.controlPoints.y;return Me=>{const Ee=we((Me-f)/O,0,1);return Ft=H,(1-(Wt=Ee))*oa(te,rt=Q,Dt=be,Wt)+Wt*oa(rt,Dt,Ft,Wt);var rt,Dt,Ft,Wt}}class Jn extends cs{constructor(a,g){super(a);const{keyFrames:u}=this,{targets:O,keys:H}=a;if(O.length<2)console.warn("Animations require at least two keyframes"+(g?`(${g})`:""));else for(let te=0,Q=1;Q<O.length;te++,Q++){const be=H[te],Me=H[Q],Ee=O[Q],Pe=O[te],rt=u[te]={time:be,endTime:Me,operations:{}};for(const Dt in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Dt)){const Ft=Ee[Dt];if(Ft){this.value[Dt]={};const Wt=rt.operations[Dt]={},Ot=Ee[Dt],Jt=Pe[Dt];for(const Fn in Ft)Object.prototype.hasOwnProperty.call(Ft,Fn)&&(Wt[Fn]=ua(be,Me,Jt[Fn],Ot[Fn]))}}}}}const lr={x:0,y:1,z:2},mr=Math.PI/180,Ir={translate(f,a,g){const u=lr[a];return f.position[u]!==g&&(f.position[u]=g,!0)},scale(f,a,g){const u=lr[a];return f.scale[u]!==g&&(f.scale[u]=g,!0)},pivot(f,a,g){const u=lr[a];return f.origin[u]!==g&&(f.origin[u]=g,!0)},rotate(f,a,g){const u=lr[a];return f.rotation[u]!==(g*=mr)&&(f.rotation[u]=g,!0)}};class Ai extends Jn{constructor(a,g,u,O){super(a,u),d(this,"sceneNode",void 0);const H=/[.-]/.test(a.objectId)?a.objectId:O+"-"+a.objectId,te=g.story.anatomySceneGraph.anatomyObjects.get(H);this.sceneNode=te?.sceneNode||null}update(a){if(this.sceneNode){super.update(a);for(const g in this.value)if(Object.prototype.hasOwnProperty.call(this.value,g)){const u=this.value[g],O=Ir[g],H=this.value[g];for(const te in u)Object.prototype.hasOwnProperty.call(u,te)&&O(this.sceneNode,te,H[te])&&this.sceneNode.dirtyMatrix()}}}}function tt(f,a){f[0]=a.r,f[1]=a.g,f[2]=a.b}const gn=(f,a)=>{tt(f.baseColor,a),f.emit("change",{material:f,property:"baseColor"})},jt=(f,a)=>{f.opacity=a.float},cn={baseColor:gn,opacity:jt},je={baseColor:gn,opacity:jt,metallic(f,a){f.metallic=a.float},roughness(f,a){f.roughness=a.float},ior(f,a){f.ior=a.float},specularFactor(f,a){f.specularFactor=a.float},emissive(f,a){tt(f.emissive,a),f.emit("change",{material:f,property:"emissive"})},specularColor(f,a){tt(f.specularColor,a),f.emit("change",{material:f,property:"specularColor"})}},It={alphaColor(f,a){f.opacity=a.float},baseColor:gn,emitColor(f,a){tt(f.emitColor,a),f.emit("change",{material:f,property:"emitColor"})},specularColor(f,a){tt(f.specularColor,a),f.emit("change",{material:f,property:"specularColor"})}};function Qt(f,a,g){for(const u in g)Object.prototype.hasOwnProperty.call(g,u)&&(0,f[u])(a,g[u])}class qn extends Jn{constructor(a,g,u,O){super(a,u),d(this,"materialId",void 0),d(this,"story",void 0),this.materialId=O+"/"+a.targetId,this.story=g.story}update(a){const g=this.story.materials.get(this.materialId);g&&(super.update(a),g instanceof So?Qt(cn,g,this.value):g instanceof yo?Qt(je,g,this.value):g instanceof Mn&&Qt(It,g,this.value))}}const hr={blend:(f,a)=>f.blendFactor!==a.factor&&(f.blendFactor=a.factor,!0)};class yr extends Jn{constructor(a,g,u,O){super(a,u),d(this,"materialId",void 0),d(this,"story",void 0),d(this,"textureLayer",void 0),d(this,"textureMapType",void 0),this.materialId=O+"/"+a.materialId,this.story=g.story,this.textureLayer=a.targetLayer,this.textureMapType=a.textureMapType||""}update(a){const g=this.story.materials.get(this.materialId);if(!g)return;const u=g instanceof Mn?g.textures[this.textureLayer]:g[this.textureMapType]?.[this.textureLayer];if(u){super.update(a);for(const O in this.value)Object.prototype.hasOwnProperty.call(this.value,O)&&(0,hr[O])(u,this.value[O])&&g.emit("change",{material:g,property:"textures.blendFactor"})}}}const Hr=f=>(a,g,u,O)=>{const{x:H,y:te,z:Q,val:be,rmin:Me,rmax:Ee}=g;void 0===H||isNaN(be)?a.modifiers.delete(u):a.modifiers.set(u,{applyTo:f,value:be,range:{center:[H,te,Q],minRadius:Me,maxRadius:Ee},parent:O,priority:0})},jr={tnt(f,a,g,u){const{x:O,y:H,z:te,r:Q,g:be,b:Me,rmin:Ee,rmax:Pe}=a;void 0===O||isNaN(Q)?f.modifiers.delete(g):f.modifiers.set(g,{applyTo:"tintColor",value:[Q,be,Me],range:{center:[O,H,te],minRadius:Ee,maxRadius:Pe},parent:u,priority:0})},brt:Hr("brightness"),sat:Hr("saturation"),o:Hr("opacity"),cst:Hr("contrast")};class oi extends Jn{constructor(a,g,u,O){super(a,u),d(this,"id",void 0),d(this,"chapter",void 0),d(this,"objects",void 0),this.id=u,this.objects=[],this.chapter=g;const{anatomyObjects:H}=g.story.anatomySceneGraph;(Array.isArray(a.objectIds)?a.objectIds:[a.objectId||""]).forEach(te=>{const Q=/[.-]/.test(te)?te:O+"-"+te,be=H.get(Q);be?this.objects.push(be):console.warn("missing tween target object: "+te)})}update(a){if(this.objects.length){super.update(a);for(const g in this.value)if(Object.prototype.hasOwnProperty.call(this.value,g)){const u=jr[g],O=this.value[g],H=g+"-"+this.id;this.objects.forEach(te=>{u(te,O,H,this.chapter.contentNode)})}}}}const qr={alphaFresnel:!0,transparencyFresnel:!0,reflectionFresnel:!0,opacityFresnel:!0},Ui={bias(f,a,g){const u=f[g];let O=!1;return u&&(isNaN(a.center)||u.biasCenter===a.center||(u.biasCenter=a.center,O=!0),isNaN(a.edge)||u.biasEdge===a.edge||(u.biasEdge=a.edge,O=!0),isNaN(a.power)||u.power===a.power||(u.power=a.power,O=!0)),O},center(f,a,g){const u=f[g];if(u)if(g in qr)u.center=a.r;else if("number"!=typeof a){const O=u.center;O[0]=a.r,O[1]=a.g,O[2]=a.b}},edge(f,a,g){const u=f[g];if(u)if(g in qr)u.edge="number"==typeof a?a:a.r;else if("number"!=typeof a){const O=u.edge;O[0]=a.r,O[1]=a.g,O[2]=a.b}}};class co extends Jn{constructor(a,g,u,O){super(a,u),d(this,"fresnelType",void 0),d(this,"materialId",void 0),d(this,"story",void 0),this.fresnelType=a.fresnelType,this.materialId=O+"/"+a.materialId,this.story=g.story}update(a){const g=this.story.materials.get(this.materialId);if(g){(u=g)[O=this.fresnelType]||(u[O]=qr[O]?{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:0,edge:0}:{power:1,biasEdge:1,biasCenter:0,blendMode:"multiply",center:(0,m.create)(),edge:(0,m.create)()},u.emit("change",{material:u})),super.update(a);for(const u in this.value)Object.prototype.hasOwnProperty.call(this.value,u)&&!1!==(0,Ui[u])(g,this.value[u],this.fresnelType)&&g.emit("change",{material:g,property:"fresnel"})}var u,O}}class Ro extends Jn{constructor(a,g,u){super(a,u),d(this,"story",void 0),d(this,"textureLayer",void 0),this.story=g.story}update(a){const{cameraController:g}=this.story;if(!g)return;super.update(a);const{eye:u,look:O,up:H}=this.value;if(u){const{x:te,y:Q,z:be}=u;g.setPosition(te*Nt,Q*Nt,be*Nt)}if(O){const{x:te,y:Q,z:be}=O;g.setTarget(te*Nt,Q*Nt,be*Nt),(0,m.copy)(g.center,g.target)}if(H){const{x:te,y:Q,z:be}=H;g.setUp(te,Q,be)}}}class mo extends cs{constructor(a,g){super(a);const{keyFrames:u}=this,{targets:O,keys:H}=a;if(O.length<2)console.warn("Animations require at least two keyframes"+(g?`(${g})`:""));else for(let te=0,Q=1;Q<O.length;te++,Q++){const Me=H[Q],Ee=O[te],Pe=O[Q],rt=u[te]={time:H[te],endTime:Me,operations:{}},Dt=Q+1===O.length;for(const Ft in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Ft)){const Wt=Ee[Ft];if(Wt){this.value[Ft]={};const Ot=rt.operations[Ft]={},Jt=Pe[Ft],Fn=Ee[Ft];for(const Tn in Wt)if(Object.prototype.hasOwnProperty.call(Wt,Tn)){const An=Fn[Tn];if(Dt){const vn=Jt[Tn];Ot[Tn]=kn=>kn>=Me?vn:An}else Ot[Tn]=()=>An}}}}}}function nt(f,a){a(f);for(let g=0;g<f.children.length;g++)nt(f.children[g],a)}const $e={shown(f,a,g,u){const{showObjects:O}=u;nt(f,H=>{!1!==O?.[H.objectId]&&g.push([H,a])})},pickable(f,a){nt(f,g=>g.pickable=a)}};class an extends mo{constructor(a,g,u,O){super(a,u),d(this,"chapterDef",void 0),d(this,"object",void 0);const H=/[.-]/.test(a.objectId)?a.objectId:O+"-"+a.objectId,{anatomyObjects:te}=g.story.anatomySceneGraph;this.chapterDef=g.definition,this.object=te.get(H)||null}update(a,g){if(!this.object||!this.value.attr)return;g&&!g.shownChanges&&(g.shownChanges=[]),super.update(a);const{attr:u}=this.value;for(const O in u)Object.prototype.hasOwnProperty.call(u,O)&&(0,$e[O])(this.object,u[O],g.shownChanges,this.chapterDef)}}class at extends Jn{constructor(a,g,u){super(a,u),d(this,"chapter",void 0),d(this,"particleSystemId",void 0);const O=g.id,H=g.story.module.tweenParticleLookup?.[O];this.particleSystemId=H?.[a.particleSystemId]||a.particleSystemId,this.chapter=g}update(a){const g=this.chapter.particleSystems.get(this.particleSystemId);if(g){super.update(a);for(const u in this.value.attr)Object.prototype.hasOwnProperty.call(this.value.attr,u)&&(g[u]=this.value.attr[u])}}}class de extends Jn{constructor(a,g,u){super(a,u),d(this,"chapter",void 0),d(this,"particleSystemId",void 0),d(this,"subSystemId",void 0);const O=g.id,H=g.story.module.tweenParticleLookup?.[O];this.particleSystemId=H?.[a.particleSystemId]||a.particleSystemId,this.chapter=g,this.subSystemId=a.componentId;const te=this.chapter.particleSystems.get(this.particleSystemId);te&&!te.subSystemIds.has(this.subSystemId)&&console.warn("Unknown particle sub-system",this.particleSystemId,this.subSystemId)}update(a){const g=this.chapter.particleSystems.get(this.particleSystemId);if(g){super.update(a);for(const u in this.value)if(Object.prototype.hasOwnProperty.call(this.value,u))if("attr"===u){const O=this.value.attr;for(const H in O)Object.prototype.hasOwnProperty.call(O,H)&&g.set(this.subSystemId,H,O[H])}else{const O=this.value[u];void 0!==O.x&&g.set(this.subSystemId,u,O.x,O.y,O.z)}}}}const Et={objectXForm:Ai,material:qn,texture:yr,objectAttr:oi,fresnel:co,particleSystem:at,particleComponent:de,camera:Ro},on={tween:Et,lerp:Et,switch:{objectAttr:an}},Kn={switch:{objectAttr:function(f){const{shownChanges:a}=f;if(a){const g=new Map;for(let u=0;u<a.length;u++){const[O,H]=a[u];H&&g.has(O)||g.set(O,H)}g.forEach((u,O)=>{O.shown=u}),a.length=0}}}};class ht{constructor(a){d(this,"currentTime",void 0),d(this,"root",void 0),d(this,"duration",void 0),d(this,"destroy",void 0);const{story:g,timelineMap:u}=a,{anatomyObjects:O}=a.story.anatomySceneGraph;let H=0,te=0;this.root=g.contentNode;const Q={},be={},Me=new Map,Ee=()=>{H=Array.from(Me.values()).reduce((Tn,An)=>Math.max(Tn,An.end),0),te>H&&(te=H)},Pe={},rt=new Set;function Dt(Tn){be[Tn.timelineId]?.forEach(vn=>{Object.entries(vn.tweens||{}).forEach(([kn,nr])=>{const[ur,Qn]=nr.type.split(":");if(on[ur]){const kr=on[ur][Qn];if(!kr)throw new Error("Unsupported tween type: "+Qn);const $r=Kn[ur]?.[Qn];$r&&rt.add($r);const Vr=new kr(nr,a,kn,Tn.timelineId);Tn.tweens.push(Vr)}else console.warn(`"${ur}" animations not implemented yet.`,nr)})})}function Ft(Tn,An){const{start:vn,end:kn,data:nr}=Tn,{start:ur,end:Qn,fit:kr,onEnd:$r}=nr,Vr={start:vn,end:kn,inPoint:ur,outPoint:Qn,fit:kr,onEnd:$r,tweens:[],timelineId:nr.timeline,morphRenderables:Q[nr.timeline]||null};Me.set(An,Vr),Dt(Vr)}function Wt(){Object.keys(a.tweens).forEach(Tn=>{const An=Tn.replace(/\/.*/,"");let vn=be[An];be[An]||(vn=be[An]=[]),vn.push(a.tweens[Tn])}),Me.forEach(Dt),a.active&&Ot()}function Ot(){Me.forEach(Tn=>{const{fit:An,onEnd:vn,start:kn,end:nr,inPoint:ur,outPoint:Qn}=Tn;if(te<kn||te>nr)return;const kr=Qn-ur,$r=An?kr/(nr-kn):1;let Vr=(te-kn)*$r+ur;const Fr=$r>=0?Qn:ur,di=$r>=0?ur:Qn;var ai,fi;Vr>Fr&&(Vr="loop"===vn?(fi=kr,(ai=Vr-di)-Math.floor(ai/fi)*fi+di):Fr),Tn.tweens.forEach(Or=>Or.update(Vr,Pe)),rt.forEach(Or=>Or(Pe)),Tn.morphRenderables&&Tn.morphRenderables.forEach(Or=>{const{meshNode:bi}=Or;if(!bi)return;const{morphKeys:Mi}=bi.geometry;if(!Mi.length)return console.warn(`Animation clip ${Tn.timelineId} is missing morph data for ${Or.morphId}`),void Tn.morphRenderables.delete(Or);const go=we(Ts(Mi,Vr,bi.morphKeyIndex),0,Mi.length-2),fo=Mi[go].time,xi=we((Vr-fo)/(Mi[go+1].time-fo),0,1);bi.morphKeyIndex=go,bi.morphFactor=xi})})}function Jt(){a.tweens&&(a.off("progress",Jt),Wt())}function Fn(Tn){const An=Me.has(Tn),vn=u.get(Tn);vn?Ft(vn,Tn):An&&Me.delete(Tn),An?Ee():H=Math.max(H,vn.end),Ot()}O.forEach(Tn=>{Tn.renderables.forEach(An=>{const{morphId:vn}=An;if(vn){const kn=vn.replace(/\/.*$/,"");Q[kn]||(Q[kn]=new Set),Q[kn].add(An)}})}),a.tweens?Wt():a.on("progress",Jt),a.on("activate",Ot),u.on("change",Fn),u.forEach(Ft),Ee(),Object.defineProperties(this,{currentTime:{get:()=>te,set(Tn){(Tn=we(Tn,0,this.duration))!==te&&(te=Tn,a.active&&Ot())}},duration:{get:()=>H}}),this.destroy=()=>{u.off("change",Fn),a.off("progress",Jt),a.off("activate",Ot)},Ot()}}function $(f,a,g){if("string"==typeof a&&(a=a.split(".")),!a.length)return f;const[u,...O]=a;if(!O.length)return f[u]=g,f;let H=f[u];return H||(H=f[u]={}),$(H,O,g),f}function ge(f,a={}){return f&&Object.keys(f).forEach(g=>{$(a,g,f[g])}),a}const He={"annotations.margins":{top:80,left:50,right:50,bottom:50},"annotations.labelWidth":120,"annotations.horizontalLines":!1,"annotations.fadeoutAngle":100,"annotation.layout.labelWidth":100,"annotations.layout.type":"draggable","camera.optics.near":.1,"camera.optics.far":5e3,"camera.optics.fov":55,"camera.zoomLimits":{max:300,min:.01},"fog.color":[1,1,1],"fog.density":.01,"fog.enabled":!1,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.mode":1,"fog.start":0,"timeline.autoPlay.enabled":!1,"timeline.autoPlay.type":"play","timeline.chapterCamerasEnabled":!0,"timeline.prevNextMode":"scrub","ui.mouseWheel.capture":!0,"ui.zoom.mouseWheel.enabled":!0};let Vt=function(f){return f.Alpha="alpha",f.ImprovedAlpha="improvedAlpha",f.AddAlpha="addAlpha",f.AlphaToCoverage="alphaToCoverage",f}({}),wn=function(f){return f[f.LeftClip=0]="LeftClip",f[f.RightClip=1]="RightClip",f[f.BottomClip=2]="BottomClip",f[f.TopClip=3]="TopClip",f[f.FrontClip=4]="FrontClip",f[f.BackClip=5]="BackClip",f}({}),Wn=function(f){return f[f.Linear=1]="Linear",f[f.Exponential=2]="Exponential",f[f.ExponentialSquared=3]="ExponentialSquared",f}({});class fr extends ke{constructor(a){const{castShadow:g=!0,type:u="dir",color:O,diffuse:H,specular:te,innerCone:Q,outerCone:be,constantAttenuation:Me,linearAttenuation:Ee,quadraticAttenuation:Pe,...rt}=a||{};super(rt),d(this,"castShadow",void 0),d(this,"type",void 0),d(this,"color",void 0),d(this,"diffuse",void 0),d(this,"specular",void 0),d(this,"innerCone",void 0),d(this,"outerCone",void 0),d(this,"constantAttenuation",void 0),d(this,"linearAttenuation",void 0),d(this,"quadraticAttenuation",void 0),d(this,"viewSpace",void 0),this.castShadow=g,this.type=u,this.color=void 0===O?(0,m.fromValues)(1,1,1):(0,m.clone)(O),this.diffuse=H??!0,this.specular=te??!0,this.innerCone=Q??.25,this.outerCone=be??0,this.constantAttenuation=Me??0,this.linearAttenuation=Ee??0,this.quadraticAttenuation=Pe??0,this.viewSpace=rt.viewSpace||!1}}class Ur extends ke{constructor(a){const{castShadow:g=!0,intensity:u,color:O,...H}=a||{};super(H),d(this,"castShadow",void 0),d(this,"type",""),d(this,"intensity",void 0),d(this,"color",void 0),this.castShadow=g,this.intensity=u??1,this.color=void 0===O?(0,m.fromValues)(1,1,1):(0,m.clone)(O)}}class ni extends Ur{constructor(a){super(a),this.type="ambient"}}class ri extends Ur{constructor(a){super(a),this.type="directional"}}class Br extends Ur{constructor(a){super(a),this.type="point"}}class hi extends Ur{constructor(a){const{outerConeAngle:g,penumbraAngle:u,...O}=a||{};super(O),d(this,"outerConeAngle",void 0),d(this,"penumbraAngle",void 0),this.type="spot",this.outerConeAngle=g??Math.PI/4,this.penumbraAngle=u??0}}const zi={ambient:ni,directional:ri,point:Br,spot:hi},Ii=Math.PI/180;function oe(){let f,a;return{promise:new Promise((g,u)=>{f=g,a=u}),resolve:f,reject:a}}function Ue(f,...a){return(...g)=>f(...a,...g)}const gt=(0,L.create)(),Rt=(0,L.create)();function dn(f,a,g){f.updateWorldMatrix();const u=Ce.get();(0,m.add)(u,f.position,f.origin),f.parent&&(0,m.transformMat4)(u,u,f.parent.worldMatrix),(0,L.targetTo)(gt,u,a,g),f.parent&&((0,L.invert)(Rt,f.parent.worldMatrix),(0,L.multiply)(gt,Rt,gt)),Ce.release(u),(0,L.getRotation)(f.quaternion,gt),(0,E.normalize)(f.quaternion,f.quaternion),"euler"===f.rotationSource&&k(f.rotation,gt),f.dirtyMatrix(),f.updateWorldMatrix()}function Rn(f,a,g){if(a.parent){const u=Ce.get();a.updateWorldMatrix(),(0,L.getTranslation)(u,a.worldMatrix),dn(f,u,g),Ce.release(u)}else dn(f,a.position,g)}class ar extends ke{constructor(a={}){const{up:g,near:u,far:O,...H}=a;super(H),d(this,"up",void 0),d(this,"near",void 0),d(this,"far",void 0),d(this,"projectionMatrix",void 0),d(this,"worldMatrixInverse",void 0),d(this,"projectionDirty",void 0),d(this,"dirtyProjection",void 0),d(this,"updateProjectionMatrix",void 0),this.up=(0,m.create)(),Z(this.up,g||[0,1,0]),this.near=u??.5,this.far=O??100,this.projectionMatrix=(0,L.create)(),this.worldMatrixInverse=(0,L.create)();const te=this.updateWorldMatrix;this.updateWorldMatrix=()=>te(()=>{(0,L.invert)(this.worldMatrixInverse,this.worldMatrix)})}lookAt(a){dn(this,a,this.up)}}class or extends ar{constructor(a={}){const{aspect:g,fov:u,...O}=a;super(O),d(this,"aspect",void 0),d(this,"fov",void 0),this.aspect=g??1,this.fov=u??30*Math.PI/180;let H=!0;this.dirtyProjection=()=>{H=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{H&&(0,L.perspective)(this.projectionMatrix,this.fov,this.aspect,this.near,this.far),H=!1},Object.defineProperties(this,{dirty:{get:()=>H||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>H}})}}function Rr(f,a=f.properties){const{cameraController:g,camera:u}=f.story,{optics:O,zoomLimits:H}=a.camera;u instanceof or&&(u.fov=O.fov*Math.PI/180),u.far=O.far*Nt,u.near=O.near*Nt,u.dirtyProjection(),g.minDistance=H.min*Nt,g.maxDistance=H.max*Nt}function Cr(f,a){return Gr.apply(this,arguments)}function Gr(){return(Gr=S(function*(f,a){yield Promise.all(Array.from(a).map(g=>g.load()))})).apply(this,arguments)}class Nr extends le{constructor(a,g){super(),d(this,"clear",void 0),d(this,"forEach",void 0),d(this,"has",void 0),d(this,"add",void 0),d(this,"delete",void 0),d(this,"size",void 0),d(this,"entries",void 0),d(this,"keys",void 0),d(this,"values",void 0),d(this,Symbol.iterator,void 0),d(this,Symbol.toStringTag,void 0);const u=new Set,O=!!(g?.clone??1),H=O&&!!(g?.freeze??O);if(this.forEach=(te,Q)=>(u.forEach((be,Me)=>te.call(Q,be,Me,this)),this),this.has=te=>u.has(te),this.entries=()=>u.entries(),this.keys=()=>u.keys(),this.values=()=>u.values(),this[Symbol.iterator]=()=>u[Symbol.iterator](),this[Symbol.toStringTag]=u[Symbol.toStringTag],this.clear=()=>{const te=Array.from(u.keys());u.clear();for(const Q of te)this.emit("delete",Q);return this},this.delete=te=>!!u.has(te)&&(u.delete(te),this.emit("delete",te),!0),this.add=te=>(u.has(te)||(O&&(te=St(te)),H&&kt(te),u.add(te),this.emit("add",te)),this),Object.defineProperties(this,{size:{get:()=>u.size}}),a)for(const te of a)this.add(te)}}const pi=new Set(["transform"]),Ni=new Map([["shown",{tableProp:"showObjects",defaultValue:!1}],["pickable",{tableProp:"pickThroughObjects",transform:f=>!f,defaultValue:!0}],["occludesMarkers",{tableProp:"labelOccludingObjects",defaultValue:"auto",transform:f=>!0===f?"always":!1===f?"never":"auto"}]]),Un=["opacity","saturation","brightness","contrast","tintColor"];function pr(f,a,g,u,O,H=null){let te=!1;return g?.forEach(Q=>{const{objectId:be}=Q,Me={};f.set(be,Me);const Ee=u?.[be];Ni.forEach(({tableProp:Pe,transform:rt,defaultValue:Dt},Ft)=>{const Wt=a[Pe]||O?.[Pe],Ot=Wt&&be in Wt?rt?rt(Wt[be]):Wt[be]:Ee?.[Ft]??pi.has(Ft)?void 0:H?.[Ft];Ot!==Dt&&void 0!==Ot&&(Me[Ft]=Ot)}),Un.forEach(Pe=>{const rt=Ee?.[Pe]??H?.[Pe];(rt||0===rt)&&(Me[Pe]=rt)}),pr(f,a,Q.objects,u,O,Me)&&(Me.shown=!0),te=te||!0===Me.shown}),te}function Sn(f,a){const g=new Map;return pr(g,a,f.sceneGraph,a.synchronization,f),g}function er(f,a){const g=[];for(let u=0;u<f;u++)g.push(a(u));return g}class zr extends le{constructor(a){super(),d(this,"irradianceMode",void 0),d(this,"intensity",void 0),d(this,"quaternion",void 0),d(this,"irradianceCoefficients",void 0),d(this,"specularTexture",void 0),d(this,"irradianceTexture",void 0);let g=a?.intensity??1,u=a?.specularTexture||null,O=a?.irradianceTexture||null,H=a?.irradianceMode||(a.irradianceTexture?"image":"parametric");this.quaternion=(0,E.create)(),a?.quaternion&&(0,Fo.copy)(this.quaternion,a.quaternion),this.irradianceCoefficients=er(9,m.create),a?.irradianceCoefficients&&a.irradianceCoefficients.forEach((te,Q)=>{(0,m.copy)(this.irradianceCoefficients[Q],te)}),Object.defineProperties(this,{intensity:{get:()=>g,set:te=>{te!==g&&(g=te,this.emit("change",{property:"intensity"}))}},irradianceMode:{get:()=>H,set:te=>{te!==H&&(H=te,this.emit("change",{property:"irradianceMode"}))}},specularTexture:{get:()=>u,set:te=>{te!==u&&(u=te,this.emit("change",{property:"specularTexture"}))}},irradianceTexture:{get:()=>O,set:te=>{te!==O&&(O=te,this.emit("change",{property:"irradianceTexture"}))}}})}update(a){this.emit("change",a?{property:a}:{})}}function si(f,a){a(f),f.children.forEach(g=>si(g,a))}class Vi extends le{constructor(a,g,u,O){var H;super(),H=this,d(this,"id",void 0),d(this,"name",void 0),d(this,"description",void 0),d(this,"index",void 0),d(this,"story",void 0),d(this,"contentNode",void 0),d(this,"environmentNode",void 0),d(this,"properties",void 0),d(this,"background",void 0),d(this,"transparencyMode",void 0),d(this,"fallbackTransparency",void 0),d(this,"ui",void 0),d(this,"clippingPlanes",void 0),d(this,"definition",void 0),d(this,"environment",{}),d(this,"tweens",null),d(this,"particleSystemIds",void 0),d(this,"particleSystems",void 0),d(this,"timelineMap",void 0),d(this,"postProcess",void 0),d(this,"loadProgress",void 0),d(this,"active",void 0),d(this,"animationSystem",void 0),d(this,"physicalImageLight",void 0),d(this,"toneMapping",void 0),d(this,"load",void 0),d(this,"activate",void 0),d(this,"deactivate",void 0),d(this,"reset",void 0),d(this,"start",void 0),d(this,"stop",void 0),d(this,"update",void 0),d(this,"cancelLoading",void 0),this.name=g.displayName||"Chapter"+(O??""),this.description=g.description||"",this.id=g.id||(a.module.moduleId||"chapter")+(O??""),this.index=O??-1,this.definition=g;const te=new Set,Q=new Set,be=this.contentNode=new ke({name:this.name+": content"}),Me=this.environmentNode=new ke({name:this.name+": environment"});this.properties=function(wr,ci={}){return ge(He,ci),ge(wr,ci),ci}(g.properties),this.clippingPlanes=new Ie(zs(g.clippingPlanes||{})),this.background=St(g.background||null),this.transparencyMode=g.transparencyMode||Vt.Alpha,this.fallbackTransparency=g.fallbackTransparency||Vt.Alpha,this.timelineMap=new Mt(g.timelineMap?.map((wr,ci)=>[wr.id||String(ci),wr])),this.postProcess=St(g.customData?.postprocess||[]);const Ee=this.particleSystems=new Map,Pe=this.particleSystemIds=new Nr(g.customData?.particleSystems),rt=new Set(g.timelineMap?.map(({data:wr})=>wr.timeline));this.ui=St(g.ui||{}),this.ui.play||(this.ui.play={}),"count"in this.ui.play||(this.ui.play.count=rt.size>0?a.module.animation?.loop?-1:1:0);let Dt,Ft,Wt=!1,Ot=!1,Jt=null,Fn=!1,Tn=0,An=0,vn=null,kn=Be,nr=a.anatomySceneGraph.anatomyObjects.size;function ur(wr){Ft&&Ft(wr),Ft=void 0,Dt=void 0,Jt=null}Object.defineProperties(this,{loadProgress:{get:()=>Tn},active:{get:()=>Wt},physicalImageLight:{get:()=>vn},toneMapping:{get:()=>kn},story:{value:a,writable:!1}});const Qn=()=>{const wr=Q.size,ci=Q.size-te.size,oo=Ee.size,ca=Array.from(Ee.values()).filter(zl=>zl.loaded).length,Js="environment"in g&&Object.keys(g.environment||{}).length||0,As=this.environment?Js:0,La=a.module.assetLibraries?.tweens?.length||0,ka=this.tweens?La:0,Ja=wr+oo+Js+La+("lights"in g&&g.lights?.libraries?.length||1),Rl=Ja?(ci+ca+As+ka+An)/Ja:1;Tn!==Rl&&(Tn=Rl,this.emit("progress"))};function kr(wr){return $r.apply(this,arguments)}function $r(){return $r=S(function*(wr){const ci="default"===wr?Hs:yield u.getAssetLibrary("lights",wr,"outline");if(ci.lights.forEach(oo=>{(function(f){const{displayName:a,lightId:g}=f,u=a||g;if("params"in f){const{params:te}=f,{color:Q,dir:be,pos:Me,mode:Ee,space:Pe,...rt}=te,Dt=new fr({name:u,...rt,type:Ee});if(Q){const{r:Ft,g:Wt,b:Ot}=Q;(0,m.set)(Dt.color,Ft,Wt,Ot)}if("dir"===Ee){if(be){const{x:Ft,y:Wt,z:Ot}=be;(0,m.set)(Dt.position,-Ft,-Wt,-Ot),Dt.dirtyMatrix()}}else{if(Me){const{x:Ft,y:Wt,z:Ot}=Me;(0,m.set)(Dt.position,Ft,Wt,Ot),Dt.dirtyMatrix()}if("spot"===Ee&&be){const Ft=[0,0,0],Wt=[0,0,0],Ot=[0,0,-1],{x:Jt,y:Fn,z:Tn}=be;(0,m.set)(Wt,Jt,Fn,Tn),(0,m.normalize)(Wt,Wt),(0,m.cross)(Ft,Ot,Wt),Math.abs((0,m.dot)(Ft,Ft))<J&&(0,m.set)(Ft,0,1,0);const An=Math.acos((0,m.dot)(Ot,Wt));(0,E.setAxisAngle)(Dt.quaternion,Ft,An)}}return Dt.viewSpace="view"===Pe,Dt}const O=vt(f.color),H=f.rotation?{x:f.rotation.x*Ii,y:f.rotation.y*Ii,z:f.rotation.z*Ii}:void 0;return new zi[f.type]({...f,name:u,color:O,rotation:H})}(oo)).parent=Me}),"physicalImageLight"in ci&&ci.physicalImageLight){const{imageLightId:oo,intensity:ca,rotation:Js}=ci.physicalImageLight,As=yield u.loadImageLight(oo);if(As&&(vn=new zr({...As,intensity:ca}),Js)){const{x:La,y:ka,z:Ja}=Js;(0,E.fromEuler)(vn.quaternion,La,ka,Ja),vn.update("quaternion")}}kn="toneMapping"in ci?ci.toneMapping:Be,An++,Qn()}),$r.apply(this,arguments)}const Vr=function(){var wr=S(function*(){if("lightLibraryId"in g)return void(g.lightLibraryId&&(yield kr(g.lightLibraryId)));const ci=new Set(g.lights?.libraries||[]);!ci.size&&a.module.assetLibraries?.lights&&a.module.assetLibraries?.lights.forEach(oo=>ci.add(oo)),ci.size||ci.add("default"),yield Promise.all([u.loadReflections(g.environment).then(oo=>{H.environment=oo,Qn()}),...Array.from(ci).map(kr)])});return function(){return wr.apply(this,arguments)}}(),Fr=Ue(Cr,this,te),di=new Map;function ai(wr){const ci=Pe.has(wr)&&a.particleSystemDefs.get(wr),oo=u.createParticleSystem(ci);di.has(wr)||di.set(wr,nr++),oo.renderOrder=di.get(wr),Ee.set(wr,oo),Fn&&oo.load().then(()=>{oo.parent=be,Qn()}),Ot&&oo.start()}function fi(wr){const ci=Ee.get(wr);ci&&(ci.destroy(),Ee.delete(wr)),a.particleSystemDefs.has(wr)?Pe.has(wr)&&ai(wr):Pe.delete(wr),Qn(),Ee.forEach(oo=>oo.reset())}a.particleSystemDefs.on("change",fi),Pe.on("add",wr=>{if(!a.particleSystemDefs.has(wr))throw new Error(`Unknown particle system '${wr}'`);fi(wr)}),Pe.on("delete",fi);const Or=Sn(a.module,g),bi=wr=>{const{object:ci}=wr;ci.loaded&&(ci.off("load",bi),te.delete(ci),Qn())},Mi=wr=>{const{property:ci,object:oo}=wr;"shown"!==ci&&"variant"!==ci||(oo.shown?(Q.add(oo),oo.loaded||(te.add(oo),oo.on("load",bi),Qn(),Fn&&oo.load())):(Q.delete(oo),te.delete(oo)))};a.anatomySceneGraph.anatomyObjects.forEach(wr=>{wr.on("load",bi),!0===Or.get(wr.objectId)?.shown&&(te.add(wr),Q.add(wr))}),a.module.customData?.particleSystems?.forEach(wr=>{Pe.has(wr.id)&&ai(wr.id)});const go=new ht(this);Object.defineProperty(this,"animationSystem",{value:go,writable:!1});const fo=function(){var wr=S(function*(){try{yield Promise.all([u.loadTweenLibraries().then(ci=>{H.tweens=ci,Qn()}),Fr(),Promise.all(Array.from(Ee.values()).map(ci=>ci.load().then(()=>{ci.parent=be,Qn()}))),Vr()]),Qn(),Dt()}catch(ci){ur(ci)}});return function(){return wr.apply(this,arguments)}}(),Yo=Ue(Rr,this);this.load=()=>{if(!Jt){Fn=!0;const{promise:wr,resolve:ci,reject:oo}=oe();Jt=wr,Dt=ci,Ft=oo,An=0,Me.children.forEach(ca=>{(ca instanceof fr||ca instanceof Ur)&&Me.remove(ca)}),fo()}return Jt},this.cancelLoading=()=>{Fn&&(Fn=!1,ur(new Error("Loading canceled")))},this.reset=()=>{a.anatomySceneGraph.anatomyObjects.forEach(wr=>wr.reset(Or.get(wr.objectId))),this.particleSystems.forEach(wr=>wr.reset()),Yo(),this.animationSystem.currentTime=0},this.activate=()=>{Wt||(Wt=!0,this.reset(),a.anatomySceneGraph.anatomyObjects.forEach(wr=>wr.on("change",Mi)),this.emit("activate"))},this.deactivate=()=>{Wt&&(this.stop(),a.anatomySceneGraph.anatomyObjects.forEach(wr=>wr.off("change",Mi)),Wt=!1,this.emit("deactivate"))},this.start=()=>{Ot||(Ot=!0,Wt&&Ee.forEach(wr=>wr.start()))},this.stop=()=>{Ot&&(Ot=!1,Ee.forEach(wr=>wr.pause()))},this.update=wr=>{Ee.forEach(ci=>ci.update(wr))};const xi=this.destroy;this.destroy=()=>{this.deactivate(),this.cancelLoading(),vn?.destroy(),vn=null,si(Me,wr=>{wr.destroy()}),go.destroy(),be.destroy(),Me.destroy(),this.clippingPlanes.destroy(),te.clear(),Q.clear(),a.anatomySceneGraph.anatomyObjects.forEach(wr=>wr.off("change",bi)),a.particleSystemDefs.off("change",fi),this.particleSystems.forEach(wr=>wr.destroy()),this.particleSystems.clear(),this.environment=null,this.tweens=null,this.emit("destroy"),xi()}}}function ki(f){return f}function Oi(f,a,g=ki){return b((u,...O)=>f.getAsset(a,u).then(H=>H?g(H,u,...O):null))}function Ko(f){return f instanceof ArrayBuffer?[f]:[]}function Ti(f,a=Ko){let g,u=0,O=0,H=0;const te={};function Q(){if(clearTimeout(H),g){if(O)return void(H=setTimeout(Q,8e3));g.terminate(),g.onmessage=null,g=null}}const be=Me=>{const Ee=Me.data;if(!Ee)return;const Pe=te[Ee.requestId];Pe&&(delete te[Ee.requestId],O--,Ee.error?(console.error("Web Worker error",Ee.error.stack),Pe.reject(new Error(Ee.error.message))):Pe.resolve(Ee.resource))};return function(Me){g||(g=f(),g.onmessage=be);const Ee=new Promise((rt,Dt)=>{te[u]={resolve:rt,reject:Dt}}),Pe=a(Me);return g.postMessage({requestId:u,options:Me},Pe),u++,O++,clearTimeout(H),H=setTimeout(Q,8e3),Ee}}const $s=Ti(()=>ls("geometry"));function Jo(){return Jo=S(function*(f,a){const g=yield(H=f,te=a,$s({...H,options:te})),u={...g.attributes};var H,te;g.indices&&(u.indices=g.indices);const O=new Cn(u,g.boundary);return O.name=f.geometryId,O.topology=g.primitive||it.triangles,"morphKeys"in g?O.morphKeys=g.morphKeys:f.morphId&&console.warn("Morph asset not found: "+f.morphId),O}),Jo.apply(this,arguments)}var Cs=new WeakMap;class rs{constructor(){M(this,Cs,new Map)}inc(a){const g=this.get(a)+1;return C(Cs,this).set(a,g),g}dec(a){const g=this.get(a)-1;if(g<0)throw new Error("Count is below zero");return g?C(Cs,this).set(a,g):C(Cs,this).delete(a),g}get(a){return C(Cs,this).get(a)||0}delete(a){C(Cs,this).delete(a)}}const Gt=Math.PI/180;function Ae(f,{x:a=0,y:g=0,z:u=0}){(0,m.set)(f,a,g,u)}function ot(f,a){let g=!1;if(a?.rotate){const{x:u,y:O,z:H}=a.rotate;H&&(g=!0,f.rotation[2]=H*Gt),O&&(g=!0,f.rotation[1]=O*Gt),u&&(g=!0,f.rotation[0]=u*Gt)}a?.scale&&(g=!0,function(u,{x:O=1,y:H=1,z:te=1}){(0,m.set)(u,O,H,te)}(f.scale,a.scale)),a?.translate&&(g=!0,Ae(f.position,a.translate)),a?.pivot&&(g=!0,Ae(f.origin,a.pivot)),a?.constraints?.copyRotation&&f.constraints.push({type:"copyRotation"}),a?.constraints?.copyPosition&&f.constraints.push({type:"copyPosition"}),g&&f.dirtyMatrix()}const Ct=["opacity","saturation","brightness","contrast","tintColor"];function jn(){return jn=S(function*({materialId:f,geometryId:a,morphId:g,layer:u},O){const{loadMaterial:H,loadObjectGeometry:te,timelineIds:Q,materialOptions:be,loadAllMorphs:Me}=O;if(g&&!Me){const Ee=g.replace(/\/.*$/,"");Q.has(Ee)||(g="")}try{const[Ee,Pe]=yield Promise.all([H(f,be),te(a,g||"")]);if(!Pe)return console.warn("Geometry asset not found: "+a),null;if(!Ee)return console.warn("Material asset not found: "+f),null;const rt=new bt(Pe,Ee);return u&&(rt.layer=u),function(Dt){const Ft=[];return"textures"in Dt.material&&Dt.material.textures.length&&Dt.geometry.topology!==it.points&&!Dt.geometry.attributes.texcoord&&Ft.push("Material has textures that cannot be displayed without UV coordinates."),Ft}(rt).forEach(Dt=>console.warn(Dt,rt)),rt}catch(Ee){return console.warn("Error loading renderable",Ee),null}}),jn.apply(this,arguments)}function tr(f){return 0!==f[0]||0!==f[1]||0!==f[2]}class ti extends le{constructor(a,g){var u;super(),u=this,d(this,"objectId",void 0),d(this,"displayName",void 0),d(this,"layer",void 0),d(this,"renderOrder",0),d(this,"shown",void 0),d(this,"selected",void 0),d(this,"pickable",!0),d(this,"occludesMarkers","auto"),d(this,"transformId",void 0),d(this,"children",void 0),d(this,"parent",null),d(this,"sceneNode",void 0),d(this,"renderables",void 0),d(this,"variants",void 0),d(this,"modifiers",void 0),d(this,"variant",void 0),d(this,"variantCount",void 0),d(this,"loaded",void 0),d(this,"transformLoaded",void 0),d(this,"loadTransform",void 0),d(this,"load",void 0),d(this,"reset",void 0);let O=!1,H=!1,te=!1,Q=!1,be=a.layer||0,Me=null,Ee=new Mt(void 0,{clone:!1}),Pe=0;const rt=[],{loadTransform:Dt,...Ft}=g;if(this.objectId=a.objectId,this.displayName=a.displayName||"",this.transformId=a.transformId||"",this.children=[],this.sceneNode=new ke({name:this.displayName,rotationSource:"euler"}),this.variants=[],a.variants)a.variants.forEach(kn=>{this.variants.push(kn.map(nr=>({meshNode:null,...nr})))});else if(this.variants.push(a.renderables?.map(kn=>({meshNode:null,...kn}))||[]),a.geometryId){const{geometryId:kn,materialId:nr,morphId:ur}=a;this.variants[0].unshift({geometryId:kn,materialId:nr,morphId:ur,meshNode:null})}this.variants.forEach((kn,nr)=>{rt[nr]=!1});const Wt=(kn,nr,ur)=>{const{meshNode:Qn}=kn;if(Qn){if(!ur||"modifier"===ur){Qn.modifiers.clear();for(const[$r,Vr]of this.modifiers)Qn.modifiers.set($r,Vr)}if(Qn.layer=kn.layer??be,Qn.visible=O,Qn.parent=nr===Pe?this.sceneNode:null,(!ur||"selected"===ur||"modifier"===ur)&&Qn.modifiers.has("__HIGHLIGHT:contrast")!==H)if(H){let $r=1e7;Qn.modifiers.set("__HIGHLIGHT:contrast",{applyTo:"contrast",value:-.5,priority:$r++}),Qn.modifiers.set("__HIGHLIGHT:brightness",{applyTo:"brightness",value:.15,priority:$r++}),Qn.modifiers.set("__HIGHLIGHT:saturation",{applyTo:"saturation",value:-1,priority:$r++}),Qn.modifiers.set("__HIGHLIGHT:tintColor",{applyTo:"tintColor",value:ye,priority:$r++})}else Qn.modifiers.delete("__HIGHLIGHT:tintColor"),Qn.modifiers.delete("__HIGHLIGHT:saturation"),Qn.modifiers.delete("__HIGHLIGHT:brightness"),Qn.modifiers.delete("__HIGHLIGHT:contrast")}},Ot=kn=>{const nr="variant"===kn;this.variants.forEach((ur,Qn)=>{ur.forEach(kr=>{Wt(kr,Qn,nr?"":kn)})})},Jt=b(S(function*(){Me=yield Dt(u.transformId),ot(u.sceneNode,Me)}));this.loadTransform=S(function*(){const kn=[];u.transformId&&kn.push(Jt()),u.parent&&kn.push(u.parent.loadTransform()),yield Promise.all(kn),te=!0,u.variants.forEach((nr,ur)=>{nr?.length||(rt[ur]=!0)}),u.emit("loadtransform",{object:u})});const Fn=b(function(){var kn=S(function*(nr){const ur=u.variants[nr];if(!ur)throw new Error("Variant index out of range");const Qn=yield Promise.all(ur.map(kr=>function fn(f,a){return jn.apply(this,arguments)}(kr,Ft)));Qn.forEach((kr,$r)=>{kr&&(kr.name=$r||1!==ur.length?u.displayName+" "+$r:u.displayName,u.sceneNode.add(kr),ur[$r].meshNode=kr,kr.renderOrder=u.renderOrder+$r/Qn.length,Wt(ur[$r],nr))}),rt[nr]=!0,u.emit("load",{object:u})});return function(nr){return kn.apply(this,arguments)}}()),Tn=()=>Fn(Pe);this.load=S(function*(){Q=!0,yield u.loadTransform(),yield Tn()}),this.reset=kn=>{!function(kr,$r){kr.modifiers||(kr.modifiers=new Mt(void 0,{clone:!1}));const{modifiers:Vr}=kr;Ct.forEach(Fr=>{const di=$r[Fr];if(void 0!==di)if("object"==typeof di&&!Array.isArray(di)&&"priority"in di)Vr.set(Fr,"value"in di?{applyTo:Fr,priority:di.priority,value:"number"==typeof di.value?di.value:[di.value.r,di.value.g,di.value.b]}:{applyTo:Fr,priority:di.priority,fresnel:{center:"number"==typeof di.center?di.center:[di.center.r,di.center.g,di.center.b],edge:"number"==typeof di.edge?di.edge:[di.edge.r,di.edge.g,di.edge.b],centerBias:di.centerBias,edgeBias:di.edgeBias,power:di.power}});else if(Array.isArray(di)&&5===di.length){const[ai,fi,Or,bi,Mi]=di;Vr.set(Fr,{applyTo:Fr,fresnel:{center:ai,edge:fi,centerBias:Or,edgeBias:bi,power:Mi}})}else Vr.set(Fr,{applyTo:Fr,value:di});else Vr.delete(Fr)}),kr.shown=$r.shown??!1,kr.pickable=$r.pickable??!0,kr.selected=$r.selected??!1,kr.occludesMarkers=$r.occludesMarkers??"auto"}(this,kn);const{sceneNode:nr}=this;var ur,Qn;tr(nr.position)&&((0,m.zero)(nr.position),nr.dirtyMatrix()),(1!==(ur=nr.scale)[0]||1!==ur[1]||1!==ur[2])&&((0,m.set)(nr.scale,1,1,1),nr.dirtyMatrix()),"euler"===nr.rotationSource?tr(nr.rotation)&&((0,m.zero)(nr.rotation),nr.dirtyMatrix()):(0!==(Qn=nr.quaternion)[0]||0!==Qn[1]||0!==Qn[2]||1!==Qn[3])&&((0,E.identity)(nr.quaternion),nr.dirtyMatrix()),ot(nr,a),Me&&ot(nr,Me),this.variants.forEach(kr=>{kr.forEach($r=>{$r.meshNode&&($r.meshNode.morphFactor=0,$r.meshNode.morphKeyIndex=-1)})})};const An=this.destroy;this.destroy=()=>{this.variants.forEach(kn=>{kn.forEach(nr=>nr?.meshNode?.destroy())}),this.sceneNode.destroy(),this.parent=null,this.emit("destroy",{object:this}),An()};const vn=kn=>{const nr=Ee.get(kn);this.variants[Pe].forEach(nr?Qn=>Qn.meshNode?.modifiers.set(kn,nr):Qn=>Qn.meshNode?.modifiers.delete(kn)),this.emit("change",{object:this,property:"modifier"})};Ee.on("change",vn),Object.defineProperties(this,{shown:{get:()=>O,set:kn=>{O!==kn&&(O=kn,Ot("shown"),this.emit("change",{object:this,property:"shown"}))}},layer:{get:()=>be,set:kn=>{be!==kn&&(be=kn,Ot("layer"),this.emit("change",{object:this,property:"layer"}))}},selected:{get:()=>H,set:kn=>{H!==kn&&(H=kn,Ot("selected"),this.emit("change",{object:this,property:"selected"}))}},variant:{get:()=>Pe,set:kn=>{Pe!==kn&&(Pe=kn,Ot("variant"),Q&&Tn(),this.emit("change",{object:this,property:"variant"}))}},variantCount:{writable:!1,value:this.variants.length},renderables:{get:()=>this.variants[Pe]},modifiers:{get:()=>Ee,set:kn=>{Ee!==kn&&(Ee&&Ee.off("change",vn),Ee=kn,Ee&&Ee.on("change",vn),Ot("modifier"))}},loaded:{get:()=>te&&rt[Pe]},transformLoaded:{get:()=>te}}),Ot(),ot(this.sceneNode,a)}}function Pi(f,a,g=null,u=0){for(let O=0;O<f.length;O++){const H=f[O],te=a(H,g,u++);H.objects&&(u=Pi(H.objects,a,te,u))}return u}class eo{constructor(a,g){d(this,"name",void 0),d(this,"anatomyRoots",void 0),d(this,"anatomyObjects",void 0),d(this,"sceneNode",void 0),d(this,"findAnatomyObject",void 0),d(this,"destroy",void 0);const{name:u,...O}=g;this.name=u||"",this.anatomyRoots=[];const H=this.anatomyObjects=new Map,te=new Map,Q=this.sceneNode=new ke({name:this.name||"Anatomy Scene Graph"});Pi(a.sceneGraph,(be,Me,Ee)=>{const{objectId:Pe}=be,rt=new ti(be,O);return H.set(Pe,rt),rt.renderOrder=Ee,te.set(rt.sceneNode,rt),rt.parent=Me,rt.sceneNode.parent=Me?Me.sceneNode:Q,Me?Me?.children.push(rt):this.anatomyRoots.push(rt),void 0===be.layer&&Me&&(rt.layer=Me.layer),rt}),this.findAnatomyObject=be=>be instanceof br?this.findAnatomyObject(be.parent):te.get(be)||null,this.destroy=()=>{Q.destroy(),H.forEach(be=>be.destroy()),H.clear(),te.clear(),this.anatomyRoots.length=0}}}class lo{constructor(a){d(this,"get",void 0),d(this,"release",void 0),d(this,"destroy",void 0);const{release:g,create:u,key:O,timeout:H=5e3}=a,te=new Map,Q=new Y,be=new Map,Me=new Map,Ee=new Set,Pe=new Set;let rt=0;function Dt(){clearTimeout(rt),Ee.forEach(Ft=>{te.delete(Ft.key),Ee.delete(Ft),g&&(O?g(Ft.resource,Ft.key):g(Ft.resource,...be.get(Ft.key)))}),Pe.forEach(Ft=>{const Wt=be.get(Ft);Wt&&(Q.delete(...Wt),be.delete(Ft))}),Pe.clear(),rt=0}this.get=(...Ft)=>{let Wt=Q.get(...Ft);Wt||(Wt=Symbol(),Q.set(...Ft,Wt),be.set(Wt,Ft)),Pe.delete(Wt);const Ot=O?O(...Ft):Wt;let Jt=te.get(Ot);return Jt?(Ee.delete(Jt),rt&&!Ee.size&&(clearTimeout(rt),rt=0)):(Jt={key:Ot,clients:new Set,resource:u(...Ft)},te.set(Ot,Jt)),Jt.clients.add(Wt),Me.set(Wt,Jt),Jt.resource},this.release=(...Ft)=>{const Wt=Q.get(...Ft);if(!Wt)return;const Ot=Me.get(Wt);Ot&&(Ot.clients.delete(Wt),Me.delete(Wt),O&&Q.delete(...Ft),Pe.add(Wt),Ot.clients.size||(Ee.add(Ot),rt||(rt=setTimeout(Dt,H))))},this.destroy=()=>{Q.forEach((Ft,...Wt)=>{this.release(...Wt)}),Dt()}}}class Oo extends wt{constructor(a,g){super(g),d(this,"source",void 0),d(this,"data",void 0),d(this,"levels",void 0),d(this,"format",void 0),d(this,"sizeDynamic",void 0),d(this,"dynamic",void 0),d(this,"valid",void 0),d(this,"update",void 0);const u=new K(a,g);Object.defineProperties(this,{source:{value:u.source,writable:!1},data:{value:u.data,writable:!1},levels:{value:u.levels,writable:!1},format:{value:u.format,writable:!1},width:{get:()=>u.width},height:{get:()=>u.height},sizeDynamic:{get:()=>u.sizeDynamic},dynamic:{get:()=>u.dynamic},valid:{get:()=>u.valid}}),u.on("resize",()=>{this.emit("resize",{texture:this})}),u.on("update",()=>{this.emit("update",{texture:this})}),u.on("destroy",()=>{this.emit("destroy",{texture:this})}),this.update=u.update;const O=this.destroy;this.destroy=()=>{u.destroy(),O()}}}const ss=Ti(()=>ls("texture")),sa=typeof createImageBitmap<"u",Ca=[{format:"bc1-rgba-unorm",fileExtension:"dds",fileNamePostfix:"-dxt1.dds"},{format:"pvrtc-rgb4unorm",fileExtension:"pvr",fileNamePostfix:"-pvrtc.pvr"},{format:"etc2-rgb8unorm",fileExtension:"pvr",fileNamePostfix:"-etc1.pvr"}];class _e extends le{constructor(a){super(),d(this,"get",void 0),d(this,"release",void 0);const{timeout:g,...u}=a,O=new WeakMap,H=new lo({key:(Q,be)=>be,create:(Q,be)=>{const Me=(Ee=S(function*(Pe,rt){const{textureFormats:Dt,server:Ft,...Wt}=rt||{};if(Ft?.loadImage){const An=yield Ft.loadImage(Pe);if(An)return new Oo(An,{name:Pe,...Wt,rowOrder:"bottom-up"})}const Ot=Pe.replace(/(\.jpg|\.jpeg|\.png)$/,"");for(let An=0;An<Ca.length&&Se;An++){const{fileExtension:vn,format:kn,fileNamePostfix:nr}=Ca[An];if(Dt?.includes(kn)){const ur=Ot+nr;try{const Qn=yield Ft.fetch(ur,"texture"),kr=yield Qn.blob(),$r=yield ss({blob:kr,type:vn});if($r){const{levels:Vr,format:Fr}=$r;return"top-down"===Wt.rowOrder&&console.warn("Compressed textures cannot be flipped"),new Oo(Vr,{name:Pe,...Wt,rowOrder:"bottom-up",format:Fr})}}catch(Qn){console.warn("Failed to load texture",Qn)}}}const Jt=yield Ft.fetch(Pe,"texture"),Fn=yield Jt.blob();if(sa)try{const An="bottom-up"===Wt.rowOrder,vn=An?void 0:"flipY",kn=yield createImageBitmap(Fn,{imageOrientation:vn}),nr=new Oo(kn,{name:Pe,...Wt,rowOrder:An?"bottom-up":"top-down"});return nr.on("destroy",()=>{kn.close()}),nr}catch{}const Tn=URL.createObjectURL(Fn);try{const An=yield ct(Tn),vn=new Oo(An,{name:Pe,rowOrder:Wt.rowOrder||"bottom-up",...Wt});return vn.on("destroy",()=>{URL.revokeObjectURL(Tn)}),vn}catch(An){console.warn("Failed to load uncompressed texture",An),URL.revokeObjectURL(Tn)}return null}),function(Pe,rt){return Ee.apply(this,arguments)})(be,u);var Ee;return Me.then(Ee=>{O.set(Me,Ee),Ee&&this.emit("create",{texture:Ee})}),Me},release:Q=>{const be=Q?O.get(Q):null;be&&(be.destroy(),O.delete(Q),this.emit("release",{texture:be}))},timeout:g});this.get=H.get,this.release=H.release;const te=this.destroy;this.destroy=()=>{H.destroy(),te()}}}const dt=[{format:"astc-6x6-hdr",fileNamePostfix:"-astc-6x6-hdr.pvr"},{format:"bc6h-rgb-ufloat",fileNamePostfix:"-bc6h.ktx2"},{format:"rgb9e5ufloat",fileNamePostfix:"-rgb9e5.pvr"},{format:"rgba16float",fileNamePostfix:"-rgbd.pvr"}],On=function(){var f=S(function*(a,g,u=(O=>O.replace(/.*\.([\w\d]+)$/,"$1"))(g)||"pvr"){const O=yield a.fetch(g,"image-light"),H=yield O.blob(),te=yield ss({blob:H,type:u}),{faces:Q,format:be}=te;if(!Q||6!==Q.length)throw new Error("Cube maps need exactly six faces.");return new se(Q,{name:g,format:be})});return function(g,u){return f.apply(this,arguments)}}();class Ke extends le{constructor(a){super(),d(this,"get",void 0),d(this,"release",void 0);let g=!1;const{server:u,timeout:O,textureFormats:H}=a,te=new WeakMap,Q=new lo({create:Me=>{const Ee=(Pe=S(function*(rt,Dt,Ft){const Wt=yield Promise.all(["specular","diffuse-irradiance"].map(function(){var Fn=S(function*(Tn){const An=`/content/states/${Dt.replace(/\.hdr$/,"")}-${Tn}`;for(let vn=0;vn<dt.length;vn++){const{format:kn,fileNamePostfix:nr}=dt[vn];try{if(Ft.includes(kn))return yield On(rt,An+nr)}catch(ur){console.warn("Failed to load environment light image",ur)}}return null});return function(Tn){return Fn.apply(this,arguments)}}())),[Ot,Jt]=Wt;return Ot&&Jt?{specularTexture:Ot,irradianceTexture:Jt}:(console.warn("Missing image-based light component"),null)}),function(rt,Dt,Ft){return Pe.apply(this,arguments)})(u,Me,H);var Pe;return Ee.then(Pe=>{if(g)throw Pe?.irradianceTexture.destroy(),Pe?.specularTexture.destroy(),new Error("Canceled loading image light textures.");te.set(Ee,Pe),this.emit("create",Pe)}),Ee},release:Me=>{const Ee=Me?te.get(Me):null;Ee&&(Ee.irradianceTexture.destroy(),Ee.specularTexture.destroy(),te.delete(Me),this.emit("release",Ee))},timeout:O});this.get=Q.get,this.release=Q.release;const be=this.destroy;this.destroy=()=>{g=!0,Q.destroy(),be()}}}class En{constructor(){d(this,"loadReflections",void 0),d(this,"loadObjectGeometry",void 0),d(this,"createParticleSystem",void 0),d(this,"loadTweenLibraries",void 0),d(this,"loadTransform",void 0),d(this,"getAssetLibrary",void 0),d(this,"loadImageLight",void 0)}}class dr extends le{constructor(a,g,u){let O=!1;super(),d(this,"contentNode",void 0),d(this,"environmentNode",void 0),d(this,"anatomySceneGraph",void 0),d(this,"materials",void 0),d(this,"activeChapter",void 0),d(this,"activeChapterIndex",void 0),d(this,"module",void 0),d(this,"chapters",void 0),d(this,"server",void 0),d(this,"camera",void 0),d(this,"cameraController",void 0),d(this,"particleSystemDefs",void 0),d(this,"variants",void 0),d(this,"playBackRate",void 0),d(this,"activateChapter",void 0),d(this,"createChapter",void 0),d(this,"start",void 0),d(this,"stop",void 0),d(this,"update",void 0),this.server=a,this.contentNode=new ke({scale:[Nt,Nt,Nt],name:"BioDigitalStory content",rotationSource:"euler"}),this.environmentNode=new ke({scale:[Nt,Nt,Nt],name:"BioDigitalStory environment",rotationSource:"euler"});const{camera:H,textureFormats:te,baseUrl:Q,loadAllMorphs:be,...Me}=u||{};this.camera=H||new or,this.cameraController=new Tt(this.camera),H||this.environmentNode.add(this.camera);let Ee=1,Pe=-1,rt=null,Dt=!1,Ft=null;this.module=g;const Wt=this.materials=new Map,Ot=new _e({server:a,textureFormats:te}),Jt=new Ke({server:a,textureFormats:te}),Fn=Oi(a,"transform"),Tn=b((xi,wr,ci)=>a.getAssetLibrary(u?.baseUrl||"",xi,wr,ci)),An={baseUrl:Q,server:a,textureCache:Ot,getAssetLibrary:Tn},vn=Oi(a,"material",function(){var xi=S(function*(wr,ci){const oo=yield bn(wr,ci,An);return Wt.set(ci,oo),oo.on("destroy",()=>Wt.delete(ci)),oo});return function(wr,ci){return xi.apply(this,arguments)}}()),kn=b(xi=>Oe(Tn,Q||"",xi,a)),nr=b(function(xi,wr){const ci=Oi(xi,"geometry"),oo=Oi(xi,"morph");return function(){var ca=S(function*(Js,As){const La=[ci(Js,wr).catch(Ja=>(console.error("Error loading geometry "+Js,Ja),null))];As&&La.push(oo(As,wr).catch(Ja=>(console.error("Error loading morph "+As,Ja),null)));const ka=yield Promise.all(La);return ka?.[0]?function ws(f,a){return Jo.apply(this,arguments)}({geometryId:Js,morphId:As,buffers:{geometry:ka[0],morph:ka[1]||null}},wr):null});return function(Js,As){return ca.apply(this,arguments)}}()}(a,Me));let ur=null;const Qn=new Set;this.particleSystemDefs=new Mt(g.customData?.particleSystems?.map(xi=>[xi.id,xi]));const kr=xi=>{Qn.delete(xi.node),xi.node.off("destroy",kr),!Qn.size&&ur&&(ur.destroy(),ur=null)},$r=(xi,wr)=>{const ci=g.variantSchemas?.[xi];if(!ci)throw new Error(`Missing variant schema '${xi}'`);const oo=ci.themes[wr];if(!oo)throw new Error(`Invalid index for variant schema '${xi}'`);for(const ca in oo.objectVariants)if(Object.prototype.hasOwnProperty.call(oo.objectVariants,ca)){const Js=oo.objectVariants[ca],As=this.anatomySceneGraph.anatomyObjects.get(ca);As&&(As.variant=Js)}};let Vr=null;const Fr={loadReflections:(xi=S(function*(wr){const ci={lightMap:null,reflectionMap:null};return yield Promise.all(["lightMap","reflectionMap"].map(function(){var oo=S(function*(ca){const Js=wr?.[ca],As=Js?.[0];if(As)try{ci[ca]=yield kn(As)}catch(La){console.error("Error loading reflection map: "+ca,La)}});return function(ca){return oo.apply(this,arguments)}}())),ci}),function(ci){return xi.apply(this,arguments)}),loadObjectGeometry:nr,createParticleSystem:xi=>{let wr=null;const ci={...An,loadMaterial:vn};return me?(ur||(ur=new ys),wr=new qo(xi,ur,ci)):wr=new ho(xi,ci),Qn.add(wr),wr.on("destroy",kr),wr},loadTweenLibraries:()=>{if(!Vr)if(g.assetLibraries?.tweens){const xi={};Vr=Promise.all(g.assetLibraries.tweens.map(wr=>a.getAssetLibrary(Q||"","animations",wr,"manifest").then(ci=>{xi[wr]=ci}).catch(ci=>{console.error("Error loading tween library: "+wr,ci)}))).then(()=>xi)}else Vr=Promise.resolve({});return Vr},loadTransform:Fn,getAssetLibrary:Tn,loadImageLight:xi=>Jt.get(xi)},di=new Set(g.chapters.map(xi=>xi.timelineMap?.map(({data:wr})=>wr.timeline)).reduce((xi,wr)=>wr?[...xi,...wr]:xi,[]));var xi;this.anatomySceneGraph=new eo(g,{loadTransform:Fr.loadTransform,loadObjectGeometry:Fr.loadObjectGeometry,loadMaterial:vn,timelineIds:di,loadAllMorphs:be,materialOptions:An}),this.variants=new Mt(Object.entries(g.variantSchemas||{}).map(([xi,wr])=>[xi,wr.defaultSelection||0])),this.variants.on("change",xi=>{$r(xi,this.variants.get(xi)??0)}),this.variants.forEach((xi,wr)=>{$r(wr,xi)});const ai=[],fi=new Set,Or=xi=>{xi.deactivate(),this.contentNode.remove(xi.contentNode),this.environmentNode.remove(xi.environmentNode)},bi=new rs,Mi=xi=>{bi.dec(xi)||(rt===xi&&(this.anatomySceneGraph.sceneNode.parent=null,Or(xi),rt=null,Pe=-1),xi.index=-1)},go=new ue(ai,{deleteProperty:(xi,wr)=>(Mi(xi[wr]),xi[wr]=void 0,!0),set:(xi,wr,ci)=>{if(ci===xi[wr])return!0;if(!ci||wr>xi.length)throw new Error("Missing elements in chapters array is not allowed");if(!fi.has(ci))throw new Error("Attempt to insert invalid chapter into array");const oo=xi[wr];return xi[wr]=ci,ci.index=wr,bi.inc(ci),oo&&Mi(oo),rt===ci&&(Pe=wr),!0}}),fo=xi=>{const wr=ai[xi];if(wr===rt)return Pe=xi,void(rt=wr);const ci=Pe>=0&&ai[Pe]||null;ci&&(Or(ci),this.contentNode.remove(ci.contentNode),this.environmentNode.remove(ci.environmentNode)),wr?(this.contentNode.add(this.anatomySceneGraph.sceneNode),this.contentNode.add(wr.contentNode),this.environmentNode.add(wr.environmentNode),Pe=xi,rt=wr,wr.activate(),Dt&&wr.start()):(this.contentNode.remove(this.anatomySceneGraph.sceneNode),Pe=-1,rt=null),ci!==wr&&this.emit("changechapter",Pe)};this.activateChapter=function(){var xi=S(function*(wr){if(!(wr>=0)||wr>=ai.length)throw new Error(`BioDigitalStory: chapter index ${wr} not found.`);const ci=ai[wr];return Ft=ci,yield ci.load(),O||Ft!==ci||fo(ci.index),ci});return function(wr){return xi.apply(this,arguments)}}(),this.createChapter=(xi,wr=ai.length)=>{if(wr>ai.length)throw new Error("Missing elements in chapters array is not allowed.");const ci=new Vi(this,xi,Fr,wr);return ci.on("destroy",()=>{const oo=ai.indexOf(ci);oo>=0&&this.chapters.splice(oo,1),fi.delete(ci)}),fi.add(ci),this.chapters.splice(wr,0,ci),wr},this.start=()=>{Dt||(Dt=!0,rt?.start())},this.stop=()=>{Dt&&(Dt=!1,rt?.stop())},this.update=xi=>{rt?.update(xi)};const Yo=this.destroy;this.destroy=()=>{O||(this.stop(),O=!0,Pe=-1,ai.length=0,fi.forEach(xi=>xi.destroy()),Qn.forEach(xi=>xi.destroy()),Qn.clear(),this.particleSystemDefs.destroy(),this.variants.destroy(),ur&&(ur.destroy(),ur=null),this.anatomySceneGraph.destroy(),H||this.camera.destroy(),Wt.forEach(xi=>xi.destroy()),Wt.clear(),Ot.destroy(),Jt.destroy(),this.emit("destroy"),Yo())},Object.defineProperties(this,{chapters:{writable:!1,value:go},playBackRate:{get:()=>Ee,set:xi=>{if(xi<=0)throw new Error("Negative or zero playback rate not supported");Ee=xi,Qn.forEach(wr=>wr.playBackRate=Ee)}},activeChapterIndex:{get:()=>Pe},activeChapter:{get:()=>rt}}),g.chapters.forEach((xi,wr)=>{this.createChapter(xi,wr)})}}class li extends le{constructor(a=null){super(),d(this,"root",void 0),d(this,"has",void 0),d(this,"size",void 0);const g=new Set,{emit:u}=this;function O(Me){Me.parent&&g.has(Me.parent)||Q(Me.node)}function H(Me){te(Me.child)}function te(Me){Me&&!g.has(Me)&&(Me.on("parent",O),Me.on("add",H),g.add(Me),Me.children.forEach(te),u("add",Me))}function Q(Me){Me&&g.has(Me)&&!g.has(Me.parent)&&(Me.off("parent",O),Me.off("add",H),g.delete(Me),Me.children.forEach(Q),u("remove",Me))}Object.defineProperties(this,{root:{get:()=>a,set:Me=>{Me!==a&&(Q(a),te(a=Me))}},size:{get:()=>g.size}}),this.has=Me=>g.has(Me);const be=this.destroy;this.destroy=()=>{this.root=null,be()},te(a)}}class Ji{constructor(a={}){d(this,"dirty",void 0),d(this,"sortDirty",void 0),d(this,"filterDirty",void 0),d(this,"size",void 0),d(this,"filteredSize",void 0),d(this,"queued",void 0),d(this,"has",void 0),d(this,"add",void 0),d(this,"delete",void 0),d(this,"update",void 0),d(this,"dirtySort",void 0),d(this,"dirtyFilter",void 0),d(this,"clear",void 0),d(this,Symbol.iterator,void 0);const{sort:g,sortCallback:u,filter:O,autoUpdate:H=!0}=a,te=new Set,Q=new Set,be=[];let Me=!1,Ee=!1;this.has=Pe=>te.has(Pe),this.queued=Pe=>(H&&this.update(),Q.has(Pe)),this.add=Pe=>{te.has(Pe)||(te.add(Pe),O&&!O(Pe)||(be.push(Pe),Q.add(Pe),Me=!0))},this.delete=Pe=>{te.has(Pe)&&(te.delete(Pe),Q.delete(Pe))},this.update=(...Pe)=>{if(O&&Ee)for(const rt of te)O(rt,...Pe)?Q.has(rt)||(be.push(rt),Q.add(rt),Me=!0):Q.delete(rt);for(let rt=be.length-1;rt>=0&&be.length>Q.size;rt--){const Dt=be[rt];te.has(Dt)&&Q.has(Dt)||be.splice(rt,1)}Ee=!1,Me&&(g?g(be,...Pe):u&&be.sort(u),Me=!1)},this[Symbol.iterator]=()=>(H&&this.update(),be[Symbol.iterator]()),this.dirtySort=()=>{Me=!0},this.dirtyFilter=()=>{Ee=!0},this.clear=()=>{te.clear(),Q.clear(),be.length=0,Me=!1,Ee=!1},Object.defineProperties(this,{dirty:{get:()=>Me||Ee},sortDirty:{get:()=>Me},filterDirty:{get:()=>Ee},size:{get:()=>te.size},filteredSize:{get:()=>(H&&this.update(),Q.size)}})}}function gs(f,a){if(!f)return 0;const g=f?.attributes?.position?.data?.length||0,{indices:u}=f;if(u&&(!1!==a||f.count!==u.length)){const O=new Set;for(let H=f.offset,te=f.offset+f.count;H<te;H++)O.add(u[H]);return O.size}return Math.min(g/3,f.count)}const us=w(30559),ds=6408,na=5120,bs=5121,Lo=5122,Ho=5123,Ki=5124,bo=5125,Ps=5126,va=36249,Qs=33319,fa=33320,ks=36244,Oa={bool:35670,int:Ki,uint:bo,float:Ps,vec2:35664,vec3:35665,vec4:35666,ivec2:35667,ivec3:35668,ivec4:35669,bvec2:35671,bvec3:35672,bvec4:35673,mat2:35674,mat3:35675,mat4:35676},Dl=f=>Array.isArray(f)?f:[f],Ha=/^\s*uniform(?:\s+(lowp|mediump|highp))?\s+([\w_][\w\d_]+)\s+([\w_][\w\d_]+)(?:\[((?:0x)?\d)+u?\])?;$/i;let _s=function(f){return f.vert="vert",f.frag="frag",f}({});function nl(f,a,g){const{joinShader:u,...O}=g||{},H={vert:new Map,frag:new Map},te={vert:{extensions:[],declare:[],main:[]},frag:{extensions:[],declare:[],main:[]}},Q={};function be(Wt){return(Ot,Jt,Fn)=>Ee(Fn||Wt,Ot,Jt)}const Me={vert:be(_s.vert),frag:be(_s.frag)};function Ee(Wt,Ot,Jt){const Fn=isNaN(Jt)?Ot:`${Ot}[${Jt}]`;if(H[Wt].has(Fn))return H[Wt].get(Fn)||"key";let Tn=f[Ot];if(!Tn)throw new Error(`Unknown reference: '${Ot}'`);"function"==typeof Tn&&(Tn=Tn(Wt,Jt,O,Me[Wt])||{}),"string"==typeof Tn&&(Tn={declare:[Tn]});const An=Tn.symbol||Fn;if(H[Wt].set(Fn,An),Tn.requires&&Dl(Tn.requires).forEach(vn=>{vn!==Ot&&Ee(Wt,vn)}),Tn.extensions){const vn=Dl(Tn.extensions);te[Wt].extensions.push(...vn)}if(Tn.declare&&Dl(Tn.declare).forEach(vn=>{"string"==typeof vn&&(vn={define:vn});const{define:kn,type:nr,...ur}=vn,Qn=kn&&Ha.exec(kn),kr=vn.uniform||Qn&&Qn[3];if(kr){const $r=void 0!==vn.count?vn.count:Qn&&Qn[4]?parseInt(Qn[4]):1,Vr=nr||Qn&&Qn[2];Q[kr]={name:kr,...ur,count:$r,typeName:Vr},"string"==typeof Vr&&Oa[Vr]&&(Q[kr].type=Oa[Vr])}kn&&te[Wt].declare.push(kn)}),Tn.main){const vn=Dl(Tn.main);te[Wt].main.push(...vn)}return An}const Pe=a(_s.vert,Me.vert),rt=a(_s.frag,Me.frag),Dt=Dl(Pe),Ft=Dl(rt);return te.vert.main.push(...Dt),te.frag.main.push(...Ft),{vert:u(te.vert),frag:u(te.frag),uniforms:Q}}const Kc={webGlVersion:2,precision:"highp",textureLODext:!1};function _l(f,a,g){return(u,O,H)=>({declare:`${H?.webGlVersion>=2?void 0!==g?`layout(location = ${g}) in`:"in":"attribute"} ${f} ${a};`,symbol:a})}function Xc(f){return f.replace(/^(\w)/,a=>"v"+a.toUpperCase())}function ul(f,a,g,u,O){const H=u?.webGlVersion>=2?f===_s.frag?"in":"out":"varying";return void 0===O&&/^((u?int)|ivec[2-4])$/.test(a)&&(O="flat"),O&&(O+=" "),`${O||""}${H} ${a} ${g};`}function ra(f,a,g=Xc(a),u){return function(O,H,te,Q){const be=isNaN(H)?g:g+H;return O===_s.frag?{declare:[ul(O,f,be,te,u)],symbol:Q(g,H,_s.vert)}:{declare:[ul(O,f,be,te,u)],main:[`${be} = ${Q(a,H)};`]}}}const Yc={uint:"x",int:"x",float:"r",vec2:"rg",vec3:"rgb",vec4:"rgba"},Dc={};function au(f){const a=`sampleBatchMatrix${f}`,g="vec"+f,u=Yc[g];return{[a]:`mat${f} ${a}(sampler2D sampler, uint index, uint offset) {\n\t\t\t\t${er(f,O=>`\n\t\t\t\t\tivec2 coord${O} = ivec2(offset + ${O}u, index);\n\t\t\t\t\t${g} row${O} = texelFetch(sampler, coord${O}, 0).${u};\n\t\t\t\t`).join("\n")}\n\t\t\t\treturn mat${f}(${er(f,O=>"row"+O).join(", ")});\n\t\t\t}`}}function Zo(f,a,g=!0,u=a,O){const H=/^mat([2-4])$/.exec(f),te=/\[\d+\]$/.test(a),Q=H&&parseInt(H[1],10),be=g?"MaterialSampler":"ModelSampler",Me=H?`vec${Q}${be}`:f+be,Ee=u+"SamplerOffset",Pe=a.replace(/\[\d+\]$/,"");return O||(O=Xc(Pe)),{[O]:ra(f,Pe,O),[Ee]:{declare:{define:`uniform uint ${Ee};`,samplerOffsetTarget:u}},[u]:(rt,Dt,Ft,Wt)=>{const Ot=isNaN(Dt)||te?Pe:Pe+Dt,Jt=te?a:Ot;if(Ft?.multiDraw&&(!g||Ft?.multiMaterial)){if(H){if(rt===_s.frag)return{symbol:Wt(O,Dt)};const Tn=Wt(g?"materialId":"gl_DrawID");return{declare:{uniform:Jt,type:f,multiDraw:g?"material":"model"},main:`${f} ${Ot} = ${Wt(`sampleBatchMatrix${Q}`)}(${Wt(Me)}, ${Tn}, ${Wt(Ee)});`}}const Fn=Wt(g?"materialSampleOffset":"modelSampleOffset");return{declare:{uniform:Jt,type:f,multiDraw:g?"material":"model"},symbol:`texelFetch(${Wt(Me)}, ivec2(${Wt(Ee)}, ${Fn}), 0).${Yc[f]}`}}return{declare:`uniform ${f} ${Jt};`,symbol:Ot}}}}Object.keys(Yc).forEach(f=>{const a=f+"ModelSampler";Dc[a]=`uniform sampler2D ${a};`;const g=f+"MaterialSampler";Dc[g]=`uniform sampler2D ${g};`});const Xl={vDrawId:ra("uint","gl_DrawID","vDrawId","flat"),gl_DrawID:(f,a,g,u)=>g?.multiDraw?f===_s.frag?{symbol:u("vDrawId")}:{extensions:"#extension GL_ANGLE_multi_draw : require",symbol:"uint(gl_DrawID)"}:{symbol:"0"},vMaterialId:ra("uint","materialId","vMaterialId","flat"),materialId:(f,a,g,u)=>g?.multiDraw?f===_s.frag?{symbol:u("vMaterialId")}:{declare:"uniform mediump usampler2D materialId;",symbol:`texelFetch(materialId, ivec2(0, ${u("modelSampleOffset")}), 0).x`}:{symbol:"0"},vModelSampleOffset:ra("uint","modelSampleOffset"),modelSampleOffset:(f,a,g,u)=>f===_s.frag?{symbol:u("vModelSampleOffset")}:{main:[`uint modelSampleOffset = ${u("gl_DrawID")};`]},vMaterialSampleOffset:ra("uint","materialSampleOffset"),materialSampleOffset:(f,a,g,u)=>f===_s.frag?{symbol:u("vMaterialSampleOffset")}:{symbol:u("materialId")},...Dc,...au(2),...au(3),...au(4)};let ce=function(f){return f.add="add",f.multiply="multiply",f}({});const Te={baseColorFresnel:!1,baseColorFresnelBlendMode:ce.multiply,opacityFresnel:!1,opacityFresnelBlendMode:ce.multiply};function Xe(f,a,g){return(u,O,H,te)=>{const Q="float"===a?"":".rgb",be="add"===H[f+"BlendMode"]?"+":"*",Me=`${f}BiasEdge`,Ee=`${f}BiasCenter`,Pe=`${f}Power`,rt=`${f}Edge`,Dt=`${f}Center`;return`${a} ${g}(${a} value, vec3 eyeDir, vec3 viewNormal) {\n\t\t\tfloat amount = ${te("fresnel")}(eyeDir, viewNormal, ${te(Me)}, ${te(Ee)}, ${te(Pe)});\n\t\t\treturn value${Q} ${be} mix(${te(rt)}${Q}, ${te(Dt)}${Q}, amount);\n\t\t}`}}function De(f,a){const g="float"===a?`${f}Value`:`${f}Color`;return{[g]:Xe(f,a,g),...Zo(a,f+"Center"),...Zo(a,f+"Edge"),...Zo("float",f+"BiasCenter"),...Zo("float",f+"BiasEdge"),...Zo("float",f+"Power")}}const ft={...De("baseColorFresnel","vec3"),...De("opacityFresnel","float"),fresnel:"float fresnel(vec3 eyeDir, vec3 normal, float edgeBias, float centerBias, float power) {\n\t\tfloat fr = abs(dot(eyeDir, normal));\n\t\tfloat finalFr = clamp((fr - edgeBias) / (centerBias - edgeBias), 0.0, 1.0);\n\t\treturn pow(finalFr, power);\n\t}"},mn={modifiers:[]},Nn={...ft,...Zo("vec3","modifierCenter",!1),...Zo("vec2","modifierRadius",!1),...Zo("vec3","modifierColorValue",!1),...Zo("float","modifierValue",!1),...Zo("vec3","modifierFresnelCenter",!1),...Zo("vec3","modifierFresnelEdge",!1),...Zo("float","modifierFresnelBiasCenter",!1),...Zo("float","modifierFresnelBiasEdge",!1),...Zo("float","modifierFresnelPower",!1),modifierFactor:(f,a,g,u)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${u("worldPosition")} - ${u("modifierCenter",a)}) - ${u("modifierRadius",a)}.x) /\n\t\t\t\t${u("modifierRadius",a)}.y\n\t\t, 0.0, 1.0)`})},Kr={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function $i(f,a){const g=(f.priority||0)-(a.priority||0);if(g)return g;const u=(Kr[f.applyTo]||1/0)-(Kr[a.applyTo]||1/0);if(u)return u;const O="range"in f,H="range"in a;return O!==H?Number(O)-Number(H):+("fresnel"in f)-+("fresnel"in a)}const _i=f=>(a,g,u)=>`{\n\t\t\t${a.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${u("fresnel")}(${u("surfaceToView")}, ${u("texturedViewNormal")}, ${u("modifierFresnelBiasEdge",g)}, ${u("modifierFresnelBiasCenter",g)}, ${u("modifierFresnelPower",g)});\n\t\t\t\tfloat value = mix(${u("modifierFresnelEdge",g)}.r, ${u("modifierFresnelCenter",g)}.r, fresnelAmount);\n\t\t\t`:`float value = ${u("modifierValue",g)};`}\n\t\t\t${a.range?`\n\t\t\t\tfloat modifierFactor = ${u("modifierFactor",g)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${f}\n\t\t}`,zo={tintColor:(f,a,g)=>`{\n\t\t\t${f.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",a)}, ${g("modifierFresnelBiasCenter",a)}, ${g("modifierFresnelPower",a)});\n\t\t\t\tvec3 tintColor = mix(${g("modifierFresnelEdge",a)}.rgb, ${g("modifierFresnelCenter",a)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${g("modifierColorValue",a)};`}\n\t\t\t${f.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",a)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(f,a,g)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${f.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",a)}, ${g("modifierFresnelBiasCenter",a)}, ${g("modifierFresnelPower",a)});\n\t\t\t\tfloat saturation = mix(${g("modifierFresnelEdge",a)}.r, ${g("modifierFresnelCenter",a)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${g("modifierValue",a)};`}\n\t\t\t${f.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",a)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:_i("fragColor.a *= value;"),contrast:_i("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(f,a,g)=>`{\n\t\t\t${f.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",a)}, ${g("modifierFresnelBiasCenter",a)}, ${g("modifierFresnelPower",a)});\n\t\t\t\tfloat brightness = mix(${g("modifierFresnelEdge",a)}.r, ${g("modifierFresnelCenter",a)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${g("modifierValue",a)};`}\n\t\t\t${f.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",a)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`};function Ws(f,a){return a.modifiers?.map((g,u)=>{if("opacity"!==g.applyTo){const O=zo[g.applyTo];if(O)return O(g,u,f,a);console.warn("modifier not implemented",g.applyTo)}return""}).join("\n\t")}function xs(f,a){return a.modifiers?.map((g,u)=>"opacity"===g.applyTo?(0,zo[g.applyTo])(g,u,f,a):"").join("\n\t")}function ia(f,a){return(0,m.dot)(f,a)+f[3]}function ea(f,a=f){let g=(0,m.length)(f);return g>0&&(g=1/g),(0,Fo.scale)(a,f,g),a}function ma(f,a){const g=a[0],u=a[1],O=a[2],H=a[3],te=a[4],Q=a[5],be=a[6],Me=a[7],Ee=a[8],Pe=a[9],rt=a[10],Dt=a[11],Ft=a[12],Wt=a[13],Ot=a[14],Jt=a[15];ea((0,Fo.set)(f[0],H-g,Me-te,Dt-Ee,Jt-Ft)),ea((0,Fo.set)(f[1],H+g,Me+te,Dt+Ee,Jt+Ft)),ea((0,Fo.set)(f[2],H+u,Me+Q,Dt+Pe,Jt+Wt)),ea((0,Fo.set)(f[3],H-u,Me-Q,Dt-Pe,Jt-Wt)),ea((0,Fo.set)(f[4],H-O,Me-be,Dt-rt,Jt-Ot)),ea((0,Fo.set)(f[5],H+O,Me+be,Dt+rt,Jt+Ot))}function dc(f,a,g,u,O=0,H=0){const te=u*u;let Q=0;for(let be=0;be<3;be++){const Me=g[be],Ee=Math.max(f[be+O],Math.min(a[be+H],Me))-Me;if(Q+=Ee*Ee,Q>te)return-1/0}return Math.sqrt(Q)}function Ka(f,a,g){return f&&g>=0?dc(f.min,f.max,a,g):-1/0}const dl={...Kc,multiDraw:!1,multiMaterial:!1,topology:it.triangles,quantizedPositions:!1,octNormals:!1,quantizedUVs:!1,vertexColors:!1,morphTarget:!1,normals:!0,tangents:!1},xu={...Zo("mat4","modelMatrix",!1),...Zo("mat4","normalMatrix",!1),...Zo("mat4","decodePositions",!1),...Zo("mat3","decodeUVs",!1),...Zo("float","morphFactor",!1),...Zo("mat4","decodeMorphPositions",!1),"attr:position":_l("vec3","position",0),"attr:normal":_l("vec3","normal",1),"attr:tangent":_l("vec3","tangent",4),"attr:color":_l("vec4","color",3),"attr:texcoord":_l("vec2","texcoord",2),"attr:morphPosition":_l("vec3","morphPosition"),"attr:morphNormal":_l("vec3","morphNormal"),"attr:morphTangent":_l("vec3","morphTangent"),vModelPosition:ra("vec3","modelPosition"),modelPosition(f,a,g,u){if(f===_s.frag)return{symbol:u("vModelPosition")};const O=g?.quantizedPositions,H=[`vec3 modelPosition = ${O?`${u("transformMat4")}(${u("decodePositions")}, ${u("attr:position")})`:u("attr:position")};`];return g.morphTarget&&H.push(`vec3 morphModelPosition = ${O?`${u("transformMat4")}(${u("decodeMorphPositions")}, ${u("attr:morphPosition")})`:u("attr:morphPosition")};`,`modelPosition = mix(modelPosition, morphModelPosition, ${u("morphFactor")});`),{main:H}},vNormal:ra("vec3","normal"),normal(f,a,g,u){if(!g.normals)return{symbol:"vec3(0.0)"};if(f===_s.frag)return{main:[`vec3 normal = normalize(${u("vNormal")});`]};const O=g?.octNormals,H=[O?`vec3 decodedNormal = ${u("octDecode")}(${u("attr:normal")}.xy);`:`vec3 decodedNormal = ${u("attr:normal")};`];return g.morphTarget&&H.push(O?`vec3 decodedMorphNormal = ${u("octDecode")}(${u("attr:morphNormal")}.xy);`:`vec3 decodedMorphNormal = ${u("attr:morphNormal")};`,`decodedNormal = mix(decodedNormal, decodedMorphNormal, ${u("morphFactor")});`),H.push(`vec3 modelNormal = ${u("transformMat4")}(${u("normalMatrix")}, decodedNormal);`),{main:H,symbol:"modelNormal"}},vTangent:ra("vec3","tangent"),tangent:(f,a,g,u)=>f===_s.frag?{main:[`vec3 tangent = ${u("vTangent")};`]}:{main:g.morphTarget?`vec3 modelTangent = mix(${u("attr:tangent")}, ${u("attr:morphTangent")}, ${u("morphFactor")});`:`vec3 modelTangent = ${u("attr:tangent")};`,symbol:"modelTangent"},vTexCoord:ra("vec2","texCoord"),texCoord:(f,a,g,u)=>f===_s.frag?{symbol:u("vTexCoord")}:{main:[`vec2 texCoord = ${g?.quantizedUVs?`(${u("decodeUVs")} * vec3(${u("attr:texcoord")}, 1.0)).uv`:u("attr:texcoord")};`]},vVertexColor:ra("vec4","vertexColor"),vertexColor:(f,a,g,u)=>f===_s.frag?{symbol:u("vVertexColor")}:{symbol:u("attr:color")},octDecode:"vec3 octDecode(vec2 oct) {\n\t\tvec3 v = vec3(oct.xy, 1.0 - abs(oct.x) - abs(oct.y));\n\t\tif (v.z < 0.0) {\n\t\t\tv.xy = (1.0 - abs(v.yx)) * vec2(v.x >= 0.0 ? 1.0 : -1.0, v.y >= 0.0 ? 1.0 : -1.0);\n\t\t}\n\t\treturn normalize(v);\n\t}"},Tc={screenResolution:"uniform vec2 screenResolution;",viewIndex(f,a,g){if(f!==_s.vert)throw new Error("multiview viewIndex only allowed in vertex shader");return g.multiView?{extensions:["#extension GL_OVR_multiview : require"],declare:"layout(num_views=2) in;",symbol:"gl_ViewID_OVR"}:"0"},projectionMatrixArray:"uniform mat4 projectionMatrix[2];",projectionMatrix:(f,a,g,u)=>g.multiView?{requires:"projectionMatrixArray",symbol:`projectionMatrix[${u("viewIndex")}]`}:"uniform mat4 projectionMatrix;",viewMatrixInverseArray:"uniform mat4 viewMatrixInverse[2];",vViewMatrixInverse:ra("mat4","viewMatrixInverse","vViewMatrixInverse"),viewMatrixInverse:(f,a,g,u)=>g.multiView?f===_s.vert?{requires:"viewMatrixInverseArray",symbol:`viewMatrixInverse[${u("viewIndex")}]`}:{symbol:u("vViewMatrixInverse")}:"uniform mat4 viewMatrixInverse;",cameraPositionArray:"uniform vec3 cameraPosition[2];",vCameraPosition:ra("vec3","cameraPosition","vCameraPosition"),cameraPosition:(f,a,g,u)=>g.multiView?f===_s.vert?{requires:"cameraPositionArray",symbol:`cameraPosition[${u("viewIndex")}]`}:{symbol:u("vCameraPosition")}:"uniform vec3 cameraPosition;",viewMatrixArray:"uniform mat4 viewMatrix[2];",vViewMatrix:ra("mat4","viewMatrix","vViewMatrix"),viewMatrix:(f,a,g,u)=>g.multiView?f===_s.vert?{requires:"viewMatrixArray",symbol:`viewMatrix[${u("viewIndex")}]`}:{symbol:u("vViewMatrix")}:"uniform mat4 viewMatrix;"},vl={...dl,multiView:!1,...Kc},Sd={...xu,...Tc,...Xl,...Zo("mat4","modelViewMatrix[2]",!1,"modelViewMatrixArray"),vModelViewMatrix:ra("mat4","modelViewMatrix","vModelViewMatrix"),modelViewMatrixSamplerOffset:(f,a,g)=>g?.multiView?{declare:{define:"uniform uint modelViewMatrixSamplerOffset[2];",samplerOffsetTarget:"modelViewMatrix"}}:{declare:{define:"uniform uint modelViewMatrixSamplerOffset;",samplerOffsetTarget:"modelViewMatrix"}},modelViewMatrix:(f,a,g,u)=>(g?.multiDraw||g?.multiView)&&f===_s.frag?{symbol:u("vModelViewMatrix")}:g?.multiView?g?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model",count:2},main:`mat4 modelViewMatrix = ${u("sampleBatchMatrix4")}(${u("vec4ModelSampler")}, ${u("gl_DrawID")}, ${u("modelViewMatrixSamplerOffset")}[${u("viewIndex")}]);`}:{symbol:`${u("modelViewMatrixArray")}[${u("viewIndex")}]`}:g?.multiDraw?{declare:{uniform:"modelViewMatrix",type:"mat4",multiDraw:"model"},main:`mat4 modelViewMatrix = ${u("sampleBatchMatrix4")}(${u("vec4ModelSampler")}, ${u("gl_DrawID")}, ${u("modelViewMatrixSamplerOffset")});`}:"uniform mat4 modelViewMatrix;",vScreenPosition:ra("vec4","screenPosition"),screenPosition:(f,a,g,u)=>f===_s.frag?{symbol:u("vScreenPosition")}:{main:[`vec4 screenPosition = ${u("projectionMatrix")} * ${u("modelViewMatrix")} * vec4(${u("modelPosition")}, 1.0);`]},vWorldPosition:ra("vec3","worldPosition"),worldPosition:(f,a,g,u)=>f===_s.frag&&g.topology!==it.points?{symbol:u("vWorldPosition")}:{main:[`vec3 worldPosition = ${u("transformMat4")}(${u("modelMatrix")}, ${u("modelPosition")});`]},vViewPosition:ra("vec3","viewPosition"),viewPosition:(f,a,g,u)=>f===_s.frag?{symbol:u("vViewPosition")}:{main:[`vec3 viewPosition = ${u("transformMat4")}(${u("viewMatrix")}, ${u("worldPosition")});`]},normalizedViewPosition:(f,a,g,u)=>({main:`vec3 normalizedViewPosition = normalize(${u("viewPosition")});`}),vSurfaceToView:ra("vec3","surfaceToView"),surfaceToView:(f,a,g,u)=>f===_s.frag?{main:[`vec3 surfaceToView = normalize(${u("vSurfaceToView")});`]}:{main:[`vec3 surfaceToView = ${u("transformMat4")}(${u("viewMatrix")}, ${u("cameraPosition")}) - ${u("viewPosition")};`]}};let Yl=function(f){return f.opaque="opaque",f.blend="blend",f.test="test",f.hidden="hidden",f}({});const Sc={...vl,alphaMode:Yl.opaque,textureLODext:!1};function Ic(f,a,g="baseColor",u="a"){const O=u?g+"."+u:g;return a.alphaMode===Yl.test?`\n\t\tif (${O} <= 0.0) {\n\t\t\tdiscard;\n\t\t}\n\t\tif (${f("discardOpaque")} && ${O} >= 1.0) {\n\t\t\tdiscard;\n\t\t} else if (!${f("discardOpaque")} && ${O} < 1.0) {\n\t\t\tdiscard;\n\t\t}`:""}const Na={...Sd,discardOpaque:"uniform bool discardOpaque;",...Zo("float","opacity"),ambientLightColor:"uniform vec3 ambientLightColor;",gl_FragColor:(f,a,g)=>g.webGlVersion>=2?{declare:"out vec4 outputFragColor;",symbol:"outputFragColor"}:{symbol:"gl_FragColor"},extStandardDerivatives:(f,a,g)=>g.webGlVersion>=2?{}:{extensions:"#extension GL_OES_standard_derivatives : enable"},texture2D:(f,a,g)=>({symbol:g.webGlVersion>=2?"texture":"texture2D"}),textureCube:(f,a,g)=>({symbol:g.webGlVersion>=2?"texture":"textureCube"}),textureCubeLod:(f,a,g)=>g.webGlVersion>=2?{symbol:"textureLod"}:g?.textureLODext?{extensions:"#extension GL_EXT_shader_texture_lod : enable",symbol:"textureCubeLodEXT"}:{symbol:"textureCube"},PI:"#define PI 3.141592653589793",RECIPROCAL_PI:"#define RECIPROCAL_PI 0.3183098861837907",EPSILON:"#define EPSILON 1e-6",saturate:"#define saturate(a) clamp( a, 0.0, 1.0 )",pow2:"#define pow2(n) (n * n)",pow5:"\n\t\tfloat pow5(float n) {\n\t\t\tfloat n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\tvec3 pow5(vec3 n) {\n\t\t\tvec3 n2 = n * n;\n\t\t\treturn n2 * n2 * n;\n\t\t}\n\t\t",transformMat4:"vec3 transformMat4(mat4 m, vec3 v) {\n\t\tvec4 v4 = m * vec4(v, 1.0);\n\t\treturn v4.xyz;\n\t}",isnan:(f,a,g)=>g.webGlVersion>=2?{symbol:"isnan"}:["bool isnan(float val) {\n\t\t\t\treturn !(val < 0.0 || 0.0 < val || val == 0.0);\n\t\t\t}","bvec2 isnan(vec2 v) { return bvec2(isnan(v.x), isnan(v.y)); }","bvec3 isnan(vec3 v) { return bvec3(isnan(v.xy), isnan(v.z)); }","bvec4 isnan(vec4 v) { return bvec4(isnan(v.xyz), isnan(v.w)); }"].join("\n"),isinf:(f,a,g)=>g.webGlVersion>=2?{symbol:"isinf"}:["bool isinf( float val ) {\n\t\t\t\tconst float inf = 1.0/0.0;\n\t\t\t\treturn abs(val) == inf;\n\t\t\t}","bvec2 isinf(vec2 v) { return bvec2(isinf(v.x), isinf(v.y)); }","bvec3 isinf(vec3 v) { return bvec3(isinf(v.xy), isinf(v.z)); }","bvec4 isinf(vec4 v) { return bvec4(isinf(v.xyz), isinf(v.w)); }"].join("\n")};function Rc(f,a,g){if(!f.visible||!f.geometry.count||(f.updateWorldMatrix(),!f.renderable))return Yl.hidden;const{twoPass:u=!1,maxClipDistances:O=0}=g||{},{opacity:H}=f.material,{opaque:te,blend:Q,hidden:be}=Yl;let Me=Yl.opaque;const Ee=!u,Pe=Yl.test,rt=Ee?Q:Pe;f.updateWorldBounds();const{min:Dt,max:Ft}=f.worldBounds,Wt=Ce.get(),Ot=Ce.get();for(let vn=0,kn=f.clippable&&a?.length||0;vn<kn;vn++){const{plane:nr,fade:ur}=a[vn];if(Ot[0]=nr[0]>0?Ft[0]:Dt[0],Ot[1]=nr[1]>0?Ft[1]:Dt[1],Ot[2]=nr[2]>0?Ft[2]:Dt[2],ia(nr,Ot)<=0)return be;Me===te&&(ur>0||vn>=O)&&(Wt[0]=nr[0]<0?Ft[0]:Dt[0],Wt[1]=nr[1]<0?Ft[1]:Dt[1],Wt[2]=nr[2]<0?Ft[2]:Dt[2],ia(nr,Wt)<ur&&(Me=rt))}Ce.release(Wt),Ce.release(Ot);const{material:Jt}=f;let Fn=H,Tn=H;if(H<1&&Jt instanceof Mn&&f.geometry.attributes.normal){const{glassFactor:vn,murkiness:kn}=Jt,nr=vn*kn,ur=vn*(kn-1),Qn=Math.min(nr,ur),kr=Math.max(nr,ur);Fn=Math.max(Qn,Fn),Tn=Math.max(kr,Tn)}if(Me!==rt)if(Jt instanceof Mn){for(const vn of Jt.textures)if("alpha"===vn.applyTo||"transparency"===vn.applyTo){Me=rt,Fn=0,Tn=1;break}}else Jt.opacityMaps.length&&(Me=rt,Fn=0,Tn=1);if("transparencyFresnel"in Jt&&Jt.transparencyFresnel){const{transparencyFresnel:vn}=Jt;let kn=1-Tn,nr=1-Fn;const ur=Math.max(vn.center,vn.edge),Qn=Math.min(vn.center,vn.edge);if("add"===vn.blendMode?(nr+=ur,kn+=Qn):(nr*=ur,kn*=Qn),Tn=we(1-kn),Fn=we(1-nr),0===Tn)return be}if("alphaFresnel"in Jt&&Jt.alphaFresnel){const{alphaFresnel:vn}=Jt,kn=Math.max(vn.center,vn.edge),nr=Math.min(vn.center,vn.edge);if("add"===vn.blendMode?(Tn=we(Tn+kn),Fn=we(Fn+nr)):(Tn=we(Tn*kn),Fn=we(Fn*nr)),0===Tn)return be}if("opacityFresnel"in Jt&&Jt.opacityFresnel){const{opacityFresnel:vn}=Jt,kn=Math.max(vn.center,vn.edge),nr=Math.min(vn.center,vn.edge);if("add"===vn.blendMode?(Tn=we(Tn+kn),Fn=we(Fn+nr)):(Tn=we(Tn*kn),Fn=we(Fn*nr)),0===Tn)return be}const{geometry:An}=f;if(An.attributes?.color&&(Me=Q),f.modifiers.forEach(vn=>{if("opacity"===vn.applyTo){let kn=0,nr=1;if("range"in vn){let ur=vn.value,Qn=1,kr=vn.range.minRadius,$r=vn.range.maxRadius;const Vr=Ce.get();if(vn.parent){vn.parent.updateWorldMatrix();const Fr=Ce.get();(0,L.getScaling)(Fr,vn.parent.worldMatrix);const di=(Fr[0]+Fr[1]+Fr[2])/3;kr*=di,$r*=di,Ce.release(Fr),(0,m.transformMat4)(Vr,vn.range.center,vn.parent.worldMatrix)}else(0,m.copy)(Vr,vn.range.center);if(kr>$r&&(Qn=ur,ur=1,kr=$r,$r=vn.range.minRadius),Ka(f.worldBounds,Vr,1/0)>=$r)kn=Qn,nr=Qn;else{const Fr=kr*kr;(0,m.squaredDistance)(Vr,Dt)<=Fr&&(0,m.squaredDistance)(Vr,Ft)<=Fr?(kn=ur,nr=ur):(kn=Math.min(vn.value,1),nr=Math.max(vn.value,1))}Ce.release(Vr)}else"fresnel"in vn?(kn=Math.min(vn.fresnel.center,vn.fresnel.edge),nr=Math.max(vn.fresnel.center,vn.fresnel.edge)):(kn=vn.value,nr=vn.value);Tn*=nr,Fn*=kn}}),Tn<=0)return be;if(Fn<1){if(Ee||Tn<1)return Q;Me=Pe}return Me}const Id=(0,w(24434).objectSorter)({sort:{array:!1,typedArray:!1,map:!0,object:!0,set:!0}});function Qc(f){return Id(f)}function Eu(f){const a=Object.keys(f).sort();return function(g){const u=[];for(let O=0;O<a.length;O++){const H=a[O],te=g[H];void 0!==te&&u.push(H+":"+Qc(te))}return"{"+u.toString()+"}"}}const Xu={clips:0,maxClipDistances:0};function hs(f,a){return er(Math.min(a.clips,a.maxClipDistances),g=>`{\n\t\tvec4 plane = ${f("clippingPlane",g)}.plane;\n\t\t${f("gl_ClipDistance",g)} = dot(${f("worldPosition4")}, plane);\n\t}`).join("\n\t")}const Oc={ClippingPlane:"struct ClippingPlane {\n\t\tvec4 plane;\n\t\tfloat fade;\n\t};",worldPosition4:(f,a,g,u)=>({main:[`vec4 worldPosition4 = vec4(${u("worldPosition")}, 1.0);`]}),gl_ClipDistance:(f,a)=>({extensions:"#extension GL_ANGLE_clip_cull_distance : require",symbol:`gl_ClipDistance[${a}]`}),clippingPlane(f,a){const g=`clippingPlane${a}`;return{requires:["ClippingPlane"],declare:`uniform ClippingPlane ${g};`,symbol:g}},clippingPlaneAlpha:(f,a,g,u)=>({main:`float clippingPlaneAlpha = 1.0; {\n\t\t\tfloat distTransparency = 0.0;\n\t\t\t${er(g.clips,O=>`{\n\t\t\t\tvec4 plane = ${u("clippingPlane",O)}.plane;\n\t\t\t\tfloat fade = ${u("clippingPlane",O)}.fade;\n\t\t\t\tfloat planeDistance = dot(${u("worldPosition4")}, plane);\n\t\t\t\tfloat fadeAmount = fade == 0.0 ? -sign(planeDistance) : 1.0 - clamp(planeDistance / fade, 0.0, 1.0);\n\t\t\t\tdistTransparency = max(distTransparency, fadeAmount);\n\t\t\t}`).join("\n\t")}\n\t\t\tclippingPlaneAlpha = 1.0 - distTransparency;\n\t\t}`})},Pc={struct:-1,attribute:1,in:2,uniform:3,varying:4,out:5,const:6},Ea=/^\s*(struct|attribute|uniform|varying|in|out|const)\s+/,Yu=(f,a)=>{const[g,u]=f,[O,H]=a,te=g.startsWith("#define")?-1:1,Q=O.startsWith("#define")?-1:1;if(te!==Q)return te-Q;const be=Ea.exec(g),Me=be&&Pc[be[1]]||1/0,Ee=Ea.exec(O),Pe=Ee&&Pc[Ee[1]]||1/0;return Me!==Pe?Me-Pe:u-H},jl=f=>({extensions:a,declare:g,main:u})=>{const O=f?.webGlVersion>=2?"#version 300 es\n":"",H=f?.precision||"highp",te=g.map((Q,be)=>[Q,be]).sort(Yu).map(([Q])=>Q);return O+`${a.join("\n").trim()}\n\n\t${"highp"===H?"#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif":`precision ${H} float;`}\n\n\t${te.join("\n").trim()}\n\tvoid main() {\n\t${u.map(Q=>"\t"+Q).join("\n")}\n\t}`},yl={acesNarkowicz:"ACESNarkowicz",linear:"",granTurismo:"GranTurismoToneMap",pbrNeutral:"PBRNeutralToneMapping"},Xa={linearToGamma:"vec4 linearToGamma( in vec4 value, in float gammaFactor ) {\n\t\treturn vec4( pow( max(vec3(0.0), value.rgb), vec3( 1.0 / gammaFactor ) ), value.a );\n\t}",sRGBToLinear:"vec4 sRGBToLinear( in vec4 value ) {\n\t\treturn vec4(\n\t\t\tmix(\n\t\t\t\tpow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ),\n\t\t\t\tvalue.rgb * 0.0773993808,\n\t\t\t\tvec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) )\n\t\t\t),\n\t\t\tvalue.w\n\t\t);\n\t}",ACESNarkowicz:"vec3 ACESNarkowicz(vec3 color) {\n\t\tconst float A = 2.51;\n\t\tconst float B = 0.03;\n\t\tconst float C = 2.43;\n\t\tconst float D = 0.59;\n\t\tconst float E = 0.14;\n\t\treturn clamp((color * (A * color + B)) / (color * (C * color + D) + E), 0.0, 1.0);\n\t}",GranTurismoToneMap:"vec3 GranTurismoToneMap(vec3 color) {\n\t\tconst float P = 1.0;  \n\t\tconst float a = 1.0;  \n\t\tconst float m = 0.22; \n\t\tconst float l = 0.4;  \n\t\tconst float c = 1.33; \n\t\tconst float b = 0.0;  \n\t\tconst vec3 P3 = vec3(P);\n\t\tconst vec3 m3 = vec3(m);\n\t\tconst vec3 c3 = vec3(c);\n\t\tfloat l0 = ((P - m) * l) / a;\n\t\tfloat L0 = m - m / a;\n\t\tfloat L1 = m + (1.0 - m) / a;\n\t\tfloat S0 = m + l0;\n\t\tfloat S1 = m + a * l0;\n\t\tfloat C2 = (a * P) / (P - S1);\n\t\tfloat CP = -C2 / P;\n\t\tvec3 w0 = 1.0 - smoothstep(0.0, m, color);\n\t\tvec3 w2 = step(m + l0, color);\n\t\tvec3 w1 = 1.0 - w0 - w2;\n\t\tvec3 T = m3 * pow(color / m3, c3) + vec3(b);\n\t\tvec3 S = P3 - (P3 - vec3(S1)) * exp(vec3(CP) * (color - vec3(S0)));\n\t\tvec3 L = m3 + vec3(a) * (color - m3);\n\t\treturn T * w0 + L * w1 + S * w2;\n\t}",PBRNeutralToneMapping:"vec3 PBRNeutralToneMapping( vec3 color ) {\n\t\tconst float startCompression = 0.8 - 0.04;\n\t\tconst float desaturation = 0.15;\n\n\t\tfloat x = min(color.r, min(color.g, color.b));\n\t\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\t\tcolor -= offset;\n\n\t\tfloat peak = max(color.r, max(color.g, color.b));\n\t\tif (peak < startCompression) return color;\n\n\t\tconst float d = 1. - startCompression;\n\t\tfloat newPeak = 1. - d * d / (peak + d - startCompression);\n\t\tcolor *= newPeak / peak;\n\n\t\tfloat g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);\n\t\treturn mix(color, newPeak * vec3(1, 1, 1), g);\n\t}",toneMap(f,a,g,u){const O=yl[g?.toneMap];return`vec3 toneMap(vec3 color) {\n\t\t\t${O?`color = ${u(O)}(color);`:""}\n\t\t\treturn color;\n\t\t}`}};function Pa(f){return f.replace(/^(\w)/,a=>a.toUpperCase())}const kc={...Sc,uvScale:!1,uvRotate:!1,uvTranslate:!1};function Qu(f,a,g,u,O){const{blendMode:H}=u,te=`sample${Pa(f)}Texture`,Q=O(f+"TextureBlendFactor",g);return`{\n\t\tvec3 texSample = ${O("sRGBToLinear")}(${O(te,g)}).rgb;\n\t\t${"multiply"===H?`${a} *= 1.0 - ${Q} * (1.0 - texSample);`:"over"===H?`${a} = mix(${a}, texSample, ${Q});`:`${a} += ${Q} * texSample;`}\n\t}`}function fl(f,a,g,u,O){const{blendMode:H,channel:te,invert:Q}=u,be=`sample${Pa(f)}Texture`,Me=O(f+"TextureBlendFactor",g);return`{\n\t\tfloat texSample = (${O(be,g)}).${te};\n\t\t${Q?"texSample = 1.0 - texSample;":""}\n\t\t${"over"===H?`${a} = mix(${a}, texSample, ${Me});`:"multiply"===H?`${a} *= 1.0 - ${Me} * (1.0 - texSample);`:`${a} += ${Me} * texSample;`}\n\t}`}function i(f){const a=`${f}TextureLayers`,g=`${f}TextureBlendFactor`;return{[`sample${Pa(f)}Texture`]:(O,H,te,Q)=>({symbol:Q("textureSample",te[a][H].samplerIndex)}),[g](O,H){const te=g+H;return{declare:`uniform float ${te};`,symbol:te}}}}function p(f,a,g){return`{\n\t\t${g} *=  ${a("pointUVScale")};\n\t\t${f.uvTranslate?`${g} += ${a("uvTranslate")};`:""}\n\t\t${f.uvRotate?`\n\t\t\tvec2 centerCoord = ${f.uvTranslate?`${a("uvTranslate")} + ${a("pointUVScale")} * 0.5`:"vec2(0.5)"};\n\t\t\tvec2 pivot = ${g} - centerCoord;\n\t\t\tfloat c = ${a("cosPointRotation")};\n\t\t\tfloat s = ${a("sinPointRotation")};\n\t\t\t${g}.x = c * pivot.x + s * pivot.y + centerCoord.x;\n\t\t\t${g}.y = c * pivot.y - s * pivot.x + centerCoord.y;\n\t\t`:""}\n\t}`}const W={"attr:uvTranslate":_l("vec2","uvTranslate"),"attr:uvRotate":_l("float","uvRotate"),...Zo("vec2","pointUVScale"),vUvTranslate:ra("vec2","uvTranslate"),uvTranslate:(f,a,g,u)=>f===_s.frag?{symbol:u("vUvTranslate")}:{symbol:u("attr:uvTranslate")},texCoord:(f,a,g,u)=>f===_s.frag&&g.topology===it.points?{main:["vec2 pointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",p(g,u,"pointTexCoord")],symbol:"pointTexCoord"}:f===_s.frag?{symbol:u("vTexCoord")}:{main:[`vec2 texCoord = ${g?.quantizedUVs?`(${u("decodeUVs")} * vec3(${u("attr:texcoord")}, 1.0)).xy`:u("attr:texcoord")};`]},vFlippedTexCoord:ra("vec2","flippedTexCoord"),flippedTexCoord:(f,a,g,u)=>f===_s.frag?g.topology===it.points?{main:["vec2 flippedPointTexCoord = vec2(gl_PointCoord.x, gl_PointCoord.y);",p(g,u,"flippedPointTexCoord"),"flippedPointTexCoord.y = 1.0 - flippedPointTexCoord.y;"],symbol:"flippedPointTexCoord"}:{symbol:u("vFlippedTexCoord")}:{main:`vec2 flippedTexCoord = vec2(${u("texCoord")}.x, 1.0 - ${u("texCoord")}.y);`,symbol:"flippedTexCoord"},vCosPointRotation:ra("float","cosPointRotation"),cosPointRotation:(f,a,g,u)=>f===_s.frag?{symbol:u("vCosPointRotation")}:{main:[`float cosPointRotation = cos(${u("attr:uvRotate")});`]},vSinPointRotation:ra("float","sinPointRotation"),sinPointRotation:(f,a,g,u)=>f===_s.frag?{symbol:u("vSinPointRotation")}:{main:[`float sinPointRotation = sin(${u("attr:uvRotate")});`]}};function Re(f){return Math.floor(f)===f&&f!==1/0&&f!==-1/0?f+".0":String(f)}const lt={roundPoints:!1,maxPointSize:256,perspectivePoints:!1,scaleAttr:!1},Ht={"attr:scale":_l("float","scale"),...Zo("float","pointSize"),glPointSize(f,a,g,u){if(f!==_s.vert||g.topology!==it.points)return"0.0";const O=Re(Math.floor(g.maxPointSize)),H=Re(20*Nt),te=Re(Kt);return{main:`\n\t\t\t\t\tfloat glPointSize = ${g.perspectivePoints?`${u("pointSize")} * ${H} / length(${u("viewPosition")})`:u("pointSize")};\n\t\t\t\t\t${g.scaleAttr?`glPointSize *= ${u("attr:scale")};`:""}\n\t\t\t\t\tglPointSize *= ${te} * ${u("screenResolution")}.y;\n\t\t\t\t\tglPointSize = clamp(glPointSize, 0.0, ${O});\n\t\t\t\t`,symbol:"glPointSize"}}},hn={...dl,...kc,...Te,samplers:[],baseColorTextureLayers:[],opacityTextureLayers:[]},Dn={...ft,...Zo("vec3","baseColor"),...i("baseColor"),...i("opacity"),textureSample(f,a,g,u){const O="textureSample"+a,H="textureSampler"+a,te=u("bottom-up"===g.samplers[a].rowOrder?"flippedTexCoord":"texCoord");return{symbol:O,declare:`uniform sampler2D ${H};`,main:[`vec4 ${O} = ${u("texture2D")}(${H}, ${te});`]}},vViewNormal:ra("vec3","viewNormal"),viewNormal:(f,a,g,u)=>f===_s.frag?{main:[`vec3 viewNormal = normalize(${u("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${u("viewMatrix")} * vec4(${u("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},texturedViewNormal:(f,a,g,u)=>({symbol:u("viewNormal")}),color:(f,a,g,u)=>({main:`\n\t\t\t\tvec3 color = ${u("baseColor")}.rgb;\n\t\t\t\t${g.vertexColors?`color *= ${u("vertexColor")}.rgb;`:""}\n\t\t\t\t${g.baseColorTextureLayers.map((O,H)=>Qu("baseColor","color",H,O,u)).join("\n")}\n\t\t\t\t${g.baseColorFresnel?`color = ${u("baseColorFresnelColor")}(color, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t`}),alpha:(f,a,g,u)=>({main:`\n\t\t\tfloat alpha = ${u("opacity")};\n\t\t\t${g.vertexColors?`alpha *= ${u("vertexColor")}.a;`:""}\n\t\t\t${g.opacityTextureLayers.map((O,H)=>fl("opacity","alpha",H,O,u)).join("\n")}\n\t\t\t${g.opacityFresnel?`alpha = ${u("opacityFresnelValue")}(alpha, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t`})},Xn={...Sc,...hn,...kc,...mn,...lt,...Xu,baseColorTextureLayers:[],opacityTextureLayers:[]},Gn={...Na,...Dn,...Oc,...Nn,...Xa,...W,...Ht,Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};"},xr=["baseColorFresnel","opacityFresnel"],Jr=["baseColorMaps","opacityMaps"],Zr=["baseColorFresnel","opacityFresnel"],ii=new Map(["biasCenter","biasEdge","power","center","edge"].map(f=>[f,Pa(f)])),mi=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"]],Xi={Fog:"struct Fog {\n\t\tvec3 color;\n\t\tfloat density;\n\t\tfloat start;\n\t\tfloat end;\n\t\tfloat min;\n\t\tfloat max;\n\t};",fog:{requires:["Fog"],declare:["uniform Fog fog;"]},applyFog(f,a,g,u){const O=g.fog;return`vec3 applyFog(vec3 color) {\n\t\t\t${u("Fog")} f = ${u("fog")};\n\n\t\t\tfloat fogDistance = length(${u("viewPosition")}.xyz) - f.start;\n\n\t\t\t${"linear"===O?"\n\t\t\t\tfloat fogAmount = fogDistance / (f.end - f.start);":`\n\n\t\t\t\tfloat fogAttenuation = f.density * max(fogDistance, 0.0);\n\t\t\t\t${"exp2"===O?"fogAttenuation *= fogAttenuation;":""}\n\t\t\t\tfloat fogAmount = 1.0 - exp(-fogAttenuation);`}\n\n\t\t\tfogAmount = clamp(fogAmount, f.min, f.max);\n\t\t\treturn mix(color, f.color, fogAmount);\n\t\t}`}},ui={baseFresnel:!1,baseFresnelBlendMode:ce.multiply,alphaFresnel:!1,alphaFresnelBlendMode:ce.multiply,specularFresnel:!1,specularFresnelBlendMode:ce.multiply,emitFresnel:!1,emitFresnelBlendMode:ce.multiply,transparencyFresnel:!1,transparencyFresnelBlendMode:ce.multiply,reflectionFresnel:!1,reflectionFresnelBlendMode:ce.multiply},xo={...ft,...De("baseFresnel","vec3"),...De("alphaFresnel","float"),...De("specularFresnel","vec3"),...De("emitFresnel","vec3"),...De("transparencyFresnel","float"),...De("reflectionFresnel","float")};function Po(f,a,g,u,O,H){const te=g("textureBlendFactor",O),Q=g("bottom-up"===u.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\tvec4 texSample = ${g("texture2D")}(${g("textureSampler",O)}, ${Q});\n\t\t${H||"over"===u.blendMode?`${f} = mix(${f}, texSample.${a}, ${te});`:"multiply"===u.blendMode?`${f} *= 1.0 - ${te} * (1.0 - texSample.${a});`:`${f} += ${te} * texSample.${a};`}\n\t}`}const To={transparency:"alpha"},Mo={transparency:(f,a,g,u)=>Po("transparency","r",u,f,a,g),occlusion:(f,a,g,u)=>Po(u("occlusion"),"r",u,f,a,g),metallic:(f,a,g,u)=>Po(u("metallic"),"r",u,f,a,g),roughness:(f,a,g,u)=>Po(u("roughness"),"r",u,f,a,g),shine:(f,a,g,u)=>Po(u("shine"),"r",u,f,a,g),specular:(f,a,g,u)=>Po(u("specular"),"r",u,f,a,g),baseColor(f,a,g,u,O){if(O.metallicMaterial||O.gammaInputPhong){const H=u("textureBlendFactor",a),te=u("bottom-up"===f.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${u("sRGBToLinear")}(${u("texture2D")}(${u("textureSampler",a)}, ${te}));\n\t\t\t\t${g||"over"===f.blendMode?`color = mix(color, texSample.rgb, ${H});`:"multiply"===f.blendMode?`color *= 1.0 - ${H} * (1.0 - texSample.rgb);`:`color += ${H} * texSample.rgb;`}\n\t\t\t}`}return Po("color","rgb",u,f,a,g)},emit(f,a,g,u,O){if(O.metallicMaterial||O.gammaInputPhong){const H=u("textureBlendFactor",a),te=u("bottom-up"===f.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\t\tvec4 texSample = ${u("sRGBToLinear")}(${u("texture2D")}(${u("textureSampler",a)}, ${te}));\n\t\t\t\t${g||"over"===f.blendMode?`emitRGB = mix(emitRGB, texSample.rgb, ${H});`:"multiply"===f.blendMode?`emitRGB *= 1.0 - ${H} * (1.0 - texSample.rgb);`:`emitRGB += ${H} * texSample.rgb;`}\n\t\t\t}`}return Po("emitRGB","rgb",u,f,a,g)},alpha(f,a,g,u){const O=u("textureBlendFactor",a),H=u("bottom-up"===f.rowOrder?"flippedTexCoord":"texCoord"),te=`${u("texture2D")}(${u("textureSampler",a)}, ${H})`;return g?`transparency = mix(transparency, 1.0 - ${te}.r, ${O});`:`{\n\t\t\tvec4 texSample = ${te};\n\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t${"over"===f.blendMode?`alpha = mix(alpha, texSample.r, ${O});`:"multiply"===f.blendMode?`alpha *= 1.0 - ${O} * (1.0 - texSample.r);`:`alpha += ${O} * texSample.r;`}\n\t\t\ttransparency = 1.0 - alpha;\n\t\t}`},normals(f,a,g,u,O){const H=u("textureBlendFactor",a),te=g?"=":"+=",Q=u("bottom-up"===f.rowOrder?"flippedTexCoord":"texCoord");return`{\n\t\t\tvec4 texSample = ${u("texture2D")}(${u("textureSampler",a)}, ${Q});\n\t\t\tvec3 sampledValue = ${O.tangents?`${u("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);`:`${u("perturbNormal2Arb")}(texSample.xyz, ${u("viewPosition")}, ${u("viewNormal")}, ${Q});`}\n\t\t\t${"add"===f.blendMode?`${u("texturedViewNormal")} ${te} sampledValue * ${H};`:`${u("texturedViewNormal")} = mix(${u("texturedViewNormal")}, sampledValue, ${H});`}\n\t\t}`}},Bo={...xo,...Zo("vec3","modifierCenter",!1),...Zo("vec2","modifierRadius",!1),...Zo("vec3","modifierColorValue",!1),...Zo("float","modifierValue",!1),...Zo("vec3","modifierFresnelCenter",!1),...Zo("vec3","modifierFresnelEdge",!1),...Zo("float","modifierFresnelBiasCenter",!1),...Zo("float","modifierFresnelBiasEdge",!1),...Zo("float","modifierFresnelPower",!1),modifierFactor:(f,a,g,u)=>({symbol:`1.0 - clamp(\n\t\t\t(length(${u("worldPosition")} - ${u("modifierCenter",a)}) - ${u("modifierRadius",a)}.x) /\n\t\t\t\t${u("modifierRadius",a)}.y\n\t\t, 0.0, 1.0)`})},Sr={opacity:1,tintColor:2,saturation:3,brightness:4,contrast:5};function wo(f,a){const g=(f.priority||0)-(a.priority||0);if(g)return g;const u=(Sr[f.applyTo]||1/0)-(Sr[a.applyTo]||1/0);if(u)return u;const O="range"in f,H="range"in a;return O!==H?Number(O)-Number(H):+("fresnel"in f)-+("fresnel"in a)}const Bs=f=>(a,g,u)=>`{\n\t\t\t${a.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${u("fresnel")}(${u("surfaceToView")}, ${u("texturedViewNormal")}, ${u("modifierFresnelBiasEdge",g)}, ${u("modifierFresnelBiasCenter",g)}, ${u("modifierFresnelPower",g)});\n\t\t\t\tfloat value = mix(${u("modifierFresnelEdge",g)}.r, ${u("modifierFresnelCenter",g)}.r, fresnelAmount);\n\t\t\t`:`float value = ${u("modifierValue",g)};`}\n\t\t\t${a.range?`\n\t\t\t\tfloat modifierFactor = ${u("modifierFactor",g)};\n\t\t\t\tvalue = mix(1.0, value, modifierFactor);\n\t\t\t`:""}\n\t\t\t${f}\n\t\t}`,Xs={tintColor:(f,a,g)=>`{\n\t\t\t${f.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",a)}, ${g("modifierFresnelBiasCenter",a)}, ${g("modifierFresnelPower",a)});\n\t\t\t\tvec3 tintColor = mix(${g("modifierFresnelEdge",a)}.rgb, ${g("modifierFresnelCenter",a)}.rgb, fresnelAmount);\n\t\t\t`:`vec3 tintColor = ${g("modifierColorValue",a)};`}\n\t\t\t${f.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",a)};\n\t\t\t\ttintColor = mix(vec3(1.0), tintColor, modifierFactor);\n\t\t\t`:""}\n\t\t\tfragColor.rgb *= tintColor;\n\t\t}`,saturation:(f,a,g)=>`{\n\t\t\tfloat L = dot(vec3(0.299, 0.5870, 0.1140), fragColor.rgb);\n\t\t\t${f.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",a)}, ${g("modifierFresnelBiasCenter",a)}, ${g("modifierFresnelPower",a)});\n\t\t\t\tfloat saturation = mix(${g("modifierFresnelEdge",a)}.r, ${g("modifierFresnelCenter",a)}.r, fresnelAmount);\n\t\t\t`:`float saturation = ${g("modifierValue",a)};`}\n\t\t\t${f.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",a)};\n\t\t\t\tsaturation *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb - saturation * (L - fragColor.rgb));\n\t\t}`,opacity:Bs("fragColor.a *= value;"),contrast:Bs("fragColor.rgb = max(vec3(0.0), (fragColor.rgb - 0.5) * value + 0.5);"),brightness:(f,a,g)=>`{\n\t\t\t${f.fresnel?`\n\t\t\t\tfloat fresnelAmount = ${g("fresnel")}(${g("surfaceToView")}, ${g("texturedViewNormal")}, ${g("modifierFresnelBiasEdge",a)}, ${g("modifierFresnelBiasCenter",a)}, ${g("modifierFresnelPower",a)});\n\t\t\t\tfloat brightness = mix(${g("modifierFresnelEdge",a)}.r, ${g("modifierFresnelCenter",a)}.r, fresnelAmount);\n\t\t\t`:`float brightness = ${g("modifierValue",a)};`}\n\t\t\t${f.range?`\n\t\t\t\tfloat modifierFactor = ${g("modifierFactor",a)};\n\t\t\t\tbrightness *= modifierFactor;\n\t\t\t`:""}\n\t\t\tfragColor.rgb = max(vec3(0.0), fragColor.rgb + brightness);\n\t\t}`},uo={...Sc,...kc,...ui,...lt,modifiers:[],...Xu,metallicMaterial:!1,gammaInputPhong:!1,textureLayers:[],reflectionMap:!1,environmentReflectionMap:!1,lightMapSpace:"",lights:0,fog:""},ta={dir:0,point:1,spot:2},aa={...Na,...W,...Oc,...Xi,...xo,...Bo,...Xa,...Ht,Light:"struct Light {\n\t\tint type;\n\t\tvec3 direction;\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tvec3 attenuation;\n\t\tfloat innerCone;\n\t\tfloat outerCone;\n\n\t\t\n\t\tbool diffuse;\n\t\tbool specular;\n\n\t\t\n\t\tbool viewSpace;\n\t};",lightSource(f,a){const g=`legacyLightSource${a}`;return{requires:"Light",declare:`uniform Light ${g};`,symbol:g}},IncidentLight:"struct IncidentLight {\n\t\tvec3 color;\n\t\tvec3 direction;\n\t};",ReflectedLight:"struct ReflectedLight {\n\t\tvec3 diffuse;\n\t\tvec3 specular;\n\t};",Geometry:"struct Geometry {\n\t\tvec3 position;\n\t\tvec3 viewNormal;\n\t\tvec3 worldNormal;\n\t\tvec3 viewEyeDir;\n\t};",Material:"struct Material {\n\t\tvec3 diffuseColor;\n\t\tfloat specularRoughness;\n\t\tvec3 specularColor;\n\t\tfloat shine; \n\t};",...Zo("vec3","baseColor"),...Zo("vec4","emitColor"),...Zo("vec3","specularColor"),...Zo("vec3","metalRoughSpecularf0"),...Zo("float","phongShine"),...Zo("float","glassFactor"),...Zo("float","murkiness"),ambientLightColor:{declare:"uniform vec3 legacyAmbientLightColor;",symbol:"legacyAmbientLightColor"},reflectionMap:"uniform samplerCube reflectionMap;",...Zo("float","reflectionMapIntensity"),...Zo("float","reflectionMapMaxMipLevel"),lightMap:"uniform samplerCube lightMap;",...Zo("float","lightMapIntensity"),textureSampler(f,a){const g=`textureSampler${a}`;return{declare:`uniform sampler2D ${g};`,symbol:g}},textureBlendFactor(f,a){const g=`textureBlendFactor${a}`;return{declare:`uniform float ${g};`,symbol:g}},specularF0:(f,a,g,u)=>({symbol:`${u("metalRoughSpecularf0")}.b`}),metallic:(f,a,g,u)=>({main:[`float metallic = ${u("metalRoughSpecularf0")}.r;`]}),roughness:(f,a,g,u)=>({main:[`float roughness = ${u("metalRoughSpecularf0")}.g;`]}),specular:()=>({main:["float specular = 1.0;"]}),occlusion:()=>({main:["float occlusion = 1.0;"]}),shine:(f,a,g,u)=>({main:[`float shine = ${u("phongShine")};`]}),vViewNormal:ra("vec3","viewNormal"),viewNormal:(f,a,g,u)=>f===_s.frag?{main:[`vec3 viewNormal = normalize(${u("vViewNormal")});`]}:{main:[`vec3 viewNormal = (${u("viewMatrix")} * vec4(${u("normal")}, 0.0)).xyz;`,"viewNormal = normalize(viewNormal);"]},texturedViewNormal:(f,a,g,u)=>({main:[`vec3 texturedViewNormal = ${g.textureLayers?.some(H=>"normals"===H.applyTo)?"vec3(0.0)":u("viewNormal")};`]}),vTBN:ra("mat3","TBN"),TBN:(f,a,g,u)=>({main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tmat3 mat = mat3(${u("modelViewMatrix")});\n\t\t\t\t\tvec3 tangentW = normalize(vec3(mat * ${u("tangent")}));\n\t\t\t\t\tvec3 bitangentW = cross(${u("viewNormal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${u("viewNormal")});\n\t\t\t\t}\n\t\t\t`}),perturbNormal2Arb:{requires:["extStandardDerivatives"],declare:"vec3 perturbNormal2Arb( vec3 texSample, vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( uv.st );\n\t\t\tvec2 st1 = dFdy( uv.st );\n\t\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\t\t\n\t\t\tvec3 N = surf_norm;\n\t\t\tvec3 mapN = texSample * 2.0 - 1.0;\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}"},F_Schlick:"\n\t\tvec3 F_Schlick(const in vec3 specularColor, const in float dotLH) {\n\t\t\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\t\t\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\t\t}",G_GGX_SmithCorrelated:(f,a,g,u)=>`\n\t\tfloat G_GGX_SmithCorrelated(const in float alpha, const in float dotNL, const in float dotNV) {\n\t\t\tfloat a2 = ( alpha * alpha );\n\t\t\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * ( dotNV * dotNV ) );\n\t\t\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * ( dotNL * dotNL ) );\n\t\t\treturn 0.5 / max( gv + gl, ${u("EPSILON")} );\n\t\t}`,D_GGX:(f,a,g,u)=>`\n\t\tfloat D_GGX(const in float alpha, const in float dotNH) {\n\t\t\tfloat a2 = alpha * alpha;\n\t\t\tfloat denom = dotNH * dotNH * ( a2 - 1.0 ) + 1.0;\n\t\t\treturn ${u("RECIPROCAL_PI")} * a2 / ( denom * denom );\n\t\t}`,BRDF_Specular_GGX:(f,a,g,u)=>`\n\t\tvec3 BRDF_Specular_GGX(const in IncidentLight incidentLight, const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat alpha = roughness * roughness;\n\t\t\tvec3 halfDir = normalize(incidentLight.direction + geometry.viewEyeDir);\n\t\t\tfloat dotNL = ${u("saturate")}( dot( geometry.viewNormal, incidentLight.direction ) );\n\t\t\tfloat dotNV = ${u("saturate")}( dot( geometry.viewNormal, geometry.viewEyeDir ) );\n\t\t\tfloat dotNH = ${u("saturate")}( dot( geometry.viewNormal, halfDir ) );\n\t\t\tfloat dotLH = ${u("saturate")}( dot( incidentLight.direction, halfDir ) );\n\t\t\tvec3  F = ${u("F_Schlick")}( specularColor, dotLH );\n\t\t\tfloat G = ${u("G_GGX_SmithCorrelated")}( alpha, dotNL, dotNV );\n\t\t\tfloat D = ${u("D_GGX")}( alpha, dotNH );\n\t\t\treturn F * (G * D);\n\t\t}`,computePBRLighting:(f,a,g,u)=>`\n\t\tvoid computePBRLighting(const in IncidentLight incidentLight, const in Geometry geometry, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\tfloat dotNL = ${u("saturate")}(dot(geometry.viewNormal, incidentLight.direction));\n\t\t\tvec3 irradianceOverPi = dotNL * incidentLight.color;\n\t\t\treflectedLight.diffuse += irradianceOverPi * material.diffuseColor;\n\t\t\treflectedLight.specular += irradianceOverPi * ${u("PI")} * ${u("BRDF_Specular_GGX")}(incidentLight, geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular = max(reflectedLight.specular, 0.0);\n\t\t}`,inverseTransformDirection:"vec3 inverseTransformDirection(in vec3 dir, in mat4 matrix) {\n\t\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\t}",GGXRoughnessToBlinnExponent:"float GGXRoughnessToBlinnExponent(const in float ggxRoughness) {\n\t\tfloat r = ggxRoughness + 0.0001;\n\t\treturn (2.0 / (r * r) - 2.0);\n\t}",getSpecularMIPLevel:"float getSpecularMIPLevel(const in float blinnShininessExponent, float maxMipLevels) {\n\t\tfloat desiredMIPLevel = maxMipLevels - 0.79248 - 0.5 * log2(blinnShininessExponent * blinnShininessExponent + 1.0);\n\t\treturn clamp(desiredMIPLevel, 0.0, maxMipLevels);\n\t}",getLightProbeIndirectRadiance:(f,a,g,u)=>`vec3 getLightProbeIndirectRadiance(const in samplerCube reflectMap, const in vec3 reflectVec, const in float blinnShininessExponent, float maxMipLevels) {\n\t\t\tfloat mipLevel = ${u("getSpecularMIPLevel")}(blinnShininessExponent, maxMipLevels); \n\t\t\tvec3 envMapColor = ${u("sRGBToLinear")}(${u("textureCubeLod")}(reflectMap, reflectVec, mipLevel)).rgb;\n\t\t\treturn envMapColor;\n\t\t}`,BRDF_Specular_GGX_Environment:(f,a,g,u)=>`vec3 BRDF_Specular_GGX_Environment(const in Geometry geometry, const in vec3 specularColor, const in float roughness) {\n\t\t\tfloat dotNV = ${u("saturate")}(dot(geometry.viewNormal, geometry.viewEyeDir));\n\t\t\tconst vec4 c0 = vec4( -1, -0.0275, -0.572, 0.022);\n\t\t\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, -0.04);\n\t\t\tvec4 r = roughness * c0 + c1;\n\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * dotNV)) * r.x + r.y;\n\t\t\tvec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\treturn specularColor * AB.x + AB.y;\n\t\t}`,computePBRReflectionMapping:(f,a,g,u)=>`void computePBRReflectionMapping(\n\t\t\t\tconst in samplerCube reflectMap,\n\t\t\t\tconst in float intensity,\n\t\t\t\tconst in mat4 viewMatrix,\n\t\t\t\tconst in Geometry geometry,\n\t\t\t\tconst in Material material,\n\t\t\t\tinout ReflectedLight reflectedLight,\n\t\t\t\tfloat maxMipLevel\n\t\t) {\n\t\t\tvec3 reflectVec = reflect(-geometry.viewEyeDir, geometry.viewNormal);\n\t\t\treflectVec = ${u("inverseTransformDirection")}(reflectVec, viewMatrix);\n\t\t\tfloat blinnExpFromRoughness = ${u("GGXRoughnessToBlinnExponent")}(material.specularRoughness);\n\t\t\tvec3 radiance = ${u("getLightProbeIndirectRadiance")}(reflectMap, reflectVec, blinnExpFromRoughness, maxMipLevel);\n\t\t\tvec3 specularBRDFContrib = ${u("BRDF_Specular_GGX_Environment")}(geometry, material.specularColor, material.specularRoughness);\n\t\t\treflectedLight.specular += radiance * specularBRDFContrib * intensity;\n\t\t}`,computePBRLightMapping:(f,a,g,u)=>`void computePBRLightMapping(const in samplerCube lightMap, const in float intensity, const in vec3 normal, const in Material material, inout ReflectedLight reflectedLight) {\n\t\t\treflectedLight.diffuse += ${u("sRGBToLinear")}(${u("textureCube")}(lightMap, normal)).rgb * material.diffuseColor * intensity;\n\t\t}`},Us=["baseFresnel","emitFresnel","alphaFresnel","reflectionFresnel","specularFresnel","transparencyFresnel"],is=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","metallic","roughness"]),rl=new Set(["alpha","transparency","occlusion","normals","baseColor","emit","specular","shine"]),lu=["baseFresnel","emitFresnel","specularFresnel","transparencyFresnel","alphaFresnel","reflectionFresnel"],qc=new Map(["biasCenter","biasEdge","power","center","edge"].map(f=>[f,Pa(f)])),Ss={emissiveFresnel:!1,emissiveFresnelBlendMode:ce.multiply},Ya={...De("emissiveFresnel","vec3")},fc=Math.pow(2,-126),wu=Math.max(.045,Math.pow(fc,.25)),bl={directional:0,point:1,spot:2},Ql={...Sc,...hn,...Ss,...mn,...lt,...Xu,baseColorTextureLayers:[],opacityTextureLayers:[],metallicTextureLayers:[],occlusionTextureLayers:[],roughnessTextureLayers:[],emissiveTextureLayers:[],specularFactorTextureLayers:[],specularColorTextureLayers:[],normalTextureLayers:[],lights:0,imageLightSpecularTexture:!1,imageLightIrradianceMode:"",computeBRDF:!1,fog:"",toneMap:"linear"},Jp={...Na,...Dn,...Oc,...Ht,...Ya,...Nn,...Xi,...Xa,...W,LightSource:"struct LightSource {\n\t\tint type;\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat intensity;\n\t\tfloat innerConeCos;\n\t\tfloat outerConeCos;\n\t};",ComputedLight:"struct ComputedLight {\n\t\tvec3 intensity;\n\t\tfloat NdotL;\n\t\tfloat NdotH;\n\t\tfloat VdotH;\n\t};",NormalInfo:"struct NormalInfo {\n\t\tvec3 ng; \n\t\tvec3 t; \n\t\tvec3 b; \n\t\tvec3 n; \n\t};",lightSource(f,a){const g=`lightSource${a}`;return{requires:"LightSource",declare:`uniform LightSource ${g};`,symbol:g}},irradianceCoefficients:"uniform vec3 irradianceCoefficients[9];",imageLightLODScale:"uniform float imageLightLODScale;",imageLightSpecularTexture:"uniform samplerCube imageLightSpecularTexture;",imageLightIrradianceTexture:"uniform samplerCube imageLightIrradianceTexture;",imageLightIntensity:"uniform float imageLightIntensity;",imageLightRotation:"uniform mat3 imageLightRotation;",brdfLookUpTexture:"uniform sampler2D brdfLookUpTexture;",...Zo("float","metallic"),...Zo("float","roughness"),...Zo("vec3","emissive"),...Zo("float","ior"),...Zo("float","specularFactor"),...Zo("vec3","specularColor"),...i("metallic"),...i("roughness"),...i("occlusion"),...i("emissive"),...i("specularFactor"),...i("specularColor"),...i("normal"),EPSILON:`#define EPSILON ${Math.max(1e-6,fc)}`,f90:"const vec3 f90 = vec3(1.0);",clampedDot:"float clampedDot(vec3 x, vec3 y) {\n\t\treturn clamp(dot(x, y), 0.0, 1.0);\n\t}",getSpotAttenuation:"float getSpotAttenuation(vec3 pointToLightDirection, vec3 spotDirection, float outerConeCos, float innerConeCos) {\n\t\tfloat actualCos = dot(spotDirection, -pointToLightDirection);\n\t\tif (actualCos > outerConeCos) {\n\t\t\tif (actualCos < innerConeCos) {\n\t\t\t\treturn smoothstep(outerConeCos, innerConeCos, actualCos);\n\t\t\t}\n\t\t\treturn 1.0;\n\t\t}\n\t\treturn 0.0;\n\t}",getLightIntensity:(f,a,g,u)=>`vec3 getLightIntensity(LightSource light, vec3 pointToLight, vec3 pointToLightDirection) {\n\t\t\tfloat rangeAttenuation = 1.0;\n\t\t\tfloat spotAttenuation = 1.0;\n\t\t\tif (light.type != ${bl.directional}) {\n\t\t\t\t\n\t\t\t\tfloat lenSq = dot(pointToLight, pointToLight);\n\t\t\t\trangeAttenuation = 1.0 / max(lenSq, ${u("EPSILON")});\n\t\t\t}\n\t\t\tif (light.type == ${bl.spot}) {\n\t\t\t\tspotAttenuation = ${u("getSpotAttenuation")}(pointToLightDirection, light.direction, light.outerConeCos, light.innerConeCos);\n\t\t\t}\n\t\t\treturn rangeAttenuation * spotAttenuation * light.intensity * light.color;\n\t\t}`,fresnelSchlick:(f,a,g,u)=>`\n\t\tvec3 fresnelSchlick(vec3 f0, vec3 f90, float VdotH) {\n\t\t\tvec3 x = vec3(1.0) - VdotH;\n\t\t\treturn f0 + (f90 - f0) * ${u("pow5")}(x);\n\t\t}`,BRDF_Lambertian:(f,a,g,u)=>`\n\t\tvec3 BRDF_Lambertian(vec3 f0, vec3 f90, vec3 diffuseColor, float specularWeight, float VdotH) {\n\t\t\treturn (1.0 - specularWeight * ${u("fresnelSchlick")}(f0, f90, VdotH)) * (diffuseColor / ${u("PI")});\n\t\t}`,V_GGX:"\n\t\tfloat V_GGX(float NdotL, float NdotV, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat GGXV = NdotL * sqrt(NdotV * NdotV * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGXL = NdotV * sqrt(NdotL * NdotL * (1.0 - alphaRoughnessSq) + alphaRoughnessSq);\n\t\t\tfloat GGX = GGXV + GGXL;\n\t\t\tif (GGX > 0.0) {\n\t\t\t\treturn 0.5 / GGX;\n\t\t\t}\n\t\t\treturn 0.0;\n\t\t}",D_GGX:(f,a,g,u)=>`\n\t\tfloat D_GGX(float NdotH, float alphaRoughness) {\n\t\t\tfloat alphaRoughnessSq = alphaRoughness * alphaRoughness;\n\t\t\tfloat f = (NdotH * NdotH) * (alphaRoughnessSq - 1.0) + 1.0;\n\t\t\treturn alphaRoughnessSq / (${u("PI")} * f * f);\n\t\t}`,BRDF_specularGGX:(f,a,g,u)=>`\n\t\tvec3 BRDF_specularGGX(vec3 f0, vec3 f90, float alphaRoughness, float specularWeight, float NdotV, ${u("ComputedLight")} light) {\n\t\t\tvec3 F = ${u("fresnelSchlick")}(f0, f90, light.VdotH);\n\t\t\tfloat Vis = ${u("V_GGX")}(light.NdotL, NdotV, alphaRoughness);\n\t\t\tfloat D = ${u("D_GGX")}(light.NdotH, alphaRoughness);\n\t\t\treturn specularWeight * F * Vis * D;\n\t\t}`,sampleSphericalHarmonic:"vec3 sampleSphericalHarmonic(in vec3 normal, in vec3 shCoefficients[9]) {\n\t\tfloat x = normal.x, y = normal.y, z = normal.z;\n\t\t// return shCoefficients[ 0 ] +\n\t\t// \t+ shCoefficients[ 1 ] * y;\n\t\t// \t+ shCoefficients[ 2 ] * z;\n\t\t// \t+ shCoefficients[ 3 ] * x;\n\t\t// \t+ shCoefficients[ 4 ] * x * y;\n\t\t// \t+ shCoefficients[ 5 ] * y * z;\n\t\t// \t+ shCoefficients[ 6 ] * (3.0 * z * z - 1.0);\n\t\t// \t+ shCoefficients[ 7 ] * x * z;\n\t\t// \t+ shCoefficients[ 8 ] * (x * x - y * y);\n\t\treturn shCoefficients[ 0 ] * 0.886227 +\n\t\t\t+ shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\t\t\t+ shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\t\t\t+ shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\t\t\t+ shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\t\t\t+ shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\t\t\t+ shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\t\t\t+ shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\t\t\t+ shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\t}",getSpecularSample:(f,a,g,u)=>`\n\tvec4 getSpecularSample(vec3 reflection, float roughness) {\n\t\tfloat lod = roughness * (2.0 - roughness) * ${u("imageLightLODScale")};\n\t\treturn ${u("textureCubeLod")}(${u("imageLightSpecularTexture")}, ${u("imageLightRotation")} * reflection, lod) * ${u("imageLightIntensity")};\n\t}`,vSurfaceToCamera:ra("vec3","surfaceToCamera"),surfaceToCamera:(f,a,g,u)=>f===_s.frag?{main:[`vec3 surfaceToCamera = normalize(${u("vSurfaceToCamera")});`]}:{main:[`vec3 surfaceToCamera = normalize(${u("cameraPosition")} - ${u("worldPosition")});`]},vCosPointNegRotation:ra("float","cosPointNegRotation"),cosPointNegRotation:(f,a,g,u)=>f===_s.frag?{symbol:u("vCosPointNegRotation")}:{main:[`float cosPointNegRotation = cos(-${u("attr:uvRotate")});`]},vSinPointNegRotation:ra("float","sinPointNegRotation"),sinPointNegRotation:(f,a,g,u)=>f===_s.frag?{symbol:u("vSinPointNegRotation")}:{main:[`float sinPointNegRotation = sin(-${u("attr:uvRotate")});`]},vTBN:ra("mat3","TBN"),TBN(f,a,g,u){if(f===_s.frag)return g.topology===it.points?{main:`\n\t\t\t\t\t\tmat3 TBN; {\n\t\t\t\t\t\t\tfloat c = ${u("cosPointNegRotation")};\n\t\t\t\t\t\t\tfloat s = ${u("sinPointNegRotation")};\n\t\t\t\t\t\t\tmat3 tmpRotation = mat3(\n\t\t\t\t\t\t\t\tc, s, 0,\n\t\t\t\t\t\t\t\t-s, c, 0,\n\t\t\t\t\t\t\t\t0, 0, 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tTBN = tmpRotation * mat3(${u("viewMatrixInverse")}) * mat3(\n\t\t\t\t\t\t\t\t1.0 , 0.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, -1.0, 0.0,\n\t\t\t\t\t\t\t\t0.0, 0.0, 1.0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t`}:g.tangents&&g.normals?{main:[`mat3 TBN = mat3(\n\t\t\t\t\t\t\tnormalize(${u("vTBN")}[0]),\n\t\t\t\t\t\t\tnormalize(${u("vTBN")}[1]),\n\t\t\t\t\t\t\tnormalize(${u("vTBN")}[2])\n\t\t\t\t\t\t);`]}:{requires:["extStandardDerivatives"],main:[`mat3 TBN;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 UV = ${u("texCoord")};\n\t\t\t\t\t\tvec2 uv_dx = dFdx(UV);\n\t\t\t\t\t\tvec2 uv_dy = dFdy(UV);\n\t\t\t\t\t\tif (length(uv_dx) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dx = vec2(1.0, 0.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (length(uv_dy) <= 1e-2) {\n\t\t\t\t\t\t\tuv_dy = vec2(0.0, 1.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvec3 t_ = (uv_dy.t * dFdx(${u("worldPosition")}) - uv_dx.t * dFdy(${u("worldPosition")})) /\n\t\t\t\t\t\t(uv_dx.s * uv_dy.t - uv_dy.s * uv_dx.t);`,g.normals?`vec3 ng = ${u("normal")};`:`vec3 ng = normalize(cross(dFdx(${u("worldPosition")}), dFdy(${u("worldPosition")})));`,"\n\t\t\t\t\t\tTBN[0] = normalize(t_ - ng * dot(ng, t_));\n\t\t\t\t\t\tTBN[1] = cross(ng, TBN[0]);\n\t\t\t\t\t\tTBN[2] = ng;\n\t\t\t\t\t}"]};if(!g.tangents)throw new Error("Unable to compute TBN matrix in vertex shader without geometry tangents.");return{main:`\n\t\t\t\tmat3 TBN;\n\t\t\t\t{\n\t\t\t\t\tvec3 tangentW = normalize(vec3(${u("modelMatrix")} * vec4(${u("tangent")}, 0.0)));\n\t\t\t\t\tvec3 bitangentW = cross(${u("normal")}, tangentW);\n\t\t\t\t\tTBN = mat3(tangentW, bitangentW, ${u("normal")});\n\t\t\t\t}\n\t\t\t`}},iorOutside:{symbol:"1.0"},f0:(f,a,g,u)=>({main:`\n\t\t\tvec3 f0 = vec3(\n\t\t\t\t${u("saturate")}(\n\t\t\t\t\t${u("pow2")}(\n\t\t\t\t\t\t(${u("ior")} - ${u("iorOutside")}) /\n\t\t\t\t\t\t(${u("ior")} + ${u("iorOutside")})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) * ${u("specularColor")};\n\t\t\t${g.specularColorTextureLayers.map((O,H)=>Qu("specularColor","f0",H,O,u)).join("\n")}\n\n\t\t\t\n\t\t\tf0 = mix(f0, ${u("color")}, ${u("metalness")});\n\n\t\t\t\n\t\t`}),diffuseColor:(f,a,g,u)=>({main:`vec3 diffuseColor = mix(${u("color")}, vec3(0.0), ${u("metalness")});`}),specularWeight:(f,a,g,u)=>({main:`\n\t\t\tfloat specularWeight = ${u("specularFactor")};\n\t\t\t${g.specularFactorTextureLayers.map((O,H)=>fl("specularFactor","specularWeight",H,O,u)).join("\n")}\n\n\t\t\t\n\t\t\tspecularWeight = mix(specularWeight, 1.0, ${u("metalness")});\n\t\t\t`}),metalness:(f,a,g,u)=>({main:`\n\t\t\tfloat metalness = ${u("metallic")};\n\t\t\t${g.metallicTextureLayers.map((O,H)=>fl("metallic","metalness",H,O,u)).join("\n")}\n\t\t\t`}),perceptualRoughness:(f,a,g,u)=>({main:`float perceptualRoughness = ${u("roughness")}; {\n\t\t\t\t${g.roughnessTextureLayers.map((O,H)=>fl("roughness","perceptualRoughness",H,O,u)).join("\n")}\n\t\t\t\tperceptualRoughness = clamp(perceptualRoughness, ${wu}, 1.0);\n\t\t\t}`}),alphaRoughness:(f,a,g,u)=>({main:`\n\t\t\t\tfloat alphaRoughness = ${u("perceptualRoughness")} * ${u("perceptualRoughness")};\n\t\t\t`}),ambientOcclusion:(f,a,g,u)=>({main:`\n\t\t\t\tfloat ambientOcclusion = 1.0;\n\t\t\t\t${g.occlusionTextureLayers.map((O,H)=>fl("occlusion","ambientOcclusion",H,O,u)).join("\n")}\n\t\t\t`}),emissiveOutput:(f,a,g,u)=>({main:`\n\t\t\t\tvec3 emissiveOutput = ${u("emissive")};\n\t\t\t\t${g.emissiveTextureLayers.map((O,H)=>Qu("emissive","emissiveOutput",H,O,u)).join("\n")}\n\t\t\t\t${g.emissiveFresnel?`emissiveOutput = ${u("emissiveFresnelColor")}(emissiveOutput, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t`}),sphericalHarmonicAmbient:(f,a,g,u)=>({main:`\n\t\t\t\tvec3 sphericalHarmonicAmbient = ${u("sampleSphericalHarmonic")}(${u("N")}, ${u("irradianceCoefficients")}) / ${u("PI")} * ${u("imageLightIntensity")};\n\t\t\t`}),irradianceSample:(f,a,g,u)=>({main:`\n\t\t\t\tvec3 irradianceSample = ${u("textureCube")}(${u("imageLightIrradianceTexture")}, ${u("imageLightRotation")} * ${u("N")}).rgb * ${u("imageLightIntensity")};\n\t\t\t`}),environmentBRDF:(f,a,g,u)=>({main:g.computeBRDF?`vec2 environmentBRDF; {\n\t\t\t\tconst vec4 c0 = vec4(-1, -0.0275, -0.572, 0.022);\n\t\t\t\tconst vec4 c1 = vec4(1, 0.0425, 1.04, -0.04);\n\t\t\t\tvec4 r = ${u("perceptualRoughness")} * c0 + c1;\n\t\t\t\tfloat a004 = min(r.x * r.x, exp2(-9.28 * ${u("NdotV")})) * r.x + r.y;\n\t\t\t\tenvironmentBRDF = vec2(-1.04, 1.04) * a004 + r.zw;\n\t\t\t}`:`vec2 environmentBRDF; {\n\t\t\t\tvec2 brdfSamplePoint = clamp(vec2(${u("NdotV")}, ${u("perceptualRoughness")}), vec2(0.0, 0.0), vec2(1.0, 1.0));\n\t\t\t\tenvironmentBRDF = ${u("texture2D")}(${u("brdfLookUpTexture")}, brdfSamplePoint).rg;\n\t\t\t}`}),FssEss:(f,a,g,u)=>({main:`vec3 FssEss; {\n\t\t\tvec3 Fr = max(vec3(1.0 - ${u("perceptualRoughness")}), ${u("f0")}) - ${u("f0")};\n\t\t\tvec3 k_S = ${u("f0")} + Fr * ${u("pow5")}(1.0 - ${u("NdotV")});\n\t\t\tFssEss = k_S * ${u("environmentBRDF")}.x + ${u("environmentBRDF")}.y;\n\t\t}`}),iblRadianceLambertian:(f,a,g,u)=>({main:`\n\t\t\tvec3 iblRadianceLambertian;\n\t\t\t{\n\t\t\t\tvec3 irradiance = ${u("ambientLightColor")};\n\t\t\t\t${g.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t\t${u("parametric"===g.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t\t`:""}\n\n\t\t\t\t\n\n\t\t\t\t\n\t\t\t\tvec3 weightedFssEss = ${u("specularWeight")} * ${u("FssEss")};\n\n\t\t\t\t\n\t\t\t\tfloat Ems = (1.0 - (${u("environmentBRDF")}.x + ${u("environmentBRDF")}.y));\n\t\t\t\tvec3 F_avg = ${u("specularWeight")} * (${u("f0")} + (1.0 - ${u("f0")}) / 21.0);\n\t\t\t\tvec3 FmsEms = Ems * weightedFssEss * F_avg / (1.0 - F_avg * Ems);\n\t\t\t\tvec3 k_D = ${u("diffuseColor")} * (1.0 - weightedFssEss + FmsEms); \n\n\t\t\t\tiblRadianceLambertian = (FmsEms + k_D) * irradiance;\n\t\t\t}`}),iblDiffuse:(f,a,g,u)=>({main:`vec3 iblDiffuse; {\n\t\t\tvec3 irradiance = ${u("ambientLightColor")};\n\t\t\t${g.imageLightIrradianceMode?`irradiance +=\n\t\t\t\t${u("parametric"===g.imageLightIrradianceMode?"sphericalHarmonicAmbient":"irradianceSample")};\n\t\t\t`:""}\n\t\t\tiblDiffuse = irradiance * ${u("diffuseColor")};\n\t\t}`}),iblRadianceGGX:(f,a,g,u)=>({main:`vec3 iblRadianceGGX; {\n\t\t\tvec3 reflection = reflect(-${u("surfaceToCamera")}, ${u("N")});\n\t\t\tvec4 specularSample = ${u("getSpecularSample")}(reflection, ${u("perceptualRoughness")});\n\t\t\tvec3 specularLight = specularSample.rgb;\n\n\t\t\t\n\n\t\t\tiblRadianceGGX = ${u("specularWeight")} * specularLight * ${u("FssEss")};\n\t\t}`}),diffuseAmbient:(f,a,g,u)=>({main:`\n\t\t\t\tvec3 diffuseAmbient; {\n\t\t\t\t\tdiffuseAmbient = ${u("iblDiffuse")};\n\t\t\t\t\tdiffuseAmbient *= ${u("ambientOcclusion")};\n\t\t\t\t}\n\t\t\t`}),normalInfo:(f,a,g,u)=>({symbol:"normalInfo",main:[`${u("NormalInfo")} normalInfo; {\n\t\t\t\t\tnormalInfo.t = ${u("TBN")}[0];\n\t\t\t\t\tnormalInfo.b = ${u("TBN")}[1];\n\t\t\t\t\tvec3 ng = ${u("TBN")}[2];\n\t\t\t\t\tnormalInfo.ng = ng;\n\t\t\t\t\tnormalInfo.n = ng;\n\t\t\t\t`,...g.normalTextureLayers.length?[...g.normalTextureLayers.map((O,H)=>function(te,Q,be){const{blendMode:Me}=te,Ee=be("normalTextureBlendFactor",Q);return`{\n\t\tvec4 texSample = ${be("sampleNormalTexture",Q)};\n\t\tvec3 sampledNormal = ${be("TBN")} * normalize(texSample.xyz * 2.0 - 1.0);\n\t\t${"over"===Me?`normalInfo.n = mix(normalInfo.n, sampledNormal, ${Ee});`:`normalInfo.n += ${Ee} * sampledNormal;`}\n\t}`}(O,H,u)),"normalInfo.n = normalize(normalInfo.n);"]:[],"}"]}),N:(f,a,g,u)=>({symbol:`${u("normalInfo")}.n`}),texturedViewNormal:(f,a,g,u)=>({main:`vec3 texturedViewNormal = (${u("viewMatrix")} * vec4(${u("N")}, 0.0)).xyz;`}),NdotV:(f,a,g,u)=>({main:`float NdotV = ${u("clampedDot")}(${u("N")}, ${u("surfaceToCamera")});`}),punctualLight(f,a,g,u){const O=`punctualLight${a}`;return{symbol:O,main:`\n\t\t\t\t${u("ComputedLight")} ${O};\n\t\t\t\t{\n\t\t\t\t\t${u("ComputedLight")} light;\n\t\t\t\t\t${u("LightSource")} lightSource = ${u("lightSource",a)};\n\t\t\t\t\tvec3 pointToLight = lightSource.type == ${bl.directional} ?\n\t\t\t\t\t\t-lightSource.direction :\n\t\t\t\t\t\tlightSource.position - ${u("worldPosition")} ;\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 L = normalize(pointToLight);\n\n\t\t\t\t\t\n\n\t\t\t\t\tvec3 H = normalize(L + ${u("surfaceToCamera")});\n\n\t\t\t\t\tvec3 n = ${u("normalInfo")}.n;\n\n\t\t\t\t\tlight.intensity = ${u("getLightIntensity")}(lightSource, pointToLight, L);\n\t\t\t\t\tlight.NdotL = ${u("clampedDot")}(${u("N")}, L);\n\t\t\t\t\tlight.NdotH = ${u("clampedDot")}(${u("N")}, H);\n\t\t\t\t\tlight.VdotH = ${u("clampedDot")}(${u("surfaceToCamera")}, H);\n\t\t\t\t\t${O} = light;\n\t\t\t\t}\n\t\t\t`}},diffuse:(f,a,g,u)=>({main:[`vec3 diffuse = ${u("diffuseAmbient")};`,...er(g.lights,O=>`{\n\t\t\t\t\tdiffuse += ${u("punctualLight",O)}.intensity * ${u("punctualLight",O)}.NdotL * ${u("BRDF_Lambertian")}(${u("f0")}, ${u("f90")}, ${u("diffuseColor")}, ${u("specularWeight")}, ${u("punctualLight",O)}.VdotH);\n\t\t\t\t}`)]}),specular:(f,a,g,u)=>({main:["vec3 specular = vec3(0.0);",g.imageLightSpecularTexture?`specular += ${u("iblRadianceGGX")} * ${u("ambientOcclusion")};`:"",...er(g.lights,O=>`{\n\t\t\t\t\tspecular += ${u("punctualLight",O)}.intensity * ${u("punctualLight",O)}.NdotL * ${u("BRDF_specularGGX")}(${u("f0")}, ${u("f90")}, ${u("alphaRoughness")}, ${u("specularWeight")}, ${u("NdotV")}, ${u("punctualLight",O)});\n\t\t\t\t}`)]})},Bl=["baseColorFresnel","opacityFresnel","emissiveFresnel"],Zp=["baseColorMaps","opacityMaps","metallicMaps","roughnessMaps","occlusionMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"],Rd=["baseColorFresnel","emissiveFresnel","opacityFresnel"],qu=new Map(["biasCenter","biasEdge","power","center","edge"].map(f=>[f,Pa(f)])),Od=[["baseColorMaps","baseColorTexture"],["opacityMaps","opacityTexture"],["metallicMaps","metallicTexture"],["roughnessMaps","roughnessTexture"],["occlusionMaps","occlusionTexture"],["emissiveMaps","emissiveTexture"],["specularFactorMaps","specularFactorTexture"],["specularColorMaps","specularColorTexture"],["normalMaps","normalTexture"]],cu=new Map;cu.set(yo,{options:function(f){const{material:a}=f;if(!a||!f.geometry)return null;const{attributes:g,morphKeys:u,topology:O}=f.geometry,H=u.length>1&&f.morphKeyIndex>=0,te=Object.assign({},Ql,{normals:!!g.normal,vertexColors:!!g.color,tangents:!(!g.tangent||H&&u.length&&!u[0].attributes.tangent),uvRotate:!!g.uvRotate,scaleAttr:!!g.scale,uvTranslate:!!g.uvTranslate,topology:O,roundPoints:f instanceof sn&&f.roundPoints,perspectivePoints:f instanceof sn&&f.perspectivePoints,modifiers:f.modifiers?Array.from(f.modifiers.values()).sort($i).map(Q=>({applyTo:Q.applyTo,range:"range"in Q,fresnel:"fresnel"in Q})):[],octNormals:2===g.normal?.numComponents,quantizedPositions:!!g.position?.decodeMat,quantizedUVs:!!g.texcoord?.decodeMat,morphTarget:H});if(g.texcoord||O===it.points){const Q=new Map;te.samplers=[];const be=Me=>{const{texture:Ee,...Pe}=Me;return{...Pe,samplerIndex:Q.get(Ee)}};Zp.forEach(Me=>{a[Me].filter(({texture:Ee})=>!!Ee).forEach(Ee=>{Q.has(Ee.texture)||(Q.set(Ee.texture,Q.size),te.samplers.push({rowOrder:Ee.texture.rowOrder}))})}),Object.assign(te,{baseColorTextureLayers:a.baseColorMaps.map(be),opacityTextureLayers:a.opacityMaps.map(be),metallicTextureLayers:a.metallicMaps.map(be),roughnessTextureLayers:a.roughnessMaps.map(be),occlusionTextureLayers:a.occlusionMaps.map(be),emissiveTextureLayers:a.emissiveMaps.map(be),specularFactorTextureLayers:a.specularFactorMaps.map(be),specularColorTextureLayers:a.specularColorMaps.map(be),normalTextureLayers:a.normalMaps.map(be)})}return Bl.forEach(Q=>{const be=a[Q];be&&(te[Q]=!0,te[Q+"BlendMode"]=be.blendMode||"multiply")}),te},key:Eu(Ql),shader:function(f){const a=Object.assign({},Ql,f),g={vert:u=>`\n\t\t\t${"points"===a.topology?`gl_PointSize = ${u("glPointSize")};`:""}\n\t\t\tgl_Position = ${u("screenPosition")};\n\t\t\t${hs(u,a)}\n\t\t`,frag:u=>`\n\t\t\t\n\t\t\t${a.roundPoints&&"points"===a.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t${a.clips>a.maxClipDistances&&"opaque"!==a.alphaMode?`\n\t\t\t\tif (${u("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\t\t\tfragColor.rgb = ${u("emissiveOutput")} + ${u("diffuse")} + ${u("specular")};\n\n\t\t\tfragColor.a = ${u("alpha")};\n\n\t\t\t\n\t\t\t${xs(u,a)}\n\n\t\t\t${a.clips>0&&"opaque"!==a.alphaMode?`fragColor.a *= ${u("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Ic(u,a,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${Ws(u,a)}\n\n\t\t\t${a.fog?`fragColor.rgb = ${u("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${function(O,H,te){const Q=yl[H.toneMap];return Q?`${te} = ${O(Q)}(${te});`:""}(u,a,"fragColor.rgb")}\n\t\t\tfragColor = ${u("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${u("gl_FragColor")} = fragColor;\n\t\t`};return nl(Jp,(u,O)=>g[u](O),{joinShader:jl(a),...a})},setMaterialUniforms:function(f,a,g){f.baseColor=a.baseColor,f.opacity=a.opacity,f.metallic=a.metallic,f.roughness=a.roughness,f.emissive=a.emissive,f.ior=a.ior,f.specularFactor=a.specularFactor,f.specularColor=a.specularColor;const u=new Set;Od.forEach(([O,H])=>{a[O].forEach(({texture:te,blendFactor:Q},be)=>{if(f[H+"BlendFactor"+be]=Q,!u.has(te)){const Me=u.size;u.add(te);const Ee=g?.get(te);Ee?(Ee.update(),f["textureSampler"+Me]=Ee.webglTexture):delete f[H+"Sampler"+be]}})}),Rd.forEach(O=>{const H=a[O];H&&qu.forEach((te,Q)=>{f[O+te]=H[Q]})})},textureKeys:["baseColorMaps","opacityMaps","metallicMaps","occlusionMaps","roughnessMaps","emissiveMaps","specularFactorMaps","specularColorMaps","normalMaps"]}),cu.set(So,{options:function(f){const{material:a}=f;if(!a||!f.geometry)return null;const{attributes:g,morphKeys:u,topology:O}=f.geometry,H=u.length>1&&f.morphKeyIndex>=0,te=Object.assign({},Xn,{vertexColors:!!g.color,uvRotate:!!g.uvRotate,scaleAttr:!!g.scale,uvTranslate:!!g.uvTranslate,topology:O,roundPoints:f instanceof sn&&f.roundPoints,perspectivePoints:f instanceof sn&&f.perspectivePoints,modifiers:f.modifiers?Array.from(f.modifiers.values()).sort($i).map(Q=>({applyTo:Q.applyTo,range:"range"in Q,fresnel:"fresnel"in Q})):[],octNormals:2===g.normal?.numComponents,quantizedPositions:!!g.position?.decodeMat,quantizedUVs:!!g.texcoord?.decodeMat,morphTarget:H});if(g.texcoord||O===it.points){const Q=new Map;te.samplers=[];const be=Me=>{const{texture:Ee,...Pe}=Me;return{...Pe,samplerIndex:Q.get(Ee)}};Jr.forEach(Me=>{a[Me].filter(({texture:Ee})=>!!Ee).forEach(Ee=>{Q.has(Ee.texture)||(Q.set(Ee.texture,Q.size),te.samplers.push({rowOrder:Ee.texture.rowOrder}))})}),Object.assign(te,{baseColorTextureLayers:a.baseColorMaps.map(be),opacityTextureLayers:a.opacityMaps.map(be)})}return xr.forEach(Q=>{const be=a[Q];be&&(te[Q]=!0,te[Q+"BlendMode"]=be.blendMode||"multiply")}),te},key:Eu(Xn),shader:function(f){const a=Object.assign({},Xn,f),g={vert:u=>`\n\t\t${"points"===a.topology?`gl_PointSize = ${u("glPointSize")};`:""}\n\t\tgl_Position = ${u("screenPosition")};\n\t\t`,frag:u=>`\n\t\t\t\n\t\t\t${a.roundPoints&&"points"===a.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\n\t\t\t\n\t\t\t${a.clips>a.maxClipDistances&&"opaque"!==a.alphaMode?`\n\t\t\t\tif (${u("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tvec4 fragColor;\n\n\t\t\tfragColor = vec4(\n\t\t\t\t${u("color")},\n\t\t\t\t${u("alpha")}\n\t\t\t);\n\n\t\t\t\n\t\t\t${xs(u,a)}\n\n\t\t\t${a.clips>0&&"opaque"!==a.alphaMode?`fragColor.a *= ${u("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Ic(u,a,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${Ws(u,a)}\n\n\t\t\tfragColor = ${u("linearToGamma")}(fragColor, 2.2);\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${u("gl_FragColor")} = fragColor;\n\t\t`};return nl(Gn,(u,O)=>g[u](O),{joinShader:jl(a),...a})},setMaterialUniforms:function(f,a,g){f.opacity=a.opacity,f.baseColor=a.baseColor;const u=new Set;mi.forEach(([O,H])=>{a[O].forEach(({texture:te,blendFactor:Q},be)=>{if(f[H+"BlendFactor"+be]=Q,!u.has(te)){const Me=u.size;u.add(te);const Ee=g?.get(te);Ee?(Ee.update(),f["textureSampler"+Me]=Ee.webglTexture):delete f[H+"Sampler"+be]}})}),Zr.forEach(O=>{const H=a[O];H&&ii.forEach((te,Q)=>{f[O+te]=H[Q]})})},textureKeys:["baseColorMaps","opacityMaps"]}),cu.set(Mn,{options:function(f){const{material:a}=f;if(!a||!f.geometry)return null;const{attributes:g,morphKeys:u,topology:O}=f.geometry,H="metallic"===a.type,te=H?is:rl,Q=(g.texcoord||O===it.points)&&a.textures?.filter(Ee=>te.has(Ee.applyTo)).map(Ee=>({applyTo:Ee.applyTo,blendMode:Ee.blendMode,rowOrder:Ee.texture?.rowOrder||"top-down"}))||[],be=u.length>1&&f.morphKeyIndex>=0,Me=Object.assign({},uo,{metallicMaterial:H,normals:!!g.normal,vertexColors:!!g.color,tangents:!(!g.tangent||be&&u.length&&!u[0].attributes.tangent),uvRotate:!!g.uvRotate,scaleAttr:!!g.scale,uvTranslate:!!g.uvTranslate,topology:O,textureLayers:Q,modifiers:f.modifiers?Array.from(f.modifiers.values()).sort(wo).map(Ee=>({applyTo:Ee.applyTo,range:"range"in Ee,fresnel:"fresnel"in Ee})):[],octNormals:2===g.normal?.numComponents,quantizedPositions:!!g.position?.decodeMat,quantizedUVs:!!g.texcoord?.decodeMat,roundPoints:f instanceof sn&&f.roundPoints,perspectivePoints:f instanceof sn&&f.perspectivePoints,morphTarget:be,reflectionMap:!!a.reflectionMap});return Us.forEach(Ee=>{const Pe=a[Ee];Pe&&(Me[Ee]=!0,Me[Ee+"BlendMode"]=Pe.blendMode||"multiply")}),Me},key:Eu(uo),shader:function(f){const a=Object.assign({},uo,f),g={vert:u=>`\n\t\t\t${"points"===a.topology?`gl_PointSize = ${u("glPointSize")};`:""}\n\t\t\tgl_Position = ${u("screenPosition")};\n\t\t\t${hs(u,a)}\n\t\t`,frag:u=>{return`\n\t\t\t\n\t\t\t${a.roundPoints&&"points"===a.topology?"\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\tif (dot(cxy, cxy) > 1.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\t":""}\n\n\t\t\t\n\t\t\t\n\t\t\tvec3 color = ${u(a.vertexColors?"vertexColor":"baseColor")}.rgb;\n\t\t\tfloat alpha = ${"opaque"===a.alphaMode?"1.0":u("opacity")};\n\t\t\t${a.vertexColors?`alpha *= ${u("vertexColor")}.a;`:""}\n\n\t\t\t\n\t\t\t${a.clips>a.maxClipDistances&&"opaque"!==a.alphaMode?`\n\t\t\t\tif (${u("clippingPlaneAlpha")} <= 0.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t`:""}\n\n\t\t\tfloat emit = ${u("emitColor")}.a;\n\t\t\tvec3 emitRGB = ${u("emitColor")}.rgb;\n\n\t\t\tfloat transparency = 1.0 - alpha;\n\n\t\t\t${a.normals&&"opaque"!==a.alphaMode?`\n\t\t\tif (transparency > 0.0) {\n\t\t\t\tfloat gf = ${u("glassFactor")} * (${u("murkiness")} - abs(dot(${u("viewNormal")}, vec3(0.0, 0.0, -1.0))));\n\t\t\t\talpha = max(alpha, gf);\n\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t}\n\t\t\t`:""}\n\n\t\t\t\n\t\t\t${function(O,H,te){const Q={};let be=!1,Me=O.map((Ee,Pe)=>{const rt=Mo[Ee.applyTo];if(be=be||"normals"===Ee.applyTo,rt){const Dt=To[Ee.applyTo]||Ee.applyTo,Ft=!Q[Dt];return Q[Dt]=!0,rt(Ee,Pe,Ft,H,te)}return""}).join("\n\t");return be&&(Me+=`\n${H("texturedViewNormal")} = normalize(${H("texturedViewNormal")});`),Me}(a.textureLayers,u,a)}\n\n\t\t\tvec4 fragColor;\n\n\t\t\t\n\t\t\t${a.normals?`\n\t\t\t\t${a.metallicMaterial?`\n\t\t\t\t\t\n\t\t\t\t\t${u("Material")} material;\n\t\t\t\t\t${u("Geometry")} geometry;\n\t\t\t\t\t${u("ReflectedLight")} reflectedLight = ReflectedLight(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0));\n\n\t\t\t\t\tfloat dielectricSpecular = 0.16 * ${u("specularF0")} * ${u("specularF0")};\n\t\t\t\t\tmaterial.diffuseColor = (1.0 - dielectricSpecular) * (1.0 - ${u("metallic")}) * color;\n\n\t\t\t\t\t\n\t\t\t\t\tmaterial.specularRoughness = clamp(sqrt(${u("roughness")}), 0.04, 1.0);\n\t\t\t\t\tmaterial.specularColor = mix(vec3(dielectricSpecular), color, ${u("metallic")});\n\n\t\t\t\t\t\n\t\t\t\t\tgeometry.position = ${u("viewPosition")};\n\t\t\t\t\tgeometry.viewNormal = ${u("texturedViewNormal")};\n\t\t\t\t\tgeometry.viewEyeDir = -${u("normalizedViewPosition")};\n\n\t\t\t\t\t\n\t\t\t\t\t${a.environmentReflectionMap?`${u("computePBRReflectionMapping")}(\n\t\t\t\t\t\t${u("reflectionMap")},\n\t\t\t\t\t\t${u("reflectionMapIntensity")},\n\t\t\t\t\t\t${u("viewMatrix")},\n\t\t\t\t\t\tgeometry,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight,\n\t\t\t\t\t\t${u("reflectionMapMaxMipLevel")}\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\t\t\t\t\t${a.lightMapSpace?`${u("computePBRLightMapping")}(\n\t\t\t\t\t\t${u("lightMap")},\n\t\t\t\t\t\t${u("lightMapIntensity")},\n\t\t\t\t\t\tgeometry.${"world"===a.lightMapSpace?"worldNormal":"viewNormal"},\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\treflectedLight\n\t\t\t\t\t);`:""}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${er(a.lights,O=>`{\n\t\t\t\t\t\t${u("IncidentLight")} light;\n\t\t\t\t\t\tlight.color = ${u("lightSource",O)}.color;\n\n\t\t\t\t\t\tif (${u("lightSource",O)}.type == ${ta.dir}) {\n\t\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\t\tviewLightVec = normalize(${u("lightSource",O)}.position);\n\t\t\t\t\t\t\tif (!${u("lightSource",O)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = (${u("viewMatrix")} * vec4(viewLightVec, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlight.direction = viewLightVec;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${u("lightSource",O)}.position - ${u("worldPosition")};\n\t\t\t\t\t\t\tvec3 viewLightVec = ${u("lightSource",O)}.viewSpace ?\n\t\t\t\t\t\t\t\t(${u("viewMatrix")} * vec4(pointToLight, 0.0)).xyz :\n\t\t\t\t\t\t\t\tpointToLight;\n\t\t\t\t\t\t\tlight.direction = normalize(viewLightVec);\n\n\t\t\t\t\t\t\tfloat lightDist = ${u("lightSource",O)}.type == ${ta.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tfloat attenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${u("lightSource",O)}.attenuation.x +\n\t\t\t\t\t\t\t\t${u("lightSource",O)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${u("lightSource",O)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${u("lightSource",O)}.type == ${ta.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${u("viewMatrix")} * vec4(${u("lightSource",O)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), normalize(-viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${u("lightSource",O)}.innerCone) / max(${u("lightSource",O)}.outerCone - ${u("lightSource",O)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlight.color *= attenuation;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t${u("computePBRLighting")}(light, geometry, material, reflectedLight);\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${a.baseFresnel?`reflectedLight.diffuse = ${u("baseFresnelColor")}(reflectedLight.diffuse, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${a.specularFresnel?`reflectedLight.specular = ${u("specularFresnelColor")}(reflectedLight.specular, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${a.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${u("alphaFresnelValue")}(alpha, ${u("surfaceToView")}, ${u("texturedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${a.transparencyFresnel?`transparency = ${u("transparencyFresnelValue")}(transparency, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${a.emitFresnel?`emitRGB = ${u("emitFresnelColor")}(emitRGB, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\tvec3 outgoingLight = ${u("occlusion")} * (reflectedLight.diffuse + reflectedLight.specular) +\n\t\t\t\t\t\temit * emitRGB;\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(outgoingLight, alpha);\n\t\t\t\t`:`\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t${a.reflectionMap?`\n\t\t\t\t\t\tfloat reflectFactor = 1.0;\n\t\t\t\t\t\t${a.reflectionFresnel?`reflectFactor = ${u("reflectionFresnelValue")}(reflectFactor, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t\tvec3 envLookup = reflect(-${u("surfaceToView")}, ${u("texturedViewNormal")}); \n\n\t\t\t\t\t\t\n\t\t\t\t\t\tvec4 envColor = ${u("textureCube")}(${u("reflectionMap")}, envLookup);\n\t\t\t\t\t\tcolor = mix(color, envColor.rgb, reflectFactor * ${u("specular")} * ${u("reflectionMapIntensity")});\n\t\t\t\t\t`:""}\n\n\t\t\t\t\tvec3 lightValue = vec3(0.0, 0.0, 0.0);\n\t\t\t\t\tvec3 specularValue = vec3(0.0, 0.0, 0.0);\n\n\t\t\t\t\t\n\t\t\t\t\t${er(a.lights,O=>`{\n\t\t\t\t\t\tvec3 viewLightVec;\n\t\t\t\t\t\tfloat attenuation = 1.0;\n\n\t\t\t\t\t\tif (${u("lightSource",O)}.type == ${ta.dir}) {\n\t\t\t\t\t\t\tif (${u("lightSource",O)}.viewSpace) {\n\t\t\t\t\t\t\t\tviewLightVec = ${u("lightSource",O)}.position;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvec3 pointToLight = normalize(-${u("lightSource",O)}.position);\n\t\t\t\t\t\t\t\tviewLightVec = -(${u("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvec3 pointToLight = ${u("lightSource",O)}.position - ${u("worldPosition")};\n\t\t\t\t\t\t\tviewLightVec = ${u("lightSource",O)}.viewSpace ?\n\t\t\t\t\t\t\t\tpointToLight :\n\t\t\t\t\t\t\t\t(${u("viewMatrix")} * vec4(pointToLight, 0.0)).xyz;\n\n\t\t\t\t\t\t\tfloat lightDist = ${u("lightSource",O)}.type == ${ta.spot} ? length(pointToLight) : length(viewLightVec);\n\t\t\t\t\t\t\tattenuation = 1.0 - (\n\t\t\t\t\t\t\t\t${u("lightSource",O)}.attenuation.x +\n\t\t\t\t\t\t\t\t${u("lightSource",O)}.attenuation.y * lightDist +\n\t\t\t\t\t\t\t\t${u("lightSource",O)}.attenuation.z * lightDist * lightDist\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (${u("lightSource",O)}.type == ${ta.spot}) {\n\t\t\t\t\t\t\t\tvec3 viewLightDir = (${u("viewMatrix")} * vec4(${u("lightSource",O)}.direction, 0.0)).xyz;\n\t\t\t\t\t\t\t\tfloat spotDirRatio = 1.0 - max(dot(normalize(viewLightDir), -normalize(viewLightVec)), 0.0);\n\t\t\t\t\t\t\t\tattenuation *= 1.0 - clamp((spotDirRatio - ${u("lightSource",O)}.innerCone) / max(${u("lightSource",O)}.outerCone - ${u("lightSource",O)}.innerCone, 0.0001), 0.0, 1.0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tviewLightVec = normalize(viewLightVec);\n\n\t\t\t\t\t\tfloat dotN = max(dot(${u("texturedViewNormal")}, viewLightVec), 0.0);\n\t\t\t\t\t\tif (${u("lightSource",O)}.diffuse) {\n\t\t\t\t\t\t\tlightValue += dotN * attenuation * ${u("lightSource",O)}.color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (${u("lightSource",O)}.specular) {\n\t\t\t\t\t\t\tfloat specularScale = ${u("specular")} * pow(max(dot(reflect(-viewLightVec, -${u("texturedViewNormal")}), -${u("normalizedViewPosition")}), 0.0), ${u("shine")}) * attenuation;\n\t\t\t\t\t\t\tspecularValue += ${u("specularColor")} * ${u("lightSource",O)}.color * specularScale;\n\t\t\t\t\t\t}\n\t\t\t\t\t}`).join("\n\t")}\n\n\t\t\t\t\t\n\n\t\t\t\t\t${a.baseFresnel?`color.rgb = ${u("baseFresnelColor")}(color.rgb, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${a.specularFresnel?`specularValue.rgb = ${u("specularFresnelColor")}(specularValue.rgb, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${a.alphaFresnel?`{\n\t\t\t\t\t\tfloat alpha = 1.0 - transparency;\n\t\t\t\t\t\talpha = ${u("alphaFresnelValue")}(alpha, ${u("surfaceToView")}, ${u("texturedViewNormal")});\n\t\t\t\t\t\ttransparency = 1.0 - alpha;\n\t\t\t\t\t}`:""}\n\t\t\t\t\t${a.transparencyFresnel?`transparency = ${u("transparencyFresnelValue")}(transparency, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\t\t\t\t\t${a.emitFresnel?`emitRGB = ${u("emitFresnelColor")}(emitRGB, ${u("surfaceToView")}, ${u("texturedViewNormal")});`:""}\n\n\t\t\t\t\t\n\t\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\t\tfragColor = vec4(\n\t\t\t\t\t\tspecularValue +\n\t\t\t\t\t\t\tcolor * (lightValue + ${u("ambientLightColor")}) +\n\t\t\t\t\t\t\temit * emitRGB,\n\t\t\t\t\t\talpha\n\t\t\t\t\t);\n\t\t\t\t`}\n\t\t\t`:`\n\t\t\t\talpha = 1.0 - transparency;\n\t\t\t\tfragColor = vec4(\n\t\t\t\t\t(color.rgb + (emit * color.rgb)) * (vec3(1.0) +\n\t\t\t\t\t\t${u("ambientLightColor")}),\n\t\t\t\t\talpha\n\t\t\t\t);\n\t\t\t`}\n\n\t\t\t\n\t\t\t${O=u,H=a,H.modifiers?.map((te,Q)=>"opacity"===te.applyTo?(0,Xs[te.applyTo])(te,Q,O,H):"").join("\n\t")}\n\n\t\t\t\n\n\t\t\t${a.clips>0&&"opaque"!==a.alphaMode?`fragColor.a *= ${u("clippingPlaneAlpha")};`:""}\n\n\t\t\t\n\t\t\t${Ic(u,a,"fragColor.a","")}\n\n\t\t\t\n\t\t\t${function(O,H){return H.modifiers?.map((te,Q)=>{if("opacity"!==te.applyTo){const be=Xs[te.applyTo];if(be)return be(te,Q,O,H);console.warn("modifier not implemented",te.applyTo)}return""}).join("\n\t")}(u,a)}\n\n\t\t\t${a.fog?`fragColor.rgb = ${u("applyFog")}(fragColor.rgb);`:""}\n\n\t\t\t${a.metallicMaterial?`fragColor = ${u("linearToGamma")}(fragColor, 2.2);`:""}\n\n\t\t\t\n\t\t\tfragColor.rgb *= fragColor.a;\n\n\t\t\tfragColor = clamp(fragColor, 0.0, 1.0);\n\t\t\tfragColor.a = max(max(fragColor.r, fragColor.g), max(fragColor.b, fragColor.a));\n\n\t\t\t${u("gl_FragColor")} = fragColor;\n\t\t`;var O,H}};return nl(aa,(u,O)=>g[u](O),{joinShader:jl(a),...a})},setMaterialUniforms:function(f,a,g){if(f.opacity=a.opacity,f.baseColor=a.baseColor,f.emitColor=a.emitColor,f.glassFactor=a.glassFactor,f.murkiness=a.murkiness,"metallic"===a.type){let O=f.metalRoughSpecularf0;O||(O=f.metalRoughSpecularf0=new Float32Array(3)),O[0]=a.metallic,O[1]=a.roughness,O[2]=a.specularf0}else f.specularColor=a.specularColor,f.phongShine=a.shine;a.textures.forEach((O,H)=>{f["textureBlendFactor"+H]=O.blendFactor;const te=g?.get(O.texture);te?(te.update(),f["textureSampler"+H]=te.webglTexture):delete f["textureSampler"+H]}),lu.forEach(O=>{const H=a[O];H&&qc.forEach((te,Q)=>{f[O+te]=H[Q]})});const{reflectionMap:u}=a;u&&(f.reflectionMapIntensity=u.intensity,f.reflectionMapMaxMipLevel=Math.max(0,u.mipLevels-1))},textureKeys:["textures"]});const za=f=>cu.get(f.constructor),Fc=["shader","geometry","morph","vertexCount","transparency"],Pd={geometry:["shader","morph","vertexCount"],"geometry.*":["geometry","morph","shader"],"geometry.count":["transparency","vertexCount"],"geometry.offset":["vertexCount"],modifier:["shader","transparency"],"modifier.value":["shader","transparency"],material:["shader"],"material.transparent":["transparency"],"material.clippable":["transparency"],"material.opacity":["transparency"],"material.fresnel":["transparency"],visible:["transparency"],morphKeyIndex:["morph"]};class kd extends le{constructor(a,{geometryBufferCache:g,shaderResourceCache:u,geometryUniformsCache:O,materialUniformsCache:H,vaoCache:te,alphaModeOptions:Q,clippingPlanes:be,textureResourceCache:Me}){super(),d(this,"programInfo",null),d(this,"bufferInfo",null),d(this,"vertexArrayInfo",null),d(this,"baseBufferInfo",null),d(this,"morphBufferInfo",[]),d(this,"baseVertexArrayInfo",null),d(this,"morphVAOs",[]),d(this,"uniforms",void 0),d(this,"screenPosition",void 0),d(this,"clockwise",!1),d(this,"mesh",void 0),d(this,"worldMatrix",void 0),d(this,"vertexCount",void 0),d(this,"layer",void 0),d(this,"renderOrder",void 0),d(this,"depthMask",void 0),d(this,"blendMode",void 0),d(this,"alphaMode",void 0),d(this,"dirty",void 0),d(this,"topology",void 0),d(this,"offset",void 0),d(this,"count",void 0),d(this,"update",void 0),d(this,"setDirty",void 0);let Ee=null,Pe=null,rt=!0,Dt=!1,Ft=a.renderable,Wt=null;this.mesh=a;const Ot={shader:!0,geometry:!0,vertexCount:!0,transparency:!0,morph:!0},Jt={modelMatrix:a.worldMatrix,normalMatrix:a.normalMatrix},Fn=new Map;this.uniforms=[null,null,Jt],this.worldMatrix=a.worldMatrix,this.screenPosition=(0,m.create)(),this.clockwise=a.reflected,this.layer=a.layer,this.renderOrder=a.renderOrder,this.depthMask=a.depthMask,this.alphaMode=Rc(a,be,Q);const Tn=()=>{if(Ee){if(Ee.morphKeys.length>1){const kr=this.morphBufferInfo;for(let $r=0;$r<kr.length;$r++)te?.release(a,this.programInfo,kr[$r]),g.release(this,Ee,$r);this.morphVAOs.length=0}te?.release(a,this.programInfo,this.baseBufferInfo),g.release(this,Ee),this.baseBufferInfo=null,this.bufferInfo=null,this.morphBufferInfo.length=0,O.release(a,Ee),this.uniforms[1]=null,Ee=null}},An=kr=>{if(kr!==Ee){if(Ee&&Tn(),Ee=kr,Ee){if(Ee.morphKeys.length>1){const $r=this.morphBufferInfo;for(let Vr=0,Fr=Ee.morphKeys.length-1;Vr<Fr;Vr++)$r.push(g.get(this,Ee,Vr))}this.baseBufferInfo=g.get(this,Ee),this.uniforms[1]=O.get(a,Ee),this.setDirty("geometry")}else this.uniforms[1]=null;Dt=!!Ee&&a.morphKeyIndex>=0&&Ee.morphKeys.length>1}},vn=()=>{Fn.forEach((kr,$r)=>{Me.release(this,$r)}),Fn.clear(),H.release(a,Pe),this.uniforms[0]=null,Pe=null,Wt=null},kn=kr=>{kr!==Pe&&(Pe&&vn(),Pe=kr,Wt=za(kr),Wt.textureKeys.forEach($r=>{Pe[$r].forEach(({texture:Vr})=>{const Fr=Me?.get(this,Vr);Fr&&(Fr.update(),Fn.set(Vr,Fr))})}),this.uniforms[0]=H.get(a,Pe))},nr=kr=>{if(this.layer=a.layer,this.renderOrder=a.renderOrder,this.depthMask=a.depthMask,!kr.property)return void this.setDirty();const $r=[kr.property+".*"];$r.push(kr.detail?kr.property+"."+kr.detail:kr.property);for(let Fr=0;Fr<$r.length;Fr++){const di=$r[Fr];Pd[di]?.forEach(this.setDirty)}const Vr=Dt;Dt=!!Ee&&a.morphKeyIndex>=0&&Ee.morphKeys.length>1,Dt!==Vr&&this.setDirty("shader"),"geometry"===kr.property?An(a.geometry):"material"===kr.property&&kn(a.material),rt=!0},ur=()=>{this.clockwise=a.reflected,Ft!==a.renderable&&(Ft=a.renderable,this.setDirty("transparency"))};a.on("change",nr),a.on("updateWorldMatrix",ur),this.update=()=>{if(!rt)return!1;if(Ot.transparency){const Fr=Rc(a,be,Q);Fr!==this.alphaMode&&(this.alphaMode=Fr,Ot.shader=!0),Ot.transparency=!1}const kr=this.programInfo;kr&&!Ot.shader||(kr&&u.release(a),this.programInfo=u.get(a),Ot.shader=!1);let Vr=Ot.morph;if(Ee&&(Ot.geometry||kr!==this.programInfo)){const{morphBufferInfo:Fr,morphVAOs:di}=this;if(te){for(let ai=0;ai<di.length;ai++)te.release(a,kr,Fr[ai]);if(di.length=0,te.release(a,kr,this.baseBufferInfo),Dt){for(let ai=0;ai<Fr.length;ai++)di[ai]=te.get(a,this.programInfo,Fr[ai])||null;this.baseVertexArrayInfo=null}else this.baseVertexArrayInfo=te.get(a,this.programInfo,this.baseBufferInfo)||null;Vr=!0}}if(Vr){if(Dt){const{morphKeyIndex:Fr}=a;this.bufferInfo=this.morphBufferInfo[Fr],this.vertexArrayInfo=te?this.morphVAOs[Fr]:null}else this.bufferInfo=this.baseBufferInfo,this.vertexArrayInfo=this.baseVertexArrayInfo;Ot.morph=!1}return Ot.geometry=!1,Ot.vertexCount&&(this.vertexCount=gs(Ee,!1),Ot.vertexCount=!1),this.uniforms[0]&&Wt.setMaterialUniforms(this.uniforms[0],Pe,Fn),function(Fr,di){di.modifiers&&Array.from(di.modifiers.values()).sort($i).forEach((fi,Or)=>{if("range"in fi){const bi="modifierCenter"+Or,Mi="modifierRadius"+Or;if(Fr[bi]||(Fr[bi]=(0,m.create)()),Fr[Mi]||(Fr[Mi]=(0,us.create)()),fi.parent){fi.parent.updateWorldMatrix(),(0,m.transformMat4)(Fr[bi],fi.range.center,fi.parent.worldMatrix);const go=Ce.get();(0,L.getScaling)(go,fi.parent.worldMatrix);const fo=(go[0]+go[1]+go[2])/3;Ce.release(go);const Yo=fi.range.minRadius*fo;(0,us.set)(Fr[Mi],Yo,fi.range.maxRadius*fo-Yo)}else(0,m.copy)(Fr[bi],fi.range.center),(0,us.set)(Fr[Mi],fi.range.minRadius,fi.range.maxRadius-fi.range.minRadius)}else"fresnel"in fi&&(Array.isArray(fi.fresnel.center)?(Fr["modifierFresnelCenter"+Or]=[...fi.fresnel.center],Fr["modifierFresnelEdge"+Or]=[...fi.fresnel.edge]):(Fr["modifierFresnelCenter"+Or]=[fi.fresnel.center,0,0],Fr["modifierFresnelEdge"+Or]=[fi.fresnel.edge,0,0]),Fr["modifierFresnelBiasCenter"+Or]=fi.fresnel.centerBias,Fr["modifierFresnelBiasEdge"+Or]=fi.fresnel.edgeBias,Fr["modifierFresnelPower"+Or]=fi.fresnel.power);"value"in fi&&(Array.isArray(fi.value)?Fr["modifierColorValue"+Or]=fi.value:Fr["modifierValue"+Or]="contrast"===fi.applyTo?fi.value+1:fi.value)});const{geometry:ai}=di;if(ai?.morphKeys.length>1&&di.morphKeyIndex>=0){const{morphKeyIndex:fi}=di;Fr.morphFactor=di.morphFactor,Fr.decodePositions=ai.morphKeys[fi].attributes.position?.decodeMat,Fr.decodeMorphPositions=ai.morphKeys[fi+1].attributes.position?.decodeMat}else delete Fr.decodePositions,delete Fr.decodeMorphPositions;di instanceof sn&&(Fr.pointSize=di.pointSize,Fr.pointUVScale=di.pointUVScale)}(Jt,a),rt=!1,!0},this.setDirty=kr=>{if(kr)Ot[kr]||(Ot[kr]=!0,rt=!0,this.emit("dirty",kr));else for(let $r=0;$r<Fc.length;$r++)this.setDirty(Fc[$r])};const Qn=this.destroy;this.destroy=()=>{a.off("change",nr),a.off("updateWorldMatrix",ur),u.release(a),vn(),Tn(),Qn()},Object.defineProperties(this,{topology:{get:()=>Ee?.topology||it.triangles},offset:{get:()=>Ee?.offset||0},count:{get:()=>Ee?.count||0},dirty:{get:()=>rt},blendMode:{get:()=>Pe.blendMode}}),An(a.geometry),kn(a.material)}}const Ju=typeof WebGL2RenderingContext<"u";function Tl(f){return Ju&&f instanceof WebGL2RenderingContext}const Zu=[["blendColor","BLEND_COLOR"],["clearColor","COLOR_CLEAR_VALUE"],["colorMask","COLOR_WRITEMASK"],["depthRange","DEPTH_RANGE"],["scissor","SCISSOR_BOX"],["viewport","VIEWPORT"],["blendEquationSeparate",["BLEND_EQUATION_RGB","BLEND_EQUATION_ALPHA"]],["blendFuncSeparate",["BLEND_SRC_RGB","BLEND_SRC_ALPHA","BLEND_DST_RGB","BLEND_DST_ALPHA"]],["polygonOffset",["POLYGON_OFFSET_FACTOR","POLYGON_OFFSET_UNITS"]],["sampleCoverage",["SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT"]]],Fd=[["clearDepth","DEPTH_CLEAR_VALUE"],["clearStencil","STENCIL_CLEAR_VALUE"],["cullFace","CULL_FACE_MODE"],["depthFunc","DEPTH_FUNC"],["frontFace","FRONT_FACE"]],ed=[3042,2884,2929,3024,32823,32926,32928,3089,2960,35977],Ef=new Set([35977]),Ra=class{constructor(f){const a=new Map,g={},u={};let O=null,H=!1;function te(){ed.forEach(Q=>{Ef.has(Q)&&!Tl(f)||a.set(Q,f.isEnabled(Q))}),Fd.forEach(([Q,be])=>{g[Q]=f.getParameter(f[be])}),H=f.getParameter(f.DEPTH_WRITEMASK),Zu.forEach(([Q,be])=>{"string"==typeof be?u[Q]=f.getParameter(f[be]):Array.isArray(be)&&(u[Q]=[],be.forEach((Me,Ee)=>{u[Q][Ee]=f.getParameter(f[Me])}))}),O=null,f.useProgram(null)}this.disable=Q=>{a.get(Q)&&(f.disable(Q),a.set(Q,!1))},this.enable=Q=>{a.get(Q)||(f.enable(Q),a.set(Q,!0))},this.useProgram=Q=>{Q!==O&&(O=Q,f.useProgram(O))},Fd.forEach(([Q])=>{this[Q]=be=>{g[Q]!==be&&(g[Q]=be,f[Q](be))}}),this.depthMask=Q=>{H!==Q&&(H=Q,f.depthMask(Q))},Zu.forEach(([Q])=>{this[Q]=(...be)=>{const Me=u[Q];let Ee=!0;for(let Pe=0,rt=Me.length;Pe<rt;Pe++){const Dt=be[Pe];Ee=Me[Pe]===Dt&&Ee,Me[Pe]=Dt}Ee||f[Q].apply(f,be)}}),te(),this.reset=te,Object.defineProperties(this,{gl:{get:()=>f,set(Q){Q!==f&&(f=Q,te())}}})}blendEquation(f){this.blendEquationSeparate(f,f)}blendFunc(f,a){this.blendFuncSeparate(f,a,f,a)}},la=w(5662),qs=f=>!(f&f-1)&&f>0;var Bc=function(f){return f[f.Nearest=9728]="Nearest",f[f.Linear=9729]="Linear",f[f.NearestMipMapNearest=9984]="NearestMipMapNearest",f[f.LinearMipMapNearest=9985]="LinearMipMapNearest",f[f.NearestMipMapLinear=9986]="NearestMipMapLinear",f[f.LinearMipMapLinear=9987]="LinearMipMapLinear",f}(Bc||{});const Bd={[We.Nearest]:Bc.Nearest,[We.Linear]:Bc.Linear},td={[Ve.ClampToEdge]:33071,[Ve.Repeat]:10497,[Ve.MirrorRepeat]:33648},em={[We.Nearest]:{[We.Nearest]:Bc.NearestMipMapNearest,[We.Linear]:Bc.NearestMipMapLinear},[We.Linear]:{[We.Nearest]:Bc.LinearMipMapNearest,[We.Linear]:Bc.LinearMipMapLinear}};function Ch(f,a,g){const{width:u,height:O}=a;g||(g=ut(u,O));const H=Tl(f)||qs(u)&&qs(O),te=H&&g>=2?em[a.min][a.mipmapFilter]:Bd[a.min];return H?{width:u,height:O,min:te,mag:Bd[a.mag],wrapS:td[a.wrapU],wrapT:td[a.wrapV]}:{width:u,height:O,min:te,mag:Bd[a.mag],wrap:f.CLAMP_TO_EDGE}}const Nd="WEBGL_compressed_texture_s3tc",Jc="WEBGL_compressed_texture_s3tc_srgb",Va="WEBGL_compressed_texture_etc",Ld="WEBGL_compressed_texture_pvrtc",Zc="EXT_texture_compression_rgtc",vs="WEBGL_compressed_texture_astc",ja="EXT_texture_compression_bptc",Ma=f=>f.getExtension("WEBGL_compressed_texture_astc")?.getSupportedProfiles().includes("hdr"),Ah=new Map([[na,[Int8Array]],[bs,[Uint8Array,Uint8ClampedArray]],[Lo,[Int16Array]],[Ho,[Uint16Array]],[32819,[Uint16Array]],[32820,[Uint16Array]],[33635,[Uint16Array]],[Ki,[Int32Array]],[bo,[Uint32Array]],[35902,[Uint32Array]],[33640,[Uint32Array]],[35899,[Uint32Array]],[34042,[Uint32Array]],[36193,[Uint16Array]],[5131,[Uint16Array]],[Ps,[Float32Array]]]),wf=[["rgba8unorm",{format:ds,internalFormat:ds,type:bs}],["rgba16uint",{format:ds,internalFormat:ds,type:32819}]],Ud=[["etc2-rgb8unorm",{format:36196,extension:"WEBGL_compressed_texture_etc1"}],["rgba16float",{format:ds,internalFormat:ds,type:36193,extension:"OES_texture_half_float"}],["rgba32float",{format:ds,internalFormat:ds,type:Ps,extension:"OES_texture_float"}]],Gl=[["bc1-rgba-unorm",{format:33776,extension:Nd}],["bc1-rgba-unorm-srgb",{format:35916,extension:Jc}],["bc2-rgba-unorm",{format:33778,extension:Nd}],["bc2-rgba-unorm-srgb",{format:35918,extension:Jc}],["bc3-rgba-unorm",{format:33779,extension:Nd}],["bc3-rgba-unorm-srgb",{format:35919,extension:Jc}],["bc4-r-unorm",{format:36283,extension:Zc}],["bc4-r-snorm",{format:36284,extension:Zc}],["bc5-rg-unorm",{format:36285,extension:Zc}],["bc5-rg-snorm",{format:36286,extension:Zc}],["bc6h-rgb-ufloat",{format:36495,extension:ja}],["bc6h-rgb-float",{format:36494,extension:ja}],["bc7-rgba-unorm",{format:36492,extension:ja}],["bc7-rgba-unorm-srgb",{format:36493,extension:ja}],["etc2-rgb8unorm",{format:37492,extension:Va}],["etc2-rgb8unorm-srgb",{format:37493,extension:Va}],["etc2-rgb8a1unorm",{format:37494,extension:Va}],["etc2-rgb8a1unorm-srgb",{format:37495,extension:Va}],["etc2-rgba8unorm",{format:37496,extension:Va}],["etc2-rgba8unorm-srgb",{format:37497,extension:Va}],["eac-r11unorm",{format:37488,extension:Va}],["eac-r11snorm",{format:37489,extension:Va}],["eac-rg11unorm",{format:37490,extension:Va}],["eac-rg11snorm",{format:37491,extension:Va}],["astc-4x4-unorm",{format:37808,extension:vs}],["astc-5x4-unorm",{format:37809,extension:vs}],["astc-5x5-unorm",{format:37810,extension:vs}],["astc-6x5-unorm",{format:37811,extension:vs}],["astc-6x6-unorm",{format:37812,extension:vs}],["astc-8x5-unorm",{format:37813,extension:vs}],["astc-8x6-unorm",{format:37814,extension:vs}],["astc-8x8-unorm",{format:37815,extension:vs}],["astc-10x5-unorm",{format:37816,extension:vs}],["astc-10x6-unorm",{format:37817,extension:vs}],["astc-10x8-unorm",{format:37818,extension:vs}],["astc-10x10-unorm",{format:37819,extension:vs}],["astc-12x10-unorm",{format:37820,extension:vs}],["astc-12x12-unorm",{format:37821,extension:vs}],["astc-4x4-unorm-srgb",{format:37840,extension:vs}],["astc-5x4-unorm-srgb",{format:37841,extension:vs}],["astc-5x5-unorm-srgb",{format:37842,extension:vs}],["astc-6x5-unorm-srgb",{format:37843,extension:vs}],["astc-6x6-unorm-srgb",{format:37844,extension:vs}],["astc-8x5-unorm-srgb",{format:37845,extension:vs}],["astc-8x6-unorm-srgb",{format:37846,extension:vs}],["astc-8x8-unorm-srgb",{format:37847,extension:vs}],["astc-10x5-unorm-srgb",{format:37848,extension:vs}],["astc-10x6-unorm-srgb",{format:37849,extension:vs}],["astc-10x8-unorm-srgb",{format:37850,extension:vs}],["astc-10x10-unorm-srgb",{format:37851,extension:vs}],["astc-12x10-unorm-srgb",{format:37852,extension:vs}],["astc-12x12-unorm-srgb",{format:37853,extension:vs}],["astc-4x4-hdr",{format:37808,extension:vs,supported:Ma}],["astc-5x4-hdr",{format:37809,extension:vs,supported:Ma}],["astc-5x5-hdr",{format:37810,extension:vs,supported:Ma}],["astc-6x5-hdr",{format:37811,extension:vs,supported:Ma}],["astc-6x6-hdr",{format:37812,extension:vs,supported:Ma}],["astc-8x5-hdr",{format:37813,extension:vs,supported:Ma}],["astc-8x6-hdr",{format:37814,extension:vs,supported:Ma}],["astc-8x8-hdr",{format:37815,extension:vs,supported:Ma}],["astc-10x5-hdr",{format:37816,extension:vs,supported:Ma}],["astc-10x6-hdr",{format:37817,extension:vs,supported:Ma}],["astc-10x8-hdr",{format:37818,extension:vs,supported:Ma}],["astc-10x10-hdr",{format:37819,extension:vs,supported:Ma}],["astc-12x10-hdr",{format:37820,extension:vs,supported:Ma}],["astc-12x12-hdr",{format:37821,extension:vs,supported:Ma}],["pvrtc-rgb4unorm",{format:35840,extension:Ld}],["pvrtc-rgb2unorm",{format:35841,extension:Ld}],["pvrtc-rgba4unorm",{format:35842,extension:Ld}],["pvrtc-rgba2unorm",{format:35843,extension:Ld}]],Cu=[["rgba8unorm",{format:ds,internalFormat:32856,type:bs}],["rgba8snorm",{format:ds,internalFormat:36759,type:na}],["rgba8unorm-srgb",{format:ds,internalFormat:35907,type:bs}],["rgba16uint",{format:va,internalFormat:36214,type:Ho}],["r8unorm",{format:6403,internalFormat:33321,type:bs}],["r8snorm",{format:6403,internalFormat:36756,type:na}],["r8uint",{format:ks,internalFormat:33330,type:bs}],["r8sint",{format:ks,internalFormat:33329,type:na}],["r16uint",{format:ks,internalFormat:33332,type:Ho}],["r16sint",{format:ks,internalFormat:33331,type:Lo}],["r16float",{format:6403,internalFormat:33325,type:5131}],["rg8unorm",{format:Qs,internalFormat:33323,type:bs}],["rg8snorm",{format:Qs,internalFormat:36757,type:na}],["rg8uint",{format:Qs,internalFormat:fa,type:bs}],["rg8sint",{format:Qs,internalFormat:fa,type:na}],["r32uint",{format:ks,internalFormat:33334,type:bo}],["r32sint",{format:ks,internalFormat:33326,type:Ki}],["r32float",{format:6403,internalFormat:33326,type:Ps}],["rg16uint",{format:fa,internalFormat:33338,type:Ho}],["rg16sint",{format:fa,internalFormat:33337,type:Lo}],["rg16float",{format:Qs,internalFormat:33327,type:5131}],["rgba8uint",{format:va,internalFormat:36220,type:bs}],["rgba8sint",{format:va,internalFormat:36238,type:na}],["rgb9e5ufloat",{format:6407,internalFormat:35901,type:35902}],["rgb10a2uint",{format:va,internalFormat:36975,type:33640}],["rgb10a2unorm",{format:ds,internalFormat:32857,type:33640}],["rg11b10ufloat",{format:6407,internalFormat:35898,type:35899}],["rg32uint",{format:fa,internalFormat:33340,type:bo}],["rg32sint",{format:fa,internalFormat:33339,type:Ki}],["rg32float",{format:Qs,internalFormat:33328,type:Ps}],["rgba16sint",{format:va,internalFormat:36232,type:Lo}],["rgba16float",{format:ds,internalFormat:34842,type:5131}],["rgba32uint",{format:va,internalFormat:36208,type:bo}],["rgba32sint",{format:va,internalFormat:36226,type:Ki}],["rgba32float",{format:ds,internalFormat:34836,type:Ps}],["depth16unorm",{format:6402,internalFormat:33189,type:Ho}],["depth24plus",{format:6402,internalFormat:33190,type:bo}],["depth24plus-stencil8",{format:34041,internalFormat:35056,type:34042}],["depth32float",{format:6402,internalFormat:36012,type:Ps}],["depth32float-stencil8",{format:34041,internalFormat:36013,type:36269}]],uu={webgl1:new Map([...wf,...Gl,...Ud]),webgl2:new Map([...wf,...Gl,...Cu])},Cf=typeof ImageBitmap<"u",Mh=typeof ImageData<"u",Au=[34069,34070,34071,34072,34073,34074];class Mu{constructor(a,g){d(this,"webglTexture",void 0),d(this,"texture",void 0),d(this,"update",void 0),d(this,"destroy",void 0),this.texture=g;const u=Tl(a),O=g instanceof se,H=O?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D,te=O?g.sources:[g.source],Q=O?g.levels:g.levels?[g.levels]:null,be=g.format,Me=ie[be],Ee=(u?uu.webgl2:uu.webgl1).get(be);if(!Ee)throw new Error(`Unsupported texture format: ${be}`);const{format:Pe,extension:rt}=Ee;if(rt&&!a.getExtension(rt)||Ee.supported&&!Ee.supported(a))throw new Error(`Texture format ${be} not available, missing ${rt} extension.`);const Dt="internalFormat"in Ee?Ee.internalFormat:Pe,Ft="type"in Ee?Ee.type:Pe,Wt=u;te.forEach(ai=>{if(U(ai)){const fi=Ah.get(Ft);if(fi&&!fi.some(Or=>ai instanceof Or))throw new Error(`Invalid typed array for texture data type 0x${Pe.toString(16)}`)}});let Ot=Wt?null:a.createTexture(),Jt=!0,Fn=!0,Tn=!0,An=!0,vn=!1,kn=!1,nr=0,ur=0,Qn=0,kr=0,$r=0;function Vr(){Fn=!0,An=!0,Tn=!0,Jt=!0}function Fr(ai){An=!0,Jt=!0;const{property:fi}=ai;"min"!==fi&&"mag"!==fi&&"mipmapFilter"!==fi||(Tn=!0)}function di(){Tn=!0,Jt=!0}g.on("change",Fr),g.on("resize",Vr),g.on("update",di),this.update=()=>{if(!Jt)return;Ot&&a.bindTexture(H,Ot);const{width:ai,height:fi}=g;Fn&&(!Wt||kr===ai&&$r===fi||(Ot&&a.deleteTexture(Ot),Ot=a.createTexture(),a.bindTexture(H,Ot)),vn=u||qs(ai)&&qs(fi),vn?Q?.[0].length?(ur=Q[0].reduce((bi,{level:Mi})=>Math.min(bi,Mi),1/0),Qn=Q[0].reduce((bi,{level:Mi})=>Math.max(bi,Mi),ur),nr=Qn-ur+1):(nr=ut(ai,fi),ur=0,Qn=nr-1):(nr=1,ur=0,Qn=0),Wt&&(a.texStorage2D(H,nr,Dt,ai,fi),kr=ai,$r=fi));const Or={...Ch(a,g,nr),target:H,auto:!1};if(u&&(Or.minLod=ur,Or.maxLod=Qn),An&&((0,la.setTextureParameters)(a,Ot,Or),g.anisotropy>1)){const bi=a.getExtension("EXT_texture_filter_anisotropic");if(bi){const Mi=Math.min(a.getParameter(bi.MAX_TEXTURE_MAX_ANISOTROPY_EXT),g.anisotropy);a.texParameterf(H,bi.TEXTURE_MAX_ANISOTROPY_EXT,Mi)}}if(Tn){for(let bi=0;bi<te.length;bi++){const Mi=te[bi],go=Q?.[bi],fo=O?Au[bi]:a.TEXTURE_2D;if(go){kn=!0;for(let Yo=0;Yo<nr;Yo++){const{src:xi,width:wr,height:ci,level:oo}=go[Yo];Me.compressed?Wt?a.compressedTexSubImage2D(fo,oo,0,0,wr,ci,Dt,xi):a.compressedTexImage2D(fo,oo,Dt,wr,ci,0,xi):Wt?a.texSubImage2D(fo,oo,0,0,wr,ci,Pe,Ft,xi,0):a.texImage2D(fo,oo,Dt,wr,ci,0,Pe,Ft,xi)}if(!u){const Yo=go[go.length-1];let{width:xi,height:wr,level:ci}=Yo;for(;xi>1||wr>1;)if(xi=Math.ceil(xi/2),wr=Math.ceil(wr/2),ci++,Me.compressed){const oo=Me.size(xi,wr),ca=new Uint8Array(oo);a.compressedTexImage2D(fo,ci,Dt,xi,wr,0,ca)}else a.texImage2D(fo,ci,Dt,xi,wr,0,Pe,Ft,null)}}else if(Mi instanceof HTMLImageElement||Mi instanceof HTMLCanvasElement||Mi instanceof HTMLVideoElement||Mh&&Mi instanceof ImageData||Cf&&Mi instanceof ImageBitmap)Wt?a.texSubImage2D(fo,0,0,0,ai,fi,Pe,Ft,Mi):a.texImage2D(fo,0,Dt,Pe,Ft,Mi);else{if(!U(Mi))throw a.deleteTexture(Ot),new Error("Unknown texture source");Me.compressed?Wt?a.compressedTexSubImage2D(fo,0,0,0,ai,fi,Dt,Mi):a.compressedTexImage2D(fo,0,Dt,ai,fi,0,Mi):Wt?a.texSubImage2D(fo,0,0,0,ai,fi,Pe,Ft,Mi,0):a.texImage2D(fo,0,Dt,ai,fi,0,Pe,Ft,Mi)}}vn&&!kn&&Or.min!==a.LINEAR&&Or.min!==a.NEAREST&&a.generateMipmap(H)}a.bindTexture(H,null),Fn=!1,An=!1,Tn=!1,Jt=!1},this.destroy=()=>{g.off("change",Fr),g.off("resize",Vr),g.off("update",di),a.deleteTexture(Ot)},Object.defineProperties(this,{webglTexture:{get:()=>Ot}})}}class yg extends le{constructor(a){super(),d(this,"get",void 0),d(this,"release",void 0);const g=new lo({key:(O,H)=>H,create:(O,H)=>H?(this.emit("create",{texture:H}),new Mu(a,H)):null,release:O=>{O&&(O.destroy(),this.emit("release",{binding:O}))}});this.get=g.get,this.release=g.release;const u=this.destroy;this.destroy=()=>{g.destroy(),u()}}}class tm extends le{constructor(a){super(),d(this,"get",void 0),d(this,"release",void 0);const g=new lo({key:(O,H)=>H,create:(O,H)=>(this.emit("create",{texture:H}),new Mu(a,H)),release:O=>{O.destroy(),this.emit("release",{binding:O})}});this.get=g.get,this.release=g.release;const u=this.destroy;this.destroy=()=>{g.destroy(),u()}}}class Vd extends le{constructor(a){super(),d(this,"get",void 0),d(this,"release",void 0);const g=new Map,u=new Y,O=new Map,H=new lo({key:(Me,Ee,Pe)=>((rt,Dt)=>{let Ft=u.get(rt,Dt);return Ft||(Ft=Symbol(),u.set(rt,Dt,Ft),O.set(Ft,{geometry:rt,morphIndex:Dt})),Ft})(Ee,Pe),create:(Me,Ee,Pe)=>{if(!Ee.attributes)return null;const{position:rt,normal:Dt,tangent:Ft,...Wt}=Ee.attributes;let Ot=g.get(Ee);if(!Ot){const An={...Wt};if(Ee.indices&&(An.indices=Ee.indices),Ot={indicesBuffer:void 0,numElements:void 0,elementType:void 0,attribBuffers:void 0,morphAttribBuffers:new Map,keysUsed:new Set},Object.keys(An).length){const vn=(0,la.createBufferInfoFromArrays)(a,An),{indices:kn,numElements:nr,elementType:ur,attribs:Qn}=vn;Object.assign(Ot,{indicesBuffer:kn,numElements:nr,elementType:ur,attribBuffers:Qn})}g.set(Ee,Ot),Ee.on("change",Q)}const Jt=Ot.attribBuffers?{...Ot.attribBuffers}:{},Fn=Pe>=0&&Ot.morphAttribBuffers.get(Pe);if(Fn){const{position:An,normal:vn,tangent:kn}=Fn;An&&(Jt.position=An),vn&&(Jt.normal=vn),kn&&(Jt.tangent=kn)}else{const An=Pe<0?Ee.attributes:Ee.morphKeys[Pe].attributes;for(const[vn,kn]of Object.entries(An))Jt[vn]||(Jt[vn]=kn)}if(Pe>=0){const An=Ot.morphAttribBuffers.get(Pe+1)??Ee.morphKeys[Pe+1].attributes;An.position&&(Jt.morphPosition=An.position),An.normal&&(Jt.morphNormal=An.normal),An.tangent&&(Jt.morphTangent=An.tangent),Ot.keysUsed.add(Pe)}const Tn=(0,la.createBufferInfoFromArrays)(a,Jt,{indices:Ot?.indicesBuffer,elementType:Ot?.elementType,numElements:Ot?.numElements});return Ot.morphAttribBuffers.set(Pe,{position:Tn.attribs.position,normal:Tn.attribs.normal,tangent:Tn.attribs.tangent}),Pe>=0&&Tn.attribs.morphPosition&&Ot.morphAttribBuffers.set(Pe+1,{position:Tn.attribs.morphPosition,normal:Tn.attribs.morphNormal,tangent:Tn.attribs.morphTangent}),this.emit("create",{geometry:Ee,morphIndex:Pe}),Tn},release:(Me,Ee)=>{const{geometry:Pe,morphIndex:rt}=O.get(Ee);u.delete(Pe,rt),O.delete(Ee);const Dt=g.get(Pe);if(Dt){const{keysUsed:Ft}=Dt;Ft.delete(rt);for(let Wt=rt,Ot=rt+1;Wt<=Ot;Wt++)if(!Ft.has(Wt)&&!Ft.has(Wt-1)){const Jt=Dt.morphAttribBuffers.get(Wt);if(Jt){for(const Fn of Object.values(Jt))Fn?.buffer&&a.deleteBuffer(Fn.buffer);Dt.morphAttribBuffers.delete(Wt)}}if(!Dt.morphAttribBuffers.size){Dt.indicesBuffer&&a.deleteBuffer(Dt.indicesBuffer);for(const Wt of Object.values(Dt.attribBuffers||{}))a.deleteBuffer(Wt.buffer)}}Dt?.morphAttribBuffers.size||(g.delete(Pe),Pe.off("change",Q)),this.emit("release",{bufferInfo:Me,geometry:Pe})}});function te(Me,Ee){const Pe=g.get(Me);for(const Dt in Pe.attribBuffers)Object.prototype.hasOwnProperty.call(Pe.attribBuffers,Dt)&&(0,la.setAttribInfoBufferFromArray)(a,Pe.attribBuffers[Dt],Me.attributes[Dt].data);const rt=Pe?.morphAttribBuffers.get(Ee);if(rt){const Dt=Ee<0?Me.attributes:Me.morphKeys[Ee].attributes;for(const Ft in rt)Object.prototype.hasOwnProperty.call(rt,Ft)&&rt[Ft]&&(0,la.setAttribInfoBufferFromArray)(a,rt[Ft],Dt[Ft].data)}}function Q(Me){const{geometry:Ee,property:Pe,morphIndex:rt}=Me;"attributes"===Pe?te(Ee,-1):"morphKey"===Pe&&te(Ee,rt)}this.get=(Me,Ee,Pe=-1)=>H.get(Me,Ee,Pe),this.release=(Me,Ee,Pe=-1)=>H.release(Me,Ee,Pe);const be=this.destroy;this.destroy=()=>{H.destroy(),be()}}}class eu extends le{constructor(a){super(),d(this,"get",void 0),d(this,"release",void 0);const g=a instanceof WebGLRenderingContext&&a.getExtension("OES_vertex_array_object"),u=Tl(a)?Q=>a.deleteVertexArray(Q):g?Q=>g.deleteVertexArrayOES(Q):()=>{},O=new Y,H=new lo({key:(Q,be,Me)=>((Ee,Pe)=>{let rt=O.get(Ee,Pe);return rt||(rt=Symbol(),O.set(Ee,Pe,rt)),rt})(be,Me),create:(Q,be,Me)=>Q&&be&&Me?(this.emit("create",{programInfo:be,bufferInfo:Me}),(0,la.createVertexArrayInfo)(a,be,Me)):null,release:(Q,be,Me,Ee)=>{Q&&u(Q.vertexArrayObject),O.delete(Me,Ee),Q&&this.emit("release",{vertexArrayInfo:Q})}});this.get=H.get,this.release=H.release;const te=this.destroy;this.destroy=()=>{H.destroy(),te()}}}class Dh extends le{constructor(a,g){function u(te){const Q=te.material&&za(te.material),be=Q?.options(te)||null;return g?g(te,be):be}super(),d(this,"get",void 0),d(this,"release",void 0);const O=new lo({key:te=>{const Q=te.material?.type||"",be=Q&&u(te),Me=te.material&&za(te.material);return be?Q+"::"+Me.key(be):""},create:te=>{if(!te||!te.material)return null;const Q=u(te),be=za(te.material).shader(Q);if(!be)return null;const{frag:Me,vert:Ee}=be,Pe=(0,la.createProgramInfo)(a,[Ee,Me]);return this.emit("create",{programInfo:Pe}),Pe},release:te=>{te&&a.deleteProgram(te.program),this.emit("release",{programInfo:te})},timeout:18e5});this.get=te=>O.get(te),this.release=te=>O.release(te);const H=this.destroy;this.destroy=()=>{O.destroy(),H()}}}const ql={[it.points]:0,[it.lines]:1,[it.lineLoop]:2,[it.lineStrip]:3,[it.triangles]:4,[it.triangleStrip]:5,[it.triangleFan]:6};function Nc(f,a,g){return void 0===a?f:"function"==typeof a?a(g):a}function hc(f,a,g={}){const{beforeRender:u,glState:O=f}=g,H=!Tl(f)&&f.getExtension("OES_vertex_array_object")||null,te=Tl(f)||!!H;return function(Q,be,...Me){let Ee=null,Pe=null,rt=null,Dt=!1;O.frontFace(f.CCW);const Ft=[];for(const Wt of Q){const Ot=Nc(Wt.programInfo,g.programInfo,Wt),Jt=Nc(Wt.bufferInfo,g.bufferInfo,Wt),Fn=Nc(Wt.vertexArrayInfo,g.vertexArrayInfo,Wt),Tn=Nc(Wt.uniforms,g.uniforms,Wt),An=!!Nc(Wt.clockwise,g.clockwise,Wt),vn=Ot!==Ee;if(vn&&(Ee=Ot,O.useProgram(Ot.program),be&&((0,la.setUniforms)(Ot,be),Ft.length=0)),An!==Dt&&(Dt=An,O.frontFace(An?f.CW:f.CCW)),Fn&&te&&Ot===Wt.programInfo?Fn!==rt&&((0,la.setBuffersAndAttributes)(f,Ot,Fn),rt=Fn):(vn||Jt!==Pe)&&(Pe=Jt,(0,la.setBuffersAndAttributes)(f,Ot,Jt)),u&&u(Wt,Ot,Fn||Jt,Tn,...Me),Array.isArray(Tn))for(let kn=0;kn<Tn.length;kn++){const nr=Tn[kn];(kn>=Ft.length||nr!==Ft[kn])&&(Ft.length=kn,Ft[kn]=nr,nr&&(0,la.setUniforms)(Ot,nr))}else Tn&&(0,la.setUniforms)(Ot,Tn);a(Wt,Ot,Fn||Jt,Tn,...Me)}te&&(H?H.bindVertexArrayOES(null):f.bindVertexArray(null))}}function nm(f,a){return hc(f,(g,u,O)=>{0!==g.count&&(0,la.drawBufferInfo)(f,O,ql[g.topology],g.count,g.offset)},a)}const jd=f=>({blurCoefficient:f.blur??.1,texelOffset:new Float32Array([0,0])}),nd={passes:[{shader:"blur",uniforms:jd,sourceTexture:"source",resize(f,a){f.texelOffset[0]=1/a}},{shader:"blur",uniforms:jd,sourceTexture:"source",resize(f,a,g){f.texelOffset[1]=1/g}}],shaders:{blur:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0), MAX_BLUR);\n\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\tfloat count = 0.0;\n\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tcolor /= count;\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},Af=f=>({focusStart:f.focusStart??90*Nt,focusEnd:f.focusEnd??130*Nt,blurCoefficient:f.blur??.1,texelOffset:new Float32Array([0,0]),depthRange:new Float32Array([0,0])}),Hl={passes:[{shader:"dof",uniforms:Af,sourceTexture:"source",depthTexture:"depthTex",resize(f,a){f.texelOffset[0]=1/a}},{shader:"dof",uniforms:Af,sourceTexture:"source",depthTexture:"depthTex",resize(f,a,g){f.texelOffset[1]=1/g}}],camera(f,a){f.depthRange[0]=a.near,f.depthRange[1]=a.far},shaders:{dof:"\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\t#define MAX_BLUR 20.0\n\t\tvarying vec2 uv;\n\t\tuniform float focusStart;\n\t\tuniform float focusEnd;\n\t\tuniform float blurCoefficient;\n\t\tuniform sampler2D source;\n\t\tuniform sampler2D depthTex;\n\t\tuniform vec2 texelOffset;\n\t\tuniform vec2 depthRange;\n\t\tvoid main() {\n\t\t\t\n\t\t\tfloat ndc = 2.0 * texture2D(depthTex, uv).r - 1.0;\n\t\t\tfloat depth = -(2.0 * depthRange.y * depthRange.x) / (ndc * (depthRange.y - depthRange.x) - depthRange.y - depthRange.x);\n\t\t\tfloat deltaDepth = max(depth - focusEnd, 0.0) + max(focusStart - depth, 0.0);\n\t\t\t\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tif (ndc < 1.0 && deltaDepth > 0.0) {\n\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * deltaDepth), MAX_BLUR);\n\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\tfloat count = 0.0;\n\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tcolor /= count;\n\t\t\t} else {\n\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t}\n\t\t\tgl_FragColor = color;\n\t\t}".replace(/\n\t{2}/g,"\n").trim()}},Th=f=>({blurParams:new Float32Array([f.center?.[0]||0,f.center?.[1]||0,f.radius??.2,f.blur??.1]),texelParams:new Float32Array([0,0,0])}),rd={passes:[{shader:"radialBlur",uniforms:Th,sourceTexture:"source",resize(f,a,g){const u=a/g;f.texelParams[0]=u/a,f.texelParams[2]=u}},{shader:"radialBlur",uniforms:Th,sourceTexture:"source",resize(f,a,g){const u=a/g;f.texelParams[1]=1/g,f.texelParams[2]=u}}],shaders:{radialBlur:"\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\t#define MAX_BLUR 20.0\n\t\t\tvarying vec2 uv;\n\t\t\tuniform sampler2D source;\n\t\t\tuniform vec4 blurParams;\n\t\t\tuniform vec3 texelParams;\n\t\t\tvoid main() {\n\t\t\t\tvec2 center = blurParams.xy;\n\t\t\t\tfloat radius = blurParams.z;\n\t\t\t\tfloat blurCoefficient = blurParams.w;\n\t\t\t\tvec2 texelOffset = texelParams.xy;\n\t\t\t\tfloat aspect = texelParams.z;\n\t\t\t\tvec2 pos = uv * 2.0 - 1.0;\n\t\t\t\tpos.x *= aspect;\n\t\t\t\tfloat r = length(pos - center);\n\t\t\t\tfloat deltaR = max(r - radius, 0.0);\n\t\t\t\t\n\t\t\t\tvec4 color = vec4(0.0);\n\t\t\t\tif (deltaR > 0.0) {\n\t\t\t\t\tfloat blurRadius = min(floor(blurCoefficient * 100.0 * deltaR), MAX_BLUR);\n\t\t\t\t\tfloat halfBlur = blurRadius * 0.5;\n\t\t\t\t\tfloat count = 0.0;\n\t\t\t\t\tfor (float i = 0.0; i <= MAX_BLUR; ++i) {\n\t\t\t\t\t\tif (i > blurRadius) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolor += texture2D(source, uv + ((i - halfBlur) * texelOffset));\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t\tcolor /= count;\n\t\t\t\t} else {\n\t\t\t\t\tcolor = texture2D(source, uv);\n\t\t\t\t}\n\t\t\t\tgl_FragColor = color;\n\t\t\t}".replace(/\n\t{3}/g,"\n").trim()}},Jl=new Map([[10,[1.5,3,12]],[11,[1,1.5,3,12]],[12,[1,1.5,2,4,12]],[13,[1,1.5,2,2,4,12]],[14,[1,1.5,2,2,2,4,12]],[15,[1,1.5,2,2,2,2,4,12]],[20,[1.5,2,8]],[21,[1,1.5,2,8]],[22,[1,1.5,2,2,8]],[23,[1,1.5,2,2,2,8]],[24,[1,1.5,2,2,2,3,8]],[25,[1,1.5,2,2,2,2,4,8]],[26,[1,1.5,2,2,2,2,2,4,8]],[27,[1,1.5,2,2,2,2,2,2,4,8]],[28,[1,1.5,2,2,2,2,2,2,2,4,8]],[29,[1,1.5,2,2,2,2,2,2,2,2,4,8]],[39,[1,1,1,1,1,1.5,2,2,2,2,4,8]]]),Mf={passes:[{shader:"fxaa",uniforms:()=>({texelOffset:new Float32Array([0,0])}),sourceTexture:"source"}],shaders:{fxaa:function(f=25){const a=Jl.get(f);if(!a)throw new Error("Undefined FXAA quality preset "+f);const[g,u,...O]=a;return`\n\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\tprecision highp float;\n\t\t#else\n\t\tprecision mediump float;\n\t\t#endif\n\n\t\tuniform sampler2D source;\n\t\tuniform vec2 texelOffset;\n\n\t\tvarying vec2 uv;\n\n\t\tconst float fxaaQualitySubpix = 0.75;\n\t\tconst float fxaaQualityEdgeThreshold = 0.125;\n\t\tconst float fxaaQualityEdgeThresholdMin = 0.0;\n\n\t\t#define FxaaBool bool\n\t\t#define FxaaFloat float\n\t\t#define FxaaFloat2 vec2\n\t\t#define FxaaFloat3 vec3\n\t\t#define FxaaFloat4 vec4\n\t\t#define FxaaHalf float\n\t\t#define FxaaHalf2 vec2\n\t\t#define FxaaHalf3 vec3\n\t\t#define FxaaHalf4 vec4\n\t\t#define FxaaInt2 vec2\n\t\t#define FxaaTex sampler2D\n\n\t\t#define FxaaSat(x) clamp(x, 0.0, 1.0)\n\t\t#define FxaaTexTop(t, p) texture2D(t, p)\n\t\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n\n\t\t#define lumaM rgbyM.y\n\n\t\t#define FXAA_QUALITY_P0 ${Re(g)}\n\t\t#define FXAA_QUALITY_P1 ${Re(u)}\n\n\t\tFxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n\n\t\tFxaaFloat4 FxaaPixelShader(\n\t\t\n\t\tFxaaFloat2 pos,\n\t\t\n\t\tFxaaTex tex,\n\t\t\n\t\tFxaaFloat2 fxaaQualityRcpFrame,\n\t\t\n\t\tFxaaFloat fxaaQualitySubpix,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThreshold,\n\t\t\n\t\tFxaaFloat fxaaQualityEdgeThresholdMin\n\t\t) {\n\t\t\t\n\t\t\tFxaaFloat2 posM;\n\t\t\tposM.x = pos.x;\n\t\t\tposM.y = pos.y;\n\t\t\tFxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n\t\t\tFxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat maxSM = max(lumaS, lumaM);\n\t\t\tFxaaFloat minSM = min(lumaS, lumaM);\n\t\t\tFxaaFloat maxESM = max(lumaE, maxSM);\n\t\t\tFxaaFloat minESM = min(lumaE, minSM);\n\t\t\tFxaaFloat maxWN = max(lumaN, lumaW);\n\t\t\tFxaaFloat minWN = min(lumaN, lumaW);\n\t\t\tFxaaFloat rangeMax = max(maxWN, maxESM);\n\t\t\tFxaaFloat rangeMin = min(minWN, minESM);\n\t\t\tFxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n\t\t\tFxaaFloat range = rangeMax - rangeMin;\n\t\t\tFxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n\t\t\tFxaaBool earlyExit = range < rangeMaxClamped;\n\t\t\t\n\t\t\tif(earlyExit)\n\t\t\t\treturn rgbyM;\n\t\t\t\n\t\t\tFxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n\t\t\tFxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\n\t\t\tFxaaFloat lumaNS = lumaN + lumaS;\n\t\t\tFxaaFloat lumaWE = lumaW + lumaE;\n\t\t\tFxaaFloat subpixRcpRange = 1.0/range;\n\t\t\tFxaaFloat subpixNSWE = lumaNS + lumaWE;\n\t\t\tFxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n\t\t\tFxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n\t\t\t\n\t\t\tFxaaFloat lumaNESE = lumaNE + lumaSE;\n\t\t\tFxaaFloat lumaNWNE = lumaNW + lumaNE;\n\t\t\tFxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n\t\t\tFxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n\t\t\t\n\t\t\tFxaaFloat lumaNWSW = lumaNW + lumaSW;\n\t\t\tFxaaFloat lumaSWSE = lumaSW + lumaSE;\n\t\t\tFxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n\t\t\tFxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n\t\t\tFxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n\t\t\tFxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n\t\t\tFxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n\t\t\tFxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n\t\t\t\n\t\t\tFxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n\t\t\tFxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n\t\t\tFxaaBool horzSpan = edgeHorz >= edgeVert;\n\t\t\tFxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n\t\t\t\n\t\t\tif(!horzSpan) lumaN = lumaW;\n\t\t\tif(!horzSpan) lumaS = lumaE;\n\t\t\tif(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n\t\t\tFxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n\t\t\t\n\t\t\tFxaaFloat gradientN = lumaN - lumaM;\n\t\t\tFxaaFloat gradientS = lumaS - lumaM;\n\t\t\tFxaaFloat lumaNN = lumaN + lumaM;\n\t\t\tFxaaFloat lumaSS = lumaS + lumaM;\n\t\t\tFxaaBool pairN = abs(gradientN) >= abs(gradientS);\n\t\t\tFxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n\t\t\tif(pairN) lengthSign = -lengthSign;\n\t\t\tFxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n\t\t\t\n\t\t\tFxaaFloat2 posB;\n\t\t\tposB.x = posM.x;\n\t\t\tposB.y = posM.y;\n\t\t\tFxaaFloat2 offNP;\n\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\t\t\tif(!horzSpan) posB.x += lengthSign * 0.5;\n\t\t\tif( horzSpan) posB.y += lengthSign * 0.5;\n\t\t\t\n\t\t\tFxaaFloat2 posN;\n\t\t\tposN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n\t\t\tposN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat2 posP;\n\t\t\tposP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n\t\t\tposP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n\t\t\tFxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n\t\t\tFxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n\t\t\tFxaaFloat subpixE = subpixC * subpixC;\n\t\t\tFxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n\t\t\t\n\t\t\tif(!pairN) lumaNN = lumaSS;\n\t\t\tFxaaFloat gradientScaled = gradient * 1.0/4.0;\n\t\t\tFxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n\t\t\tFxaaFloat subpixF = subpixD * subpixE;\n\t\t\tFxaaBool lumaMLTZero = lumaMM < 0.0;\n\t\t\t\n\t\t\tlumaEndN -= lumaNN * 0.5;\n\t\t\tlumaEndP -= lumaNN * 0.5;\n\t\t\tFxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tFxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n\t\t\tFxaaBool doneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n\t\t\t${function H(te){if(!te.length)return"";const[Q,...be]=te,Me=Re(Q);return`if(doneNP) {\n\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\tif(!doneN) posN.x -= offNP.x * ${Me};\n\t\t\tif(!doneN) posN.y -= offNP.y * ${Me};\n\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\tif(!doneP) posP.x += offNP.x * ${Me};\n\t\t\tif(!doneP) posP.y += offNP.y * ${Me};\n\t\t\t${H(be)}\n\t\t}\n`}(O)}\n\t\t\tFxaaFloat dstN = posM.x - posN.x;\n\t\t\tFxaaFloat dstP = posP.x - posM.x;\n\t\t\tif(!horzSpan) dstN = posM.y - posN.y;\n\t\t\tif(!horzSpan) dstP = posP.y - posM.y;\n\t\t\t\n\t\t\tFxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLength = (dstP + dstN);\n\t\t\tFxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n\t\t\tFxaaFloat spanLengthRcp = 1.0/spanLength;\n\t\t\t\n\t\t\tFxaaBool directionN = dstN < dstP;\n\t\t\tFxaaFloat dst = min(dstN, dstP);\n\t\t\tFxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n\t\t\tFxaaFloat subpixG = subpixF * subpixF;\n\t\t\tFxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n\t\t\tFxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n\t\t\t\n\t\t\tFxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n\t\t\tFxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n\t\t\tif(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n\t\t\tif( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n\t\t\treturn FxaaTexTop(tex, posM);\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\t\tuv,\n\t\t\t\t\tsource,\n\t\t\t\t\ttexelOffset,\n\t\t\t\t\tfxaaQualitySubpix,\n\t\t\t\t\tfxaaQualityEdgeThreshold,\n\t\t\t\t\tfxaaQualityEdgeThresholdMin);\n\t\t}\n\t`.replace(/\n\t{2}/g,"\n").trim()}(25)}},Du=["VERTEX_SHADER","FRAGMENT_SHADER"],Df=/ERROR:\s*\d+:(\d+)/gi;function Tf(f,a){const g=a.map((O,H)=>{const Q=f.createShader(f[Du[H]]);return f.shaderSource(Q,O),f.compileShader(Q),Q}),u=f.createProgram();if(g.forEach(O=>{f.attachShader(u,O)}),f.linkProgram(u),!f.getProgramParameter(u,f.LINK_STATUS)){let O=!1;if(g.forEach((H,te)=>{if(!f.getShaderParameter(H,f.COMPILE_STATUS)){O=!0;const Q=f.getShaderInfoLog(H),be="Error compiling: "+Du[te]+":\n"+Q+"\n"+function(Me,Ee=""){const Pe=[...Ee.matchAll(Df)],rt=new Map(Pe.map((Dt,Ft)=>{const Wt=parseInt(Dt[1],10),Ot=Pe[Ft+1];return[Wt-1,Ee.substring(Dt.index,Ot?Ot.index:Ee.length)]}));return Me.split("\n").map((Dt,Ft)=>{const Wt=rt.get(Ft);return`${Ft+1}: ${Dt}${Wt?`\n\n^^^ ${Wt}`:""}`}).join("\n")}(f.getShaderSource(H));console.error(be)}f.deleteShader(H)}),!O){const H=f.getProgramInfoLog(u);console.error(`Error in program linking: ${H}`)}return f.deleteProgram(u),g.forEach(H=>{f.deleteShader(H)}),null}return(0,la.createProgramInfoFromProgram)(f,u)}const Sh={blur:nd,dof:Hl,radialBlur:rd,fxaa:Mf};function Tu(f){f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE)}class pc{constructor(a,g){d(this,"enabled",!0),d(this,"setPipeline",void 0),d(this,"begin",void 0),d(this,"render",void 0),d(this,"destroy",void 0);const u=g?.glState||a,O=Tl(a),H=O||!!a.getExtension("WEBGL_depth_texture")||!!a.getExtension("WEBKIT_WEBGL_depth_texture"),te=a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT,Q=(0,la.createBufferInfoFromArrays)(a,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),be=new Y,Me=[],Ee=[],Pe=O&&a.getParameter(a.MAX_SAMPLES)||1;let rt=null,Dt=0,Ft=0,Wt=!0,Ot=!1,Jt=null,Fn=null,Tn=null,An=null,vn=null,kn=null;function nr(){for(;Me.length;){const{frameBuffer:Vr,texture:Fr}=Me.pop();a.deleteFramebuffer(Vr),a.deleteTexture(Fr)}}function ur(){Jt&&(a.deleteFramebuffer(Jt),Jt=null),An&&(a.deleteFramebuffer(An),An=null),Fn&&(a.deleteRenderbuffer(Fn),Fn=null),vn&&(a.deleteRenderbuffer(vn),vn=null),Tn&&(a.deleteTexture(Tn),Tn=null),kn&&(a.deleteTexture(kn),kn=null),nr(),be.forEach(Vr=>{a.deleteProgram(Vr.program)}),be.clear()}const Qn=()=>{this.setPipeline(rt)};a.canvas.addEventListener("webglcontextlost",ur,!1),a.canvas.addEventListener("webglcontextrestored",Qn,!1);let kr=0;const $r=nm(a,{beforeRender(Vr,Fr,di,ai){const fi=Me.length?(kr+1)%Me.length:0;Vr.sourceTexture&&(ai[Vr.sourceTexture]=Vr.first?Tn:Me[kr].texture),Vr.depthTexture&&(ai[Vr.depthTexture]=kn),a.bindFramebuffer(a.FRAMEBUFFER,Vr.last?null:Me[fi].frameBuffer),u.viewport(0,0,Dt,Ft),u.depthMask(!0),a.clear(te),u.depthMask(!1),kr=fi},glState:u});this.setPipeline=Vr=>{rt=Vr,Ee.length=0,Wt=!0,Ot=H&&!O,rt?.forEach(Fr=>{const di=Sh[Fr.effect];if(!di)return void console.warn("Unknown postprocess effect: "+Fr.effect);if("fxaa"===Fr.effect&&O)return;const ai=di.passes.some(({depthTexture:fi})=>!!fi);!ai||H?(ai&&(Ot=!0),di.passes.forEach(fi=>{let Or=be.get(Fr.effect,fi.shader);Or||(Or=Tf(a,["\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n\tuv = position * vec2(0.5) + vec2(0.5);\n\tgl_Position = vec4(position, 0.0, 1.0);\n}",di.shaders[fi.shader]]),be.set(Fr.effect,fi.shader,Or));const bi="function"==typeof fi.uniforms?fi.uniforms(Fr):Object.assign({},fi.uniforms),Mi=fi.resize||di.resize;Mi&&Mi(bi,Dt,Ft);const go=fi.camera||di.camera,{sourceTexture:fo,depthTexture:Yo}=fi;Ee.push({bufferInfo:Q,programInfo:Or,uniforms:bi,topology:it.triangles,resize:Mi,camera:go,sourceTexture:fo,depthTexture:Yo,first:!1,last:!1})})):console.warn("Unsupported postprocess effect: "+Fr.effect)}),Ee.length&&(Ee[0].first=!0,Ee[Ee.length-1].last=!0)},this.begin=()=>{if(!Ee.length||!this.enabled)return;const Vr=a.drawingBufferWidth,Fr=a.drawingBufferHeight,di=Dt!==Vr||Ft!==Fr;(di||Wt)&&(Dt=Vr,Ft=Fr,Wt=!1,Jt||(Jt=a.createFramebuffer(),O&&(Fn=a.createRenderbuffer(),An=a.createFramebuffer()),Tn=a.createTexture()),Ot?(kn||(kn=a.createTexture()),O||(a.deleteRenderbuffer(vn),vn=null)):kn&&(a.deleteTexture(kn),kn=null),vn||Ot&&!O||(vn=a.createRenderbuffer()),a.bindFramebuffer(a.FRAMEBUFFER,Jt),O?(a.bindRenderbuffer(a.RENDERBUFFER,vn),a.renderbufferStorageMultisample(a.RENDERBUFFER,Pe,a.DEPTH_COMPONENT24,Dt,Ft),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,vn),a.bindRenderbuffer(a.RENDERBUFFER,Fn),a.renderbufferStorageMultisample(a.RENDERBUFFER,Pe,a.RGBA8,Dt,Ft),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,Fn),a.bindRenderbuffer(a.RENDERBUFFER,null),a.bindFramebuffer(a.FRAMEBUFFER,An),a.bindTexture(a.TEXTURE_2D,Tn),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,Dt,Ft,0,a.RGBA,a.UNSIGNED_BYTE,null),Tu(a),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Tn,0),Ot&&(a.bindTexture(a.TEXTURE_2D,kn),a.texImage2D(a.TEXTURE_2D,0,a.DEPTH_COMPONENT24,Dt,Ft,0,a.DEPTH_COMPONENT,a.UNSIGNED_INT,null),Tu(a),a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,kn,0))):(a.bindTexture(a.TEXTURE_2D,Tn),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,Dt,Ft,0,a.RGBA,a.UNSIGNED_BYTE,null),Tu(a),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Tn,0),a.bindTexture(a.TEXTURE_2D,null),Ot?(a.bindTexture(a.TEXTURE_2D,kn),a.texImage2D(a.TEXTURE_2D,0,a.DEPTH_COMPONENT,Dt,Ft,0,a.DEPTH_COMPONENT,a.UNSIGNED_INT,null),Tu(a),a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,kn,0),a.bindTexture(a.TEXTURE_2D,null)):(a.bindRenderbuffer(a.RENDERBUFFER,vn),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,Dt,Ft),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,vn),a.bindRenderbuffer(a.RENDERBUFFER,null))),Ee.forEach(ai=>{ai.resize&&ai.resize(ai.uniforms,Dt,Ft)}),di&&nr()),a.bindFramebuffer(a.FRAMEBUFFER,Jt)},this.render=Vr=>{if(!Ee.length||!this.enabled)return;const Fr=Math.min(2,Ee.length-1);for(let di=Me.length;di<Fr;di++){const ai=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,ai);const fi=a.createTexture();a.bindTexture(a.TEXTURE_2D,fi),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,Dt,Ft,0,a.RGBA,a.UNSIGNED_BYTE,null),Tu(a),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,fi,0),a.bindTexture(a.TEXTURE_2D,null),Me.push({frameBuffer:ai,texture:fi})}if(Ee.forEach(di=>{di.camera&&di.camera(di.uniforms,Vr)}),kr=0,O){const di=Ot?te:a.COLOR_BUFFER_BIT;a.bindFramebuffer(a.READ_FRAMEBUFFER,Jt),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,An),a.blitFramebuffer(0,0,Dt,Ft,0,0,Dt,Ft,di,a.NEAREST),a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null)}u.disable(a.CULL_FACE),u.disable(a.DEPTH_TEST),$r(Ee),a.bindFramebuffer(a.FRAMEBUFFER,null)},this.destroy=()=>{a.canvas.removeEventListener("webglcontextlost",ur,!1),a.canvas.removeEventListener("webglcontextrestored",Qn,!1),ur()}}}const id=["lightMap","reflectionMap"];class Sf extends le{constructor(a,g){super(),d(this,"fog",void 0),d(this,"lightMap",void 0),d(this,"reflectionMap",void 0),d(this,"release",void 0),d(this,"restore",void 0);const u={lightMap:null,reflectionMap:null};["lightMap","reflectionMap"].forEach(te=>{const Q={},be=te+"Intensity",Me=te+"MaxMipLevel";a[be]=0,a[Me]=0;let Ee="world";Object.defineProperties(Q,{texture:{get:()=>u[te],set:Pe=>{const rt=u[te],Dt=!!rt;if(rt&&(g.release(te,rt),a[te]=null),u[te]=Pe||null,Pe){const Ft=g.get(te,Pe);Ft.update(),a[te]=Ft.webglTexture}Dt!==!!Pe&&this.emit("change",{property:te})}},intensity:{get:()=>a[be],set:Pe=>{a[be]=Pe}},mipLevels:{get:()=>a[Me],set:Pe=>{a[Me]=Math.max(0,Pe-1)}},space:{get:()=>Ee,set:Pe=>{Pe!==Ee&&(Ee=Pe,this.emit("change",{property:te}))}}}),Object.defineProperty(this,te,{writable:!1,value:Q})});const O={mode:"",color:new Float32Array([1,1,1]),density:.01,start:0,end:1e3,min:0,max:1};Object.keys(O).forEach(te=>{a["fog."+te]=O[te]}),Object.defineProperty(this,"fog",{writable:!1,value:new Proxy(O,{set:(te,Q,be)=>{let Me=!1;return"color"===Q?((0,m.copy)(a["fog.color"],be),Me=!0):Q in te&&te[Q]!==be&&(te[Q]=be,a["fog."+Q]=be,Me=!0),Me&&this.emit("change",{property:"fog",detail:Q}),!0}})}),this.release=()=>{id.forEach(te=>{const Q=u[te];Q&&g.release(te,Q)})},this.restore=()=>{id.forEach(te=>{const Q=u[te];if(Q){const be=g.get(te,Q);be.update(),a[te]=be.webglTexture}})};const H=this.destroy;this.destroy=()=>{this.release(),H()}}}const Su={antialias:!0,powerPreference:"high-performance"};function Zl(f,a){const{contextName:g,...u}=a||{},O=g?[g]:["webgl2","webgl","experimental-webgl"];let H=null,te="";function Q(Me){te=Me.statusMessage||""}f.addEventListener("webglcontextcreationerror",Q);for(let Me=0;Me<O.length;++Me)if(H=f.getContext(O[Me],{...Su,...u}),H){(0,la.addExtensionsToContext)(H);break}if(f.removeEventListener("webglcontextcreationerror",Q),!H)throw new Error("Unable to initialize WebGL: "+(te||"unknown error"));return H}function du(f,a){const g=Ce.get(),{min:u,max:O}=a;for(let H=0;H<f.length;H++){const te=f[H];if(g[0]=te[0]>0?O[0]:u[0],g[1]=te[1]>0?O[1]:u[1],g[2]=te[2]>0?O[2]:u[2],ia(te,g)<0)return Ce.release(g),!1}return Ce.release(g),!0}function es(f,a,g){const u=f.get(g);return!!u?.renderable&&du(a,u.worldBounds)}function mc(f,a){return f.has(a)||f.set(a,f.size),f.get(a)}function Lc(f){const a=new Map,g=new Map,u=new Map;return f.sort((O,H)=>{if(O.vertexArrayInfo&&H.vertexArrayInfo){if(O.vertexArrayInfo!==H.vertexArrayInfo){const te=mc(u,O.vertexArrayInfo),Q=mc(u,H.vertexArrayInfo);if(te!==Q)return te-Q}}else{if(O.programInfo!==H.programInfo){const te=mc(a,O.programInfo),Q=mc(a,H.programInfo);if(te!==Q)return te-Q}if(O.bufferInfo!==H.bufferInfo){const te=mc(g,O.bufferInfo),Q=mc(g,H.bufferInfo);if(te!==Q)return te-Q}}return O.screenPosition[2]-H.screenPosition[2]}),f}function il(f,a){return f.has(a)||f.set(a,f.size),f.get(a)}const Ga={alpha:{noDepthMask:!1,orderDependent:!0,twoPass:!1},addAlpha:{noDepthMask:!0,orderDependent:!1,twoPass:!1},improvedAlpha:{noDepthMask:!0,orderDependent:!0,twoPass:!0}};function Gd(f,...a){let g=Vt.Alpha;for(let H=0;H<a.length;H++){const te=a[H];if(te===Vt.Alpha||te===Vt.AddAlpha||te===Vt.ImprovedAlpha){g=te;break}}let u=!1;const O=Ga[g];for(const H in O)Object.prototype.hasOwnProperty.call(O,H)&&f[H]!==O[H]&&(f[H]=O[H],u=!0);return u}const Hd=(0,E.create)();function Qa(f,a,g=0){let u=0;f.forEach(H=>{"ambient"!==H.type&&u++});let O=0;(0,m.set)(a.legacyAmbientLightColor,0,0,0);for(const H of f){const{type:te,color:Q}=H;if("ambient"===te)(0,m.add)(a.legacyAmbientLightColor,a.legacyAmbientLightColor,Q);else{H.updateWorldMatrix();const be="legacyLightSource"+O;a[be+".type"]=ta[te],a[be+".viewSpace"]=!!H.viewSpace;const Me=be+".position";a[Me]||(a[Me]=(0,m.create)()),(0,L.getTranslation)(a[Me],H.worldMatrix);const Ee=be+".color";a[Ee]?(0,m.copy)(a[Ee],Q):a[Ee]=(0,m.clone)(Q);const Pe=be+".attenuation";if(a[Pe]||(a[Pe]=new Float32Array(3)),a[Pe][0]=H.constantAttenuation,a[Pe][1]=H.linearAttenuation,a[Pe][2]=H.quadraticAttenuation,a[be+".diffuse"]=H.diffuse,a[be+".specular"]=H.specular,"spot"===te){const rt=be+".direction";a[rt]?(0,m.set)(a[rt],0,0,-1):(a[rt]=(0,m.create)(),a[rt][2]=-1),(0,L.getRotation)(Hd,H.worldMatrix),(0,m.transformQuat)(a[rt],a[rt],Hd),a[be+".outerCone"]=H.outerCone,a[be+".innerCone"]=H.innerCone}else a[be+".direction"]=[0,0,0],a[be+".outerCone"]=0,a[be+".innerCone"]=0;O++}}for(;O<g;O++){const H="legacyLightSource"+O;delete a[H+".type"],delete a[H+".intensity"],delete a[H+".range"],delete a[H+".color"],delete a[H+".position"],delete a[H+".direction"],delete a[H+".outerCone"],delete a[H+".innerCone"]}return u}const Ih=(0,E.create)();function Rh(f,a,g=0){let u=0;f.forEach(H=>{H instanceof ni||u++});let O=0;(0,m.set)(a.ambientLightColor,0,0,0);for(const H of f){const{type:te,color:Q}=H;if(H instanceof ni)(0,m.scaleAndAdd)(a.ambientLightColor,a.ambientLightColor,Q,H.intensity);else{H.updateWorldMatrix();const be="lightSource"+O;a[be+".type"]=bl[te];const Me=be+".position";a[Me]||(a[Me]=(0,m.create)()),(0,L.getTranslation)(a[Me],H.worldMatrix);const Ee=be+".color";a[Ee]?(0,m.copy)(a[Ee],Q):a[Ee]=(0,m.clone)(Q),a[be+".intensity"]=H.intensity;const Pe=be+".direction";if(a[Pe]||(a[Pe]=(0,m.create)()),(0,L.getRotation)(Ih,H.worldMatrix),(0,m.set)(a[Pe],0,0,-1),(0,m.transformQuat)(a[Pe],a[Pe],Ih),H instanceof hi){const rt=Math.cos(H.outerConeAngle),Dt=Math.cos(H.outerConeAngle-H.penumbraAngle);a[be+".outerConeCos"]=rt,a[be+".innerConeCos"]=Dt}else a[be+".outerCone"]=0,a[be+".innerCone"]=0;O++}}for(;O<g;O++){const H="lightSource"+O;delete a[H+".type"],delete a[H+".intensity"],delete a[H+".color"],delete a[H+".position"],delete a[H+".direction"],delete a[H+".outerConeCos"],delete a[H+".innerConeCos"]}return u}function od(f,a,g,u,O){if(f.imageLightIntensity=g?.intensity??1,g?(f.imageLightRotation||(f.imageLightRotation=(0,ir.create)()),(0,ir.fromQuat)(f.imageLightRotation,g.quaternion)):delete f.imageLightRotation,"parametric"===g?.irradianceMode&&g.irradianceCoefficients){f.irradianceCoefficients||(f.irradianceCoefficients=new Float32Array(27));for(let H=0,te=0;H<9;H++){const Q=g.irradianceCoefficients[H];f.irradianceCoefficients[te++]=Q[0],f.irradianceCoefficients[te++]=Q[1],f.irradianceCoefficients[te++]=Q[2]}}else delete f.irradianceCoefficients;if(u&&(a.release("imageLightSpecular",u),delete f.imageLightSpecularTexture),g?.specularTexture){const H=a.get("imageLightSpecular",g.specularTexture);H.update(),f.imageLightSpecularTexture=H.webglTexture,f.imageLightLODScale=g.specularTexture.levels[0].length-1}if(O&&(a.release("imageLightIrradiance",O),f.imageLightIrradianceTexture=null),g?.irradianceTexture&&"image"===g.irradianceMode){const H=a.get("imageLightIrradiance",g.irradianceTexture);H.update(),f.imageLightIrradianceTexture=H.webglTexture}}function rm(f,a,g,u){const O=f.get(u);if(!O.update())return;const{alphaMode:H}=O;!u.visible||"opaque"!==H&&"test"!==H?a.delete(O):a.add(O),u.visible&&"opaque"!==H&&"hidden"!==H?g.add(O):g.delete(O)}function If(f,a,g,u,O,H,te,Q,be,Me){const{worldMatrix:Ee}=H;te.uniformSetters.modelViewMatrix&&(0,L.multiply)(f.modelViewMatrix,Me.worldMatrixInverse,Ee),(0,la.setUniforms)(te,f);const{maxClipDistances:Pe}=g,rt=Math.min(Pe,u.length);for(let Ft=0,Wt=12288;Ft<Pe;Ft++,Wt++)Ft<rt?O.enable(Wt):O.disable(Wt);const Dt="add"===H.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;O.blendFunc(1,Dt),a.drawCalls++,a.drawVertices+=H.vertexCount}const Rf=(f,a,g,u,O)=>{const H=g?null:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,cameraPosition:(0,m.create)()},te=g?[f.modelViewMatrix.subarray(0,16),f.modelViewMatrix.subarray(16,32)]:null;return(Q,be,Me,Ee,Pe,rt)=>{if(0===Q.count)return;const{worldMatrix:Dt}=Q,Ft="add"===Q.blendMode?1:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;if(u.blendFunc(1,Ft),te){if(be.uniformSetters.modelViewMatrix)for(let Wt=0;Wt<rt.length;Wt++)(0,L.multiply)(te[Wt],rt[Wt].transform.inverse.matrix,Dt);(0,la.setUniforms)(be,f),O(Q,be,Me,Ee,Pe,rt)}else for(const Wt of rt){const Ot=Pe.getViewport(Wt);u.viewport(Ot.x,Ot.y,Ot.width,Ot.height),H.projectionMatrix=Wt.projectionMatrix,H.viewMatrixInverse=Wt.transform.matrix;const{x:Jt,y:Fn,z:Tn}=Wt.transform.position;(0,m.set)(H.cameraPosition,Jt,Fn,Tn);const An=Wt.transform.inverse.matrix;H.viewMatrix=An,be.uniformSetters.modelViewMatrix&&(0,L.multiply)(f.modelViewMatrix,An,Dt),(0,la.setUniforms)(be,f),(0,la.setUniforms)(be,H),O(Q,be,Me,Ee,Pe,rt)}a.drawCalls++,a.drawVertices+=2*Q.vertexCount}};function zd(f,a,g){const u=a.length,O=g.length;for(let H=u;H>O;H--){a.pop();const te="clippingPlane"+H;delete f[te+".plane"],delete f[te+".fade"]}for(let H=a.length;H<O;H++)a[H]={plane:(0,Fo.create)(),fade:0};return g.forEach(({plane:H,fade:te},Q)=>{const{plane:be}=a[Q];(0,Fo.copy)(be,H),a[Q].fade=te;const Me="clippingPlane"+Q;f[Me+".plane"]=be,f[Me+".fade"]=te}),u!==O}class Oh extends le{constructor({cubeTextureCache:a}){super(),d(this,"get",void 0),d(this,"release",void 0),d(this,"destroy",void 0);const g=new lo({key:(u,O)=>O,create:(u,O)=>{if(O){const H={};if(O instanceof Mn&&O.reflectionMap){const te=a.get(O,O.reflectionMap.texture);te.update(),H.reflectionMap=te.webglTexture}return this.emit("create",{material:O}),H}return null},release:(u,O)=>{O&&(O instanceof Mn&&O.reflectionMap&&a.release(O,O.reflectionMap.texture),this.emit("release",{material:O}))}});this.get=g.get,this.release=g.release,this.destroy=g.destroy}}const gc=["ALIASED_LINE_WIDTH_RANGE","ALIASED_POINT_SIZE_RANGE","ALPHA_BITS","BLUE_BITS","DEPTH_BITS","GREEN_BITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_RENDERBUFFER_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VIEWPORT_DIMS","RED_BITS","SAMPLE_COVERAGE_VALUE","SAMPLES","STENCIL_BITS","SUBPIXEL_BITS","VENDOR","RENDERER","VERSION","SHADING_LANGUAGE_VERSION","COMPRESSED_TEXTURE_FORMATS","SAMPLE_BUFFERS"],hl_webgl=gc,hl_webgl2=[...gc,"MAX_3D_TEXTURE_SIZE","MAX_ARRAY_TEXTURE_LAYERS","MAX_COLOR_ATTACHMENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_DRAW_BUFFERS","MAX_ELEMENT_INDEX","MAX_ELEMENTS_INDICES","MAX_ELEMENTS_VERTICES","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_PROGRAM_TEXEL_OFFSET","MAX_SAMPLES","MAX_SERVER_WAIT_TIMEOUT","MAX_TEXTURE_LOD_BIAS","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","MAX_UNIFORM_BLOCK_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","MAX_VARYING_COMPONENTS","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_VERTEX_UNIFORM_BLOCKS","MAX_VERTEX_UNIFORM_COMPONENTS","MIN_PROGRAM_TEXEL_OFFSET"],Of=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],Ph={OES_standard_derivatives:(f,a)=>({FRAGMENT_SHADER_DERIVATIVE_HINT_OES:f.getParameter(a.FRAGMENT_SHADER_DERIVATIVE_HINT_OES)}),WEBGL_draw_buffers:(f,a)=>({MAX_COLOR_ATTACHMENTS_WEBGL:f.getParameter(a.MAX_COLOR_ATTACHMENTS_WEBGL),MAX_DRAW_BUFFERS_WEBGL:f.getParameter(a.MAX_DRAW_BUFFERS_WEBGL)}),WEBGL_debug_renderer_info:(f,a)=>({UNMASKED_VENDOR_WEBGL:f.getParameter(a.UNMASKED_VENDOR_WEBGL),UNMASKED_RENDERER_WEBGL:f.getParameter(a.UNMASKED_RENDERER_WEBGL)}),WEBGL_compressed_texture_astc:(f,a)=>({supportedProfiles:a.getSupportedProfiles&&a.getSupportedProfiles()||null}),EXT_texture_filter_anisotropic:(f,a)=>({anisotropy:f.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}),WEBGL_clip_cull_distance:(f,a)=>({MAX_CLIP_DISTANCES_WEBGL:f.getParameter(a.MAX_CLIP_DISTANCES_WEBGL),MAX_CULL_DISTANCES_WEBGL:f.getParameter(a.MAX_CULL_DISTANCES_WEBGL),MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL:f.getParameter(a.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL)})};function $d(f,a){const g={};return Of.forEach(u=>{const O=f.getShaderPrecisionFormat(a,f[u]);g[u]={rangeMin:O?.rangeMin||0,rangeMax:O?.rangeMax||0,precision:O?.precision||0}}),g}const kh=["maxTextureDimension1D","maxTextureDimension2D","maxTextureDimension3D","maxTextureArrayLayers","maxBindGroups","maxBindingsPerBindGroup","maxDynamicUniformBuffersPerPipelineLayout","maxDynamicStorageBuffersPerPipelineLayout","maxSampledTexturesPerShaderStage","maxSamplersPerShaderStage","maxStorageBuffersPerShaderStage","maxStorageTexturesPerShaderStage","maxUniformBuffersPerShaderStage","maxUniformBufferBindingSize","maxStorageBufferBindingSize","minUniformBufferOffsetAlignment","minStorageBufferOffsetAlignment","maxVertexBuffers","maxBufferSize","maxVertexAttributes","maxVertexBufferArrayStride","maxInterStageShaderComponents","maxInterStageShaderVariables","maxColorAttachments","maxColorAttachmentBytesPerSample","maxComputeWorkgroupStorageSize","maxComputeInvocationsPerWorkgroup","maxComputeWorkgroupSizeX","maxComputeWorkgroupSizeY","maxComputeWorkgroupSizeZ","maxComputeWorkgroupsPerDimension"];function fu(){return fu=S(function*(f){const a=S(function*(){if(!navigator.gpu)return null;const O=navigator.gpu.getPreferredCanvasFormat(),H=yield navigator.gpu.requestAdapter({powerPreference:"high-performance"});if(!H)return null;const te=yield H.requestAdapterInfo(),{architecture:Q,vendor:be}=te;return{canvasFormat:O,architecture:Q,vendor:be,perfCaveat:H.isFallbackAdapter,features:Array.from(H.features.keys()).sort(),limits:kh.reduce((Me,Ee)=>(Me[Ee]=H.limits[Ee],Me),{})}})();let g=!1;if(!Tl(f)){const O=document.createElement("canvas");let H=O.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0});H||(H=O.getContext("webgl2",{powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1})),H&&(g=!0,f=H)}const u=function(O){const H=O.getContextAttributes();if(!H)return null;const te={},Q=Tl(O);(Q?hl_webgl2:hl_webgl).forEach(rt=>{const Ft=O.getParameter(O[rt]);if(Ft&&Ft.BYTES_PER_ELEMENT){if(Ft.length){te[rt]=[];for(let Wt=0;Wt<Ft.length;Wt++)te[rt].push(Ft[Wt])}}else te[rt]=Ft});const be=O.getSupportedExtensions()||[],Me={};be.forEach(rt=>{const Dt=Ph[rt];if(Dt){const Ft=O.getExtension(rt);Ft&&(Me[rt]=Dt(O,Ft))}});const Ee=!0!==H.failIfMajorPerformanceCaveat,Pe={version:Q?2:1,antialias:H.antialias||!1,perfCaveat:Ee,params:te,extensions:{supported:be,capabilities:Me}};if(!Ee){const rt=Pe.extensions.capabilities.WEBGL_debug_renderer_info?.UNMASKED_RENDERER_WEBGL;rt&&/\bSwiftRenderer\b/.test(rt)&&(Pe.perfCaveat=!0)}return Pe.shaderPrecision={vertex:$d(O,O.VERTEX_SHADER),fragment:$d(O,O.FRAGMENT_SHADER)},Pe}(f);return g&&f.getExtension("WEBGL_lose_context")?.loseContext(),{webgl:u,webgpu:yield a}}),fu.apply(this,arguments)}const om=["rg16float","rgba16float"],Pf=new Set(Object.keys(Ga)),Iu=(0,L.create)();class Sl extends le{constructor(a){var g;super(),g=this,d(this,"transparencyMode",void 0),d(this,"root",void 0),d(this,"camera",void 0),d(this,"xrSession",void 0),d(this,"xrRefSpace",null),d(this,"maxDevicePixelRatio",1),d(this,"maxCanvasDimension",1/0),d(this,"minDevicePixelRatio",1),d(this,"physicalImageLight",void 0),d(this,"toneMapping",void 0),d(this,"clippingPlanes",void 0),d(this,"canvas",void 0),d(this,"environment",void 0),d(this,"extensions",void 0),d(this,"textureFormats",void 0),d(this,"running",void 0),d(this,"stats",void 0),d(this,"getGPUCapabilities",void 0),d(this,"setXRClearColor",void 0),d(this,"setPostProcessingPipeline",void 0),d(this,"setClippingPlanes",void 0),d(this,"start",void 0),d(this,"stop",void 0),d(this,"render",void 0);const u=a?.gl||function(Xr){if(typeof WebGLRenderingContext>"u")throw new Error("Browser does not support WebGL");const{canvas:ao,...Vs}=Xr||{},Gs=ao||document.createElement("canvas");try{return Zl(Gs,{...Vs,failIfMajorPerformanceCaveat:!0})}catch{}return Zl(Gs,{...Vs,failIfMajorPerformanceCaveat:!1})}(a),O=new Ra(u),H=u.canvas;if(!(H instanceof HTMLCanvasElement))throw new Error(`canvas type ${H?.constructor?.name||"unknown"} not supported.`);Object.assign(H.style,{width:"100%",height:"100%",position:"absolute"}),this.getGPUCapabilities=b(()=>function im(f){return fu.apply(this,arguments)}(u));const te=u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT,Q=Tl(u),be=Q?2:1,Me=Q||!!u.getExtension("OES_vertex_array_object"),Ee=Q&&!1!==a?.optimizations?.enableMultiView?u.getExtension("OCULUS_multiview"):null,Pe=!!u.getExtension("EXT_shader_texture_lod"),rt=Q?u.getParameter(u.MAX_SAMPLES):1,Dt=u.getParameter(u.ALIASED_POINT_SIZE_RANGE)?.[1]||32,{preserveDrawingBuffer:Ft=!1}=u.getContextAttributes()||{},Wt=!1!==a?.optimizations?.enableHardwarePlaneClipping&&u.getExtension("WEBGL_clip_cull_distance")?u.getParameter(3378):0,Ot=new Map,Jt=new Map,Fn=new Set,Tn=new Set,An=new Set,vn=[0,0,0,0],kn={webGlVersion:be,vaoSupported:Me,textureLODext:Pe,maxPointSize:Dt,maxClipDistances:Wt,multiView:!!Ee,preserveDrawingBuffer:Ft};let nr=0,ur=0,Qn=Vt.Alpha,kr="linear",$r=0,Vr=!1,Fr=null,di=!0,ai=!0,fi=!0,Or=null,bi=null,Mi=null,go=a?.optimizations?.computeBRDF??!u.getExtension(Q?"EXT_color_buffer_float":"WEBGL_color_buffer_float");const fo={noDepthMask:!1,orderDependent:!1,twoPass:!1,maxClipDistances:Wt},Yo=[],xi=[],wr={geometries:0,meshes:0,materials:0,vaos:0,textures:0,materialTypes:{unlit:0,phong:0,metallic:0,physical:0},drawCalls:0,drawVertices:0,cpuTime:0,gpuTime:0,postProcessTime:0},ca=Ue(es,Jt,Yo),Js=new Ji({sort:Lc,filter:ca}),As=new Ji({sort:Xr=>fo.orderDependent?function(ao){const Vs=new Map,Gs=new Map,Sa=new Map;return ao.sort((ya,js)=>{if(ya.layer!==js.layer)return ya.layer-js.layer;if(ya.renderOrder!==js.renderOrder)return ya.renderOrder-js.renderOrder;if(ya.vertexArrayInfo&&js.vertexArrayInfo){if(ya.vertexArrayInfo!==js.vertexArrayInfo){const el=il(Sa,ya.vertexArrayInfo),Ll=il(Sa,js.vertexArrayInfo);if(el!==Ll)return el-Ll}}else{if(ya.programInfo!==js.programInfo){const el=il(Vs,ya.programInfo),Ll=il(Vs,js.programInfo);if(el!==Ll)return el-Ll}if(ya.bufferInfo!==js.bufferInfo)return il(Gs,ya.bufferInfo)-il(Gs,js.bufferInfo)}return ya.screenPosition[2]-js.screenPosition[2]}),ao}(Xr):Lc(Xr),filter:ca}),La=new yg(u),ka=new tm(u),Ja=new Vd(u),Rl=Me?new eu(u):null,zl=new Oh({cubeTextureCache:ka}),vc=new Dh(u,function(Xr,ao){return ao?Object.assign({},ao,{alphaMode:Rc(Xr,xi,fo),lights:Xr.material instanceof Mn?ur:nr,clips:Xr.clippable?xi.length:0,fog:bc.fog.mode,environmentReflectionMap:!!bc.reflectionMap.texture,lightMapSpace:bc.lightMap.texture&&bc.lightMap.space||"",imageLightIrradianceMode:Or?.irradianceMode||"",imageLightSpecularTexture:Or?.specularTexture,toneMap:kr,computeBRDF:go},kn):null}),bd=new lo({key:(Xr,ao)=>ao,create:(Xr,ao)=>({decodePositions:ao.attributes.position.decodeMat||null,decodeUVs:ao.attributes.texcoord?.decodeMat||null})}),xd={geometryBufferCache:Ja,shaderResourceCache:vc,geometryUniformsCache:bd,materialUniformsCache:zl,vaoCache:Rl,alphaModeOptions:fo,clippingPlanes:xi,textureResourceCache:La},yc=new pc(u,{glState:O});yc.enabled=!0;const wa={ambientLightColor:(0,m.fromValues)(.1,.1,.1),legacyAmbientLightColor:(0,m.fromValues)(.1,.1,.1),"fog.color":(0,m.fromValues)(1,1,1),"fog.density":.01,"fog.end":1e3,"fog.max":1,"fog.min":0,"fog.start":0},Is=Ee?{projectionMatrix:new Float32Array(32),viewMatrixInverse:new Float32Array(32),viewMatrix:new Float32Array(32),screenResolution:new Float32Array([1024,1024]),cameraPosition:new Float32Array(6)}:{projectionMatrix:null,viewMatrixInverse:null,viewMatrix:null,screenResolution:new Float32Array([1024,1024]),cameraPosition:(0,m.create)()},ic=Ee&&[Is.projectionMatrix.subarray(0,16),Is.projectionMatrix.subarray(16,32)],Uu=Ee&&[Is.viewMatrixInverse.subarray(0,16),Is.viewMatrixInverse.subarray(16,32)],rf=Ee&&[Is.cameraPosition.subarray(0,3),Is.cameraPosition.subarray(3,6)],Ed=Ee&&[Is.viewMatrix.subarray(0,16),Is.viewMatrix.subarray(16,32)],Vu={modelViewMatrix:Ee?new Float32Array(32):(0,L.create)(),discardOpaque:!1},oc=new li;let Ta=null,xl=null,Es=null,ju=null,$a=null;const bc=new Sf(wa,ka),op=Ue(Rf,Vu,wr,!!Ee,O),_a=Ue(Qa,Tn,wa),sh=Ue(Rh,An,wa),Am=Ue(od,wa,ka),sf=Ue(rm,Ot,Js,As),wd=Ue(zd,wa,xi);function Cd(Xr){const ao="fog"!==Xr?.property||"mode"===Xr?.detail;Ot.forEach(Vs=>{ao&&Vs.setDirty("shader"),Vs.setDirty("transparency")}),fi=!0}function sp(){wr.materialTypes.physical>0&&!go?wa.brdfLookUpTexture||(wa.brdfLookUpTexture=function(Xr,ao=512,Vs=Xr){const Gs=Tl(Xr),Sa=Gs?uu.webgl2:uu.webgl1,ya=(Gs?!!Xr.getExtension("EXT_color_buffer_float"):!!Xr.getExtension("WEBGL_color_buffer_float"))&&om.find($l=>{const sc=Sa.get($l);return!(!sc||sc.extension&&!Xr.getExtension(sc.extension))})||"rgba8unorm",js=Sa.get(ya),el="internalFormat"in js?js.internalFormat:js.format,Ll="type"in js?js.type:js.format,Ul=(0,la.createBufferInfoFromArrays)(Xr,{position:{numComponents:2,data:[-1,-1,3,-1,-1,3]}}),hf=Tf(Xr,[`${Gs?"#version 300 es":""}\n\t\t${Gs?"in":"attribute"} vec2 position;\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(position, 0.0, 1.0);\n\t\t}`,`${Gs?"#version 300 es":""}\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\n#define SAMPLE_NUMBER 1024${Gs?"u":""}\n#define PI 3.14159265358979\n\n${Gs?"out vec4 fragColor;":""}\n\nuniform vec2 viewportSize;\n\nfloat saturate(float x) {\n\treturn clamp(x, 0.0, 1.0);\n}\n\n${Gs?"\nvec2 hammersley(uint i, uint N) {\n\t\n\tuint bits = (i << 16u) | (i >> 16u);\n\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\tfloat rdi = float(bits) * 2.3283064365386963e-10;\n\treturn vec2(float(i) /float(N), rdi);\n}":"\nvec2 hammersley(int i, int N) {\n\tfloat invBase = 1.0 / 2.0;\n\tfloat denom = 1.0;\n\tfloat vanDerCorput = 0.0;\n\tint n = i;\n\n\tfor(int b = 0; b < 32; b++) {\n\t\tif(n > 0) {\n\t\t\tdenom = mod(float(n), 2.0);\n\t\t\tvanDerCorput += denom * invBase;\n\t\t\tinvBase = invBase / 2.0;\n\t\t\tn = int(float(n) / 2.0);\n\t\t}\n\t}\n\n\treturn vec2(float(i) / float(N));\n}\n"}\n\n\nfloat G_Smith(float NoV, float NoL, float roughness) {\n\tfloat k = (roughness * roughness) / 2.0;\n\tfloat GGXL = NoL / (NoL * (1.0 - k) + k);\n\tfloat GGXV = NoV / (NoV * (1.0 - k) + k);\n\treturn GGXL * GGXV;\n}\n\n\nfloat V_SmithGGXCorrelated(float NoV, float NoL, float roughness) {\n\tfloat a2 = pow(roughness, 4.0);\n\tfloat GGXV = NoL * sqrt(NoV * NoV * (1.0 - a2) + a2);\n\tfloat GGXL = NoV * sqrt(NoL * NoL * (1.0 - a2) + a2);\n\treturn 0.5 / (GGXV + GGXL);\n}\n\n\nvec3 importanceSampleGGX(vec2 Xi, float roughness, vec3 N) {\n\tfloat a = roughness * roughness;\n\n\t\n\tfloat Phi = 2.0 * PI * Xi.x;\n\tfloat CosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a*a - 1.0) * Xi.y));\n\tfloat SinTheta = sqrt(1.0 - CosTheta * CosTheta);\n\n\t\n\tvec3 H;\n\tH.x = SinTheta * cos(Phi);\n\tH.y = SinTheta * sin(Phi);\n\tH.z = CosTheta;\n\t\n\t\n\tvec3 UpVector = abs(N.z) < 0.999 ? vec3(0.,0.,1.0) : vec3(1.0,0.,0.);\n\tvec3 TangentX = normalize(cross(UpVector, N));\n\tvec3 TangentY = cross(N, TangentX);\n\treturn TangentX * H.x + TangentY * H.y + N * H.z;\n}\n\n\n\nvec2 integrateBRDF(float roughness, float NoV) {\n\tvec3 V;\n\tV.x = sqrt(1.0 - NoV * NoV); \n\tV.y = 0.0;\n\tV.z = NoV; \n\t\n\t\n\tconst vec3 N = vec3(0.0, 0.0, 1.0);\n\t\n\tfloat A = 0.0;\n\tfloat B = 0.0;\n\t\n\tfor (${Gs?"uint i = 0u; i < SAMPLE_NUMBER; i++":"int i = 0; i < SAMPLE_NUMBER; i++"}) {\n\t\tvec2 Xi = hammersley(i, SAMPLE_NUMBER);\n\n\t\t\n\t\tvec3 H = importanceSampleGGX(Xi, roughness, N);\n\t\t\n\t\t\n\t\tvec3 L = 2.0 * dot(V, H) * H - V;\n\t\t\n\t\tfloat NoL = saturate(dot(N, L));\n\t\tfloat NoH = saturate(dot(N, H));\n\t\tfloat VoH = saturate(dot(V, H));\n\t\t\n\t\tif(NoL > 0.0) {\n\t\t\tfloat V_pdf = V_SmithGGXCorrelated(NoV, NoL, roughness) * VoH * NoL / NoH;\n\t\t\tfloat Fc = pow(1.0 - VoH, 5.0);\n\t\t\tA += (1.0 - Fc) * V_pdf;\n\t\t\tB += Fc * V_pdf;\n\t\t}\n\t}\n\n\treturn 4.0 * vec2(A, B) / float(SAMPLE_NUMBER);\n}\n\nvoid main() {\n\t\n\tvec2 uv = gl_FragCoord.xy / viewportSize;\n\tfloat a = uv.y;\n\tfloat mu = uv.x;\n\n\t\n\tvec2 res = integrateBRDF(a, mu);\n\t\n\t\n\t${Gs?"fragColor":"gl_FragColor"} = vec4(res.x, res.y, 0.0, 1.0);\n}`]),pl=Xr.createFramebuffer();Xr.bindFramebuffer(Xr.FRAMEBUFFER,pl);const Ol=Xr.createTexture();return Xr.bindTexture(Xr.TEXTURE_2D,Ol),Xr.texImage2D(Xr.TEXTURE_2D,0,el,ao,ao,0,js.format,Ll,null),Xr.texParameteri(Xr.TEXTURE_2D,Xr.TEXTURE_MAG_FILTER,Xr.LINEAR),Xr.texParameteri(Xr.TEXTURE_2D,Xr.TEXTURE_MIN_FILTER,Xr.LINEAR),Xr.texParameteri(Xr.TEXTURE_2D,Xr.TEXTURE_WRAP_S,Xr.CLAMP_TO_EDGE),Xr.texParameteri(Xr.TEXTURE_2D,Xr.TEXTURE_WRAP_T,Xr.CLAMP_TO_EDGE),Xr.framebufferTexture2D(Xr.FRAMEBUFFER,Xr.COLOR_ATTACHMENT0,Xr.TEXTURE_2D,Ol,0),Xr.bindTexture(Xr.TEXTURE_2D,null),Xr.bindFramebuffer(Xr.FRAMEBUFFER,pl),Vs.viewport(0,0,ao,ao),Vs.disable(Xr.CULL_FACE),Vs.disable(Xr.DEPTH_TEST),Vs.depthMask(!1),Vs.frontFace(Xr.CCW),Vs.useProgram(hf.program),(0,la.setUniforms)(hf,{viewportSize:[ao,ao]}),(0,la.setBuffersAndAttributes)(Xr,hf,Ul),(0,la.drawBufferInfo)(Xr,Ul,Xr.TRIANGLES,3,0),Xr.bindFramebuffer(Xr.FRAMEBUFFER,null),Ol}(u,512,O)):wa.brdfLookUpTexture&&(u.deleteTexture(wa.brdfLookUpTexture),delete wa.brdfLookUpTexture)}function Gu(){Am(Or,bi,Mi),bi=Or?.specularTexture||null,Mi="image"===Or?.irradianceMode&&Or.irradianceTexture||null,Cd()}function ah(){ai=!0,fi=!0}function ap(Xr){const ao=Ot.get(Xr.node);ao&&(Js.has(ao)&&(Js.dirtyFilter(),Js.dirtySort()),As.has(ao)&&(As.dirtyFilter(),As.dirtySort()),xi.length&&Xr.node.clippable&&ao.setDirty("transparency")),fi=!0}function lp(Xr){"material"===Xr.property&&(di=!0),"layer"!==Xr.property&&"renderOrder"!==Xr.property||As.dirtySort(),fi=!0}function af(){fi=!0}function cp(Xr){if(u.isContextLost())return;const ao=new kd(Xr,xd);Ot.set(Xr,ao),Jt.set(ao,Xr),Xr.on("updateWorldBounds",ap),Xr.on("dirty",af),Xr.on("change",lp),ao.on("dirty",af),wr.meshes++,di=!0,fi=!0}function up(Xr){const ao=Ot.get(Xr);Ot.delete(Xr),Jt.delete(ao),Js.delete(ao),As.delete(ao),ao.destroy(),Xr.off("updateWorldBounds",ap),Xr.off("dirty",af),Xr.off("change",lp),ao.off("dirty",af),wr.meshes--,di=!0,fi=!0}const dp=Ue(If,Vu,wr,kn,xi,O),lh=nm(u,{beforeRender:dp,glState:O}),Eg=hc(u,({bufferInfo:Xr,topology:ao,offset:Vs,count:Gs,depthMask:Sa})=>{if(0===Gs)return;const ya=ql[ao];O.depthMask(!(fo.noDepthMask||!Sa)),O.cullFace(u.BACK),(0,la.drawBufferInfo)(u,Xr,ya,Gs,Vs)},{beforeRender:dp,glState:O});let lf=!1,cf=-1/0;const ch=(Xr=!1)=>{if(u.isContextLost()||!Fr)return;const ao=performance.now();if(function(Sa,ya=1,js=1/0,el=0){ya=Math.max(0,ya),js=Math.max(1,js),el=Math.max(0,el);const Ll=0|Math.max(Sa.clientWidth*el,Math.min(js,Sa.clientWidth*ya)),Ul=0|Math.max(Sa.clientHeight*el,Math.min(js,Sa.clientHeight*ya));return(Sa.width!==Ll||Sa.height!==Ul)&&(Sa.width=Ll,Sa.height=Ul,!0)}(H,Math.min(window.devicePixelRatio,this.maxDevicePixelRatio),this.maxCanvasDimension,this.minDevicePixelRatio)&&(fi=!0,this.emit("resize")),!fi&&!Xr&&lf&&ao-cf<6)return;lf=!0,cf=ao,this.emit("begin",ao),wr.drawCalls=0,wr.drawVertices=0,this.emit("animate",ao);const Gs=H.clientWidth/H.clientHeight;if(Fr&&Gs!==Fr.aspect&&(Fr.aspect=Gs,Fr.dirtyProjection()),Xr||fi){for(const js of Fn)js.updateWorldBounds();Fr.updateWorldMatrix(),Fr.projectionDirty&&Fr.updateProjectionMatrix(),An.forEach(js=>js.updateWorldMatrix()),Tn.forEach(js=>js.updateWorldMatrix()),this.emit("update"),(ai||Fr.dirty)&&(Fr.updateWorldMatrix(),Fr.updateProjectionMatrix(),(0,L.multiply)(Iu,Fr.projectionMatrix,Fr.worldMatrixInverse),ma(Yo,Iu),Ee&&((0,L.copy)(ic[0],Fr.projectionMatrix),(0,L.copy)(Uu[0],Fr.worldMatrix),(0,L.copy)(Ed[0],Fr.worldMatrixInverse),(0,L.getTranslation)(rf[0],Fr.worldMatrix)),Array.isArray(Is.cameraPosition)&&(0,L.getTranslation)(Is.cameraPosition,Fr.worldMatrix),Js.dirtySort(),As.dirtySort(),Js.dirtyFilter(),As.dirtyFilter());const Sa=sh(),ya=_a();Sa===nr&&ya===ur||(nr=Sa,ur=ya,Cd());for(const js of Fn){const el=Ot.get(js);(el.dirty||ai)&&((0,L.getTranslation)(el.screenPosition,js.worldMatrix),(0,m.transformMat4)(el.screenPosition,el.screenPosition,Iu)),sf(js)}ai=!1,yc.begin(),O.viewport(0,0,H.width,H.height),Is.screenResolution[0]=u.drawingBufferWidth,Is.screenResolution[1]=u.drawingBufferHeight,O.depthMask(!0),O.clearColor(0,0,0,0),u.clear(te),O.enable(u.DEPTH_TEST),O.enable(u.CULL_FACE),O.disable(u.BLEND),O.depthMask(!0),Vu.discardOpaque=!1,lh(Js,[wa,Is],Fr),As.filteredSize&&(O.enable(u.BLEND),Vu.discardOpaque=!0,Eg(As,[wa,Is],Fr)),yc.render(Fr),fi=!1}di&&(di=!1),wr.cpuTime=performance.now()-ao,this.emit("end")};function uh(){ch(!1),lf=Ft,Vr&&($r=requestAnimationFrame(uh))}const wg=hc(u,op((Xr,ao,Vs)=>{(0,la.drawBufferInfo)(u,Vs,ql[Xr.topology],Xr.count,Xr.offset)}),{glState:O}),Mm=hc(u,op((Xr,ao,Vs)=>{O.depthMask(!(fo.noDepthMask||!Xr.depthMask)),O.cullFace(u.BACK),(0,la.drawBufferInfo)(u,Vs,ql[Xr.topology],Xr.count,Xr.offset)}),{glState:O}),Za=function(){var Xr=S(function*(){if(Ta&&!u.isContextLost()){try{yield Promise.all([u.makeXRCompatible(),Ta.requestReferenceSpace("local").then(ao=>{Es=ao})])}catch{}if(!u.isContextLost())if(Ee){xl=u.createFramebuffer(),ju=new XRWebGLBinding(Ta,u);const ao=ju.createProjectionLayer({textureType:"texture-array",depthFormat:Q?u.DEPTH_COMPONENT24:u.DEPTH_COMPONENT});Ta.updateRenderState({layers:[ao]})}else{const ao=new XRWebGLLayer(Ta,u);yield Ta.updateRenderState({baseLayer:ao}),xl=ao.framebuffer}}});return function(){return Xr.apply(this,arguments)}}(),ol=(Xr,ao)=>{const Vs=performance.now();this.emit("begin",Vs),wr.drawCalls=0,wr.drawVertices=0;const Gs=ao.getViewerPose(this.xrRefSpace||Es);this.emit("xrframe",{frame:ao,viewerPose:Gs}),this.emit("animate",ao.predictedDisplayTime||Xr),sh(),_a(),this.emit("update");const Sa=ao.session;if(Vr&&($r=Sa.requestAnimationFrame(ol)),Gs&&Gs.views.length){const ya=Gs.views[0];(0,L.multiply)(Iu,ya.projectionMatrix,ya.transform.inverse.matrix),ma(Yo,Iu);for(const pl of Fn){const Ol=Ot.get(pl);pl.dirty&&pl.updateWorldBounds(),(0,L.getTranslation)(Ol.screenPosition,pl.worldMatrix),(0,m.transformMat4)(Ol.screenPosition,Ol.screenPosition,ya.projectionMatrix),sf(pl)}Js.dirtySort(),Js.dirtyFilter(),As.dirtySort(),As.dirtyFilter();const js=Sa.renderState.baseLayer;if(u.bindFramebuffer(u.FRAMEBUFFER,xl),Ee){const Ol=ju.getViewSubImage(Sa.renderState.layers[0],ya);u.bindFramebuffer(u.FRAMEBUFFER,xl);const $l=Ol.viewport;Ee.framebufferTextureMultisampleMultiviewOVR(u.DRAW_FRAMEBUFFER,u.COLOR_ATTACHMENT0,Ol.colorTexture,0,rt,0,2),null===Ol.depthStencilTexture?null===$a&&($a=u.createTexture(),u.bindTexture(u.TEXTURE_2D_ARRAY,$a),u.texStorage3D(u.TEXTURE_2D_ARRAY,1,u.DEPTH_COMPONENT24,$l.width,$l.height,2)):$a=Ol.depthStencilTexture,Ee.framebufferTextureMultisampleMultiviewOVR(u.DRAW_FRAMEBUFFER,u.DEPTH_ATTACHMENT,$a,0,rt,0,2);for(let sc=0;sc<Gs.views.length;sc++){const xc=Gs.views[sc];(0,L.copy)(ic[sc],xc.projectionMatrix),(0,L.copy)(Uu[sc],xc.transform.matrix),(0,L.copy)(Ed[sc],xc.transform.inverse.matrix),(0,L.getTranslation)(rf[sc],xc.transform.matrix)}O.viewport($l.x,$l.y,$l.width,$l.height),Is.screenResolution[0]=$l.width,Is.screenResolution[1]=$l.height}else{O.viewport(0,0,js.framebufferWidth,js.framebufferHeight);const pl=js.getViewport(ya);Is.screenResolution[0]=pl.width,Is.screenResolution[1]=pl.height}O.disable(u.SCISSOR_TEST),O.enable(u.DEPTH_TEST),O.enable(u.CULL_FACE),O.disable(u.BLEND),O.depthMask(!0),Vu.discardOpaque=!1;const[el,Ll,Ul,hf]=vn;O.clearColor(el,Ll,Ul,hf),O.depthMask(!0),u.clear(te),wg(Js,[wa,Is],js,Gs.views),As.filteredSize&&(O.enable(u.BLEND),Vu.discardOpaque=!0,Mm(As,[wa,Is],js,Gs.views)),Mm(As,[wa,Is],js,Gs.views)}this.emit("end")};function Ad(Xr){Tl(u)?(console.log("WebGL context lost. Attempting to recover.",Xr),Xr?.preventDefault(),bc.release(),Fn.forEach(ao=>up(ao)),Ja.destroy(),vc.destroy(),La.destroy(),ka.destroy(),zl.destroy(),Rl?.destroy(),cancelAnimationFrame($r)):console.warn("WebGL context lost.")}function Md(Xr){console.log("Restoring lost WebGL context.",Xr),(0,la.addExtensionsToContext)(u),u.getExtension("WEBGL_clip_cull_distance"),u.getExtension("OCULUS_multiview"),O.reset(),bc.restore(),Gu(),Fn.forEach(cp),H.style.left="1px",setTimeout(S(function*(){H.style.left="",Ta?(yield Za(),Vr&&($r=Ta.requestAnimationFrame(ol))):Vr&&($r=requestAnimationFrame(uh))}),0)}const uf=function(){var Xr=S(function*(ao){ao!==Ta&&(Ta&&(Ta.cancelAnimationFrame($r),Ta.removeEventListener("end",df),ao||($a&&(u.deleteTexture($a),$a=null),xl&&Ee&&u.deleteFramebuffer(xl),xl=null)),Es=null,Ta=ao||null,Ta?(Ta.addEventListener("end",df),yield Za(),cancelAnimationFrame($r),Vr&&!u.isContextLost()&&($r=Ta.requestAnimationFrame(ol))):(g.xrRefSpace=null,u.bindFramebuffer(u.FRAMEBUFFER,null),Fr?.dirtyMatrix(),Vr&&($r=requestAnimationFrame(uh))),fi=!0)});return function(Vs){return Xr.apply(this,arguments)}}();function df(Xr){const{session:ao}=Xr;ao===Ta&&uf(null)}for(let Xr=0;Xr<6;Xr++)Yo.push((0,Fo.create)());Gd(fo,Qn),Ee&&[ic,Uu,rf,Ed].forEach(Xr=>Xr.forEach(L.identity)),La.on("create",()=>wr.textures++),La.on("release",()=>wr.textures--),ka.on("create",()=>wr.textures++),ka.on("release",()=>wr.textures--),Ja.on("create",({geometry:Xr})=>{Xr&&wr.geometries++}),Ja.on("release",({geometry:Xr})=>{Xr&&wr.geometries--}),Rl&&(Rl.on("create",()=>wr.vaos++),Rl.on("release",()=>wr.vaos--)),oc.on("add",Xr=>{Xr instanceof bt?(Fn.add(Xr),Xr.updateWorldBounds(),cp(Xr)):Xr instanceof Ur?An.add(Xr):Xr instanceof fr&&Tn.add(Xr),this.emit("add",Xr)}),oc.on("remove",Xr=>{Xr instanceof bt?(Fn.delete(Xr),up(Xr)):Xr instanceof Ur?An.delete(Xr):Xr instanceof fr&&Tn.delete(Xr),this.emit("remove",Xr)}),zl.on("create",({material:Xr})=>{wr.materials++,wr.materialTypes[Xr.type]++,sp()}),zl.on("release",({material:Xr})=>{wr.materials--,wr.materialTypes[Xr.type]--,sp()}),bc.on("change",Cd),H.addEventListener("webglcontextlost",Ad,!1),H.addEventListener("webglcontextrestored",Md,!1);const ff=u.getSupportedExtensions()||[];Object.freeze(ff),void 0!==a?.optimizations?.computeBRDF||go||this.getGPUCapabilities().then(({webgl:Xr})=>{go=Xr.perfCaveat});const fp=Q?uu.webgl2:uu.webgl1,hp=Array.from(Object.keys(ie)).filter(Xr=>{const ao=fp.get(Xr);return!(!ao||"extension"in ao&&!ff.includes(ao.extension)||ao.supported&&!ao.supported(u))});Object.defineProperties(this,{canvas:{value:H,writable:!1},root:{get:()=>oc.root,set(Xr){oc.root=Xr}},camera:{get:()=>Fr,set(Xr){Fr!==Xr&&(Fr&&Fr.off("dirty",ah),Ee||(Is.projectionMatrix=null,Is.viewMatrixInverse=null,Is.cameraPosition=null,Is.viewMatrix=null),Fr=Xr,Fr&&(Fr.on("dirty",ah),Ee||(Is.projectionMatrix=Fr.projectionMatrix,Is.viewMatrixInverse=Fr.worldMatrix,Is.viewMatrix=Fr.worldMatrixInverse,Is.cameraPosition=Fr.worldMatrix instanceof Float32Array?Fr.worldMatrix.subarray(12,15):(0,m.create)())))}},transparencyMode:{get:()=>Qn,set(Xr){if(!this.supportsTransparencyMode(Xr))throw new Error(`Unsupported transparency mode: ${Xr}`);Xr!==Qn&&(Qn=Xr,Gd(fo,Xr),Cd())}},toneMapping:{get:()=>kr,set(Xr){Xr!==kr&&(kr=Xr,Cd())}},physicalImageLight:{get:()=>Or,set(Xr){Xr!==Or&&(Or?.off("change",Gu),Or=Xr,Or?.on("change",Gu),Gu())}},xrSession:{set:uf,get:()=>Ta},clippingPlanes:{value:xi,writable:!1},environment:{value:bc,writable:!1},extensions:{value:ff,writable:!1},textureFormats:{value:hp,writable:!1},stats:{value:wr,writable:!1},running:{get:()=>Vr}}),this.setXRClearColor=(Xr,ao,Vs,Gs)=>{vn[0]=Xr,vn[1]=ao,vn[2]=Vs,vn[3]=Gs},this.setPostProcessingPipeline=yc.setPipeline,this.setClippingPlanes=Xr=>{const ao=wd(Xr);Ot.forEach(Vs=>{Vs.mesh?.clippable&&(ao&&Vs.setDirty("shader"),Vs.setDirty("transparency"))})},this.start=()=>{Vr||(Vr=!0,cancelAnimationFrame($r),$r=Ta?Ta.requestAnimationFrame(ol):requestAnimationFrame(uh),this.emit("start"))},this.stop=()=>{Vr&&(Vr=!1,Ta?Ta.cancelAnimationFrame($r):cancelAnimationFrame($r),this.emit("stop"))},this.render=()=>ch(!0);const dh=this.destroy;this.destroy=()=>{this.stop(),this.xrSession=null,H.removeEventListener("webglcontextlost",Ad,!1),H.removeEventListener("webglcontextrestored",Md,!1),La.destroy(),ka.destroy(),Ja.destroy(),Rl?.destroy(),vc.destroy(),zl.destroy(),yc.destroy(),bc.destroy(),oc.destroy(),Ot.clear(),Jt.clear(),Fn.clear(),Tn.clear(),An.clear(),Js.clear(),As.clear(),Or&&(Or.off("change",Gu),Or=null,Gu()),wa.imageLightSpecularTexture&&(u.deleteTexture(wa.imageLightSpecularTexture),delete wa.imageLightSpecularTexture),wa.imageLightIrradianceTexture&&(u.deleteTexture(wa.imageLightIrradianceTexture),delete wa.imageLightIrradianceTexture),this.root=null,this.camera=null,this.xrRefSpace=null,u!==a?.gl&&u.getExtension("WEBGL_lose_context")?.loseContext(),dh()}}supportsTransparencyMode(a){return Pf.has(a)}}function Fh(f,a){const g=f[0],u=a[0],O=Math.abs(g-u);if((isNaN(O)||O===1/0)&&g!==u||O>J*Math.max(1,Math.abs(g),Math.abs(u)))return!1;const H=a[1],te=f[1],Q=Math.abs(te-H);if((isNaN(Q)||Q===1/0)&&te!==H||Q>J*Math.max(1,Math.abs(te),Math.abs(H)))return!1;const be=f[2],Me=a[2],Ee=Math.abs(be-Me);return!((isNaN(Ee)||Ee===1/0)&&be!==Me||Ee>J*Math.max(1,Math.abs(be),Math.abs(Me)))}class Uc{constructor(){d(this,"min",(0,m.fromValues)(1/0,1/0,1/0)),d(this,"max",(0,m.fromValues)(-1/0,-1/0,-1/0))}expand(a){return a.min[0]<this.min[0]&&(this.min[0]=a.min[0]),a.min[1]<this.min[1]&&(this.min[1]=a.min[1]),a.min[2]<this.min[2]&&(this.min[2]=a.min[2]),a.max[0]>this.max[0]&&(this.max[0]=a.max[0]),a.max[1]>this.max[1]&&(this.max[1]=a.max[1]),a.max[2]>this.max[2]&&(this.max[2]=a.max[2]),this}expandPoint(a){return a[0]<this.min[0]&&(this.min[0]=a[0]),a[1]<this.min[1]&&(this.min[1]=a[1]),a[2]<this.min[2]&&(this.min[2]=a[2]),a[0]>this.max[0]&&(this.max[0]=a[0]),a[1]>this.max[1]&&(this.max[1]=a[1]),a[2]>this.max[2]&&(this.max[2]=a[2]),this}equals(a){return Fh(this.min,a.min)&&Fh(this.max,a.max)}clear(){return(0,m.set)(this.min,1/0,1/0,1/0),(0,m.set)(this.max,-1/0,-1/0,-1/0),this}copy(a){return st(this,a),this}}function Bh(f,a,g,u,O=0,H=0){const[te,Q,be]=g,[Me,Ee,Pe]=u;let rt=f[0+O]-te,Dt=a[0+H]-te,Ft=f[1+O]-Q,Wt=a[1+H]-Q,Ot=f[2+O]-be,Jt=a[2+H]-be;Me||rt?rt/=Me:rt=1/Me,Me||Dt?Dt/=Me:Dt=1/Me,Ee||Ft?Ft/=Ee:Ft=1/Ee,Ee||Wt?Wt/=Ee:Wt=1/Ee,Pe||Ot?Ot/=Pe:Ot=1/Pe,Pe||Jt?Jt/=Pe:Jt=1/Pe;const Fn=Math.min(Math.max(rt,Dt),Math.max(Ft,Wt),Math.max(Ot,Jt));if(Fn<0)return Fn;const Tn=Math.max(Math.min(rt,Dt),Math.min(Ft,Wt),Math.min(Ot,Jt));return Tn>Fn?-1/0:Math.max(0,Tn)}function tu(f,a,g){return f?Bh(f.min,f.max,a,g):-1/0}const Vc=w(68023);var sd=N.n(Vc);const qa=new Ze(()=>new Uc,f=>f.clear());class Ru{constructor(a,g){d(this,"getBounds",void 0),d(this,"box",new Uc),d(this,"centroid",(0,m.create)()),d(this,"object",void 0),d(this,"node",void 0),this.getBounds=a,this.object=g,this.update()}update(){const{centroid:a,box:g}=this;this.getBounds(g,this.object),a[0]=(g.min[0]+g.max[0])/2,a[1]=(g.min[1]+g.max[1])/2,a[2]=(g.min[2]+g.max[2])/2}}let Ou=function(f){return f.Center="center",f.EqualCounts="equal",f.SurfaceArea="sah",f}({});function Wd(f,a){return(f.min[a]+f.max[a])/2}function Nh(f,a=f.axis){return Wd(f.box,a)}function ec(f){const{min:a,max:g}=f,u=Math.max(0,g[0]-a[0]),O=Math.max(0,g[1]-a[1]),H=Math.max(0,g[2]-a[2]);return 2*(u*O+u*H+O*H)}function Pu(f){return ec(f.box)}function tc(f){const a=qa.get();for(let u=0,O=f.length;u<O;u++)a.expand(f[u].box);const g=ec(a);return qa.release(a),g}function Nl(f,a=!0){do{const{left:g,right:u}=f;f.box.copy(g.box).expand(u.box),f=f.parent}while(a&&f)}class ad{constructor(a,g,u,O=0){d(this,"box",void 0),d(this,"parent",null),d(this,"left",null),d(this,"right",null),d(this,"objects",null),d(this,"adapter",void 0),d(this,"axis",void 0),d(this,"depth",void 0),this.box=new Uc,this.axis=0,this.parent=g,this.depth=O,this.objects=u?Array.from(u):[],this.adapter=a,a.bvh.maxDepth<O&&(a.bvh.maxDepth=O);let H=null,te=null;if(Object.defineProperties(this,{left:{get:()=>H,set:Q=>{H=Q,Q&&(Q.parent=this)}},right:{get:()=>te,set:Q=>{te=Q,Q&&(Q.parent=this)}}}),this.objects.length<=this.adapter.maxLeafObjects){for(let Q=0,be=this.objects.length;Q<be;Q++)this.objects[Q].node=this;_c(this),Kd(this)}else _c(this),Uh(this),Nl(this,!1)}add(a){!function(g,u){const O=ec(u.box),H=qa.get();for(;!g.objects;){const{left:te,right:Q}=g,be=Pu(te);H.copy(te.box).expand(u.box);const Me=be+ec(H),Ee=Pu(Q);H.copy(Q.box).expand(u.box);const Pe=Ee+ec(H);if(H.copy(te.box).expand(Q.box),ec(H)+O<.3*Math.min(Me,Pe))return Lh(g,u),void qa.release(H);g=Me<Pe?te:Q}qa.release(H),g.objects.push(u),u.node=g,hu(g),Kd(g)}(this,a)}delete(a){a.node=null;const g=this.objects.indexOf(a);g>=0&&this.objects.splice(g,1),this.objects.length>0?hu(this):this.parent&&(this.objects=null,function(u){const O=u.parent,H=u===O.left?O.right:O.left;if(O.box.copy(H.box),O.left=H.left,O.right=H.right,O.objects=H.objects,O.objects)for(let te=0,Q=O.objects.length;te<Q;te++)O.objects[te].node=O;else O.left.parent=O,O.right.parent=O,O.setDepth();O.parent&&Nl(O.parent)}(this),this.parent=null)}setDepth(a=this.depth){if(this.depth=a,a>this.adapter.bvh.maxDepth&&(this.adapter.bvh.maxDepth=a),!this.objects){const g=a+1;this.left.setDepth(g),this.right.setDepth(g)}}size(){return this.objects?this.left.size()+this.right.size():1}}function _c(f){if(f.box.clear(),f.objects)for(let a=0,g=f.objects.length;a<g;a++)f.box.expand(f.objects[a].box)}function hu(f){const a=qa.get();a.copy(f.box),_c(f);const g=!a.equals(f.box);return g&&f.parent&&Nl(f.parent),qa.release(a),g}function Lh(f,a){const{left:g,right:u}=f,O=new ad(f.adapter,f);O.left=g,O.right=u,O.objects=null,g.parent=O,u.parent=O,Nl(O,!1);const H=new ad(f.adapter,f);H.objects.push(a),a.node=H,_c(H),f.left=O,f.right=H,f.setDepth(),Nl(f)}function Uh(f){for(let H=0,te=f.objects.length;H<te;H++)f.objects[H].node=null;const a=f.objects,{splitMethod:g}=f.adapter;let u=null;if(g===Ou.SurfaceArea){const H=Math.floor(f.objects.length/2);let te=1/0;for(let Q=0;Q<3;Q++){sd()(a,H,0,a.length-1,(Pe,rt)=>Pe.centroid[Q]-rt.centroid[Q]);const be=a.slice(0,H),Me=a.slice(H),Ee=tc(be)*be.length+tc(Me)*Me.length;if(Ee<te&&(te=Ee,u={axis:Q,left:be,right:Me},0===Ee))break}}else{const H=qa.get();for(let Ee=0;Ee<a.length;Ee++)H.expandPoint(a[Ee].centroid);let te=-1,Q=-1/0;for(let Ee=0;Ee<3;Ee++){const Pe=H.max[Ee]-H.min[Ee];Pe>Q&&(te=Ee,Q=Pe)}const be=Wd(H,te);qa.release(H);const Me=function(Ee,Pe){let rt=-1,Dt=Ee.length;for(;;){do{rt++}while(rt<Dt&&Pe(Ee[rt])<=0);do{Dt--}while(Dt>=0&&Pe(Ee[Dt])>0);if(rt>=Dt)return Dt+1;const Ft=Ee[rt];Ee[rt]=Ee[Dt],Ee[Dt]=Ft}}(a,Ee=>Ee.centroid[te]-be);if(g===Ou.Center&&Me>0&&Me<a.length-1){const Ee=a.slice(0,Me),Pe=a.slice(Me);u={axis:te,left:Ee,right:Pe}}if(!u){const Ee=Math.floor(a.length/2);sd()(a,Ee,0,a.length-1,(Dt,Ft)=>Dt.centroid[te]-Ft.centroid[te]);const Pe=a.slice(0,Ee),rt=a.slice(Ee);u={axis:te,left:Pe,right:rt}}}f.objects=null;const O=f.depth+1;f.axis=u.axis,f.left=new ad(f.adapter,f,u.left,O),f.right=new ad(f.adapter,f,u.right,O)}function Kd(f){f.objects&&f.objects.length>f.adapter.maxLeafObjects&&Uh(f)}const nc=[[f=>f.right?.left,[f=>f.left,f=>f.right?.right]],[f=>f.right?.right,[f=>f.right?.left,f=>f.left]],[[f=>f.right,f=>f.left?.right],f=>f.left?.left],[[f=>f.left?.left,f=>f.right],f=>f.left?.right],[[f=>f.right?.right,f=>f.left?.right],[f=>f.right?.left,f=>f.left?.left]],[[f=>f.right?.left,f=>f.left?.right],[f=>f.left?.left,f=>f.right?.right]]];function Vh(f,a){if(Array.isArray(a)){const u=a[0](f),O=a[1](f);if(!u||!O)return 1/0;const H=qa.get();H.copy(u.box).expand(O.box);const te=ec(H);return qa.release(H),te}const g=a(f);return g?ec(g.box):1/0}function Xd(f){const{left:a,right:g,adapter:u}=f,{refitNodes:O}=u;if(f.parent&&a?.objects&&g?.objects)return void O.add(f.parent);const H=Pu(a)+Pu(g);let te=null,Q=H;for(let Tn=0,An=nc.length;Tn<An;Tn++){const vn=nc[Tn],kn=Vh(f,vn[0])+Vh(f,vn[1]);kn<Q&&(Q=kn,te=vn)}if(!te)return void(f.parent&&O.add(f.parent));if(f.parent&&O.add(f.parent),(H-Q)/H<.3)return;const[be,Me]=te;let Ee=!1;const Pe=Array.isArray(be),rt=Array.isArray(Me),Dt=Pe?a:be(f),Ft=rt?g:Me(f);let Wt,Ot,Jt,Fn;Pe?(Wt=be[0](f),Ot=be[1](f)):(Wt=a.left,Ot=a.right,Ee=!0),f.left=Dt,Dt.left=Wt,Dt.right=Ot,rt?(Jt=Me[0](f),Fn=Me[1](f)):(Jt=g.left,Fn=g.right,Ee=!0),f.right=Ft,Ft.left=Jt,Ft.right=Fn,Pe&&Nl(Dt,!1),rt&&Nl(Ft,!1),Ee&&f.setDepth()}function pu(f,a,g=1/0,...u){const{origin:O,direction:H,inspect:te,filter:Q}=a,be=a.near||0;let Me=null;const Ee=H?tu(f.box,O,H):Ka(f.box,O,g);if(Ee<0||Ee>g)return null;if(f.objects){for(const Wt of f.objects)if(!Q||Q(Wt.object)){let Ot=Ee;if(f.objects.length>1&&(Ot=H?tu(Wt.box,O,H):Ka(Wt.box,O,g)),Ot<=g+J)if(te){const Jt=te(Wt.object,O,Ot,g,a,...u);Jt&&(Me&&Jt.distance<Me.distance||Jt.distance<=g)&&Jt.distance>=be-J&&(Me=Jt,g=Me.distance)}else Ot>=be-J&&(g=Ot,Me={object:Wt.object,distance:Ot})}return Me}let Pe=!0;if(H)Pe=H[f.axis]>0;else{const Wt=f.left?Nh(f.left,f.axis):-1/0,Ot=f.right?Nh(f.right,f.axis):1/0,Jt=O[f.axis];Pe=Math.abs(Wt-Jt)<=Math.abs(Ot-Jt)}const Dt=Pe?f.right:f.left,Ft=pu(Pe?f.left:f.right,a,g,...u);if(Ft&&(Me=Ft,g=Me.distance),!Me||g>be){const Wt=pu(Dt,a,g,...u);Wt&&(Me=Wt)}return Me}class sm{constructor(a,g,u){d(this,"maxDepth",0),d(this,"root",void 0),d(this,"size",void 0),d(this,"bounds",void 0),d(this,"maxLeafObjects",void 0),d(this,"add",void 0),d(this,"delete",void 0),d(this,"clear",void 0),d(this,"optimize",void 0),d(this,"query",void 0),d(this,"forEach",void 0);const O=u?.maxLeafObjects||1,H=new Set,te={bvh:this,bounds:a,refitNodes:H,maxLeafObjects:O,splitMethod:Ou.SurfaceArea},Q=new Map;let be=null;if(g){be=new Set;const Ee=new Set;for(const Pe of g)if(!Ee.has(Pe)){Ee.add(Pe);const rt=new Ru(a,Pe);be.add(rt),Q.set(Pe,rt)}be.size&&(te.splitMethod=Ou.Center)}const Me=new ad(te,null,be);this.add=Ee=>{let Pe=Q.get(Ee);Pe?Pe.update():Pe=new Ru(a,Ee),Q.set(Ee,Pe),Pe.node?hu(Pe.node)&&Pe.node.parent&&H.add(Pe.node.parent):Me.add(Pe)},this.delete=Ee=>{const Pe=Q.get(Ee);Pe&&Pe.node&&(Pe.node.delete(Pe),Q.delete(Ee))},this.clear=()=>{if(Q.clear(),Me.objects)for(let Ee=0,Pe=Me.objects.length;Ee<Pe;Ee++)Me.delete(Me.objects[Ee]);else Me.left=null,Me.right=null,Me.box.clear(),Me.objects=[];this.maxDepth=0},this.query=(Ee,...Pe)=>{const rt=isNaN(Ee.radius)?1/0:Ee.radius;return pu(Me,Ee,rt,...Pe)},this.optimize=()=>{if(1===O)for(;H.size;){let Ee=0;for(const rt of H)Ee=Math.max(Ee,rt.depth);const Pe=new Set;for(const rt of H)rt.depth===Ee&&(Pe.add(rt),H.delete(rt));for(const rt of Pe)Xd(rt)}else console.warn("Optimize only works if maxLeafObjects = 1")},this.forEach=Ee=>{Q.forEach(Pe=>Ee(Pe.object))},Object.defineProperties(this,{root:{get:()=>Me},size:{get:()=>Q.size},maxLeafObjects:{get:()=>O},bounds:{get:()=>Me.box}})}}function kf(f,a=f.axis){return((g=f.box).min[u=a]+g.max[u])/2;var g,u}class ld{constructor(a,g,u,O=0,H=0){d(this,"box",void 0),d(this,"parent",null),d(this,"left",null),d(this,"right",null),d(this,"objects",null),d(this,"axis",void 0),d(this,"depth",void 0),this.box=new Uc,this.parent=g,this.axis=O,this.depth=H,this.objects=u?Array.from(u):[],a.tree.maxDepth<H&&(a.tree.maxDepth=H);for(let Q=0,be=this.objects.length;Q<be;Q++){const Me=a.boundingBoxes.get(this.objects[Q]);this.box.expand(Me)}if(H>=a.maxNodeDepth||this.objects.length<=a.maxLeafObjects)return;const{maxLeafObjects:te}=a;for(let Q=0;Q<3;Q++){const be=(this.box.min[O]+this.box.max[O])/2,Me=[],Ee=[];for(let Pe=0,rt=this.objects.length;Pe<rt;Pe++){const Dt=this.objects[Pe];a.boundingBoxes.get(Dt).min[O]<=be?Me.push(Dt):Ee.push(Dt)}if(Me.length>=te&&Ee.length>=te){this.axis=O,this.objects=null;const Pe=(O+1)%3,rt=H+1;return this.left=new ld(a,this,Me,Pe,rt),void(this.right=new ld(a,this,Ee,Pe,rt))}O=(O+1)%3}}size(){return this.left&&this.right?this.left.size()+this.right.size():1}}function mu(f,a,g,u=1/0,...O){const{origin:H,direction:te,inspect:Q,filter:be}=a,Me=a.near||0;let Ee=null;const Pe=te?tu(f.box,H,te):Ka(f.box,H,u);if(Pe<0||Pe>u)return null;if(f.objects){for(const Ot of f.objects)if(!be||be(Ot)){let Jt=Pe;if(f.objects.length>1&&!Q){const Fn=g.get(Ot);Jt=te?tu(Fn,H,te):Ka(Fn,H,u)}if(Jt<=u+J)if(Q){const Fn=Q(Ot,H,Jt,u,a,...O);Fn&&(Ee&&Fn.distance<Ee.distance||Fn.distance<=u)&&Fn.distance>=Me-J&&(Ee=Fn,u=Ee.distance)}else Jt>=Me-J&&(u=Jt,Ee={object:Ot,distance:Jt})}return Ee}let rt=!0;if(te)rt=te[f.axis]>0;else{const Ot=f.left?kf(f.left,f.axis):-1/0,Jt=f.right?kf(f.right,f.axis):1/0,Fn=H[f.axis];rt=Math.abs(Ot-Fn)<=Math.abs(Jt-Fn)}const Ft=rt?f.right:f.left,Wt=mu(rt?f.left:f.right,a,g,u,...O);if(Wt&&(Ee=Wt,u=Wt.distance),!Ee||u>Me){const Ot=mu(Ft,a,g,u,...O);Ot&&(Ee=Ot)}return Ee}class cd{constructor(a,g,u){d(this,"maxDepth",0),d(this,"root",void 0),d(this,"size",void 0),d(this,"bounds",void 0),d(this,"maxLeafObjects",void 0),d(this,"query",void 0),d(this,"forEach",void 0);const O=u?.maxLeafObjects||1,H=u?.maxNodeDepth||1/0,te=new Map,{preserveBounds:Q=!0}=u||{},be={tree:this,bounds:a,maxLeafObjects:O,maxNodeDepth:H,boundingBoxes:te},Me=new Set(g);Me.forEach(Pe=>{const rt=new Uc;a(rt,Pe),te.set(Pe,rt)});const Ee=new ld(be,null,Me);!1===Q&&te.clear(),this.query=(Pe,...rt)=>{if(!Pe.inspect&&!1===Q)throw new Error("KdTree queries without preserved object bounds require an inspect callback function.");const Dt=isNaN(Pe.radius)?1/0:Pe.radius;return mu(Ee,Pe,be.boundingBoxes,Dt,...rt)},this.forEach=Pe=>{Me.forEach(rt=>Pe(rt))},Object.defineProperties(this,{root:{get:()=>Ee},size:{get:()=>Me.size},maxLeafObjects:{get:()=>O},bounds:{get:()=>Ee.box}})}}function jc(f,a,g,u){const O=3*g,H=O+1;let Q=a[O],be=a[H],Me=a[H+1];u&&(Q=Q*u[0]+u[12],be=be*u[5]+u[13],Me=Me*u[10]+u[14]),Q<f.min[0]&&(f.min[0]=Q),be<f.min[1]&&(f.min[1]=be),Me<f.min[2]&&(f.min[2]=Me),Q>f.max[0]&&(f.max[0]=Q),be>f.max[1]&&(f.max[1]=be),Me>f.max[2]&&(f.max[2]=Me)}function am(f,a,g,u,O){f.clear();const H=a.attributes.position.data,te=a.attributes.position.decodeMat;jc(f,H,g,te),jc(f,H,u,te),jc(f,H,O,te)}function lm(f,a,g,u,O){f.clear();for(let H=0,te=a.morphKeys.length;H<te;H++){const Q=a.morphKeys[H],be=Q.attributes.position.data,Me=Q.attributes.position.decodeMat;jc(f,be,g,Me),jc(f,be,u,Me),jc(f,be,O,Me)}}class Ff extends le{constructor(){super(),d(this,"get",void 0),d(this,"release",void 0);const a=new lo({create:u=>{if(u.attributes&&u.topology===it.triangles){const O=u.morphKeys?.length?lm:am,H=u.indices?(be,Me)=>{const{index:Ee,geometry:Pe}=Me,rt=Ee+1;return O(be,Pe,Pe.indices[Ee],Pe.indices[rt],Pe.indices[rt+1])}:(be,Me)=>{const{index:Ee,geometry:Pe}=Me,rt=Ee+3;return O(be,Pe,Ee,rt,rt+3)},te=[];if(u.indices)for(let be=0,Me=u.indices.length;be<Me;be+=3)te.push({geometry:u,index:be});else for(let be=0,Me=u.attributes.position.data.length;be<Me;be+=9)te.push({geometry:u,index:be});const Q=new cd(H,te,{maxLeafObjects:8,preserveBounds:!1});return this.emit("create",{geometry:u}),Q}return null},release:()=>{}});this.get=u=>a.get(u),this.release=u=>a.release(u);const g=this.destroy;this.destroy=()=>{a.destroy(),g()}}}function um(){const f=(0,E.create)(),a=(0,m.create)(),g=(0,m.create)();return{frame(u){(0,L.getRotation)(f,u)},update(u){u.updateWorldMatrix(),(0,L.getTranslation)(a,u.worldMatrix),(0,L.getScaling)(g,u.worldMatrix),(0,L.fromRotationTranslationScale)(u.worldMatrix,f,a,g),u.setWorldMatrix(u.worldMatrix)}}}function dm(){const f=(0,m.create)();return{frame(a){(0,L.getTranslation)(f,a)},update(a){a.updateWorldMatrix();const[g,u,O]=f;a.worldMatrix[12]=g,a.worldMatrix[13]=u,a.worldMatrix[14]=O,a.setWorldMatrix(a.worldMatrix)}}}class Il{constructor(a){d(this,"update",void 0),d(this,"destroy",void 0);const g=new Set,u={copyPosition:dm(),copyRotation:um()};function O(Q){Q.constraints.length?g.add(Q):g.delete(Q)}function H(Q){"constraints"===Q.property&&O(Q.node)}const te=new li;te.on("add",function(Q){Q.on("change",H),O(Q)}),te.on("remove",function(Q){Q.off("change",H),g.delete(Q)}),te.root=a,this.update=Q=>{const be={};g.forEach(Me=>{Me.constraints.forEach(Ee=>{const Pe=Ee.type;if(Pe in u){const rt=u[Pe];be[Pe]||(be[Pe]=!0,rt.frame?.(Q)),rt.update(Me,Ee)}})})},this.destroy=()=>{te.destroy(),g.clear()}}}const ku=(0,L.create)();function Yd(f,a,g){return f*f+a*a+g*g}function Bf(f,a){const g=(0,m.create)(),u={origin:(0,m.create)(),direction:g,radius:1/0,near:0,inspect:a};return(O,H,te,Q,{direction:be},...Me)=>{if(O.geometry.topology!==it.triangles)return null;const Ee=f(O.geometry);if(!Ee){const Dt=[0,0,0];return(0,m.scaleAndAdd)(Dt,H,be,te),{object:O,distance:te,intersection:Dt}}let Pe=null;const{worldMatrix:rt}=O;if((0,L.invert)(ku,rt),(0,m.transformMat4)(u.origin,H,ku),be)u.direction=g,Q<1/0?((0,m.scaleAndAdd)(g,H,be,Q),(0,m.transformMat4)(g,g,ku),(0,m.subtract)(g,g,u.origin),u.radius=(0,m.length)(g),(0,m.scale)(g,g,1/u.radius)):((0,m.add)(g,H,be),(0,m.transformMat4)(g,g,ku),(0,m.subtract)(g,g,u.origin),(0,m.normalize)(g,g),u.radius=1/0),Pe=Ee.query(u,O,...Me);else{u.direction=null;const Dt=Yd(rt[0],rt[1],rt[2]),Ft=Yd(rt[4],rt[5],rt[6]),Wt=Yd(rt[8],rt[9],rt[10]),Ot=Math.sqrt(Math.max(Dt,Ft,Wt));u.radius=Math.max(1e-4,Q/Ot),Pe=Ee.query(u,O,...Me)}if(Pe){const{object:Dt,intersection:Ft,...Wt}=Pe;(0,m.transformMat4)(Ft,Ft,rt);let Ot=(0,m.distance)(H,Ft);if(Ot>=te-J&&Ot<=Q+J)return Ot=we(Ot,te,Q),{object:O,...Wt,intersection:Ft,distance:Ot,triIndex:Dt.index}}return null}}const ga=(0,m.create)(),Gc=(0,m.create)(),Qd=(0,m.create)(),ud=(0,m.create)();function Nf(f,a,g,u,O,H){(0,m.subtract)(ga,O,u),(0,m.subtract)(Gc,H,u),(0,m.cross)(Qd,ga,Gc);const te=-(0,m.dot)(g,Qd);if(te<0||0===te)return!1;(0,m.subtract)(ud,a,u),(0,m.cross)(Gc,ud,Gc);const Q=-(0,m.dot)(g,Gc);if(Q<0)return!1;(0,m.cross)(ga,ga,ud);const be=-(0,m.dot)(g,ga);if(be<0||Q+be>te)return!1;const Me=(0,m.dot)(ud,Qd);return!(Me<0)&&((0,m.scaleAndAdd)(f,a,g,Me/te),!0)}function rc(f,a,g,u){let te=a[g],Q=a[g+1],be=a[g+2];u&&(te=te*u[0]+u[12],Q=Q*u[5]+u[13],be=be*u[10]+u[14]),f[0]=te,f[1]=Q,f[2]=be}function Lf(f,a,g,u,O){const{geometry:H}=f,{indices:te}=H,Q=a+1,be=Q+1,{morphKeyIndex:Me,morphFactor:Ee}=f;if(Me>=0&&H.morphKeys.length){const Pe=H.morphKeys[Me],rt=Pe.attributes.position.data,Dt=Pe.attributes.position.decodeMat;if(rc(g,rt,3*te[a],Dt),rc(u,rt,3*te[Q],Dt),rc(O,rt,3*te[be],Dt),Ee>0){const Ft=H.morphKeys[Me+1],Wt=Ft.attributes.position.data,Ot=Ft.attributes.position.decodeMat,Jt=Ce.get();rc(Jt,Wt,3*te[a],Ot),(0,m.lerp)(g,g,Jt,Ee),rc(Jt,Wt,3*te[Q],Ot),(0,m.lerp)(u,u,Jt,Ee),rc(Jt,Wt,3*te[be],Ot),(0,m.lerp)(O,O,Jt,Ee),Ce.release(Jt)}}else{const Pe=H.attributes.position.decodeMat,rt=H.attributes.position.data;rc(g,rt,3*te[a],Pe),rc(u,rt,3*te[Q],Pe),rc(O,rt,3*te[be],Pe)}}const jh=(f,a,g,u,{direction:O},H)=>{const te=Ce.get(),Q=Ce.get(),be=Ce.get(),Me=Ce.get(),{index:Ee}=f;Lf(H,Ee,te,Q,be);const Pe=O?Nf(Me,a,O,te,Q,be):function(Dt,Ft,Wt,Ot,Jt,Fn){const Tn=Wt*Wt,An=Ce.get(),vn=Ce.get(),kn=Ce.get();(0,m.subtract)(An,Jt,Ot),(0,m.subtract)(vn,Fn,Ot),(0,m.subtract)(kn,Ft,Ot);const nr=(0,m.dot)(An,kn),ur=(0,m.dot)(vn,kn);if(Ce.release(kn),nr<=0&&ur<=0)return(0,m.copy)(Dt,Ot),Ce.release(An),Ce.release(vn),(0,m.squaredDistance)(Ft,Dt)<=Tn;const Qn=Ce.get();(0,m.subtract)(Qn,Ft,Jt);const kr=(0,m.dot)(An,Qn),$r=(0,m.dot)(vn,Qn);if(Ce.release(Qn),kr>=0&&$r>=kr)return(0,m.copy)(Dt,Jt),Ce.release(An),Ce.release(vn),(0,m.squaredDistance)(Ft,Dt)<=Tn;const Vr=nr*$r-kr*ur;if(Vr<=0&&nr>=0&&kr<=0)return(0,m.scaleAndAdd)(Dt,Ot,An,nr/(nr-kr)),Ce.release(An),Ce.release(vn),(0,m.squaredDistance)(Ft,Dt)<=Tn;const Fr=Ce.get();(0,m.subtract)(Fr,Ft,Fn);const di=(0,m.dot)(An,Fr),ai=(0,m.dot)(vn,Fr);if(Ce.release(Fr),ai>=0&&di<=ai)return(0,m.copy)(Dt,Fn),Ce.release(An),Ce.release(vn),(0,m.squaredDistance)(Ft,Dt)<=Tn;const fi=di*ur-nr*ai;if(fi<=0&&ur>=0&&ai<=0)return(0,m.scaleAndAdd)(Dt,Ot,vn,ur/(ur-ai)),Ce.release(An),Ce.release(vn),(0,m.squaredDistance)(Ft,Dt)<=Tn;const Or=kr*ai-di*$r;if(Or<=0&&$r-kr>=0&&di-ai>=0){const fo=Ce.get();return(0,m.scaleAndAdd)(Dt,Jt,fo,($r-kr)/($r-kr+(di-ai))),Ce.release(An),Ce.release(vn),Ce.release(fo),(0,m.squaredDistance)(Ft,Dt)<=Tn}const bi=1/(Or+fi+Vr),go=Vr*bi;return(0,m.scaleAndAdd)(Dt,Ot,An,fi*bi),(0,m.scaleAndAdd)(Dt,Dt,vn,go),Ce.release(An),Ce.release(vn),(0,m.squaredDistance)(Ft,Dt)<=Tn}(Me,a,u,te,Q,be);Ce.release(te),Ce.release(Q),Ce.release(be);let rt=null;return Pe&&(rt={object:f,distance:(0,m.distance)(a,Me),intersection:Array.from(Me)}),Ce.release(Me),rt};function Gh(f,a,g=J){const[u,O,H]=a.min,[te,Q,be]=a.max,Me=f.worldMatrixInverse,Ee=Me[2],Pe=Me[6],rt=Me[10],Dt=Me[14],Ft=te-u,Wt=Q-O,Ot=be-H,Jt=Math.sqrt(Ft*Ft+Wt*Wt+Ot*Ot);let Fn=u*Ee+O*Pe+H*rt+Dt;if(isFinite(Fn)){Fn=Math.max(Fn,te*Ee+O*Pe+H*rt+Dt),Fn=Math.max(Fn,u*Ee+Q*Pe+H*rt+Dt),Fn=Math.max(Fn,u*Ee+O*Pe+be*rt+Dt),Fn=Math.max(Fn,te*Ee+Q*Pe+H*rt+Dt),Fn=Math.max(Fn,te*Ee+O*Pe+be*rt+Dt),Fn=Math.max(Fn,u*Ee+Q*Pe+be*rt+Dt),Fn=Math.max(Fn,te*Ee+Q*Pe+be*rt+Dt);const{near:Tn,far:An}=f;f.near=Math.max(-Fn,g),f.far=Math.max(Jt-Fn,f.near+g),Tn===f.near&&An===f.far||f.dirtyProjection()}}const Hc=(0,Fo.create)();function fm(f,a,g){(0,Fo.transformMat4)(f.plane,a.plane,g),ea(f.plane),a.fade?((0,m.copy)(Hc,a.plane),Hc[3]=a.plane[3]+a.fade,(0,Fo.transformMat4)(Hc,Hc,g),ea(Hc),f.fade=Hc[3]-f.plane[3]):f.fade=0}const Hh=new Map([["bc1-rgba-unorm","s3"],["bc2-rgba-unorm","s3"],["bc3-rgba-unorm","s3"],["bc1-rgba-unorm-srgb","s3"],["bc2-rgba-unorm-srgb","s3"],["bc3-rgba-unorm-srgb","s3"],["bc4-r-unorm","rgtc"],["bc4-r-snorm","rgtc"],["bc5-rg-unorm","rgtc"],["bc5-rg-snorm","rgtc"],["bc6h-rgb-ufloat","bptc"],["bc6h-rgb-float","bptc"],["bc7-rgba-unorm","bptc"],["bc7-rgba-unorm-srgb","bptc"],["etc2-rgb8unorm","etc"],["etc2-rgb8unorm-srgb","etc"],["etc2-rgb8a1unorm","etc"],["etc2-rgb8a1unorm-srgb","etc"],["etc2-rgba8unorm","etc"],["etc2-rgba8unorm-srgb","etc"],["eac-r11unorm","etc"],["eac-r11snorm","etc"],["eac-rg11unorm","etc"],["eac-rg11snorm","etc"],["etc2-rgb8unorm","etc1"],["astc-4x4-unorm","astc"],["astc-5x4-unorm","astc"],["astc-5x5-unorm","astc"],["astc-6x5-unorm","astc"],["astc-6x6-unorm","astc"],["astc-8x5-unorm","astc"],["astc-8x6-unorm","astc"],["astc-8x8-unorm","astc"],["astc-10x5-unorm","astc"],["astc-10x6-unorm","astc"],["astc-10x8-unorm","astc"],["astc-10x10-unorm","astc"],["astc-12x10-unorm","astc"],["astc-12x12-unorm","astc"],["astc-4x4-unorm-srgb","astc"],["astc-5x4-unorm-srgb","astc"],["astc-5x5-unorm-srgb","astc"],["astc-6x5-unorm-srgb","astc"],["astc-6x6-unorm-srgb","astc"],["astc-8x5-unorm-srgb","astc"],["astc-8x6-unorm-srgb","astc"],["astc-8x8-unorm-srgb","astc"],["astc-10x5-unorm-srgb","astc"],["astc-10x6-unorm-srgb","astc"],["astc-10x8-unorm-srgb","astc"],["astc-10x10-unorm-srgb","astc"],["astc-12x10-unorm-srgb","astc"],["astc-12x12-unorm-srgb","astc"],["pvrtc-rgb4unorm","pvrtc"],["pvrtc-rgb2unorm","pvrtc"],["pvrtc-rgba4unorm","pvrtc"],["pvrtc-rgba2unorm","pvrtc"]]),hm=new Map([[Wn.Linear,"linear"],[Wn.Exponential,"exp"],[Wn.ExponentialSquared,"exp2"]]);class pm extends le{constructor(a,g){let u;super(),d(this,"renderer",void 0),d(this,"rootNode",void 0),d(this,"contentNode",void 0),d(this,"environmentNode",void 0),d(this,"camera",void 0),d(this,"started",void 0),d(this,"story",void 0),d(this,"bounds",new Uc),d(this,"setStory",void 0),d(this,"rayCast",void 0),d(this,"rayCastCamera",void 0),d(this,"searchNearestObject",void 0),d(this,"start",void 0),d(this,"stop",void 0);let O=null,H=!1;const{baseUrl:te,queryFilter:Q}=g,be=new Sl({canvas:g.canvas,contextName:g.contextName,optimizations:g.optimizations}),Me=new sm((Or,bi)=>st(Or,bi.worldBounds)),Ee=new Uc,Pe=new Set;let rt=!0;const Dt=[],Ft=new or;Ft.name="camera",Ft.near=.001,Ft.dirtyProjection(),Ft.updateWorldMatrix();const Wt=Or=>!(Or instanceof sn)&&(!Q||Q(Or)),Ot=Or=>{const{visible:bi}=Or,Mi=Wt(Or);bi&&Mi?Me.add(Or):Me.delete(Or);const go=Pe.has(Or),fo=bi&&!Mi;fo?Pe.add(Or):Pe.delete(Or),(fo||go)&&(rt=!0)};function Jt(Or){"geometry"!==Or.property&&"visible"!==Or.property||Ot(Or.node)}function Fn(Or){Ot(Or.node)}be.on("add",Or=>{Or instanceof bt&&(Or.on("updateWorldBounds",Fn),Or.on("change",Jt),Or.visible&&!Wt(Or)&&Pe.add(Or))}),be.on("remove",Or=>{Or instanceof bt&&(Or.off("updateWorldBounds",Fn),Or.off("change",Jt),Me.delete(Or),Pe.delete(Or))}),be.on("xrframe",({viewerPose:Or})=>{Or&&(u=Or.transform.matrix)});const Tn=new ke({name:"BioDigitalEngine"});Tn.add(Ft),be.root=Tn;const An=new ke({name:"BioDigitalEngine environment"});An.parent=Tn;const vn=new ke({name:"BioDigitalEngine content"});vn.parent=Tn,be.camera=Ft;const kn=new Il(Tn);be.on("animate",function(Or){const bi=Or/1e3;O?.update(bi),be.xrSession||(Ft.updateWorldMatrix(),u=Ft.worldMatrix),kn.update(u,Tn)}),be.on("update",()=>{rt&&(Ee.clear(),Pe.forEach(Or=>{Ee.expand(Or.worldBounds)}),rt=!1),this.bounds.copy(Me.bounds).expand(Ee),be.xrSession||Gh(Ft,this.bounds,.1*Nt)});const nr=(0,L.create)();function ur(){const Or=O?.activeChapter,bi=Or?.clippingPlanes||[];for(let Mi=Dt.length;Mi<bi.length;Mi++)Dt.push({plane:(0,Fo.create)(),fade:0});if(Dt.length=bi.length,Or){Or.contentNode.updateWorldMatrix(),(0,L.invert)(nr,Or.contentNode.worldMatrix),(0,L.transpose)(nr,nr);for(let Mi=0;Mi<bi.length;Mi++){const go=bi[Mi];go&&fm(Dt[Mi],go,nr)}}be.setClippingPlanes(Dt)}const Qn=()=>{if(O){const Or=O;O=null,vn.remove(Or.contentNode),An.remove(Or.environmentNode),be.environment.fog.mode="",be.environment.lightMap.texture=null,be.environment.reflectionMap.texture=null,be.physicalImageLight=null,Or.destroy()}},kr=Or=>Me.query(Or)||null,$r=new Ff,Vr={origin:(0,m.create)(),direction:(0,m.create)(),near:0,radius:1/0,inspect:Bf(Or=>$r.get(Or),jh)},Fr={origin:null,near:0,radius:1/0,inspect:Vr.inspect},di=(0,L.create)();this.rayCastCamera=(Or,bi,Mi)=>{const{canvas:go}=be,fo=Or/go.width*2-1,Yo=-bi/go.height*2+1,{origin:xi,direction:wr}=Vr;return Vr.near=void 0===Mi?.near?Ft.near:Mi.near,Vr.filter=Mi?.filter||void 0,Vr.radius=Mi?.radius?Mi.radius:Ft.far,(0,L.getTranslation)(xi,Ft.worldMatrix),(0,m.set)(wr,fo,Yo,.5),(0,L.invert)(di,Ft.projectionMatrix),(0,m.transformMat4)(wr,wr,di),(0,m.transformMat4)(wr,wr,Ft.worldMatrix),(0,m.subtract)(wr,wr,xi),(0,m.normalize)(wr,wr),kr(Vr)},this.rayCast=(Or,bi)=>{const{origin:Mi,direction:go}=Vr;return(0,L.getTranslation)(Mi,Or),(0,m.set)(go,0,0,-1),(0,m.transformMat4)(go,go,Or),(0,m.subtract)(go,go,Mi),(0,m.normalize)(go,go),Vr.near=void 0===bi?.near?Ft.near:bi.near,Vr.filter=bi?.filter||void 0,Vr.radius=bi?.radius?bi.radius:1/0,kr(Vr)},this.searchNearestObject=(Or,bi)=>(Fr.origin=Or,Vr.near=void 0===bi?.near?Ft.near:bi.near,Vr.filter=bi?.filter||void 0,Vr.radius=bi?.radius?bi.radius:1/0,kr(Vr));const ai=(Or=be.textureFormats,bi=g?.disableTextureCompression,bi?Or.filter(Mi=>!0===bi?!Hh.has(Mi):!bi[Hh.get(Mi)||Mi]):Or);var Or,bi;this.setStory=Or=>{if(Qn(),!Or)return;const bi=O=new dr(a,Or,{decompressNormals:!1,decompressPositions:!1,computeTangents:!0,textureFormats:ai,baseUrl:te,loadAllMorphs:g.loadAllMorphs,camera:Ft});let Mi=bi.activeChapter;bi.on("changechapter",go=>{const fo=bi.chapters[go];var Yo;Yo=fo.environment,Object.assign(be.environment.lightMap,Yo?.lightMap||{texture:null}),Object.assign(be.environment.reflectionMap,Yo?.reflectionMap||{texture:null}),function(xi){const{enabled:wr,mode:ci,start:oo=0,end:ca=1e3,density:Js=.01,...As}=xi||{},La=wr&&hm.get(ci)||"";Object.assign(be.environment.fog,As),be.environment.fog.start=oo*Nt,be.environment.fog.end=ca*Nt,be.environment.fog.density=Js/Nt,be.environment.fog.mode=La}(fo.properties.fog),ur(),be.physicalImageLight=fo.physicalImageLight,be.toneMapping=fo.toneMapping,be.transparencyMode=[fo.transparencyMode,fo.fallbackTransparency,Vt.Alpha].find(xi=>xi&&be.supportsTransparencyMode(xi)),be.setPostProcessingPipeline(fo.postProcess),Mi!==fo&&(fo.clippingPlanes.on("change",ur),fo.contentNode.on("dirty",ur),Mi?.clippingPlanes.off("change",ur),Mi?.contentNode.off("dirty",ur),Mi=fo),this.emit("changechapter",go)}),bi.on("destroy",()=>{Qn()}),vn.add(O.contentNode),An.add(O.environmentNode),H&&bi.start(),this.emit("changestory")},this.start=()=>{H||(H=!0,O?.start(),be.start(),this.emit("start"))},this.stop=()=>{H&&(H=!1,be.stop(),O?.stop(),this.emit("stop"))};const fi=this.destroy;this.destroy=()=>{Qn(),$r.destroy(),be.destroy(),this.emit("destroy"),fi()},Object.defineProperties(this,{renderer:{value:be,writable:!1},rootNode:{value:Tn,writable:!1},environmentNode:{value:An,writable:!1},contentNode:{value:vn,writable:!1},camera:{value:Ft,writable:!1},story:{get:()=>O},started:{get:()=>H}})}}class zh extends ar{constructor(a={}){const{left:g,right:u,top:O,bottom:H,...te}=a;super(te),d(this,"left",void 0),d(this,"right",void 0),d(this,"top",void 0),d(this,"bottom",void 0),this.left=g??-1,this.right=u??1,this.top=O??1,this.bottom=H??-1;let Q=!0;this.dirtyProjection=()=>{Q=!0,this.dirty||this.emit("dirty",{node:this})},this.updateProjectionMatrix=()=>{Q&&(0,L.ortho)(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far),Q=!1},Object.defineProperties(this,{dirty:{get:()=>Q||this.matrixDirty||this.worldMatrixDirty},projectionDirty:{get:()=>Q}})}}class $h extends le{constructor(a,g){super(),d(this,"play",void 0),d(this,"pause",void 0),d(this,"update",void 0),d(this,"loop",void 0),d(this,"currentTime",void 0),d(this,"playBackRate",void 0),d(this,"animationSystem",void 0),d(this,"paused",void 0),d(this,"duration",void 0);const u=!!g?.autoAnimate,O=Math.max(1e3/60,g?.maxDelta||fe);let H=!0,te=!1,Q=1,be=0,Me=1/0,Ee=0;const Pe=()=>{if(H)return;const Dt=performance.now(),Ft=Dt-Ee;Ft>O&&(Me-=O-Ft),Ee=Dt;const Wt=(Dt-Me)*Q/1e3,Ot=a.currentTime,{duration:Jt}=a;if(Wt>=Jt)if(te&&Jt>0)a.currentTime=Wt%Jt;else{const Fn=a.currentTime!==Jt;a.currentTime=Jt,this.pause(),Fn&&this.emit("ended",this)}else a.currentTime=Wt;Wt!==Ot&&this.emit("timeupdate",this),!H&&u&&(be=requestAnimationFrame(Pe))};this.update=Pe,this.play=()=>{if(!H)return;const Dt=a.currentTime;let Ft=a.currentTime;Ft>=a.duration&&(a.currentTime=Ft=0);const Wt=performance.now();Me=Wt-1e3*Ft/Q,Ee=Wt,H=!1,u&&(be=requestAnimationFrame(Pe)),this.emit("play",this),Ft!==Dt&&this.emit("timeupdate",this)},this.pause=()=>{H||(H=!0,cancelAnimationFrame(be),this.emit("pause",this))};const rt=this.destroy;this.destroy=()=>{this.pause(),rt()},Object.defineProperties(this,{loop:{get:()=>te,set(Dt){te=Dt}},currentTime:{get:()=>a.currentTime,set(Dt){if(Dt<0||Dt>a.duration||isNaN(Dt))throw new Error("Invalid animation system time: "+Dt);Dt!==a.currentTime&&(a.currentTime=Dt,this.emit("timeupdate",this))}},playBackRate:{get:()=>Q,set(Dt){if(!(Dt>0))throw new Error("Negative or zero playback rate not supported");Q!==Dt&&(Q=Dt,Me=performance.now()-1e3*a.currentTime/Q,this.emit("ratechange",this))}},paused:{get:()=>H},duration:{get:()=>a.duration},animationSystem:{value:a,writable:!1}})}}function Wh(f,a,g,u,O){const H=Ce.get(),te=Ce.get(),Q=Ce.get();(0,m.subtract)(H,O,g),(0,m.subtract)(te,u,g),(0,m.subtract)(Q,a,g);const be=(0,m.dot)(H,H),Me=(0,m.dot)(H,te),Ee=(0,m.dot)(H,Q),Pe=(0,m.dot)(te,te),rt=(0,m.dot)(te,Q);Ce.release(H),Ce.release(te),Ce.release(Q);const Dt=be*Pe-Me*Me;if(0===Dt)return null;const Ft=1/Dt,Wt=(Pe*Ee-Me*rt)*Ft,Ot=(be*rt-Me*Ee)*Ft;return(0,m.set)(f,1-Wt-Ot,Ot,Wt),f}function dd(f,a,g,u,O){const H=a[0],te=a[1],Q=a[2];return f[0]=g[0]*H+u[0]*te+O[0]*Q,f[1]=g[1]*H+u[1]*te+O[1]*Q,f[2]=g[2]*H+u[2]*te+O[2]*Q,f}function Uf(f,a,g,u){const O=Ce.get(),H=Ce.get();(0,m.subtract)(O,u,g),(0,m.subtract)(H,a,g),(0,m.cross)(O,O,H),Ce.release(H);const te=(0,m.squaredLength)(O);return te>0?((0,m.scale)(f,O,1/Math.sqrt(te)),Ce.release(O),f):(Ce.release(O),null)}const Vf=(0,L.create)();class jf{constructor(a,g){d(this,"title",void 0),d(this,"shown",void 0),d(this,"trackingMode",void 0),d(this,"renderableIndex",void 0),d(this,"primitiveIndex",void 0),d(this,"variantIndex",void 0),d(this,"anatomyObject",void 0),d(this,"barycenter",void 0),d(this,"direction",(0,m.fromValues)(0,0,1)),d(this,"position",(0,m.create)()),d(this,"visible",void 0),d(this,"update",void 0),d(this,"destroy",void 0);const{object:u,trackingMode:O,renderableIndex:H=-1,primitiveIndex:te=-1,variantIndex:Q=0}=g,be="primitive"===O&&g.barycenter?(0,m.copy)((0,m.create)(),g.barycenter):null;if("primitive"===O){if(!(H>=0))throw new Error("Primitive-tracked marker must have a renderableIndex >= 0.");if(!(te>=0))throw new Error("Primitive-tracked marker must have a primitiveIndex >= 0.");if(!(Q>=0))throw new Error("Primitive-tracked marker must have a variantIndex >= 0.");if(!(Q<u.variantCount))throw new Error("Primitive-tracked marker must have a variantIndex < object variant count.");if(!be)throw new Error("Primitive-tracked marker must have a barycenter.")}else{if("object"!==O)throw new Error("Unknown marker tracking mode: "+O);if(!g.worldPosition)throw new Error("Object-tracked marker must have a position.")}this.title=g.title||"";let Me=g.shown??!0,Ee=!0,Pe=!0,rt=null;const{sceneNode:Dt}=u,Ft=(0,m.create)(),Wt=()=>{if(Pe&&Ee){if("primitive"===O){if(!rt)return;rt.updateWorldMatrix();const An=te,vn=Ce.get(),kn=Ce.get(),nr=Ce.get();Lf(rt,An,vn,kn,nr),dd(this.position,this.barycenter,vn,kn,nr),(0,m.transformMat4)(this.position,this.position,rt.worldMatrix),(0,m.transformMat4)(vn,vn,rt.worldMatrix),(0,m.transformMat4)(kn,kn,rt.worldMatrix),(0,m.transformMat4)(nr,nr,rt.worldMatrix),Uf(this.direction,vn,kn,nr),Ce.release(vn),Ce.release(kn),Ce.release(nr)}else Dt.updateWorldMatrix(),(0,m.transformMat4)(this.position,Ft,Dt.worldMatrix);Ee=!1}},Ot=()=>{const An=Pe;Pe=Me&&u.shown&&a.active&&u.transformLoaded&&u.variant===Q&&("primitive"!==O||!!rt?.visible),Pe&&!An&&Wt()},Jt=()=>{Ee=!0},Fn=()=>{u.transformLoaded&&a.active&&(Dt.updateWorldMatrix(),(0,L.invert)(Vf,Dt.worldMatrix),(0,m.transformMat4)(Ft,g.worldPosition,Vf),Dt.on("updateWorldMatrix",Jt),u.off("loadtransform",Fn),a.off("activate",Fn),Ot(),Ee=!0)},Tn=()=>{if(u.loaded&&u.variant===Q){if(u.off("load",Tn),rt=u.variants[Q][H]?.meshNode||null,!rt)return console.warn("Missing meshNode on marker target object",u,H),void(Pe=!1);rt.on("updateWorldMatrix",Jt),rt.on("change",Jt),Ot(),Ee=!0}};this.update=()=>{Wt()},this.destroy=()=>{a.off("activate",Ot),a.off("deactivate",Ot),u.off("load",Tn),u.off("loadtransform",Fn),u.off("change",Ot),a.off("activate",Fn),Dt.off("updateWorldMatrix",Jt),rt?.off("updateWorldMatrix",Jt),rt?.off("change",Jt)},Object.defineProperties(this,{shown:{get:()=>Me,set:An=>{Me!==An&&(Me=An,Ot())}},visible:{get:()=>Pe},trackingMode:{writable:!1,value:O},anatomyObject:{writable:!1,value:u},renderableIndex:{writable:!1,value:H},primitiveIndex:{writable:!1,value:te},variantIndex:{writable:!1,value:Q},barycenter:{writable:!1,value:be}}),"primitive"===O?u.loaded?Tn():u.on("load",Tn):u.transformLoaded&&a.active?Fn():(u.on("loadtransform",Fn),a.on("activate",Fn)),u.on("change",Ot),a.on("activate",Ot),a.on("deactivate",Ot),Ot(),Wt()}}function Gf(f,a,g){return a.updateWorldMatrix(),a.updateProjectionMatrix(),(0,m.transformMat4)(f,g,a.worldMatrixInverse),(0,m.transformMat4)(f,f,a.projectionMatrix),f}function Kh(f,a,g){const{clientWidth:u,clientHeight:O}=a;return f[0]=(g[0]*u+u)/2,f[1]=(-g[1]*O+O)/2,f}const mm=.5*Nt;class Hf{static meshOccludesMarkers(a,g){const u=g.story.anatomySceneGraph.findAnatomyObject(a);return!!u&&("auto"===u.occludesMarkers?Rc(a)===Yl.opaque:"always"===u.occludesMarkers)}constructor(a,g,u,O){d(this,"id",void 0),d(this,"title",void 0),d(this,"visible",void 0),d(this,"clipped",void 0),d(this,"occluded",void 0),d(this,"position",(0,m.create)()),d(this,"viewPosition",(0,m.create)()),d(this,"canvasPosition",(0,us.create)()),d(this,"anatomyObject",void 0),d(this,"marker3D",void 0),d(this,"update",void 0),d(this,"destroy",void 0);let H=!1,te=!1,Q=!1;const be=new jf(g,u),{camera:Me}=g.story;this.update=()=>{if(be.update(),H=be.visible,!H)return te=!0,void(Q=!0);(0,m.transformMat4)(this.viewPosition,be.position,Me.worldMatrixInverse),Gf(this.position,Me,be.position),Kh(this.canvasPosition,a.renderer.canvas,this.position);const[Ee,Pe]=this.position;if(te=Ee<-1||Ee>1||Pe<-1||Pe>1||this.viewPosition[2]>0,te)return void(Q=!0);const rt=Ce.get(),Dt=Ce.get();(0,L.getTranslation)(rt,Me.worldMatrix),(0,m.subtract)(Dt,rt,be.position);const Ft=(0,m.length)(Dt);Ce.release(Dt);const Wt=Math.min(.1*Ft,mm),[Ot,Jt]=this.canvasPosition;Q=!!a.rayCastCamera(Ot,Jt,{filter:Tn=>Hf.meshOccludesMarkers(Tn,a),radius:Math.max(0,Ft-Wt)}),Ce.release(rt)},this.destroy=()=>{be.destroy()},Object.defineProperties(this,{visible:{get:()=>H},clipped:{get:()=>te},occluded:{get:()=>Q},id:{writable:!1,value:O},anatomyObject:{writable:!1,value:be.anatomyObject},marker3D:{writable:!1,value:be},title:{writable:!1,value:be.title}})}}class Xh extends le{constructor(a,g){let u,O;super(),d(this,"object",void 0),d(this,"target",void 0),d(this,"update",void 0),d(this,"grab",void 0),d(this,"release",void 0);const H=(0,L.create)(),te=(0,L.create)(),Q=te;this.update=(Me,Ee)=>{const rt=Me.getPose(g.inputSource.targetRaySpace,Ee);if(rt)if(O)(0,L.multiply)(O.worldMatrix,rt.transform.matrix,te),O.setWorldMatrix(O.worldMatrix);else{const Dt=a(rt)||null;Dt?(u=Dt.object,g.distance=Dt.distance,(0,L.copy)(H,rt.transform.matrix)):(u=null,g.distance=1/0)}},this.grab=()=>!(O||!u||(O=u,this.emit("grab",{object:O}),O.updateWorldMatrix(),(0,L.invert)(Q,H),(0,L.multiply)(te,Q,O.worldMatrix),0)),this.release=()=>{if(O){const Me=O;return O=null,this.emit("release",{object:Me}),!0}return!1};const be=this.destroy;this.destroy=()=>{this.release(),this.emit("destroy"),be()},Object.defineProperties(this,{object:{get:()=>O},target:{get:()=>O||u}})}}const zf=w(28638);function Yh(f,a){if(!f)return null;if(a(f))return f;for(const g of f.children){const u=Yh(g,a);if(u)return u}return null}function Fu(f,a){return Yh(f,g=>g.name===a)}const gm=w(79258),qd=w(13128),_m=w(36848),vm=10240,Qh=10241,$f=10242,ym=10243,zc=new Map([[9728,We.Nearest],[9729,We.Linear],[9984,We.Nearest],[9985,We.Linear],[9986,We.Nearest],[9987,We.Linear]]),qh=new Map([[9728,We.Nearest],[9729,We.Nearest],[9984,We.Nearest],[9985,We.Nearest],[9986,We.Linear],[9987,We.Linear]]),Jh=new Map([[33071,Ve.ClampToEdge],[10497,Ve.Repeat],[33648,Ve.MirrorRepeat]]);function Wf(f,a,g){const{name:u,children:O,mesh:H,light:te,matrix:Q,translation:be,scale:Me,rotation:Ee}=f,Pe=new ke(Object.assign({name:u},Q?null:{position:be,scale:Me,quaternion:Ee}));if(Q&&Pe.setMatrix(Q),H){const rt=a[H.id];if(rt.parent)throw new Error("Duplicate mesh parent");Pe.add(rt)}if(void 0!==te&&g){const rt=g[te];if(rt.parent)throw new Error("Duplicate mesh parent");Pe.add(rt)}if(O)for(let rt=0;rt<O.length;rt++){const Dt=Wf(O[rt],a,g);Pe.add(Dt)}return Pe}const Jd={TEXCOORD_0:"texcoord",COLOR_0:"color"};function Zh(f,a){return a===na?new Float32Array(f).map(g=>Math.max(g/127,-1)):a===bs?new Float32Array(f).map(g=>g/255):a===Lo?new Float32Array(f).map(g=>Math.max(g/32767,-1)):a===Ho?new Float32Array(f).map(g=>g/65535):f}function fd(f,a){const{attributes:g,indices:u,mode:O=4}=f;4!==O&&console.warn("Unknown primitive mode: "+O);const H={};u?.value&&(H.indices=u.value);for(const[be,Me]of Object.entries(g)){const{value:Ee,components:Pe,normalized:rt,componentType:Dt}=Me,Ft=rt?Zh(Ee,Dt):Ee;H[Jd[be]||be.toLocaleLowerCase()]={numComponents:Pe,data:Ft}}const te=g.POSITION.min&&g.POSITION?.normalized?Zh(g.POSITION.min,g.POSITION.componentType):g.POSITION.min,Q=g.POSITION.max&&g.POSITION?.normalized?Zh(g.POSITION.max,g.POSITION.componentType):g.POSITION.max;return a(H,te&&Q?{min:te,max:Q}:void 0)}function ep(f,a){const g={},u=[],O={};let H=null;const te=a.makeMaterial({id:"-no-material-",name:"<missing material>"},u),{makeMaterial:Q,makeGeometry:be=((rt,Dt)=>new Zt(rt,Dt)),makeMeshNode:Me=((rt,Dt,Ft)=>new br(rt,Dt,Ft))}=a;f.textures?.forEach((rt,Dt)=>{u[Dt]=function(Ft){const{sampler:Wt,source:Ot}=Ft,{image:Jt}=Ot,Fn=Wt.parameters||Wt,Tn=Wt.minFilter||Fn[Qh],An=Wt.magFilter||Fn[vm],vn=Fn[$f],kn=Fn[ym];return new Oo(Jt,{name:Ft.source.name||Ft.id,min:zc.get(Tn)||We.Linear,mag:zc.get(An)||We.Linear,mipmapFilter:qh.get(Tn)||We.Nearest,wrapU:Jh.get(vn)||Ve.Repeat,wrapV:Jh.get(kn)||Ve.Repeat,rowOrder:"top-down"})}(rt)}),f.materials?.forEach(rt=>{g[rt.id]=Q(rt,u)}),f.meshes?.forEach(rt=>{const Dt=new ke({name:rt.name||rt.id});O[rt.id]=Dt,rt.primitives.forEach((Ft,Wt)=>{const{material:Ot}=Ft,Jt=Ot&&g[Ot.id]||te,Fn=fd(Ft,be),Tn=Me(Fn,Jt,{name:Dt.name+":"+Wt});Tn.name=rt.name||rt.id,Fn.name=Tn.name,Dt.add(Tn)})}),a.makeLight&&f.lights&&(H=f.lights.map(a.makeLight));const Ee=f.scene||f.scenes[0],Pe=new ke({name:Ee?.name||Ee?.id||"GLTF Scene"});return Ee.nodes.forEach(rt=>{Pe.add(Wf(rt,O,H))}),Pe}function tp(f,a){return Kf.apply(this,arguments)}function Kf(){return Kf=S(function*(f,a){const g=yield(0,gm.load)(f,qd.GLTFLoader,{DracoLoader:_m.DracoLoader});return{node:ep((0,qd.postProcessGLTF)(g),a),gltf:g}}),Kf.apply(this,arguments)}const bg={position:{numComponents:3,normalized:!1,data:new Float32Array([0,-.01,0,0,-.01,-4,.00866,.005,0,.00866,.005,-4,-.00866,.005,0,-.00866,.005,-4].map(f=>.25*f))},indices:[1,2,0,3,4,2,5,0,4,1,3,2,3,5,4,5,1,0]};function bm(f){return new ke(f)}function Bu(f,a=bm){const g=a(f);for(const u of f.children)g.add(Bu(u,a));return g}const Xf=Math.PI,Yf=2*Xf,Zd=new Map,Nu=typeof WeakMap<"u"?new WeakMap:new Map,Qf=typeof WeakMap<"u"?new WeakMap:new Map;function qf(f){return f instanceof bt?new bt(f.geometry,f.material,f):new ke(f)}class Lu extends ke{constructor(a,g){super(g),d(this,"inputSource",void 0),d(this,"pointer",void 0),d(this,"distance",void 0),d(this,"load",void 0),d(this,"update",void 0);let u=null,O=null,H=!1,te=he;const Q=new Map,be=new ke;this.add(be);let Me=Nu.get(g.makeGeometry);Me||(Me=g.makeGeometry(bg));let Ee=null;"tracked-pointer"===a.targetRayMode&&(Ee=g.makeMeshNode(Me,g.lineMaterial,{name:"line",rotationSource:"euler"}),Ee.scale[2]=te,Ee.dirtyMatrix(),be.add(Ee));let Pe=null,rt=null;const Dt=[];if(a.hand){Pe=new Float32Array(400),rt=new Float32Array(25),O=new ke({name:`hand.${a.handedness}`});let Ot=Qf.get(g.makeGeometry);if(!Ot){const Fn=function(Tn){const An=Tn?.radius||1,vn=Math.max(3,Math.floor(Tn?.widthSegments||32)),kn=Math.max(2,Tn?.heightSegments||32),nr=void 0!==Tn?.phiStart?Tn?.phiStart:0,ur=void 0!==Tn?.phiLength?Tn?.phiLength:Yf,Qn=void 0!==Tn?.thetaStart?Tn?.thetaStart:0,kr=void 0!==Tn?.thetaLength?Tn?.thetaLength:Xf,$r=void 0!==Tn?.uOffset?Tn?.uOffset:0,Vr=void 0!==Tn?.vOffset?Tn?.vOffset:0,Fr=void 0!==Tn?.uScale?Tn?.uScale:1,di=void 0!==Tn?.vScale?Tn?.vScale:1,ai=Qn+kr,fi=(vn+1)*(kn+1),Or=new Float32Array(3*fi),bi=new Float32Array(3*fi),Mi=new Float32Array(2*fi),go=[],fo={min:(0,m.fromValues)(-An,-An,-An),max:(0,m.fromValues)(An,An,An)};let Yo=0,xi=0,wr=0;for(let oo=0;oo<=kn;oo++){const ca=[],Js=oo/kn,As=Js*kr,La=Math.sin(Qn+As),ka=Math.cos(Qn+As),Ja=ka*An,Rl=Vr+di*(1-Js);for(let zl=0;zl<=vn;zl++){const vc=zl/vn,bd=$r+Fr*vc,xd=vc*ur,yc=-Math.cos(nr+xd)*La,wa=Math.sin(nr+xd)*La,ic=wa*An;Or[xi]=yc*An,bi[xi++]=yc,Or[xi]=Ja,bi[xi++]=ka,Or[xi]=ic,bi[xi++]=wa,Mi[wr++]=bd,Mi[wr++]=Rl,ca.push(Yo),Yo++}go.push(ca)}const ci=[];for(let oo=0;oo<kn;oo++){const ca=go[oo],Js=go[oo+1];for(let As=0;As<vn;As++){const ka=ca[As],Ja=Js[As],Rl=Js[As+1];(oo||Qn>0)&&ci.push(ca[As+1],ka,Rl),(oo!==kn-1||ai<Xf)&&ci.push(ka,Ja,Rl)}}return{arrays:{position:Or,normal:bi,texcoord:Mi,indices:Bt(fi,ci)},bounds:fo}}({widthSegments:4,heightSegments:3});Ot=g.makeGeometry(Fn.arrays),st(Ot.bounds,Fn.bounds)}let Jt=0;a.hand.forEach((Fn,Tn)=>{const An=g.makeMeshNode(Ot,g.handMaterial,{name:Tn,arrays:{matrix:Pe.subarray(Jt,Jt+=16)}});An.parent=O,Dt.push(An)}),this.load=()=>Promise.resolve()}else{const Ot=S(function*(){const{profile:Jt,assetPath:Fn=""}=yield(0,zf.fetchProfile)(a,"https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles");if(H)return;u=new zf.MotionController(a,Jt,Fn);const{rootNodeName:Tn}=u.layoutDescription;let An=Zd.get(Fn);An||(An=tp(Fn,g).then(({node:kn})=>Fu(kn,Tn)||kn),Zd.set(Fn,An));const vn=yield An;H||(vn?(O=Bu(vn,qf),Object.values(u.components).forEach(kn=>{Object.values(kn.visualResponses).forEach(nr=>{const ur=Fu(O,nr.valueNodeName);if(!ur)return void console.warn("Missing controller visual response object: "+nr.valueNodeName);const Qn={visualResponse:nr,valueNode:ur,parentNode:ur.parent};Q.set(nr.valueNodeName,Qn),"transform"===nr.valueNodeProperty&&(Qn.minNode=Fu(O,nr.minNodeName),Qn.maxNode=Fu(O,nr.maxNodeName))})})):console.warn("Missing controller root "+Tn))})();this.load=()=>Ot}const Ft=(Ot,Jt)=>{const Fn=Ot.getPose(a.gripSpace,Jt);if(!Fn)return be.parent=null,void(O&&(O.parent=null));this.setWorldMatrix(Fn.transform.matrix),be.parent=this;let Tn=null;try{Tn=Ot.getPose(a.targetRaySpace,a.gripSpace)||Fn}catch{Tn=Fn}be.setMatrix(Tn.transform.matrix),O&&(!1===g.renderOpaque&&"opaque"!==Ot.session.environmentBlendMode||!a.gripSpace?O.parent=null:(O.parent=this,a.hand&&(Ot.fillPoses(a.hand.values(),a.gripSpace,Pe),Ot.fillJointRadii(a.hand.values(),rt),Dt.forEach((An,vn)=>{An.setMatrix(An.matrix);const kn=rt[vn];(0,m.set)(An.scale,kn,kn,kn),An.dirtyMatrix()})),Q.forEach(({valueNode:An,parentNode:vn,minNode:kn,maxNode:nr,visualResponse:ur})=>{"visibility"===ur.valueNodeProperty?An.parent=ur.value?vn:null:"transform"===ur.valueNodeProperty&&((0,E.slerp)(An.quaternion,kn.quaternion,nr.quaternion,ur.value),(0,m.lerp)(An.position,kn.position,nr.position,ur.value),An.dirtyMatrix())})))};this.update=(Ot,Jt)=>{Ft(Ot,Jt),O&&u&&u.updateFromGamepad()};const Wt=this.destroy;this.destroy=()=>{H=!0,be.destroy(),Ee&&(Ee.destroy(),Ee=null),O&&(O.destroy(),O=null),Wt()},Object.defineProperties(this,{pointer:{value:be,writable:!1},inputSource:{value:a,writable:!1},distance:{get:()=>te,set(Ot){const Jt=te!==Ot;te=we(Ot,-he,he),Ee&&Jt&&(Ee.scale[2]=te,Ee.dirtyMatrix())}}})}}class hd extends le{constructor(a){super(),d(this,"session",void 0),d(this,"controllers",void 0),d(this,"get",void 0),d(this,"update",void 0),d(this,"destroy",void 0);const{sceneRoot:g,...u}=a,O=new Map,H=new Set;let te=null;const Q=Ee=>{for(const Pe of Ee)if(Pe.gamepad){let rt=O.get(Pe);rt||(rt=new Lu(Pe,u),O.set(Pe,rt)),H.add(rt),g.add(rt),this.emit("add",{controller:rt})}},be=Ee=>{for(const Pe of Ee){const rt=O.get(Pe);rt&&(H.delete(rt),rt.parent=null),this.emit("remove",{controller:rt})}};function Me(Ee){Q(Ee.added),be(Ee.removed)}this.get=Ee=>{const Pe=O.get(Ee);return H.has(Pe)?Pe:null},this.update=(Ee,Pe)=>{H.forEach(rt=>rt.update(Ee,Pe))},this.destroy=()=>{this.session=null,O.forEach(Ee=>Ee.destroy()),O.clear(),H.clear()},Object.defineProperties(this,{controllers:{value:H,writable:!1},session:{get:()=>te,set(Ee){Ee!==te&&(te&&be(O.keys()),te=Ee,te&&(te.addEventListener("inputsourceschange",Me),Q(te.inputSources)))}}})}}function gu(f,a){const g=[],u=(Q,be)=>{if(Q){const Me=a[Q.index];if(!Me)return void console.warn(`Texture '${Q.index}' missing from GLTF`);g.push({texture:Me,applyTo:be,blendMode:"over",blendFactor:1})}},O={name:f.name,textures:g};if(f.emissiveFactor){const[Q,be,Me]=f.emissiveFactor;O.emitColor=[Q,be,Me,1]}const{pbrMetallicRoughness:H}=f;if(H&&(O.type="metallic"),H?.baseColorFactor){const[Q,be,Me,Ee]=H.baseColorFactor;O.baseColor=[Q,be,Me],O.opacity=Ee}O.metallic=H?.metallicFactor??1,O.roughness=H?.roughnessFactor??1,u(f.emissiveTexture,"emit"),u(f.normalTexture,"normals"),u(f.occlusionTexture,"occlusion"),u(H?.baseColorTexture,"baseColor");const te=f.extensions?.KHR_materials_specular;return te&&(te.specularFactor<1&&console.warn(`GLTF specularFactor (${te.specularFactor}) not supported`),te.specularColorFactor&&(O.specularColor=te.specularColorFactor),te.specularTexture&&console.warn("GLTF specularTexture not supported"),u(te.specularColorTexture,"specular")),new Mn(O)}function ef(f,a){const g={name:f.name},{pbrMetallicRoughness:u}=f;if(u?.baseColorFactor){const[O,H,te,Q]=u.baseColorFactor;g.baseColor=[O,H,te],g.opacity=Q}if(u?.baseColorTexture){const O=a[u.baseColorTexture.index];O?(g.baseColorMaps=[{texture:O,blendMode:"multiply",blendFactor:1}],"image/jpeg"===u.baseColorTexture.texture?.source.mimeType||O.source instanceof HTMLImageElement&&/\.jpg$/i.test(O.source.src)||(g.opacityMaps=[{texture:O,blendMode:"multiply",channel:"a"}])):console.warn(`Texture [${u.baseColorTexture.index}] missing from GLTF`)}return new So(g)}function pd(f,a){const g={name:f.name},u=(te,Q,be)=>{if(Q){const Me=a[Q.index];if(!Me)return void console.warn(`Texture '${Q.index}' missing from GLTF`);Q.texCoord>0&&console.warn(`Texture '${Q.index}' unsupported multiple UVs`),Q.extensions?.KHR_texture_transform&&console.warn(`Texture '${Q.index}' unsupported KHR_texture_transform`);const Ee={texture:Me,blendFactor:1};be&&Object.assign(Ee,be),g[te]=[Ee]}};f.emissiveFactor&&(g.emissive=f.emissiveFactor);const{pbrMetallicRoughness:O}=f;if(O?.baseColorFactor){const[te,Q,be,Me]=O.baseColorFactor;g.baseColor=[te,Q,be],g.opacity=Me}g.metallic=O?.metallicFactor??1,g.roughness=O?.roughnessFactor??1,f.extensions?.KHR_materials_ior&&(g.ior=f.extensions.KHR_materials_ior.ior),u("baseColorMaps",O?.baseColorTexture),u("opacityMaps",O?.baseColorTexture,{channel:"a"}),u("normalMaps",f.normalTexture,{blendMode:"over"}),u("emissiveMaps",f.emissiveTexture),u("occlusionMaps",f.occlusionTexture),u("metallicMaps",O?.metallicRoughnessTexture,{blendMode:"multiply",channel:"b"}),u("roughnessMaps",O?.metallicRoughnessTexture,{blendMode:"multiply",channel:"g"}),"BLEND"!==f.alphaMode&&"MASK"!==f.alphaMode||u("baseColorMaps",O?.baseColorTexture,{blendMode:"multiply",channel:"a"});const H=f.extensions?.KHR_materials_specular;return H&&(isNaN(H.specularFactor)||(g.specularFactor=H.specularFactor),H.specularColorFactor&&(g.specularColor=H.specularColorFactor),u("specularFactorMaps",H.specularTexture,{blendMode:"multiply",channel:"a"}),u("specularColorMaps",H.specularColorTexture,{blendMode:"multiply"})),new yo(g)}class md{constructor(a){d(this,"session",void 0),d(this,"isGrabbable",void 0),d(this,"destroy",void 0);const{renderer:g,engine:u,materialMode:O}=a,H=new So({baseColor:[.6,.6,.7],opacity:.8}),te=new So({baseColor:[.6,.6,.6]}),Q=new hd({sceneRoot:u.rootNode,makeMaterial:(Ot,Jt)=>"unlit"===O||Ot.unlit||Ot.extensions?.KHR_materials_unlit?ef(Ot,Jt):"physical"===O?pd(Ot,Jt):gu(Ot,Jt),makeGeometry:(Ot,Jt)=>new Cn(Ot,Jt),makeMeshNode:(Ot,Jt,Fn)=>new bt(Ot,Jt,{clippable:!1,...Fn}),lineMaterial:H,handMaterial:te,renderOpaque:!1}),be=new Map,Me=new Map,Ee=new Set;let Pe=null;function rt({frame:Ot}){const{xrRefSpace:Jt}=g;Q?.update(Ot,Jt),Me.forEach(Fn=>Fn.update(Ot,Jt))}function Dt(Ot){const Jt=u.rayCast(Ot.transform.matrix,{near:0}),Fn=Jt?.object,Tn=Fn&&u.story.anatomySceneGraph.findAnatomyObject(Fn),An=Tn?.sceneNode||Fn;return!An||Ee.has(An)?null:{object:An,distance:Jt.distance}}function Ft(Ot){const Jt=Q.get(Ot.inputSource),Fn=Jt&&Me.get(Jt);Fn&&Fn.grab()}function Wt(Ot){const Jt=Q.get(Ot.inputSource),Fn=Jt&&Me.get(Jt);Fn&&Fn.release()}Q.on("add",({controller:Ot})=>{const Jt=new Xh(Dt,Ot);Jt.on("grab",({object:Tn})=>Ee.add(Tn)),Jt.on("release",({object:Tn})=>Ee.delete(Tn)),Me.set(Ot,Jt);const Fn=new li(Ot);be.set(Ot,Fn)}),Q.on("remove",({controller:Ot})=>{const Jt=Me.get(Ot);Jt&&(Me.delete(Ot),Jt.destroy());const Fn=be.get(Ot);Fn&&(be.delete(Ot),Fn.destroy())}),g.on("xrframe",rt),this.isGrabbable=Ot=>{for(const[,Jt]of be)if(Jt.has(Ot))return!1;return!0},this.destroy=()=>{g.off("xrframe",rt),this.session=null,be.forEach(Ot=>Ot.destroy()),be.clear(),Me.forEach(Ot=>Ot.destroy()),Me.clear(),Q.destroy()},Object.defineProperties(this,{session:{get:()=>Pe,set(Ot){Ot!==Pe&&(Pe&&(Pe.removeEventListener("selectstart",Ft),Pe.removeEventListener("selectend",Wt)),Pe=Ot,Q.session=Pe,Pe&&(Pe.addEventListener("selectstart",Ft),Pe.addEventListener("selectend",Wt)))}}})}}function xm(f,a,g,u="utf-8"){a=a||0,g=g||f.byteLength;const O=new Uint8Array(f,a,g);return new TextDecoder(u).decode(O)}const Jf=globalThis.fetch;function nu(){return Zf.apply(this,arguments)}function Zf(){return Zf=S(function*(...f){const a=yield Jf(...f);if(!a.ok&&!/^file:\/\//.test(a.url))throw new Error(a.statusText?`Fetch [code ${a.status}]: '${a.statusText}'`:`Fetch request failed: '${a.status||"unknown status"}'`);return a}),Zf.apply(this,arguments)}function _u(f,a,g,u){return eh.apply(this,arguments)}function eh(){return eh=S(function*(f,a,g,u){const O=g.split("/"),H=Le(f,"content/states",O[0],a,O[1],u);try{return(yield nu(H)).json()}catch(te){throw new Error(`Error loading asset library: ${te.message}`)}}),eh.apply(this,arguments)}const Em={geometry:"geometry"};class th{fetch(a,g){var u=this;return S(function*(){const O=yield nu(a),H=O.clone(),te=yield H.blob();return u.dataSize[g]=u.dataSize[g]+te.size,O})()}constructor(a,g={}){d(this,"getAsset",void 0),d(this,"getAssetLibrary",void 0),d(this,"destroy",void 0),d(this,"dataSize",{material:0,morph:0,geometry:0,transform:0,texture:0,"image-light":0,environment:0});const{timeout:u=12e3,sendInterval:O=5,reconnectInterval:H=500,socketProtocol:te="wss",makeSocket:Q=(nr=>new WebSocket(nr))}=g,be=new Map,Me=[],Ee=te+"://"+a+"/assets/ws3",{dataSize:Pe}=this;let rt=null,Dt=1/0,Ft=0,Wt=0,Ot=0;function Jt(){Date.now()-Dt>=u&&vn("Asset server connection timed out")}function Fn(){Dt=Date.now(),clearTimeout(Ot),Ot=setTimeout(Jt,u)}function Tn(){return!(!rt||rt.readyState!==rt.OPEN||(Me.length&&(rt.send(JSON.stringify({assets:Me})),Me.length=0),Fn(),0))}function An(){clearTimeout(Wt),Wt=0,rt&&rt.readyState!==rt.CLOSING&&rt.readyState!==rt.CLOSED||(rt=function(){const nr=Q(Ee);return nr.binaryType="arraybuffer",nr.addEventListener("open",()=>{Tn()}),nr.addEventListener("close",ur=>{rt===nr&&(rt=null,Me.length&&(Wt=setTimeout(An,H))),Jt()}),nr.addEventListener("message",ur=>{const Qn=ur.data;let kr,$r,Vr=0;if(Fn(),"string"==typeof Qn){if("\u{1f37a}"===Qn)return;const di=JSON.parse(Qn);$r=di.id,Vr=new Blob([Qn]).size,kr=di.error||!di.asset?null:di.asset}else{kr=Qn;const di=new DataView(kr),ai=di.getUint32(0,!0);let fi;const Or=di.getUint32(4,!0);Vr=Qn.byteLength,fi=17===ai?11*Uint32Array.BYTES_PER_ELEMENT:di.getUint32(12,!0),$r=xm(kr,fi,Or).trim()}const Fr=be.get($r);be.delete($r),Fr&&(Pe[Fr.type]+=Vr,Fr.resolve(kr))}),nr}())}function vn(nr){be.forEach((ur,Qn)=>{if(ur){const{reject:kr}=ur;be.delete(Qn),kr(new Error(nr))}})}function kn(){clearTimeout(Ft),Ft=0,Tn()||(Jt(),An())}An(),this.getAsset=(nr,ur)=>{const Qn=ur.split("/");if(2!==Qn.length&&3!==Qn.length)throw new Error("Incorrectly formattted asset id: "+ur);const Vr=Qn[2];let Fr=Qn[0]+"/"+(Em[nr]||nr+"s")+"/"+Qn[1];Vr&&(Fr+="/"+Vr);let di=be.get(Fr);di||(di={...oe(),type:nr},be.set(Fr,di),Me.push(Fr));const ai=di.promise;return Ft||(Ft=setTimeout(kn,O)),ai},this.getAssetLibrary=_u,this.destroy=()=>{clearTimeout(Ft),Ft=0,clearTimeout(Wt),Wt=0,clearTimeout(Ot),Ot=0,vn("Asset server connection destroyed"),be.clear(),Me.length=0,rt&&rt.readyState!==rt.CLOSING&&rt.readyState!==rt.CLOSED&&rt.close(),rt=null}}}const nh=(f,a)=>Le(f,"assets",a.replaceAll(":",";").replaceAll("|","/")+".bda"),wm=/\.[\w\d]+$/,Cm={material:(f,a,g)=>S(function*(){const u=nh(a,g);return(yield(yield fetch(u,{signal:f})).json()).asset})(),morph(f,a,g){const u=nh(a,g);return fetch(u,{signal:f}).then(O=>O.arrayBuffer())},geometry:(f,a,g,u,O)=>{return(H=Q=>fetch(Q,{signal:f}).then(be=>be.json()),te=Q=>fetch(Q,{signal:f}).then(be=>be.arrayBuffer()),function(){var Q=S(function*(be,Me,Ee,Pe){Pe.geometry||(Pe.geometry={index:null,blocks:new Map});const{blocks:rt}=Pe.geometry;let Dt=Pe.geometry.index;if(!Dt){const kn=Le(be,"blocks/geometry/modules/models",Ee,"index.json");Dt=H(kn),Pe.geometry.index=Dt}const Ft=yield Dt,{block:Wt,offlen:Ot}=Ft[Me],Jt=Ee+"/"+Wt;let Fn=rt.get(Jt);if(!Fn){const kn=Le(be,"blocks/geometry/modules/models",Ee,Wt);Fn=te(kn),rt.set(Jt,Fn)}const Tn=yield Fn,[An,vn]=Ot;return Tn.slice(An,An+vn)});return function(be,Me,Ee,Pe){return Q.apply(this,arguments)}}())(a,g,u,O);var H,te},transform:(f,a,g,u,O)=>S(function*(){if(!O.transform){const te=Le(a,"transforms/modules",u+".json");O.transform=fetch(te,{signal:f}).then(Q=>Q.json())}return(yield O.transform)[g]?.asset})()};class gd{fetch(a){return nu(a)}constructor(a,g=""){d(this,"getAsset",void 0),d(this,"getAssetLibrary",void 0),d(this,"destroy",void 0),d(this,"moduleId",void 0),d(this,"requiresFileExtensions",!1),this.moduleId=g;const u={},O=typeof AbortController>"u"?null:new Y;this.getAsset=b((te,Q)=>{const be=Cm[te];if(!be)throw new Error("BioDigitalFileServer: Unsupported type '$type'");let Me=null;O&&(Me=new AbortController,O.set(te,Q,Me));let Ee=be(Me?.signal,a,Q,this.moduleId,u);return O&&(Ee=Ee.then(Pe=>(O?.delete(te,Q),Pe))),Ee});const H=b(_u);this.getAssetLibrary=(te,Q,be,Me)=>{return H(te,Q,be,this.requiresFileExtensions?wm.test(Ee=Me)?Ee:Ee+".json":Me);var Ee},this.destroy=()=>{O&&(O.forEach(te=>te.abort()),O.clear())}}}const rh=Math.PI/2,tf=f=>!!(1&f.buttons),np=f=>!!(6&f.buttons);class xg{constructor(a,g=(0,m.create)()){d(this,"camera",void 0),d(this,"target",void 0),d(this,"minPolarAngle",void 0),d(this,"maxPolarAngle",void 0),d(this,"minAzimuthAngle",void 0),d(this,"maxAzimuthAngle",void 0),d(this,"minDistance",void 0),d(this,"maxDistance",void 0),d(this,"azimuthRate",void 0),d(this,"polarRate",void 0),d(this,"zoomRate",void 0),d(this,"attach",void 0),d(this,"detach",void 0),this.camera=a,this.target=g,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minPolarAngle=-rh,this.maxPolarAngle=rh,this.minDistance=.1,this.maxDistance=1/0,this.azimuthRate=.005,this.polarRate=.01,this.zoomRate=.002;let u=null,O=-1,H=!1,te=!1,Q=0,be=0;function Me(Ft){H=tf(Ft),te=!H&&np(Ft)}const Ee=Ft=>{!Ft.isPrimary||O>=0||(tf(Ft)||np(Ft))&&(O=Ft.pointerId,Me(Ft),Q=Ft.pageX,be=Ft.pageY)},Pe=Ft=>{if(Ft.isPrimary&&O===Ft.pointerId&&(Me(Ft),H)){const Wt=Ft.pageX-Q,Ot=Ft.pageY-be;Q=Ft.pageX,be=Ft.pageY,this.panZoom(this.azimuthRate*Wt,this.polarRate*Ot)}};function rt(Ft){Ft.isPrimary&&O===Ft.pointerId&&(Me(Ft),H||te||(O=-1))}const Dt=Ft=>{this.panZoom(0,0,Ft.deltaY*this.zoomRate)};this.attach=Ft=>{u&&this.detach(),u=Ft,Ft.addEventListener("pointerdown",Ee),window.addEventListener("pointermove",Pe),window.addEventListener("pointerup",rt),window.addEventListener("pointercancel",rt),window.addEventListener("wheel",Dt)},this.detach=()=>{u&&u.removeEventListener("pointerdown",Ee),window.removeEventListener("pointermove",Pe),window.removeEventListener("pointerup",rt),window.removeEventListener("pointercancel",rt),window.removeEventListener("wheel",Dt)}}panZoom(a=0,g=0,u=0){const{camera:O,target:H}=this,te=Ce.get();if(O.parent){const Wt=Ce.get();O.updateWorldMatrix(),(0,L.getTranslation)(Wt,O.worldMatrix),(0,m.subtract)(te,Wt,H),Ce.release(Wt)}else(0,m.subtract)(te,O.position,H);const Q=(0,m.length)(te),be=Q?Math.asin(te[1]/Q):0,Me=Math.atan2(te[2],te[0]),Ee=this.minAzimuthAngle<=this.maxAzimuthAngle?this.minAzimuthAngle:this.minAzimuthAngle-Math.PI,Pe=this.minAzimuthAngle<=this.maxAzimuthAngle?this.maxAzimuthAngle:this.minAzimuthAngle+this.minAzimuthAngle-this.maxAzimuthAngle,rt=we(Q*(1+u),this.minDistance,this.maxDistance),Dt=we(be+g,this.minPolarAngle,this.maxPolarAngle),Ft=we(Me+a,Ee,Pe);if(rt!==Q||Dt!==be||Ft!==Me){const Wt=rt?Math.sin(Dt)*rt:0,Ot=Wt?Math.cos(Dt)*rt:rt,Jt=Ot?Math.cos(Ft)*Ot:0,Fn=Ot?Math.sin(Ft)*Ot:0;O.parent?(O.worldMatrix[12]=Jt+H[0],O.worldMatrix[13]=Wt+H[1],O.worldMatrix[14]=Fn+H[2],O.setWorldMatrix(O.worldMatrix)):(te[0]=Jt,te[1]=Wt,te[2]=Fn,(0,m.add)(O.position,te,H),O.dirtyMatrix())}O.lookAt(H),Ce.release(te)}update(){this.panZoom(0,0,0)}}let ih=(()=>{var f,a=new WeakMap,g=new WeakMap,u=new WeakMap,O=new WeakMap,H=new WeakMap,te=new WeakMap,Q=new WeakMap,be=new WeakMap,Me=new WeakSet;class Ee{constructor(Wt){r(this,Me),d(this,"enabled",void 0),d(this,"rootNode",void 0),d(this,"parentNode",void 0),M(this,a,void 0),M(this,g,null),M(this,u,void 0),M(this,O,void 0),M(this,H,void 0),M(this,te,void 0),M(this,Q,void 0),M(this,be,void 0),this.rootNode=new ke({scale:[Nt,Nt,Nt],name:"BioDigitalEngine particle system debug view",rotationSource:"euler"}),this.parentNode=Wt.rootNode,v(u,this,new Y),s(Me,this,Pe).call(this),s(Me,this,rt).call(this),s(Me,this,Dt).call(this);let Ot=!1;Object.defineProperties(this,{enabled:{get:()=>Ot,set:Jt=>{this.rootNode.parent=Jt?this.parentNode:null,Ot=Jt}}}),this.enabled=!0}get size(){return C(u,this).size}destroy(){this.enabled=!1,this.chapter=null,C(O,this).destroy(),C(H,this).destroy(),C(te,this).destroy(),C(Q,this).destroy(),C(be,this).destroy(),this.rootNode.destroy()}get chapter(){return C(g,this)}set chapter(Wt){C(g,this)!==Wt&&(this.rootNode.children.forEach(Ot=>Ot.destroy()),v(g,this,Wt),C(u,this).clear(),Wt?.particleSystemIds.forEach(Ot=>{const Jt=Wt.story.particleSystemDefs.get(Ot),Fn=[];for(let Tn=0;Tn<Jt.creators.length;Tn++){const An=Jt.creators[Tn];if(void 0!==C(a,this)[An.type]){const vn=C(a,this)[An.type],kn=C(H,this);let nr;if("translate"in An?nr={position:new Float32Array(An.translate),rotation:An.rotate,scale:An.scale}:"position"in An&&(nr={position:new Float32Array(An.position)}),void 0!==nr){const ur=new bt(vn,kn,nr);Fn.push({psId:Ot,creatorId:An.id,legacyMeshNode:ur})}}}Fn.length>0&&(Fn.at(-1).legacyMeshNode.material=C(O,this));for(let Tn=0;Tn<Fn.length;Tn++){const{psId:An,creatorId:vn,legacyMeshNode:kn}=Fn[Tn];C(u,this).set(An,vn,kn),this.rootNode.add(kn)}}))}update(){this.enabled&&C(u,this).forEach((Wt,Ot,Jt)=>{const Fn=C(g,this).particleSystems.get(Ot),Tn=Fn.get(Jt,"translate")||Fn.get(Jt,"position"),An=Fn.get(Jt,"rotate"),vn=Fn.get(Jt,"scale");Tn&&(0,m.copy)(Wt.position,Tn),An&&(0,m.copy)(Wt.rotation,An),vn&&(0,m.copy)(Wt.scale,vn),(Tn||An||vn)&&Wt.dirtyMatrix()})}}function Pe(){v(O,this,new So({baseColor:f.creatorColor})),v(H,this,new So({baseColor:f.warningColor}))}function rt(){const{arrays:Ft,bounds:Wt}=function(An={}){const vn=An.width??1,kn=An.height??1,nr=An.depth??1,ur=new Float32Array(24),Qn=vn/2,kr=kn/2,$r=nr/2;ur[0]=Qn,ur[1]=kr,ur[2]=-$r,ur[3]=-Qn,ur[4]=kr,ur[5]=-$r,ur[6]=-Qn,ur[7]=-kr,ur[8]=-$r,ur[9]=Qn,ur[10]=-kr,ur[11]=-$r,ur[12]=Qn,ur[13]=kr,ur[14]=$r,ur[15]=-Qn,ur[16]=kr,ur[17]=$r,ur[18]=-Qn,ur[19]=-kr,ur[20]=$r,ur[21]=Qn,ur[22]=-kr,ur[23]=$r;const Vr={min:(0,m.fromValues)(-Qn,-kr,-$r),max:(0,m.fromValues)(Qn,kr,$r)};return{arrays:{position:ur,indices:Bt(8,[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7])},bounds:Vr}}();v(te,this,new Cn(Ft,Wt)),C(te,this).topology=it.lines;const{arrays:Ot,bounds:Jt}=function(An={}){const vn=An.radius??1,kn=An.radialSegments??32,nr=3*kn,ur=new Float32Array(3*nr),Qn=[],kr=2*Math.PI/kn;let $r=0,Vr=0,Fr=3*kn;for(let ai=0;ai<Fr;ai+=3){const fi=ai+0,Or=ai+1,bi=ai+2;$r+=kr;const Mi=Math.cos($r)*vn,go=Math.sin($r)*vn,fo=0;ur[fi]=Mi,ur[Or]=go,ur[bi]=fo}Vr=0,Fr=kn;for(let ai=Vr;ai<Fr;ai++)Qn.push(ai,(ai+1)%Fr==0?Vr:(ai+1)%Fr);$r=0,Vr=3*kn,Fr=3*(kn+kn);for(let ai=Vr;ai<Fr;ai+=3){const fi=ai+0,Or=ai+1,bi=ai+2;$r+=kr;const Mi=Math.cos($r)*vn,go=0,fo=Math.sin($r)*vn;ur[fi]=Mi,ur[Or]=go,ur[bi]=fo}Vr=kn,Fr=kn+kn;for(let ai=Vr;ai<Fr;ai++)Qn.push(ai,(ai+1)%Fr==0?Vr:(ai+1)%Fr);$r=0,Vr=3*(kn+kn),Fr=3*(kn+kn+kn);for(let ai=Vr;ai<Fr;ai+=3){const fi=ai+0,Or=ai+1,bi=ai+2;$r+=kr;const Mi=0,go=Math.sin($r)*vn,fo=Math.cos($r)*vn;ur[fi]=Mi,ur[Or]=go,ur[bi]=fo}Vr=kn+kn,Fr=kn+kn+kn;for(let ai=Vr;ai<Fr;ai++)Qn.push(ai,(ai+1)%Fr==0?Vr:(ai+1)%Fr);const di={min:(0,m.fromValues)(-vn,-vn,-vn),max:(0,m.fromValues)(vn,vn,vn)};return{arrays:{position:ur,indices:Bt(nr,Qn)},bounds:di}}();v(Q,this,new Cn(Ot,Jt)),C(Q,this).topology=it.lines;const{arrays:Fn,bounds:Tn}=function(An={}){const vn=An.radius??1,kn=An.height??1,nr=An.radialSegments??32,ur=2*nr+2,Qn=new Float32Array(3*ur),kr=[],$r=2*Math.PI/nr;let Vr=0,Fr=0,di=3*nr;for(let Or=Fr;Or<di;Or+=3){const bi=Or+0,Mi=Or+1,go=Or+2;Vr+=$r;const fo=Math.cos(Vr)*vn,Yo=kn,xi=Math.sin(Vr)*vn;Qn[bi]=fo,Qn[Mi]=Yo,Qn[go]=xi}Fr=0,di=nr;for(let Or=Fr;Or<di;Or++)kr.push(Or,(Or+1)%di==0?Fr:(Or+1)%di);Vr=0,Fr=3*nr,di=3*(nr+nr);for(let Or=Fr;Or<di;Or+=3){const bi=Or+0,Mi=Or+1,go=Or+2;Vr+=$r;const fo=Math.cos(Vr)*vn,Yo=-kn,xi=Math.sin(Vr)*vn;Qn[bi]=fo,Qn[Mi]=Yo,Qn[go]=xi}Fr=nr,di=nr+nr;for(let Or=Fr;Or<di;Or++)kr.push(Or,(Or+1)%di==0?Fr:(Or+1)%di);for(let Or=0;Or<nr;Or+=4)kr.push(Or,Or+nr);const ai=3*(nr+nr);Qn[ai+0]=0,Qn[ai+1]=kn,Qn[ai+2]=0,Qn[ai+3]=0,Qn[ai+4]=-kn,Qn[ai+5]=0;for(let Or=0;Or<nr;Or+=4)kr.push(Or,ur-2),kr.push(Or+nr,ur-1);const fi={min:(0,m.fromValues)(-vn,-kn,-vn),max:(0,m.fromValues)(vn,kn,vn)};return{arrays:{position:Qn,indices:Bt(ur,kr)},bounds:fi}}();v(be,this,new Cn(Fn,Tn)),C(be,this).topology=it.lines}function Dt(){v(a,this,{PointPosition:C(Q,this),SpherePosition:C(Q,this),CylinderPosition:C(be,this),CubePosition:C(te,this)})}return f=Ee,d(Ee,"creatorColor",[0,1,0]),d(Ee,"warningColor",[1,1,0]),Ee})();function ru(f,a=new Set){if(Array.isArray(f))f.forEach(g=>ru(g,a));else if(f?.buffer instanceof ArrayBuffer)a.add(f.buffer);else if(f&&"object"==typeof f)for(const g in f)Object.prototype.hasOwnProperty.call(f,g)&&ru(f[g],a);return a}function rp(f,a){self.onmessage=function(){var g=S(function*(u){const{requestId:O,options:H}=u.data;try{let te=f(H);te instanceof Promise&&(te=yield te),function(Q,be){const Me=a?a(be):ru(be);self.postMessage({requestId:Q,resource:be},Array.from(Me))}(O,te)}catch(te){!function(Q,be){const{message:Me,stack:Ee}=be;self.postMessage({requestId:Q,error:{message:Me,stack:Ee}})}(O,te)}});return function(u){return g.apply(this,arguments)}}()}function _d(f,a){const g=a[0],u=a[4],O=a[8],H=a[5],te=a[9],Q=a[6],be=a[10];return f[1]=Math.asin(we(O,-1,1)),Math.abs(O)<.9999999?(f[0]=Math.atan2(-te,be),f[2]=Math.atan2(-u,g)):(f[0]=Math.atan2(Q,H),f[2]=0),f}function vd(f,a,g,u){a*=.5,u*=.5,g*=.5;const O=Math.sin(a),H=Math.cos(a),te=Math.sin(g),Q=Math.cos(g),be=Math.sin(u),Me=Math.cos(u);return f[0]=O*Q*Me+H*te*be,f[1]=H*te*Me-O*Q*be,f[2]=H*Q*be+O*te*Me,f[3]=H*Q*Me-O*te*be,f}class ip extends le{constructor(a,g={optionalFeatures:["local-floor"]}){super(),d(this,"enter",void 0),d(this,"exit",void 0),d(this,"session",void 0),d(this,"lastSession",void 0),d(this,"supported",void 0),d(this,"presenting",void 0),d(this,"sessionMode",void 0);let u=!1,O=!1,H=!1,te=null,Q=null;this.enter=()=>Promise.reject(new Error(`XR Session mode '${a}' Not Supported`)),this.exit=()=>{},this.destroy=()=>{H=!0},Object.defineProperties(this,{sessionMode:{writable:!1,value:a},session:{get:()=>te},lastSession:{get:()=>Q},supported:{get:()=>u},presenting:{get:()=>O}});const be=navigator?.xr;if(!be||!("isSessionSupported"in be))return void setTimeout(()=>this.emit("disable"),10);let Me=null;const Ee=()=>{H||(u=!0,this.emit("enable"))},Pe=()=>{H||(u=!1,this.emit("disable"))},rt=()=>{te&&te.removeEventListener("end",rt),te=null,O=!1,this.emit("exit",Q)},Dt=Jt=>(te=Jt,Q=Jt,O=!0,te.addEventListener("end",rt),this.emit("enter",te),te),Ft=()=>{be.isSessionSupported(a).then(Jt=>{H||(Jt?Ee():Pe())}).catch(Pe)},Wt=()=>{this.emit("devicechange"),Ft()};this.enter=()=>te?Me||Promise.resolve(te):(Me=be.requestSession(a,g).then(Dt),Me),this.exit=()=>{Me=Promise.resolve(null),te&&(te.end(),te=null)};const Ot=this.destroy;this.destroy=()=>{this.exit(),H=!0,be.removeEventListener("devicechange",Wt),Ot()},Ft(),be.addEventListener("devicechange",Wt)}}const oh="cb148a09",nf="2024-08-28T21:49:29.000Z",yd="0.40.1";ln.exports=x})()},84288:ln=>{"use strict";var qe=String.prototype.replace,w=/%20/g;ln.exports={default:"RFC3986",formatters:{RFC1738:function(s){return qe.call(s,w,"+")},RFC3986:function(s){return String(s)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},69984:(ln,qe,w)=>{"use strict";var r=w(26413),s=w(67875),v=w(84288);ln.exports={formats:v,parse:s,stringify:r}},67875:(ln,qe,w)=>{"use strict";var r=w(57369),s=Object.prototype.hasOwnProperty,v=Array.isArray,S={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},C=function(m,E){return m&&"string"==typeof m&&E.comma&&m.indexOf(",")>-1?m.split(","):m},N=function(E,L,ae,U){if(E){var Z=ae.allowDots?E.replace(/\.([^.[]+)/g,"[$1]"):E,q=/(\[[^[\]]*])/g,le=ae.depth>0&&/(\[[^[\]]*])/.exec(Z),z=le?Z.slice(0,le.index):Z,J=[];if(z){if(!ae.plainObjects&&s.call(Object.prototype,z)&&!ae.allowPrototypes)return;J.push(z)}for(var he=0;ae.depth>0&&null!==(le=q.exec(Z))&&he<ae.depth;){if(he+=1,!ae.plainObjects&&s.call(Object.prototype,le[1].slice(1,-1))&&!ae.allowPrototypes)return;J.push(le[1])}if(le){if(!0===ae.strictDepth)throw new RangeError("Input depth exceeded depth option of "+ae.depth+" and strictDepth is true");J.push("["+Z.slice(le.index)+"]")}return function(m,E,L,ae){for(var U=ae?E:C(E,L),Z=m.length-1;Z>=0;--Z){var ne,q=m[Z];if("[]"===q&&L.parseArrays)ne=L.allowEmptyArrays&&(""===U||L.strictNullHandling&&null===U)?[]:[].concat(U);else{ne=L.plainObjects?Object.create(null):{};var le="["===q.charAt(0)&&"]"===q.charAt(q.length-1)?q.slice(1,-1):q,z=L.decodeDotInKeys?le.replace(/%2E/g,"."):le,J=parseInt(z,10);L.parseArrays||""!==z?!isNaN(J)&&q!==z&&String(J)===z&&J>=0&&L.parseArrays&&J<=L.arrayLimit?(ne=[])[J]=U:"__proto__"!==z&&(ne[z]=U):ne={0:U}}U=ne}return U}(J,L,ae,U)}};ln.exports=function(m,E){var L=function(E){if(!E)return S;if(typeof E.allowEmptyArrays<"u"&&"boolean"!=typeof E.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.decodeDotInKeys<"u"&&"boolean"!=typeof E.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==E.decoder&&typeof E.decoder<"u"&&"function"!=typeof E.decoder)throw new TypeError("Decoder has to be a function.");if(typeof E.charset<"u"&&"utf-8"!==E.charset&&"iso-8859-1"!==E.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var L=typeof E.charset>"u"?S.charset:E.charset,ae=typeof E.duplicates>"u"?S.duplicates:E.duplicates;if("combine"!==ae&&"first"!==ae&&"last"!==ae)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof E.allowDots>"u"?!0===E.decodeDotInKeys||S.allowDots:!!E.allowDots,allowEmptyArrays:"boolean"==typeof E.allowEmptyArrays?!!E.allowEmptyArrays:S.allowEmptyArrays,allowPrototypes:"boolean"==typeof E.allowPrototypes?E.allowPrototypes:S.allowPrototypes,allowSparse:"boolean"==typeof E.allowSparse?E.allowSparse:S.allowSparse,arrayLimit:"number"==typeof E.arrayLimit?E.arrayLimit:S.arrayLimit,charset:L,charsetSentinel:"boolean"==typeof E.charsetSentinel?E.charsetSentinel:S.charsetSentinel,comma:"boolean"==typeof E.comma?E.comma:S.comma,decodeDotInKeys:"boolean"==typeof E.decodeDotInKeys?E.decodeDotInKeys:S.decodeDotInKeys,decoder:"function"==typeof E.decoder?E.decoder:S.decoder,delimiter:"string"==typeof E.delimiter||r.isRegExp(E.delimiter)?E.delimiter:S.delimiter,depth:"number"==typeof E.depth||!1===E.depth?+E.depth:S.depth,duplicates:ae,ignoreQueryPrefix:!0===E.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof E.interpretNumericEntities?E.interpretNumericEntities:S.interpretNumericEntities,parameterLimit:"number"==typeof E.parameterLimit?E.parameterLimit:S.parameterLimit,parseArrays:!1!==E.parseArrays,plainObjects:"boolean"==typeof E.plainObjects?E.plainObjects:S.plainObjects,strictDepth:"boolean"==typeof E.strictDepth?!!E.strictDepth:S.strictDepth,strictNullHandling:"boolean"==typeof E.strictNullHandling?E.strictNullHandling:S.strictNullHandling}}(E);if(""===m||null===m||typeof m>"u")return L.plainObjects?Object.create(null):{};for(var ae="string"==typeof m?function(E,L){var le,ae={__proto__:null},U=L.ignoreQueryPrefix?E.replace(/^\?/,""):E,ne=(U=U.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(L.delimiter,L.parameterLimit===1/0?void 0:L.parameterLimit),q=-1,z=L.charset;if(L.charsetSentinel)for(le=0;le<ne.length;++le)0===ne[le].indexOf("utf8=")&&("utf8=%E2%9C%93"===ne[le]?z="utf-8":"utf8=%26%2310003%3B"===ne[le]&&(z="iso-8859-1"),q=le,le=ne.length);for(le=0;le<ne.length;++le)if(le!==q){var k,ue,J=ne[le],he=J.indexOf("]="),we=-1===he?J.indexOf("="):he+1;-1===we?(k=L.decoder(J,S.decoder,z,"key"),ue=L.strictNullHandling?null:""):(k=L.decoder(J.slice(0,we),S.decoder,z,"key"),ue=r.maybeMap(C(J.slice(we+1),L),function(ke){return L.decoder(ke,S.decoder,z,"value")})),ue&&L.interpretNumericEntities&&"iso-8859-1"===z&&(ue=ue.replace(/&#(\d+);/g,function(E,L){return String.fromCharCode(parseInt(L,10))})),J.indexOf("[]=")>-1&&(ue=v(ue)?[ue]:ue);var Ie=s.call(ae,k);Ie&&"combine"===L.duplicates?ae[k]=r.combine(ae[k],ue):(!Ie||"last"===L.duplicates)&&(ae[k]=ue)}return ae}(m,L):m,U=L.plainObjects?Object.create(null):{},Z=Object.keys(ae),ne=0;ne<Z.length;++ne){var q=Z[ne],le=N(q,ae[q],L,"string"==typeof m);U=r.merge(U,le,L)}return!0===L.allowSparse?U:r.compact(U)}},26413:(ln,qe,w)=>{"use strict";var r=w(68241),s=w(57369),v=w(84288),S=Object.prototype.hasOwnProperty,M={brackets:function(U){return U+"[]"},comma:"comma",indices:function(U,Z){return U+"["+Z+"]"},repeat:function(U){return U}},C=Array.isArray,d=Array.prototype.push,F=function(ae,U){d.apply(ae,C(U)?U:[U])},P=Date.prototype.toISOString,G=v.default,N={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:s.encode,encodeValuesOnly:!1,format:G,formatter:v.formatters[G],indices:!1,serializeDate:function(U){return P.call(U)},skipNulls:!1,strictNullHandling:!1},m={},E=function ae(U,Z,ne,q,le,z,J,he,we,k,ue,Ie,ke,Ze,Ce,Nt,Kt,me){for(var ee=U,fe=me,ye=0,Se=!1;void 0!==(fe=fe.get(m))&&!Se;){var Be=fe.get(U);if(ye+=1,typeof Be<"u"){if(Be===ye)throw new RangeError("Cyclic object value");Se=!0}typeof fe.get(m)>"u"&&(ye=0)}if("function"==typeof k?ee=k(Z,ee):ee instanceof Date?ee=ke(ee):"comma"===ne&&C(ee)&&(ee=s.maybeMap(ee,function(j){return j instanceof Date?ke(j):j})),null===ee){if(z)return we&&!Nt?we(Z,N.encoder,Kt,"key",Ze):Z;ee=""}if(function(U){return"string"==typeof U||"number"==typeof U||"boolean"==typeof U||"symbol"==typeof U||"bigint"==typeof U}(ee)||s.isBuffer(ee))return we?[Ce(Nt?Z:we(Z,N.encoder,Kt,"key",Ze))+"="+Ce(we(ee,N.encoder,Kt,"value",Ze))]:[Ce(Z)+"="+Ce(String(ee))];var Ln,qt=[];if(typeof ee>"u")return qt;if("comma"===ne&&C(ee))Nt&&we&&(ee=s.maybeMap(ee,we)),Ln=[{value:ee.length>0?ee.join(",")||null:void 0}];else if(C(k))Ln=k;else{var Tt=Object.keys(ee);Ln=ue?Tt.sort(ue):Tt}var We=he?Z.replace(/\./g,"%2E"):Z,Ve=q&&C(ee)&&1===ee.length?We+"[]":We;if(le&&C(ee)&&0===ee.length)return Ve+"[]";for(var wt=0;wt<Ln.length;++wt){var Y=Ln[wt],b="object"==typeof Y&&typeof Y.value<"u"?Y.value:ee[Y];if(!J||null!==b){var R=Ie&&he?Y.replace(/\./g,"%2E"):Y,T=C(ee)?"function"==typeof ne?ne(Ve,R):Ve:Ve+(Ie?"."+R:"["+R+"]");me.set(U,ye);var V=r();V.set(m,me),F(qt,ae(b,T,ne,q,le,z,J,he,"comma"===ne&&Nt&&C(ee)?null:we,k,ue,Ie,ke,Ze,Ce,Nt,Kt,V))}}return qt};ln.exports=function(ae,U){var q,Z=ae,ne=function(U){if(!U)return N;if(typeof U.allowEmptyArrays<"u"&&"boolean"!=typeof U.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof U.encodeDotInKeys<"u"&&"boolean"!=typeof U.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==U.encoder&&typeof U.encoder<"u"&&"function"!=typeof U.encoder)throw new TypeError("Encoder has to be a function.");var Z=U.charset||N.charset;if(typeof U.charset<"u"&&"utf-8"!==U.charset&&"iso-8859-1"!==U.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var ne=v.default;if(typeof U.format<"u"){if(!S.call(v.formatters,U.format))throw new TypeError("Unknown format option provided.");ne=U.format}var z,q=v.formatters[ne],le=N.filter;if(("function"==typeof U.filter||C(U.filter))&&(le=U.filter),z=U.arrayFormat in M?U.arrayFormat:"indices"in U?U.indices?"indices":"repeat":N.arrayFormat,"commaRoundTrip"in U&&"boolean"!=typeof U.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof U.addQueryPrefix?U.addQueryPrefix:N.addQueryPrefix,allowDots:typeof U.allowDots>"u"?!0===U.encodeDotInKeys||N.allowDots:!!U.allowDots,allowEmptyArrays:"boolean"==typeof U.allowEmptyArrays?!!U.allowEmptyArrays:N.allowEmptyArrays,arrayFormat:z,charset:Z,charsetSentinel:"boolean"==typeof U.charsetSentinel?U.charsetSentinel:N.charsetSentinel,commaRoundTrip:U.commaRoundTrip,delimiter:typeof U.delimiter>"u"?N.delimiter:U.delimiter,encode:"boolean"==typeof U.encode?U.encode:N.encode,encodeDotInKeys:"boolean"==typeof U.encodeDotInKeys?U.encodeDotInKeys:N.encodeDotInKeys,encoder:"function"==typeof U.encoder?U.encoder:N.encoder,encodeValuesOnly:"boolean"==typeof U.encodeValuesOnly?U.encodeValuesOnly:N.encodeValuesOnly,filter:le,format:ne,formatter:q,serializeDate:"function"==typeof U.serializeDate?U.serializeDate:N.serializeDate,skipNulls:"boolean"==typeof U.skipNulls?U.skipNulls:N.skipNulls,sort:"function"==typeof U.sort?U.sort:null,strictNullHandling:"boolean"==typeof U.strictNullHandling?U.strictNullHandling:N.strictNullHandling}}(U);"function"==typeof ne.filter?Z=(0,ne.filter)("",Z):C(ne.filter)&&(q=ne.filter);var z=[];if("object"!=typeof Z||null===Z)return"";var J=M[ne.arrayFormat],he="comma"===J&&ne.commaRoundTrip;q||(q=Object.keys(Z)),ne.sort&&q.sort(ne.sort);for(var we=r(),k=0;k<q.length;++k){var ue=q[k];ne.skipNulls&&null===Z[ue]||F(z,E(Z[ue],ue,J,he,ne.allowEmptyArrays,ne.strictNullHandling,ne.skipNulls,ne.encodeDotInKeys,ne.encode?ne.encoder:null,ne.filter,ne.sort,ne.allowDots,ne.serializeDate,ne.format,ne.formatter,ne.encodeValuesOnly,ne.charset,we))}var Ie=z.join(ne.delimiter),ke=!0===ne.addQueryPrefix?"?":"";return ne.charsetSentinel&&(ke+="iso-8859-1"===ne.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Ie.length>0?ke+Ie:""}},57369:(ln,qe,w)=>{"use strict";var r=w(84288),s=Object.prototype.hasOwnProperty,v=Array.isArray,S=function(){for(var U=[],Z=0;Z<256;++Z)U.push("%"+((Z<16?"0":"")+Z.toString(16)).toUpperCase());return U}(),C=function(Z,ne){for(var q=ne&&ne.plainObjects?Object.create(null):{},le=0;le<Z.length;++le)typeof Z[le]<"u"&&(q[le]=Z[le]);return q},G=1024;ln.exports={arrayToObject:C,assign:function(Z,ne){return Object.keys(ne).reduce(function(q,le){return q[le]=ne[le],q},Z)},combine:function(Z,ne){return[].concat(Z,ne)},compact:function(Z){for(var ne=[{obj:{o:Z},prop:"o"}],q=[],le=0;le<ne.length;++le)for(var z=ne[le],J=z.obj[z.prop],he=Object.keys(J),we=0;we<he.length;++we){var k=he[we],ue=J[k];"object"==typeof ue&&null!==ue&&-1===q.indexOf(ue)&&(ne.push({obj:J,prop:k}),q.push(ue))}return function(Z){for(;Z.length>1;){var ne=Z.pop(),q=ne.obj[ne.prop];if(v(q)){for(var le=[],z=0;z<q.length;++z)typeof q[z]<"u"&&le.push(q[z]);ne.obj[ne.prop]=le}}}(ne),Z},decode:function(U,Z,ne){var q=U.replace(/\+/g," ");if("iso-8859-1"===ne)return q.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(q)}catch{return q}},encode:function(Z,ne,q,le,z){if(0===Z.length)return Z;var J=Z;if("symbol"==typeof Z?J=Symbol.prototype.toString.call(Z):"string"!=typeof Z&&(J=String(Z)),"iso-8859-1"===q)return escape(J).replace(/%u[0-9a-f]{4}/gi,function(Ze){return"%26%23"+parseInt(Ze.slice(2),16)+"%3B"});for(var he="",we=0;we<J.length;we+=G){for(var k=J.length>=G?J.slice(we,we+G):J,ue=[],Ie=0;Ie<k.length;++Ie){var ke=k.charCodeAt(Ie);45===ke||46===ke||95===ke||126===ke||ke>=48&&ke<=57||ke>=65&&ke<=90||ke>=97&&ke<=122||z===r.RFC1738&&(40===ke||41===ke)?ue[ue.length]=k.charAt(Ie):ke<128?ue[ue.length]=S[ke]:ke<2048?ue[ue.length]=S[192|ke>>6]+S[128|63&ke]:ke<55296||ke>=57344?ue[ue.length]=S[224|ke>>12]+S[128|ke>>6&63]+S[128|63&ke]:(ke=65536+((1023&ke)<<10|1023&k.charCodeAt(Ie+=1)),ue[ue.length]=S[240|ke>>18]+S[128|ke>>12&63]+S[128|ke>>6&63]+S[128|63&ke])}he+=ue.join("")}return he},isBuffer:function(Z){return!(!Z||"object"!=typeof Z||!(Z.constructor&&Z.constructor.isBuffer&&Z.constructor.isBuffer(Z)))},isRegExp:function(Z){return"[object RegExp]"===Object.prototype.toString.call(Z)},maybeMap:function(Z,ne){if(v(Z)){for(var q=[],le=0;le<Z.length;le+=1)q.push(ne(Z[le]));return q}return ne(Z)},merge:function U(Z,ne,q){if(!ne)return Z;if("object"!=typeof ne){if(v(Z))Z.push(ne);else{if(!Z||"object"!=typeof Z)return[Z,ne];(q&&(q.plainObjects||q.allowPrototypes)||!s.call(Object.prototype,ne))&&(Z[ne]=!0)}return Z}if(!Z||"object"!=typeof Z)return[Z].concat(ne);var le=Z;return v(Z)&&!v(ne)&&(le=C(Z,q)),v(Z)&&v(ne)?(ne.forEach(function(z,J){if(s.call(Z,J)){var he=Z[J];he&&"object"==typeof he&&z&&"object"==typeof z?Z[J]=U(he,z,q):Z.push(z)}else Z[J]=z}),Z):Object.keys(ne).reduce(function(z,J){var he=ne[J];return z[J]=s.call(z,J)?U(z[J],he,q):he,z},le)}}},68023:(ln,qe,w)=>{"use strict";function r(M,C,d,F,P){s(M,C,d||0,F||M.length-1,P||S)}function s(M,C,d,F,P){for(;F>d;){if(F-d>600){var G=F-d+1,N=C-d+1,x=Math.log(G),m=.5*Math.exp(2*x/3),E=.5*Math.sqrt(x*m*(G-m)/G)*(N-G/2<0?-1:1);s(M,C,Math.max(d,Math.floor(C-N*m/G+E)),Math.min(F,Math.floor(C+(G-N)*m/G+E)),P)}var U=M[C],Z=d,ne=F;for(v(M,d,C),P(M[F],U)>0&&v(M,d,F);Z<ne;){for(v(M,Z,ne),Z++,ne--;P(M[Z],U)<0;)Z++;for(;P(M[ne],U)>0;)ne--}0===P(M[d],U)?v(M,d,ne):v(M,++ne,F),ne<=C&&(d=ne+1),C<=ne&&(F=ne-1)}}function v(M,C,d){var F=M[C];M[C]=M[d],M[d]=F}function S(M,C){return M<C?-1:M>C?1:0}w.r(qe),w.d(qe,{default:()=>r})},77015:function(ln){var w;w=()=>{return qe={276:function(){!function(r){"use strict";r.console||(r.console={});for(var s,v,S=r.console,M=function(){},C=["memory"],d="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");s=C.pop();)S[s]||(S[s]={});for(;v=d.pop();)S[v]||(S[v]=M)}(typeof window>"u"?this:window)},180:function(r,s,v){var S,M,C;!function(d,F){"use strict";M=[v(124)],void 0===(C="function"==typeof(S=function(P){var G=/(^|@)\S+:\d+/,N=/^\s*at .*(\S+:\d+|\(native\))/m,x=/^(eval@)?(\[native code])?$/;return{parse:function(m){if(void 0!==m.stacktrace||void 0!==m["opera#sourceloc"])return this.parseOpera(m);if(m.stack&&m.stack.match(N))return this.parseV8OrIE(m);if(m.stack)return this.parseFFOrSafari(m);throw new Error("Cannot parse given Error object")},extractLocation:function(m){if(-1===m.indexOf(":"))return[m];var E=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,""));return[E[1],E[2]||void 0,E[3]||void 0]},parseV8OrIE:function(m){return m.stack.split("\n").filter(function(E){return!!E.match(N)},this).map(function(E){E.indexOf("(eval ")>-1&&(E=E.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var L=E.replace(/^\s+/,"").replace(/\(eval code/g,"("),ae=L.match(/ (\((.+):(\d+):(\d+)\)$)/),U=(L=ae?L.replace(ae[0],""):L).split(/\s+/).slice(1),Z=this.extractLocation(ae?ae[1]:U.pop()),ne=U.join(" ")||void 0,q=["eval","<anonymous>"].indexOf(Z[0])>-1?void 0:Z[0];return new P({functionName:ne,fileName:q,lineNumber:Z[1],columnNumber:Z[2],source:E})},this)},parseFFOrSafari:function(m){return m.stack.split("\n").filter(function(E){return!E.match(x)},this).map(function(E){if(E.indexOf(" > eval")>-1&&(E=E.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===E.indexOf("@")&&-1===E.indexOf(":"))return new P({functionName:E});var L=/((.*".+"[^@]*)?[^@]*)(?:@)/,ae=E.match(L),U=ae&&ae[1]?ae[1]:void 0,Z=this.extractLocation(E.replace(L,""));return new P({functionName:U,fileName:Z[0],lineNumber:Z[1],columnNumber:Z[2],source:E})},this)},parseOpera:function(m){return!m.stacktrace||m.message.indexOf("\n")>-1&&m.message.split("\n").length>m.stacktrace.split("\n").length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var E=/Line (\d+).*script (?:in )?(\S+)/i,L=m.message.split("\n"),ae=[],U=2,Z=L.length;U<Z;U+=2){var ne=E.exec(L[U]);ne&&ae.push(new P({fileName:ne[2],lineNumber:ne[1],source:L[U]}))}return ae},parseOpera10:function(m){for(var E=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,L=m.stacktrace.split("\n"),ae=[],U=0,Z=L.length;U<Z;U+=2){var ne=E.exec(L[U]);ne&&ae.push(new P({functionName:ne[3]||void 0,fileName:ne[2],lineNumber:ne[1],source:L[U]}))}return ae},parseOpera11:function(m){return m.stack.split("\n").filter(function(E){return!!E.match(G)&&!E.match(/^Error created at/)},this).map(function(E){var L,ae=E.split("@"),U=this.extractLocation(ae.pop()),Z=ae.shift()||"",ne=Z.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;Z.match(/\(([^)]*)\)/)&&(L=Z.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var q=void 0===L||"[arguments not available]"===L?void 0:L.split(",");return new P({functionName:ne,args:q,fileName:U[0],lineNumber:U[1],columnNumber:U[2],source:E})},this)}}})?S.apply(s,M):S)||(r.exports=C)}()},124:function(r,s){var v,S,M;!function(C,d){"use strict";S=[],void 0===(M="function"==typeof(v=function(){function F(le){return!isNaN(parseFloat(le))&&isFinite(le)}function P(le){return le.charAt(0).toUpperCase()+le.substring(1)}function G(le){return function(){return this[le]}}var N=["isConstructor","isEval","isNative","isToplevel"],x=["columnNumber","lineNumber"],m=["fileName","functionName","source"],ae=N.concat(x,m,["args"],["evalOrigin"]);function U(le){if(le)for(var z=0;z<ae.length;z++)void 0!==le[ae[z]]&&this["set"+P(ae[z])](le[ae[z]])}U.prototype={getArgs:function(){return this.args},setArgs:function(le){if("[object Array]"!==Object.prototype.toString.call(le))throw new TypeError("Args must be an Array");this.args=le},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(le){if(le instanceof U)this.evalOrigin=le;else{if(!(le instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new U(le)}},toString:function(){var le=this.getFileName()||"",z=this.getLineNumber()||"",J=this.getColumnNumber()||"",he=this.getFunctionName()||"";return this.getIsEval()?le?"[eval] ("+le+":"+z+":"+J+")":"[eval]:"+z+":"+J:he?he+" ("+le+":"+z+":"+J+")":le+":"+z+":"+J}},U.fromString=function(le){var z=le.indexOf("("),J=le.lastIndexOf(")"),he=le.substring(0,z),we=le.substring(z+1,J).split(","),k=le.substring(J+1);if(0===k.indexOf("@"))var ue=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(k,""),Ie=ue[1],ke=ue[2],Ze=ue[3];return new U({functionName:he,args:we||void 0,fileName:Ie,lineNumber:ke||void 0,columnNumber:Ze||void 0})};for(var Z=0;Z<N.length;Z++)U.prototype["get"+P(N[Z])]=G(N[Z]),U.prototype["set"+P(N[Z])]=function(le){return function(z){this[le]=!!z}}(N[Z]);for(var ne=0;ne<x.length;ne++)U.prototype["get"+P(x[ne])]=G(x[ne]),U.prototype["set"+P(x[ne])]=function(le){return function(z){if(!F(z))throw new TypeError(le+" must be a Number");this[le]=Number(z)}}(x[ne]);for(var q=0;q<m.length;q++)U.prototype["get"+P(m[q])]=G(m[q]),U.prototype["set"+P(m[q])]=function(le){return function(z){this[le]=String(z)}}(m[q]);return U})?v.apply(s,S):v)||(r.exports=M)}()},815:(r,s,v)=>{"use strict";var S=v(702),M=v(817),C={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function d(P,G,N,x,m){this.options=P,this.transport=G,this.url=N,this.truncation=x,this.jsonBackup=m,this.accessToken=P.accessToken,this.transportOptions=F(P,N)}function F(P,G){return M.getTransportFromOptions(P,C,G)}d.prototype.postItem=function(P,G){var N=M.transportOptions(this.transportOptions,"POST"),x=M.buildPayload(this.accessToken,P,this.jsonBackup),m=this;setTimeout(function(){m.transport.post(m.accessToken,N,x,G)},0)},d.prototype.buildJsonPayload=function(P,G){var N,x=M.buildPayload(this.accessToken,P,this.jsonBackup);return(N=this.truncation?this.truncation.truncate(x):S.stringify(x)).error?(G&&G(N.error),null):N.value},d.prototype.postJsonPayload=function(P,G){var N=M.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,N,P,G)},d.prototype.configure=function(P){return this.options=S.merge(this.oldOptions,P),this.transportOptions=F(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},r.exports=d},817:(r,s,v)=>{"use strict";var S=v(702);r.exports={buildPayload:function(M,C,d){if(!S.isType(C.context,"string")){var F=S.stringify(C.context,d);C.context=F.error?"Error: could not serialize 'context'":F.value||"",C.context.length>255&&(C.context=C.context.substr(0,255))}return{access_token:M,data:C}},getTransportFromOptions:function(M,C,d){var Z,ne,F=C.hostname,P=C.protocol,G=C.port,N=C.path,x=C.search,m=M.timeout,E=(Z=typeof window<"u"&&window||typeof self<"u"&&self,ne=M.defaultTransport||"xhr",void 0===Z.fetch&&(ne="xhr"),void 0===Z.XMLHttpRequest&&(ne="fetch"),ne),L=M.proxy;if(M.endpoint){var ae=d.parse(M.endpoint);F=ae.hostname,P=ae.protocol,G=ae.port,N=ae.pathname,x=ae.search}return{timeout:m,hostname:F,protocol:P,port:G,path:N,search:x,proxy:L,transport:E}},transportOptions:function(M,C){var d=M.protocol||"https:",F=M.port||("http:"===d?80:"https:"===d?443:void 0),P=M.hostname,G=M.path;return M.search&&(G+=M.search),M.proxy&&(G=d+"//"+P+G,P=M.proxy.host||M.proxy.hostname,F=M.proxy.port,d=M.proxy.protocol||d),{timeout:M.timeout,protocol:d,hostname:P,path:G,port:F,method:C,transport:M.transport}},appendPathToPath:function(M,C){var d=/\/$/.test(M),F=/^\//.test(C);return d&&F?C=C.substring(1):d||F||(C="/"+C),M+C}}},409:(r,s,v)=>{"use strict";var S=v(343),M=typeof window<"u"&&window._rollbarConfig,C=M&&M.globalAlias||"Rollbar",d=typeof window<"u"&&window[C]&&"function"==typeof window[C].shimId&&void 0!==window[C].shimId();if(typeof window>"u"||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!d&&M){var F=new S(M);window[C]=F}else typeof window<"u"?(window.rollbar=S,window._rollbarDidLoad=!0):typeof self<"u"&&(self.rollbar=S,self._rollbarDidLoad=!0);r.exports=S},403:(r,s,v)=>{"use strict";var S=v(562),M=v(702),C=v(815),d=v(802),F=v(349),P=v(477),G=v(509),N=v(860),x=v(417),m=v(172),E=v(61),L=v(303);function ae(he,we){this.options=M.handleOptions(J,he,null,d),this.options._configuredOptions=he;var k=this.components.telemeter,ue=this.components.instrumenter,Ie=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var ke=this.components.truncation,Ze=new P(ke),Ce=new C(this.options,Ze,G,ke);k&&(this.telemeter=new k(this.options)),this.client=we||new S(this.options,Ce,d,this.telemeter,"browser");var fe,Nt=q(),Kt=typeof document<"u"&&document;this.isChrome=Nt.chrome&&Nt.chrome.runtime,this.anonymousErrorsPending=0,fe=Nt,this.client.notifier.addTransform(N.handleDomException).addTransform(N.handleItemWithError).addTransform(N.ensureItemHasSomethingToSay).addTransform(N.addBaseInfo).addTransform(N.addRequestInfo(fe)).addTransform(N.addClientInfo(fe)).addTransform(N.addPluginInfo(fe)).addTransform(N.addBody).addTransform(x.addMessageWithError).addTransform(x.addTelemetryData).addTransform(x.addConfigToPayload).addTransform(N.addScrubber(this.scrub)).addTransform(x.addPayloadOptions).addTransform(x.userTransform(d)).addTransform(x.addConfiguredOptions).addTransform(x.addDiagnosticKeys).addTransform(x.itemToPayload),this.client.queue.addPredicate(E.checkLevel).addPredicate(m.checkIgnore).addPredicate(E.userCheckIgnore(d)).addPredicate(E.urlIsNotBlockListed(d)).addPredicate(E.urlIsSafeListed(d)).addPredicate(E.messageIsIgnored(d)),this.setupUnhandledCapture(),ue&&(this.instrumenter=new ue(this.options,this.client.telemeter,this,Nt,Kt),this.instrumenter.instrument()),M.setupJSON(Ie),this.rollbar=this}var U=null;function Z(he){var we="Rollbar is not initialized";d.error(we),he&&he(new Error(we))}function ne(he){for(var we=0,k=he.length;we<k;++we)if(M.isFunction(he[we]))return he[we]}function q(){return typeof window<"u"&&window||typeof self<"u"&&self}ae.init=function(he,we){return U?U.global(he).configure(he):U=new ae(he,we)},ae.prototype.components={},ae.setComponents=function(he){ae.prototype.components=he},ae.prototype.global=function(he){return this.client.global(he),this},ae.global=function(he){if(U)return U.global(he);Z()},ae.prototype.configure=function(he,we){var k=this.options,ue={};return we&&(ue={payload:we}),this.options=M.handleOptions(k,he,ue,d),this.options._configuredOptions=M.handleOptions(k._configuredOptions,he,ue),this.client.configure(this.options,we),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},ae.configure=function(he,we){if(U)return U.configure(he,we);Z()},ae.prototype.lastError=function(){return this.client.lastError},ae.lastError=function(){if(U)return U.lastError();Z()},ae.prototype.log=function(){var he=this._createItem(arguments),we=he.uuid;return this.client.log(he),{uuid:we}},ae.log=function(){if(U)return U.log.apply(U,arguments);Z(ne(arguments))},ae.prototype.debug=function(){var he=this._createItem(arguments),we=he.uuid;return this.client.debug(he),{uuid:we}},ae.debug=function(){if(U)return U.debug.apply(U,arguments);Z(ne(arguments))},ae.prototype.info=function(){var he=this._createItem(arguments),we=he.uuid;return this.client.info(he),{uuid:we}},ae.info=function(){if(U)return U.info.apply(U,arguments);Z(ne(arguments))},ae.prototype.warn=function(){var he=this._createItem(arguments),we=he.uuid;return this.client.warn(he),{uuid:we}},ae.warn=function(){if(U)return U.warn.apply(U,arguments);Z(ne(arguments))},ae.prototype.warning=function(){var he=this._createItem(arguments),we=he.uuid;return this.client.warning(he),{uuid:we}},ae.warning=function(){if(U)return U.warning.apply(U,arguments);Z(ne(arguments))},ae.prototype.error=function(){var he=this._createItem(arguments),we=he.uuid;return this.client.error(he),{uuid:we}},ae.error=function(){if(U)return U.error.apply(U,arguments);Z(ne(arguments))},ae.prototype.critical=function(){var he=this._createItem(arguments),we=he.uuid;return this.client.critical(he),{uuid:we}},ae.critical=function(){if(U)return U.critical.apply(U,arguments);Z(ne(arguments))},ae.prototype.buildJsonPayload=function(he){return this.client.buildJsonPayload(he)},ae.buildJsonPayload=function(){if(U)return U.buildJsonPayload.apply(U,arguments);Z()},ae.prototype.sendJsonPayload=function(he){return this.client.sendJsonPayload(he)},ae.sendJsonPayload=function(){if(U)return U.sendJsonPayload.apply(U,arguments);Z()},ae.prototype.setupUnhandledCapture=function(){var he=q();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(F.captureUncaughtExceptions(he,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(he,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(F.captureUnhandledRejections(he,this),this.unhandledRejectionsInitialized=!0)},ae.prototype.handleUncaughtException=function(he,we,k,ue,Ie,ke){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===Ie&&""===we)return"anonymous";var Ze,Ce=M.makeUnhandledStackInfo(he,we,k,ue,Ie,"onerror","uncaught exception",L);M.isError(Ie)?(Ze=this._createItem([he,Ie,ke]))._unhandledStackInfo=Ce:M.isError(we)?(Ze=this._createItem([he,we,ke]))._unhandledStackInfo=Ce:(Ze=this._createItem([he,ke])).stackInfo=Ce,Ze.level=this.options.uncaughtErrorLevel,Ze._isUncaught=!0,this.client.log(Ze)}},ae.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var he=this;try{Error.prepareStackTrace=function(we,k){if(he.options.inspectAnonymousErrors&&he.anonymousErrorsPending){if(he.anonymousErrorsPending-=1,!we)return;we._isAnonymous=!0,he.handleUncaughtException(we.message,null,null,null,we)}return we.stack}}catch(we){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",we)}}},ae.prototype.handleUnhandledRejection=function(he,we){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var k="unhandled rejection was null or undefined!";if(he)if(he.message)k=he.message;else{var ue=M.stringify(he);ue.value&&(k=ue.value)}var Ie,ke=he&&he._rollbarContext||we&&we._rollbarContext;M.isError(he)?Ie=this._createItem([k,he,ke]):(Ie=this._createItem([k,he,ke])).stackInfo=M.makeUnhandledStackInfo(k,"",0,0,null,"unhandledrejection","",L),Ie.level=this.options.uncaughtErrorLevel,Ie._isUncaught=!0,Ie._originalArgs=Ie._originalArgs||[],Ie._originalArgs.push(we),this.client.log(Ie)}},ae.prototype.wrap=function(he,we,k){try{var ue;if(ue=M.isFunction(we)?we:function(){return we||{}},!M.isFunction(he)||he._isWrap)return he;if(!he._rollbar_wrapped&&(he._rollbar_wrapped=function(){k&&M.isFunction(k)&&k.apply(this,arguments);try{return he.apply(this,arguments)}catch(Ze){var ke=Ze;throw ke&&window._rollbarWrappedError!==ke&&(M.isType(ke,"string")&&(ke=new String(ke)),ke._rollbarContext=ue()||{},ke._rollbarContext._wrappedSource=he.toString(),window._rollbarWrappedError=ke),ke}},he._rollbar_wrapped._isWrap=!0,he.hasOwnProperty))for(var Ie in he)he.hasOwnProperty(Ie)&&"_rollbar_wrapped"!==Ie&&(he._rollbar_wrapped[Ie]=he[Ie]);return he._rollbar_wrapped}catch{return he}},ae.wrap=function(he,we){if(U)return U.wrap(he,we);Z()},ae.prototype.captureEvent=function(){var he=M.createTelemetryEvent(arguments);return this.client.captureEvent(he.type,he.metadata,he.level)},ae.captureEvent=function(){if(U)return U.captureEvent.apply(U,arguments);Z()},ae.prototype.captureDomContentLoaded=function(he,we){return we||(we=new Date),this.client.captureDomContentLoaded(we)},ae.prototype.captureLoad=function(he,we){return we||(we=new Date),this.client.captureLoad(we)},ae.prototype.loadFull=function(){d.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},ae.prototype._createItem=function(he){return M.createItem(he,d,this)};var le=v(948),z=v(677),J={version:le.version,scrubFields:z.scrubFields,logLevel:le.logLevel,reportLevel:le.reportLevel,uncaughtErrorLevel:le.uncaughtErrorLevel,endpoint:le.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};r.exports=ae},677:r=>{"use strict";r.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},616:r=>{"use strict";r.exports={ieVersion:function(){var v;if(typeof document>"u")return v;for(var S=3,M=document.createElement("div"),C=M.getElementsByTagName("i");M.innerHTML="\x3c!--[if gt IE "+ ++S+"]><i></i><![endif]--\x3e",C[0];);return S>4?S:v}}},300:r=>{"use strict";function s(M){return(M.getAttribute("type")||"").toLowerCase()}function v(M){if(!M||!M.tagName)return"";var C=[M.tagName];M.id&&C.push("#"+M.id),M.classes&&C.push("."+M.classes.join("."));for(var d=0;d<M.attributes.length;d++)C.push("["+M.attributes[d].key+'="'+M.attributes[d].value+'"]');return C.join("")}function S(M){if(!M||!M.tagName)return null;var C,d,F,P,G={};G.tagName=M.tagName.toLowerCase(),M.id&&(G.id=M.id),(C=M.className)&&"string"==typeof C&&(G.classes=C.split(/\s+/));var N=["type","name","title","alt"];for(G.attributes=[],P=0;P<N.length;P++)(F=M.getAttribute(d=N[P]))&&G.attributes.push({key:d,value:F});return G}r.exports={describeElement:S,descriptionToString:v,elementArrayToString:function(M){for(var C,F=[],P=0,G=M.length-1;G>=0;G--){if(C=v(M[G]),G<M.length-1&&P+3*F.length+C.length>=83){F.unshift("...");break}F.unshift(C),P+=C.length}return F.join(" > ")},treeToArray:function(M){for(var C,d=[],F=0;M&&F<5&&"html"!==(C=S(M)).tagName;F++)d.unshift(C),M=M.parentNode;return d},getElementFromEvent:function(M,C){return M.target?M.target:C&&C.elementFromPoint?C.elementFromPoint(M.clientX,M.clientY):void 0},isDescribedElement:function(M,C,d){if(M.tagName.toLowerCase()!==C.toLowerCase())return!1;if(!d)return!0;M=s(M);for(var F=0;F<d.length;F++)if(d[F]===M)return!0;return!1},getElementType:s}},349:r=>{"use strict";r.exports={captureUncaughtExceptions:function(s,v,S){if(s){var M;if("function"==typeof v._rollbarOldOnError)M=v._rollbarOldOnError;else if(s.onerror){for(M=s.onerror;M._rollbarOldOnError;)M=M._rollbarOldOnError;v._rollbarOldOnError=M}v.handleAnonymousErrors();var C=function(){var d=Array.prototype.slice.call(arguments,0);!function(F,P,G,N){F._rollbarWrappedError&&(N[4]||(N[4]=F._rollbarWrappedError),N[5]||(N[5]=F._rollbarWrappedError._rollbarContext),F._rollbarWrappedError=null);var x=P.handleUncaughtException.apply(P,N);G&&G.apply(F,N),"anonymous"===x&&(P.anonymousErrorsPending+=1)}(s,v,M,d)};S&&(C._rollbarOldOnError=M),s.onerror=C}},captureUnhandledRejections:function(s,v,S){if(s){"function"==typeof s._rollbarURH&&s._rollbarURH.belongsToShim&&s.removeEventListener("unhandledrejection",s._rollbarURH);var M=function(C){var d,F,P;try{d=C.reason}catch{d=void 0}try{F=C.promise}catch{F="[unhandledrejection] error getting `promise` from event"}try{P=C.detail,!d&&P&&(d=P.reason,F=P.promise)}catch{}d||(d="[unhandledrejection] error getting `reason` from event"),v&&v.handleUnhandledRejection&&v.handleUnhandledRejection(d,F)};M.belongsToShim=S,s._rollbarURH=M,s.addEventListener("unhandledrejection",M)}}}},802:(r,s,v)=>{"use strict";v(276);var S=v(616),M=v(702);r.exports={error:function(){var C=Array.prototype.slice.call(arguments,0);C.unshift("Rollbar:"),S.ieVersion()<=8?console.error(M.formatArgsAsString(C)):console.error.apply(console,C)},info:function(){var C=Array.prototype.slice.call(arguments,0);C.unshift("Rollbar:"),S.ieVersion()<=8?console.info(M.formatArgsAsString(C)):console.info.apply(console,C)},log:function(){var C=Array.prototype.slice.call(arguments,0);C.unshift("Rollbar:"),S.ieVersion()<=8?console.log(M.formatArgsAsString(C)):console.log.apply(console,C)}}},172:(r,s,v)=>{"use strict";var S=v(702);r.exports={checkIgnore:function(M,C){return!S.get(C,"plugins.jquery.ignoreAjaxErrors")||!S.get(M,"body.message.extra.isAjax")}}},343:(r,s,v)=>{"use strict";var S=v(403),M=v(773),C=v(568),d=v(876),F=v(965),P=v(369),G=v(473);S.setComponents({telemeter:M,instrumenter:C,polyfillJSON:d,wrapGlobals:F,scrub:P,truncation:G}),r.exports=S},568:(r,s,v)=>{"use strict";var S=v(702),M=v(650),C=v(297),d=v(369),F=v(509),P=v(300),G={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function N(E,L){for(var ae;E[L].length;)(ae=E[L].shift())[0][ae[1]]=ae[2]}function x(E,L,ae,U,Z){this.options=E;var ne=E.autoInstrument;!1===E.enabled||!1===ne?this.autoInstrument={}:(S.isType(ne,"object")||(ne=G),this.autoInstrument=S.merge(G,ne)),this.scrubTelemetryInputs=!!E.scrubTelemetryInputs,this.telemetryScrubber=E.telemetryScrubber,this.defaultValueScrubber=function(q){for(var le=[],z=0;z<q.length;++z)le.push(new RegExp(q[z],"i"));return function(J){var he=function(k){if(!k||!k.attributes)return null;for(var ue=k.attributes,Ie=0;Ie<ue.length;++Ie)if("name"===ue[Ie].key)return ue[Ie].value;return null}(J);if(!he)return!1;for(var we=0;we<le.length;++we)if(le[we].test(he))return!0;return!1}}(E.scrubFields),this.telemeter=L,this.rollbar=ae,this.diagnostic=ae.client.notifier.diagnostic,this._window=U||{},this._document=Z||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}function m(E){return typeof URL<"u"&&E instanceof URL}x.prototype.configure=function(E){this.options=S.merge(this.options,E);var L=E.autoInstrument,ae=S.merge(this.autoInstrument);!1===E.enabled||!1===L?this.autoInstrument={}:(S.isType(L,"object")||(L=G),this.autoInstrument=S.merge(G,L)),this.instrument(ae),void 0!==E.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!E.scrubTelemetryInputs),void 0!==E.telemetryScrubber&&(this.telemetryScrubber=E.telemetryScrubber)},x.prototype.instrument=function(E){!this.autoInstrument.network||E&&E.network?!this.autoInstrument.network&&E&&E.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||E&&E.log?!this.autoInstrument.log&&E&&E.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||E&&E.dom?!this.autoInstrument.dom&&E&&E.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||E&&E.navigation?!this.autoInstrument.navigation&&E&&E.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||E&&E.connectivity?!this.autoInstrument.connectivity&&E&&E.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||E&&E.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&E&&E.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},x.prototype.deinstrumentNetwork=function(){N(this.replacements,"network")},x.prototype.instrumentNetwork=function(){var E=this;function L(U,Z){U in Z&&S.isFunction(Z[U])&&C(Z,U,function(ne){return E.rollbar.wrap(ne)})}if("XMLHttpRequest"in this._window){var ae=this._window.XMLHttpRequest.prototype;C(ae,"open",function(U){return function(Z,ne){var q=m(ne);return(S.isType(ne,"string")||q)&&(ne=q?ne.toString():ne,this.__rollbar_xhr?(this.__rollbar_xhr.method=Z,this.__rollbar_xhr.url=ne,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=S.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:Z,url:ne,status_code:null,start_time_ms:S.now(),end_time_ms:null}),U.apply(this,arguments)}},this.replacements,"network"),C(ae,"setRequestHeader",function(U){return function(Z,ne){return this.__rollbar_xhr||(this.__rollbar_xhr={}),S.isType(Z,"string")&&S.isType(ne,"string")&&(E.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[Z]=ne),"content-type"===Z.toLowerCase()&&(this.__rollbar_xhr.request_content_type=ne)),U.apply(this,arguments)}},this.replacements,"network"),C(ae,"send",function(U){return function(Z){var ne=this;function q(){if(ne.__rollbar_xhr&&(null===ne.__rollbar_xhr.status_code&&(ne.__rollbar_xhr.status_code=0,E.autoInstrument.networkRequestBody&&(ne.__rollbar_xhr.request=Z),ne.__rollbar_event=E.captureNetwork(ne.__rollbar_xhr,"xhr",void 0)),ne.readyState<2&&(ne.__rollbar_xhr.start_time_ms=S.now()),ne.readyState>3)){ne.__rollbar_xhr.end_time_ms=S.now();var le=null;if(ne.__rollbar_xhr.response_content_type=ne.getResponseHeader("Content-Type"),E.autoInstrument.networkResponseHeaders){var z=E.autoInstrument.networkResponseHeaders;le={};try{var J,he;if(!0===z){var we=ne.getAllResponseHeaders();if(we){var k,ue,Ie=we.trim().split(/[\r\n]+/);for(he=0;he<Ie.length;he++)J=(k=Ie[he].split(": ")).shift(),ue=k.join(": "),le[J]=ue}}else for(he=0;he<z.length;he++)le[J=z[he]]=ne.getResponseHeader(J)}catch{}}var ke=null;if(E.autoInstrument.networkResponseBody)try{ke=ne.responseText}catch{}var Ze=null;(ke||le)&&(Ze={},ke&&(Ze.body=E.isJsonContentType(ne.__rollbar_xhr.response_content_type)?E.scrubJson(ke):ke),le&&(Ze.headers=le)),Ze&&(ne.__rollbar_xhr.response=Ze);try{var Ce=ne.status;ne.__rollbar_xhr.status_code=Ce=1223===Ce?204:Ce,ne.__rollbar_event.level=E.telemeter.levelFromStatus(Ce),E.errorOnHttpStatus(ne.__rollbar_xhr)}catch{}}}return L("onload",ne),L("onerror",ne),L("onprogress",ne),"onreadystatechange"in ne&&S.isFunction(ne.onreadystatechange)?C(ne,"onreadystatechange",function(le){return E.rollbar.wrap(le,void 0,q)}):ne.onreadystatechange=q,ne.__rollbar_xhr&&E.trackHttpErrors()&&(ne.__rollbar_xhr.stack=(new Error).stack),U.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&C(this._window,"fetch",function(U){return function(Z,ne){for(var q=new Array(arguments.length),le=0,z=q.length;le<z;le++)q[le]=arguments[le];var J,he=q[0],we="GET",k=m(he);S.isType(he,"string")||k?J=k?he.toString():he:he&&(J=he.url,he.method&&(we=he.method)),q[1]&&q[1].method&&(we=q[1].method);var ue={method:we,url:J,status_code:null,start_time_ms:S.now(),end_time_ms:null};if(q[1]&&q[1].headers){var Ie=M(q[1].headers);ue.request_content_type=Ie.get("Content-Type"),E.autoInstrument.networkRequestHeaders&&(ue.request_headers=E.fetchHeaders(Ie,E.autoInstrument.networkRequestHeaders))}return E.autoInstrument.networkRequestBody&&(q[1]&&q[1].body?ue.request=q[1].body:q[0]&&!S.isType(q[0],"string")&&q[0].body&&(ue.request=q[0].body)),E.captureNetwork(ue,"fetch",void 0),E.trackHttpErrors()&&(ue.stack=(new Error).stack),U.apply(this,q).then(function(ke){ue.end_time_ms=S.now(),ue.status_code=ke.status,ue.response_content_type=ke.headers.get("Content-Type");var Ze=null;E.autoInstrument.networkResponseHeaders&&(Ze=E.fetchHeaders(ke.headers,E.autoInstrument.networkResponseHeaders));var Ce=null;return E.autoInstrument.networkResponseBody&&"function"==typeof ke.text&&(Ce=ke.clone().text()),(Ze||Ce)&&(ue.response={},Ce&&("function"==typeof Ce.then?Ce.then(function(Nt){ue.response.body=Nt&&E.isJsonContentType(ue.response_content_type)?E.scrubJson(Nt):Nt}):ue.response.body=Ce),Ze&&(ue.response.headers=Ze)),E.errorOnHttpStatus(ue),ke})}},this.replacements,"network")},x.prototype.captureNetwork=function(E,L,ae){return E.request&&this.isJsonContentType(E.request_content_type)&&(E.request=this.scrubJson(E.request)),this.telemeter.captureNetwork(E,L,ae)},x.prototype.isJsonContentType=function(E){return!!(E&&S.isType(E,"string")&&E.toLowerCase().includes("json"))},x.prototype.scrubJson=function(E){return JSON.stringify(d(JSON.parse(E),this.options.scrubFields))},x.prototype.fetchHeaders=function(E,L){var ae={};try{var U;if(!0===L){if("function"==typeof E.entries)for(var Z=E.entries(),ne=Z.next();!ne.done;)ae[ne.value[0]]=ne.value[1],ne=Z.next()}else for(U=0;U<L.length;U++){var q=L[U];ae[q]=E.get(q)}}catch{}return ae},x.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},x.prototype.errorOnHttpStatus=function(E){var L=E.status_code;if(L>=500&&this.autoInstrument.networkErrorOnHttp5xx||L>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===L&&this.autoInstrument.networkErrorOnHttp0){var ae=new Error("HTTP request failed with Status "+L);ae.stack=E.stack,this.rollbar.error(ae,{skipFrames:1})}},x.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var E;this.replacements.log.length;)E=this.replacements.log.shift(),this._window.console[E[0]]=E[1]},x.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var E=this,L=this._window.console,ae=["debug","info","warn","error","log"];try{for(var U=0,Z=ae.length;U<Z;U++)ne(ae[U])}catch(q){this.diagnostic.instrumentConsole={error:q.message}}}function ne(q){var le=L[q],z=L,J="warn"===q?"warning":q;L[q]=function(){var he=Array.prototype.slice.call(arguments),we=S.formatArgsAsString(he);E.telemeter.captureLog(we,J),le&&Function.prototype.apply.call(le,z,he)},E.replacements.log.push([q,le])}},x.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},x.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var E=this.handleClick.bind(this),L=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",E,!0),this.addListener("dom",this._window,"blur","onfocusout",L,!0)}},x.prototype.handleClick=function(E){try{var L=P.getElementFromEvent(E,this._document),ae=L&&L.tagName,U=P.isDescribedElement(L,"a")||P.isDescribedElement(L,"button");ae&&(U||P.isDescribedElement(L,"input",["button","submit"]))?this.captureDomEvent("click",L):P.isDescribedElement(L,"input",["checkbox","radio"])&&this.captureDomEvent("input",L,L.value,L.checked)}catch{}},x.prototype.handleBlur=function(E){try{var L=P.getElementFromEvent(E,this._document);L&&L.tagName&&(P.isDescribedElement(L,"textarea")?this.captureDomEvent("input",L,L.value):P.isDescribedElement(L,"select")&&L.options&&L.options.length?this.handleSelectInputChanged(L):P.isDescribedElement(L,"input")&&!P.isDescribedElement(L,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",L,L.value))}catch{}},x.prototype.handleSelectInputChanged=function(E){if(E.multiple)for(var L=0;L<E.options.length;L++)E.options[L].selected&&this.captureDomEvent("input",E,E.options[L].value);else E.selectedIndex>=0&&E.options[E.selectedIndex]&&this.captureDomEvent("input",E,E.options[E.selectedIndex].value)},x.prototype.captureDomEvent=function(E,L,ae,U){if(void 0!==ae)if(this.scrubTelemetryInputs||"password"===P.getElementType(L))ae="[scrubbed]";else{var Z=P.describeElement(L);this.telemetryScrubber?this.telemetryScrubber(Z)&&(ae="[scrubbed]"):this.defaultValueScrubber(Z)&&(ae="[scrubbed]")}var ne=P.elementArrayToString(P.treeToArray(L));this.telemeter.captureDom(E,ne,ae,U)},x.prototype.deinstrumentNavigation=function(){var E=this._window.chrome;!(E&&E.app&&E.app.runtime)&&this._window.history&&this._window.history.pushState&&N(this.replacements,"navigation")},x.prototype.instrumentNavigation=function(){var E=this._window.chrome;if(!(E&&E.app&&E.app.runtime)&&this._window.history&&this._window.history.pushState){var L=this;C(this._window,"onpopstate",function(ae){return function(){L.handleUrlChange(L._lastHref,L._location.href),ae&&ae.apply(this,arguments)}},this.replacements,"navigation"),C(this._window.history,"pushState",function(ae){return function(){var U=arguments.length>2?arguments[2]:void 0;return U&&L.handleUrlChange(L._lastHref,U+""),ae.apply(this,arguments)}},this.replacements,"navigation")}},x.prototype.handleUrlChange=function(E,L){var ae=F.parse(this._location.href),U=F.parse(L),Z=F.parse(E);this._lastHref=L,ae.protocol===U.protocol&&ae.host===U.host&&(L=U.path+(U.hash||"")),ae.protocol===Z.protocol&&ae.host===Z.host&&(E=Z.path+(Z.hash||"")),this.telemeter.captureNavigation(E,L)},x.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):N(this.replacements,"connectivity"))},x.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var E=this;C(this._document.body,"ononline",function(L){return function(){E.telemeter.captureConnectivityChange("online"),L&&L.apply(this,arguments)}},this.replacements,"connectivity"),C(this._document.body,"onoffline",function(L){return function(){E.telemeter.captureConnectivityChange("offline"),L&&L.apply(this,arguments)}},this.replacements,"connectivity")}},x.prototype.handleCspEvent=function(E){var L="Security Policy Violation: blockedURI: "+E.blockedURI+", violatedDirective: "+E.violatedDirective+", effectiveDirective: "+E.effectiveDirective+", ";E.sourceFile&&(L+="location: "+E.sourceFile+", line: "+E.lineNumber+", col: "+E.columnNumber+", "),this.telemeter.captureLog(L+="originalPolicy: "+E.originalPolicy,"error"),this.handleCspError(L)},x.prototype.handleCspError=function(E){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(E)},x.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},x.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var E=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,E,!1)}},x.prototype.addListener=function(E,L,ae,U,Z,ne){L.addEventListener?(L.addEventListener(ae,Z,ne),this.eventRemovers[E].push(function(){L.removeEventListener(ae,Z,ne)})):U&&(L.attachEvent(U,Z),this.eventRemovers[E].push(function(){L.detachEvent(U,Z)}))},x.prototype.removeListeners=function(E){for(;this.eventRemovers[E].length;)this.eventRemovers[E].shift()()},r.exports=x},860:(r,s,v)=>{"use strict";var S=v(702),M=v(303),C=v(802);function d(N,x,m){var E=N.message,L=N.custom;E||(E="Item sent with null or missing arguments.");var ae={body:E};L&&(ae.extra=S.merge(L)),S.set(N,"data.body",{message:ae}),m(null,N)}function F(N){var x=N.stackInfo.stack;return x&&0===x.length&&N._unhandledStackInfo&&N._unhandledStackInfo.stack&&(x=N._unhandledStackInfo.stack),x}function P(N,x,m){var E=N&&N.data.description,L=N&&N.custom,ae=F(N),U=M.guessErrorClass(x.message),Z={exception:{class:G(x,U[0],m),message:U[1]}};if(E&&(Z.exception.description=E),ae){var ne,q,le,z,J,he,we,k;for(0===ae.length&&(Z.exception.stack=x.rawStack,Z.exception.raw=String(x.rawException)),Z.frames=[],we=0;we<ae.length;++we)q={filename:(ne=ae[we]).url?S.sanitizeUrl(ne.url):"(unknown)",lineno:ne.line||null,method:ne.func&&"?"!==ne.func?ne.func:"[anonymous]",colno:ne.column},m.sendFrameUrl&&(q.url=ne.url),q.method&&q.method.endsWith&&q.method.endsWith("_rollbar_wrapped")||(le=z=J=null,(he=ne.context?ne.context.length:0)&&(k=Math.floor(he/2),z=ne.context.slice(0,k),le=ne.context[k],J=ne.context.slice(k)),le&&(q.code=le),(z||J)&&(q.context={},z&&z.length&&(q.context.pre=z),J&&J.length&&(q.context.post=J)),ne.args&&(q.args=ne.args),Z.frames.push(q));Z.frames.reverse(),L&&(Z.extra=S.merge(L))}return Z}function G(N,x,m){return N.name?N.name:m.guessErrorClass?x:"(unknown)"}r.exports={handleDomException:function(N,x,m){if(N.err&&"DOMException"===M.Stack(N.err).name){var E=new Error;E.name=N.err.name,E.message=N.err.message,E.stack=N.err.stack,E.nested=N.err,N.err=E}m(null,N)},handleItemWithError:function(N,x,m){if(N.data=N.data||{},N.err)try{N.stackInfo=N.err._savedStackTrace||M.parse(N.err,N.skipFrames),x.addErrorContext&&function(E){var L=[],ae=E.err;for(L.push(ae);ae.nested||ae.cause;)L.push(ae=ae.nested||ae.cause);S.addErrorContext(E,L)}(N)}catch(E){C.error("Error while parsing the error object.",E);try{N.message=N.err.message||N.err.description||N.message||String(N.err)}catch(L){N.message=String(N.err)||String(L)}delete N.err}m(null,N)},ensureItemHasSomethingToSay:function(N,x,m){N.message||N.stackInfo||N.custom||m(new Error("No message, stack info, or custom data"),null),m(null,N)},addBaseInfo:function(N,x,m){N.data=S.merge(N.data,{environment:x.payload&&x.payload.environment||x.environment,level:N.level,endpoint:x.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:N.uuid,notifier:{name:"rollbar-browser-js",version:x.version},custom:N.custom}),m(null,N)},addRequestInfo:function(N){return function(x,m,E){var L={};N&&N.location&&(L.url=N.location.href,L.query_string=N.location.search);var ae="$remote_ip";m.captureIp?!0!==m.captureIp&&(ae+="_anonymize"):ae=null,ae&&(L.user_ip=ae),Object.keys(L).length>0&&S.set(x,"data.request",L),E(null,x)}},addClientInfo:function(N){return function(x,m,E){if(!N)return E(null,x);var L=N.navigator||{},ae=N.screen||{};S.set(x,"data.client",{runtime_ms:x.timestamp-N._rollbarStartTime,timestamp:Math.round(x.timestamp/1e3),javascript:{browser:L.userAgent,language:L.language,cookie_enabled:L.cookieEnabled,screen:{width:ae.width,height:ae.height}}}),E(null,x)}},addPluginInfo:function(N){return function(x,m,E){if(!N||!N.navigator)return E(null,x);for(var L,ae=[],U=N.navigator.plugins||[],Z=0,ne=U.length;Z<ne;++Z)ae.push({name:(L=U[Z]).name,description:L.description});S.set(x,"data.client.javascript.plugins",ae),E(null,x)}},addBody:function(N,x,m){N.stackInfo?N.stackInfo.traceChain?function(E,L,ae){for(var U=E.stackInfo.traceChain,Z=[],ne=U.length,q=0;q<ne;q++){var le=P(E,U[q],L);Z.push(le)}S.set(E,"data.body",{trace_chain:Z}),ae(null,E)}(N,x,m):function(E,L,ae){if(F(E)){var Z=P(E,E.stackInfo,L);S.set(E,"data.body",{trace:Z}),ae(null,E)}else{var ne=E.stackInfo,q=M.guessErrorClass(ne.message),le=G(ne,q[0],L);E.message=le+": "+q[1],d(E,0,ae)}}(N,x,m):d(N,0,m)},addScrubber:function(N){return function(x,m,E){N&&(x.data=N(x.data,m.scrubFields||[],m.scrubPaths||[])),E(null,x)}}}},477:(r,s,v)=>{"use strict";var S=v(702),M=v(656),C=v(86);function d(F){this.truncation=F}d.prototype.get=function(F,P,G,N,x){N&&S.isFunction(N)||(N=function(){}),S.addParamsAndAccessTokenToPath(F,P,G);var m=S.formatUrl(P);this._makeZoneRequest(F,m,"GET",null,N,x,P.timeout,P.transport)},d.prototype.post=function(F,P,G,N,x){if(N&&S.isFunction(N)||(N=function(){}),!G)return N(new Error("Cannot send empty request"));var m;if((m=this.truncation?this.truncation.truncate(G):S.stringify(G)).error)return N(m.error);var E=m.value,L=S.formatUrl(P);this._makeZoneRequest(F,L,"POST",E,N,x,P.timeout,P.transport)},d.prototype.postJsonPayload=function(F,P,G,N,x){N&&S.isFunction(N)||(N=function(){});var m=S.formatUrl(P);this._makeZoneRequest(F,m,"POST",G,N,x,P.timeout,P.transport)},d.prototype._makeZoneRequest=function(){var F=typeof window<"u"&&window||void 0!==x&&x,P=F&&F.Zone&&F.Zone.current,G=Array.prototype.slice.call(arguments);if(P&&"angular"===P._name){var x=this;P._parent.run(function(){x._makeRequest.apply(void 0,G)})}else this._makeRequest.apply(void 0,G)},d.prototype._makeRequest=function(F,P,G,N,x,m,E,L){if(typeof RollbarProxy<"u")return ae=N,U=x,void(new RollbarProxy).sendJsonPayload(ae,function(Z){},function(Z){U(new Error(Z))});var ae,U;"fetch"===L?M(F,P,G,N,x,E):C(F,P,G,N,x,m,E)},r.exports=d},656:(r,s,v)=>{"use strict";var S=v(802),M=v(702);r.exports=function(C,d,F,P,G,N){var x,m;M.isFiniteNumber(N)&&(x=new AbortController,m=setTimeout(function(){x.abort()},N)),fetch(d,{method:F,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":C,signal:x&&x.signal},body:P}).then(function(E){return m&&clearTimeout(m),E.json()}).then(function(E){G(null,E)}).catch(function(E){S.error(E.message),G(E)})}},86:(r,s,v)=>{"use strict";var S=v(702),M=v(802);function C(d,F){var P=new Error(d);return P.code=F||"ENOTFOUND",P}r.exports=function(d,F,P,G,N,x,m){var E;if(!(E=x?x():function(){var U,Z,ne=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],q=ne.length;for(Z=0;Z<q;Z++)try{U=ne[Z]();break}catch{}return U}()))return N(new Error("No way to send a request"));try{try{var L=function(){try{if(L&&4===E.readyState){L=void 0;var U=S.jsonParse(E.responseText);if((q=E)&&q.status&&200===q.status)return void N(U.error,U.value);(le=E)&&S.isType(le.status,"number")&&le.status>=400&&le.status<600?(403===E.status&&M.error(U.value&&U.value.message),N(new Error(String(E.status)))):N(C("XHR response had no status code (likely connection failure)"))}}catch(le){var ne;ne=le&&le.stack?le:new Error(le),N(ne)}var le,q};E.open(P,F,!0),E.setRequestHeader&&(E.setRequestHeader("Content-Type","application/json"),E.setRequestHeader("X-Rollbar-Access-Token",d)),S.isFiniteNumber(m)&&(E.timeout=m),E.onreadystatechange=L,E.send(G)}catch{if(typeof XDomainRequest<"u"){if(!window||!window.location)return N(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===F.substring(0,5)&&(F="http"+F.substring(5));var ae=new XDomainRequest;ae.onprogress=function(){},ae.ontimeout=function(){N(C("Request timed out","ETIMEDOUT"))},ae.onerror=function(){N(new Error("Error during request"))},ae.onload=function(){var Z=S.jsonParse(ae.responseText);N(Z.error,Z.value)},ae.open(P,F,!0),ae.send(G)}else N(new Error("Cannot find a method to transport a request"))}}catch(U){N(U)}}},509:r=>{"use strict";r.exports={parse:function(s){var v,S,M={protocol:null,auth:null,host:null,path:null,hash:null,href:s,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(v=s.indexOf("//"))?(M.protocol=s.substring(0,v),S=v+2):S=0,-1!==(v=s.indexOf("@",S))&&(M.auth=s.substring(S,v),S=v+1),-1===(v=s.indexOf("/",S))){if(-1===(v=s.indexOf("?",S)))return-1===(v=s.indexOf("#",S))?M.host=s.substring(S):(M.host=s.substring(S,v),M.hash=s.substring(v)),M.hostname=M.host.split(":")[0],M.port=M.host.split(":")[1],M.port&&(M.port=parseInt(M.port,10)),M;M.host=s.substring(S,v),M.hostname=M.host.split(":")[0],M.port=M.host.split(":")[1],M.port&&(M.port=parseInt(M.port,10)),S=v}else M.host=s.substring(S,v),M.hostname=M.host.split(":")[0],M.port=M.host.split(":")[1],M.port&&(M.port=parseInt(M.port,10)),S=v;if(-1===(v=s.indexOf("#",S))?M.path=s.substring(S):(M.path=s.substring(S,v),M.hash=s.substring(v)),M.path){var C=M.path.split("?");M.pathname=C[0],M.query=C[1],M.search=M.query?"?"+M.query:null}return M}}},965:r=>{"use strict";function s(v,S,M){if(S.hasOwnProperty&&S.hasOwnProperty("addEventListener")){for(var C=S.addEventListener;C._rollbarOldAdd&&C.belongsToShim;)C=C._rollbarOldAdd;var d=function(G,N,x){C.call(this,G,v.wrap(N),x)};d._rollbarOldAdd=C,d.belongsToShim=M,S.addEventListener=d;for(var F=S.removeEventListener;F._rollbarOldRemove&&F.belongsToShim;)F=F._rollbarOldRemove;var P=function(G,N,x){F.call(this,G,N&&N._rollbar_wrapped||N,x)};P._rollbarOldRemove=F,P.belongsToShim=M,S.removeEventListener=P}}r.exports=function(v,S,M){if(v){var C,d,F="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(C=0;C<F.length;++C)v[d=F[C]]&&v[d].prototype&&s(S,v[d].prototype,M)}}},948:r=>{"use strict";r.exports={version:"2.26.4",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},303:(r,s,v)=>{"use strict";var S=v(180),M=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function d(P){var G={};return G._stackFrame=P,G.url=P.fileName,G.line=P.lineNumber,G.func=P.functionName,G.column=P.columnNumber,G.args=P.args,G.context=null,G}function F(P,G){return{stack:function(){var E=[];G=G||0;try{E=S.parse(P)}catch{E=[]}for(var L=[],ae=G;ae<E.length;ae++)L.push(new d(E[ae]));return L}(),message:P.message,name:(N=P,x=N.name&&N.name.length&&N.name,m=N.constructor.name&&N.constructor.name.length&&N.constructor.name,x&&m?"Error"===x?m:x:x||m),rawStack:P.stack,rawException:P};var N,x,m}r.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(P){if(!P||!P.match)return["Unknown error. There was no error message to display.",""];var G=P.match(M),N="(unknown)";return G&&(P=(P=P.replace((G[G.length-2]||"")+(N=G[G.length-1])+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[N,P]},gatherContext:function C(){return null},parse:function(P,G){var N=P;if(N.nested||N.cause){for(var x=[];N;)x.push(new F(N,G)),N=N.nested||N.cause,G=0;return x[0].traceChain=x,x[0]}return new F(N,G)},Stack:F,Frame:d}},420:r=>{"use strict";var s=Object.prototype.hasOwnProperty,v=Object.prototype.toString,S=function(M){if(!M||"[object Object]"!==v.call(M))return!1;var C,d=s.call(M,"constructor"),F=M.constructor&&M.constructor.prototype&&s.call(M.constructor.prototype,"isPrototypeOf");if(M.constructor&&!d&&!F)return!1;for(C in M);return void 0===C||s.call(M,C)};r.exports=function M(){var C,d,F,P,G,N={},x=null,m=arguments.length;for(C=0;C<m;C++)if(null!=(x=arguments[C]))for(G in x)d=N[G],N!==(F=x[G])&&(F&&S(F)?(P=d&&S(d)?d:{},N[G]=M(P,F)):void 0!==F&&(N[G]=F));return N}},314:(r,s,v)=>{"use strict";var S=v(702);function M(C,d){this.queue=C,this.options=d,this.transforms=[],this.diagnostic={}}M.prototype.configure=function(C){return this.queue&&this.queue.configure(C),this.options=S.merge(this.options,C),this},M.prototype.addTransform=function(C){return S.isFunction(C)&&this.transforms.push(C),this},M.prototype.log=function(C,d){if(d&&S.isFunction(d)||(d=function(){}),!this.options.enabled)return d(new Error("Rollbar is not enabled"));this.queue.addPendingItem(C);var F=C.err;this._applyTransforms(C,function(P,G){if(P)return this.queue.removePendingItem(C),d(P,null);this.queue.addItem(G,d,F,C)}.bind(this))},M.prototype._applyTransforms=function(C,d){var F=-1,P=this.transforms.length,G=this.transforms,N=this.options,x=function(m,E){m?d(m,null):++F!==P?G[F](E,N,x):d(null,E)};x(null,C)},r.exports=M},61:(r,s,v)=>{"use strict";var S=v(702);function M(d,F,P){if(!d)return!P;var G,x=d.frames;if(!x||0===x.length)return!P;for(var m=F.length,E=x.length,L=0;L<E;L++){if(!S.isType(G=x[L].filename,"string"))return!P;for(var ae=0;ae<m;ae++)if(new RegExp(F[ae]).test(G))return!0}return!1}function C(d,F,P,G){var N,x,m=!1;"blocklist"===P&&(m=!0);try{if(N=m?F.hostBlockList:F.hostSafeList,x=S.get(d,"body.trace_chain")||[S.get(d,"body.trace")],!N||0===N.length||0===x.length||!x[0])return!m;for(var E=x.length,L=0;L<E;L++)if(M(x[L],N,m))return!0}catch(U){m?F.hostBlockList=null:F.hostSafeList=null;var ae=m?"hostBlockList":"hostSafeList";return G.error("Error while reading your configuration's "+ae+" option. Removing custom "+ae+".",U),!m}return!1}r.exports={checkLevel:function(d,F){return!((S.LEVELS[d.level]||0)<(S.LEVELS[F.reportLevel]||0))},userCheckIgnore:function(d){return function(F,P){var G=!!F._isUncaught;delete F._isUncaught;var N=F._originalArgs;delete F._originalArgs;try{S.isFunction(P.onSendCallback)&&P.onSendCallback(G,N,F)}catch(x){P.onSendCallback=null,d.error("Error while calling onSendCallback, removing",x)}try{if(S.isFunction(P.checkIgnore)&&P.checkIgnore(G,N,F))return!1}catch(x){P.checkIgnore=null,d.error("Error while calling custom checkIgnore(), removing",x)}return!0}},urlIsNotBlockListed:function(d){return function(F,P){return!C(F,P,"blocklist",d)}},urlIsSafeListed:function(d){return function(F,P){return C(F,P,"safelist",d)}},messageIsIgnored:function(d){return function(F,P){var G,N,x,m,E,L;try{if(!(x=P.ignoredMessages)||0===x.length||0===(L=function(ae){var U=ae.body,Z=[];if(U.trace_chain)for(var ne=U.trace_chain,q=0;q<ne.length;q++)Z.push(S.get(ne[q],"exception.message"));return U.trace&&Z.push(S.get(U,"trace.exception.message")),U.message&&Z.push(S.get(U,"message.body")),Z}(F)).length)return!0;for(m=x.length,G=0;G<m;G++)for(E=new RegExp(x[G],"gi"),N=0;N<L.length;N++)if(E.test(L[N]))return!1}catch{P.ignoredMessages=null,d.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},358:(r,s,v)=>{"use strict";var S=v(702);function M(d,F,P,G){this.rateLimiter=d,this.api=F,this.logger=P,this.options=G,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}M.prototype.configure=function(d){return this.api&&this.api.configure(d),this.options=S.merge(this.options,d),this},M.prototype.addPredicate=function(d){return S.isFunction(d)&&this.predicates.push(d),this},M.prototype.addPendingItem=function(d){this.pendingItems.push(d)},M.prototype.removePendingItem=function(d){var F=this.pendingItems.indexOf(d);-1!==F&&this.pendingItems.splice(F,1)},M.prototype.addItem=function(d,F,P,G){F&&S.isFunction(F)||(F=function(){});var N=this._applyPredicates(d);if(N.stop)return this.removePendingItem(G),void F(N.err);if(this._maybeLog(d,P),this.removePendingItem(G),this.options.transmit){this.pendingRequests.push(d);try{this._makeApiRequest(d,function(x,m){this._dequeuePendingRequest(d),F(x,m)}.bind(this))}catch(x){this._dequeuePendingRequest(d),F(x)}}else F(new Error("Transmit disabled"))},M.prototype.wait=function(d){S.isFunction(d)&&(this.waitCallback=d,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},M.prototype._applyPredicates=function(d){for(var F=null,P=0,G=this.predicates.length;P<G;P++)if(!(F=this.predicates[P](d,this.options))||void 0!==F.err)return{stop:!0,err:F.err};return{stop:!1,err:null}},M.prototype._makeApiRequest=function(d,F){var P=this.rateLimiter.shouldSend(d);P.shouldSend?this.api.postItem(d,function(G,N){G?this._maybeRetry(G,d,F):F(G,N)}.bind(this)):P.error?F(P.error):this.api.postItem(P.payload,F)};var C=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];M.prototype._maybeRetry=function(d,F,P){var G=!1;if(this.options.retryInterval){for(var N=0,x=C.length;N<x;N++)if(d.code===C[N]){G=!0;break}G&&S.isFiniteNumber(this.options.maxRetries)&&(F.retries=F.retries?F.retries+1:1,F.retries>this.options.maxRetries&&(G=!1))}G?this._retryApiRequest(F,P):P(d)},M.prototype._retryApiRequest=function(d,F){this.retryQueue.push({item:d,callback:F}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var P=this.retryQueue.shift();this._makeApiRequest(P.item,P.callback)}}.bind(this),this.options.retryInterval))},M.prototype._dequeuePendingRequest=function(d){var F=this.pendingRequests.indexOf(d);-1!==F&&(this.pendingRequests.splice(F,1),this._maybeCallWait())},M.prototype._maybeLog=function(d,F){if(this.logger&&this.options.verbose){var P=F;if(P=(P=P||S.get(d,"body.trace.exception.message"))||S.get(d,"body.trace_chain.0.exception.message"))return void this.logger.error(P);(P=S.get(d,"body.message.body"))&&this.logger.log(P)}},M.prototype._maybeCallWait=function(){return!(!S.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},r.exports=M},790:(r,s,v)=>{"use strict";var S=v(702);function M(F){this.startTime=S.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(F)}function C(F,P,G){return!F.ignoreRateLimit&&P>=1&&G>P}function d(F,P,G,N,x,m,E){var ae,U,z,L=null;return G&&(G=new Error(G)),G||N||(z={body:{message:{body:E?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:x,itemsPerMinute:m}}},language:"javascript",environment:(U=P).environment||U.payload&&U.payload.environment,notifier:{version:U.notifier&&U.notifier.version||U.version}},"browser"===(ae=F)?(z.platform="browser",z.framework="browser-js",z.notifier.name="rollbar-browser-js"):"server"===ae?(z.framework=U.framework||"node-js",z.notifier.name=U.notifier.name):"react-native"===ae&&(z.framework=U.framework||"react-native",z.notifier.name=U.notifier.name),L=z),{error:G,shouldSend:N,payload:L}}M.globalSettings={startTime:S.now(),maxItems:void 0,itemsPerMinute:void 0},M.prototype.configureGlobal=function(F){void 0!==F.startTime&&(M.globalSettings.startTime=F.startTime),void 0!==F.maxItems&&(M.globalSettings.maxItems=F.maxItems),void 0!==F.itemsPerMinute&&(M.globalSettings.itemsPerMinute=F.itemsPerMinute)},M.prototype.shouldSend=function(F,P){var G=(P=P||S.now())-this.startTime;(G<0||G>=6e4)&&(this.startTime=P,this.perMinCounter=0);var N=M.globalSettings.maxItems,x=M.globalSettings.itemsPerMinute;if(C(F,N,this.counter))return d(this.platform,this.platformOptions,N+" max items reached",!1);if(C(F,x,this.perMinCounter))return d(this.platform,this.platformOptions,x+" items per minute reached",!1);this.counter++,this.perMinCounter++;var m=!C(F,N,this.counter),E=m;return m=m&&!C(F,x,this.perMinCounter),d(this.platform,this.platformOptions,null,m,N,x,E)},M.prototype.setPlatformOptions=function(F,P){this.platform=F,this.platformOptions=P},r.exports=M},562:(r,s,v)=>{"use strict";var S=v(790),M=v(358),C=v(314),d=v(702);function F(N,x,m,E,L){this.options=d.merge(N),this.logger=m,F.rateLimiter.configureGlobal(this.options),F.rateLimiter.setPlatformOptions(L,this.options),this.api=x,this.queue=new M(F.rateLimiter,x,m,this.options);var ae=this.options.tracer||null;G(ae)?(this.tracer=ae,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new C(this.queue,this.options),this.telemeter=E,P(N),this.lastError=null,this.lastErrorHash="none"}function P(N){N.stackTraceLimit&&(Error.stackTraceLimit=N.stackTraceLimit)}function G(N){if(!N||!N.scope||"function"!=typeof N.scope)return!1;var x=N.scope();return!(!x||!x.active||"function"!=typeof x.active)}F.rateLimiter=new S({maxItems:0,itemsPerMinute:60}),F.prototype.global=function(N){return F.rateLimiter.configureGlobal(N),this},F.prototype.configure=function(N,x){var E={};x&&(E={payload:x}),this.options=d.merge(this.options,N,E);var L=this.options.tracer||null;return G(L)?(this.tracer=L,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),P(N),this.global(this.options),G(N.tracer)&&(this.tracer=N.tracer),this},F.prototype.log=function(N){var x=this._defaultLogLevel();return this._log(x,N)},F.prototype.debug=function(N){this._log("debug",N)},F.prototype.info=function(N){this._log("info",N)},F.prototype.warn=function(N){this._log("warning",N)},F.prototype.warning=function(N){this._log("warning",N)},F.prototype.error=function(N){this._log("error",N)},F.prototype.critical=function(N){this._log("critical",N)},F.prototype.wait=function(N){this.queue.wait(N)},F.prototype.captureEvent=function(N,x,m){return this.telemeter&&this.telemeter.captureEvent(N,x,m)},F.prototype.captureDomContentLoaded=function(N){return this.telemeter&&this.telemeter.captureDomContentLoaded(N)},F.prototype.captureLoad=function(N){return this.telemeter&&this.telemeter.captureLoad(N)},F.prototype.buildJsonPayload=function(N){return this.api.buildJsonPayload(N)},F.prototype.sendJsonPayload=function(N){this.api.postJsonPayload(N)},F.prototype._log=function(N,x){var m;if(x.callback&&(m=x.callback,delete x.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(x)){if(m){var E=new Error("ignored identical item");E.item=x,m(E)}}else try{this._addTracingInfo(x),x.level=x.level||N,this.telemeter&&this.telemeter._captureRollbarItem(x),x.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(x,m)}catch(L){m&&m(L),this.logger.error(L)}},F.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},F.prototype._sameAsLastError=function(N){if(!N._isUncaught)return!1;var m,x=((m=N).message||"")+"::"+((m.err||{}).stack||String(m.err));return this.lastErrorHash===x||(this.lastError=N.err,this.lastErrorHash=x,!1)},F.prototype._addTracingInfo=function(N){if(this.tracer){var x=this.tracer.scope().active();if(function(L){if(!L||!L.context||"function"!=typeof L.context)return!1;var ae=L.context();return!!(ae&&ae.toSpanId&&ae.toTraceId&&"function"==typeof ae.toSpanId&&"function"==typeof ae.toTraceId)}(x)){x.setTag("rollbar.error_uuid",N.uuid),x.setTag("rollbar.has_error",!0),x.setTag("error",!0),x.setTag("rollbar.item_url",`https://rollbar.com/item/uuid/?uuid=${N.uuid}`),x.setTag("rollbar.occurrence_url",`https://rollbar.com/occurrence/uuid/?uuid=${N.uuid}`);var m=x.context().toSpanId(),E=x.context().toTraceId();N.custom?(N.custom.opentracing_span_id=m,N.custom.opentracing_trace_id=E):N.custom={opentracing_span_id:m,opentracing_trace_id:E}}}},r.exports=F},369:(r,s,v)=>{"use strict";var S=v(702),M=v(267);function C(d,F){var P=F.split("."),G=P.length-1;try{for(var N=0;N<=G;++N)N<G?d=d[P[N]]:d[P[N]]=S.redact()}catch{}}r.exports=function(d,F,P){if(F=F||[],P)for(var G=0;G<P.length;++G)C(d,P[G]);var N=function(E){for(var ae=[],U=0;U<E.length;++U)ae.push(new RegExp("^\\[?(%5[bB])?"+E[U]+"\\[?(%5[bB])?\\]?(%5[dD])?$","i"));return ae}(F),x=function(E){for(var ae=[],U=0;U<E.length;++U)ae.push(new RegExp("(\\[?(%5[bB])?"+E[U]+"\\[?(%5[bB])?\\]?(%5[dD])?=)([^&\\n]+)","igm"));return ae}(F);function m(E,L){return L+S.redact()}return M(d,function E(L,ae,U){var Z=function(ne,q){var le;for(le=0;le<N.length;++le)if(N[le].test(ne)){q=S.redact();break}return q}(L,ae);return Z===ae?S.isType(ae,"object")||S.isType(ae,"array")?M(ae,E,U):function(ne){var q;if(S.isType(ne,"string"))for(q=0;q<x.length;++q)ne=ne.replace(x[q],m);return ne}(Z):Z})}},773:(r,s,v)=>{"use strict";var S=v(702),M=100;function C(F){this.queue=[],this.options=S.merge(F),this.maxQueueSize=Math.max(0,Math.min(this.options.maxTelemetryEvents||M,M))}function d(F,P){return P||{error:"error",manual:"info"}[F]||"info"}C.prototype.configure=function(F){this.options=S.merge(this.options,F);var N=Math.max(0,Math.min(this.options.maxTelemetryEvents||M,M)),x=0;this.queue.length>N&&(x=this.queue.length-N),this.maxQueueSize=N,this.queue.splice(0,x)},C.prototype.copyEvents=function(){var F=Array.prototype.slice.call(this.queue,0);if(S.isFunction(this.options.filterTelemetry))try{for(var P=F.length;P--;)this.options.filterTelemetry(F[P])&&F.splice(P,1)}catch{this.options.filterTelemetry=null}return F},C.prototype.capture=function(F,P,G,N,x){var m={level:d(F,G),type:F,timestamp_ms:x||S.now(),body:P,source:"client"};N&&(m.uuid=N);try{if(S.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(m))return!1}catch{this.options.filterTelemetry=null}return this.push(m),m},C.prototype.captureEvent=function(F,P,G,N){return this.capture(F,P,G,N)},C.prototype.captureError=function(F,P,G,N){var x={message:F.message||String(F)};return F.stack&&(x.stack=F.stack),this.capture("error",x,P,G,N)},C.prototype.captureLog=function(F,P,G,N){return this.capture("log",{message:F},P,G,N)},C.prototype.captureNetwork=function(F,P,G,N){P=P||"xhr",F.subtype=F.subtype||P,N&&(F.request=N);var x=this.levelFromStatus(F.status_code);return this.capture("network",F,x,G)},C.prototype.levelFromStatus=function(F){return F>=200&&F<400?"info":0===F||F>=400?"error":"info"},C.prototype.captureDom=function(F,P,G,N,x){var m={subtype:F,element:P};return void 0!==G&&(m.value=G),void 0!==N&&(m.checked=N),this.capture("dom",m,"info",x)},C.prototype.captureNavigation=function(F,P,G){return this.capture("navigation",{from:F,to:P},"info",G)},C.prototype.captureDomContentLoaded=function(F){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,F&&F.getTime())},C.prototype.captureLoad=function(F){return this.capture("navigation",{subtype:"load"},"info",void 0,F&&F.getTime())},C.prototype.captureConnectivityChange=function(F,P){return this.captureNetwork({change:F},"connectivity",P)},C.prototype._captureRollbarItem=function(F){if(this.options.includeItemsInTelemetry)return F.err?this.captureError(F.err,F.level,F.uuid,F.timestamp):F.message?this.captureLog(F.message,F.level,F.uuid,F.timestamp):F.custom?this.capture("log",F.custom,F.level,F.uuid,F.timestamp):void 0},C.prototype.push=function(F){this.queue.push(F),this.queue.length>this.maxQueueSize&&this.queue.shift()},r.exports=C},417:(r,s,v)=>{"use strict";var S=v(702);function M(C,d){S.isFunction(C[d])&&(C[d]=C[d].toString())}r.exports={itemToPayload:function(C,d,F){var P=C.data;C._isUncaught&&(P._isUncaught=!0),C._originalArgs&&(P._originalArgs=C._originalArgs),F(null,P)},addPayloadOptions:function(C,d,F){var P=d.payload||{};P.body&&delete P.body,C.data=S.merge(C.data,P),F(null,C)},addTelemetryData:function(C,d,F){C.telemetryEvents&&S.set(C,"data.body.telemetry",C.telemetryEvents),F(null,C)},addMessageWithError:function(C,d,F){if(C.message){var P="data.body.trace_chain.0",G=S.get(C,P);if(G||(G=S.get(C,P="data.body.trace")),G){if(!G.exception||!G.exception.description)return S.set(C,P+".exception.description",C.message),void F(null,C);var N=S.get(C,P+".extra")||{},x=S.merge(N,{message:C.message});S.set(C,P+".extra",x)}F(null,C)}else F(null,C)},userTransform:function(C){return function(d,F,P){var G=S.merge(d),N=null;try{S.isFunction(F.transform)&&(N=F.transform(G.data,d))}catch(x){return F.transform=null,C.error("Error while calling custom transform() function. Removing custom transform().",x),void P(null,d)}S.isPromise(N)?N.then(function(x){x&&(G.data=x),P(null,G)},function(x){P(x,d)}):P(null,G)}},addConfigToPayload:function(C,d,F){if(!d.sendConfig)return F(null,C);var P=S.get(C,"data.custom")||{};P._rollbarConfig=d,C.data.custom=P,F(null,C)},addConfiguredOptions:function(C,d,F){var P=d._configuredOptions;M(P,"transform"),M(P,"checkIgnore"),M(P,"onSendCallback"),delete P.accessToken,C.data.notifier.configured_options=P,F(null,C)},addDiagnosticKeys:function(C,d,F){var P=S.merge(C.notifier.client.notifier.diagnostic,C.diagnostic);if(S.get(C,"err._isAnonymous")&&(P.is_anonymous=!0),C._isUncaught&&(P.is_uncaught=C._isUncaught),C.err)try{P.raw_error={message:C.err.message,name:C.err.name,constructor_name:C.err.constructor&&C.err.constructor.name,filename:C.err.fileName,line:C.err.lineNumber,column:C.err.columnNumber,stack:C.err.stack}}catch(G){P.raw_error={failed:String(G)}}C.data.notifier.diagnostic=S.merge(C.data.notifier.diagnostic,P),F(null,C)}}},473:(r,s,v)=>{"use strict";var S=v(702),M=v(267);function C(E,L){return[E,S.stringify(E,L)]}function d(E,L){var ae=E.length;return ae>2*L?E.slice(0,L).concat(E.slice(ae-L)):E}function F(E,L,ae){ae=void 0===ae?30:ae;var U,Z=E.data.body;if(Z.trace_chain)for(var ne=Z.trace_chain,q=0;q<ne.length;q++)U=d(U=ne[q].frames,ae),ne[q].frames=U;else Z.trace&&(U=d(U=Z.trace.frames,ae),Z.trace.frames=U);return[E,S.stringify(E,L)]}function P(E,L){return L&&L.length>E?L.slice(0,E-3).concat("..."):L}function G(E,L,ae){return[L=M(L,function U(Z,ne,q){switch(S.typeName(ne)){case"string":return P(E,ne);case"object":case"array":return M(ne,U,q);default:return ne}}),S.stringify(L,ae)]}function N(E){return E.exception&&(delete E.exception.description,E.exception.message=P(255,E.exception.message)),E.frames=d(E.frames,1),E}function x(E,L){var ae=E.data.body;if(ae.trace_chain)for(var U=ae.trace_chain,Z=0;Z<U.length;Z++)U[Z]=N(U[Z]);else ae.trace&&(ae.trace=N(ae.trace));return[E,S.stringify(E,L)]}function m(E,L){return S.maxByteSize(E)>L}r.exports={truncate:function(E,L,ae){ae=void 0===ae?524288:ae;for(var U,Z,ne,q=[C,F,G.bind(null,1024),G.bind(null,512),G.bind(null,256),x];U=q.shift();)if(E=(Z=U(E,L))[0],(ne=Z[1]).error||!m(ne.value,ae))return ne;return ne},raw:C,truncateFrames:F,truncateStrings:G,maybeTruncateValue:P}},702:(r,s,v)=>{"use strict";var S=v(420),M={};function C(q,le){return le===d(q)}function d(q){var le=typeof q;return"object"!==le?le:q?q instanceof Error?"error":{}.toString.call(q).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function F(q){return C(q,"function")}function P(q){var le=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),z=RegExp("^"+le+"$");return G(q)&&z.test(q)}function G(q){var le=typeof q;return null!=q&&("object"==le||"function"==le)}function N(){var q=ne();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(le){var z=(q+16*Math.random())%16|0;return q=Math.floor(q/16),("x"===le?z:7&z|8).toString(16)})}var x={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function m(q,le){var z,J;try{z=M.stringify(q)}catch(he){if(le&&F(le))try{z=le(q)}catch(we){J=we}else J=he}return{error:J,value:z}}function E(q,le){return function(z,J){try{le(z,J)}catch(he){q.error(he)}}}function L(q){return function le(z,J){var he,we,k,ue={};try{for(we in z)(he=z[we])&&(C(he,"object")||C(he,"array"))?J.includes(he)?ue[we]="Removed circular reference: "+d(he):((k=J.slice()).push(he),ue[we]=le(he,k)):ue[we]=he}catch(Ie){ue="Failed cloning custom data: "+Ie.message}return ue}(q,[q])}var ae=["log","network","dom","navigation","error","manual"],U=["critical","error","warning","info","debug"];function Z(q,le){for(var z=0;z<q.length;++z)if(q[z]===le)return!0;return!1}function ne(){return Date.now?+Date.now():+new Date}r.exports={addParamsAndAccessTokenToPath:function(q,le,z){(z=z||{}).access_token=q;var J,he=[];for(J in z)Object.prototype.hasOwnProperty.call(z,J)&&he.push([J,z[J]].join("="));var we="?"+he.sort().join("&");(le=le||{}).path=le.path||"";var k,ue=le.path.indexOf("?"),Ie=le.path.indexOf("#");le.path=-1!==ue&&(-1===Ie||Ie>ue)?(k=le.path).substring(0,ue)+we+"&"+k.substring(ue+1):-1!==Ie?(k=le.path).substring(0,Ie)+we+k.substring(Ie):le.path+we},createItem:function(q,le,z,J,he){for(var we,k,ue,Ie,ke,Ze,Ce=[],Nt=[],Kt=0,me=q.length;Kt<me;++Kt){var ee=d(Ze=q[Kt]);switch(Nt.push(ee),ee){case"undefined":break;case"string":we?Ce.push(Ze):we=Ze;break;case"function":Ie=E(le,Ze);break;case"date":Ce.push(Ze);break;case"error":case"domexception":case"exception":k?Ce.push(Ze):k=Ze;break;case"object":case"array":if(Ze instanceof Error||typeof DOMException<"u"&&Ze instanceof DOMException){k?Ce.push(Ze):k=Ze;break}if(J&&"object"===ee&&!ke){for(var fe=0,ye=J.length;fe<ye;++fe)if(void 0!==Ze[J[fe]]){ke=Ze;break}if(ke)break}ue?Ce.push(Ze):ue=Ze;break;default:if(Ze instanceof Error||typeof DOMException<"u"&&Ze instanceof DOMException){k?Ce.push(Ze):k=Ze;break}Ce.push(Ze)}}ue&&(ue=L(ue)),Ce.length>0&&(ue||(ue=L({})),ue.extraArgs=L(Ce));var Be,yt,Se={message:we,err:k,custom:ue,timestamp:ne(),callback:Ie,notifier:z,diagnostic:{},uuid:N()};return Be=Se,(yt=ue)&&void 0!==yt.level&&(Be.level=yt.level,delete yt.level),yt&&void 0!==yt.skipFrames&&(Be.skipFrames=yt.skipFrames,delete yt.skipFrames),J&&ke&&(Se.request=ke),he&&(Se.lambdaContext=he),Se._originalArgs=q,Se.diagnostic.original_arg_types=Nt,Se},addErrorContext:function(q,le){var z=q.data.custom||{},J=!1;try{for(var he=0;he<le.length;++he)le[he].hasOwnProperty("rollbarContext")&&(z=S(z,L(le[he].rollbarContext)),J=!0);J&&(q.data.custom=z)}catch(we){q.diagnostic.error_context="Failed: "+we.message}},createTelemetryEvent:function(q){for(var le,z,J,he,we=0,k=q.length;we<k;++we)switch(d(he=q[we])){case"string":!le&&Z(ae,he)?le=he:!J&&Z(U,he)&&(J=he);break;case"object":z=he}return{type:le||"manual",metadata:z||{},level:J}},filterIp:function(q,le){if(q&&q.user_ip&&!0!==le){var z=q.user_ip;if(le)try{var J;if(-1!==z.indexOf("."))(J=z.split(".")).pop(),J.push("0"),z=J.join(".");else if(-1!==z.indexOf(":")){if((J=z.split(":")).length>2){var he=J.slice(0,3),we=he[2].indexOf("/");-1!==we&&(he[2]=he[2].substring(0,we)),z=he.concat("0000:0000:0000:0000:0000").join(":")}}else z=null}catch{z=null}else z=null;q.user_ip=z}},formatArgsAsString:function(q){var le,z,J,he=[];for(le=0,z=q.length;le<z;++le){switch(d(J=q[le])){case"object":(J=(J=m(J)).error||J.value).length>500&&(J=J.substr(0,497)+"...");break;case"null":J="null";break;case"undefined":J="undefined";break;case"symbol":J=J.toString()}he.push(J)}return he.join(" ")},formatUrl:function(q,le){if(!(le=le||q.protocol)&&q.port&&(80===q.port?le="http:":443===q.port&&(le="https:")),!q.hostname)return null;var z=(le=le||"https:")+"//"+q.hostname;return q.port&&(z=z+":"+q.port),q.path&&(z+=q.path),z},get:function(q,le){if(q){var z=le.split("."),J=q;try{for(var he=0,we=z.length;he<we;++he)J=J[z[he]]}catch{J=void 0}return J}},handleOptions:function(q,le,z,J){var we,k,he=S(q,le,z);return k=J,(we=he).hostWhiteList&&!we.hostSafeList&&(we.hostSafeList=we.hostWhiteList,we.hostWhiteList=void 0,k&&k.log("hostWhiteList is deprecated. Use hostSafeList.")),we.hostBlackList&&!we.hostBlockList&&(we.hostBlockList=we.hostBlackList,we.hostBlackList=void 0,k&&k.log("hostBlackList is deprecated. Use hostBlockList.")),he=we,!le||le.overwriteScrubFields||le.scrubFields&&(he.scrubFields=(q.scrubFields||[]).concat(le.scrubFields)),he},isError:function(q){return C(q,"error")||C(q,"exception")},isFiniteNumber:function(q){return Number.isFinite(q)},isFunction:F,isIterable:function(q){var le=d(q);return"object"===le||"array"===le},isNativeFunction:P,isObject:G,isString:function(q){return"string"==typeof q||q instanceof String},isType:C,isPromise:function(q){return G(q)&&C(q.then,"function")},jsonParse:function(q){var le,z;try{le=M.parse(q)}catch(J){z=J}return{error:z,value:le}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(q,le,z,J,he,we,k,ue){var Ie={url:le||"",line:z,column:J};Ie.func=ue.guessFunctionName(Ie.url,Ie.line),Ie.context=ue.gatherContext(Ie.url,Ie.line);var ke=typeof document<"u"&&document&&document.location&&document.location.href,Ze=typeof window<"u"&&window&&window.navigator&&window.navigator.userAgent;return{mode:we,message:he?String(he):q||k,url:ke,stack:[Ie],useragent:Ze}},merge:S,now:ne,redact:function(){return"********"},RollbarJSON:M,sanitizeUrl:function(q){var le=function(z){if(C(z,"string")){for(var J=x,he=J.parser[J.strictMode?"strict":"loose"].exec(z),we={},k=0,ue=J.key.length;k<ue;++k)we[J.key[k]]=he[k]||"";return we[J.q.name]={},we[J.key[12]].replace(J.q.parser,function(Ie,ke,Ze){ke&&(we[J.q.name][ke]=Ze)}),we}}(q);return le?(""===le.anchor&&(le.source=le.source.replace("#","")),q=le.source.replace("?"+le.query,"")):"(unknown)"},set:function(q,le,z){if(q){var J=le.split("."),he=J.length;if(!(he<1))if(1!==he)try{for(var we=q[J[0]]||{},k=we,ue=1;ue<he-1;++ue)we[J[ue]]=we[J[ue]]||{},we=we[J[ue]];we[J[he-1]]=z,q[J[0]]=k}catch{return}else q[J[0]]=z}},setupJSON:function(q){F(M.stringify)&&F(M.parse)||(C(JSON,"undefined")||(q?(P(JSON.stringify)&&(M.stringify=JSON.stringify),P(JSON.parse)&&(M.parse=JSON.parse)):(F(JSON.stringify)&&(M.stringify=JSON.stringify),F(JSON.parse)&&(M.parse=JSON.parse))),F(M.stringify)&&F(M.parse)||q&&q(M))},stringify:m,maxByteSize:function(q){for(var le=0,z=q.length,J=0;J<z;J++){var he=q.charCodeAt(J);he<128?le+=1:he<2048?le+=2:he<65536&&(le+=3)}return le},typeName:d,uuid4:N}},650:r=>{"use strict";function s(S){return"string"!=typeof S&&(S=String(S)),S.toLowerCase()}function v(S){this.map={},S instanceof v?S.forEach(function(M,C){this.append(C,M)},this):Array.isArray(S)?S.forEach(function(M){this.append(M[0],M[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(M){this.append(M,S[M])},this)}v.prototype.append=function(S,M){var d;S=s(S),"string"!=typeof(d=M)&&(d=String(d)),M=d;var C=this.map[S];this.map[S]=C?C+", "+M:M},v.prototype.get=function(S){return S=s(S),this.has(S)?this.map[S]:null},v.prototype.has=function(S){return this.map.hasOwnProperty(s(S))},v.prototype.forEach=function(S,M){for(var C in this.map)this.map.hasOwnProperty(C)&&S.call(M,this.map[C],C,this)},v.prototype.entries=function(){var S=[];return this.forEach(function(M,C){S.push([C,M])}),function(M){return{next:function(){var C=M.shift();return{done:void 0===C,value:C}}}}(S)},r.exports=function(S){return typeof Headers>"u"?new v(S):new Headers(S)}},876:(r,s,v)=>{"use strict";var S=v(708);r.exports=S},297:r=>{"use strict";r.exports=function(s,v,S,M,C){var d=s[v];s[v]=S(d),M&&M[C].push([s,v,d])}},267:(r,s,v)=>{"use strict";var S=v(702);r.exports=function(M,C,d){var F,P,G,N,x=S.isType(M,"object"),m=S.isType(M,"array"),E=[];if(d=d||{obj:[],mapped:[]},x){if(N=d.obj.indexOf(M),x&&-1!==N)return d.mapped[N]||d.obj[N];d.obj.push(M),N=d.obj.length-1}if(x)for(F in M)Object.prototype.hasOwnProperty.call(M,F)&&E.push(F);else if(m)for(G=0;G<M.length;++G)E.push(G);var L=x?{}:[],ae=!0;for(G=0;G<E.length;++G)P=M[F=E[G]],L[F]=C(F,P,d),ae=ae&&L[F]===M[F];return x&&!ae&&(d.mapped[N]=L),ae?M:L}},708:r=>{r.exports=function(s){var v,S,M,C,d,F,P,G,N,x,m,E,L,ae=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function U(le){return le<10?"0"+le:le}function Z(){return this.valueOf()}function ne(le){return ae.lastIndex=0,ae.test(le)?'"'+le.replace(ae,function(z){var J=M[z];return"string"==typeof J?J:"\\u"+("0000"+z.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+le+'"'}function q(le,z){var J,he,we,k,ue,Ie=v,ke=z[le];switch(ke&&"object"==typeof ke&&"function"==typeof ke.toJSON&&(ke=ke.toJSON(le)),"function"==typeof C&&(ke=C.call(z,le,ke)),typeof ke){case"string":return ne(ke);case"number":return isFinite(ke)?String(ke):"null";case"boolean":case"null":return String(ke);case"object":if(!ke)return"null";if(v+=S,ue=[],"[object Array]"===Object.prototype.toString.apply(ke)){for(k=ke.length,J=0;J<k;J+=1)ue[J]=q(J,ke)||"null";return we=0===ue.length?"[]":v?"[\n"+v+ue.join(",\n"+v)+"\n"+Ie+"]":"["+ue.join(",")+"]",v=Ie,we}if(C&&"object"==typeof C)for(k=C.length,J=0;J<k;J+=1)"string"==typeof C[J]&&(we=q(he=C[J],ke))&&ue.push(ne(he)+(v?": ":":")+we);else for(he in ke)Object.prototype.hasOwnProperty.call(ke,he)&&(we=q(he,ke))&&ue.push(ne(he)+(v?": ":":")+we);return we=0===ue.length?"{}":v?"{\n"+v+ue.join(",\n"+v)+"\n"+Ie+"}":"{"+ue.join(",")+"}",v=Ie,we}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+U(this.getUTCMonth()+1)+"-"+U(this.getUTCDate())+"T"+U(this.getUTCHours())+":"+U(this.getUTCMinutes())+":"+U(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=Z,Number.prototype.toJSON=Z,String.prototype.toJSON=Z),"function"!=typeof s.stringify&&(M={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s.stringify=function(le,z,J){var he;if(v="",S="","number"==typeof J)for(he=0;he<J;he+=1)S+=" ";else"string"==typeof J&&(S=J);if(C=z,z&&"function"!=typeof z&&("object"!=typeof z||"number"!=typeof z.length))throw new Error("JSON.stringify");return q("",{"":le})}),"function"!=typeof s.parse&&(s.parse=(x={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},m={go:function(){d="ok"},firstokey:function(){G=N,d="colon"},okey:function(){G=N,d="colon"},ovalue:function(){d="ocomma"},firstavalue:function(){d="acomma"},avalue:function(){d="acomma"}},E={go:function(){d="ok"},ovalue:function(){d="ocomma"},firstavalue:function(){d="acomma"},avalue:function(){d="acomma"}},L={"{":{go:function(){F.push({state:"ok"}),P={},d="firstokey"},ovalue:function(){F.push({container:P,state:"ocomma",key:G}),P={},d="firstokey"},firstavalue:function(){F.push({container:P,state:"acomma"}),P={},d="firstokey"},avalue:function(){F.push({container:P,state:"acomma"}),P={},d="firstokey"}},"}":{firstokey:function(){var le=F.pop();N=P,P=le.container,G=le.key,d=le.state},ocomma:function(){var le=F.pop();P[G]=N,N=P,P=le.container,G=le.key,d=le.state}},"[":{go:function(){F.push({state:"ok"}),P=[],d="firstavalue"},ovalue:function(){F.push({container:P,state:"ocomma",key:G}),P=[],d="firstavalue"},firstavalue:function(){F.push({container:P,state:"acomma"}),P=[],d="firstavalue"},avalue:function(){F.push({container:P,state:"acomma"}),P=[],d="firstavalue"}},"]":{firstavalue:function(){var le=F.pop();N=P,P=le.container,G=le.key,d=le.state},acomma:function(){var le=F.pop();P.push(N),N=P,P=le.container,G=le.key,d=le.state}},":":{colon:function(){if(Object.hasOwnProperty.call(P,G))throw new SyntaxError("Duplicate key '"+G+'"');d="ovalue"}},",":{ocomma:function(){P[G]=N,d="okey"},acomma:function(){P.push(N),d="avalue"}},true:{go:function(){N=!0,d="ok"},ovalue:function(){N=!0,d="ocomma"},firstavalue:function(){N=!0,d="acomma"},avalue:function(){N=!0,d="acomma"}},false:{go:function(){N=!1,d="ok"},ovalue:function(){N=!1,d="ocomma"},firstavalue:function(){N=!1,d="acomma"},avalue:function(){N=!1,d="acomma"}},null:{go:function(){N=null,d="ok"},ovalue:function(){N=null,d="ocomma"},firstavalue:function(){N=null,d="acomma"},avalue:function(){N=null,d="acomma"}}},function(le,z){var J,we=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;d="go",F=[];try{for(;J=we.exec(le);)J[1]?L[J[1]][d]():J[2]?(N=+J[2],E[d]()):(N=J[3].replace(/\\(?:u(.{4})|([^u]))/g,function(k,ue,Ie){return ue?String.fromCharCode(parseInt(ue,16)):x[Ie]}),m[d]()),le=le.slice(J[0].length)}catch(k){d=k}if("ok"!==d||/[^\u0020\t\n\r]/.test(le))throw d instanceof SyntaxError?d:new SyntaxError("JSON");return"function"==typeof z?function k(ue,Ie){var ke,Ze,Ce=ue[Ie];if(Ce&&"object"==typeof Ce)for(ke in N)Object.prototype.hasOwnProperty.call(Ce,ke)&&(void 0!==(Ze=k(Ce,ke))?Ce[ke]=Ze:delete Ce[ke]);return z.call(ue,Ie,Ce)}({"":N},""):N}))}}},w={},function r(s){var v=w[s];if(void 0!==v)return v.exports;var S=w[s]={exports:{}};return qe[s].call(S.exports,S,S.exports,r),S.exports}(409);var qe,w},ln.exports=w()},29160:(ln,qe,w)=>{"use strict";w.d(qe,{t:()=>s});var r=w(85052);class s extends r.B{constructor(S){super(),this._value=S}get value(){return this.getValue()}_subscribe(S){const M=super._subscribe(S);return!M.closed&&S.next(this._value),M}getValue(){const{hasError:S,thrownError:M,_value:C}=this;if(S)throw M;return this._throwIfClosed(),C}next(S){super.next(this._value=S)}}},2573:(ln,qe,w)=>{"use strict";w.d(qe,{c:()=>F});var r=w(36567),s=w(81027),v=w(76138),S=w(37479),M=w(8502),C=w(34403),d=w(32926);let F=(()=>{class x{constructor(E){E&&(this._subscribe=E)}lift(E){const L=new x;return L.source=this,L.operator=E,L}subscribe(E,L,ae){const U=function N(x){return x&&x instanceof r.vU||function G(x){return x&&(0,C.T)(x.next)&&(0,C.T)(x.error)&&(0,C.T)(x.complete)}(x)&&(0,s.Uv)(x)}(E)?E:new r.Ms(E,L,ae);return(0,d.Y)(()=>{const{operator:Z,source:ne}=this;U.add(Z?Z.call(U,ne):ne?this._subscribe(U):this._trySubscribe(U))}),U}_trySubscribe(E){try{return this._subscribe(E)}catch(L){E.error(L)}}forEach(E,L){return new(L=P(L))((ae,U)=>{const Z=new r.Ms({next:ne=>{try{E(ne)}catch(q){U(q),Z.unsubscribe()}},error:U,complete:ae});this.subscribe(Z)})}_subscribe(E){var L;return null===(L=this.source)||void 0===L?void 0:L.subscribe(E)}[v.s](){return this}pipe(...E){return(0,S.m)(E)(this)}toPromise(E){return new(E=P(E))((L,ae)=>{let U;this.subscribe(Z=>U=Z,Z=>ae(Z),()=>L(U))})}}return x.create=m=>new x(m),x})();function P(x){var m;return null!==(m=x??M.$.Promise)&&void 0!==m?m:Promise}},60391:(ln,qe,w)=>{"use strict";w.d(qe,{m:()=>v});var r=w(85052),s=w(59309);class v extends r.B{constructor(M=1/0,C=1/0,d=s.U){super(),this._bufferSize=M,this._windowTime=C,this._timestampProvider=d,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=C===1/0,this._bufferSize=Math.max(1,M),this._windowTime=Math.max(1,C)}next(M){const{isStopped:C,_buffer:d,_infiniteTimeWindow:F,_timestampProvider:P,_windowTime:G}=this;C||(d.push(M),!F&&d.push(P.now()+G)),this._trimBuffer(),super.next(M)}_subscribe(M){this._throwIfClosed(),this._trimBuffer();const C=this._innerSubscribe(M),{_infiniteTimeWindow:d,_buffer:F}=this,P=F.slice();for(let G=0;G<P.length&&!M.closed;G+=d?1:2)M.next(P[G]);return this._checkFinalizedStatuses(M),C}_trimBuffer(){const{_bufferSize:M,_timestampProvider:C,_buffer:d,_infiniteTimeWindow:F}=this,P=(F?1:2)*M;if(M<1/0&&P<d.length&&d.splice(0,d.length-P),!F){const G=C.now();let N=0;for(let x=1;x<d.length&&d[x]<=G;x+=2)N=x;N&&d.splice(0,N+1)}}}},85052:(ln,qe,w)=>{"use strict";w.d(qe,{B:()=>d});var r=w(2573),s=w(81027);const S=(0,w(87385).L)(P=>function(){P(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var M=w(67584),C=w(32926);let d=(()=>{class P extends r.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(N){const x=new F(this,this);return x.operator=N,x}_throwIfClosed(){if(this.closed)throw new S}next(N){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const x of this.currentObservers)x.next(N)}})}error(N){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=N;const{observers:x}=this;for(;x.length;)x.shift().error(N)}})}complete(){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:N}=this;for(;N.length;)N.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var N;return(null===(N=this.observers)||void 0===N?void 0:N.length)>0}_trySubscribe(N){return this._throwIfClosed(),super._trySubscribe(N)}_subscribe(N){return this._throwIfClosed(),this._checkFinalizedStatuses(N),this._innerSubscribe(N)}_innerSubscribe(N){const{hasError:x,isStopped:m,observers:E}=this;return x||m?s.Kn:(this.currentObservers=null,E.push(N),new s.yU(()=>{this.currentObservers=null,(0,M.o)(E,N)}))}_checkFinalizedStatuses(N){const{hasError:x,thrownError:m,isStopped:E}=this;x?N.error(m):E&&N.complete()}asObservable(){const N=new r.c;return N.source=this,N}}return P.create=(G,N)=>new F(G,N),P})();class F extends d{constructor(G,N){super(),this.destination=G,this.source=N}next(G){var N,x;null===(x=null===(N=this.destination)||void 0===N?void 0:N.next)||void 0===x||x.call(N,G)}error(G){var N,x;null===(x=null===(N=this.destination)||void 0===N?void 0:N.error)||void 0===x||x.call(N,G)}complete(){var G,N;null===(N=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===N||N.call(G)}_subscribe(G){var N,x;return null!==(x=null===(N=this.source)||void 0===N?void 0:N.subscribe(G))&&void 0!==x?x:s.Kn}}},36567:(ln,qe,w)=>{"use strict";w.d(qe,{Ms:()=>ae,vU:()=>x});var r=w(34403),s=w(81027),v=w(8502),S=w(46642),M=w(19827);const C=P("C",void 0,void 0);function P(le,z,J){return{kind:le,value:z,error:J}}var G=w(12386),N=w(32926);class x extends s.yU{constructor(z){super(),this.isStopped=!1,z?(this.destination=z,(0,s.Uv)(z)&&z.add(this)):this.destination=q}static create(z,J,he){return new ae(z,J,he)}next(z){this.isStopped?ne(function F(le){return P("N",le,void 0)}(z),this):this._next(z)}error(z){this.isStopped?ne(function d(le){return P("E",void 0,le)}(z),this):(this.isStopped=!0,this._error(z))}complete(){this.isStopped?ne(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(z){this.destination.next(z)}_error(z){try{this.destination.error(z)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const m=Function.prototype.bind;function E(le,z){return m.call(le,z)}class L{constructor(z){this.partialObserver=z}next(z){const{partialObserver:J}=this;if(J.next)try{J.next(z)}catch(he){U(he)}}error(z){const{partialObserver:J}=this;if(J.error)try{J.error(z)}catch(he){U(he)}else U(z)}complete(){const{partialObserver:z}=this;if(z.complete)try{z.complete()}catch(J){U(J)}}}class ae extends x{constructor(z,J,he){let we;if(super(),(0,r.T)(z)||!z)we={next:z??void 0,error:J??void 0,complete:he??void 0};else{let k;this&&v.$.useDeprecatedNextContext?(k=Object.create(z),k.unsubscribe=()=>this.unsubscribe(),we={next:z.next&&E(z.next,k),error:z.error&&E(z.error,k),complete:z.complete&&E(z.complete,k)}):we=z}this.destination=new L(we)}}function U(le){v.$.useDeprecatedSynchronousErrorHandling?(0,N.l)(le):(0,S.m)(le)}function ne(le,z){const{onStoppedNotification:J}=v.$;J&&G.f.setTimeout(()=>J(le,z))}const q={closed:!0,next:M.l,error:function Z(le){throw le},complete:M.l}},81027:(ln,qe,w)=>{"use strict";w.d(qe,{Kn:()=>C,yU:()=>M,Uv:()=>d});var r=w(34403);const v=(0,w(87385).L)(P=>function(N){P(this),this.message=N?`${N.length} errors occurred during unsubscription:\n${N.map((x,m)=>`${m+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=N});var S=w(67584);class M{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:N}=this;if(N)if(this._parentage=null,Array.isArray(N))for(const E of N)E.remove(this);else N.remove(this);const{initialTeardown:x}=this;if((0,r.T)(x))try{x()}catch(E){G=E instanceof v?E.errors:[E]}const{_finalizers:m}=this;if(m){this._finalizers=null;for(const E of m)try{F(E)}catch(L){G=G??[],L instanceof v?G=[...G,...L.errors]:G.push(L)}}if(G)throw new v(G)}}add(G){var N;if(G&&G!==this)if(this.closed)F(G);else{if(G instanceof M){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(N=this._finalizers)&&void 0!==N?N:[]).push(G)}}_hasParent(G){const{_parentage:N}=this;return N===G||Array.isArray(N)&&N.includes(G)}_addParent(G){const{_parentage:N}=this;this._parentage=Array.isArray(N)?(N.push(G),N):N?[N,G]:G}_removeParent(G){const{_parentage:N}=this;N===G?this._parentage=null:Array.isArray(N)&&(0,S.o)(N,G)}remove(G){const{_finalizers:N}=this;N&&(0,S.o)(N,G),G instanceof M&&G._removeParent(this)}}M.EMPTY=(()=>{const P=new M;return P.closed=!0,P})();const C=M.EMPTY;function d(P){return P instanceof M||P&&"closed"in P&&(0,r.T)(P.remove)&&(0,r.T)(P.add)&&(0,r.T)(P.unsubscribe)}function F(P){(0,r.T)(P)?P():P.unsubscribe()}},8502:(ln,qe,w)=>{"use strict";w.d(qe,{$:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},40215:(ln,qe,w)=>{"use strict";w.d(qe,{_:()=>v});var r=w(50330),s=w(36567);function v(S,M){const C="object"==typeof M;return new Promise((d,F)=>{const P=new s.Ms({next:G=>{d(G),P.unsubscribe()},error:F,complete:()=>{C?d(M.defaultValue):F(new r.G)}});S.subscribe(P)})}},7221:(ln,qe,w)=>{"use strict";w.d(qe,{G:()=>C});var r=w(2573),s=w(81027),v=w(44710),S=w(66196),M=w(15210);class C extends r.c{constructor(F,P){super(),this.source=F,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,M.S)(F)&&(this.lift=F.lift)}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:F}=this;this._subject=this._connection=null,F?.unsubscribe()}connect(){let F=this._connection;if(!F){F=this._connection=new s.yU;const P=this.getSubject();F.add(this.source.subscribe((0,S._)(P,void 0,()=>{this._teardown(),P.complete()},G=>{this._teardown(),P.error(G)},()=>this._teardown()))),F.closed&&(this._connection=null,F=s.yU.EMPTY)}return F}refCount(){return(0,v.B)()(this)}}},82656:(ln,qe,w)=>{"use strict";w.d(qe,{z:()=>G});var r=w(2573),s=w(15437),v=w(21472),S=w(19577),M=w(7694),C=w(17106),d=w(25436),F=w(66196),P=w(82733);function G(...m){const E=(0,C.lI)(m),L=(0,C.ms)(m),{args:ae,keys:U}=(0,s.D)(m);if(0===ae.length)return(0,v.H)([],E);const Z=new r.c(function N(m,E,L=S.D){return ae=>{x(E,()=>{const{length:U}=m,Z=new Array(U);let ne=U,q=U;for(let le=0;le<U;le++)x(E,()=>{const z=(0,v.H)(m[le],E);let J=!1;z.subscribe((0,F._)(ae,he=>{Z[le]=he,J||(J=!0,q--),q||ae.next(L(Z.slice()))},()=>{--ne||ae.complete()}))},ae)},ae)}}(ae,E,U?ne=>(0,d.e)(U,ne):S.D));return L?Z.pipe((0,M.I)(L)):Z}function x(m,E,L){m?(0,P.N)(L,m,E):E()}},35892:(ln,qe,w)=>{"use strict";w.d(qe,{x:()=>S});var r=w(26727),s=w(17106),v=w(21472);function S(...M){return(0,r.K)()((0,v.H)(M,(0,s.lI)(M)))}},45946:(ln,qe,w)=>{"use strict";w.d(qe,{v:()=>v});var r=w(2573),s=w(81954);function v(S){return new r.c(M=>{(0,s.Tg)(S()).subscribe(M)})}},2515:(ln,qe,w)=>{"use strict";w.d(qe,{I:()=>v,w:()=>s});var r=w(2573);const s=new r.c(M=>M.complete());function v(M){return M?function S(M){return new r.c(C=>M.schedule(()=>C.complete()))}(M):s}},46104:(ln,qe,w)=>{"use strict";w.d(qe,{p:()=>F});var r=w(2573),s=w(15437),v=w(81954),S=w(17106),M=w(66196),C=w(7694),d=w(25436);function F(...P){const G=(0,S.ms)(P),{args:N,keys:x}=(0,s.D)(P),m=new r.c(E=>{const{length:L}=N;if(!L)return void E.complete();const ae=new Array(L);let U=L,Z=L;for(let ne=0;ne<L;ne++){let q=!1;(0,v.Tg)(N[ne]).subscribe((0,M._)(E,le=>{q||(q=!0,Z--),ae[ne]=le},()=>U--,void 0,()=>{(!U||!q)&&(Z||E.next(x?(0,d.e)(x,ae):ae),E.complete())}))}});return G?m.pipe((0,C.I)(G)):m}},21472:(ln,qe,w)=>{"use strict";w.d(qe,{H:()=>v});var r=w(7974),s=w(81954);function v(S,M){return M?(0,r.c)(S,M):(0,s.Tg)(S)}},35426:(ln,qe,w)=>{"use strict";w.d(qe,{R:()=>G});var r=w(81954),s=w(2573),v=w(11756),S=w(48629),M=w(34403),C=w(7694);const d=["addListener","removeListener"],F=["addEventListener","removeEventListener"],P=["on","off"];function G(L,ae,U,Z){if((0,M.T)(U)&&(Z=U,U=void 0),Z)return G(L,ae,U).pipe((0,C.I)(Z));const[ne,q]=function E(L){return(0,M.T)(L.addEventListener)&&(0,M.T)(L.removeEventListener)}(L)?F.map(le=>z=>L[le](ae,z,U)):function x(L){return(0,M.T)(L.addListener)&&(0,M.T)(L.removeListener)}(L)?d.map(N(L,ae)):function m(L){return(0,M.T)(L.on)&&(0,M.T)(L.off)}(L)?P.map(N(L,ae)):[];if(!ne&&(0,S.X)(L))return(0,v.Z)(le=>G(le,ae,U))((0,r.Tg)(L));if(!ne)throw new TypeError("Invalid event target");return new s.c(le=>{const z=(...J)=>le.next(1<J.length?J:J[0]);return ne(z),()=>q(z)})}function N(L,ae){return U=>Z=>L[U](ae,Z)}},81954:(ln,qe,w)=>{"use strict";w.d(qe,{Tg:()=>m});var r=w(31635),s=w(48629),v=w(67854),S=w(2573),M=w(69531),C=w(97757),d=w(5835),F=w(34401),P=w(18432),G=w(34403),N=w(46642),x=w(76138);function m(le){if(le instanceof S.c)return le;if(null!=le){if((0,M.l)(le))return function E(le){return new S.c(z=>{const J=le[x.s]();if((0,G.T)(J.subscribe))return J.subscribe(z);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,s.X)(le))return function L(le){return new S.c(z=>{for(let J=0;J<le.length&&!z.closed;J++)z.next(le[J]);z.complete()})}(le);if((0,v.y)(le))return function ae(le){return new S.c(z=>{le.then(J=>{z.closed||(z.next(J),z.complete())},J=>z.error(J)).then(null,N.m)})}(le);if((0,C.T)(le))return Z(le);if((0,F.x)(le))return function U(le){return new S.c(z=>{for(const J of le)if(z.next(J),z.closed)return;z.complete()})}(le);if((0,P.U)(le))return function ne(le){return Z((0,P.C)(le))}(le)}throw(0,d.L)(le)}function Z(le){return new S.c(z=>{(function q(le,z){var J,he,we,k;return(0,r.sH)(this,void 0,void 0,function*(){try{for(J=(0,r.xN)(le);!(he=yield J.next()).done;)if(z.next(he.value),z.closed)return}catch(ue){we={error:ue}}finally{try{he&&!he.done&&(k=J.return)&&(yield k.call(J))}finally{if(we)throw we.error}}z.complete()})})(le,z).catch(J=>z.error(J))})}},96513:(ln,qe,w)=>{"use strict";w.d(qe,{Y:()=>v});var r=w(8360),s=w(43654);function v(S=0,M=r.E){return S<0&&(S=0),(0,s.O)(S,S,M)}},76718:(ln,qe,w)=>{"use strict";w.d(qe,{h:()=>C});var r=w(98297),s=w(81954),v=w(2515),S=w(17106),M=w(21472);function C(...d){const F=(0,S.lI)(d),P=(0,S.R0)(d,1/0),G=d;return G.length?1===G.length?(0,s.Tg)(G[0]):(0,r.U)(P)((0,M.H)(G,F)):v.w}},15877:(ln,qe,w)=>{"use strict";w.d(qe,{of:()=>v});var r=w(17106),s=w(21472);function v(...S){const M=(0,r.lI)(S);return(0,s.H)(S,M)}},45326:(ln,qe,w)=>{"use strict";w.d(qe,{$:()=>v});var r=w(2573),s=w(34403);function v(S,M){const C=(0,s.T)(S)?S:()=>S,d=F=>F.error(C());return new r.c(M?F=>M.schedule(d,0,F):d)}},43654:(ln,qe,w)=>{"use strict";w.d(qe,{O:()=>M});var r=w(2573),s=w(8360),v=w(41498);function M(C=0,d,F=s.b){let P=-1;return null!=d&&((0,v.m)(d)?F=d:P=d),new r.c(G=>{let N=function S(C){return C instanceof Date&&!isNaN(C)}(C)?+C-F.now():C;N<0&&(N=0);let x=0;return F.schedule(function(){G.closed||(G.next(x++),0<=P?this.schedule(void 0,P):G.complete())},N)})}},66196:(ln,qe,w)=>{"use strict";w.d(qe,{_:()=>s});var r=w(36567);function s(S,M,C,d,F){return new v(S,M,C,d,F)}class v extends r.vU{constructor(M,C,d,F,P,G){super(M),this.onFinalize=P,this.shouldUnsubscribe=G,this._next=C?function(N){try{C(N)}catch(x){M.error(x)}}:super._next,this._error=F?function(N){try{F(N)}catch(x){M.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=d?function(){try{d()}catch(N){M.error(N)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:C}=this;super.unsubscribe(),!C&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}}},9065:(ln,qe,w)=>{"use strict";w.d(qe,{Z:()=>d});var r=w(8360),s=w(15210),v=w(81954),S=w(66196),C=w(43654);function d(F,P=r.E){return function M(F){return(0,s.N)((P,G)=>{let N=!1,x=null,m=null,E=!1;const L=()=>{if(m?.unsubscribe(),m=null,N){N=!1;const U=x;x=null,G.next(U)}E&&G.complete()},ae=()=>{m=null,E&&G.complete()};P.subscribe((0,S._)(G,U=>{N=!0,x=U,m||(0,v.Tg)(F(U)).subscribe(m=(0,S._)(G,L,ae))},()=>{E=!0,(!N||!m||m.closed)&&G.complete()}))})}(()=>(0,C.O)(F,P))}},66017:(ln,qe,w)=>{"use strict";w.d(qe,{S:()=>S});var r=w(15210),s=w(66196),v=w(67584);function S(M,C=null){return C=C??M,(0,r.N)((d,F)=>{let P=[],G=0;d.subscribe((0,s._)(F,N=>{let x=null;G++%C==0&&P.push([]);for(const m of P)m.push(N),M<=m.length&&(x=x??[],x.push(m));if(x)for(const m of x)(0,v.o)(P,m),F.next(m)},()=>{for(const N of P)F.next(N);F.complete()},void 0,()=>{P=null}))})}},28577:(ln,qe,w)=>{"use strict";w.d(qe,{W:()=>S});var r=w(81954),s=w(66196),v=w(15210);function S(M){return(0,v.N)((C,d)=>{let G,F=null,P=!1;F=C.subscribe((0,s._)(d,void 0,void 0,N=>{G=(0,r.Tg)(M(N,S(M)(C))),F?(F.unsubscribe(),F=null,G.subscribe(d)):P=!0})),P&&(F.unsubscribe(),F=null,G.subscribe(d))})}},65533:(ln,qe,w)=>{"use strict";w.d(qe,{p:()=>m});var r=w(82656),s=w(19577),v=w(7694),S=w(37479),M=w(11756),C=w(95773),d=w(15210);const P=(E,L)=>(E.push(L),E);const m=function x(E){return function N(E,L){return(0,S.F)(function G(){return(0,d.N)((E,L)=>{(function F(E,L){return(0,d.N)((0,C.S)(E,L,arguments.length>=2,!1,!0))})(P,[])(E).subscribe(L)})}(),(0,M.Z)(ae=>E(ae)),L?(0,v.I)(L):s.D)}(r.z,E)}},26727:(ln,qe,w)=>{"use strict";w.d(qe,{K:()=>s});var r=w(98297);function s(){return(0,r.U)(1)}},26758:(ln,qe,w)=>{"use strict";w.d(qe,{H:()=>v});var r=w(11756),s=w(34403);function v(S,M){return(0,s.T)(M)?(0,r.Z)(S,M,1):(0,r.Z)(S,1)}},15913:(ln,qe,w)=>{"use strict";w.d(qe,{s:()=>M});var r=w(15210),s=w(19827),v=w(66196),S=w(81954);function M(C){return(0,r.N)((d,F)=>{let P=!1,G=null,N=null;const x=()=>{if(N?.unsubscribe(),N=null,P){P=!1;const m=G;G=null,F.next(m)}};d.subscribe((0,v._)(F,m=>{N?.unsubscribe(),P=!0,G=m,N=(0,v._)(F,x,s.l),(0,S.Tg)(C(m)).subscribe(N)},()=>{x(),F.complete()},void 0,()=>{G=N=null}))})}},87996:(ln,qe,w)=>{"use strict";w.d(qe,{B:()=>S});var r=w(8360),s=w(15210),v=w(66196);function S(M,C=r.E){return(0,s.N)((d,F)=>{let P=null,G=null,N=null;const x=()=>{if(P){P.unsubscribe(),P=null;const E=G;G=null,F.next(E)}};function m(){const E=N+M,L=C.now();if(L<E)return P=this.schedule(void 0,E-L),void F.add(P);x()}d.subscribe((0,v._)(F,E=>{G=E,N=C.now(),P||(P=C.schedule(m,M),F.add(P))},()=>{x(),F.complete()},void 0,()=>{G=P=null}))})}},47369:(ln,qe,w)=>{"use strict";w.d(qe,{U:()=>v});var r=w(15210),s=w(66196);function v(S){return(0,r.N)((M,C)=>{let d=!1;M.subscribe((0,s._)(C,F=>{d=!0,C.next(F)},()=>{d||C.next(S),C.complete()}))})}},19833:(ln,qe,w)=>{"use strict";w.d(qe,{c:()=>x});var r=w(8360),s=w(35892),v=w(17365),S=w(15210),M=w(66196),C=w(19827),F=w(99539),P=w(11756);function G(m,E){return E?L=>(0,s.x)(E.pipe((0,v.s)(1),function d(){return(0,S.N)((m,E)=>{m.subscribe((0,M._)(E,C.l))})}()),L.pipe(G(m))):(0,P.Z)((L,ae)=>m(L,ae).pipe((0,v.s)(1),(0,F.u)(L)))}var N=w(43654);function x(m,E=r.E){const L=(0,N.O)(m,E);return G(()=>L)}},21082:(ln,qe,w)=>{"use strict";w.d(qe,{F:()=>S});var r=w(19577),s=w(15210),v=w(66196);function S(C,d=r.D){return C=C??M,(0,s.N)((F,P)=>{let G,N=!0;F.subscribe((0,v._)(P,x=>{const m=d(x);(N||!C(G,m))&&(N=!1,G=m,P.next(x))}))})}function M(C,d){return C===d}},14264:(ln,qe,w)=>{"use strict";w.d(qe,{p:()=>v});var r=w(15210),s=w(66196);function v(S,M){return(0,r.N)((C,d)=>{let F=0;C.subscribe((0,s._)(d,P=>S.call(M,P,F++)&&d.next(P)))})}},15152:(ln,qe,w)=>{"use strict";w.d(qe,{j:()=>s});var r=w(15210);function s(v){return(0,r.N)((S,M)=>{try{S.subscribe(M)}finally{M.add(v)}})}},60830:(ln,qe,w)=>{"use strict";w.d(qe,{$:()=>d});var r=w(50330),s=w(14264),v=w(17365),S=w(47369),M=w(67074),C=w(19577);function d(F,P){const G=arguments.length>=2;return N=>N.pipe(F?(0,s.p)((x,m)=>F(x,m,N)):C.D,(0,v.s)(1),G?(0,S.U)(P):(0,M.v)(()=>new r.G))}},38399:(ln,qe,w)=>{"use strict";w.d(qe,{q:()=>s});const s=w(11756).Z},36110:(ln,qe,w)=>{"use strict";w.d(qe,{T:()=>v});var r=w(15210),s=w(66196);function v(S,M){return(0,r.N)((C,d)=>{let F=0;C.subscribe((0,s._)(d,P=>{d.next(S.call(M,P,F++))}))})}},99539:(ln,qe,w)=>{"use strict";w.d(qe,{u:()=>s});var r=w(36110);function s(v){return(0,r.T)(()=>v)}},98297:(ln,qe,w)=>{"use strict";w.d(qe,{U:()=>v});var r=w(11756),s=w(19577);function v(S=1/0){return(0,r.Z)(s.D,S)}},11756:(ln,qe,w)=>{"use strict";w.d(qe,{Z:()=>F});var r=w(36110),s=w(81954),v=w(15210),S=w(82733),M=w(66196),d=w(34403);function F(P,G,N=1/0){return(0,d.T)(G)?F((x,m)=>(0,r.T)((E,L)=>G(x,E,m,L))((0,s.Tg)(P(x,m))),N):("number"==typeof G&&(N=G),(0,v.N)((x,m)=>function C(P,G,N,x,m,E,L,ae){const U=[];let Z=0,ne=0,q=!1;const le=()=>{q&&!U.length&&!Z&&G.complete()},z=he=>Z<x?J(he):U.push(he),J=he=>{E&&G.next(he),Z++;let we=!1;(0,s.Tg)(N(he,ne++)).subscribe((0,M._)(G,k=>{m?.(k),E?z(k):G.next(k)},()=>{we=!0},void 0,()=>{if(we)try{for(Z--;U.length&&Z<x;){const k=U.shift();L?(0,S.N)(G,L,()=>J(k)):J(k)}le()}catch(k){G.error(k)}}))};return P.subscribe((0,M._)(G,z,()=>{q=!0,le()})),()=>{ae?.()}}(x,m,P,N)))}},1670:(ln,qe,w)=>{"use strict";w.d(qe,{J:()=>v});var r=w(15210),s=w(66196);function v(){return(0,r.N)((S,M)=>{let C,d=!1;S.subscribe((0,s._)(M,F=>{const P=C;C=F,d&&M.next([P,F]),d=!0}))})}},44710:(ln,qe,w)=>{"use strict";w.d(qe,{B:()=>v});var r=w(15210),s=w(66196);function v(){return(0,r.N)((S,M)=>{let C=null;S._refCount++;const d=(0,s._)(M,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(C=null);const F=S._connection,P=C;C=null,F&&(!P||F===P)&&F.unsubscribe(),M.unsubscribe()});S.subscribe(d),d.closed||(C=S.connect())})}},64346:(ln,qe,w)=>{"use strict";w.d(qe,{l:()=>S});var r=w(85052),s=w(15210),v=w(66196);function S(M){return(0,s.N)((C,d)=>{let F,G,P=!1;const N=()=>{F=C.subscribe((0,v._)(d,void 0,void 0,x=>{G||(G=new r.B,M(G).subscribe((0,v._)(d,()=>F?N():P=!0))),G&&G.next(x)})),P&&(F.unsubscribe(),F=null,P=!1,N())};N()})}},95773:(ln,qe,w)=>{"use strict";w.d(qe,{S:()=>s});var r=w(66196);function s(v,S,M,C,d){return(F,P)=>{let G=M,N=S,x=0;F.subscribe((0,r._)(P,m=>{const E=x++;N=G?v(N,m,E):(G=!0,m),C&&P.next(N)},d&&(()=>{G&&P.next(N),P.complete()})))}}},20075:(ln,qe,w)=>{"use strict";w.d(qe,{u:()=>M});var r=w(81954),s=w(85052),v=w(36567),S=w(15210);function M(d={}){const{connector:F=(()=>new s.B),resetOnError:P=!0,resetOnComplete:G=!0,resetOnRefCountZero:N=!0}=d;return x=>{let m,E,L,ae=0,U=!1,Z=!1;const ne=()=>{E?.unsubscribe(),E=void 0},q=()=>{ne(),m=L=void 0,U=Z=!1},le=()=>{const z=m;q(),z?.unsubscribe()};return(0,S.N)((z,J)=>{ae++,!Z&&!U&&ne();const he=L=L??F();J.add(()=>{ae--,0===ae&&!Z&&!U&&(E=C(le,N))}),he.subscribe(J),!m&&ae>0&&(m=new v.Ms({next:we=>he.next(we),error:we=>{Z=!0,ne(),E=C(q,P,we),he.error(we)},complete:()=>{U=!0,ne(),E=C(q,G),he.complete()}}),(0,r.Tg)(z).subscribe(m))})(x)}}function C(d,F,...P){if(!0===F)return void d();if(!1===F)return;const G=new v.Ms({next:()=>{G.unsubscribe(),d()}});return F(...P).subscribe(G)}},49784:(ln,qe,w)=>{"use strict";w.d(qe,{t:()=>v});var r=w(60391),s=w(20075);function v(S,M,C){let d,F=!1;return S&&"object"==typeof S?({bufferSize:d=1/0,windowTime:M=1/0,refCount:F=!1,scheduler:C}=S):d=S??1/0,(0,s.u)({connector:()=>new r.m(d,M,C),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:F})}},87145:(ln,qe,w)=>{"use strict";w.d(qe,{i:()=>s});var r=w(14264);function s(v){return(0,r.p)((S,M)=>v<=M)}},35160:(ln,qe,w)=>{"use strict";w.d(qe,{Z:()=>S});var r=w(35892),s=w(17106),v=w(15210);function S(...M){const C=(0,s.lI)(M);return(0,v.N)((d,F)=>{(C?(0,r.x)(M,d,C):(0,r.x)(M,d)).subscribe(F)})}},32914:(ln,qe,w)=>{"use strict";w.d(qe,{n:()=>S});var r=w(81954),s=w(15210),v=w(66196);function S(M,C){return(0,s.N)((d,F)=>{let P=null,G=0,N=!1;const x=()=>N&&!P&&F.complete();d.subscribe((0,v._)(F,m=>{P?.unsubscribe();let E=0;const L=G++;(0,r.Tg)(M(m,L)).subscribe(P=(0,v._)(F,ae=>F.next(C?C(m,ae,L,E++):ae),()=>{P=null,x()}))},()=>{N=!0,x()}))})}},17365:(ln,qe,w)=>{"use strict";w.d(qe,{s:()=>S});var r=w(2515),s=w(15210),v=w(66196);function S(M){return M<=0?()=>r.w:(0,s.N)((C,d)=>{let F=0;C.subscribe((0,v._)(d,P=>{++F<=M&&(d.next(P),M<=F&&d.complete())}))})}},37925:(ln,qe,w)=>{"use strict";w.d(qe,{Q:()=>M});var r=w(15210),s=w(66196),v=w(81954),S=w(19827);function M(C){return(0,r.N)((d,F)=>{(0,v.Tg)(C).subscribe((0,s._)(F,()=>F.complete(),S.l)),!F.closed&&d.subscribe(F)})}},39705:(ln,qe,w)=>{"use strict";w.d(qe,{M:()=>M});var r=w(34403),s=w(15210),v=w(66196),S=w(19577);function M(C,d,F){const P=(0,r.T)(C)||d||F?{next:C,error:d,complete:F}:C;return P?(0,s.N)((G,N)=>{var x;null===(x=P.subscribe)||void 0===x||x.call(P);let m=!0;G.subscribe((0,v._)(N,E=>{var L;null===(L=P.next)||void 0===L||L.call(P,E),N.next(E)},()=>{var E;m=!1,null===(E=P.complete)||void 0===E||E.call(P),N.complete()},E=>{var L;m=!1,null===(L=P.error)||void 0===L||L.call(P,E),N.error(E)},()=>{var E,L;m&&(null===(E=P.unsubscribe)||void 0===E||E.call(P)),null===(L=P.finalize)||void 0===L||L.call(P)}))}):S.D}},67074:(ln,qe,w)=>{"use strict";w.d(qe,{v:()=>S});var r=w(50330),s=w(15210),v=w(66196);function S(C=M){return(0,s.N)((d,F)=>{let P=!1;d.subscribe((0,v._)(F,G=>{P=!0,F.next(G)},()=>P?F.complete():F.error(C())))})}function M(){return new r.G}},94909:(ln,qe,w)=>{"use strict";w.d(qe,{E:()=>d});var r=w(15210),s=w(66196),v=w(81954),S=w(19577),M=w(19827),C=w(17106);function d(...F){const P=(0,C.ms)(F);return(0,r.N)((G,N)=>{const x=F.length,m=new Array(x);let E=F.map(()=>!1),L=!1;for(let ae=0;ae<x;ae++)(0,v.Tg)(F[ae]).subscribe((0,s._)(N,U=>{m[ae]=U,!L&&!E[ae]&&(E[ae]=!0,(L=E.every(S.D))&&(E=null))},M.l));G.subscribe((0,s._)(N,ae=>{if(L){const U=[ae,...m];N.next(P?P(...U):U)}}))})}},7974:(ln,qe,w)=>{"use strict";w.d(qe,{c:()=>J});var r=w(81954),s=w(82733),v=w(15210),S=w(66196);function M(he,we=0){return(0,v.N)((k,ue)=>{k.subscribe((0,S._)(ue,Ie=>(0,s.N)(ue,he,()=>ue.next(Ie),we),()=>(0,s.N)(ue,he,()=>ue.complete(),we),Ie=>(0,s.N)(ue,he,()=>ue.error(Ie),we)))})}function C(he,we=0){return(0,v.N)((k,ue)=>{ue.add(he.schedule(()=>k.subscribe(ue),we))})}var P=w(2573),N=w(1301),x=w(34403);function E(he,we){if(!he)throw new Error("Iterable cannot be null");return new P.c(k=>{(0,s.N)(k,we,()=>{const ue=he[Symbol.asyncIterator]();(0,s.N)(k,we,()=>{ue.next().then(Ie=>{Ie.done?k.complete():k.next(Ie.value)})},0,!0)})})}var L=w(69531),ae=w(67854),U=w(48629),Z=w(34401),ne=w(97757),q=w(5835),le=w(18432);function J(he,we){if(null!=he){if((0,L.l)(he))return function d(he,we){return(0,r.Tg)(he).pipe(C(we),M(we))}(he,we);if((0,U.X)(he))return function G(he,we){return new P.c(k=>{let ue=0;return we.schedule(function(){ue===he.length?k.complete():(k.next(he[ue++]),k.closed||this.schedule())})})}(he,we);if((0,ae.y)(he))return function F(he,we){return(0,r.Tg)(he).pipe(C(we),M(we))}(he,we);if((0,ne.T)(he))return E(he,we);if((0,Z.x)(he))return function m(he,we){return new P.c(k=>{let ue;return(0,s.N)(k,we,()=>{ue=he[N.l](),(0,s.N)(k,we,()=>{let Ie,ke;try{({value:Ie,done:ke}=ue.next())}catch(Ze){return void k.error(Ze)}ke?k.complete():k.next(Ie)},0,!0)}),()=>(0,x.T)(ue?.return)&&ue.return()})}(he,we);if((0,le.U)(he))return function z(he,we){return E((0,le.C)(he),we)}(he,we)}throw(0,q.L)(he)}},44726:(ln,qe,w)=>{"use strict";w.d(qe,{R:()=>M});var r=w(81027);class s extends r.yU{constructor(d,F){super()}schedule(d,F=0){return this}}const v={setInterval(C,d,...F){const{delegate:P}=v;return P?.setInterval?P.setInterval(C,d,...F):setInterval(C,d,...F)},clearInterval(C){const{delegate:d}=v;return(d?.clearInterval||clearInterval)(C)},delegate:void 0};var S=w(67584);class M extends s{constructor(d,F){super(d,F),this.scheduler=d,this.work=F,this.pending=!1}schedule(d,F=0){var P;if(this.closed)return this;this.state=d;const G=this.id,N=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(N,G,F)),this.pending=!0,this.delay=F,this.id=null!==(P=this.id)&&void 0!==P?P:this.requestAsyncId(N,this.id,F),this}requestAsyncId(d,F,P=0){return v.setInterval(d.flush.bind(d,this),P)}recycleAsyncId(d,F,P=0){if(null!=P&&this.delay===P&&!1===this.pending)return F;null!=F&&v.clearInterval(F)}execute(d,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const P=this._execute(d,F);if(P)return P;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(d,F){let G,P=!1;try{this.work(d)}catch(N){P=!0,G=N||new Error("Scheduled action threw falsy error")}if(P)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:d,scheduler:F}=this,{actions:P}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,S.o)(P,this),null!=d&&(this.id=this.recycleAsyncId(F,d,null)),this.delay=null,super.unsubscribe()}}}},25474:(ln,qe,w)=>{"use strict";w.d(qe,{q:()=>v});var r=w(59309);class s{constructor(M,C=s.now){this.schedulerActionCtor=M,this.now=C}schedule(M,C=0,d){return new this.schedulerActionCtor(this,M).schedule(d,C)}}s.now=r.U.now;class v extends s{constructor(M,C=s.now){super(M,C),this.actions=[],this._active=!1}flush(M){const{actions:C}=this;if(this._active)return void C.push(M);let d;this._active=!0;do{if(d=M.execute(M.state,M.delay))break}while(M=C.shift());if(this._active=!1,d){for(;M=C.shift();)M.unsubscribe();throw d}}}},94974:(ln,qe,w)=>{"use strict";w.d(qe,{X:()=>d});var r=w(44726),s=w(81027);const v={schedule(P){let G=requestAnimationFrame,N=cancelAnimationFrame;const{delegate:x}=v;x&&(G=x.requestAnimationFrame,N=x.cancelAnimationFrame);const m=G(E=>{N=void 0,P(E)});return new s.yU(()=>N?.(m))},requestAnimationFrame(...P){const{delegate:G}=v;return(G?.requestAnimationFrame||requestAnimationFrame)(...P)},cancelAnimationFrame(...P){const{delegate:G}=v;return(G?.cancelAnimationFrame||cancelAnimationFrame)(...P)},delegate:void 0};var M=w(25474);const d=new class C extends M.q{flush(G){this._active=!0;const N=this._scheduled;this._scheduled=void 0;const{actions:x}=this;let m;G=G||x.shift();do{if(m=G.execute(G.state,G.delay))break}while((G=x[0])&&G.id===N&&x.shift());if(this._active=!1,m){for(;(G=x[0])&&G.id===N&&x.shift();)G.unsubscribe();throw m}}}(class S extends r.R{constructor(G,N){super(G,N),this.scheduler=G,this.work=N}requestAsyncId(G,N,x=0){return null!==x&&x>0?super.requestAsyncId(G,N,x):(G.actions.push(this),G._scheduled||(G._scheduled=v.requestAnimationFrame(()=>G.flush(void 0))))}recycleAsyncId(G,N,x=0){var m;if(null!=x?x>0:this.delay>0)return super.recycleAsyncId(G,N,x);const{actions:E}=G;null!=N&&(null===(m=E[E.length-1])||void 0===m?void 0:m.id)!==N&&(v.cancelAnimationFrame(N),G._scheduled=void 0)}})},82755:(ln,qe,w)=>{"use strict";w.d(qe,{$:()=>E});var r=w(44726);let v,s=1;const S={};function M(ae){return ae in S&&(delete S[ae],!0)}const C={setImmediate(ae){const U=s++;return S[U]=!0,v||(v=Promise.resolve()),v.then(()=>M(U)&&ae()),U},clearImmediate(ae){M(ae)}},{setImmediate:F,clearImmediate:P}=C,G={setImmediate(...ae){const{delegate:U}=G;return(U?.setImmediate||F)(...ae)},clearImmediate(ae){const{delegate:U}=G;return(U?.clearImmediate||P)(ae)},delegate:void 0};var x=w(25474);const E=new class m extends x.q{flush(U){this._active=!0;const Z=this._scheduled;this._scheduled=void 0;const{actions:ne}=this;let q;U=U||ne.shift();do{if(q=U.execute(U.state,U.delay))break}while((U=ne[0])&&U.id===Z&&ne.shift());if(this._active=!1,q){for(;(U=ne[0])&&U.id===Z&&ne.shift();)U.unsubscribe();throw q}}}(class N extends r.R{constructor(U,Z){super(U,Z),this.scheduler=U,this.work=Z}requestAsyncId(U,Z,ne=0){return null!==ne&&ne>0?super.requestAsyncId(U,Z,ne):(U.actions.push(this),U._scheduled||(U._scheduled=G.setImmediate(U.flush.bind(U,void 0))))}recycleAsyncId(U,Z,ne=0){var q;if(null!=ne?ne>0:this.delay>0)return super.recycleAsyncId(U,Z,ne);const{actions:le}=U;null!=Z&&(null===(q=le[le.length-1])||void 0===q?void 0:q.id)!==Z&&(G.clearImmediate(Z),U._scheduled=void 0)}})},8360:(ln,qe,w)=>{"use strict";w.d(qe,{E:()=>v,b:()=>S});var r=w(44726);const v=new(w(25474).q)(r.R),S=v},59309:(ln,qe,w)=>{"use strict";w.d(qe,{U:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},63831:(ln,qe,w)=>{"use strict";w.d(qe,{T:()=>M});var r=w(44726),v=w(25474);const M=new class S extends v.q{}(class s extends r.R{constructor(F,P){super(F,P),this.scheduler=F,this.work=P}schedule(F,P=0){return P>0?super.schedule(F,P):(this.delay=P,this.state=F,this.scheduler.flush(this),this)}execute(F,P){return P>0||this.closed?super.execute(F,P):this._execute(F,P)}requestAsyncId(F,P,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(F,P,G):(F.flush(this),0)}})},12386:(ln,qe,w)=>{"use strict";w.d(qe,{f:()=>r});const r={setTimeout(s,v,...S){const{delegate:M}=r;return M?.setTimeout?M.setTimeout(s,v,...S):setTimeout(s,v,...S)},clearTimeout(s){const{delegate:v}=r;return(v?.clearTimeout||clearTimeout)(s)},delegate:void 0}},1301:(ln,qe,w)=>{"use strict";w.d(qe,{l:()=>s});const s=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},76138:(ln,qe,w)=>{"use strict";w.d(qe,{s:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},50330:(ln,qe,w)=>{"use strict";w.d(qe,{G:()=>s});const s=(0,w(87385).L)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"})},17106:(ln,qe,w)=>{"use strict";w.d(qe,{R0:()=>C,lI:()=>M,ms:()=>S});var r=w(34403),s=w(41498);function v(d){return d[d.length-1]}function S(d){return(0,r.T)(v(d))?d.pop():void 0}function M(d){return(0,s.m)(v(d))?d.pop():void 0}function C(d,F){return"number"==typeof v(d)?d.pop():F}},15437:(ln,qe,w)=>{"use strict";w.d(qe,{D:()=>M});const{isArray:r}=Array,{getPrototypeOf:s,prototype:v,keys:S}=Object;function M(d){if(1===d.length){const F=d[0];if(r(F))return{args:F,keys:null};if(function C(d){return d&&"object"==typeof d&&s(d)===v}(F)){const P=S(F);return{args:P.map(G=>F[G]),keys:P}}}return{args:d,keys:null}}},67584:(ln,qe,w)=>{"use strict";function r(s,v){if(s){const S=s.indexOf(v);0<=S&&s.splice(S,1)}}w.d(qe,{o:()=>r})},87385:(ln,qe,w)=>{"use strict";function r(s){const S=s(M=>{Error.call(M),M.stack=(new Error).stack});return S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S}w.d(qe,{L:()=>r})},25436:(ln,qe,w)=>{"use strict";function r(s,v){return s.reduce((S,M,C)=>(S[M]=v[C],S),{})}w.d(qe,{e:()=>r})},32926:(ln,qe,w)=>{"use strict";w.d(qe,{Y:()=>v,l:()=>S});var r=w(8502);let s=null;function v(M){if(r.$.useDeprecatedSynchronousErrorHandling){const C=!s;if(C&&(s={errorThrown:!1,error:null}),M(),C){const{errorThrown:d,error:F}=s;if(s=null,d)throw F}}else M()}function S(M){r.$.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=M)}},82733:(ln,qe,w)=>{"use strict";function r(s,v,S,M=0,C=!1){const d=v.schedule(function(){S(),C?s.add(this.schedule(null,M)):this.unsubscribe()},M);if(s.add(d),!C)return d}w.d(qe,{N:()=>r})},19577:(ln,qe,w)=>{"use strict";function r(s){return s}w.d(qe,{D:()=>r})},48629:(ln,qe,w)=>{"use strict";w.d(qe,{X:()=>r});const r=s=>s&&"number"==typeof s.length&&"function"!=typeof s},97757:(ln,qe,w)=>{"use strict";w.d(qe,{T:()=>s});var r=w(34403);function s(v){return Symbol.asyncIterator&&(0,r.T)(v?.[Symbol.asyncIterator])}},34403:(ln,qe,w)=>{"use strict";function r(s){return"function"==typeof s}w.d(qe,{T:()=>r})},69531:(ln,qe,w)=>{"use strict";w.d(qe,{l:()=>v});var r=w(76138),s=w(34403);function v(S){return(0,s.T)(S[r.s])}},34401:(ln,qe,w)=>{"use strict";w.d(qe,{x:()=>v});var r=w(1301),s=w(34403);function v(S){return(0,s.T)(S?.[r.l])}},28454:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>v});var r=w(2573),s=w(34403);function v(S){return!!S&&(S instanceof r.c||(0,s.T)(S.lift)&&(0,s.T)(S.subscribe))}},67854:(ln,qe,w)=>{"use strict";w.d(qe,{y:()=>s});var r=w(34403);function s(v){return(0,r.T)(v?.then)}},18432:(ln,qe,w)=>{"use strict";w.d(qe,{C:()=>v,U:()=>S});var r=w(31635),s=w(34403);function v(M){return(0,r.AQ)(this,arguments,function*(){const d=M.getReader();try{for(;;){const{value:F,done:P}=yield(0,r.N3)(d.read());if(P)return yield(0,r.N3)(void 0);yield yield(0,r.N3)(F)}}finally{d.releaseLock()}})}function S(M){return(0,s.T)(M?.getReader)}},41498:(ln,qe,w)=>{"use strict";w.d(qe,{m:()=>s});var r=w(34403);function s(v){return v&&(0,r.T)(v.schedule)}},15210:(ln,qe,w)=>{"use strict";w.d(qe,{N:()=>v,S:()=>s});var r=w(34403);function s(S){return(0,r.T)(S?.lift)}function v(S){return M=>{if(s(M))return M.lift(function(C){try{return S(C,this)}catch(d){this.error(d)}});throw new TypeError("Unable to lift unknown Observable type")}}},7694:(ln,qe,w)=>{"use strict";w.d(qe,{I:()=>S});var r=w(36110);const{isArray:s}=Array;function S(M){return(0,r.T)(C=>function v(M,C){return s(C)?M(...C):M(C)}(M,C))}},19827:(ln,qe,w)=>{"use strict";function r(){}w.d(qe,{l:()=>r})},37479:(ln,qe,w)=>{"use strict";w.d(qe,{F:()=>s,m:()=>v});var r=w(19577);function s(...S){return v(S)}function v(S){return 0===S.length?r.D:1===S.length?S[0]:function(C){return S.reduce((d,F)=>F(d),C)}}},46642:(ln,qe,w)=>{"use strict";w.d(qe,{m:()=>v});var r=w(8502),s=w(12386);function v(S){s.f.setTimeout(()=>{const{onUnhandledError:M}=r.$;if(!M)throw S;M(S)})}},5835:(ln,qe,w)=>{"use strict";function r(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(qe,{L:()=>r})},93330:(ln,qe,w)=>{"use strict";var r=w(89222),s=w(2948),v=w(70401)(),S=w(99234),M=w(63698),C=r("%Math.floor%");ln.exports=function(F,P){if("function"!=typeof F)throw new M("`fn` is not a function");if("number"!=typeof P||P<0||P>4294967295||C(P)!==P)throw new M("`length` must be a positive 32-bit integer");var G=arguments.length>2&&!!arguments[2],N=!0,x=!0;if("length"in F&&S){var m=S(F,"length");m&&!m.configurable&&(N=!1),m&&!m.writable&&(x=!1)}return(N||x||!G)&&(v?s(F,"length",P,!0,!0):s(F,"length",P)),F}},68241:(ln,qe,w)=>{"use strict";var r=w(89222),s=w(64680),v=w(92298),S=w(63698),M=r("%WeakMap%",!0),C=r("%Map%",!0),d=s("WeakMap.prototype.get",!0),F=s("WeakMap.prototype.set",!0),P=s("WeakMap.prototype.has",!0),G=s("Map.prototype.get",!0),N=s("Map.prototype.set",!0),x=s("Map.prototype.has",!0),m=function(U,Z){for(var q,ne=U;null!==(q=ne.next);ne=q)if(q.key===Z)return ne.next=q.next,q.next=U.next,U.next=q,q};ln.exports=function(){var Z,ne,q,le={assert:function(z){if(!le.has(z))throw new S("Side channel does not contain "+v(z))},get:function(z){if(M&&z&&("object"==typeof z||"function"==typeof z)){if(Z)return d(Z,z)}else if(C){if(ne)return G(ne,z)}else if(q)return function(U,Z){var ne=m(U,Z);return ne&&ne.value}(q,z)},has:function(z){if(M&&z&&("object"==typeof z||"function"==typeof z)){if(Z)return P(Z,z)}else if(C){if(ne)return x(ne,z)}else if(q)return function(U,Z){return!!m(U,Z)}(q,z);return!1},set:function(z,J){M&&z&&("object"==typeof z||"function"==typeof z)?(Z||(Z=new M),F(Z,z,J)):C?(ne||(ne=new C),N(ne,z,J)):(q||(q={key:{},next:null}),function(U,Z,ne){var q=m(U,Z);q?q.value=ne:U.next={key:Z,next:U.next,value:ne}}(q,z,J))}};return le}},5662:function(ln){var r;typeof self<"u"&&self,r=()=>(()=>{"use strict";var qe={"./src/attributes.js":
/*!***************************!*\
                !*** ./src/attributes.js ***!
                \***************************/(v,S,M)=>{function C(T){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(T)}S.__esModule=!0,S.createAttribsFromArrays=qt,S.createBufferFromArray=b,S.createBufferFromTypedArray=ue,S.createBufferInfoFromArrays=function Y(T,V,j){var h=qt(T,V),I=Object.assign({},j||{});I.attribs=Object.assign({},j?j.attribs:{},h);var xe=V.indices;if(xe){var ie=ee(xe,"indices");I.indices=ue(T,ie,m),I.numElements=ie.length,I.elementType=d.getGLTypeForTypedArray(ie)}else I.numElements||(I.numElements=function wt(T,V){var j,h;for(h=0;h<We.length&&!((j=We[h])in V)&&!((j=J.attribPrefix+j)in V);++h);h===We.length&&(j=Object.keys(V)[0]);var I=V[j];if(!I.buffer)return 1;T.bindBuffer(x,I.buffer);var xe=T.getBufferParameter(x,E);T.bindBuffer(x,null);var ie=function Tt(T,V){return V===L||V===ae?1:V===U||V===Z?2:V===ne||V===q||V===le?4:0}(0,I.type),K=I.numComponents||I.size,se=xe/ie/K;if(se%1!=0)throw new Error("numComponents ".concat(K," not correct for length ").concat(length));return se}(T,I.attribs));return I},S.createBuffersFromArrays=function R(T,V){var j={};return Object.keys(V).forEach(function(h){j[h]=b(T,V[h],h)}),V.indices?(j.numElements=V.indices.length,j.elementType=d.getGLTypeForTypedArray(ee(V.indices),"indices")):j.numElements=function Ve(T){var V,j;for(j=0;j<We.length&&!((V=We[j])in T);++j);j===We.length&&(V=Object.keys(T)[0]);var h=T[V],I=Ze(h).length;if(void 0===I)return 1;var xe=me(h,V),ie=I/xe;if(I%xe>0)throw new Error("numComponents ".concat(xe," not correct for length ").concat(I));return ie}(V),j},S.getArray_=Ze,S.getNumComponents_=me,S.setAttribInfoBufferFromArray=function Ln(T,V,j,h){j=ee(j),void 0!==h?(T.bindBuffer(x,V.buffer),T.bufferSubData(x,h,j)):k(T,x,V.buffer,j,V.drawType)},S.setAttributeDefaults_=function we(T){F.copyExistingProperties(T,J)},S.setAttributePrefix=function he(T){J.attribPrefix=T};var d=G(M(
/*! ./typedarrays.js */
"./src/typedarrays.js")),F=G(M(
/*! ./helper.js */
"./src/helper.js"));function P(T){if("function"!=typeof WeakMap)return null;var V=new WeakMap,j=new WeakMap;return(P=function(I){return I?j:V})(T)}function G(T,V){if(!V&&T&&T.__esModule)return T;if(null===T||"object"!=C(T)&&"function"!=typeof T)return{default:T};var j=P(V);if(j&&j.has(T))return j.get(T);var h={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var xe in T)if("default"!==xe&&Object.prototype.hasOwnProperty.call(T,xe)){var ie=I?Object.getOwnPropertyDescriptor(T,xe):null;ie&&(ie.get||ie.set)?Object.defineProperty(h,xe,ie):h[xe]=T[xe]}return h.default=T,j&&j.set(T,h),h}var N=35044,x=34962,m=34963,E=34660,L=5120,ae=5121,U=5122,Z=5123,ne=5124,q=5125,le=5126,J={attribPrefix:""};function k(T,V,j,h,I){T.bindBuffer(V,j),T.bufferData(V,h,I||N)}function ue(T,V,j,h){if(F.isBuffer(T,V))return V;j=j||x;var I=T.createBuffer();return k(T,j,I,V,h),I}function Ie(T){return"indices"===T}function Ze(T){return T.length?T:T.data}var Ce=/coord|texture/i,Nt=/color|colour/i;function me(T,V,j){return T.numComponents||T.size||function Kt(T,V){var j;if(V%(j=Ce.test(T)?2:Nt.test(T)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(T,"'. Tried ").concat(j," but ").concat(V," values is not evenly divisible by ").concat(j,". You should specify it."));return j}(V,j||Ze(T).length)}function ee(T,V){if(d.isArrayBuffer(T))return T;if(d.isArrayBuffer(T.data))return T.data;Array.isArray(T)&&(T={data:T});var j=T.type?ye(T.type):void 0;return j||(j=Ie(V)?Uint16Array:Float32Array),new j(T.data)}function fe(T){return"number"==typeof T?T:T?d.getGLTypeForTypedArrayType(T):le}function ye(T){return"number"==typeof T?d.getTypedArrayTypeForGLType(T):T||Float32Array}function Se(T,V){return{buffer:V.buffer,numValues:24,type:fe(V.type),arrayType:ye(V.type)}}function Be(T,V){var j=V.data||V,h=ye(V.type),I=j*h.BYTES_PER_ELEMENT,xe=T.createBuffer();return T.bindBuffer(x,xe),T.bufferData(x,I,V.drawType||N),{buffer:xe,numValues:j,type:d.getGLTypeForTypedArrayType(h),arrayType:h}}function yt(T,V,j){var h=ee(V,j);return{arrayType:h.constructor,buffer:ue(T,h,void 0,V.drawType),type:d.getGLTypeForTypedArray(h),numValues:0}}function qt(T,V){var j={};return Object.keys(V).forEach(function(h){if(!Ie(h)){var I=V[h],xe=I.attrib||I.name||I.attribName||J.attribPrefix+h;if(I.value){if(!Array.isArray(I.value)&&!d.isArrayBuffer(I.value))throw new Error("array.value is not array or typedarray");j[xe]={value:I.value}}else{var D=(I.buffer&&I.buffer instanceof WebGLBuffer?Se:"number"==typeof I||"number"==typeof I.data?Be:yt)(T,I,h),K=D.buffer,se=D.type,Le=D.numValues,ut=void 0!==I.normalize?I.normalize:function ke(T){return T===Int8Array||T===Uint8Array}(D.arrayType),en=me(I,h,Le);j[xe]={buffer:K,numComponents:en,type:se,normalize:ut,stride:I.stride||0,offset:I.offset||0,divisor:void 0===I.divisor?void 0:I.divisor,drawType:I.drawType}}}}),T.bindBuffer(x,null),j}var We=["position","positions","a_position"];function b(T,V,j){var h="indices"===j?m:x;return ue(T,ee(V,j),h)}},"./src/draw.js":
/*!*********************!*\
                !*** ./src/draw.js ***!
                \*********************/(v,S,M)=>{function C(E){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(E)}S.__esModule=!0,S.drawBufferInfo=x,S.drawObjectList=function m(E,L){var ae=null,U=null;L.forEach(function(Z){if(!1!==Z.active){var ne=Z.programInfo,q=Z.vertexArrayInfo||Z.bufferInfo,le=!1,z=void 0===Z.type?G:Z.type;ne!==ae&&(ae=ne,E.useProgram(ne.program),le=!0),(le||q!==U)&&(U&&U.vertexArrayObject&&!q.vertexArrayObject&&E.bindVertexArray(null),U=q,d.setBuffersAndAttributes(E,ne,q)),d.setUniforms(ne,Z.uniforms),x(E,q,z,Z.count,Z.offset,Z.instanceCount)}}),U&&U.vertexArrayObject&&E.bindVertexArray(null)};var d=function P(E,L){if(!L&&E&&E.__esModule)return E;if(null===E||"object"!=C(E)&&"function"!=typeof E)return{default:E};var ae=F(L);if(ae&&ae.has(E))return ae.get(E);var U={__proto__:null},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in E)if("default"!==ne&&Object.prototype.hasOwnProperty.call(E,ne)){var q=Z?Object.getOwnPropertyDescriptor(E,ne):null;q&&(q.get||q.set)?Object.defineProperty(U,ne,q):U[ne]=E[ne]}return U.default=E,ae&&ae.set(E,U),U}(M(
/*! ./programs.js */
"./src/programs.js"));function F(E){if("function"!=typeof WeakMap)return null;var L=new WeakMap,ae=new WeakMap;return(F=function(Z){return Z?ae:L})(E)}var G=4,N=5123;function x(E,L,ae,U,Z,ne){ae=void 0===ae?G:ae;var le=L.elementType,z=void 0===U?L.numElements:U;Z=void 0===Z?0:Z,le||L.indices?void 0!==ne?E.drawElementsInstanced(ae,z,void 0===le?N:L.elementType,Z,ne):E.drawElements(ae,z,void 0===le?N:L.elementType,Z):void 0!==ne?E.drawArraysInstanced(ae,Z,z,ne):E.drawArrays(ae,Z,z)}},"./src/framebuffers.js":
/*!*****************************!*\
                !*** ./src/framebuffers.js ***!
                \*****************************/(v,S,M)=>{function C(Ve){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(wt){return typeof wt}:function(wt){return wt&&"function"==typeof Symbol&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(Ve)}S.__esModule=!0,S.bindFramebufferInfo=function We(Ve,wt,Y){Y=Y||x,wt?(Ve.bindFramebuffer(Y,wt.framebuffer),Ve.viewport(0,0,wt.width,wt.height)):(Ve.bindFramebuffer(Y,null),Ve.viewport(0,0,Ve.drawingBufferWidth,Ve.drawingBufferHeight))},S.createFramebufferInfo=function Ln(Ve,wt,Y,b){var R=x,T=Ve.createFramebuffer();Ve.bindFramebuffer(R,T);var V=[],j={framebuffer:T,attachments:[],width:Y=Y||Ve.drawingBufferWidth,height:b=b||Ve.drawingBufferHeight};return(wt=wt||ee).forEach(function(h,I){var xe=h.attachment,ie=h.samples,D=h.format,K=h.attachmentPoint||function ye(Ve,wt){return fe[Ve]||fe[wt]}(D,h.internalFormat);if(K||(K=ke+I),function qt(Ve){return Ve>=ke&&Ve<ke+yt}(K)&&V.push(K),!xe)if(void 0!==ie||function Be(Ve){return Se[Ve]}(D))xe=Ve.createRenderbuffer(),Ve.bindRenderbuffer(m,xe),ie>1?Ve.renderbufferStorageMultisample(m,ie,D,Y,b):Ve.renderbufferStorage(m,D,Y,b);else{var se=Object.assign({},h);se.width=Y,se.height=b,void 0===se.auto&&(se.auto=!1,se.min=se.min||se.minMag||me,se.mag=se.mag||se.minMag||me,se.wrapS=se.wrapS||se.wrap||Kt,se.wrapT=se.wrapT||se.wrap||Kt),xe=d.createTexture(Ve,se)}if(F.isRenderbuffer(Ve,xe))Ve.framebufferRenderbuffer(R,K,m,xe);else{if(!F.isTexture(Ve,xe))throw new Error("unknown attachment type");void 0!==h.layer?Ve.framebufferTextureLayer(R,K,xe,h.level||0,h.layer):Ve.framebufferTexture2D(R,K,h.target||E,xe,h.level||0)}j.attachments.push(xe)}),Ve.drawBuffers&&Ve.drawBuffers(V),j},S.resizeFramebufferInfo=function Tt(Ve,wt,Y,b,R){R=R||Ve.drawingBufferHeight,wt.width=b=b||Ve.drawingBufferWidth,wt.height=R,(Y=Y||ee).forEach(function(T,V){var j=wt.attachments[V],h=T.format,I=T.samples;if(void 0!==I||F.isRenderbuffer(Ve,j))Ve.bindRenderbuffer(m,j),I>1?Ve.renderbufferStorageMultisample(m,I,h,b,R):Ve.renderbufferStorage(m,h,b,R);else{if(!F.isTexture(Ve,j))throw new Error("unknown attachment type");d.resizeTexture(Ve,j,T,b,R)}})};var d=G(M(
/*! ./textures.js */
"./src/textures.js")),F=G(M(
/*! ./helper.js */
"./src/helper.js"));function P(Ve){if("function"!=typeof WeakMap)return null;var wt=new WeakMap,Y=new WeakMap;return(P=function(R){return R?Y:wt})(Ve)}function G(Ve,wt){if(!wt&&Ve&&Ve.__esModule)return Ve;if(null===Ve||"object"!=C(Ve)&&"function"!=typeof Ve)return{default:Ve};var Y=P(wt);if(Y&&Y.has(Ve))return Y.get(Ve);var b={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in Ve)if("default"!==T&&Object.prototype.hasOwnProperty.call(Ve,T)){var V=R?Object.getOwnPropertyDescriptor(Ve,T):null;V&&(V.get||V.set)?Object.defineProperty(b,T,V):b[T]=Ve[T]}return b.default=Ve,Y&&Y.set(Ve,b),b}var x=36160,m=36161,E=3553,ke=36064,Ze=36096,Kt=33071,me=9729,ee=[{format:6408,type:5121,min:me,wrap:Kt},{format:34041}],fe={34041:33306,6401:36128,36168:36128};fe[6402]=Ze,fe[33189]=Ze,fe[33190]=Ze,fe[36012]=Ze,fe[35056]=33306,fe[36013]=33306;var Se={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0},yt=32},"./src/helper.js":
/*!***********************!*\
                !*** ./src/helper.js ***!
                \***********************/(v,S)=>{function M(U){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(U)}S.__esModule=!0,S.copyExistingProperties=function d(U,Z){Object.keys(Z).forEach(function(ne){Z.hasOwnProperty(ne)&&U.hasOwnProperty(ne)&&(Z[ne]=U[ne])})},S.copyNamedProperties=function C(U,Z,ne){U.forEach(function(q){var le=Z[q];void 0!==le&&(ne[q]=le)})},S.error=function F(){var U;(U=console).error.apply(U,arguments)},S.isBuffer=function x(U,Z){return typeof WebGLBuffer<"u"&&N(Z,"WebGLBuffer")},S.isRenderbuffer=function m(U,Z){return typeof WebGLRenderbuffer<"u"&&N(Z,"WebGLRenderbuffer")},S.isSampler=function ae(U,Z){return typeof WebGLSampler<"u"&&N(Z,"WebGLSampler")},S.isShader=function E(U,Z){return typeof WebGLShader<"u"&&N(Z,"WebGLShader")},S.isTexture=function L(U,Z){return typeof WebGLTexture<"u"&&N(Z,"WebGLTexture")},S.warn=function P(){var U;(U=console).warn.apply(U,arguments)};var G=new Map;function N(U,Z){if(!U||"object"!==M(U))return!1;var ne=G.get(Z);ne||G.set(Z,ne=new WeakMap);var q=ne.get(U);if(void 0===q){var le=Object.prototype.toString.call(U);q=le.substring(8,le.length-1)===Z,ne.set(U,q)}return q}},"./src/programs.js":
/*!*************************!*\
                !*** ./src/programs.js ***!
                \*************************/(v,S,M)=>{function C(je){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(It){return typeof It}:function(It){return It&&"function"==typeof Symbol&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It})(je)}S.__esModule=!0,S.bindTransformFeedbackInfo=Bi,S.bindUniformBlock=Fo,S.createAttributeSetters=cs,S.createProgram=Ao,S.createProgramAsync=void 0,S.createProgramFromScripts=function rr(je,It,Qt,qn,hr){var oi,yr=Dr(Qt,qn,hr),Hr=[],jr=J(It);try{for(jr.s();!(oi=jr.n()).done;){var qr=oi.value,Ui=Nt(qr);if(!Ui)return rn(yr,"unknown script element: ".concat(qr));Hr.push(Ui.text)}}catch(co){jr.e(co)}finally{jr.f()}return Ao(je,Hr,yr)},S.createProgramFromSources=sr,S.createProgramInfo=Ir,S.createProgramInfoAsync=void 0,S.createProgramInfoFromProgram=lr,S.createProgramInfos=gn,S.createProgramInfosAsync=void 0,S.createPrograms=tt,S.createProgramsAsync=void 0,S.createTransformFeedback=function ko(je,It,Qt){var qn=je.createTransformFeedback();return je.bindTransformFeedback(Be,qn),je.useProgram(It.program),Bi(je,It,Qt),je.bindTransformFeedback(Be,null),qn},S.createTransformFeedbackInfo=ho,S.createUniformBlockInfo=function Hs(je,It,Qt){return qo(je,It.program,It.uniformBlockSpec,Qt)},S.createUniformBlockInfoFromProgram=qo,S.createUniformBlockSpecFromProgram=ls,S.createUniformSetters=Wi,S.setAttributes=ua,S.setBlockUniforms=function oa(je,It){var Qt=je.setters;for(var qn in It){var hr=Qt[qn];hr&&hr(It[qn])}},S.setBuffersAndAttributes=function Jn(je,It,Qt){Qt.vertexArrayObject?je.bindVertexArray(Qt.vertexArrayObject):(ua(It.attribSetters||It,Qt.attribs),Qt.indices&&je.bindBuffer(fe,Qt.indices))},S.setUniformBlock=function pa(je,It,Qt){Fo(je,It,Qt)&&je.bufferData(ye,Qt.array,me)},S.setUniforms=zs,S.setUniformsAndBindTextures=void 0;var d=G(M(
/*! ./utils.js */
"./src/utils.js")),F=G(M(
/*! ./helper.js */
"./src/helper.js"));function P(je){if("function"!=typeof WeakMap)return null;var It=new WeakMap,Qt=new WeakMap;return(P=function(hr){return hr?Qt:It})(je)}function G(je,It){if(!It&&je&&je.__esModule)return je;if(null===je||"object"!=C(je)&&"function"!=typeof je)return{default:je};var Qt=P(It);if(Qt&&Qt.has(je))return Qt.get(je);var qn={__proto__:null},hr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var yr in je)if("default"!==yr&&Object.prototype.hasOwnProperty.call(je,yr)){var Hr=hr?Object.getOwnPropertyDescriptor(je,yr):null;Hr&&(Hr.get||Hr.set)?Object.defineProperty(qn,yr,Hr):qn[yr]=je[yr]}return qn.default=je,Qt&&Qt.set(je,qn),qn}function N(){N=function(){return It};var je,It={},Qt=Object.prototype,qn=Qt.hasOwnProperty,hr=Object.defineProperty||function(ri,Br,hi){ri[Br]=hi.value},yr="function"==typeof Symbol?Symbol:{},Hr=yr.iterator||"@@iterator",jr=yr.asyncIterator||"@@asyncIterator",oi=yr.toStringTag||"@@toStringTag";function qr(ri,Br,hi){return Object.defineProperty(ri,Br,{value:hi,enumerable:!0,configurable:!0,writable:!0}),ri[Br]}try{qr({},"")}catch{qr=function(hi,zi,Ii){return hi[zi]=Ii}}function Ui(ri,Br,hi,zi){var pe=Object.create((Br&&Br.prototype instanceof at?Br:at).prototype),oe=new Ur(zi||[]);return hr(pe,"_invoke",{value:Vt(ri,hi,oe)}),pe}function co(ri,Br,hi){try{return{type:"normal",arg:ri.call(Br,hi)}}catch(zi){return{type:"throw",arg:zi}}}It.wrap=Ui;var Ro="suspendedStart",mo="suspendedYield",nt="executing",$e="completed",an={};function at(){}function de(){}function Et(){}var on={};qr(on,Hr,function(){return this});var Kn=Object.getPrototypeOf,ht=Kn&&Kn(Kn(ni([])));ht&&ht!==Qt&&qn.call(ht,Hr)&&(on=ht);var $=Et.prototype=at.prototype=Object.create(on);function ge(ri){["next","throw","return"].forEach(function(Br){qr(ri,Br,function(hi){return this._invoke(Br,hi)})})}function He(ri,Br){function hi(Ii,pe,oe,Ue){var gt=co(ri[Ii],ri,pe);if("throw"!==gt.type){var Rt=gt.arg,dn=Rt.value;return dn&&"object"==C(dn)&&qn.call(dn,"__await")?Br.resolve(dn.__await).then(function(Rn){hi("next",Rn,oe,Ue)},function(Rn){hi("throw",Rn,oe,Ue)}):Br.resolve(dn).then(function(Rn){Rt.value=Rn,oe(Rt)},function(Rn){return hi("throw",Rn,oe,Ue)})}Ue(gt.arg)}var zi;hr(this,"_invoke",{value:function(pe,oe){function Ue(){return new Br(function(gt,Rt){hi(pe,oe,gt,Rt)})}return zi=zi?zi.then(Ue,Ue):Ue()}})}function Vt(ri,Br,hi){var zi=Ro;return function(Ii,pe){if(zi===nt)throw new Error("Generator is already running");if(zi===$e){if("throw"===Ii)throw pe;return{value:je,done:!0}}for(hi.method=Ii,hi.arg=pe;;){var oe=hi.delegate;if(oe){var Ue=wn(oe,hi);if(Ue){if(Ue===an)continue;return Ue}}if("next"===hi.method)hi.sent=hi._sent=hi.arg;else if("throw"===hi.method){if(zi===Ro)throw zi=$e,hi.arg;hi.dispatchException(hi.arg)}else"return"===hi.method&&hi.abrupt("return",hi.arg);zi=nt;var gt=co(ri,Br,hi);if("normal"===gt.type){if(zi=hi.done?$e:mo,gt.arg===an)continue;return{value:gt.arg,done:hi.done}}"throw"===gt.type&&(zi=$e,hi.method="throw",hi.arg=gt.arg)}}}function wn(ri,Br){var hi=Br.method,zi=ri.iterator[hi];if(zi===je)return Br.delegate=null,"throw"===hi&&ri.iterator.return&&(Br.method="return",Br.arg=je,wn(ri,Br),"throw"===Br.method)||"return"!==hi&&(Br.method="throw",Br.arg=new TypeError("The iterator does not provide a '"+hi+"' method")),an;var Ii=co(zi,ri.iterator,Br.arg);if("throw"===Ii.type)return Br.method="throw",Br.arg=Ii.arg,Br.delegate=null,an;var pe=Ii.arg;return pe?pe.done?(Br[ri.resultName]=pe.value,Br.next=ri.nextLoc,"return"!==Br.method&&(Br.method="next",Br.arg=je),Br.delegate=null,an):pe:(Br.method="throw",Br.arg=new TypeError("iterator result is not an object"),Br.delegate=null,an)}function Wn(ri){var Br={tryLoc:ri[0]};1 in ri&&(Br.catchLoc=ri[1]),2 in ri&&(Br.finallyLoc=ri[2],Br.afterLoc=ri[3]),this.tryEntries.push(Br)}function fr(ri){var Br=ri.completion||{};Br.type="normal",delete Br.arg,ri.completion=Br}function Ur(ri){this.tryEntries=[{tryLoc:"root"}],ri.forEach(Wn,this),this.reset(!0)}function ni(ri){if(ri||""===ri){var Br=ri[Hr];if(Br)return Br.call(ri);if("function"==typeof ri.next)return ri;if(!isNaN(ri.length)){var hi=-1,zi=function Ii(){for(;++hi<ri.length;)if(qn.call(ri,hi))return Ii.value=ri[hi],Ii.done=!1,Ii;return Ii.value=je,Ii.done=!0,Ii};return zi.next=zi}}throw new TypeError(C(ri)+" is not iterable")}return de.prototype=Et,hr($,"constructor",{value:Et,configurable:!0}),hr(Et,"constructor",{value:de,configurable:!0}),de.displayName=qr(Et,oi,"GeneratorFunction"),It.isGeneratorFunction=function(ri){var Br="function"==typeof ri&&ri.constructor;return!!Br&&(Br===de||"GeneratorFunction"===(Br.displayName||Br.name))},It.mark=function(ri){return Object.setPrototypeOf?Object.setPrototypeOf(ri,Et):(ri.__proto__=Et,qr(ri,oi,"GeneratorFunction")),ri.prototype=Object.create($),ri},It.awrap=function(ri){return{__await:ri}},ge(He.prototype),qr(He.prototype,jr,function(){return this}),It.AsyncIterator=He,It.async=function(ri,Br,hi,zi,Ii){void 0===Ii&&(Ii=Promise);var pe=new He(Ui(ri,Br,hi,zi),Ii);return It.isGeneratorFunction(Br)?pe:pe.next().then(function(oe){return oe.done?oe.value:pe.next()})},ge($),qr($,oi,"Generator"),qr($,Hr,function(){return this}),qr($,"toString",function(){return"[object Generator]"}),It.keys=function(ri){var Br=Object(ri),hi=[];for(var zi in Br)hi.push(zi);return hi.reverse(),function Ii(){for(;hi.length;){var pe=hi.pop();if(pe in Br)return Ii.value=pe,Ii.done=!1,Ii}return Ii.done=!0,Ii}},It.values=ni,Ur.prototype={constructor:Ur,reset:function(Br){if(this.prev=0,this.next=0,this.sent=this._sent=je,this.done=!1,this.delegate=null,this.method="next",this.arg=je,this.tryEntries.forEach(fr),!Br)for(var hi in this)"t"===hi.charAt(0)&&qn.call(this,hi)&&!isNaN(+hi.slice(1))&&(this[hi]=je)},stop:function(){this.done=!0;var Br=this.tryEntries[0].completion;if("throw"===Br.type)throw Br.arg;return this.rval},dispatchException:function(Br){if(this.done)throw Br;var hi=this;function zi(Rt,dn){return oe.type="throw",oe.arg=Br,hi.next=Rt,dn&&(hi.method="next",hi.arg=je),!!dn}for(var Ii=this.tryEntries.length-1;Ii>=0;--Ii){var pe=this.tryEntries[Ii],oe=pe.completion;if("root"===pe.tryLoc)return zi("end");if(pe.tryLoc<=this.prev){var Ue=qn.call(pe,"catchLoc"),gt=qn.call(pe,"finallyLoc");if(Ue&&gt){if(this.prev<pe.catchLoc)return zi(pe.catchLoc,!0);if(this.prev<pe.finallyLoc)return zi(pe.finallyLoc)}else if(Ue){if(this.prev<pe.catchLoc)return zi(pe.catchLoc,!0)}else{if(!gt)throw new Error("try statement without catch or finally");if(this.prev<pe.finallyLoc)return zi(pe.finallyLoc)}}}},abrupt:function(Br,hi){for(var zi=this.tryEntries.length-1;zi>=0;--zi){var Ii=this.tryEntries[zi];if(Ii.tryLoc<=this.prev&&qn.call(Ii,"finallyLoc")&&this.prev<Ii.finallyLoc){var pe=Ii;break}}pe&&("break"===Br||"continue"===Br)&&pe.tryLoc<=hi&&hi<=pe.finallyLoc&&(pe=null);var oe=pe?pe.completion:{};return oe.type=Br,oe.arg=hi,pe?(this.method="next",this.next=pe.finallyLoc,an):this.complete(oe)},complete:function(Br,hi){if("throw"===Br.type)throw Br.arg;return"break"===Br.type||"continue"===Br.type?this.next=Br.arg:"return"===Br.type?(this.rval=this.arg=Br.arg,this.method="return",this.next="end"):"normal"===Br.type&&hi&&(this.next=hi),an},finish:function(Br){for(var hi=this.tryEntries.length-1;hi>=0;--hi){var zi=this.tryEntries[hi];if(zi.finallyLoc===Br)return this.complete(zi.completion,zi.afterLoc),fr(zi),an}},catch:function(Br){for(var hi=this.tryEntries.length-1;hi>=0;--hi){var zi=this.tryEntries[hi];if(zi.tryLoc===Br){var Ii=zi.completion;if("throw"===Ii.type){var pe=Ii.arg;fr(zi)}return pe}}throw new Error("illegal catch attempt")},delegateYield:function(Br,hi,zi){return this.delegate={iterator:ni(Br),resultName:hi,nextLoc:zi},"next"===this.method&&(this.arg=je),an}},It}function x(je,It){var Qt=Object.keys(je);if(Object.getOwnPropertySymbols){var qn=Object.getOwnPropertySymbols(je);It&&(qn=qn.filter(function(hr){return Object.getOwnPropertyDescriptor(je,hr).enumerable})),Qt.push.apply(Qt,qn)}return Qt}function m(je){for(var It=1;It<arguments.length;It++){var Qt=null!=arguments[It]?arguments[It]:{};It%2?x(Object(Qt),!0).forEach(function(qn){E(je,qn,Qt[qn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(je,Object.getOwnPropertyDescriptors(Qt)):x(Object(Qt)).forEach(function(qn){Object.defineProperty(je,qn,Object.getOwnPropertyDescriptor(Qt,qn))})}return je}function E(je,It,Qt){return It=function L(je){var It=function ae(je,It){if("object"!=C(je)||!je)return je;var Qt=je[Symbol.toPrimitive];if(void 0!==Qt){var qn=Qt.call(je,It||"default");if("object"!=C(qn))return qn;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===It?String:Number)(je)}(je,"string");return"symbol"==C(It)?It:String(It)}(It),It in je?Object.defineProperty(je,It,{value:Qt,enumerable:!0,configurable:!0,writable:!0}):je[It]=Qt,je}function U(je,It,Qt,qn,hr,yr,Hr){try{var jr=je[yr](Hr),oi=jr.value}catch(qr){return void Qt(qr)}jr.done?It(oi):Promise.resolve(oi).then(qn,hr)}function Z(je){return function(){var It=this,Qt=arguments;return new Promise(function(qn,hr){var yr=je.apply(It,Qt);function Hr(oi){U(yr,qn,hr,Hr,jr,"next",oi)}function jr(oi){U(yr,qn,hr,Hr,jr,"throw",oi)}Hr(void 0)})}}function ne(je,It){return function z(je){if(Array.isArray(je))return je}(je)||function le(je,It){var Qt=null==je?null:typeof Symbol<"u"&&je[Symbol.iterator]||je["@@iterator"];if(null!=Qt){var qn,hr,yr,Hr,jr=[],oi=!0,qr=!1;try{if(yr=(Qt=Qt.call(je)).next,0===It){if(Object(Qt)!==Qt)return;oi=!1}else for(;!(oi=(qn=yr.call(Qt)).done)&&(jr.push(qn.value),jr.length!==It);oi=!0);}catch(Ui){qr=!0,hr=Ui}finally{try{if(!oi&&null!=Qt.return&&(Hr=Qt.return(),Object(Hr)!==Hr))return}finally{if(qr)throw hr}}return jr}}(je,It)||k(je,It)||function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(je,It){var Qt=typeof Symbol<"u"&&je[Symbol.iterator]||je["@@iterator"];if(!Qt){if(Array.isArray(je)||(Qt=k(je))||It&&je&&"number"==typeof je.length){Qt&&(je=Qt);var qn=0,hr=function(){};return{s:hr,n:function(){return qn>=je.length?{done:!0}:{done:!1,value:je[qn++]}},e:function(qr){throw qr},f:hr}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var jr,yr=!0,Hr=!1;return{s:function(){Qt=Qt.call(je)},n:function(){var qr=Qt.next();return yr=qr.done,qr},e:function(qr){Hr=!0,jr=qr},f:function(){try{!yr&&null!=Qt.return&&Qt.return()}finally{if(Hr)throw jr}}}}function k(je,It){if(je){if("string"==typeof je)return ke(je,It);var Qt=Object.prototype.toString.call(je).slice(8,-1);if("Object"===Qt&&je.constructor&&(Qt=je.constructor.name),"Map"===Qt||"Set"===Qt)return Array.from(je);if("Arguments"===Qt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt))return ke(je,It)}}function ke(je,It){(null==It||It>je.length)&&(It=je.length);for(var Qt=0,qn=new Array(It);Qt<It;Qt++)qn[Qt]=je[Qt];return qn}var Ze=F.error,Ce=F.warn;function Nt(je){return typeof document<"u"&&document.getElementById?document.getElementById(je):null}var Kt=33984,me=35048,ee=34962,fe=34963,ye=35345,Se=35982,Be=36386,yt=35713,qt=35714,Ln=35632,Tt=35633,We=35981,Ve=35718,wt=35721,Y=35971,b=35382,R=35396,T=35398,V=35392,j=35395,h=5126,D=5124,Pn=34067,gr=35866,vr={};function vi(je,It){return vr[It].bindPoint}function So(je,It){return function(Qt){je.uniform1i(It,Qt)}}function yo(je,It){return function(Qt){je.uniform1iv(It,Qt)}}function ts(je,It){return function(Qt){je.uniform2iv(It,Qt)}}function Xo(je,It){return function(Qt){je.uniform3iv(It,Qt)}}function Io(je,It){return function(Qt){je.uniform4iv(It,Qt)}}function io(je,It,Qt,qn){var hr=vi(0,It);return d.isWebGL2(je)?function(yr){var Hr,jr;!yr||F.isTexture(je,yr)?(Hr=yr,jr=null):(Hr=yr.texture,jr=yr.sampler),je.uniform1i(qn,Qt),je.activeTexture(Kt+Qt),je.bindTexture(hr,Hr),je.bindSampler(Qt,jr)}:function(yr){je.uniform1i(qn,Qt),je.activeTexture(Kt+Qt),je.bindTexture(hr,yr)}}function Ci(je,It,Qt,qn,hr){for(var yr=vi(0,It),Hr=new Int32Array(hr),jr=0;jr<hr;++jr)Hr[jr]=Qt+jr;return d.isWebGL2(je)?function(oi){je.uniform1iv(qn,Hr),oi.forEach(function(qr,Ui){var co,Ro;je.activeTexture(Kt+Hr[Ui]),!qr||F.isTexture(je,qr)?(co=qr,Ro=null):(co=qr.texture,Ro=qr.sampler),je.bindSampler(Qt,Ro),je.bindTexture(yr,co)})}:function(oi){je.uniform1iv(qn,Hr),oi.forEach(function(qr,Ui){je.activeTexture(Kt+Hr[Ui]),je.bindTexture(yr,qr)})}}function yi(je,It){return function(Qt){if(Qt.value)switch(je.disableVertexAttribArray(It),Qt.value.length){case 4:je.vertexAttrib4fv(It,Qt.value);break;case 3:je.vertexAttrib3fv(It,Qt.value);break;case 2:je.vertexAttrib2fv(It,Qt.value);break;case 1:je.vertexAttrib1fv(It,Qt.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else je.bindBuffer(ee,Qt.buffer),je.enableVertexAttribArray(It),je.vertexAttribPointer(It,Qt.numComponents||Qt.size,Qt.type||h,Qt.normalize||!1,Qt.stride||0,Qt.offset||0),je.vertexAttribDivisor&&je.vertexAttribDivisor(It,Qt.divisor||0)}}function Yi(je,It){return function(Qt){if(Qt.value){if(je.disableVertexAttribArray(It),4!==Qt.value.length)throw new Error("The length of an integer constant value must be 4!");je.vertexAttrib4iv(It,Qt.value)}else je.bindBuffer(ee,Qt.buffer),je.enableVertexAttribArray(It),je.vertexAttribIPointer(It,Qt.numComponents||Qt.size,Qt.type||D,Qt.stride||0,Qt.offset||0),je.vertexAttribDivisor&&je.vertexAttribDivisor(It,Qt.divisor||0)}}function so(je,It){return function(Qt){if(Qt.value){if(je.disableVertexAttribArray(It),4!==Qt.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");je.vertexAttrib4uiv(It,Qt.value)}else je.bindBuffer(ee,Qt.buffer),je.enableVertexAttribArray(It),je.vertexAttribIPointer(It,Qt.numComponents||Qt.size,Qt.type||5125,Qt.stride||0,Qt.offset||0),je.vertexAttribDivisor&&je.vertexAttribDivisor(It,Qt.divisor||0)}}function Co(je,It,Qt){var qn=Qt.size,hr=Qt.count;return function(yr){je.bindBuffer(ee,yr.buffer);for(var Hr=yr.size||yr.numComponents||qn,jr=Hr/hr,oi=yr.type||h,Ui=vr[oi].size*Hr,co=yr.normalize||!1,Ro=yr.offset||0,mo=Ui/hr,nt=0;nt<hr;++nt)je.enableVertexAttribArray(It+nt),je.vertexAttribPointer(It+nt,jr,oi,co,Ui,Ro+mo*nt),je.vertexAttribDivisor&&je.vertexAttribDivisor(It+nt,yr.divisor||0)}}vr[h]={Type:Float32Array,size:4,setter:function to(je,It){return function(Qt){je.uniform1f(It,Qt)}},arraySetter:function ro(je,It){return function(Qt){je.uniform1fv(It,Qt)}}},vr[35664]={Type:Float32Array,size:8,setter:function wi(je,It){return function(Qt){je.uniform2fv(It,Qt)}},cols:2},vr[35665]={Type:Float32Array,size:12,setter:function _o(je,It){return function(Qt){je.uniform3fv(It,Qt)}},cols:3},vr[35666]={Type:Float32Array,size:16,setter:function Uo(je,It){return function(Qt){je.uniform4fv(It,Qt)}},cols:4},vr[D]={Type:Int32Array,size:4,setter:So,arraySetter:yo},vr[35667]={Type:Int32Array,size:8,setter:ts,cols:2},vr[35668]={Type:Int32Array,size:12,setter:Xo,cols:3},vr[35669]={Type:Int32Array,size:16,setter:Io,cols:4},vr[5125]={Type:Uint32Array,size:4,setter:function Fe(je,It){return function(Qt){je.uniform1ui(It,Qt)}},arraySetter:function _t(je,It){return function(Qt){je.uniform1uiv(It,Qt)}}},vr[36294]={Type:Uint32Array,size:8,setter:function bn(je,It){return function(Qt){je.uniform2uiv(It,Qt)}},cols:2},vr[36295]={Type:Uint32Array,size:12,setter:function xn(je,It){return function(Qt){je.uniform3uiv(It,Qt)}},cols:3},vr[36296]={Type:Uint32Array,size:16,setter:function zn(je,It){return function(Qt){je.uniform4uiv(It,Qt)}},cols:4},vr[35670]={Type:Uint32Array,size:4,setter:So,arraySetter:yo},vr[35671]={Type:Uint32Array,size:8,setter:ts,cols:2},vr[35672]={Type:Uint32Array,size:12,setter:Xo,cols:3},vr[35673]={Type:Uint32Array,size:16,setter:Io,cols:4},vr[35674]={Type:Float32Array,size:32,setter:function ir(je,It){return function(Qt){je.uniformMatrix2fv(It,!1,Qt)}},rows:2,cols:2},vr[35675]={Type:Float32Array,size:48,setter:function Pr(je,It){return function(Qt){je.uniformMatrix3fv(It,!1,Qt)}},rows:3,cols:3},vr[35676]={Type:Float32Array,size:64,setter:function et(je,It){return function(Qt){je.uniformMatrix4fv(It,!1,Qt)}},rows:4,cols:4},vr[35685]={Type:Float32Array,size:32,setter:function $t(je,It){return function(Qt){je.uniformMatrix2x3fv(It,!1,Qt)}},rows:2,cols:3},vr[35686]={Type:Float32Array,size:32,setter:function Tr(je,It){return function(Qt){je.uniformMatrix2x4fv(It,!1,Qt)}},rows:2,cols:4},vr[35687]={Type:Float32Array,size:48,setter:function Vn(je,It){return function(Qt){je.uniformMatrix3x2fv(It,!1,Qt)}},rows:3,cols:2},vr[35688]={Type:Float32Array,size:48,setter:function Si(je,It){return function(Qt){je.uniformMatrix3x4fv(It,!1,Qt)}},rows:3,cols:4},vr[35689]={Type:Float32Array,size:64,setter:function ei(je,It){return function(Qt){je.uniformMatrix4x2fv(It,!1,Qt)}},rows:4,cols:2},vr[35690]={Type:Float32Array,size:64,setter:function Ri(je,It){return function(Qt){je.uniformMatrix4x3fv(It,!1,Qt)}},rows:4,cols:3},vr[35678]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:3553},vr[35680]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:Pn},vr[35679]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:32879},vr[35682]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:3553},vr[36289]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:gr},vr[36292]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:gr},vr[36293]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:Pn},vr[36298]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:3553},vr[36299]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:32879},vr[36300]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:Pn},vr[36303]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:gr},vr[36306]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:3553},vr[36307]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:32879},vr[36308]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:Pn},vr[36311]={Type:null,size:0,setter:io,arraySetter:Ci,bindPoint:gr};var qi={};qi[h]={size:4,setter:yi},qi[35664]={size:8,setter:yi},qi[35665]={size:12,setter:yi},qi[35666]={size:16,setter:yi},qi[D]={size:4,setter:Yi},qi[35667]={size:8,setter:Yi},qi[35668]={size:12,setter:Yi},qi[35669]={size:16,setter:Yi},qi[5125]={size:4,setter:so},qi[36294]={size:8,setter:so},qi[36295]={size:12,setter:so},qi[36296]={size:16,setter:so},qi[35670]={size:4,setter:Yi},qi[35671]={size:8,setter:Yi},qi[35672]={size:12,setter:Yi},qi[35673]={size:16,setter:Yi},qi[35674]={size:4,setter:Co,count:2},qi[35675]={size:9,setter:Co,count:3},qi[35676]={size:16,setter:Co,count:4};var $n=/ERROR:\s*\d+:(\d+)/gi,Ge=/^[ \t]*\n/;function xt(je){var It=0;return Ge.test(je)&&(It=1,je=je.replace(Ge,"")),{lineOffset:It,shaderSource:je}}function rn(je,It){return je.errorCallback(It),je.callback&&setTimeout(function(){je.callback("".concat(It,"\n").concat(je.errors.join("\n")))}),null}function Hn(je,It,Qt,qn){if(qn=qn||Ze,!je.getShaderParameter(Qt,yt)){var yr=je.getShaderInfoLog(Qt),Hr=xt(je.getShaderSource(Qt)),qr="".concat(function un(je){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",Qt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,qn=function he(je){return function Ie(je){if(Array.isArray(je))return ke(je)}(je)||function ue(je){if(typeof Symbol<"u"&&null!=je[Symbol.iterator]||null!=je["@@iterator"])return Array.from(je)}(je)||k(je)||function we(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(It.matchAll($n)),hr=new Map(qn.map(function(yr,Hr){var jr=parseInt(yr[1]),oi=qn[Hr+1];return[jr-1,It.substring(yr.index,oi?oi.index:It.length)]}));return je.split("\n").map(function(yr,Hr){var jr=hr.get(Hr);return"".concat(Hr+1+Qt,": ").concat(yr).concat(jr?"\n\n^^^ ".concat(jr):"")}).join("\n")}(Hr.shaderSource,yr,Hr.lineOffset),"\nError compiling ").concat(d.glEnumToString(je,It),": ").concat(yr);return qn(qr),qr}return""}function Dr(je,It,Qt){var qn,hr,yr;if("function"==typeof It&&(Qt=It,It=void 0),"function"==typeof je)Qt=je,je=void 0;else if(je&&!Array.isArray(je)){var Hr=je;Qt=Hr.errorCallback,je=Hr.attribLocations,qn=Hr.transformFeedbackVaryings,hr=Hr.transformFeedbackMode,yr=Hr.callback}var jr=Qt||Ze,oi=[],qr={errorCallback:function(Ro){oi.push(Ro);for(var mo=arguments.length,nt=new Array(mo>1?mo-1:0),$e=1;$e<mo;$e++)nt[$e-1]=arguments[$e];jr.apply(void 0,[Ro].concat(nt))},transformFeedbackVaryings:qn,transformFeedbackMode:hr,callback:yr,errors:oi},Ui={};return Array.isArray(je)?je.forEach(function(co,Ro){Ui[co]=It?It[Ro]:Ro}):Ui=je||{},qr.attribLocations=Ui,qr}var Qr=["VERTEX_SHADER","FRAGMENT_SHADER"];function Qi(je,It){return It.indexOf("frag")>=0?Ln:It.indexOf("vert")>=0?Tt:void 0}var vo=function(){var It=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(Qt){return setTimeout(Qt,It)})};function Do(je,It,Qt){for(var qn=je.createProgram(),hr=Dr(Qt),yr=hr.attribLocations,Hr=hr.transformFeedbackVaryings,jr=hr.transformFeedbackMode,oi=0;oi<It.length;++oi){var qr=It[oi];if("string"==typeof qr){var Ui=Nt(qr),co=Ui?Ui.text:qr,Ro=je[Qr[oi]];Ui&&Ui.type&&(Ro=Qi(0,Ui.type)||Ro),qr=je.createShader(Ro),je.shaderSource(qr,xt(co).shaderSource),je.compileShader(qr),je.attachShader(qn,qr)}}Object.entries(yr).forEach(function(nt){var $e=ne(nt,2);return je.bindAttribLocation(qn,$e[1],$e[0])});var mo=Hr;return mo&&(mo.attribs&&(mo=mo.attribs),Array.isArray(mo)||(mo=Object.keys(mo)),je.transformFeedbackVaryings(qn,mo,jr||We)),je.linkProgram(qn),qn}function Ao(je,It,Qt,qn,hr){var yr=Dr(Qt,qn,hr),Hr=new Set(It),jr=Do(je,It,yr);function oi(qr,Ui){var co=Rs(qr,Ui,yr.errorCallback);return co&&function Gi(je,It,Qt){var yr,hr=J(je.getAttachedShaders(It));try{for(hr.s();!(yr=hr.n()).done;){var Hr=yr.value;Qt.has(Hr)&&je.deleteShader(Hr)}}catch(jr){hr.e(jr)}finally{hr.f()}je.deleteProgram(It)}(qr,Ui,Hr),co}if(!yr.callback)return oi(je,jr)?void 0:jr;Go(je,jr).then(function(){var qr=oi(je,jr);yr.callback(qr,qr?void 0:jr)})}function Ms(je){return function(It,Qt){for(var qn=arguments.length,hr=new Array(qn>2?qn-2:0),yr=2;yr<qn;yr++)hr[yr-2]=arguments[yr];return new Promise(function(Hr,jr){var oi=Dr.apply(void 0,hr);oi.callback=function(qr,Ui){qr?jr(qr):Hr(Ui)},je(It,Qt,oi)})}}function Go(je,It){return Qo.apply(this,arguments)}function Qo(){return(Qo=Z(N().mark(function je(It,Qt){var qn,hr,yr;return N().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:qn=It.getExtension("KHR_parallel_shader_compile"),hr=qn?function(oi,qr){return oi.getProgramParameter(qr,qn.COMPLETION_STATUS_KHR)}:function(){return!0},yr=0;case 3:return jr.next=5,vo(yr);case 5:yr=16.666666666666668;case 6:if(!hr(It,Qt)){jr.next=3;break}case 7:case"end":return jr.stop()}},je)}))).apply(this,arguments)}function ns(){return(ns=Z(N().mark(function je(It,Qt){var qn,hr,yr;return N().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:qn=0,hr=Object.values(Qt);case 1:if(!(qn<hr.length)){jr.next=8;break}return yr=hr[qn],jr.next=5,Go(It,yr);case 5:qn++,jr.next=1;break;case 8:case"end":return jr.stop()}},je)}))).apply(this,arguments)}function Rs(je,It,Qt){if(Qt=Qt||Ze,!je.getProgramParameter(It,qt)){var hr=je.getProgramInfoLog(It);Qt("Error in program linking: ".concat(hr));var Hr=je.getAttachedShaders(It).map(function(jr){return Hn(je,je.getShaderParameter(jr,je.SHADER_TYPE),jr,Qt)});return"".concat(hr,"\n").concat(Hr.filter(function(jr){return jr}).join("\n"))}}function sr(je,It,Qt,qn,hr){return Ao(je,It,Qt,qn,hr)}function Lr(je){var It=je.name;return It.startsWith("gl_")||It.startsWith("webgl_")}S.createProgramAsync=Ms(Ao),S.createProgramInfoAsync=Ms(Ir);var gi=/(\.|\[|]|\w+)/g,Ei=function(It){return It>="0"&&It<="9"};function Fi(je,It,Qt,qn){for(var hr=je.split(gi).filter(function(nt){return""!==nt}),yr=0,Hr="";;){var jr=hr[yr++];Hr+=jr;var oi=Ei(jr[0]),qr=oi?parseInt(jr):jr;if(oi&&(Hr+=hr[yr++]),yr===hr.length){Qt[qr]=It;break}var co=hr[yr++],mo=Qt[qr]||("["===co?[]:{});Qt[qr]=mo,Qt=mo,qn[Hr]=qn[Hr]||function(nt){return function($e){Ds(nt,$e)}}(mo),Hr+=co}}function Wi(je,It){var Qt=0;function qn(Ro,mo,nt){var de,$e=mo.name.endsWith("[0]"),an=mo.type,at=vr[an];if(!at)throw new Error("unknown type: 0x".concat(an.toString(16)));if(at.bindPoint){var Et=Qt;Qt+=mo.size,de=$e?at.arraySetter(je,an,Et,nt,mo.size):at.setter(je,an,Et,nt,mo.size)}else de=at.arraySetter&&$e?at.arraySetter(je,nt):at.setter(je,nt);return de.location=nt,de}for(var hr={},yr={},Hr=je.getProgramParameter(It,Ve),jr=0;jr<Hr;++jr){var oi=je.getActiveUniform(It,jr);if(!Lr(oi)){var qr=oi.name;qr.endsWith("[0]")&&(qr=qr.substr(0,qr.length-3));var Ui=je.getUniformLocation(It,oi.name);if(Ui){var co=qn(0,oi,Ui);hr[qr]=co,Fi(qr,co,yr,hr)}}}return hr}function ho(je,It){for(var Qt={},qn=je.getProgramParameter(It,Y),hr=0;hr<qn;++hr){var yr=je.getTransformFeedbackVarying(It,hr);Qt[yr.name]={index:hr,type:yr.type,size:yr.size}}return Qt}function Bi(je,It,Qt){for(var qn in It.transformFeedbackInfo&&(It=It.transformFeedbackInfo),Qt.attribs&&(Qt=Qt.attribs),Qt){var hr=It[qn];if(hr){var yr=Qt[qn];yr.offset?je.bindBufferRange(Se,hr.index,yr.buffer,yr.offset,yr.size):je.bindBufferBase(Se,hr.index,yr.buffer)}}}function ls(je,It){for(var Qt=je.getProgramParameter(It,Ve),qn=[],hr=[],yr=0;yr<Qt;++yr){hr.push(yr),qn.push({});var Hr=je.getActiveUniform(It,yr);qn[yr].name=Hr.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(Ro){var nt=Ro[1];je.getActiveUniforms(It,hr,je[Ro[0]]).forEach(function($e,an){qn[an][nt]=$e})});for(var jr={},oi=je.getProgramParameter(It,b),qr=0;qr<oi;++qr){var Ui=je.getActiveUniformBlockName(It,qr),co={index:je.getUniformBlockIndex(It,Ui),usedByVertexShader:je.getActiveUniformBlockParameter(It,qr,R),usedByFragmentShader:je.getActiveUniformBlockParameter(It,qr,T),size:je.getActiveUniformBlockParameter(It,qr,V),uniformIndices:je.getActiveUniformBlockParameter(It,qr,j)};co.used=co.usedByVertexShader||co.usedByFragmentShader,jr[Ui]=co}return{blockSpecs:jr,uniformData:qn}}var Ls=/\[\d+\]\.$/,ys=function(It,Qt){return((It+(Qt-1))/Qt|0)*Qt};function qo(je,It,Qt,qn){var yr=Qt.uniformData,Hr=Qt.blockSpecs[qn];if(!Hr)return Ce("no uniform block object named:",qn),{name:qn,uniforms:{}};var jr=new ArrayBuffer(Hr.size),oi=je.createBuffer(),qr=Hr.index;je.bindBuffer(ye,oi),je.uniformBlockBinding(It,Hr.index,qr);var Ui=qn+".";Ls.test(Ui)&&(Ui=Ui.replace(Ls,"."));var co={},Ro={},mo={};return Hr.uniformIndices.forEach(function(nt){var $e=yr[nt],an=$e.name;an.startsWith(Ui)&&(an=an.substr(Ui.length));var at=an.endsWith("[0]");at&&(an=an.substr(0,an.length-3));var de=vr[$e.type],Et=de.Type,on=at?ys(de.size,16)*$e.size:de.size*$e.size,Kn=new Et(jr,$e.offset,on/Et.BYTES_PER_ELEMENT);co[an]=Kn;var ht=function Os(je,It,Qt,qn){if(It||Qt){qn=qn||1;var yr=je.length/4;return function(Hr){for(var jr=0,oi=0,qr=0;qr<yr;++qr){for(var Ui=0;Ui<qn;++Ui)je[jr++]=Hr[oi++];jr+=4-qn}}}return function(Hr){Hr.length?je.set(Hr):je[0]=Hr}}(Kn,at,de.rows,de.cols);Ro[an]=ht,Fi(an,ht,mo,Ro)}),{name:qn,array:jr,asFloat:new Float32Array(jr),buffer:oi,uniforms:co,setters:Ro}}function Fo(je,It,Qt){var hr=(It.uniformBlockSpec||It).blockSpecs[Qt.name];return!!hr&&(je.bindBufferRange(ye,hr.index,Qt.buffer,Qt.offset||0,Qt.array.byteLength),!0)}function Ds(je,It){for(var Qt in It){var qn=je[Qt];"function"==typeof qn?qn(It[Qt]):Ds(je[Qt],It[Qt])}}function zs(je){for(var It=je.uniformSetters||je,Qt=arguments.length<=1?0:arguments.length-1,qn=0;qn<Qt;++qn){var hr=qn+1<1||arguments.length<=qn+1?void 0:arguments[qn+1];if(Array.isArray(hr))for(var yr=hr.length,Hr=0;Hr<yr;++Hr)zs(It,hr[Hr]);else for(var jr in hr){var oi=It[jr];oi&&oi(hr[jr])}}}function cs(je,It){for(var Qt={},qn=je.getProgramParameter(It,wt),hr=0;hr<qn;++hr){var yr=je.getActiveAttrib(It,hr);if(!Lr(yr)){var Hr=je.getAttribLocation(It,yr.name),jr=qi[yr.type],oi=jr.setter(je,Hr,jr);oi.location=Hr,Qt[yr.name]=oi}}return Qt}function ua(je,It){for(var Qt in It){var qn=je[Qt];qn&&qn(It[Qt])}}function lr(je,It){var hr={program:It,uniformSetters:Wi(je,It),attribSetters:cs(je,It)};return d.isWebGL2(je)&&(hr.uniformBlockSpec=ls(je,It),hr.transformFeedbackInfo=ho(je,It)),hr}S.setUniformsAndBindTextures=zs;var mr=/\s|{|}|;/;function Ir(je,It,Qt,qn,hr){var yr=Dr(Qt,qn,hr),Hr=[];if(It=It.map(function(qr){if(!mr.test(qr)){var Ui=Nt(qr);if(Ui)qr=Ui.text;else{var co="no element with id: ".concat(qr);yr.errorCallback(co),Hr.push(co)}}return qr}),Hr.length)return rn(yr,"");var jr=yr.callback;jr&&(yr.callback=function(qr,Ui){jr(qr,qr?void 0:lr(je,Ui))});var oi=sr(je,It,yr);return oi?lr(je,oi):null}function Ai(je,It,Qt,qn,hr){for(var yr=0,Hr=Object.entries(It);yr<Hr.length;yr++){var jr=ne(Hr[yr],2),oi=jr[0],qr=jr[1],Ui=m({},hr),co=Qt[oi];Array.isArray(co)||Object.assign(Ui,co);var Ro=Rs(je,qr,Ui.errorCallback);if(Ro){for(var mo=0,nt=Object.values(It);mo<nt.length;mo++){var $e=nt[mo],an=je.getAttachedShaders($e);je.deleteProgram($e);var de,at=J(an);try{for(at.s();!(de=at.n()).done;){var Et=de.value;qn.has(Et)||je.deleteShader(Et)}}catch(on){at.e(on)}finally{at.f()}}return Ro}}}function tt(je,It){var Qt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},qn=new Set,hr=Object.fromEntries(Object.entries(It).map(function(Hr){var jr=ne(Hr,2),oi=jr[0],qr=jr[1],Ui=m({},Qt),co=Array.isArray(qr)?qr:qr.shaders;return Array.isArray(qr)||Object.assign(Ui,qr),co.forEach(qn.add,qn),[oi,Do(je,co,Ui)]}));if(!Qt.callback)return Ai(je,hr,It,qn,Qt)?void 0:hr;(function os(je,It){return ns.apply(this,arguments)})(je,hr).then(function(){var Hr=Ai(je,hr,It,qn,Qt);Qt.callback(Hr,Hr?void 0:hr)})}function gn(je,It,Qt){function qn(Hr,jr){return Object.fromEntries(Object.entries(jr).map(function(oi){var qr=ne(oi,2);return[qr[0],lr(Hr,qr[1])]}))}var hr=(Qt=Dr(Qt)).callback;hr&&(Qt.callback=function(Hr,jr){hr(Hr,Hr?void 0:qn(je,jr))});var yr=tt(je,It,Qt);if(!hr&&yr)return qn(je,yr)}S.createProgramsAsync=Ms(tt),S.createProgramInfosAsync=Ms(gn)},"./src/textures.js":
/*!*************************!*\
                !*** ./src/textures.js ***!
                \*************************/(v,S,M)=>{function C(Jn){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(lr){return typeof lr}:function(lr){return lr&&"function"==typeof Symbol&&lr.constructor===Symbol&&lr!==Symbol.prototype?"symbol":typeof lr})(Jn)}S.__esModule=!0,S.canFilter=vo,S.canGenerateMipmap=Gi,S.createSampler=rr,S.createSamplers=function sr(Jn,lr){var mr={};return Object.keys(lr).forEach(function(Ir){mr[Ir]=rr(Jn,lr[Ir])}),mr},S.createTexture=zs,S.createTextures=function ua(Jn,lr,mr){mr=mr||Bi;var Ir=0,Ai=[],tt={},gn={};function jt(){0===Ir&&setTimeout(function(){mr(Ai.length?Ai:void 0,tt,gn)},0)}return Object.keys(lr).forEach(function(cn){var It,je=lr[cn];(function cs(Jn){return"string"==typeof Jn||Array.isArray(Jn)&&"string"==typeof Jn[0]})(je.src)&&(It=function(qn,hr,yr){gn[cn]=yr,--Ir,qn&&Ai.push(qn),jt()},++Ir),tt[cn]=zs(Jn,je,It)}),jt(),tt},S.getBytesPerElementForInternalFormat=Dr,S.getFormatAndTypeForInternalFormat=Qr,S.getNumComponentsForFormat=function Do(Jn){var lr=Ge[Jn];if(!lr)throw"unknown format: "+Jn;return lr.numColorComponents},S.loadTextureFromUrl=Hs,S.resizeTexture=function Ts(Jn,lr,mr,Ir,Ai,tt){Ir=Ir||mr.width,Ai=Ai||mr.height,tt=tt||mr.depth;var gn=mr.target||k;Jn.bindTexture(gn,lr);var Qt,jt=mr.level||0,cn=mr.internalFormat||mr.format||Z,je=Qr(cn),It=mr.format||je.format,qn=mr.src;if(Qt=qn&&(E(qn)||Array.isArray(qn)&&"number"==typeof qn[0])?mr.type||Ao(0,qn,je.type):mr.type||je.type,gn===ue)for(var hr=0;hr<6;++hr)Jn.texImage2D(Ze+hr,jt,cn,Ir,Ai,0,It,Qt,null);else gn===Ie||gn===ke?Jn.texImage3D(gn,jt,cn,Ir,Ai,tt,0,It,Qt,null):Jn.texImage2D(gn,jt,cn,Ir,Ai,0,It,Qt,null)},S.setDefaultTextureColor=Ks,S.setEmptyTexture=Ds,S.setSamplerParameters=Rs,S.setTextureDefaults_=function ms(Jn){P.copyExistingProperties(Jn,m),Jn.textureColor&&Ks(Jn.textureColor)},S.setTextureFilteringForSize=gi,S.setTextureFromArray=oa,S.setTextureFromElement=ho,S.setTextureParameters=ns;var d=N(M(
/*! ./utils.js */
"./src/utils.js")),F=N(M(
/*! ./typedarrays.js */
"./src/typedarrays.js")),P=N(M(
/*! ./helper.js */
"./src/helper.js"));function G(Jn){if("function"!=typeof WeakMap)return null;var lr=new WeakMap,mr=new WeakMap;return(G=function(Ai){return Ai?mr:lr})(Jn)}function N(Jn,lr){if(!lr&&Jn&&Jn.__esModule)return Jn;if(null===Jn||"object"!=C(Jn)&&"function"!=typeof Jn)return{default:Jn};var mr=G(lr);if(mr&&mr.has(Jn))return mr.get(Jn);var Ir={__proto__:null},Ai=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var tt in Jn)if("default"!==tt&&Object.prototype.hasOwnProperty.call(Jn,tt)){var gn=Ai?Object.getOwnPropertyDescriptor(Jn,tt):null;gn&&(gn.get||gn.set)?Object.defineProperty(Ir,tt,gn):Ir[tt]=Jn[tt]}return Ir.default=Jn,mr&&mr.set(Jn,Ir),Ir}var rn,m={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},E=F.isArrayBuffer,L=function(){var Jn;return function(){return Jn=Jn||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null)}}(),ae=6406,U=6407,Z=6408,ne=6409,q=6410,le=6402,z=34041,J=33071,he=9728,we=9729,k=3553,ue=34067,Ie=32879,ke=35866,Ze=34069,Ce=34070,Nt=34071,Kt=34072,me=34073,ee=34074,fe=10241,ye=10240,Se=10242,Be=10243,yt=32882,qt=33082,Ln=33083,Tt=33084,We=33085,Ve=34892,wt=34893,Y=3317,b=3314,R=32878,T=3316,V=3315,j=32877,h=37443,I=37441,xe=37440,ie=33321,D=36756,K=33325,se=33326,Le=33330,ct=33329,ut=33338,en=33337,Oe=33340,Pt=33339,it=33323,Bt=36757,pn=33327,st=33328,mt=33336,Ut=33335,Ne=33332,zt=33331,Zt=33334,Cn=33333,Zn=32849,br=35905,Mr=36194,yn=36758,St=35898,kt=35901,Mt=34843,bt=34837,sn=36221,Yt=36239,Qe=36215,Lt=36233,Mn=36209,vt=36227,ze=32856,nn=35907,Ye=36759,At=32855,Pn=32854,Yn=32857,gr=34842,vr=34836,vi=36220,to=36238,ro=36975,wi=36214,_o=36232,Uo=36226,So=36208,yo=33189,ts=33190,Xo=36012,Io=36013,Fe=35056,_t=5120,bn=5121,xn=5122,zn=5123,ir=5124,Pr=5125,et=5126,$t=32819,Vn=32820,Tr=33635,ei=5131,Si=36193,Ri=33640,io=35899,Ci=35902,yi=36269,Yi=34042,so=33319,Co=33320,qi=6403,jo=36244,$n=36248,un=36249,Ge={},xt=Ge;function Hn(Jn){if(!rn){var lr={};lr[ae]={textureFormat:ae,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[bn,ei,Si,et]},lr[ne]={textureFormat:ne,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[bn,ei,Si,et]},lr[q]={textureFormat:q,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[bn,ei,Si,et]},lr[U]={textureFormat:U,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[bn,ei,Si,et,Tr]},lr[Z]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[bn,ei,Si,et,$t,Vn]},lr[le]={textureFormat:le,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Pr,zn]},lr[ie]={textureFormat:qi,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[bn]},lr[D]={textureFormat:qi,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[_t]},lr[K]={textureFormat:qi,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[et,ei]},lr[se]={textureFormat:qi,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[et]},lr[Le]={textureFormat:jo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[bn]},lr[ct]={textureFormat:jo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[_t]},lr[Ne]={textureFormat:jo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[zn]},lr[zt]={textureFormat:jo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[xn]},lr[Zt]={textureFormat:jo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Pr]},lr[Cn]={textureFormat:jo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ir]},lr[it]={textureFormat:so,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[bn]},lr[Bt]={textureFormat:so,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[_t]},lr[pn]={textureFormat:so,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[et,ei]},lr[st]={textureFormat:so,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[et]},lr[mt]={textureFormat:Co,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[bn]},lr[Ut]={textureFormat:Co,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[_t]},lr[ut]={textureFormat:Co,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[zn]},lr[en]={textureFormat:Co,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xn]},lr[Oe]={textureFormat:Co,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Pr]},lr[Pt]={textureFormat:Co,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[ir]},lr[Zn]={textureFormat:U,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[bn]},lr[br]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[bn]},lr[Mr]={textureFormat:U,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[bn,Tr]},lr[yn]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[_t]},lr[St]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[et,ei,io]},lr[kt]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[et,ei,Ci]},lr[Mt]={textureFormat:U,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[et,ei]},lr[bt]={textureFormat:U,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[et]},lr[sn]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[bn]},lr[Yt]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[_t]},lr[Qe]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[zn]},lr[Lt]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[xn]},lr[Mn]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Pr]},lr[vt]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[ir]},lr[ze]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[bn]},lr[nn]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[bn]},lr[Ye]={textureFormat:Z,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[_t]},lr[At]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[bn,Vn,Ri]},lr[Pn]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[bn,$t]},lr[Yn]={textureFormat:Z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ri]},lr[gr]={textureFormat:Z,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[et,ei]},lr[vr]={textureFormat:Z,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[et]},lr[vi]={textureFormat:un,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[bn]},lr[to]={textureFormat:un,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_t]},lr[ro]={textureFormat:un,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ri]},lr[wi]={textureFormat:un,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[zn]},lr[_o]={textureFormat:un,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xn]},lr[Uo]={textureFormat:un,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[ir]},lr[So]={textureFormat:un,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Pr]},lr[yo]={textureFormat:le,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[zn,Pr]},lr[ts]={textureFormat:le,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Pr]},lr[Xo]={textureFormat:le,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[et]},lr[Fe]={textureFormat:z,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Yi]},lr[Io]={textureFormat:z,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[yi]},Object.keys(lr).forEach(function(mr){var Ir=lr[mr];Ir.bytesPerElementMap={},Ir.bytesPerElement.forEach(function(Ai,tt){Ir.bytesPerElementMap[Ir.type[tt]]=Ai})}),rn=lr}return rn[Jn]}function Dr(Jn,lr){var mr=Hn(Jn);if(!mr)throw"unknown internal format";var Ir=mr.bytesPerElementMap[lr];if(void 0===Ir)throw"unknown internal format";return Ir}function Qr(Jn){var lr=Hn(Jn);if(!lr)throw"unknown internal format";return{format:lr.textureFormat,type:lr.type[0]}}function Qi(Jn){return!(Jn&Jn-1)}function Gi(Jn,lr,mr,Ir){if(!d.isWebGL2(Jn))return Qi(lr)&&Qi(mr);var Ai=Hn(Ir);if(!Ai)throw"unknown internal format";return Ai.colorRenderable&&Ai.textureFilterable}function vo(Jn){var lr=Hn(Jn);if(!lr)throw"unknown internal format";return lr.textureFilterable}function Ao(Jn,lr,mr){return E(lr)?F.getGLTypeForTypedArray(lr):mr||bn}function Ms(Jn,lr,mr,Ir,Ai){if(Ai%1!=0)throw"can't guess dimensions";if(mr||Ir){if(Ir){if(!mr&&(mr=Ai/Ir)%1)throw"can't guess dimensions"}else if((Ir=Ai/mr)%1)throw"can't guess dimensions"}else{var tt=Math.sqrt(Ai/(lr===ue?6:1));tt%1==0?(mr=tt,Ir=tt):(mr=Ai,Ir=1)}return{width:mr,height:Ir}}function Ks(Jn){m.textureColor=new Uint8Array([255*Jn[0],255*Jn[1],255*Jn[2],255*Jn[3]])}function Go(Jn,lr){void 0!==lr.colorspaceConversion&&Jn.pixelStorei(h,lr.colorspaceConversion),void 0!==lr.premultiplyAlpha&&Jn.pixelStorei(I,lr.premultiplyAlpha),void 0!==lr.flipY&&Jn.pixelStorei(xe,lr.flipY)}function Qo(Jn){Jn.pixelStorei(Y,4),d.isWebGL2(Jn)&&(Jn.pixelStorei(b,0),Jn.pixelStorei(R,0),Jn.pixelStorei(T,0),Jn.pixelStorei(V,0),Jn.pixelStorei(j,0))}function os(Jn,lr,mr,Ir){Ir.minMag&&(mr.call(Jn,lr,fe,Ir.minMag),mr.call(Jn,lr,ye,Ir.minMag)),Ir.min&&mr.call(Jn,lr,fe,Ir.min),Ir.mag&&mr.call(Jn,lr,ye,Ir.mag),Ir.wrap&&(mr.call(Jn,lr,Se,Ir.wrap),mr.call(Jn,lr,Be,Ir.wrap),(lr===Ie||P.isSampler(Jn,lr))&&mr.call(Jn,lr,yt,Ir.wrap)),Ir.wrapR&&mr.call(Jn,lr,yt,Ir.wrapR),Ir.wrapS&&mr.call(Jn,lr,Se,Ir.wrapS),Ir.wrapT&&mr.call(Jn,lr,Be,Ir.wrapT),void 0!==Ir.minLod&&mr.call(Jn,lr,qt,Ir.minLod),void 0!==Ir.maxLod&&mr.call(Jn,lr,Ln,Ir.maxLod),void 0!==Ir.baseLevel&&mr.call(Jn,lr,Tt,Ir.baseLevel),void 0!==Ir.maxLevel&&mr.call(Jn,lr,We,Ir.maxLevel),void 0!==Ir.compareFunc&&mr.call(Jn,lr,wt,Ir.compareFunc),void 0!==Ir.compareMode&&mr.call(Jn,lr,Ve,Ir.compareMode)}function ns(Jn,lr,mr){var Ir=mr.target||k;Jn.bindTexture(Ir,lr),os(Jn,Ir,Jn.texParameteri,mr)}function Rs(Jn,lr,mr){os(Jn,lr,Jn.samplerParameteri,mr)}function rr(Jn,lr){var mr=Jn.createSampler();return Rs(Jn,mr,lr),mr}function gi(Jn,lr,mr,Ir,Ai,tt){tt=tt||Z;var gn=(mr=mr||m.textureOptions).target||k;if(Ir=Ir||mr.width,Ai=Ai||mr.height,Jn.bindTexture(gn,lr),Gi(Jn,Ir,Ai,tt))Jn.generateMipmap(gn);else{var jt=vo(tt)?we:he;Jn.texParameteri(gn,fe,jt),Jn.texParameteri(gn,ye,jt),Jn.texParameteri(gn,Se,J),Jn.texParameteri(gn,Be,J)}}function Ei(Jn){return!0===Jn.auto||void 0===Jn.auto&&void 0===Jn.level}function Fi(Jn,lr){return(lr=lr||{}).cubeFaceOrder||[Ze,Ce,Nt,Kt,me,ee]}function Wi(Jn,lr){var Ir=Fi(0,lr).map(function(Ai,tt){return{face:Ai,ndx:tt}});return Ir.sort(function(Ai,tt){return Ai.face-tt.face}),Ir}function ho(Jn,lr,mr,Ir){var Ai=(Ir=Ir||m.textureOptions).target||k,tt=Ir.level||0,gn=mr.width,jt=mr.height,cn=Ir.internalFormat||Ir.format||Z,je=Qr(cn),It=Ir.format||je.format,Qt=Ir.type||je.type;if(Go(Jn,Ir),Jn.bindTexture(Ai,lr),Ai===ue){var yr,Hr,qn=mr.width,hr=mr.height;if(qn/6===hr)yr=hr,Hr=[0,0,1,0,2,0,3,0,4,0,5,0];else if(hr/6===qn)yr=qn,Hr=[0,0,0,1,0,2,0,3,0,4,0,5];else if(qn/3==hr/2)yr=qn/3,Hr=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(qn/2!=hr/3)throw"can't figure out cube map from element: "+(mr.src?mr.src:mr.nodeName);yr=qn/2,Hr=[0,0,1,0,0,1,1,1,0,2,1,2]}var jr=L();jr?(jr.canvas.width=yr,jr.canvas.height=yr,gn=yr,jt=yr,Wi(0,Ir).forEach(function(an){jr.drawImage(mr,Hr[2*an.ndx+0]*yr,Hr[2*an.ndx+1]*yr,yr,yr,0,0,yr,yr),Jn.texImage2D(an.face,tt,cn,It,Qt,jr.canvas)}),jr.canvas.width=1,jr.canvas.height=1):typeof createImageBitmap<"u"&&(gn=yr,jt=yr,Wi(0,Ir).forEach(function(an){var at=Hr[2*an.ndx+0]*yr,de=Hr[2*an.ndx+1]*yr;Jn.texImage2D(an.face,tt,cn,yr,yr,0,It,Qt,null),createImageBitmap(mr,at,de,yr,yr,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(Et){Go(Jn,Ir),Jn.bindTexture(Ai,lr),Jn.texImage2D(an.face,tt,cn,It,Qt,Et),Ei(Ir)&&gi(Jn,lr,Ir,gn,jt,cn)})}))}else if(Ai===Ie||Ai===ke){var oi=Math.min(mr.width,mr.height),qr=Math.max(mr.width,mr.height),Ui=qr/oi;if(Ui%1!=0)throw"can not compute 3D dimensions of element";var co=mr.width===qr?1:0,Ro=mr.height===qr?1:0;Jn.pixelStorei(Y,1),Jn.pixelStorei(b,mr.width),Jn.pixelStorei(R,0),Jn.pixelStorei(j,0),Jn.texImage3D(Ai,tt,cn,oi,oi,oi,0,It,Qt,null);for(var mo=0;mo<Ui;++mo){var $e=mo*oi*Ro;Jn.pixelStorei(T,mo*oi*co),Jn.pixelStorei(V,$e),Jn.texSubImage3D(Ai,tt,0,0,mo,oi,oi,1,It,Qt,mr)}Qo(Jn)}else Jn.texImage2D(Ai,tt,cn,It,Qt,mr);Ei(Ir)&&gi(Jn,lr,Ir,gn,jt,cn),ns(Jn,lr,Ir)}function Bi(){}function ys(Jn){return typeof ImageBitmap<"u"&&Jn instanceof ImageBitmap||typeof ImageData<"u"&&Jn instanceof ImageData||typeof HTMLElement<"u"&&Jn instanceof HTMLElement}function Os(Jn,lr,mr){return ys(Jn)?(setTimeout(function(){mr(null,Jn)}),Jn):function Ls(Jn,lr,mr){var Ir;if(mr=mr||Bi,lr=function ls(Jn,lr){return void 0!==lr||function ko(Jn){if(typeof document<"u"){var lr=document.createElement("a");return lr.href=Jn,lr.hostname===location.hostname&&lr.port===location.port&&lr.protocol===location.protocol}var mr=new URL(location.href).origin;return new URL(Jn,location.href).origin===mr}(Jn)?lr:"anonymous"}(Jn,lr=void 0!==lr?lr:m.crossOrigin),typeof Image<"u"){Ir=new Image,void 0!==lr&&(Ir.crossOrigin=lr);var Ai=function(){Ir.removeEventListener("error",tt),Ir.removeEventListener("load",gn),Ir=null},tt=function(){var qn="couldn't load image: "+Jn;P.error(qn),mr(qn,Ir),Ai()},gn=function(){mr(null,Ir),Ai()};return Ir.addEventListener("error",tt),Ir.addEventListener("load",gn),Ir.src=Jn,Ir}if(typeof ImageBitmap<"u"){var jt,cn,je=function(){mr(jt,cn)},It={};lr&&(It.mode="cors"),fetch(Jn,It).then(function(Qt){if(!Qt.ok)throw Qt;return Qt.blob()}).then(function(Qt){return createImageBitmap(Qt,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(Qt){cn=Qt,setTimeout(je)}).catch(function(Qt){jt=Qt,setTimeout(je)}),Ir=null}return Ir}(Jn,lr,mr)}function qo(Jn,lr,mr){var Ir=(mr=mr||m.textureOptions).target||k;if(Jn.bindTexture(Ir,lr),!1!==mr.color){var Ai=function Lr(Jn){return E(Jn=Jn||m.textureColor)?Jn:new Uint8Array([255*Jn[0],255*Jn[1],255*Jn[2],255*Jn[3]])}(mr.color);if(Ir===ue)for(var tt=0;tt<6;++tt)Jn.texImage2D(Ze+tt,0,Z,1,1,0,Z,bn,Ai);else Ir===Ie||Ir===ke?Jn.texImage3D(Ir,0,Z,1,1,1,0,Z,bn,Ai):Jn.texImage2D(Ir,0,Z,1,1,0,Z,bn,Ai)}}function Hs(Jn,lr,mr,Ir){return Ir=Ir||Bi,qo(Jn,lr,mr=mr||m.textureOptions),Os((mr=Object.assign({},mr)).src,mr.crossOrigin,function(tt,gn){tt?Ir(tt,lr,gn):(ho(Jn,lr,gn,mr),Ir(null,lr,gn))})}function oa(Jn,lr,mr,Ir){var Ai=(Ir=Ir||m.textureOptions).target||k;Jn.bindTexture(Ai,lr);var tt=Ir.width,gn=Ir.height,jt=Ir.depth,cn=Ir.level||0,je=Ir.internalFormat||Ir.format||Z,It=Qr(je),Qt=Ir.format||It.format,qn=Ir.type||Ao(0,mr,It.type);if(E(mr))mr instanceof Uint8ClampedArray&&(mr=new Uint8Array(mr.buffer));else{var hr=F.getTypedArrayTypeForGLType(qn);mr=new hr(mr)}var jr,yr=Dr(je,qn),Hr=mr.byteLength/yr;if(Hr%1)throw"length wrong size for format: "+d.glEnumToString(Jn,Qt);if(Ai===Ie||Ai===ke)if(tt||gn||jt)!tt||gn&&jt?!gn||tt&&jt?(jr=Ms(0,Ai,tt,gn,Hr/jt),tt=jr.width,gn=jr.height):(jr=Ms(0,Ai,tt,jt,Hr/gn),tt=jr.width,jt=jr.height):(jr=Ms(0,Ai,gn,jt,Hr/tt),gn=jr.width,jt=jr.height);else{var oi=Math.cbrt(Hr);if(oi%1!=0)throw"can't guess cube size of array of numElements: "+Hr;tt=oi,gn=oi,jt=oi}else jr=Ms(0,Ai,tt,gn,Hr),tt=jr.width,gn=jr.height;if(Qo(Jn),Jn.pixelStorei(Y,Ir.unpackAlignment||1),Go(Jn,Ir),Ai===ue){var Ui=Hr/6*(yr/mr.BYTES_PER_ELEMENT);Wi(0,Ir).forEach(function(co){var Ro=Ui*co.ndx,mo=mr.subarray(Ro,Ro+Ui);Jn.texImage2D(co.face,cn,je,tt,gn,0,Qt,qn,mo)})}else Ai===Ie||Ai===ke?Jn.texImage3D(Ai,cn,je,tt,gn,jt,0,Qt,qn,mr):Jn.texImage2D(Ai,cn,je,tt,gn,0,Qt,qn,mr);return{width:tt,height:gn,depth:jt,type:qn}}function Ds(Jn,lr,mr){var Ir=mr.target||k;Jn.bindTexture(Ir,lr);var Ai=mr.level||0,tt=mr.internalFormat||mr.format||Z,gn=Qr(tt),jt=mr.format||gn.format,cn=mr.type||gn.type;if(Go(Jn,mr),Ir===ue)for(var je=0;je<6;++je)Jn.texImage2D(Ze+je,Ai,tt,mr.width,mr.height,0,jt,cn,null);else Ir===Ie||Ir===ke?Jn.texImage3D(Ir,Ai,tt,mr.width,mr.height,mr.depth,0,jt,cn,null):Jn.texImage2D(Ir,Ai,tt,mr.width,mr.height,0,jt,cn,null)}function zs(Jn,lr,mr){mr=mr||Bi,lr=lr||m.textureOptions;var Ir=Jn.createTexture(),Ai=lr.target||k,tt=lr.width||1,gn=lr.height||1,jt=lr.internalFormat||Z;Jn.bindTexture(Ai,Ir),Ai===ue&&(Jn.texParameteri(Ai,Se,J),Jn.texParameteri(Ai,Be,J));var cn=lr.src;if(cn)if("function"==typeof cn&&(cn=cn(Jn,lr)),"string"==typeof cn)Hs(Jn,Ir,lr,mr);else if(E(cn)||Array.isArray(cn)&&("number"==typeof cn[0]||Array.isArray(cn[0])||E(cn[0]))){var je=oa(Jn,Ir,cn,lr);tt=je.width,gn=je.height}else Array.isArray(cn)&&("string"==typeof cn[0]||ys(cn[0]))?Ai===ue?function Fo(Jn,lr,mr,Ir){Ir=Ir||Bi;var Ai=mr.src;if(6!==Ai.length)throw"there must be 6 urls for a cubemap";var tt=mr.level||0,gn=mr.internalFormat||mr.format||Z,jt=Qr(gn),cn=mr.format||jt.format,je=mr.type||bn,It=mr.target||k;if(It!==ue)throw"target must be TEXTURE_CUBE_MAP";qo(Jn,lr,mr),mr=Object.assign({},mr);var yr,Qt=6,qn=[],hr=Fi(0,mr);yr=Ai.map(function(jr,oi){return Os(jr,mr.crossOrigin,function Hr(jr){return function(oi,qr){--Qt,oi?qn.push(oi):qr.width!==qr.height?qn.push("cubemap face img is not a square: "+qr.src):(Go(Jn,mr),Jn.bindTexture(It,lr),5===Qt?Fi().forEach(function(Ui){Jn.texImage2D(Ui,tt,gn,cn,je,qr)}):Jn.texImage2D(jr,tt,gn,cn,je,qr),Ei(mr)&&Jn.generateMipmap(It)),0===Qt&&Ir(qn.length?qn:void 0,lr,yr)}}(hr[oi]))})}(Jn,Ir,lr,mr):function pa(Jn,lr,mr,Ir){Ir=Ir||Bi;var Ai=mr.src,tt=mr.internalFormat||mr.format||Z,gn=Qr(tt),jt=mr.format||gn.format,cn=mr.type||bn,je=mr.target||ke;if(je!==Ie&&je!==ke)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";qo(Jn,lr,mr),mr=Object.assign({},mr);var qn,It=Ai.length,Qt=[],hr=mr.level||0,yr=mr.width,Hr=mr.height,jr=Ai.length,oi=!0;qn=Ai.map(function(Ui,co){return Os(Ui,mr.crossOrigin,function qr(Ui){return function(co,Ro){if(--It,co)Qt.push(co);else{if(Go(Jn,mr),Jn.bindTexture(je,lr),oi){oi=!1,Jn.texImage3D(je,hr,tt,yr=mr.width||Ro.width,Hr=mr.height||Ro.height,jr,0,jt,cn,null);for(var mo=0;mo<jr;++mo)Jn.texSubImage3D(je,hr,0,0,mo,yr,Hr,1,jt,cn,Ro)}else{var $e,nt=Ro;(Ro.width!==yr||Ro.height!==Hr)&&(nt=($e=L()).canvas,$e.canvas.width=yr,$e.canvas.height=Hr,$e.drawImage(Ro,0,0,yr,Hr)),Jn.texSubImage3D(je,hr,0,0,Ui,yr,Hr,1,jt,cn,nt),$e&&nt===$e.canvas&&($e.canvas.width=0,$e.canvas.height=0)}Ei(mr)&&Jn.generateMipmap(je)}0===It&&Ir(Qt.length?Qt:void 0,lr,qn)}}(co))})}(Jn,Ir,lr,mr):(ho(Jn,Ir,cn,lr),tt=cn.width,gn=cn.height);else Ds(Jn,Ir,lr);return Ei(lr)&&gi(Jn,Ir,lr,tt,gn,jt),ns(Jn,Ir,lr),Ir}xt[ae]={numColorComponents:1},xt[ne]={numColorComponents:1},xt[q]={numColorComponents:2},xt[U]={numColorComponents:3},xt[Z]={numColorComponents:4},xt[qi]={numColorComponents:1},xt[jo]={numColorComponents:1},xt[so]={numColorComponents:2},xt[Co]={numColorComponents:2},xt[U]={numColorComponents:3},xt[$n]={numColorComponents:3},xt[Z]={numColorComponents:4},xt[un]={numColorComponents:4},xt[le]={numColorComponents:1},xt[z]={numColorComponents:2}},"./src/twgl-base.js":
/*!**************************!*\
                !*** ./src/twgl-base.js ***!
                \**************************/(v,S,M)=>{S.__esModule=!0;var C=M(
/*! ./twgl.js */
"./src/twgl.js");Object.keys(C).forEach(function(d){"default"===d||"__esModule"===d||d in S&&S[d]===C[d]||(S[d]=C[d])})},"./src/twgl.js":
/*!*********************!*\
                !*** ./src/twgl.js ***!
                \*********************/(v,S,M)=>{function C(Ce){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Nt){return typeof Nt}:function(Nt){return Nt&&"function"==typeof Symbol&&Nt.constructor===Symbol&&Nt!==Symbol.prototype?"symbol":typeof Nt})(Ce)}S.__esModule=!0;var d={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};S.addExtensionsToContext=we,S.framebuffers=S.draw=S.attributes=void 0,S.getContext=function ke(Ce,Nt){return function Ie(Ce,Nt){for(var Kt=["webgl2","webgl","experimental-webgl"],me=null,ee=0;ee<Kt.length;++ee)if(me=Ce.getContext(Kt[ee],Nt)){q.addExtensionsToContext&&we(me);break}return me}(Ce,Nt)},S.getWebGLContext=function ue(Ce,Nt){return function k(Ce,Nt){for(var Kt=["webgl","experimental-webgl"],me=null,ee=0;ee<Kt.length;++ee)if(me=Ce.getContext(Kt[ee],Nt)){q.addExtensionsToContext&&we(me);break}return me}(Ce,Nt)},S.programs=void 0,S.resizeCanvasToDisplaySize=function Ze(Ce,Nt){Nt=Nt||1,Nt=Math.max(0,Nt);var Kt=Ce.clientWidth*Nt|0,me=Ce.clientHeight*Nt|0;return(Ce.width!==Kt||Ce.height!==me)&&(Ce.width=Kt,Ce.height=me,!0)},S.setDefaults=function le(Ce){G.copyExistingProperties(Ce,q),F.setAttributeDefaults_(Ce),P.setTextureDefaults_(Ce)},S.vertexArrays=S.utils=S.typedarrays=S.textures=void 0;var F=Z(M(
/*! ./attributes.js */
"./src/attributes.js"));S.attributes=F,Object.keys(F).forEach(function(Ce){"default"===Ce||"__esModule"===Ce||Object.prototype.hasOwnProperty.call(d,Ce)||Ce in S&&S[Ce]===F[Ce]||(S[Ce]=F[Ce])});var P=Z(M(
/*! ./textures.js */
"./src/textures.js"));S.textures=P,Object.keys(P).forEach(function(Ce){"default"===Ce||"__esModule"===Ce||Object.prototype.hasOwnProperty.call(d,Ce)||Ce in S&&S[Ce]===P[Ce]||(S[Ce]=P[Ce])});var G=Z(M(
/*! ./helper.js */
"./src/helper.js")),N=Z(M(
/*! ./utils.js */
"./src/utils.js"));S.utils=N,Object.keys(N).forEach(function(Ce){"default"===Ce||"__esModule"===Ce||Object.prototype.hasOwnProperty.call(d,Ce)||Ce in S&&S[Ce]===N[Ce]||(S[Ce]=N[Ce])});var x=Z(M(
/*! ./draw.js */
"./src/draw.js"));S.draw=x,Object.keys(x).forEach(function(Ce){"default"===Ce||"__esModule"===Ce||Object.prototype.hasOwnProperty.call(d,Ce)||Ce in S&&S[Ce]===x[Ce]||(S[Ce]=x[Ce])});var m=Z(M(
/*! ./framebuffers.js */
"./src/framebuffers.js"));S.framebuffers=m,Object.keys(m).forEach(function(Ce){"default"===Ce||"__esModule"===Ce||Object.prototype.hasOwnProperty.call(d,Ce)||Ce in S&&S[Ce]===m[Ce]||(S[Ce]=m[Ce])});var E=Z(M(
/*! ./programs.js */
"./src/programs.js"));S.programs=E,Object.keys(E).forEach(function(Ce){"default"===Ce||"__esModule"===Ce||Object.prototype.hasOwnProperty.call(d,Ce)||Ce in S&&S[Ce]===E[Ce]||(S[Ce]=E[Ce])});var L=Z(M(
/*! ./typedarrays.js */
"./src/typedarrays.js"));S.typedarrays=L,Object.keys(L).forEach(function(Ce){"default"===Ce||"__esModule"===Ce||Object.prototype.hasOwnProperty.call(d,Ce)||Ce in S&&S[Ce]===L[Ce]||(S[Ce]=L[Ce])});var ae=Z(M(
/*! ./vertex-arrays.js */
"./src/vertex-arrays.js"));function U(Ce){if("function"!=typeof WeakMap)return null;var Nt=new WeakMap,Kt=new WeakMap;return(U=function(ee){return ee?Kt:Nt})(Ce)}function Z(Ce,Nt){if(!Nt&&Ce&&Ce.__esModule)return Ce;if(null===Ce||"object"!=C(Ce)&&"function"!=typeof Ce)return{default:Ce};var Kt=U(Nt);if(Kt&&Kt.has(Ce))return Kt.get(Ce);var me={__proto__:null},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var fe in Ce)if("default"!==fe&&Object.prototype.hasOwnProperty.call(Ce,fe)){var ye=ee?Object.getOwnPropertyDescriptor(Ce,fe):null;ye&&(ye.get||ye.set)?Object.defineProperty(me,fe,ye):me[fe]=Ce[fe]}return me.default=Ce,Kt&&Kt.set(Ce,me),me}S.vertexArrays=ae,Object.keys(ae).forEach(function(Ce){"default"===Ce||"__esModule"===Ce||Object.prototype.hasOwnProperty.call(d,Ce)||Ce in S&&S[Ce]===ae[Ce]||(S[Ce]=ae[Ce])});var q={addExtensionsToContext:!0},z=/^(.*?)_/;function J(Ce,Nt){N.glEnumToString(Ce,0);var Kt=Ce.getExtension(Nt);if(Kt){var me={},ee=z.exec(Nt)[1],fe="_"+ee;for(var ye in Kt){var Se=Kt[ye],Be="function"==typeof Se,yt=Be?ee:fe,qt=ye;ye.endsWith(yt)&&(qt=ye.substring(0,ye.length-yt.length)),void 0!==Ce[qt]?!Be&&Ce[qt]!==Se&&G.warn(qt,Ce[qt],Se,ye):Be?Ce[qt]=function(Ln){return function(){return Ln.apply(Kt,arguments)}}(Se):(Ce[qt]=Se,me[qt]=Se)}me.constructor={name:Kt.constructor.name},N.glEnumToString(me,0)}return Kt}var he=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function we(Ce){for(var Nt=0;Nt<he.length;++Nt)J(Ce,he[Nt])}},"./src/typedarrays.js":
/*!****************************!*\
                !*** ./src/typedarrays.js ***!
                \****************************/(v,S)=>{S.__esModule=!0,S.getGLTypeForTypedArray=function he(Ie){if(Ie instanceof Int8Array)return C;if(Ie instanceof Uint8Array||Ie instanceof Uint8ClampedArray)return d;if(Ie instanceof Int16Array)return F;if(Ie instanceof Uint16Array)return P;if(Ie instanceof Int32Array)return G;if(Ie instanceof Uint32Array)return N;if(Ie instanceof Float32Array)return x;throw new Error("unsupported typed array type")},S.getGLTypeForTypedArrayType=function we(Ie){if(Ie===Int8Array)return C;if(Ie===Uint8Array||Ie===Uint8ClampedArray)return d;if(Ie===Int16Array)return F;if(Ie===Uint16Array)return P;if(Ie===Int32Array)return G;if(Ie===Uint32Array)return N;if(Ie===Float32Array)return x;throw new Error("unsupported typed array type")},S.getTypedArrayTypeForGLType=function k(Ie){var ke=z[Ie];if(!ke)throw new Error("unknown gl type");return ke},S.isArrayBuffer=void 0;var C=5120,d=5121,F=5122,P=5123,G=5124,N=5125,x=5126,z={},J=z;J[C]=Int8Array,J[d]=Uint8Array,J[F]=Int16Array,J[P]=Uint16Array,J[G]=Int32Array,J[N]=Uint32Array,J[x]=Float32Array,J[32819]=Uint16Array,J[32820]=Uint16Array,J[33635]=Uint16Array,J[5131]=Uint16Array,J[33640]=Uint32Array,J[35899]=Uint32Array,J[35902]=Uint32Array,J[36269]=Uint32Array,J[34042]=Uint32Array,S.isArrayBuffer=typeof SharedArrayBuffer<"u"?function(ke){return ke&&ke.buffer&&(ke.buffer instanceof ArrayBuffer||ke.buffer instanceof SharedArrayBuffer)}:function(ke){return ke&&ke.buffer&&ke.buffer instanceof ArrayBuffer}},"./src/utils.js":
/*!**********************!*\
                !*** ./src/utils.js ***!
                \**********************/(v,S)=>{S.__esModule=!0,S.glEnumToString=void 0,S.isWebGL1=function C(F){return!F.texStorage2D},S.isWebGL2=function M(F){return!!F.texStorage2D},S.glEnumToString=function(){var F={},P={};return function(x,m){return function G(N){var x=N.constructor.name;if(!F[x]){for(var m in N)if("number"==typeof N[m]){var E=P[N[m]];P[N[m]]=E?"".concat(E," | ").concat(m):m}F[x]=!0}}(x),P[m]||("number"==typeof m?"0x".concat(m.toString(16)):m)}}()},"./src/vertex-arrays.js":
/*!******************************!*\
                !*** ./src/vertex-arrays.js ***!
                \******************************/(v,S,M)=>{function C(E){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(E)}S.__esModule=!0,S.createVAOAndSetAttributes=x,S.createVAOFromBufferInfo=function m(E,L,ae){return x(E,L.attribSetters||L,ae.attribs,ae.indices)},S.createVertexArrayInfo=function N(E,L,ae){var U=E.createVertexArray();return E.bindVertexArray(U),L.length||(L=[L]),L.forEach(function(Z){d.setBuffersAndAttributes(E,Z,ae)}),E.bindVertexArray(null),{numElements:ae.numElements,elementType:ae.elementType,vertexArrayObject:U}};var d=function P(E,L){if(!L&&E&&E.__esModule)return E;if(null===E||"object"!=C(E)&&"function"!=typeof E)return{default:E};var ae=F(L);if(ae&&ae.has(E))return ae.get(E);var U={__proto__:null},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in E)if("default"!==ne&&Object.prototype.hasOwnProperty.call(E,ne)){var q=Z?Object.getOwnPropertyDescriptor(E,ne):null;q&&(q.get||q.set)?Object.defineProperty(U,ne,q):U[ne]=E[ne]}return U.default=E,ae&&ae.set(E,U),U}(M(
/*! ./programs.js */
"./src/programs.js"));function F(E){if("function"!=typeof WeakMap)return null;var L=new WeakMap,ae=new WeakMap;return(F=function(Z){return Z?ae:L})(E)}var G=34963;function x(E,L,ae,U){var Z=E.createVertexArray();return E.bindVertexArray(Z),d.setAttributes(L,ae),U&&E.bindBuffer(G,U),E.bindVertexArray(null),Z}}},w={},s=function r(v){var S=w[v];if(void 0!==S)return S.exports;var M=w[v]={exports:{}};return qe[v](M,M.exports,r),M.exports}("./src/twgl-base.js");return s})(),ln.exports=r()},71245:(ln,qe,w)=>{"use strict";w.r(qe),w.d(qe,{DOMException:()=>he,Headers:()=>P,Request:()=>ne,Response:()=>z,fetch:()=>we});var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},s={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(s.arrayBuffer)var S=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],M=ArrayBuffer.isView||function(k){return k&&S.indexOf(Object.prototype.toString.call(k))>-1};function C(k){if("string"!=typeof k&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(k)||""===k)throw new TypeError('Invalid character in header field name: "'+k+'"');return k.toLowerCase()}function d(k){return"string"!=typeof k&&(k=String(k)),k}function F(k){var ue={next:function(){var Ie=k.shift();return{done:void 0===Ie,value:Ie}}};return s.iterable&&(ue[Symbol.iterator]=function(){return ue}),ue}function P(k){this.map={},k instanceof P?k.forEach(function(ue,Ie){this.append(Ie,ue)},this):Array.isArray(k)?k.forEach(function(ue){if(2!=ue.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ue.length);this.append(ue[0],ue[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(ue){this.append(ue,k[ue])},this)}function G(k){if(!k._noBody){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}}function N(k){return new Promise(function(ue,Ie){k.onload=function(){ue(k.result)},k.onerror=function(){Ie(k.error)}})}function x(k){var ue=new FileReader,Ie=N(ue);return ue.readAsArrayBuffer(k),Ie}function L(k){if(k.slice)return k.slice(0);var ue=new Uint8Array(k.byteLength);return ue.set(new Uint8Array(k)),ue.buffer}function ae(){return this.bodyUsed=!1,this._initBody=function(k){this.bodyUsed=this.bodyUsed,this._bodyInit=k,k?"string"==typeof k?this._bodyText=k:s.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:s.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():s.arrayBuffer&&s.blob&&function v(k){return k&&DataView.prototype.isPrototypeOf(k)}(k)?(this._bodyArrayBuffer=L(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||M(k))?this._bodyArrayBuffer=L(k):this._bodyText=k=Object.prototype.toString.call(k):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof k?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var k=G(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return G(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(s.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")},this.text=function(){var k=G(this);if(k)return k;if(this._bodyBlob)return function m(k){var ue=new FileReader,Ie=N(ue),ke=/charset=([A-Za-z0-9_-]+)/.exec(k.type);return ue.readAsText(k,ke?ke[1]:"utf-8"),Ie}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function E(k){for(var ue=new Uint8Array(k),Ie=new Array(ue.length),ke=0;ke<ue.length;ke++)Ie[ke]=String.fromCharCode(ue[ke]);return Ie.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}P.prototype.append=function(k,ue){k=C(k),ue=d(ue);var Ie=this.map[k];this.map[k]=Ie?Ie+", "+ue:ue},P.prototype.delete=function(k){delete this.map[C(k)]},P.prototype.get=function(k){return k=C(k),this.has(k)?this.map[k]:null},P.prototype.has=function(k){return this.map.hasOwnProperty(C(k))},P.prototype.set=function(k,ue){this.map[C(k)]=d(ue)},P.prototype.forEach=function(k,ue){for(var Ie in this.map)this.map.hasOwnProperty(Ie)&&k.call(ue,this.map[Ie],Ie,this)},P.prototype.keys=function(){var k=[];return this.forEach(function(ue,Ie){k.push(Ie)}),F(k)},P.prototype.values=function(){var k=[];return this.forEach(function(ue){k.push(ue)}),F(k)},P.prototype.entries=function(){var k=[];return this.forEach(function(ue,Ie){k.push([Ie,ue])}),F(k)},s.iterable&&(P.prototype[Symbol.iterator]=P.prototype.entries);var U=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function ne(k,ue){if(!(this instanceof ne))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Ie=(ue=ue||{}).body;if(k instanceof ne){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,ue.headers||(this.headers=new P(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!Ie&&null!=k._bodyInit&&(Ie=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=ue.credentials||this.credentials||"same-origin",(ue.headers||!this.headers)&&(this.headers=new P(ue.headers)),this.method=function Z(k){var ue=k.toUpperCase();return U.indexOf(ue)>-1?ue:k}(ue.method||this.method||"GET"),this.mode=ue.mode||this.mode||null,this.signal=ue.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Ie)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Ie),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==ue.cache&&"no-cache"!==ue.cache)){var ke=/([?&])_=[^&]*/;ke.test(this.url)?this.url=this.url.replace(ke,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function q(k){var ue=new FormData;return k.trim().split("&").forEach(function(Ie){if(Ie){var ke=Ie.split("="),Ze=ke.shift().replace(/\+/g," "),Ce=ke.join("=").replace(/\+/g," ");ue.append(decodeURIComponent(Ze),decodeURIComponent(Ce))}}),ue}function le(k){var ue=new P;return k.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(ke){return 0===ke.indexOf("\n")?ke.substr(1,ke.length):ke}).forEach(function(ke){var Ze=ke.split(":"),Ce=Ze.shift().trim();if(Ce){var Nt=Ze.join(":").trim();try{ue.append(Ce,Nt)}catch(Kt){console.warn("Response "+Kt.message)}}}),ue}function z(k,ue){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ue||(ue={}),this.type="default",this.status=void 0===ue.status?200:ue.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===ue.statusText?"":""+ue.statusText,this.headers=new P(ue.headers),this.url=ue.url||"",this._initBody(k)}ne.prototype.clone=function(){return new ne(this,{body:this._bodyInit})},ae.call(ne.prototype),ae.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new P(this.headers),url:this.url})},z.error=function(){var k=new z(null,{status:200,statusText:""});return k.ok=!1,k.status=0,k.type="error",k};var J=[301,302,303,307,308];z.redirect=function(k,ue){if(-1===J.indexOf(ue))throw new RangeError("Invalid status code");return new z(null,{status:ue,headers:{location:k}})};var he=r.DOMException;try{new he}catch{(he=function(ue,Ie){this.message=ue,this.name=Ie;var ke=Error(ue);this.stack=ke.stack}).prototype=Object.create(Error.prototype),he.prototype.constructor=he}function we(k,ue){return new Promise(function(Ie,ke){var Ze=new ne(k,ue);if(Ze.signal&&Ze.signal.aborted)return ke(new he("Aborted","AbortError"));var Ce=new XMLHttpRequest;function Nt(){Ce.abort()}if(Ce.onload=function(){var ee={statusText:Ce.statusText,headers:le(Ce.getAllResponseHeaders()||"")};ee.status=0===Ze.url.indexOf("file://")&&(Ce.status<200||Ce.status>599)?200:Ce.status,ee.url="responseURL"in Ce?Ce.responseURL:ee.headers.get("X-Request-URL");var fe="response"in Ce?Ce.response:Ce.responseText;setTimeout(function(){Ie(new z(fe,ee))},0)},Ce.onerror=function(){setTimeout(function(){ke(new TypeError("Network request failed"))},0)},Ce.ontimeout=function(){setTimeout(function(){ke(new TypeError("Network request timed out"))},0)},Ce.onabort=function(){setTimeout(function(){ke(new he("Aborted","AbortError"))},0)},Ce.open(Ze.method,function Kt(ee){try{return""===ee&&r.location.href?r.location.href:ee}catch{return ee}}(Ze.url),!0),"include"===Ze.credentials?Ce.withCredentials=!0:"omit"===Ze.credentials&&(Ce.withCredentials=!1),"responseType"in Ce&&(s.blob?Ce.responseType="blob":s.arrayBuffer&&(Ce.responseType="arraybuffer")),ue&&"object"==typeof ue.headers&&!(ue.headers instanceof P||r.Headers&&ue.headers instanceof r.Headers)){var me=[];Object.getOwnPropertyNames(ue.headers).forEach(function(ee){me.push(C(ee)),Ce.setRequestHeader(ee,d(ue.headers[ee]))}),Ze.headers.forEach(function(ee,fe){-1===me.indexOf(fe)&&Ce.setRequestHeader(fe,ee)})}else Ze.headers.forEach(function(ee,fe){Ce.setRequestHeader(fe,ee)});Ze.signal&&(Ze.signal.addEventListener("abort",Nt),Ce.onreadystatechange=function(){4===Ce.readyState&&Ze.signal.removeEventListener("abort",Nt)}),Ce.send(typeof Ze._bodyInit>"u"?null:Ze._bodyInit)})}we.polyfill=!0,r.fetch||(r.fetch=we,r.Headers=P,r.Request=ne,r.Response=z)},79258:(ln,qe,w)=>{"use strict";var de,r=w(31049).default,s=w(15985).default,v=w(88429).default,S=w(57909).default,M=w(47604).default,C=w(88322).default,d=Object.defineProperty,F=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,G=Object.prototype.hasOwnProperty,E={};((de,Et)=>{for(var on in Et)d(de,on,{get:Et[on],enumerable:!0})})(E,{FetchError:()=>Kt,JSONLoader:()=>jr.JSONLoader,NullLoader:()=>yr,NullWorkerLoader:()=>hr,RequestScheduler:()=>It.RequestScheduler,_BrowserFileSystem:()=>mo,_fetchProgress:()=>oi,_unregisterLoaders:()=>Mn,assert:()=>$e.assert,concatenateArrayBuffersAsync:()=>an.concatenateArrayBuffersAsync,document:()=>nt.document,encode:()=>zs,encodeInBatches:()=>mr,encodeSync:()=>cs,encodeTable:()=>Ls,encodeTableAsText:()=>Os,encodeTableInBatches:()=>Hs,encodeText:()=>ua,encodeTextSync:()=>lr,encodeURLtoURL:()=>Ir,fetchFile:()=>K,forEach:()=>an.forEach,getLoaderOptions:()=>zt,getPathPrefix:()=>je.getPathPrefix,global:()=>nt.global,isAsyncIterable:()=>z,isBrowser:()=>nt.isBrowser,isIterable:()=>le,isIterator:()=>J,isPromise:()=>q,isPureObject:()=>ne,isReadableStream:()=>Ce,isResponse:()=>he,isWorker:()=>nt.isWorker,isWritableStream:()=>Nt,load:()=>Fi,loadInBatches:()=>ho,makeIterator:()=>Yi,makeLineIterator:()=>at.makeLineIterator,makeNumberedLineIterator:()=>at.makeNumberedLineIterator,makeStream:()=>Qt,makeTextDecoderIterator:()=>at.makeTextDecoderIterator,makeTextEncoderIterator:()=>at.makeTextEncoderIterator,parse:()=>Qr,parseInBatches:()=>ms,parseSync:()=>Do,readArrayBuffer:()=>Le,registerLoaders:()=>Qe,resolvePath:()=>je.resolvePath,selectLoader:()=>At,selectLoaderSync:()=>Yn,self:()=>nt.self,setLoaderOptions:()=>Zt,setPathPrefix:()=>je.setPathPrefix,window:()=>nt.window}),ln.exports=(de=E,((de,Et,on,Kn)=>{if(Et&&"object"==typeof Et||"function"==typeof Et)for(let ht of P(Et))!G.call(de,ht)&&undefined!==ht&&d(de,ht,{get:()=>Et[ht],enumerable:!(Kn=F(Et,ht))||Kn.enumerable});return de})(d({},"__esModule",{value:!0}),de));var L=w(28690),ae=de=>"boolean"==typeof de,U=de=>"function"==typeof de,Z=de=>null!==de&&"object"==typeof de,ne=de=>Z(de)&&de.constructor==={}.constructor,q=de=>Z(de)&&U(de.then),le=de=>!!de&&"function"==typeof de[Symbol.iterator],z=de=>de&&"function"==typeof de[Symbol.asyncIterator],J=de=>de&&U(de.next),he=de=>typeof Response<"u"&&de instanceof Response||de&&de.arrayBuffer&&de.text&&de.json,we=de=>typeof Blob<"u"&&de instanceof Blob,k=de=>de&&"object"==typeof de&&de.isBuffer,Ce=de=>(de=>typeof ReadableStream<"u"&&de instanceof ReadableStream||Z(de)&&U(de.tee)&&U(de.cancel)&&U(de.getReader))(de)||(de=>Z(de)&&U(de.read)&&U(de.pipe)&&ae(de.readable))(de),Nt=de=>(de=>Z(de)&&U(de.abort)&&U(de.getWriter))(de)||(de=>Z(de)&&U(de.end)&&U(de.write)&&ae(de.writable))(de),Kt=class extends Error{constructor(Et,on){super(Et),s(this,"reason",void 0),s(this,"url",void 0),s(this,"response",void 0),this.reason=on.reason,this.url=on.url,this.response=on.response}},me=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,ee=/^([-\w.]+\/[-\w.+]+)/;function fe(de,Et){return de.toLowerCase()===Et.toLowerCase()}function Se(de){const Et=me.exec(de);return Et?Et[1]:""}var Be=/\?.*/;function qt(de){return de.replace(Be,"")}function Tt(de){return he(de)?de.url:we(de)?de.name||"":"string"==typeof de?de:""}function We(de){if(he(de)){const Et=de,on=Et.headers.get("content-type")||"",Kn=qt(Et.url);return function ye(de){const Et=ee.exec(de);return Et?Et[1]:de}(on)||Se(Kn)}return we(de)?de.type||"":"string"==typeof de?Se(de):""}function wt(de){return Y.apply(this,arguments)}function Y(){return Y=r(function*(de){if(he(de))return de;const Et={},on=function Ve(de){return he(de)?de.headers["content-length"]||-1:we(de)?de.size:"string"==typeof de?de.length:de instanceof ArrayBuffer||ArrayBuffer.isView(de)?de.byteLength:-1}(de);on>=0&&(Et["content-length"]=String(on));const Kn=Tt(de),ht=We(de);ht&&(Et["content-type"]=ht);const $=yield function j(de){return h.apply(this,arguments)}(de);$&&(Et["x-first-bytes"]=$),"string"==typeof de&&(de=(new TextEncoder).encode(de));const ge=new Response(de,{headers:Et});return Object.defineProperty(ge,"url",{value:Kn}),ge}),Y.apply(this,arguments)}function b(de){return R.apply(this,arguments)}function R(){return R=r(function*(de){if(!de.ok)throw yield function T(de){return V.apply(this,arguments)}(de)}),R.apply(this,arguments)}function V(){return V=r(function*(de){const Et=function Ln(de){if(de.length<50)return de;const Et=de.slice(de.length-15);return`${de.substr(0,32)}...${Et}`}(de.url);let on=`Failed to fetch resource (${de.status}) ${de.statusText}: ${Et}`;on=on.length>100?`${on.slice(0,100)}...`:on;const Kn={reason:de.statusText,url:de.url,response:de};try{const ht=de.headers.get("Content-Type");Kn.reason=ht?.includes("application/json")?yield de.json():de.text()}catch{}return new Kt(on,Kn)}),V.apply(this,arguments)}function h(){return h=r(function*(de){if("string"==typeof de)return`data:,${de.slice(0,5)}`;if(de instanceof Blob){const on=de.slice(0,5);return yield new Promise(Kn=>{const ht=new FileReader;ht.onload=$=>{var ge;return Kn(null==(ge=$?.target)?void 0:ge.result)},ht.readAsDataURL(on)})}return de instanceof ArrayBuffer?`data:base64,${function I(de){let Et="";const on=new Uint8Array(de);for(let Kn=0;Kn<on.byteLength;Kn++)Et+=String.fromCharCode(on[Kn]);return btoa(Et)}(de.slice(0,5))}`:null}),h.apply(this,arguments)}function K(de,Et){return se.apply(this,arguments)}function se(){return se=r(function*(de,Et){var on,Kn;if("string"==typeof de){const ht=(0,L.resolvePath)(de);return function xe(de){return!function ie(de){return de.startsWith("http:")||de.startsWith("https:")}(de)&&!function D(de){return de.startsWith("data:")}(de)}(ht)&&null!=(on=globalThis.loaders)&&on.fetchNode?null==(Kn=globalThis.loaders)?void 0:Kn.fetchNode(ht,Et):yield fetch(ht,Et)}return yield wt(de)}),se.apply(this,arguments)}function Le(de,Et,on){return ct.apply(this,arguments)}function ct(){return ct=r(function*(de,Et,on){de instanceof Blob||(de=new Blob([de]));const Kn=de.slice(Et,Et+on);return yield function ut(de){return en.apply(this,arguments)}(Kn)}),ct.apply(this,arguments)}function en(){return en=r(function*(de){return yield new Promise((Et,on)=>{const Kn=new FileReader;Kn.onload=ht=>{var $;return Et(null==($=ht?.target)?void 0:$.result)},Kn.onerror=ht=>on(ht),Kn.readAsArrayBuffer(de)})}),en.apply(this,arguments)}var Oe=w(28690),it=new(w(69243).Log)({id:"loaders.gl"}),Bt=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}},st=w(28690),mt={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){s(this,"console",void 0),this.console=console}log(...Et){return this.console.log.bind(this.console,...Et)}info(...Et){return this.console.info.bind(this.console,...Et)}warn(...Et){return this.console.warn.bind(this.console,...Et)}error(...Et){return this.console.error.bind(this.console,...Et)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:st.isBrowser,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},Ut={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function Ne(){globalThis.loaders=globalThis.loaders||{};const{loaders:de}=globalThis;return de._state||(de._state={}),de._state}function zt(){const de=Ne();return de.globalOptions=de.globalOptions||{...mt},de.globalOptions}function Zt(de){const Et=Ne(),on=zt();Et.globalOptions=yn(on,de),(0,Oe.registerJSModules)(de.modules)}function Cn(de,Et,on,Kn){return on=on||[],function Zn(de,Et){br(de,null,mt,Ut,Et);for(const on of Et)br(de&&de[on.id]||{},on.id,on.options&&on.options[on.id]||{},on.deprecatedOptions&&on.deprecatedOptions[on.id]||{},Et)}(de,on=Array.isArray(on)?on:[on]),yn(Et,de,Kn)}function br(de,Et,on,Kn,ht){const $=Et||"Top level",ge=Et?`${Et}.`:"";for(const He in de){const Vt=!Et&&Z(de[He]);if(!(He in on)&&("baseUri"!==He||Et)&&("workerUrl"!==He||!Et))if(He in Kn)it.warn(`${$} loader option '${ge}${He}' no longer supported, use '${Kn[He]}'`)();else if(!Vt){const fr=Mr(He,ht);it.warn(`${$} loader option '${ge}${He}' not recognized. ${fr}`)()}}}function Mr(de,Et){const on=de.toLowerCase();let Kn="";for(const ht of Et)for(const $ in ht.options){if(de===$)return`Did you mean '${ht.id}.${$}'?`;const ge=$.toLowerCase();(on.startsWith(ge)||ge.startsWith(on))&&(Kn=Kn||`Did you mean '${ht.id}.${$}'?`)}return Kn}function yn(de,Et,on){const ht={...de.options||{}};return function kt(de,Et){Et&&!("baseUri"in de)&&(de.baseUri=Et)}(ht,on),null===ht.log&&(ht.log=new Bt),St(ht,zt()),St(ht,Et),ht}function St(de,Et){for(const on in Et)on in Et&&(de[on]=ne(Et[on])&&ne(de[on])?{...de[on],...Et[on]}:Et[on])}var Mt=w(28690);function bt(de){return!!de&&(Array.isArray(de)&&(de=de[0]),Array.isArray(de?.extensions))}function sn(de){let Et;return(0,Mt.assert)(de,"null loader"),(0,Mt.assert)(bt(de),"invalid loader"),Array.isArray(de)&&(Et=de[1],de=de[0],de={...de,options:{...de.options,...Et}}),(de?.parseTextSync||de?.parseText)&&(de.text=!0),de.text||(de.binary=!0),de}var Yt=()=>{const de=Ne();return de.loaderRegistry=de.loaderRegistry||[],de.loaderRegistry};function Qe(de){const Et=Yt();de=Array.isArray(de)?de:[de];for(const on of de){const Kn=sn(on);Et.find(ht=>Kn===ht)||Et.unshift(Kn)}}function Mn(){Ne().loaderRegistry=[]}var vt=w(28690),nn=new(w(69243).Log)({id:"loaders.gl"}),Ye=/\.([^.]+)$/;function At(de){return Pn.apply(this,arguments)}function Pn(){return Pn=r(function*(de,Et=[],on,Kn){if(!vr(de))return null;let ht=Yn(de,Et,{...on,nothrow:!0},Kn);if(ht)return ht;if(we(de)&&(ht=Yn(de=yield de.slice(0,10).arrayBuffer(),Et,on,Kn)),!ht&&!on?.nothrow)throw new Error(vi(de));return ht}),Pn.apply(this,arguments)}function Yn(de,Et=[],on,Kn){if(!vr(de))return null;if(Et&&!Array.isArray(Et))return sn(Et);let ht=[];Et&&(ht=ht.concat(Et)),on?.ignoreRegisteredLoaders||ht.push(...function Lt(){return Yt()}()),function to(de){for(const Et of de)sn(Et)}(ht);const $=function gr(de,Et,on,Kn){const ht=Tt(de),$=We(de),ge=qt(ht)||Kn?.url;let He=null,Vt="";return on?.mimeType&&(He=_o(Et,on?.mimeType),Vt=`match forced by supplied MIME type ${on?.mimeType}`),He=He||function ro(de,Et){const on=Et&&Ye.exec(Et),Kn=on&&on[1];return Kn?function wi(de,Et){Et=Et.toLowerCase();for(const on of de)for(const Kn of on.extensions)if(Kn.toLowerCase()===Et)return on;return null}(de,Kn):null}(Et,ge),Vt=Vt||(He?`matched url ${ge}`:""),He=He||_o(Et,$),Vt=Vt||(He?`matched MIME type ${$}`:""),He=He||function Uo(de,Et){if(!Et)return null;for(const on of de)if("string"==typeof Et){if(So(Et,on))return on}else if(ArrayBuffer.isView(Et)){if(yo(Et.buffer,Et.byteOffset,on))return on}else if(Et instanceof ArrayBuffer&&yo(Et,0,on))return on;return null}(Et,de),Vt=Vt||(He?`matched initial data ${Xo(de)}`:""),on?.fallbackMimeType&&(He=He||_o(Et,on?.fallbackMimeType),Vt=Vt||(He?`matched fallback MIME type ${$}`:"")),Vt&&nn.log(1,`selectLoader selected ${He?.name}: ${Vt}.`),He}(de,ht,on,Kn);if(!$&&!on?.nothrow)throw new Error(vi(de));return $}function vr(de){return!(de instanceof Response&&204===de.status)}function vi(de){const Et=Tt(de),on=We(de);let Kn="No valid loader found (";Kn+=Et?`${vt.path.filename(Et)}, `:"no url provided, ",Kn+=`MIME type: ${on?`"${on}"`:"not provided"}, `;const ht=de?Xo(de):"";return Kn+=ht?` first bytes: "${ht}"`:"first bytes: not available",Kn+=")",Kn}function _o(de,Et){var on;for(const Kn of de)if(null!=(on=Kn.mimeTypes)&&on.some(ht=>fe(Et,ht))||fe(Et,`application/x.${Kn.id}`))return Kn;return null}function So(de,Et){return Et.testText?Et.testText(de):(Array.isArray(Et.tests)?Et.tests:[Et.tests]).some(Kn=>de.startsWith(Kn))}function yo(de,Et,on){return(Array.isArray(on.tests)?on.tests:[on.tests]).some(ht=>function ts(de,Et,on,Kn){if(Kn instanceof ArrayBuffer)return(0,vt.compareArrayBuffers)(Kn,de,Kn.byteLength);switch(typeof Kn){case"function":return Kn(de);case"string":return Kn===Io(de,Et,Kn.length);default:return!1}}(de,Et,0,ht))}function Xo(de,Et=5){return"string"==typeof de?de.slice(0,Et):ArrayBuffer.isView(de)?Io(de.buffer,de.byteOffset,Et):de instanceof ArrayBuffer?Io(de,0,Et):""}function Io(de,Et,on){if(de.byteLength<Et+on)return"";const Kn=new DataView(de);let ht="";for(let $=0;$<on;$++)ht+=String.fromCharCode(Kn.getUint8(Et+$));return ht}var Fe=w(28690),_t=w(13827),bn=w(28690),xn=w(28690),zn=262144,Pr=262144,$t=1048576;function Tr(){return Tr=C(function*(de,Et){const on=Et?.chunkSize||$t;let Kn=0;for(;Kn<de.size;){const ht=Kn+on,$=yield M(de.slice(Kn,ht).arrayBuffer());Kn=ht,yield $}}),Tr.apply(this,arguments)}var ei=w(28690);function Si(de,Et){return ei.isBrowser?function Ri(de,Et){return io.apply(this,arguments)}(de,Et):function Ci(de,Et){return yi.apply(this,arguments)}(de,Et)}function io(){return io=C(function*(de,Et){const on=de.getReader();let Kn;try{for(;;){const ht=Kn||on.read();Et?._streamReadAhead&&(Kn=on.read());const{done:$,value:ge}=yield M(ht);if($)return;yield(0,ei.toArrayBuffer)(ge)}}catch{on.releaseLock()}}),io.apply(this,arguments)}function yi(){return yi=C(function*(de,Et){var ht,on=!1,Kn=!1;try{for(var ge,$=S(de);on=!(ge=yield M($.next())).done;on=!1){const He=ge.value;yield(0,ei.toArrayBuffer)(He)}}catch(He){Kn=!0,ht=He}finally{try{on&&null!=$.return&&(yield M($.return()))}finally{if(Kn)throw ht}}}),yi.apply(this,arguments)}function Yi(de,Et){if("string"==typeof de)return function*ir(de,Et){const on=Et?.chunkSize||zn;let Kn=0;const ht=new TextEncoder;for(;Kn<de.length;){const $=Math.min(de.length-Kn,on),ge=de.slice(Kn,Kn+$);Kn+=$,yield ht.encode(ge)}}(de,Et);if(de instanceof ArrayBuffer)return function*et(de,Et={}){const{chunkSize:on=Pr}=Et;let Kn=0;for(;Kn<de.byteLength;){const ht=Math.min(de.byteLength-Kn,on),$=new ArrayBuffer(ht),ge=new Uint8Array(de,Kn,ht);new Uint8Array($).set(ge),Kn+=ht,yield $}}(de,Et);if(we(de))return function Vn(de,Et){return Tr.apply(this,arguments)}(de,Et);if(Ce(de))return Si(de,Et);if(he(de))return Si(de.body,Et);throw new Error("makeIterator")}var so="Cannot convert supplied data type";function Co(de,Et,on){if(Et.text&&"string"==typeof de)return de;if(k(de)&&(de=de.buffer),de instanceof ArrayBuffer){const Kn=de;return Et.text&&!Et.binary?new TextDecoder("utf8").decode(Kn):Kn}if(ArrayBuffer.isView(de)){if(Et.text&&!Et.binary)return new TextDecoder("utf8").decode(de);let Kn=de.buffer;const ht=de.byteLength||de.length;return(0!==de.byteOffset||ht!==Kn.byteLength)&&(Kn=Kn.slice(de.byteOffset,de.byteOffset+ht)),Kn}throw new Error(so)}function jo(){return jo=r(function*(de,Et,on){const Kn=de instanceof ArrayBuffer||ArrayBuffer.isView(de);if("string"==typeof de||Kn)return Co(de,Et);if(we(de)&&(de=yield wt(de)),he(de)){const ht=de;return yield b(ht),Et.binary?yield ht.arrayBuffer():yield ht.text()}if(Ce(de)&&(de=Yi(de,on)),le(de)||z(de))return(0,xn.concatenateArrayBuffersAsync)(de);throw new Error(so)}),jo.apply(this,arguments)}function un(){return un=r(function*(de,Et){if(J(de))return de;if(he(de)){const on=de;return yield b(on),Yi(yield on.body,Et)}return we(de)||Ce(de)?Yi(de,Et):z(de)?de:function Ge(de){if(ArrayBuffer.isView(de))return function*(){yield de.buffer}();if(de instanceof ArrayBuffer)return function*(){yield de}();if(J(de))return de;if(le(de))return de[Symbol.iterator]();throw new Error(so)}(de)}),un.apply(this,arguments)}function xt(de,Et){const on=zt(),Kn=de||on;return"function"==typeof Kn.fetch?Kn.fetch:Z(Kn.fetch)?ht=>K(ht,Kn.fetch):Et?.fetch?Et?.fetch:K}var rn=w(28690);function Hn(de,Et,on){if(on)return on;const Kn={fetch:xt(Et,de),...de};if(Kn.url){const ht=qt(Kn.url);Kn.baseUrl=ht,Kn.queryString=function yt(de){const Et=de.match(Be);return Et&&Et[0]}(Kn.url),Kn.filename=rn.path.filename(ht),Kn.baseUrl=rn.path.dirname(ht)}return Array.isArray(Kn.loaders)||(Kn.loaders=null),Kn}function Dr(de,Et){if(de&&!Array.isArray(de))return de;let on;if(de&&(on=Array.isArray(de)?de:[de]),Et&&Et.loaders){const Kn=Array.isArray(Et.loaders)?Et.loaders:[Et.loaders];on=on?[...on,...Kn]:Kn}return on&&on.length?on:void 0}function Qr(de,Et,on,Kn){return Qi.apply(this,arguments)}function Qi(){return Qi=r(function*(de,Et,on,Kn){Et&&!Array.isArray(Et)&&!bt(Et)&&(Kn=void 0,on=Et,Et=void 0),on=on||{};const ht=Tt(de=yield de),ge=Dr(Et,Kn),He=yield At(de,ge,on);return He?(Kn=Hn({url:ht,_parse:Qr,loaders:ge},on=Cn(on,He,ge,ht),Kn||null),yield function Gi(de,Et,on,Kn){return vo.apply(this,arguments)}(He,de,on,Kn)):null}),Qi.apply(this,arguments)}function vo(){return vo=r(function*(de,Et,on,Kn){if((0,_t.validateWorkerVersion)(de),on=(0,bn.mergeLoaderOptions)(de.options,on),he(Et)){const $=Et,{ok:ge,redirected:He,status:Vt,statusText:wn,type:Wn,url:fr}=$,Ur=Object.fromEntries($.headers.entries());Kn.response={headers:Ur,ok:ge,redirected:He,status:Vt,statusText:wn,type:Wn,url:fr}}Et=yield function qi(de,Et,on){return jo.apply(this,arguments)}(Et,de,on);const ht=de;if(ht.parseTextSync&&"string"==typeof Et)return ht.parseTextSync(Et,on,Kn);if((0,Fe.canParseWithWorker)(de,on))return yield(0,Fe.parseWithWorker)(de,Et,on,Kn,Qr);if(ht.parseText&&"string"==typeof Et)return yield ht.parseText(Et,on,Kn);if(ht.parse)return yield ht.parse(Et,on,Kn);throw(0,_t.assert)(!ht.parseSync),new Error(`${de.id} loader - no parser found and worker is disabled`)}),vo.apply(this,arguments)}function Do(de,Et,on,Kn){!Array.isArray(Et)&&!bt(Et)&&(Kn=void 0,on=Et,Et=void 0),on=on||{};const $=Dr(Et,Kn),ge=Yn(de,$,on);if(!ge)return null;const Vt=()=>{throw new Error("parseSync called parse (which is async")};return function Ao(de,Et,on,Kn){if(Et=Co(Et,de),de.parseTextSync&&"string"==typeof Et)return de.parseTextSync(Et,on);if(de.parseSync&&Et instanceof ArrayBuffer)return de.parseSync(Et,on,Kn);throw new Error(`${de.name} loader: 'parseSync' not supported by this loader, use 'parse' instead. ${Kn.url||""}`)}(ge,de,on=Cn(on,ge,$),Kn=Hn({url:Tt(de),_parseSync:Vt,_parse:Vt,loaders:Et},on,Kn||null))}var Ms=w(47526),Ks=w(28690);function ms(de,Et,on,Kn){return Go.apply(this,arguments)}function Go(){return Go=r(function*(de,Et,on,Kn){const ht=Array.isArray(Et)?Et:void 0;!Array.isArray(Et)&&!bt(Et)&&(Kn=void 0,on=Et,Et=void 0),on=on||{};const $=Tt(de=yield de),ge=yield At(de,Et,on);return ge?(Kn=Hn({url:$,_parseInBatches:ms,_parse:Qr,loaders:ht},on=Cn(on,ge,ht,$),Kn||null),yield function Qo(de,Et,on,Kn){return os.apply(this,arguments)}(ge,de,on,Kn)):[]}),Go.apply(this,arguments)}function os(){return os=r(function*(de,Et,on,Kn){const ht=yield function ns(de,Et,on,Kn){return Rs.apply(this,arguments)}(de,Et,on,Kn);if(!on.metadata)return ht;const $={shape:"metadata",batchType:"metadata",metadata:{_loader:de,_context:Kn},data:[],bytesUsed:0};function He(){return(He=C(function*(Vt){yield $,yield*v(S(Vt),M)})).apply(this,arguments)}return function ge(Vt){return He.apply(this,arguments)}(ht)}),os.apply(this,arguments)}function Rs(){return Rs=r(function*(de,Et,on,Kn){const ht=yield function $n(de,Et){return un.apply(this,arguments)}(Et,on),$=yield function gi(de){return Ei.apply(this,arguments)}(ht,on?.transforms||[]);return de.parseInBatches?de.parseInBatches($,on,Kn):function rr(de,Et,on,Kn){return sr.apply(this,arguments)}($,de,on,Kn)}),Rs.apply(this,arguments)}function sr(){return sr=C(function*(de,Et,on,Kn){const ht=yield M((0,Ks.concatenateArrayBuffersAsync)(de)),$=yield M(Qr(ht,Et,{...on,mimeType:Et.mimeTypes[0]},Kn));yield function Lr(de,Et){const on=(0,Ms.isTable)(de)?(0,Ms.makeBatchFromTable)(de):{shape:"unknown",batchType:"data",data:de,length:Array.isArray(de)?de.length:1};return on.mimeType=Et.mimeTypes[0],on}($,Et)}),sr.apply(this,arguments)}function Ei(){return Ei=r(function*(de,Et=[]){let on=de;var $,Kn=!1,ht=!1;try{for(var He,ge=S(Et);Kn=!(He=yield ge.next()).done;Kn=!1)on=(0,He.value)(on)}catch(Vt){ht=!0,$=Vt}finally{try{Kn&&null!=ge.return&&(yield ge.return())}finally{if(ht)throw $}}return on}),Ei.apply(this,arguments)}function Fi(de,Et,on,Kn){return Wi.apply(this,arguments)}function Wi(){return Wi=r(function*(de,Et,on,Kn){let ht,$;Array.isArray(Et)||bt(Et)?(ht=Et,$=on):(ht=[],$=Et);const ge=xt($);let He=de;return"string"==typeof de&&(He=yield ge(de)),we(de)&&(He=yield ge(de)),Array.isArray(ht),yield Qr(He,ht,$)}),Wi.apply(this,arguments)}function ho(de,Et,on,Kn){let ht;Array.isArray(Et)||bt(Et)?ht=Et:(on=Et,ht=void 0);const $=xt(on||{});return Array.isArray(de)?de.map(He=>Bi(He,ht,on||{},$)):Bi(de,ht,on||{},$)}function Bi(de,Et,on,Kn){return ko.apply(this,arguments)}function ko(){return ko=r(function*(de,Et,on,Kn){if("string"==typeof de){const $=yield Kn(de);return Array.isArray(Et),yield ms($,Et,on)}return Array.isArray(Et),yield ms(de,Et,on)}),ko.apply(this,arguments)}var ls=w(28690);function Ls(de,Et,on){return ys.apply(this,arguments)}function ys(){return ys=r(function*(de,Et,on){if(Et.encode)return yield Et.encode(de,on);if(Et.encodeText){const Vt=yield Et.encodeText(de,on);return(new TextEncoder).encode(Vt)}if(Et.encodeInBatches){const Vt=Hs(de,Et,on),wn=[];var $,Kn=!1,ht=!1;try{for(var He,ge=S(Vt);Kn=!(He=yield ge.next()).done;Kn=!1)wn.push(He.value)}catch(Wn){ht=!0,$=Wn}finally{try{Kn&&null!=ge.return&&(yield ge.return())}finally{if(ht)throw $}}return(0,ls.concatenateArrayBuffers)(...wn)}throw new Error("Writer could not encode data")}),ys.apply(this,arguments)}function Os(de,Et,on){return qo.apply(this,arguments)}function qo(){return qo=r(function*(de,Et,on){if(Et.text&&Et.encodeText)return yield Et.encodeText(de,on);if(Et.text){const Kn=yield Ls(de,Et,on);return(new TextDecoder).decode(Kn)}throw new Error(`Writer ${Et.name} could not encode data as text`)}),qo.apply(this,arguments)}function Hs(de,Et,on){if(Et.encodeInBatches){const Kn=function Fo(de){return[{...de,start:0,end:de.length}]}(de);return Et.encodeInBatches(Kn,on)}throw new Error("Writer could not encode data in batches")}var pa=w(28690),oa=w(13827),Ds=w(28690);function zs(de,Et,on){return Ts.apply(this,arguments)}function Ts(){return Ts=r(function*(de,Et,on){return on={...zt(),...on},Et.encodeURLtoURL?function tt(de,Et,on){return gn.apply(this,arguments)}(Et,de,on):(0,pa.canEncodeWithWorker)(Et,on)?yield(0,oa.processOnWorker)(Et,de,on):yield Et.encode(de,on)}),Ts.apply(this,arguments)}function cs(de,Et,on){if(Et.encodeSync)return Et.encodeSync(de,on);if(Et.encodeTextSync)return(new TextEncoder).encode(Et.encodeTextSync(de,on));throw new Error(`Writer ${Et.name} could not synchronously encode data`)}function ua(de,Et,on){return Jn.apply(this,arguments)}function Jn(){return Jn=r(function*(de,Et,on){if(Et.encodeText)return yield Et.encodeText(de,on);if(Et.encodeTextSync)return Et.encodeTextSync(de,on);if(Et.text){const Kn=yield Et.encode(de,on);return(new TextDecoder).decode(Kn)}throw new Error(`Writer ${Et.name} could not encode data as text`)}),Jn.apply(this,arguments)}function lr(de,Et,on){if(Et.encodeTextSync)return Et.encodeTextSync(de,on);if(Et.text&&Et.encodeSync){const Kn=cs(de,Et,on);return(new TextDecoder).decode(Kn)}throw new Error(`Writer ${Et.name} could not encode data as text`)}function mr(de,Et,on){if(Et.encodeInBatches){const Kn=function jt(de){return[{...de,start:0,end:de.length}]}(de);return Et.encodeInBatches(Kn,on)}throw new Error(`Writer ${Et.name} could not encode in batches`)}function Ir(de,Et,on,Kn){return Ai.apply(this,arguments)}function Ai(){return Ai=r(function*(de,Et,on,Kn){if(de=(0,pa.resolvePath)(de),Et=(0,pa.resolvePath)(Et),Ds.isBrowser||!on.encodeURLtoURL)throw new Error;return yield on.encodeURLtoURL(de,Et,Kn)}),Ai.apply(this,arguments)}function gn(){return gn=r(function*(de,Et,on){if(Ds.isBrowser)throw new Error(`Writer ${de.name} not supported in browser`);const Kn=cn("input");yield new pa.NodeFile(Kn,"w").write(Et);const $=cn("output"),ge=yield Ir(Kn,$,de,on);return(yield K(ge)).arrayBuffer()}),gn.apply(this,arguments)}function cn(de){return`/tmp/${de}`}var je=w(28690),It=w(28690);function Qt(de,Et){if(globalThis.loaders.makeNodeStream)return globalThis.loaders.makeNodeStream(de,Et);const on=de[Symbol.asyncIterator]?de[Symbol.asyncIterator]():de[Symbol.iterator]();return new ReadableStream({type:"bytes",pull:Kn=>r(function*(){try{const{done:ht,value:$}=yield on.next();ht?Kn.close():Kn.enqueue(new Uint8Array($))}catch(ht){Kn.error(ht)}})(),cancel:()=>r(function*(){var Kn;yield null==(Kn=on?.return)?void 0:Kn.call(on)})()},{highWaterMark:2**24,...Et})}var hr={dataType:null,batchType:null,name:"Null loader",id:"null",module:"core",version:"4.2.1",worker:!0,mimeTypes:["application/x.empty"],extensions:["null"],tests:[()=>!1],options:{null:{}}},yr={dataType:null,batchType:null,name:"Null loader",id:"null",module:"core",version:"4.2.1",mimeTypes:["application/x.empty"],extensions:["null"],parse:function(){var de=r(function*(Et,on,Kn){return null});return function(on,Kn,ht){return de.apply(this,arguments)}}(),parseSync:function Hr(de,Et,on){return null},parseInBatches:function(){var de=C(function*(on,Kn,ht){var He,$=!1,ge=!1;try{for(var Vt=S(on);$=!(yield M(Vt.next())).done;$=!1)yield null}catch(Wn){ge=!0,He=Wn}finally{try{$&&null!=Vt.return&&(yield M(Vt.return()))}finally{if(ge)throw He}}});return function Et(on,Kn,ht){return de.apply(this,arguments)}}(),tests:[()=>!1],options:{null:{}}};var jr=w(28690);function oi(de,Et){return qr.apply(this,arguments)}function qr(){return qr=r(function*(de,Et,on=(()=>{}),Kn=(()=>{})){if(!(de=yield de).ok)return de;const ht=de.body;if(!ht)return de;const $=de.headers.get("content-length")||0,ge=$?parseInt($):0;if(!(ge>0)||typeof ReadableStream>"u"||!ht.getReader)return de;const He=new ReadableStream({start:Vt=>r(function*(){const wn=ht.getReader();yield Ui(Vt,wn,0,ge,Et,on,Kn)})()});return new Response(He)}),qr.apply(this,arguments)}function Ui(de,Et,on,Kn,ht,$,ge){return co.apply(this,arguments)}function co(){return co=r(function*(de,Et,on,Kn,ht,$,ge){try{const{done:He,value:Vt}=yield Et.read();if(He)return $(),void de.close();on+=Vt.byteLength,ht(Math.round(on/Kn*100),{loadedBytes:on,totalBytes:Kn}),de.enqueue(Vt),yield Ui(de,Et,on,Kn,ht,$,ge)}catch(He){de.error(He),ge(He)}}),co.apply(this,arguments)}var Ro=w(28690),mo=class{constructor(Et,on){s(this,"_fetch",void 0),s(this,"files",{}),s(this,"lowerCaseFiles",{}),s(this,"usedFiles",{}),this._fetch=on?.fetch||fetch;for(let Kn=0;Kn<Et.length;++Kn){const ht=Et[Kn];this.files[ht.name]=ht,this.lowerCaseFiles[ht.name.toLowerCase()]=ht,this.usedFiles[ht.name]=!1}this.fetch=this.fetch.bind(this)}fetch(Et,on){var Kn=this;return r(function*(){if(Et.includes("://"))return Kn._fetch(Et,on);const ht=Kn.files[Et];if(!ht)return new Response(Et,{status:400,statusText:"NOT FOUND"});const ge=new Headers(on?.headers).get("Range"),He=ge&&/bytes=($1)-($2)/.exec(ge);if(He){const wn=parseInt(He[1]),Wn=parseInt(He[2]),fr=yield ht.slice(wn,Wn).arrayBuffer(),Ur=new Response(fr);return Object.defineProperty(Ur,"url",{value:Et}),Ur}const Vt=new Response(ht);return Object.defineProperty(Vt,"url",{value:Et}),Vt})()}readdir(Et){var on=this;return r(function*(){const Kn=[];for(const ht in on.files)Kn.push(ht);return Kn})()}stat(Et,on){var Kn=this;return r(function*(){const ht=Kn.files[Et];if(!ht)throw new Error(Et);return{size:ht.size}})()}unlink(Et){var on=this;return r(function*(){delete on.files[Et],delete on.lowerCaseFiles[Et],on.usedFiles[Et]=!0})()}openReadableFile(Et,on){var Kn=this;return r(function*(){return new Ro.BlobFile(Kn.files[Et])})()}_getFile(Et,on){const Kn=this.files[Et]||this.lowerCaseFiles[Et];return Kn&&on&&(this.usedFiles[Et]=!0),Kn}},nt=w(28690),$e=w(28690),an=w(28690),at=w(28690)},36848:(ln,qe,w)=>{"use strict";var ie,r=w(31049).default,s=w(15985).default,v=Object.defineProperty,S=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,G={};((ie,D)=>{for(var K in D)v(ie,K,{get:D[K],enumerable:!0})})(G,{DRACO_EXTERNAL_LIBRARIES:()=>Ze,DRACO_EXTERNAL_LIBRARY_URLS:()=>Ce,DracoLoader:()=>h,DracoWorkerLoader:()=>x,DracoWriter:()=>R,DracoWriterWorker:()=>j}),ln.exports=(ie=G,((ie,D,K,se)=>{if(D&&"object"==typeof D||"function"==typeof D)for(let Le of M(D))!C.call(ie,Le)&&undefined!==Le&&v(ie,Le,{get:()=>D[Le],enumerable:!(se=S(D,Le))||se.enumerable});return ie})(v({},"__esModule",{value:!0}),ie));var N="4.2.1",x={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:N,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}},m=w(47526),E=w(47526);function U(ie,D,K){const se=K?Z(K.metadata):void 0;return(0,E.deduceMeshField)(ie,D,se)}function Z(ie){Object.entries(ie);const D={};for(const K in ie)D[`${K}.string`]=JSON.stringify(ie[K]);return D}var Nt,Kt,ne={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},q={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},z=class{constructor(D){s(this,"draco",void 0),s(this,"decoder",void 0),s(this,"metadataQuerier",void 0),this.draco=D,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(D,K={}){const se=new this.draco.DecoderBuffer;se.Init(new Int8Array(D),D.byteLength),this._disableAttributeTransforms(K);const Le=this.decoder.GetEncodedGeometryType(se),ct=Le===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let ut;switch(Le){case this.draco.TRIANGULAR_MESH:ut=this.decoder.DecodeBufferToMesh(se,ct);break;case this.draco.POINT_CLOUD:ut=this.decoder.DecodeBufferToPointCloud(se,ct);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!ut.ok()||!ct.ptr){const pn=`DRACO decompression failed: ${ut.error_msg()}`;throw new Error(pn)}const en=this._getDracoLoaderData(ct,Le,K),Oe=this._getMeshData(ct,en,K),Pt=(0,m.getMeshBoundingBox)(Oe.attributes),it=function L(ie,D,K){const se=Z(D.metadata),Le=[],ct=function ae(ie){const D={};for(const K in ie){const se=ie[K];D[se.name||"undefined"]=se}return D}(D.attributes);for(const ut in ie){const Oe=U(ut,ie[ut],ct[ut]);Le.push(Oe)}if(K){const ut=U("indices",K);Le.push(ut)}return{fields:Le,metadata:se}}(Oe.attributes,en,Oe.indices);return{loader:"draco",loaderData:en,header:{vertexCount:ct.num_points(),boundingBox:Pt},...Oe,schema:it}}finally{this.draco.destroy(se),ct&&this.draco.destroy(ct)}}_getDracoLoaderData(D,K,se){const Le=this._getTopLevelMetadata(D),ct=this._getDracoAttributes(D,se);return{geometry_type:K,num_attributes:D.num_attributes(),num_points:D.num_points(),num_faces:D instanceof this.draco.Mesh?D.num_faces():0,metadata:Le,attributes:ct}}_getDracoAttributes(D,K){const se={};for(let Le=0;Le<D.num_attributes();Le++){const ct=this.decoder.GetAttribute(D,Le),ut=this._getAttributeMetadata(D,Le);se[ct.unique_id()]={unique_id:ct.unique_id(),attribute_type:ct.attribute_type(),data_type:ct.data_type(),num_components:ct.num_components(),byte_offset:ct.byte_offset(),byte_stride:ct.byte_stride(),normalized:ct.normalized(),attribute_index:Le,metadata:ut};const en=this._getQuantizationTransform(ct,K);en&&(se[ct.unique_id()].quantization_transform=en);const Oe=this._getOctahedronTransform(ct,K);Oe&&(se[ct.unique_id()].octahedron_transform=Oe)}return se}_getMeshData(D,K,se){const Le=this._getMeshAttributes(K,D,se);if(!Le.POSITION)throw new Error("DRACO: No position attribute found.");return D instanceof this.draco.Mesh?"triangle-strip"===se.topology?{topology:"triangle-strip",mode:4,attributes:Le,indices:{value:this._getTriangleStripIndices(D),size:1}}:{topology:"triangle-list",mode:5,attributes:Le,indices:{value:this._getTriangleListIndices(D),size:1}}:{topology:"point-list",mode:0,attributes:Le}}_getMeshAttributes(D,K,se){const Le={};for(const ct of Object.values(D.attributes)){const ut=this._deduceAttributeName(ct,se);ct.name=ut;const en=this._getAttributeValues(K,ct);if(en){const{value:Oe,size:Pt}=en;Le[ut]={value:Oe,size:Pt,byteOffset:ct.byte_offset,byteStride:ct.byte_stride,normalized:ct.normalized}}}return Le}_getTriangleListIndices(D){const se=3*D.num_faces(),Le=4*se,ct=this.draco._malloc(Le);try{return this.decoder.GetTrianglesUInt32Array(D,Le,ct),new Uint32Array(this.draco.HEAPF32.buffer,ct,se).slice()}finally{this.draco._free(ct)}}_getTriangleStripIndices(D){const K=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(D,K),function we(ie){const D=ie.size(),K=new Int32Array(D);for(let se=0;se<D;se++)K[se]=ie.GetValue(se);return K}(K)}finally{this.draco.destroy(K)}}_getAttributeValues(D,K){const se=q[K.data_type];if(!se)return console.warn(`DRACO: Unsupported attribute type ${K.data_type}`),null;const Le=K.num_components,ut=D.num_points()*Le,en=ut*se.BYTES_PER_ELEMENT,Oe=function J(ie,D){switch(D){case Float32Array:return ie.DT_FLOAT32;case Int8Array:return ie.DT_INT8;case Int16Array:return ie.DT_INT16;case Int32Array:return ie.DT_INT32;case Uint8Array:return ie.DT_UINT8;case Uint16Array:return ie.DT_UINT16;case Uint32Array:return ie.DT_UINT32;default:return ie.DT_INVALID}}(this.draco,se);let Pt;const it=this.draco._malloc(en);try{const Bt=this.decoder.GetAttribute(D,K.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(D,Bt,Oe,en,it),Pt=new se(this.draco.HEAPF32.buffer,it,ut).slice()}finally{this.draco._free(it)}return{value:Pt,size:Le}}_deduceAttributeName(D,K){const se=D.unique_id;for(const[ut,en]of Object.entries(K.extraAttributes||{}))if(en===se)return ut;const Le=D.attribute_type;for(const ut in ne)if(this.draco[ut]===Le)return ne[ut];const ct=K.attributeNameEntry||"name";return D.metadata[ct]?D.metadata[ct].string:`CUSTOM_ATTRIBUTE_${se}`}_getTopLevelMetadata(D){const K=this.decoder.GetMetadata(D);return this._getDracoMetadata(K)}_getAttributeMetadata(D,K){const se=this.decoder.GetAttributeMetadata(D,K);return this._getDracoMetadata(se)}_getDracoMetadata(D){if(!D||!D.ptr)return{};const K={},se=this.metadataQuerier.NumEntries(D);for(let Le=0;Le<se;Le++){const ct=this.metadataQuerier.GetEntryName(D,Le);K[ct]=this._getDracoMetadataField(D,ct)}return K}_getDracoMetadataField(D,K){const se=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(D,K,se);const Le=function he(ie){const D=ie.size(),K=new Int32Array(D);for(let se=0;se<D;se++)K[se]=ie.GetValue(se);return K}(se);return{int:this.metadataQuerier.GetIntEntry(D,K),string:this.metadataQuerier.GetStringEntry(D,K),double:this.metadataQuerier.GetDoubleEntry(D,K),intArray:Le}}finally{this.draco.destroy(se)}}_disableAttributeTransforms(D){const{quantizedAttributes:K=[],octahedronAttributes:se=[]}=D,Le=[...K,...se];for(const ct of Le)this.decoder.SkipAttributeTransform(this.draco[ct])}_getQuantizationTransform(D,K){const{quantizedAttributes:se=[]}=K,Le=D.attribute_type();if(se.map(ut=>this.decoder[ut]).includes(Le)){const ut=new this.draco.AttributeQuantizationTransform;try{if(ut.InitFromAttribute(D))return{quantization_bits:ut.quantization_bits(),range:ut.range(),min_values:new Float32Array([1,2,3]).map(en=>ut.min_value(en))}}finally{this.draco.destroy(ut)}}return null}_getOctahedronTransform(D,K){const{octahedronAttributes:se=[]}=K,Le=D.attribute_type();if(se.map(ut=>this.decoder[ut]).includes(Le)){const ut=new this.draco.AttributeQuantizationTransform;try{if(ut.InitFromAttribute(D))return{quantization_bits:ut.quantization_bits()}}finally{this.draco.destroy(ut)}}return null}},k=w(13827),ke="https://www.gstatic.com/draco/versioned/decoders/1.5.6",Ze={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},Ce={[Ze.DECODER]:`${ke}/${Ze.DECODER}`,[Ze.DECODER_WASM]:`${ke}/${Ze.DECODER_WASM}`,[Ze.FALLBACK_DECODER]:`${ke}/${Ze.FALLBACK_DECODER}`,[Ze.ENCODER]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${Ze.ENCODER}`};function ee(){return ee=r(function*(ie){const D=ie.modules||{};return Nt||=D.draco3d?D.draco3d.createDecoderModule({}).then(K=>({draco:K})):function Se(ie){return Be.apply(this,arguments)}(ie),yield Nt}),ee.apply(this,arguments)}function ye(){return ye=r(function*(ie){const D=ie.modules||{};return Kt||=D.draco3d?D.draco3d.createEncoderModule({}).then(K=>({draco:K})):function qt(ie){return Ln.apply(this,arguments)}(ie),yield Kt}),ye.apply(this,arguments)}function Be(){return Be=r(function*(ie){let D,K;return"js"===(ie.draco&&ie.draco.decoderType)?D=yield(0,k.loadLibrary)(Ce[Ze.FALLBACK_DECODER],"draco",ie,Ze.FALLBACK_DECODER):[D,K]=yield Promise.all([yield(0,k.loadLibrary)(Ce[Ze.DECODER],"draco",ie,Ze.DECODER),yield(0,k.loadLibrary)(Ce[Ze.DECODER_WASM],"draco",ie,Ze.DECODER_WASM)]),D=D||globalThis.DracoDecoderModule,yield function yt(ie,D){const K={};return D&&(K.wasmBinary=D),new Promise(se=>{ie({...K,onModuleLoaded:Le=>se({draco:Le})})})}(D,K)}),Be.apply(this,arguments)}function Ln(){return Ln=r(function*(ie){let D=yield(0,k.loadLibrary)(Ce[Ze.ENCODER],"draco",ie,Ze.ENCODER);return D=D||globalThis.DracoEncoderModule,new Promise(K=>{D({onModuleLoaded:se=>K({draco:se})})})}),Ln.apply(this,arguments)}var Tt={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"},We=()=>{},Ve=class{constructor(D){s(this,"draco",void 0),s(this,"dracoEncoder",void 0),s(this,"dracoMeshBuilder",void 0),s(this,"dracoMetadataBuilder",void 0),s(this,"log",void 0),this.draco=D,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder}destroy(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}destroyEncodedObject(D){D&&this.draco.destroy(D)}encodeSync(D,K={}){return this.log=We,this._setOptions(K),K.pointcloud?this._encodePointCloud(D,K):this._encodeMesh(D,K)}_getAttributesFromMesh(D){const K={...D,...D.attributes};return D.indices&&(K.indices=D.indices),K}_encodePointCloud(D,K){const se=new this.draco.PointCloud;K.metadata&&this._addGeometryMetadata(se,K.metadata);const Le=this._getAttributesFromMesh(D);this._createDracoPointCloud(se,Le,K);const ct=new this.draco.DracoInt8Array;try{const ut=this.dracoEncoder.EncodePointCloudToDracoBuffer(se,!1,ct);if(!(ut>0))throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${se.num_points()} points\n        with ${se.num_attributes()} attributes into ${ut} bytes`),wt(ct)}finally{this.destroyEncodedObject(ct),this.destroyEncodedObject(se)}}_encodeMesh(D,K){const se=new this.draco.Mesh;K.metadata&&this._addGeometryMetadata(se,K.metadata);const Le=this._getAttributesFromMesh(D);this._createDracoMesh(se,Le,K);const ct=new this.draco.DracoInt8Array;try{const ut=this.dracoEncoder.EncodeMeshToDracoBuffer(se,ct);if(ut<=0)throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${se.num_points()} points\n        with ${se.num_attributes()} attributes into ${ut} bytes`),wt(ct)}finally{this.destroyEncodedObject(ct),this.destroyEncodedObject(se)}}_setOptions(D){if("speed"in D&&this.dracoEncoder.SetSpeedOptions(...D.speed),"method"in D&&this.dracoEncoder.SetEncodingMethod(this.draco[D.method||"MESH_SEQUENTIAL_ENCODING"]),"quantization"in D)for(const K in D.quantization)this.dracoEncoder.SetAttributeQuantization(this.draco[K],D.quantization[K])}_createDracoMesh(D,K,se){const Le=se.attributesMetadata||{};try{const ct=this._getPositionAttribute(K);if(!ct)throw new Error("positions");const ut=ct.length/3;for(let en in K){const Oe=K[en];en=Tt[en]||en;const Pt=this._addAttributeToMesh(D,en,Oe,ut);-1!==Pt&&this._addAttributeMetadata(D,Pt,{name:en,...Le[en]||{}})}}catch(ct){throw this.destroyEncodedObject(D),ct}return D}_createDracoPointCloud(D,K,se){const Le=se.attributesMetadata||{};try{const ct=this._getPositionAttribute(K);if(!ct)throw new Error("positions");const ut=ct.length/3;for(let en in K){const Oe=K[en];en=Tt[en]||en;const Pt=this._addAttributeToMesh(D,en,Oe,ut);-1!==Pt&&this._addAttributeMetadata(D,Pt,{name:en,...Le[en]||{}})}}catch(ct){throw this.destroyEncodedObject(D),ct}return D}_addAttributeToMesh(D,K,se,Le){if(!ArrayBuffer.isView(se))return-1;const ct=this._getDracoAttributeType(K),ut=se.length/Le;if("indices"===ct){const Pt=se.length/3;return this.log(`Adding attribute ${K}, size ${Pt}`),this.dracoMeshBuilder.AddFacesToMesh(D,Pt,se),-1}this.log(`Adding attribute ${K}, size ${ut}`);const en=this.dracoMeshBuilder,{buffer:Oe}=se;switch(se.constructor){case Int8Array:return en.AddInt8Attribute(D,ct,Le,ut,new Int8Array(Oe));case Int16Array:return en.AddInt16Attribute(D,ct,Le,ut,new Int16Array(Oe));case Int32Array:return en.AddInt32Attribute(D,ct,Le,ut,new Int32Array(Oe));case Uint8Array:case Uint8ClampedArray:return en.AddUInt8Attribute(D,ct,Le,ut,new Uint8Array(Oe));case Uint16Array:return en.AddUInt16Attribute(D,ct,Le,ut,new Uint16Array(Oe));case Uint32Array:return en.AddUInt32Attribute(D,ct,Le,ut,new Uint32Array(Oe));case Float32Array:return en.AddFloatAttribute(D,ct,Le,ut,new Float32Array(Oe));default:return console.warn("Unsupported attribute type",se),-1}}_getDracoAttributeType(D){switch(D.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texcoord":case"texcoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}_getPositionAttribute(D){for(const K in D){const se=D[K];if(this._getDracoAttributeType(K)===this.draco.POSITION)return se}return null}_addGeometryMetadata(D,K){const se=new this.draco.Metadata;this._populateDracoMetadata(se,K),this.dracoMeshBuilder.AddMetadata(D,se)}_addAttributeMetadata(D,K,se){const Le=new this.draco.Metadata;this._populateDracoMetadata(Le,se),this.dracoMeshBuilder.SetMetadataForAttribute(D,K,Le)}_populateDracoMetadata(D,K){for(const[se,Le]of function Y(ie){return ie.entries&&!ie.hasOwnProperty("entries")?ie.entries():Object.entries(ie)}(K))switch(typeof Le){case"number":Math.trunc(Le)===Le?this.dracoMetadataBuilder.AddIntEntry(D,se,Le):this.dracoMetadataBuilder.AddDoubleEntry(D,se,Le);break;case"object":Le instanceof Int32Array&&this.dracoMetadataBuilder.AddIntEntryArray(D,se,Le,Le.length);break;default:this.dracoMetadataBuilder.AddStringEntry(D,se,Le)}}};function wt(ie){const D=ie.size(),K=new ArrayBuffer(D),se=new Int8Array(K);for(let Le=0;Le<D;++Le)se[Le]=ie.GetValue(Le);return K}var R={name:"DRACO",id:"draco",module:"draco",version:N,extensions:["drc"],options:{draco:{pointcloud:!1,attributeNameEntry:"name"}},encode:function T(ie){return V.apply(this,arguments)}};function V(){return V=r(function*(ie,D={}){const{draco:K}=yield function fe(ie){return ye.apply(this,arguments)}(D),se=new Ve(K);try{return se.encodeSync(ie,D.draco)}finally{se.destroy()}}),V.apply(this,arguments)}var j={id:"draco-writer",name:"Draco compressed geometry writer",module:"draco",version:N,worker:!0,options:{draco:{},source:null}},h={...x,parse:function I(ie,D){return xe.apply(this,arguments)}};function xe(){return xe=r(function*(ie,D){const{draco:K}=yield function me(ie){return ee.apply(this,arguments)}(D),se=new z(K);try{return se.parseSync(ie,D?.draco)}finally{se.destroy()}}),xe.apply(this,arguments)}},13128:(ln,qe,w)=>{"use strict";var Gt,r=w(31049).default,s=w(15985).default,v=Object.defineProperty,S=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,d=(Gt,Ae)=>{for(var ot in Ae)v(Gt,ot,{get:Ae[ot],enumerable:!0})},G={};d(G,{EXT_FEATURE_METADATA:()=>Zn,EXT_MESH_FEATURES:()=>b,EXT_STRUCTURAL_METADATA:()=>xe,GLBLoader:()=>Un,GLBWriter:()=>zr,GLTFLoader:()=>Ue,GLTFScenegraph:()=>Ce,GLTFWriter:()=>pi,_getMemoryUsageGLTF:()=>ue,postProcessGLTF:()=>rs}),ln.exports=(Gt=G,((Gt,Ae,ot,Ct)=>{if(Ae&&"object"==typeof Ae||"function"==typeof Ae)for(let fn of M(Ae))!C.call(Gt,fn)&&undefined!==fn&&v(Gt,fn,{get:()=>Ae[fn],enumerable:!(Ct=S(Ae,fn))||Ct.enumerable});return Gt})(v({},"__esModule",{value:!0}),Gt));var N={};d(N,{decode:()=>R,name:()=>b});var x=w(14315),m=w(28690);function E(Gt,Ae){if(!Gt)throw new Error(Ae||"assert failed: gltf")}var L={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ae={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},U=1.33,Z=["SCALAR","VEC2","VEC3","VEC4"],ne=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],q=new Map(ne),le={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},z={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},J={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function he(Gt){return Z[Gt-1]||Z[0]}function we(Gt){const Ae=q.get(Gt.constructor);if(!Ae)throw new Error("Illegal typed array");return Ae}function k(Gt,Ae){const ot=J[Gt.componentType],Ct=le[Gt.type],jn=Gt.count*Ct,tr=Gt.count*Ct*z[Gt.componentType];return E(tr>=0&&tr<=Ae.byteLength),{ArrayType:ot,length:jn,byteLength:tr,componentByteSize:ae[Gt.componentType],numberOfComponentsInElement:L[Gt.type]}}function ue(Gt){let{images:Ae,bufferViews:ot}=Gt;Ae=Ae||[],ot=ot||[];const Ct=Ae.map(tr=>tr.bufferView);ot=ot.filter(tr=>!Ct.includes(tr));const fn=ot.reduce((tr,ti)=>tr+ti.byteLength,0),jn=Ae.reduce((tr,ti)=>{const{width:Pi,height:eo}=ti.image;return tr+Pi*eo},0);return fn+Math.ceil(4*jn*U)}var Ce=class{constructor(Ae){s(this,"gltf",void 0),s(this,"sourceBuffers",void 0),s(this,"byteLength",void 0),this.gltf={json:Ae?.json||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:Ae?.buffers||[],images:Ae?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(Ae){return this.json[Ae]}getExtraData(Ae){return(this.json.extras||{})[Ae]}hasExtension(Ae){const ot=this.getUsedExtensions().find(fn=>fn===Ae),Ct=this.getRequiredExtensions().find(fn=>fn===Ae);return"string"==typeof ot||"string"==typeof Ct}getExtension(Ae){return this.getUsedExtensions().find(fn=>fn===Ae)?(this.json.extensions||{})[Ae]:null}getRequiredExtension(Ae){return this.getRequiredExtensions().find(Ct=>Ct===Ae)?this.getExtension(Ae):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(Ae,ot){return(Ae.extensions||{})[ot]}getScene(Ae){return this.getObject("scenes",Ae)}getNode(Ae){return this.getObject("nodes",Ae)}getSkin(Ae){return this.getObject("skins",Ae)}getMesh(Ae){return this.getObject("meshes",Ae)}getMaterial(Ae){return this.getObject("materials",Ae)}getAccessor(Ae){return this.getObject("accessors",Ae)}getTexture(Ae){return this.getObject("textures",Ae)}getSampler(Ae){return this.getObject("samplers",Ae)}getImage(Ae){return this.getObject("images",Ae)}getBufferView(Ae){return this.getObject("bufferViews",Ae)}getBuffer(Ae){return this.getObject("buffers",Ae)}getObject(Ae,ot){if("object"==typeof ot)return ot;const Ct=this.json[Ae]&&this.json[Ae][ot];if(!Ct)throw new Error(`glTF file error: Could not find ${Ae}[${ot}]`);return Ct}getTypedArrayForBufferView(Ae){Ae=this.getBufferView(Ae);const Ct=this.gltf.buffers[Ae.buffer];return E(Ct),new Uint8Array(Ct.arrayBuffer,(Ae.byteOffset||0)+Ct.byteOffset,Ae.byteLength)}getTypedArrayForAccessor(Ae){const ot=this.getAccessor(Ae);return function ke(Gt,Ae,ot){var Ct,fn;const jn="number"==typeof ot?null==(Ct=Gt.accessors)?void 0:Ct[ot]:ot;if(!jn)throw new Error(`No gltf accessor ${JSON.stringify(ot)}`);const tr=null==(fn=Gt.bufferViews)?void 0:fn[jn.bufferView||0];if(!tr)throw new Error(`No gltf buffer view for accessor ${tr}`);const{arrayBuffer:ti,byteOffset:Pi}=Ae[tr.buffer],eo=(Pi||0)+(jn.byteOffset||0)+(tr.byteOffset||0),{ArrayType:lo,length:Oo,componentByteSize:ss,numberOfComponentsInElement:sa}=k(jn,tr),Ca=ss*sa,_e=tr.byteStride||Ca;if(typeof tr.byteStride>"u"||tr.byteStride===Ca)return new lo(ti,eo,Oo);const dt=new lo(Oo);for(let On=0;On<jn.count;On++){const Ke=new lo(ti,eo+On*_e,sa);dt.set(Ke,On*sa)}return dt}(this.gltf.json,this.gltf.buffers,ot)}getTypedArrayForImageData(Ae){Ae=this.getAccessor(Ae);const ot=this.getBufferView(Ae.bufferView),fn=this.getBuffer(ot.buffer).data;return new Uint8Array(fn,ot.byteOffset||0,ot.byteLength)}addApplicationData(Ae,ot){return this.json[Ae]=ot,this}addExtraData(Ae,ot){return this.json.extras=this.json.extras||{},this.json.extras[Ae]=ot,this}addObjectExtension(Ae,ot,Ct){return Ae.extensions=Ae.extensions||{},Ae.extensions[ot]=Ct,this.registerUsedExtension(ot),this}setObjectExtension(Ae,ot,Ct){(Ae.extensions||{})[ot]=Ct}removeObjectExtension(Ae,ot){const Ct=Ae?.extensions||{};if(Ct[ot]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const fn=this.json.extensionsRemoved;fn.includes(ot)||fn.push(ot)}delete Ct[ot]}addExtension(Ae,ot={}){return E(ot),this.json.extensions=this.json.extensions||{},this.json.extensions[Ae]=ot,this.registerUsedExtension(Ae),ot}addRequiredExtension(Ae,ot={}){return E(ot),this.addExtension(Ae,ot),this.registerRequiredExtension(Ae),ot}registerUsedExtension(Ae){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(ot=>ot===Ae)||this.json.extensionsUsed.push(Ae)}registerRequiredExtension(Ae){this.registerUsedExtension(Ae),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(ot=>ot===Ae)||this.json.extensionsRequired.push(Ae)}removeExtension(Ae){var ot;if(null!=(ot=this.json.extensions)&&ot[Ae]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const Ct=this.json.extensionsRemoved;Ct.includes(Ae)||Ct.push(Ae)}this.json.extensions&&delete this.json.extensions[Ae],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,Ae),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,Ae)}setDefaultScene(Ae){this.json.scene=Ae}addScene(Ae){const{nodeIndices:ot}=Ae;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:ot}),this.json.scenes.length-1}addNode(Ae){const{meshIndex:ot,matrix:Ct}=Ae;this.json.nodes=this.json.nodes||[];const fn={mesh:ot};return Ct&&(fn.matrix=Ct),this.json.nodes.push(fn),this.json.nodes.length-1}addMesh(Ae){const{attributes:ot,indices:Ct,material:fn,mode:jn=4}=Ae,ti={primitives:[{attributes:this._addAttributes(ot),mode:jn}]};if(Ct){const Pi=this._addIndices(Ct);ti.primitives[0].indices=Pi}return Number.isFinite(fn)&&(ti.primitives[0].material=fn),this.json.meshes=this.json.meshes||[],this.json.meshes.push(ti),this.json.meshes.length-1}addPointCloud(Ae){const Ct={primitives:[{attributes:this._addAttributes(Ae),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(Ct),this.json.meshes.length-1}addImage(Ae,ot){const Ct=(0,x.getBinaryImageMetadata)(Ae),fn=ot||Ct?.mimeType,tr={bufferView:this.addBufferView(Ae),mimeType:fn};return this.json.images=this.json.images||[],this.json.images.push(tr),this.json.images.length-1}addBufferView(Ae,ot=0,Ct=this.byteLength){const fn=Ae.byteLength;E(Number.isFinite(fn)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(Ae);const jn={buffer:ot,byteOffset:Ct,byteLength:fn};return this.byteLength+=(0,m.padToNBytes)(fn,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(jn),this.json.bufferViews.length-1}addAccessor(Ae,ot){const Ct={bufferView:Ae,type:he(ot.size),componentType:ot.componentType,count:ot.count,max:ot.max,min:ot.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(Ct),this.json.accessors.length-1}addBinaryBuffer(Ae,ot={size:3}){const Ct=this.addBufferView(Ae);let fn={min:ot.min,max:ot.max};(!fn.min||!fn.max)&&(fn=this._getAccessorMinMax(Ae,ot.size));const jn={size:ot.size,componentType:we(Ae),count:Math.round(Ae.length/ot.size),min:fn.min,max:fn.max};return this.addAccessor(Ct,Object.assign(jn,ot))}addTexture(Ae){const{imageIndex:ot}=Ae,Ct={source:ot};return this.json.textures=this.json.textures||[],this.json.textures.push(Ct),this.json.textures.length-1}addMaterial(Ae){return this.json.materials=this.json.materials||[],this.json.materials.push(Ae),this.json.materials.length-1}createBinaryChunk(){var Ae,ot;this.gltf.buffers=[];const Ct=this.byteLength,fn=new ArrayBuffer(Ct),jn=new Uint8Array(fn);let tr=0;for(const ti of this.sourceBuffers||[])tr=(0,m.copyToArray)(ti,jn,tr);null!=(ot=null==(Ae=this.json)?void 0:Ae.buffers)&&ot[0]?this.json.buffers[0].byteLength=Ct:this.json.buffers=[{byteLength:Ct}],this.gltf.binary=fn,this.sourceBuffers=[fn]}_removeStringFromArray(Ae,ot){let Ct=!0;for(;Ct;){const fn=Ae.indexOf(ot);fn>-1?Ae.splice(fn,1):Ct=!1}}_addAttributes(Ae={}){const ot={};for(const Ct in Ae){const fn=Ae[Ct],jn=this._getGltfAttributeName(Ct),tr=this.addBinaryBuffer(fn.value,fn);ot[jn]=tr}return ot}_addIndices(Ae){return this.addBinaryBuffer(Ae,{size:1})}_getGltfAttributeName(Ae){switch(Ae.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return Ae}}_getAccessorMinMax(Ae,ot){const Ct={min:null,max:null};if(Ae.length<ot)return Ct;Ct.min=[],Ct.max=[];const fn=Ae.subarray(0,ot);for(const jn of fn)Ct.min.push(jn),Ct.max.push(jn);for(let jn=ot;jn<Ae.length;jn+=ot)for(let tr=0;tr<ot;tr++)Ct.min[0+tr]=Math.min(Ct.min[0+tr],Ae[jn+tr]),Ct.max[0+tr]=Math.max(Ct.max[0+tr],Ae[jn+tr]);return Ct}},Nt=w(14315);function Kt(Gt){return(Gt%1+1)%1}var me={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},ee={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},fe={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function ye(Gt,Ae){return fe[Ae]*me[Gt]}function Se(Gt,Ae,ot,Ct){if("UINT8"!==ot&&"UINT16"!==ot&&"UINT32"!==ot&&"UINT64"!==ot)return null;const jn=Be(Gt.getTypedArrayForBufferView(Ae),"SCALAR",ot,Ct+1);return jn instanceof BigInt64Array||jn instanceof BigUint64Array?null:jn}function Be(Gt,Ae,ot,Ct=1){const jn=ee[ot],tr=fe[ot],ti=Ct*me[Ae],Pi=ti*tr;let eo=Gt.buffer,lo=Gt.byteOffset;return lo%tr!=0&&(eo=new Uint8Array(eo).slice(lo,lo+Pi).buffer,lo=0),new jn(eo,lo,ti)}function yt(Gt,Ae,ot){var Ct,fn,jn,tr,ti;const lo=Gt.getTypedArrayForAccessor(ot.attributes[`TEXCOORD_${Ae.texCoord||0}`]),Oo=Gt.gltf.json,sa=null==(fn=null==(Ct=Oo.textures)?void 0:Ct[Ae.index])?void 0:fn.source;if(typeof sa<"u"){const Ca=null==(tr=null==(jn=Oo.images)?void 0:jn[sa])?void 0:tr.mimeType,_e=null==(ti=Gt.gltf.images)?void 0:ti[sa];if(_e&&typeof _e.width<"u"){const dt=[];for(let On=0;On<lo.length;On+=2){const Ke=Ln(_e,Ca,lo,On,Ae.channels);dt.push(Ke)}return dt}}return[]}function qt(Gt,Ae,ot,Ct,fn){if(!ot?.length)return;const jn=[];for(const lo of ot){let Oo=Ct.findIndex(ss=>ss===lo);-1===Oo&&(Oo=Ct.push(lo)-1),jn.push(Oo)}const tr=new Uint32Array(jn),ti=Gt.gltf.buffers.push({arrayBuffer:tr.buffer,byteOffset:tr.byteOffset,byteLength:tr.byteLength})-1,Pi=Gt.addBufferView(tr,ti,0),eo=Gt.addAccessor(Pi,{size:1,componentType:we(tr),count:tr.length});fn.attributes[Ae]=eo}function Ln(Gt,Ae,ot,Ct,fn=[0]){const jn={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},tr=ot[Ct],ti=ot[Ct+1];let Pi=1;Ae&&(-1!==Ae.indexOf("image/jpeg")||-1!==Ae.indexOf("image/png"))&&(Pi=4);const eo=function Tt(Gt,Ae,ot,Ct=1){const fn=ot.width,jn=Kt(Gt)*(fn-1),tr=Math.round(jn),ti=ot.height,Pi=Kt(Ae)*(ti-1);return(Math.round(Pi)*fn+tr)*(ot.components?ot.components:Ct)}(tr,ti,Gt,Pi);let lo=0;for(const Oo of fn){const ss="number"==typeof Oo?Object.values(jn)[Oo]:jn[Oo],sa=eo+ss.offset,Ca=(0,Nt.getImageData)(Gt);if(Ca.data.length<=sa)throw new Error(`${Ca.data.length} <= ${sa}`);lo|=Ca.data[sa]<<ss.shift}return lo}function We(Gt,Ae,ot,Ct,fn){const jn=[];for(let tr=0;tr<Ae;tr++){const ti=ot[tr],Pi=ot[tr+1]-ot[tr];if(Pi+ti>Ct)break;const eo=ti/fn;jn.push(Gt.slice(eo,eo+Pi/fn))}return jn}function Ve(Gt,Ae,ot){const Ct=[];for(let fn=0;fn<Ae;fn++){const jn=fn*ot;Ct.push(Gt.slice(jn,jn+ot))}return Ct}function wt(Gt,Ae,ot,Ct){if(ot)throw new Error("Not implemented - arrayOffsets for strings is specified");if(Ct){const fn=[],jn=new TextDecoder("utf8");let tr=0;for(let ti=0;ti<Gt;ti++){const Pi=Ct[ti+1]-Ct[ti];if(Pi+tr<=Ae.length){const eo=Ae.subarray(tr,Pi+tr),lo=jn.decode(eo);fn.push(lo),tr+=Pi}}return fn}return[]}var Y="EXT_mesh_features",b=Y;function R(Gt,Ae){return T.apply(this,arguments)}function T(){return T=r(function*(Gt,Ae){!function V(Gt,Ae){const ot=Gt.gltf.json;if(ot.meshes)for(const Ct of ot.meshes)for(const fn of Ct.primitives)j(Gt,fn,Ae)}(new Ce(Gt),Ae)}),T.apply(this,arguments)}function j(Gt,Ae,ot){var Ct,fn,jn;if(null==(Ct=ot?.gltf)||!Ct.loadBuffers)return;const tr=null==(fn=Ae.extensions)?void 0:fn[Y],ti=tr?.featureIds;if(ti)for(const Pi of ti){let eo;eo=typeof Pi.attribute<"u"?Gt.getTypedArrayForAccessor(Ae.attributes[`_FEATURE_ID_${Pi.attribute}`]):typeof Pi.texture<"u"&&null!=(jn=ot?.gltf)&&jn.loadImages?yt(Gt,Pi.texture,Ae):[],Pi.data=eo}}var h={};d(h,{decode:()=>ie,name:()=>xe});var I="EXT_structural_metadata",xe=I;function ie(Gt,Ae){return D.apply(this,arguments)}function D(){return D=r(function*(Gt,Ae){!function K(Gt,Ae){var ot,Ct;if(null==(ot=Ae.gltf)||!ot.loadBuffers)return;const fn=Gt.getExtension(I);fn&&(null!=(Ct=Ae.gltf)&&Ct.loadImages&&function se(Gt,Ae){const ot=Ae.propertyTextures,Ct=Gt.gltf.json;if(ot&&Ct.meshes)for(const fn of Ct.meshes)for(const jn of fn.primitives)ut(Gt,ot,jn,Ae)}(Gt,fn),function Le(Gt,Ae){const ot=Ae.schema;if(!ot)return;const Ct=ot.classes,fn=Ae.propertyTables;if(Ct&&fn)for(const jn in Ct){const tr=ct(fn,jn);tr&&Oe(Gt,ot,tr)}}(Gt,fn))}(new Ce(Gt),Ae)}),D.apply(this,arguments)}function ct(Gt,Ae){for(const ot of Gt)if(ot.class===Ae)return ot;return null}function ut(Gt,Ae,ot,Ct){var fn;if(!Ae)return;const jn=null==(fn=ot.extensions)?void 0:fn[I],tr=jn?.propertyTextures;if(tr)for(const ti of tr)en(Gt,Ae[ti],ot,Ct)}function en(Gt,Ae,ot,Ct){var fn;if(!Ae.properties)return;Ct.dataAttributeNames||(Ct.dataAttributeNames=[]);const jn=Ae.class;for(const tr in Ae.properties){const ti=`${jn}_${tr}`,Pi=null==(fn=Ae.properties)?void 0:fn[tr];if(!Pi)continue;Pi.data||(Pi.data=[]);const eo=Pi.data,lo=yt(Gt,Pi,ot);null!==lo&&(qt(Gt,ti,lo,eo,ot),Pi.data=eo,Ct.dataAttributeNames.push(ti))}}function Oe(Gt,Ae,ot){var Ct,fn;const jn=null==(Ct=Ae.classes)?void 0:Ct[ot.class];if(!jn)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${ot.class}`);const tr=ot.count;for(const ti in jn.properties){const eo=null==(fn=ot.properties)?void 0:fn[ti];if(eo){const lo=Pt(Gt,Ae,jn.properties[ti],tr,eo);eo.data=lo}}}function Pt(Gt,Ae,ot,Ct,fn){let jn=[];const ti=Gt.getTypedArrayForBufferView(fn.values),Pi=function it(Gt,Ae,ot,Ct){return Ae.array&&typeof Ae.count>"u"&&typeof ot.arrayOffsets<"u"?Se(Gt,ot.arrayOffsets,ot.arrayOffsetType||"UINT32",Ct):null}(Gt,ot,fn,Ct),eo=function Bt(Gt,Ae,ot){return typeof Ae.stringOffsets<"u"?Se(Gt,Ae.stringOffsets,Ae.stringOffsetType||"UINT32",ot):null}(Gt,fn,Ct);switch(ot.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":jn=function pn(Gt,Ae,ot,Ct){const fn=Gt.array,jn=Gt.count,tr=ye(Gt.type,Gt.componentType);let Pi;return Pi=Gt.componentType?Be(ot,Gt.type,Gt.componentType,ot.byteLength/tr):ot,fn?Ct?We(Pi,Ae,Ct,ot.length,tr):jn?Ve(Pi,Ae,jn):[]:Pi}(ot,Ct,ti,Pi);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${ot.type}`);case"STRING":jn=wt(Ct,ti,Pi,eo);break;case"ENUM":jn=function st(Gt,Ae,ot,Ct,fn){var jn;const tr=Ae.enumType;if(!tr)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const ti=null==(jn=Gt.enums)?void 0:jn[tr];if(!ti)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${tr}`);const Pi=ti.valueType||"UINT16",eo=ye(Ae.type,Pi);let Oo=Be(Ct,Ae.type,Pi,Ct.byteLength/eo);if(Oo||(Oo=Ct),Ae.array){if(fn)return function mt(Gt){const{valuesData:Ae,numberOfElements:ot,arrayOffsets:Ct,valuesDataBytesLength:fn,elementSize:jn,enumEntry:tr}=Gt,ti=[];for(let Pi=0;Pi<ot;Pi++){const eo=Ct[Pi],lo=Ct[Pi+1]-Ct[Pi];if(lo+eo>fn)break;const sa=Ne(Ae,eo/jn,lo/jn,tr);ti.push(sa)}return ti}({valuesData:Oo,numberOfElements:ot,arrayOffsets:fn,valuesDataBytesLength:Ct.length,elementSize:eo,enumEntry:ti});const ss=Ae.count;return ss?function Ut(Gt,Ae,ot,Ct){const fn=[];for(let jn=0;jn<Ae;jn++){const ti=Ne(Gt,ot*jn,ot,Ct);fn.push(ti)}return fn}(Oo,ot,ss,ti):[]}return Ne(Oo,0,ot,ti)}(Ae,ot,Ct,ti,Pi);break;default:throw new Error(`Unknown classProperty type ${ot.type}`)}return jn}function Ne(Gt,Ae,ot,Ct){const fn=[];for(let jn=0;jn<ot;jn++)if(Gt instanceof BigInt64Array||Gt instanceof BigUint64Array)fn.push("");else{const ti=zt(Ct,Gt[Ae+jn]);fn.push(ti?ti.name:"")}return fn}function zt(Gt,Ae){for(const ot of Gt.values)if(ot.value===Ae)return ot;return null}var Zt={};d(Zt,{decode:()=>br,name:()=>Zn});var Cn="EXT_feature_metadata",Zn=Cn;function br(Gt,Ae){return Mr.apply(this,arguments)}function Mr(){return Mr=r(function*(Gt,Ae){!function yn(Gt,Ae){var ot,Ct;if(null==(ot=Ae.gltf)||!ot.loadBuffers)return;const fn=Gt.getExtension(Cn);fn&&(null!=(Ct=Ae.gltf)&&Ct.loadImages&&function St(Gt,Ae){const ot=Ae.schema;if(!ot)return;const Ct=ot.classes,{featureTextures:fn}=Ae;if(Ct&&fn)for(const jn in Ct){const tr=Ct[jn],ti=bt(fn,jn);ti&&Yt(Gt,ti,tr)}}(Gt,fn),function kt(Gt,Ae){const ot=Ae.schema;if(!ot)return;const Ct=ot.classes,fn=Ae.featureTables;if(Ct&&fn)for(const jn in Ct){const tr=Mt(fn,jn);tr&&sn(Gt,ot,tr)}}(Gt,fn))}(new Ce(Gt),Ae)}),Mr.apply(this,arguments)}function Mt(Gt,Ae){for(const ot in Gt){const Ct=Gt[ot];if(Ct.class===Ae)return Ct}return null}function bt(Gt,Ae){for(const ot in Gt){const Ct=Gt[ot];if(Ct.class===Ae)return Ct}return null}function sn(Gt,Ae,ot){var Ct,fn;if(!ot.class)return;const jn=null==(Ct=Ae.classes)?void 0:Ct[ot.class];if(!jn)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${ot.class}`);const tr=ot.count;for(const ti in jn.properties){const eo=null==(fn=ot.properties)?void 0:fn[ti];if(eo){const lo=Qe(Gt,0,jn.properties[ti],tr,eo);eo.data=lo}}}function Yt(Gt,Ae,ot){var Ct;const fn=Ae.class;for(const jn in ot.properties){const tr=null==(Ct=Ae?.properties)?void 0:Ct[jn];if(tr){const ti=nn(Gt,tr,fn);tr.data=ti}}}function Qe(Gt,Ae,ot,Ct,fn){let jn=[];const ti=Gt.getTypedArrayForBufferView(fn.bufferView),Pi=function Lt(Gt,Ae,ot,Ct){return"ARRAY"===Ae.type&&typeof Ae.componentCount>"u"&&typeof ot.arrayOffsetBufferView<"u"?Se(Gt,ot.arrayOffsetBufferView,ot.offsetType||"UINT32",Ct):null}(Gt,ot,fn,Ct),eo=function Mn(Gt,Ae,ot,Ct){return typeof ot.stringOffsetBufferView<"u"?Se(Gt,ot.stringOffsetBufferView,ot.offsetType||"UINT32",Ct):null}(Gt,0,fn,Ct);return"STRING"===ot.type||"STRING"===ot.componentType?jn=wt(Ct,ti,Pi,eo):function vt(Gt){const Ae=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return Ae.includes(Gt.type)||typeof Gt.componentType<"u"&&Ae.includes(Gt.componentType)}(ot)&&(jn=function ze(Gt,Ae,ot,Ct){const fn="ARRAY"===Gt.type,jn=Gt.componentCount,ti=Gt.componentType||Gt.type,Pi=ye("SCALAR",ti),lo=Be(ot,"SCALAR",ti,ot.byteLength/Pi);return fn?Ct?We(lo,Ae,Ct,ot.length,Pi):jn?Ve(lo,Ae,jn):[]:lo}(ot,Ct,ti,Pi)),jn}function nn(Gt,Ae,ot){const Ct=Gt.gltf.json;if(!Ct.meshes)return[];const fn=[];for(const jn of Ct.meshes)for(const tr of jn.primitives)Ye(Gt,ot,Ae,fn,tr);return fn}function Ye(Gt,Ae,ot,Ct,fn){const tr=yt(Gt,{channels:ot.channels,...ot.texture},fn);tr&&qt(Gt,Ae,tr,Ct,fn)}var At="4.2.1",Pn=w(28690),Yn=w(14315),gr=w(74389),vr=w(28690),vi=!0,to=1735152710,ro=12,wi=8,_o=1313821514,Uo=5130562,So=0,yo=0,ts=1;function Fe(Gt,Ae,ot=0,Ct={}){const fn=new DataView(Ae),jn=function Xo(Gt,Ae=0){return`${String.fromCharCode(Gt.getUint8(Ae+0))}${String.fromCharCode(Gt.getUint8(Ae+1))}${String.fromCharCode(Gt.getUint8(Ae+2))}${String.fromCharCode(Gt.getUint8(Ae+3))}`}(fn,ot+0),tr=fn.getUint32(ot+4,vi),ti=fn.getUint32(ot+8,vi);switch(Object.assign(Gt,{header:{byteOffset:ot,byteLength:ti,hasBinChunk:!1},type:jn,version:tr,json:{},binChunks:[]}),ot+=ro,Gt.version){case 1:return function _t(Gt,Ae,ot){(0,vr.assert)(Gt.header.byteLength>ro+wi);const Ct=Ae.getUint32(ot+0,vi),fn=Ae.getUint32(ot+4,vi);return ot+=wi,(0,vr.assert)(fn===So),zn(Gt,Ae,ot,Ct),ot+=Ct,ot+=ir(Gt,Ae,ot,Gt.header.byteLength)}(Gt,fn,ot);case 2:return function bn(Gt,Ae,ot,Ct){return(0,vr.assert)(Gt.header.byteLength>ro+wi),function xn(Gt,Ae,ot,Ct){for(;ot+8<=Gt.header.byteLength;){const fn=Ae.getUint32(ot+0,vi),jn=Ae.getUint32(ot+4,vi);switch(ot+=wi,jn){case _o:zn(Gt,Ae,ot,fn);break;case Uo:ir(Gt,Ae,ot,fn);break;case yo:Ct.strict||zn(Gt,Ae,ot,fn);break;case ts:Ct.strict||ir(Gt,Ae,ot,fn)}ot+=(0,vr.padToNBytes)(fn,4)}}(Gt,Ae,ot,Ct),ot+Gt.header.byteLength}(Gt,fn,ot,{});default:throw new Error(`Invalid GLB version ${Gt.version}. Only supports version 1 and 2.`)}}function zn(Gt,Ae,ot,Ct){const fn=new Uint8Array(Ae.buffer,ot,Ct),tr=new TextDecoder("utf8").decode(fn);return Gt.json=JSON.parse(tr),(0,vr.padToNBytes)(Ct,4)}function ir(Gt,Ae,ot,Ct){return Gt.header.hasBinChunk=!0,Gt.binChunks.push({byteOffset:ot,byteLength:Ct,arrayBuffer:Ae.buffer}),(0,vr.padToNBytes)(Ct,4)}function Pr(Gt,Ae){if(Gt.startsWith("data:")||Gt.startsWith("http:")||Gt.startsWith("https:"))return Gt;const Ct=Ae.baseUri||Ae.uri;if(!Ct)throw new Error(`'baseUri' must be provided to resolve relative url ${Gt}`);return Ct.substr(0,Ct.lastIndexOf("/")+1)+Gt}var et={};d(et,{decode:()=>xt,name:()=>Ge});var yi,$t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",Vn="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",Tr=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),ei=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),Si={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},Ri={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function Ci(){return Ci=r(function*(Gt,Ae,ot,Ct,fn,jn="NONE"){const tr=yield function Yi(){return so.apply(this,arguments)}();!function $n(Gt,Ae,ot,Ct,fn,jn,tr){const ti=Gt.exports.sbrk,Pi=Ct+3&-4,eo=ti(Pi*fn),lo=ti(jn.length),Oo=new Uint8Array(Gt.exports.memory.buffer);Oo.set(jn,lo);const ss=Ae(eo,Ct,fn,lo,jn.length);if(0===ss&&tr&&tr(eo,Pi,fn),ot.set(Oo.subarray(eo,eo+Ct*fn)),ti(eo-ti(0)),0!==ss)throw new Error(`Malformed buffer data: ${ss}`)}(tr,tr.exports[Ri[fn]],Gt,Ae,ot,Ct,tr.exports[Si[jn||"NONE"]])}),Ci.apply(this,arguments)}function so(){return so=r(function*(){return yi||(yi=function Co(){return qi.apply(this,arguments)}()),yi}),so.apply(this,arguments)}function qi(){return qi=r(function*(){let Gt=$t;WebAssembly.validate(Tr)&&(Gt=Vn,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const Ae=yield WebAssembly.instantiate(function jo(Gt){const Ae=new Uint8Array(Gt.length);for(let Ct=0;Ct<Gt.length;++Ct){const fn=Gt.charCodeAt(Ct);Ae[Ct]=fn>96?fn-71:fn>64?fn-65:fn>47?fn+4:fn>46?63:62}let ot=0;for(let Ct=0;Ct<Gt.length;++Ct)Ae[ot++]=Ae[Ct]<60?ei[Ae[Ct]]:64*(Ae[Ct]-60)+Ae[++Ct];return Ae.buffer.slice(0,ot)}(Gt),{});return yield Ae.instance.exports.__wasm_call_ctors(),Ae.instance}),qi.apply(this,arguments)}var un="EXT_meshopt_compression",Ge=un;function xt(Gt,Ae){return rn.apply(this,arguments)}function rn(){return rn=r(function*(Gt,Ae){var ot,Ct;const fn=new Ce(Gt);if(null==(ot=Ae?.gltf)||!ot.decompressMeshes||null==(Ct=Ae.gltf)||!Ct.loadBuffers)return;const jn=[];for(const tr of Gt.json.bufferViews||[])jn.push(Hn(fn,tr));yield Promise.all(jn),fn.removeExtension(un)}),rn.apply(this,arguments)}function Hn(Gt,Ae){return Dr.apply(this,arguments)}function Dr(){return Dr=r(function*(Gt,Ae){const ot=Gt.getObjectExtension(Ae,un);if(ot){const{byteOffset:Ct=0,byteLength:fn=0,byteStride:jn,count:tr,mode:ti,filter:Pi="NONE",buffer:eo}=ot,lo=Gt.gltf.buffers[eo],Oo=new Uint8Array(lo.arrayBuffer,lo.byteOffset+Ct,fn),ss=new Uint8Array(Gt.gltf.buffers[Ae.buffer].arrayBuffer,Ae.byteOffset,Ae.byteLength);yield function io(Gt,Ae,ot,Ct,fn){return Ci.apply(this,arguments)}(ss,tr,jn,Oo,ti,Pi),Gt.removeObjectExtension(Ae,un)}}),Dr.apply(this,arguments)}var Qr={};d(Qr,{name:()=>vo,preprocess:()=>Do});var Qi=w(14315),Gi="EXT_texture_webp",vo=Gi;function Do(Gt,Ae){const ot=new Ce(Gt);if(!(0,Qi.isImageFormatSupported)("image/webp")){if(ot.getRequiredExtensions().includes(Gi))throw new Error(`gltf: Required extension ${Gi} not supported by browser`);return}const{json:Ct}=ot;for(const fn of Ct.textures||[]){const jn=ot.getObjectExtension(fn,Gi);jn&&(fn.source=jn.source),ot.removeObjectExtension(fn,Gi)}ot.removeExtension(Gi)}var Ao={};d(Ao,{name:()=>Ks,preprocess:()=>ms});var Ms="KHR_texture_basisu",Ks=Ms;function ms(Gt,Ae){const ot=new Ce(Gt),{json:Ct}=ot;for(const fn of Ct.textures||[]){const jn=ot.getObjectExtension(fn,Ms);jn&&(fn.source=jn.source,ot.removeObjectExtension(fn,Ms))}ot.removeExtension(Ms)}var Go={};d(Go,{decode:()=>Fi,encode:()=>ho,name:()=>gi,preprocess:()=>Ei});var Qo=w(28690),os=w(36848);function Rs(Gt){const{buffer:Ae,size:ot,count:Ct}=function rr(Gt){let Ae=Gt,ot=1,Ct=0;return Gt&&Gt.value&&(Ae=Gt.value,ot=Gt.size||1),Ae&&(ArrayBuffer.isView(Ae)||(Ae=function sr(Gt,Ae,ot=!1){return Gt?Array.isArray(Gt)?new Ae(Gt):!ot||Gt instanceof Ae?Gt:new Ae(Gt):null}(Ae,Float32Array)),Ct=Ae.length/ot),{buffer:Ae,size:ot,count:Ct}}(Gt);return{value:Ae,size:ot,byteOffset:0,count:Ct,type:he(ot),componentType:we(Ae)}}var Lr="KHR_draco_mesh_compression",gi=Lr;function Ei(Gt,Ae,ot){const Ct=new Ce(Gt);for(const fn of ys(Ct))Ct.getObjectExtension(fn,Lr)}function Fi(Gt,Ae,ot){return Wi.apply(this,arguments)}function Wi(){return Wi=r(function*(Gt,Ae,ot){var Ct;if(null==(Ct=Ae?.gltf)||!Ct.decompressMeshes)return;const fn=new Ce(Gt),jn=[];for(const tr of ys(fn))fn.getObjectExtension(tr,Lr)&&jn.push(Bi(fn,tr,Ae,ot));yield Promise.all(jn),fn.removeExtension(Lr)}),Wi.apply(this,arguments)}function ho(Gt,Ae={}){const ot=new Ce(Gt);for(const Ct of ot.json.meshes||[])ls(Ct),ot.addRequiredExtension(Lr)}function Bi(Gt,Ae,ot,Ct){return ko.apply(this,arguments)}function ko(){return ko=r(function*(Gt,Ae,ot,Ct){const fn=Gt.getObjectExtension(Ae,Lr);if(!fn)return;const jn=Gt.getTypedArrayForBufferView(fn.bufferView),tr=(0,Qo.sliceArrayBuffer)(jn.buffer,jn.byteOffset),ti={...ot};delete ti["3d-tiles"];const Pi=yield(0,Qo.parseFromContext)(tr,os.DracoLoader,ti,Ct),eo=function ns(Gt){const Ae={};for(const ot in Gt)if("indices"!==ot){const fn=Rs(Gt[ot]);Ae[ot]=fn}return Ae}(Pi.attributes);for(const[lo,Oo]of Object.entries(eo))if(lo in Ae.attributes){const sa=Gt.getAccessor(Ae.attributes[lo]);sa?.min&&sa?.max&&(Oo.min=sa.min,Oo.max=sa.max)}Ae.attributes=eo,Pi.indices&&(Ae.indices=Rs(Pi.indices)),Gt.removeObjectExtension(Ae,Lr),function Ls(Gt){if(!Gt.attributes&&Object.keys(Gt.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(Ae)}),ko.apply(this,arguments)}function ls(Gt,Ae,ot=4,Ct,fn){var jn;if(!Ct.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const tr=Ct.DracoWriter.encodeSync({attributes:Gt}),ti=null==(jn=fn?.parseSync)?void 0:jn.call(fn,{attributes:Gt}),Pi=Ct._addFauxAttributes(ti.attributes),eo=Ct.addBufferView(tr);return{primitives:[{attributes:Pi,mode:ot,extensions:{[Lr]:{bufferView:eo,attributes:Pi}}}]}}function*ys(Gt){for(const Ae of Gt.json.meshes||[])for(const ot of Ae.primitives)yield ot}var Os={};d(Os,{decode:()=>zs,name:()=>Fo});var qo=w(87974),Hs="KHR_texture_transform",Fo=Hs,pa=new qo.Vector3,oa=new qo.Matrix3,Ds=new qo.Matrix3;function zs(Gt,Ae){return Ts.apply(this,arguments)}function Ts(){return Ts=r(function*(Gt,Ae){var ot;if(!new Ce(Gt).hasExtension(Hs)||null==(ot=Ae.gltf)||!ot.loadBuffers)return;const jn=Gt.json.materials||[];for(let tr=0;tr<jn.length;tr++)cs(tr,Gt)}),Ts.apply(this,arguments)}function cs(Gt,Ae){var ot,Ct,fn,jn;const tr=null==(ot=Ae.json.materials)?void 0:ot[Gt],ti=[null==(Ct=tr?.pbrMetallicRoughness)?void 0:Ct.baseColorTexture,tr?.emissiveTexture,tr?.normalTexture,tr?.occlusionTexture,null==(fn=tr?.pbrMetallicRoughness)?void 0:fn.metallicRoughnessTexture],Pi=[];for(const eo of ti)eo&&null!=(jn=eo?.extensions)&&jn[Hs]&&ua(Ae,Gt,eo,Pi)}function ua(Gt,Ae,ot,Ct){const fn=function Jn(Gt,Ae){var ot;const Ct=null==(ot=Gt.extensions)?void 0:ot[Hs],{texCoord:fn=0}=Gt,{texCoord:jn=fn}=Ct;if(-1===Ae.findIndex(([ti,Pi])=>ti===fn&&Pi===jn)){const ti=function Ai(Gt){const{offset:Ae=[0,0],rotation:ot=0,scale:Ct=[1,1]}=Gt,fn=(new qo.Matrix3).set(1,0,0,0,1,0,Ae[0],Ae[1],1),jn=oa.set(Math.cos(ot),Math.sin(ot),0,-Math.sin(ot),Math.cos(ot),0,0,0,1),tr=Ds.set(Ct[0],0,0,0,Ct[1],0,0,0,1);return fn.multiplyRight(jn).multiplyRight(tr)}(Ct);return fn!==jn&&(Gt.texCoord=jn),Ae.push([fn,jn]),{originalTexCoord:fn,texCoord:jn,matrix:ti}}return null}(ot,Ct);if(!fn)return;const jn=Gt.json.meshes||[];for(const tr of jn)for(const ti of tr.primitives){const Pi=ti.material;Number.isFinite(Pi)&&Ae===Pi&&lr(Gt,ti,fn)}}function lr(Gt,Ae,ot){var Ct,fn;const{originalTexCoord:jn,texCoord:tr,matrix:ti}=ot,Pi=Ae.attributes[`TEXCOORD_${jn}`];if(Number.isFinite(Pi)){const eo=null==(Ct=Gt.json.accessors)?void 0:Ct[Pi];if(eo&&eo.bufferView){const lo=null==(fn=Gt.json.bufferViews)?void 0:fn[eo.bufferView];if(lo){const{arrayBuffer:Oo,byteOffset:ss}=Gt.buffers[lo.buffer],sa=(ss||0)+(eo.byteOffset||0)+(lo.byteOffset||0),{ArrayType:Ca,length:_e}=k(eo,lo),On=L[eo.type],Ke=lo.byteStride||ae[eo.componentType]*On,En=new Float32Array(_e);for(let dr=0;dr<eo.count;dr++){const li=new Ca(Oo,sa+dr*Ke,2);pa.set(li[0],li[1],1),pa.transformByMatrix3(ti),En.set([pa[0],pa[1]],dr*On)}jn===tr?function mr(Gt,Ae,ot,Ct){Gt.componentType=5126,ot.push({arrayBuffer:Ct.buffer,byteOffset:0,byteLength:Ct.buffer.byteLength}),Ae.buffer=ot.length-1,Ae.byteLength=Ct.buffer.byteLength,Ae.byteOffset=0,delete Ae.byteStride}(eo,lo,Gt.buffers,En):function Ir(Gt,Ae,ot,Ct,fn){Ct.buffers.push({arrayBuffer:fn.buffer,byteOffset:0,byteLength:fn.buffer.byteLength});const jn=Ct.json.bufferViews;if(!jn)return;jn.push({buffer:Ct.buffers.length-1,byteLength:fn.buffer.byteLength,byteOffset:0});const tr=Ct.json.accessors;tr&&(tr.push({bufferView:jn?.length-1,byteOffset:0,componentType:5126,count:Ae.count,type:"VEC2"}),ot.attributes[`TEXCOORD_${Gt}`]=tr.length-1)}(tr,eo,Ae,Gt,En)}}}}var tt={};d(tt,{decode:()=>cn,encode:()=>It,name:()=>jt});var gn="KHR_lights_punctual",jt=gn;function cn(Gt){return je.apply(this,arguments)}function je(){return je=r(function*(Gt){const Ae=new Ce(Gt),{json:ot}=Ae,Ct=Ae.getExtension(gn);Ct&&(Ae.json.lights=Ct.lights,Ae.removeExtension(gn));for(const fn of ot.nodes||[]){const jn=Ae.getObjectExtension(fn,gn);jn&&(fn.light=jn.light),Ae.removeObjectExtension(fn,gn)}}),je.apply(this,arguments)}function It(Gt){return Qt.apply(this,arguments)}function Qt(){return Qt=r(function*(Gt){const Ae=new Ce(Gt),{json:ot}=Ae;if(ot.lights){const Ct=Ae.addExtension(gn);E(!Ct.lights),Ct.lights=ot.lights,delete ot.lights}if(Ae.json.lights){for(const Ct of Ae.json.lights)Ae.addObjectExtension(Ct.node,gn,Ct);delete Ae.json.lights}}),Qt.apply(this,arguments)}var qn={};d(qn,{decode:()=>Hr,encode:()=>oi,name:()=>yr});var hr="KHR_materials_unlit",yr=hr;function Hr(Gt){return jr.apply(this,arguments)}function jr(){return jr=r(function*(Gt){const Ae=new Ce(Gt),{json:ot}=Ae;for(const Ct of ot.materials||[])Ct.extensions&&Ct.extensions.KHR_materials_unlit&&(Ct.unlit=!0),Ae.removeObjectExtension(Ct,hr);Ae.removeExtension(hr)}),jr.apply(this,arguments)}function oi(Gt){const Ae=new Ce(Gt),{json:ot}=Ae;if(Ae.materials)for(const Ct of ot.materials||[])Ct.unlit&&(delete Ct.unlit,Ae.addObjectExtension(Ct,hr,{}),Ae.addExtension(hr))}var qr={};d(qr,{decode:()=>Ro,encode:()=>nt,name:()=>co});var Ui="KHR_techniques_webgl",co=Ui;function Ro(Gt){return mo.apply(this,arguments)}function mo(){return mo=r(function*(Gt){const Ae=new Ce(Gt),{json:ot}=Ae,Ct=Ae.getExtension(Ui);if(Ct){const fn=function an(Gt,Ae){const{programs:ot=[],shaders:Ct=[],techniques:fn=[]}=Gt,jn=new TextDecoder;return Ct.forEach(tr=>{if(!Number.isFinite(tr.bufferView))throw new Error("KHR_techniques_webgl: no shader code");tr.code=jn.decode(Ae.getTypedArrayForBufferView(tr.bufferView))}),ot.forEach(tr=>{tr.fragmentShader=Ct[tr.fragmentShader],tr.vertexShader=Ct[tr.vertexShader]}),fn.forEach(tr=>{tr.program=ot[tr.program]}),fn}(Ct,Ae);for(const jn of ot.materials||[]){const tr=Ae.getObjectExtension(jn,Ui);tr&&(jn.technique=Object.assign({},tr,fn[tr.technique]),jn.technique.values=at(jn.technique,Ae)),Ae.removeObjectExtension(jn,Ui)}Ae.removeExtension(Ui)}}),mo.apply(this,arguments)}function nt(Gt,Ae){return $e.apply(this,arguments)}function $e(){return($e=r(function*(Gt,Ae){})).apply(this,arguments)}function at(Gt,Ae){const ot=Object.assign({},Gt.values);return Object.keys(Gt.uniforms||{}).forEach(Ct=>{Gt.uniforms[Ct].value&&!(Ct in ot)&&(ot[Ct]=Gt.uniforms[Ct].value)}),Object.keys(ot).forEach(Ct=>{"object"==typeof ot[Ct]&&void 0!==ot[Ct].index&&(ot[Ct].texture=Ae.getTexture(ot[Ct].index))}),ot}var de=[h,N,et,Qr,Ao,Go,tt,qn,qr,Os,Zt];function Kn(){return Kn=r(function*(Gt,Ae={},ot){var Ct;const fn=de.filter(jn=>ht(jn.name,Ae));for(const jn of fn)yield null==(Ct=jn.decode)?void 0:Ct.call(jn,Gt,Ae,ot)}),Kn.apply(this,arguments)}function ht(Gt,Ae){var ot;const Ct=(null==(ot=Ae?.gltf)?void 0:ot.excludeExtensions)||{};return!(Gt in Ct&&!Ct[Gt])}var $="KHR_binary_glTF",He={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Vt={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},wn=class{constructor(){s(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),s(this,"json",void 0)}normalize(Ae,ot){this.json=Ae.json;const Ct=Ae.json;switch(Ct.asset&&Ct.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${Ct.asset.version}`)}if(!ot.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(Ct),this._convertTopLevelObjectsToArrays(Ct),function ge(Gt){const Ae=new Ce(Gt),{json:ot}=Ae;for(const Ct of ot.images||[]){const fn=Ae.getObjectExtension(Ct,$);fn&&Object.assign(Ct,fn),Ae.removeObjectExtension(Ct,$)}ot.buffers&&ot.buffers[0]&&delete ot.buffers[0].uri,Ae.removeExtension($)}(Ae),this._convertObjectIdsToArrayIndices(Ct),this._updateObjects(Ct),this._updateMaterial(Ct)}_addAsset(Ae){Ae.asset=Ae.asset||{},Ae.asset.version="2.0",Ae.asset.generator=Ae.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(Ae){for(const ot in He)this._convertTopLevelObjectToArray(Ae,ot)}_convertTopLevelObjectToArray(Ae,ot){const Ct=Ae[ot];if(Ct&&!Array.isArray(Ct)){Ae[ot]=[];for(const fn in Ct){const jn=Ct[fn];jn.id=jn.id||fn;const tr=Ae[ot].length;Ae[ot].push(jn),this.idToIndexMap[ot][fn]=tr}}}_convertObjectIdsToArrayIndices(Ae){for(const ot in He)this._convertIdsToIndices(Ae,ot);"scene"in Ae&&(Ae.scene=this._convertIdToIndex(Ae.scene,"scene"));for(const ot of Ae.textures)this._convertTextureIds(ot);for(const ot of Ae.meshes)this._convertMeshIds(ot);for(const ot of Ae.nodes)this._convertNodeIds(ot);for(const ot of Ae.scenes)this._convertSceneIds(ot)}_convertTextureIds(Ae){Ae.source&&(Ae.source=this._convertIdToIndex(Ae.source,"image"))}_convertMeshIds(Ae){for(const ot of Ae.primitives){const{attributes:Ct,indices:fn,material:jn}=ot;for(const tr in Ct)Ct[tr]=this._convertIdToIndex(Ct[tr],"accessor");fn&&(ot.indices=this._convertIdToIndex(fn,"accessor")),jn&&(ot.material=this._convertIdToIndex(jn,"material"))}}_convertNodeIds(Ae){Ae.children&&(Ae.children=Ae.children.map(ot=>this._convertIdToIndex(ot,"node"))),Ae.meshes&&(Ae.meshes=Ae.meshes.map(ot=>this._convertIdToIndex(ot,"mesh")))}_convertSceneIds(Ae){Ae.nodes&&(Ae.nodes=Ae.nodes.map(ot=>this._convertIdToIndex(ot,"node")))}_convertIdsToIndices(Ae,ot){Ae[ot]||(console.warn(`gltf v1: json doesn't contain attribute ${ot}`),Ae[ot]=[]);for(const Ct of Ae[ot])for(const fn in Ct){const tr=this._convertIdToIndex(Ct[fn],fn);Ct[fn]=tr}}_convertIdToIndex(Ae,ot){const Ct=Vt[ot];if(Ct in this.idToIndexMap){const fn=this.idToIndexMap[Ct][Ae];if(!Number.isFinite(fn))throw new Error(`gltf v1: failed to resolve ${ot} with id ${Ae}`);return fn}return Ae}_updateObjects(Ae){for(const ot of this.json.buffers)delete ot.type}_updateMaterial(Ae){var ot,Ct,fn;for(const jn of Ae.materials){jn.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const tr=(null==(ot=jn.values)?void 0:ot.tex)||(null==(Ct=jn.values)?void 0:Ct.texture2d_0)||(null==(fn=jn.values)?void 0:fn.diffuseTex),ti=Ae.textures.findIndex(Pi=>Pi.id===tr);-1!==ti&&(jn.pbrMetallicRoughness.baseColorTexture={index:ti})}}};function Ur(){return Ur=r(function*(Gt,Ae,ot=0,Ct,fn){var jn,tr,ti;return function ni(Gt,Ae,ot,Ct){if(Ct.uri&&(Gt.baseUri=Ct.uri),Ae instanceof ArrayBuffer&&!function Io(Gt,Ae=0,ot={}){const Ct=new DataView(Gt),{magic:fn=to}=ot,jn=Ct.getUint32(Ae,!1);return jn===fn||jn===to}(Ae,ot,Ct)&&(Ae=(new TextDecoder).decode(Ae)),"string"==typeof Ae)Gt.json=(0,Pn.parseJSON)(Ae);else if(Ae instanceof ArrayBuffer){const tr={};ot=Fe(tr,Ae,ot,Ct.glb),E("glTF"===tr.type,`Invalid GLB magic string ${tr.type}`),Gt._glb=tr,Gt.json=tr.json}else E(!1,"GLTF: must be ArrayBuffer or string");if(Gt.buffers=new Array((Gt.json.buffers||[]).length).fill(null),Gt._glb&&Gt._glb.header.hasBinChunk){const{binChunks:tr}=Gt._glb;Gt.buffers[0]={arrayBuffer:tr[0].arrayBuffer,byteOffset:tr[0].byteOffset,byteLength:tr[0].byteLength}}Gt.images=new Array((Gt.json.images||[]).length).fill({})}(Gt,Ae,ot,Ct),function Wn(Gt,Ae={}){(new wn).normalize(Gt,Ae)}(Gt,{normalize:null==(jn=Ct?.gltf)?void 0:jn.normalize}),function Et(Gt,Ae={},ot){var Ct;const fn=de.filter(jn=>ht(jn.name,Ae));for(const jn of fn)null==(Ct=jn.preprocess)||Ct.call(jn,Gt,Ae,ot)}(Gt,Ct,fn),null!=(tr=Ct?.gltf)&&tr.loadBuffers&&Gt.json.buffers&&(yield function ri(Gt,Ae,ot){return Br.apply(this,arguments)}(Gt,Ct,fn)),null!=(ti=Ct?.gltf)&&ti.loadImages&&(yield function hi(Gt,Ae,ot){return zi.apply(this,arguments)}(Gt,Ct,fn)),yield function on(Gt){return Kn.apply(this,arguments)}(Gt,Ct,fn),Gt}),Ur.apply(this,arguments)}function Br(){return Br=r(function*(Gt,Ae,ot){var Ct,fn;const jn=Gt.json.buffers||[];for(let tr=0;tr<jn.length;++tr){const ti=jn[tr];if(ti.uri){const{fetch:Pi}=ot;E(Pi);const eo=Pr(ti.uri,Ae),lo=yield null==(Ct=ot?.fetch)?void 0:Ct.call(ot,eo),Oo=yield null==(fn=lo?.arrayBuffer)?void 0:fn.call(lo);Gt.buffers[tr]={arrayBuffer:Oo,byteOffset:0,byteLength:Oo.byteLength},delete ti.uri}else null===Gt.buffers[tr]&&(Gt.buffers[tr]={arrayBuffer:new ArrayBuffer(ti.byteLength),byteOffset:0,byteLength:ti.byteLength})}}),Br.apply(this,arguments)}function zi(){return zi=r(function*(Gt,Ae,ot){const Ct=function Ii(Gt){const Ae=new Set,ot=Gt.json.textures||[];for(const Ct of ot)void 0!==Ct.source&&Ae.add(Ct.source);return Array.from(Ae).sort()}(Gt),fn=Gt.json.images||[],jn=[];for(const tr of Ct)jn.push(pe(Gt,fn[tr],tr,Ae,ot));return yield Promise.all(jn)}),zi.apply(this,arguments)}function pe(Gt,Ae,ot,Ct,fn){return oe.apply(this,arguments)}function oe(){return oe=r(function*(Gt,Ae,ot,Ct,fn){let jn;if(Ae.uri&&!Ae.hasOwnProperty("bufferView")){const ti=Pr(Ae.uri,Ct),{fetch:Pi}=fn;jn=yield(yield Pi(ti)).arrayBuffer(),Ae.bufferView={data:jn}}if(Number.isFinite(Ae.bufferView)){const ti=function Ie(Gt,Ae,ot){const Ct=Gt.bufferViews[ot];E(Ct);const jn=Ae[Ct.buffer];return E(jn),new Uint8Array(jn.arrayBuffer,(Ct.byteOffset||0)+jn.byteOffset,Ct.byteLength)}(Gt.json,Gt.buffers,Ae.bufferView);jn=(0,Pn.sliceArrayBuffer)(ti.buffer,ti.byteOffset,ti.byteLength)}E(jn,"glTF image has no data");let tr=yield(0,Pn.parseFromContext)(jn,[Yn.ImageLoader,gr.BasisLoader],{...Ct,mimeType:Ae.mimeType,basis:Ct.basis||{format:(0,gr.selectSupportedBasisFormat)()}},fn);tr&&tr[0]&&(tr={compressed:!0,mipmaps:!1,width:tr[0].width,height:tr[0].height,data:tr[0]}),Gt.images=Gt.images||[],Gt.images[ot]=tr}),oe.apply(this,arguments)}var Ue={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:At,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function gt(Gt){return Rt.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};function Rt(){return Rt=r(function*(Gt,Ae={},ot){(Ae={...Ue.options,...Ae}).gltf={...Ue.options.gltf,...Ae.gltf};const{byteOffset:Ct=0}=Ae;return yield function fr(Gt,Ae){return Ur.apply(this,arguments)}({},Gt,Ct,Ae,ot)}),Rt.apply(this,arguments)}var dn=w(28690),Rn=1179937895,ar=1313821514,or=5130562,Rr=!0;function Cr(Gt,Ae,ot=0,Ct={}){const{magic:fn=Rn,version:jn=2,json:tr={},binary:ti}=Gt,Pi=ot;Ae&&(Ae.setUint32(ot+0,fn,Rr),Ae.setUint32(ot+4,jn,Rr),Ae.setUint32(ot+8,0,Rr));const eo=ot+8,lo=ot+=12;Ae&&(Ae.setUint32(ot+0,0,Rr),Ae.setUint32(ot+4,ar,Rr)),ot+=8;const Oo=JSON.stringify(tr);if(ot=(0,dn.copyPaddedStringToDataView)(Ae,ot,Oo,4),Ae&&Ae.setUint32(lo+0,ot-lo-8,Rr),ti){const ss=ot;Ae&&(Ae.setUint32(ot+0,0,Rr),Ae.setUint32(ot+4,or,Rr)),ot=(0,dn.copyPaddedArrayBufferToDataView)(Ae,ot+=8,ti,4),Ae&&Ae.setUint32(ss+0,ot-ss-8,Rr)}return Ae&&Ae.setUint32(eo,ot-Pi,Rr),ot}function Gr(Gt,Ae,ot,Ct){return function Nr(Gt,{firstBuffer:Ae=0}={}){if(Gt.buffers&&Gt.buffers.length>Ae)throw new Error("encodeGLTF: multiple buffers not yet implemented")}(Gt),Cr(Gt,Ae,ot,Ct)}var pi={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:At,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{gltf:{}},encode:function(){var Gt=r(function*(Ae,ot={}){return Ni(Ae,ot)});return function(ot){return Gt.apply(this,arguments)}}(),encodeSync:Ni};function Ni(Gt,Ae={}){const{byteOffset:ot=0}=Ae,Ct=Gr(Gt,null,ot,Ae),fn=new ArrayBuffer(Ct);return Gr(Gt,new DataView(fn),ot,Ae),fn}var Un={dataType:null,batchType:null,name:"GLB",id:"glb",module:"gltf",version:At,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,parse:function pr(Gt,Ae){return Sn.apply(this,arguments)},parseSync:er,options:{glb:{strict:!1}}};function Sn(){return Sn=r(function*(Gt,Ae){return er(Gt,Ae)}),Sn.apply(this,arguments)}function er(Gt,Ae){const{byteOffset:ot=0}=Ae||{},Ct={};return Fe(Ct,Gt,ot,Ae?.glb),Ct}var zr={name:"GLB",id:"glb",module:"gltf",version:At,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,options:{glb:{}},encode:function(){var Gt=r(function*(Ae,ot={}){return si(Ae,ot)});return function(ot){return Gt.apply(this,arguments)}}(),encodeSync:si};function si(Gt,Ae){const{byteOffset:ot=0}=Ae,Ct=Cr(Gt,null,ot,Ae),fn=new ArrayBuffer(Ct);return Cr(Gt,new DataView(fn),ot,Ae),fn}var Vi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ki={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Ko={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},Ti={10240:9729,10241:9986,10242:10497,10243:10497},Cs=class{constructor(){s(this,"baseUri",""),s(this,"jsonUnprocessed",void 0),s(this,"json",void 0),s(this,"buffers",[]),s(this,"images",[])}postProcess(Ae,ot={}){const{json:Ct,buffers:fn=[],images:jn=[]}=Ae,{baseUri:tr=""}=Ae;return E(Ct),this.baseUri=tr,this.buffers=fn,this.images=jn,this.jsonUnprocessed=Ct,this.json=this._resolveTree(Ae.json,ot),this.json}_resolveTree(Ae,ot={}){const Ct={...Ae};return this.json=Ct,Ae.bufferViews&&(Ct.bufferViews=Ae.bufferViews.map((fn,jn)=>this._resolveBufferView(fn,jn))),Ae.images&&(Ct.images=Ae.images.map((fn,jn)=>this._resolveImage(fn,jn))),Ae.samplers&&(Ct.samplers=Ae.samplers.map((fn,jn)=>this._resolveSampler(fn,jn))),Ae.textures&&(Ct.textures=Ae.textures.map((fn,jn)=>this._resolveTexture(fn,jn))),Ae.accessors&&(Ct.accessors=Ae.accessors.map((fn,jn)=>this._resolveAccessor(fn,jn))),Ae.materials&&(Ct.materials=Ae.materials.map((fn,jn)=>this._resolveMaterial(fn,jn))),Ae.meshes&&(Ct.meshes=Ae.meshes.map((fn,jn)=>this._resolveMesh(fn,jn))),Ae.nodes&&(Ct.nodes=Ae.nodes.map((fn,jn)=>this._resolveNode(fn,jn)),Ct.nodes=Ct.nodes.map((fn,jn)=>this._resolveNodeChildren(fn))),Ae.skins&&(Ct.skins=Ae.skins.map((fn,jn)=>this._resolveSkin(fn,jn))),Ae.scenes&&(Ct.scenes=Ae.scenes.map((fn,jn)=>this._resolveScene(fn,jn))),"number"==typeof this.json.scene&&Ct.scenes&&(Ct.scene=Ct.scenes[this.json.scene]),Ct}getScene(Ae){return this._get(this.json.scenes,Ae)}getNode(Ae){return this._get(this.json.nodes,Ae)}getSkin(Ae){return this._get(this.json.skins,Ae)}getMesh(Ae){return this._get(this.json.meshes,Ae)}getMaterial(Ae){return this._get(this.json.materials,Ae)}getAccessor(Ae){return this._get(this.json.accessors,Ae)}getCamera(Ae){return this._get(this.json.cameras,Ae)}getTexture(Ae){return this._get(this.json.textures,Ae)}getSampler(Ae){return this._get(this.json.samplers,Ae)}getImage(Ae){return this._get(this.json.images,Ae)}getBufferView(Ae){return this._get(this.json.bufferViews,Ae)}getBuffer(Ae){return this._get(this.json.buffers,Ae)}_get(Ae,ot){if("object"==typeof ot)return ot;const Ct=Ae&&Ae[ot];return Ct||console.warn(`glTF file error: Could not find ${Ae}[${ot}]`),Ct}_resolveScene(Ae,ot){return{...Ae,id:Ae.id||`scene-${ot}`,nodes:(Ae.nodes||[]).map(Ct=>this.getNode(Ct))}}_resolveNode(Ae,ot){const Ct={...Ae,id:Ae?.id||`node-${ot}`};return void 0!==Ae.mesh&&(Ct.mesh=this.getMesh(Ae.mesh)),void 0!==Ae.camera&&(Ct.camera=this.getCamera(Ae.camera)),void 0!==Ae.skin&&(Ct.skin=this.getSkin(Ae.skin)),void 0!==Ae.meshes&&Ae.meshes.length&&(Ct.mesh=Ae.meshes.reduce((fn,jn)=>{const tr=this.getMesh(jn);return fn.id=tr.id,fn.primitives=fn.primitives.concat(tr.primitives),fn},{primitives:[]})),Ct}_resolveNodeChildren(Ae){return Ae.children&&(Ae.children=Ae.children.map(ot=>this.getNode(ot))),Ae}_resolveSkin(Ae,ot){const Ct="number"==typeof Ae.inverseBindMatrices?this.getAccessor(Ae.inverseBindMatrices):void 0;return{...Ae,id:Ae.id||`skin-${ot}`,inverseBindMatrices:Ct}}_resolveMesh(Ae,ot){const Ct={...Ae,id:Ae.id||`mesh-${ot}`,primitives:[]};return Ae.primitives&&(Ct.primitives=Ae.primitives.map(fn=>{const jn={...fn,attributes:{},indices:void 0,material:void 0},tr=fn.attributes;for(const ti in tr)jn.attributes[ti]=this.getAccessor(tr[ti]);return void 0!==fn.indices&&(jn.indices=this.getAccessor(fn.indices)),void 0!==fn.material&&(jn.material=this.getMaterial(fn.material)),jn})),Ct}_resolveMaterial(Ae,ot){const Ct={...Ae,id:Ae.id||`material-${ot}`};if(Ct.normalTexture&&(Ct.normalTexture={...Ct.normalTexture},Ct.normalTexture.texture=this.getTexture(Ct.normalTexture.index)),Ct.occlusionTexture&&(Ct.occlusionTexture={...Ct.occlusionTexture},Ct.occlusionTexture.texture=this.getTexture(Ct.occlusionTexture.index)),Ct.emissiveTexture&&(Ct.emissiveTexture={...Ct.emissiveTexture},Ct.emissiveTexture.texture=this.getTexture(Ct.emissiveTexture.index)),Ct.emissiveFactor||(Ct.emissiveFactor=Ct.emissiveTexture?[1,1,1]:[0,0,0]),Ct.pbrMetallicRoughness){Ct.pbrMetallicRoughness={...Ct.pbrMetallicRoughness};const fn=Ct.pbrMetallicRoughness;fn.baseColorTexture&&(fn.baseColorTexture={...fn.baseColorTexture},fn.baseColorTexture.texture=this.getTexture(fn.baseColorTexture.index)),fn.metallicRoughnessTexture&&(fn.metallicRoughnessTexture={...fn.metallicRoughnessTexture},fn.metallicRoughnessTexture.texture=this.getTexture(fn.metallicRoughnessTexture.index))}return Ct}_resolveAccessor(Ae,ot){const Ct=function ws(Gt){return ki[Gt]}(Ae.componentType),fn=function Jo(Gt){return Vi[Gt]}(Ae.type),jn=Ct*fn,tr={...Ae,id:Ae.id||`accessor-${ot}`,bytesPerComponent:Ct,components:fn,bytesPerElement:jn,value:void 0,bufferView:void 0,sparse:void 0};if(void 0!==Ae.bufferView&&(tr.bufferView=this.getBufferView(Ae.bufferView)),tr.bufferView){const ti=tr.bufferView.buffer,{ArrayType:Pi,byteLength:eo}=k(tr,tr.bufferView),lo=(tr.bufferView.byteOffset||0)+(tr.byteOffset||0)+ti.byteOffset;let Oo=ti.arrayBuffer.slice(lo,lo+eo);tr.bufferView.byteStride&&(Oo=this._getValueFromInterleavedBuffer(ti,lo,tr.bufferView.byteStride,tr.bytesPerElement,tr.count)),tr.value=new Pi(Oo)}return tr}_getValueFromInterleavedBuffer(Ae,ot,Ct,fn,jn){const tr=new Uint8Array(jn*fn);for(let ti=0;ti<jn;ti++){const Pi=ot+ti*Ct;tr.set(new Uint8Array(Ae.arrayBuffer.slice(Pi,Pi+fn)),ti*fn)}return tr.buffer}_resolveTexture(Ae,ot){return{...Ae,id:Ae.id||`texture-${ot}`,sampler:"number"==typeof Ae.sampler?this.getSampler(Ae.sampler):{id:"default-sampler",parameters:Ti},source:"number"==typeof Ae.source?this.getImage(Ae.source):void 0}}_resolveSampler(Ae,ot){const Ct={id:Ae.id||`sampler-${ot}`,...Ae,parameters:{}};for(const fn in Ct){const jn=this._enumSamplerParameter(fn);void 0!==jn&&(Ct.parameters[jn]=Ct[fn])}return Ct}_enumSamplerParameter(Ae){return Ko[Ae]}_resolveImage(Ae,ot){const Ct={...Ae,id:Ae.id||`image-${ot}`,image:null,bufferView:void 0!==Ae.bufferView?this.getBufferView(Ae.bufferView):void 0},fn=this.images[ot];return fn&&(Ct.image=fn),Ct}_resolveBufferView(Ae,ot){const Ct=Ae.buffer,fn=this.buffers[Ct].arrayBuffer;let jn=this.buffers[Ct].byteOffset||0;return Ae.byteOffset&&(jn+=Ae.byteOffset),{id:`bufferView-${ot}`,...Ae,buffer:this.buffers[Ct],data:new Uint8Array(fn,jn,Ae.byteLength)}}_resolveCamera(Ae,ot){return{...Ae,id:Ae.id||`camera-${ot}`}}};function rs(Gt,Ae){return(new Cs).postProcess(Gt,Ae)}},14315:(ln,qe,w)=>{"use strict";var Ye,r=w(31049).default,s=Object.defineProperty,v=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,P={};((Ye,At)=>{for(var Pn in At)s(Ye,Pn,{get:At[Pn],enumerable:!0})})(P,{ImageLoader:()=>it,ImageWriter:()=>Cn,getBinaryImageMetadata:()=>T,getDefaultImageType:()=>q,getImageData:()=>he,getImageSize:()=>J,getImageType:()=>z,getSupportedImageFormats:()=>yn,isImage:()=>le,isImageFormatSupported:()=>Mt,isImageTypeSupported:()=>ne,loadImage:()=>nn}),ln.exports=(Ye=P,((Ye,At,Pn,Yn)=>{if(At&&"object"==typeof At||"function"==typeof At)for(let gr of S(At))!M.call(Ye,gr)&&undefined!==gr&&s(Ye,gr,{get:()=>At[gr],enumerable:!(Yn=v(At,gr))||Yn.enumerable});return Ye})(s({},"__esModule",{value:!0}),Ye));var m,G="4.2.1",N=w(28690),x=w(28690),E=null==(m=globalThis.loaders)?void 0:m.parseImageNode,L=typeof Image<"u",ae=typeof ImageBitmap<"u",Z=!!x.isBrowser||!!E;function ne(Ye){switch(Ye){case"auto":return ae||L||Z;case"imagebitmap":return ae;case"image":return L;case"data":return Z;default:throw new Error(`@loaders.gl/images: image ${Ye} not supported in this environment`)}}function q(){if(ae)return"imagebitmap";if(L)return"image";if(Z)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function le(Ye){return!!we(Ye)}function z(Ye){const At=we(Ye);if(!At)throw new Error("Not an image");return At}function J(Ye){return he(Ye)}function he(Ye){switch(z(Ye)){case"data":return Ye;case"image":case"imagebitmap":const At=document.createElement("canvas"),Pn=At.getContext("2d");if(!Pn)throw new Error("getImageData");return At.width=Ye.width,At.height=Ye.height,Pn.drawImage(Ye,0,0),Pn.getImageData(0,0,Ye.width,Ye.height);default:throw new Error("getImageData")}}function we(Ye){return typeof ImageBitmap<"u"&&Ye instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&Ye instanceof Image?"image":Ye&&"object"==typeof Ye&&Ye.data&&Ye.width&&Ye.height?"data":null}var k=/^data:image\/svg\+xml/,ue=/\.svg((\?|#).*)?$/;function Ie(Ye){return Ye&&(k.test(Ye)||ue.test(Ye))}function Ze(Ye,At){if(Ie(At))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(Ye)])}function Ce(Ye,At,Pn){return Nt.apply(this,arguments)}function Nt(){return Nt=r(function*(Ye,At,Pn){const Yn=function ke(Ye,At){if(Ie(At)){let Yn=(new TextDecoder).decode(Ye);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(Yn=unescape(encodeURIComponent(Yn)))}catch(vr){throw new Error(vr.message)}return`data:image/svg+xml;base64,${btoa(Yn)}`}return Ze(Ye,At)}(Ye,Pn),gr=self.URL||self.webkitURL,vr="string"!=typeof Yn&&gr.createObjectURL(Yn);try{return yield function Kt(Ye,At){return me.apply(this,arguments)}(vr||Yn,At)}finally{vr&&gr.revokeObjectURL(vr)}}),Nt.apply(this,arguments)}function me(){return me=r(function*(Ye,At){const Pn=new Image;return Pn.src=Ye,At.image&&At.image.decode&&Pn.decode?(yield Pn.decode(),Pn):yield new Promise((Yn,gr)=>{try{Pn.onload=()=>Yn(Pn),Pn.onerror=vr=>{const vi=vr instanceof Error?vr.message:"error";gr(new Error(vi))}}catch(vr){gr(vr)}})}),me.apply(this,arguments)}var ee={},fe=!0;function Se(){return Se=r(function*(Ye,At,Pn){let Yn;Yn=Ie(Pn)?yield Ce(Ye,At,Pn):Ze(Ye,Pn);const gr=At&&At.imagebitmap;return yield function Be(Ye){return yt.apply(this,arguments)}(Yn,gr)}),Se.apply(this,arguments)}function yt(){return yt=r(function*(Ye,At=null){if((function qt(Ye){for(const At in Ye||ee)return!1;return!0}(At)||!fe)&&(At=null),At)try{return yield createImageBitmap(Ye,At)}catch(Pn){console.warn(Pn),fe=!1}return yield createImageBitmap(Ye)}),yt.apply(this,arguments)}var Ln=w(28690);var b=!1,R=!0;function T(Ye){const At=D(Ye);return function j(Ye){const At=D(Ye);return At.byteLength>=24&&2303741511===At.getUint32(0,b)?{mimeType:"image/png",width:At.getUint32(16,b),height:At.getUint32(20,b)}:null}(At)||function xe(Ye){const At=D(Ye);if(!(At.byteLength>=3&&65496===At.getUint16(0,b)&&255===At.getUint8(2)))return null;const{tableMarkers:Yn,sofMarkers:gr}=function ie(){const Ye=new Set([65499,65476,65484,65501,65534]);for(let Pn=65504;Pn<65520;++Pn)Ye.add(Pn);return{tableMarkers:Ye,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let vr=2;for(;vr+9<At.byteLength;){const vi=At.getUint16(vr,b);if(gr.has(vi))return{mimeType:"image/jpeg",height:At.getUint16(vr+5,b),width:At.getUint16(vr+7,b)};if(!Yn.has(vi))return null;vr+=2,vr+=At.getUint16(vr,b)}return null}(At)||function h(Ye){const At=D(Ye);return At.byteLength>=10&&1195984440===At.getUint32(0,b)?{mimeType:"image/gif",width:At.getUint16(6,R),height:At.getUint16(8,R)}:null}(At)||function I(Ye){const At=D(Ye);return At.byteLength>=14&&16973===At.getUint16(0,b)&&At.getUint32(2,R)===At.byteLength?{mimeType:"image/bmp",width:At.getUint32(18,R),height:At.getUint32(22,R)}:null}(At)||function V(Ye){const Pn=function Tt(Ye){return function Y(Ye,At,Pn=0){const Yn=function wt(Ye){return[...Ye].map(At=>At.charCodeAt(0))}(At);for(let gr=0;gr<Yn.length;++gr)if(Yn[gr]!==Ye[gr+Pn])return!1;return!0}(Ye,"ftyp",4)&&96&Ye[8]?function We(Ye){switch(function Ve(Ye,At,Pn){return String.fromCharCode(...Ye.slice(At,Pn))}(Ye,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(Ye):null}(new Uint8Array(Ye instanceof DataView?Ye.buffer:Ye));return Pn?{mimeType:Pn.mimeType,width:0,height:0}:null}(At)}function D(Ye){if(Ye instanceof DataView)return Ye;if(ArrayBuffer.isView(Ye))return new DataView(Ye.buffer);if(Ye instanceof ArrayBuffer)return new DataView(Ye);throw new Error("toDataView")}function se(){return se=r(function*(Ye,At){var Pn;const{mimeType:Yn}=T(Ye)||{},gr=null==(Pn=globalThis.loaders)?void 0:Pn.parseImageNode;return(0,Ln.assert)(gr),yield gr(Ye,Yn)}),se.apply(this,arguments)}function ct(){return ct=r(function*(Ye,At,Pn){const gr=((At=At||{}).image||{}).type||"auto",{url:vr}=Pn||{},vi=function ut(Ye){switch(Ye){case"auto":case"data":return q();default:return ne(Ye),Ye}}(gr);let to;switch(vi){case"imagebitmap":to=yield function ye(Ye,At,Pn){return Se.apply(this,arguments)}(Ye,At,vr);break;case"image":to=yield Ce(Ye,At,vr);break;case"data":to=yield function K(Ye,At){return se.apply(this,arguments)}(Ye,At);break;default:(0,N.assert)(!1)}return"data"===gr&&(to=he(to)),to}),ct.apply(this,arguments)}var Bt,it={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:G,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function Le(Ye,At,Pn){return ct.apply(this,arguments)},tests:[Ye=>!!T(new DataView(Ye))],options:{image:{type:"auto",decode:!0}}},pn=null==(Bt=globalThis.loaders)?void 0:Bt.encodeImageNode;function mt(){return mt=r(function*(Ye,At){return(At=At||{}).image=At.image||{},pn?pn(Ye,{type:At.image.mimeType}):function Ne(Ye,At){return zt.apply(this,arguments)}(Ye,At)}),mt.apply(this,arguments)}var Ut=!0;function zt(){return zt=r(function*(Ye,At){const{mimeType:Pn,jpegQuality:Yn}=At.image,{width:gr,height:vr}=J(Ye),vi=document.createElement("canvas");vi.width=gr,vi.height=vr,function Zt(Ye,At,Pn=0,Yn=0){if(0===Pn&&0===Yn&&typeof ImageBitmap<"u"&&Ye instanceof ImageBitmap){const vr=At.getContext("bitmaprenderer");if(vr)return vr.transferFromImageBitmap(Ye),At}const gr=At.getContext("2d");if(Ye.data){const vr=new Uint8ClampedArray(Ye.data),vi=new ImageData(vr,Ye.width,Ye.height);return gr.putImageData(vi,0,0),At}gr.drawImage(Ye,0,0)}(Ye,vi);const to=yield new Promise(ro=>{if(Yn&&Ut)try{return void vi.toBlob(ro,Pn,Yn)}catch{Ut=!1}vi.toBlob(ro,Pn)});if(!to)throw new Error("image encoding failed");return yield to.arrayBuffer()}),zt.apply(this,arguments)}var Cn={name:"Images",id:"image",module:"images",version:G,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:function st(Ye,At){return mt.apply(this,arguments)}},Zn=w(28690),br=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/tiff","image/svg","image/svg+xml","image/bmp","image/vnd.microsoft.icon"],Mr=null;function yn(){return St.apply(this,arguments)}function St(){return St=r(function*(){if(Mr)return yield Mr;const Ye=new Set;for(const At of br)(Zn.isBrowser?yield Qe(At):bt(At))&&Ye.add(At);return Ye}),St.apply(this,arguments)}var kt={};function Mt(Ye){if(void 0===kt[Ye]){const At=Zn.isBrowser?function sn(Ye){switch(Ye){case"image/avif":case"image/webp":return function Mn(Ye){try{return 0===document.createElement("canvas").toDataURL(Ye).indexOf(`data:${Ye}`)}catch{return!1}}(Ye);default:return!0}}(Ye):bt(Ye);kt[Ye]=At}return kt[Ye]}function bt(Ye){var At,Pn;const gr=(null==(At=globalThis.loaders)?void 0:At.imageFormatsNode)||["image/png","image/jpeg","image/gif"];return!!(null==(Pn=globalThis.loaders)?void 0:Pn.parseImageNode)&&gr.includes(Ye)}var Yt={"image/avif":"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=","image/webp":"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"};function Qe(Ye){return Lt.apply(this,arguments)}function Lt(){return Lt=r(function*(Ye){const At=Yt[Ye];return!At||(yield function vt(Ye){return ze.apply(this,arguments)}(At))}),Lt.apply(this,arguments)}function ze(){return ze=r(function*(Ye){return new Promise(At=>{const Pn=new Image;Pn.src=Ye,Pn.onload=()=>At(Pn.height>0),Pn.onerror=()=>At(!1)})}),ze.apply(this,arguments)}function nn(){throw new Error("loadImage has moved to @loaders.gl/textures")}},28690:(ln,qe,w)=>{"use strict";var $n,r=w(15985).default,s=w(31049).default,v=w(47604).default,S=w(88322).default,M=w(57909).default,C=Object.defineProperty,d=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,N=($n,un)=>{for(var Ge in un)C($n,Ge,{get:un[Ge],enumerable:!0})},E=($n,un,Ge)=>((($n,un,Ge)=>{un in $n?C($n,un,{enumerable:!0,configurable:!0,writable:!0,value:Ge}):$n[un]=Ge})($n,"symbol"!=typeof un?un+"":un,Ge),Ge),L={};function ae($n,un,Ge,xt){return U.apply(this,arguments)}function U(){return U=s(function*($n,un,Ge,xt){return xt._parse($n,un,Ge,xt)}),U.apply(this,arguments)}function Z($n,un,Ge,xt){if(!xt._parseSync)throw new Error("parseSync");return xt._parseSync($n,un,Ge,xt)}function ne($n,un,Ge,xt){return q.apply(this,arguments)}function q(){return q=s(function*($n,un,Ge,xt){if(!xt._parseInBatches)throw new Error("parseInBatches");return xt._parseInBatches($n,un,Ge,xt)}),q.apply(this,arguments)}function le($n,un){if(!$n)throw new Error(un||"loader assertion failed.")}N(L,{BlobFile:()=>Vn,DataSource:()=>Co,DataViewFile:()=>so,FileHandleFile:()=>yi,HttpFile:()=>Tr,ImageSource:()=>jo,JSONLoader:()=>vi,NodeFile:()=>Si,NodeFilesystem:()=>io,RequestScheduler:()=>ze,_addAliases:()=>Yn,assert:()=>le,canEncodeWithWorker:()=>I,canParseWithWorker:()=>b,checkJSModule:()=>fe,compareArrayBuffers:()=>K,concatenateArrayBuffers:()=>se,concatenateArrayBuffersAsync:()=>kt,concatenateArrayBuffersFromArray:()=>Le,concatenateTypedArrays:()=>ct,copyArrayBuffer:()=>Oe,copyBinaryToDataView:()=>pn,copyPaddedArrayBufferToDataView:()=>st,copyPaddedStringToDataView:()=>mt,copyStringToDataView:()=>Bt,copyToArray:()=>Pt,createLoaderWorker:()=>qt,document:()=>k,forEach:()=>yn,getFirstCharacters:()=>xe,getJSModule:()=>ye,getJSModuleOrNull:()=>Se,getMagicString:()=>ie,getPathPrefix:()=>Pn,global:()=>we,isBrowser:()=>ue,isBuffer:()=>_o,isFileProvider:()=>Ci,isWorker:()=>Ie,log:()=>Nt,makeLineIterator:()=>Cn,makeNumberedLineIterator:()=>br,makeTextDecoderIterator:()=>Ut,makeTextEncoderIterator:()=>zt,mergeLoaderOptions:()=>Kt,nodeVersion:()=>Ze,padStringToByteAlignment:()=>it,padToNBytes:()=>en,parseFromContext:()=>ae,parseInBatchesFromContext:()=>ne,parseJSON:()=>D,parseSyncFromContext:()=>Z,parseWithWorker:()=>R,path:()=>Xo,promisify1:()=>yo,promisify2:()=>ts,registerJSModules:()=>ee,resolvePath:()=>gr,self:()=>J,setPathPrefix:()=>At,sliceArrayBuffer:()=>ut,stream:()=>et,toArrayBuffer:()=>So,toBuffer:()=>Uo,window:()=>he}),ln.exports=($n=L,(($n,un,Ge,xt)=>{if(un&&"object"==typeof un||"function"==typeof un)for(let rn of F(un))!P.call($n,rn)&&undefined!==rn&&C($n,rn,{get:()=>un[rn],enumerable:!(xt=d(un,rn))||xt.enumerable});return $n})(C({},"__esModule",{value:!0}),$n));var z={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},J=z.self||z.window||z.global||{},he=z.window||z.self||z.global||{},we=z.global||z.self||z.window||{},k=z.document||{},ue=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),Ie="function"==typeof importScripts,ke=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),Ze=ke&&parseFloat(ke[1])||0,Nt=new(w(69243).Log)({id:"loaders.gl"});function Kt($n,un){return me($n||{},un)}function me($n,un,Ge=0){if(Ge>3)return un;const xt={...$n};for(const[rn,Hn]of Object.entries(un))xt[rn]=Hn&&"object"==typeof Hn&&!Array.isArray(Hn)?me(xt[rn]||{},un[rn],Ge+1):un[rn];return xt}function ee($n){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,$n)}function fe($n,un){var Ge,xt;(null==(xt=null==(Ge=globalThis.loaders)?void 0:Ge.modules)?void 0:xt[$n])||Nt.warn(`${un}: ${$n} library not installed`)()}function ye($n,un){var Ge,xt;const rn=null==(xt=null==(Ge=globalThis.loaders)?void 0:Ge.modules)?void 0:xt[$n];if(!rn)throw new Error(`${un}: ${$n} library not installed`);return rn}function Se($n){var un,Ge;return(null==(Ge=null==(un=globalThis.loaders)?void 0:un.modules)?void 0:Ge[$n])||null}var Be=w(13827),yt=0;function qt($n){return Ln.apply(this,arguments)}function Ln(){return Ln=s(function*($n){(yield Be.WorkerBody.inWorkerThread())&&(Be.WorkerBody.onmessage=function(){var un=s(function*(Ge,xt){if("process"===Ge)try{const{input:rn,options:Hn={},context:Dr={}}=xt,Qr=yield function We($n){return Ve.apply(this,arguments)}({loader:$n,arrayBuffer:rn,options:Hn,context:{...Dr,_parse:Tt}});Be.WorkerBody.postMessage("done",{result:Qr})}catch(rn){const Hn=rn instanceof Error?rn.message:"";Be.WorkerBody.postMessage("error",{error:Hn})}});return function(Ge,xt){return un.apply(this,arguments)}}())}),Ln.apply(this,arguments)}function Tt($n,un,Ge,xt){return new Promise((rn,Hn)=>{const Dr=yt++,Qr=(Gi,vo)=>{if(vo.id===Dr)switch(Gi){case"done":Be.WorkerBody.removeEventListener(Qr),rn(vo.result);break;case"error":Be.WorkerBody.removeEventListener(Qr),Hn(vo.error)}};Be.WorkerBody.addEventListener(Qr),Be.WorkerBody.postMessage("process",{id:Dr,input:$n,options:Ge})})}function Ve(){return Ve=s(function*({loader:$n,arrayBuffer:un,options:Ge,context:xt}){let rn,Hn;if($n.parseSync||$n.parse)rn=un,Hn=$n.parseSync||$n.parse;else{if(!$n.parseTextSync)throw new Error(`Could not load data with ${$n.name} loader`);rn=(new TextDecoder).decode(un),Hn=$n.parseTextSync}return Ge={...Ge,modules:$n&&$n.options&&$n.options.modules||{},worker:!1},yield Hn(rn,{...Ge},xt,$n)}),Ve.apply(this,arguments)}var wt=w(13827),Y=w(13827);function b($n,un){return!(!Y.WorkerFarm.isSupported()||!wt.isBrowser&&!un?._nodeWorkers)&&$n.worker&&un?.worker}function R($n,un,Ge,xt,rn){return T.apply(this,arguments)}function T(){return T=s(function*($n,un,Ge,xt,rn){const Hn=$n.id,Dr=(0,Y.getWorkerURL)($n,Ge),Qi=Y.WorkerFarm.getWorkerFarm(Ge).getWorkerPool({name:Hn,url:Dr});Ge=JSON.parse(JSON.stringify(Ge)),xt=JSON.parse(JSON.stringify(xt||{}));const Gi=yield Qi.startJob("process-on-worker",V.bind(null,rn));return Gi.postMessage("process",{input:un,options:Ge,context:xt}),yield(yield Gi.result).result}),T.apply(this,arguments)}function V($n,un,Ge,xt){return j.apply(this,arguments)}function j(){return j=s(function*($n,un,Ge,xt){switch(Ge){case"done":un.done(xt);break;case"error":un.error(new Error(xt.error));break;case"process":const{id:rn,input:Hn,options:Dr}=xt;try{const Qr=yield $n(Hn,Dr);un.postMessage("done",{id:rn,result:Qr})}catch(Qr){const Qi=Qr instanceof Error?Qr.message:"unknown error";un.postMessage("error",{id:rn,error:Qi})}break;default:console.warn(`parse-with-worker unknown message ${Ge}`)}}),j.apply(this,arguments)}var h=w(13827);function I($n,un){return!(!h.WorkerFarm.isSupported()||!ue&&!un?._nodeWorkers)&&$n.worker&&un?.worker}function xe($n,un=5){return"string"==typeof $n?$n.slice(0,un):ArrayBuffer.isView($n)?ie($n.buffer,$n.byteOffset,un):$n instanceof ArrayBuffer?ie($n,0,un):""}function ie($n,un,Ge){if($n.byteLength<=un+Ge)return"";const xt=new DataView($n);let rn="";for(let Hn=0;Hn<Ge;Hn++)rn+=String.fromCharCode(xt.getUint8(un+Hn));return rn}function D($n){try{return JSON.parse($n)}catch{throw new Error(`Failed to parse JSON from data starting with "${xe($n)}"`)}}function K($n,un,Ge){if($n.byteLength<(Ge=Ge||$n.byteLength)||un.byteLength<Ge)return!1;const xt=new Uint8Array($n),rn=new Uint8Array(un);for(let Hn=0;Hn<xt.length;++Hn)if(xt[Hn]!==rn[Hn])return!1;return!0}function se(...$n){return Le($n)}function Le($n){const un=$n.map(Hn=>Hn instanceof ArrayBuffer?new Uint8Array(Hn):Hn),Ge=un.reduce((Hn,Dr)=>Hn+Dr.byteLength,0),xt=new Uint8Array(Ge);let rn=0;for(const Hn of un)xt.set(Hn,rn),rn+=Hn.byteLength;return xt.buffer}function ct(...$n){const un=$n,Ge=un&&un.length>1&&un[0].constructor||null;if(!Ge)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');const rn=new Ge(un.reduce((Dr,Qr)=>Dr+Qr.length,0));let Hn=0;for(const Dr of un)rn.set(Dr,Hn),Hn+=Dr.length;return rn}function ut($n,un,Ge){const xt=void 0!==Ge?new Uint8Array($n).subarray(un,un+Ge):new Uint8Array($n).subarray(un);return new Uint8Array(xt).buffer}function en($n,un){return le($n>=0),le(un>0),$n+(un-1)&~(un-1)}function Oe($n,un,Ge,xt=un.byteLength){const rn=new Uint8Array($n,Ge,xt),Hn=new Uint8Array(un);return rn.set(Hn),$n}function Pt($n,un,Ge){let xt;return xt=$n instanceof ArrayBuffer?new Uint8Array($n):new Uint8Array($n.buffer||$n.arrayBuffer,$n.byteOffset,$n.byteLength),un.set(xt,Ge),Ge+en(xt.byteLength,4)}function it($n,un){const Ge=$n.length,rn=Math.ceil(Ge/un)*un-Ge;let Hn="";for(let Dr=0;Dr<rn;++Dr)Hn+=" ";return $n+Hn}function Bt($n,un,Ge,xt){if($n)for(let rn=0;rn<xt;rn++)$n.setUint8(un+rn,Ge.charCodeAt(rn));return un+xt}function pn($n,un,Ge,xt){if($n)for(let rn=0;rn<xt;rn++)$n.setUint8(un+rn,Ge[rn]);return un+xt}function st($n,un,Ge,xt){const rn=en(Ge.byteLength,xt),Hn=rn-Ge.byteLength;if($n){const Dr=new Uint8Array($n.buffer,$n.byteOffset+un,Ge.byteLength),Qr=new Uint8Array(Ge);Dr.set(Qr);for(let Qi=0;Qi<Hn;++Qi)$n.setUint8(un+Ge.byteLength+Qi,32)}return un+rn}function mt($n,un,Ge,xt){return st($n,un,(new TextEncoder).encode(Ge),xt)}function Ut($n){return Ne.apply(this,arguments)}function Ne(){return Ne=S(function*($n,un={}){const Ge=new TextDecoder(void 0,un);var Hn,xt=!1,rn=!1;try{for(var Qr,Dr=M($n);xt=!(Qr=yield v(Dr.next())).done;xt=!1){const Qi=Qr.value;yield"string"==typeof Qi?Qi:Ge.decode(Qi,{stream:!0})}}catch(Qi){rn=!0,Hn=Qi}finally{try{xt&&null!=Dr.return&&(yield v(Dr.return()))}finally{if(rn)throw Hn}}}),Ne.apply(this,arguments)}function zt($n){return Zt.apply(this,arguments)}function Zt(){return Zt=S(function*($n){const un=new TextEncoder;var rn,Ge=!1,xt=!1;try{for(var Dr,Hn=M($n);Ge=!(Dr=yield v(Hn.next())).done;Ge=!1){const Qr=Dr.value;yield"string"==typeof Qr?un.encode(Qr):Qr}}catch(Qr){xt=!0,rn=Qr}finally{try{Ge&&null!=Hn.return&&(yield v(Hn.return()))}finally{if(xt)throw rn}}}),Zt.apply(this,arguments)}function Cn($n){return Zn.apply(this,arguments)}function Zn(){return Zn=S(function*($n){let un="";var rn,Ge=!1,xt=!1;try{for(var Dr,Hn=M($n);Ge=!(Dr=yield v(Hn.next())).done;Ge=!1){let Qi;for(un+=Dr.value;(Qi=un.indexOf("\n"))>=0;){const Gi=un.slice(0,Qi+1);un=un.slice(Qi+1),yield Gi}}}catch(Qr){xt=!0,rn=Qr}finally{try{Ge&&null!=Hn.return&&(yield v(Hn.return()))}finally{if(xt)throw rn}}un.length>0&&(yield un)}),Zn.apply(this,arguments)}function br($n){return Mr.apply(this,arguments)}function Mr(){return Mr=S(function*($n){let un=1;var rn,Ge=!1,xt=!1;try{for(var Dr,Hn=M($n);Ge=!(Dr=yield v(Hn.next())).done;Ge=!1){const Qr=Dr.value;yield{counter:un,line:Qr},un++}}catch(Qr){xt=!0,rn=Qr}finally{try{Ge&&null!=Hn.return&&(yield v(Hn.return()))}finally{if(xt)throw rn}}}),Mr.apply(this,arguments)}function yn($n,un){return St.apply(this,arguments)}function St(){return St=s(function*($n,un){for(;;){const{done:Ge,value:xt}=yield $n.next();if(Ge)return void $n.return();if(un(xt))return}}),St.apply(this,arguments)}function kt($n){return Mt.apply(this,arguments)}function Mt(){return Mt=s(function*($n){const un=[];var rn,Ge=!1,xt=!1;try{for(var Dr,Hn=M($n);Ge=!(Dr=yield Hn.next()).done;Ge=!1)un.push(Dr.value)}catch(Qr){xt=!0,rn=Qr}finally{try{Ge&&null!=Hn.return&&(yield Hn.return())}finally{if(xt)throw rn}}return se(...un)}),Mt.apply(this,arguments)}var bt=w(750),vt={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0},ze=class{constructor(un={}){r(this,"props",void 0),r(this,"stats",void 0),r(this,"activeRequestCount",0),r(this,"requestQueue",[]),r(this,"requestMap",new Map),r(this,"updateTimer",null),this.props={...vt,...un},this.stats=new bt.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(un,Ge=(()=>0)){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(un))return this.requestMap.get(un);const xt={handle:un,priority:0,getPriority:Ge},rn=new Promise(Hn=>(xt.resolve=Hn,xt));return this.requestQueue.push(xt),this.requestMap.set(un,rn),this._issueNewRequests(),rn}_issueRequest(un){const{handle:Ge,resolve:xt}=un;let rn=!1;const Hn=()=>{rn||(rn=!0,this.requestMap.delete(Ge),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,xt?xt({done:Hn}):Promise.resolve({done:Hn})}_issueNewRequests(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>this._issueNewRequestsAsync(),this.props.debounceTime)}_issueNewRequestsAsync(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=null;const un=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==un){this._updateAllRequests();for(let Ge=0;Ge<un;++Ge){const xt=this.requestQueue.shift();xt&&this._issueRequest(xt)}}}_updateAllRequests(){const un=this.requestQueue;for(let Ge=0;Ge<un.length;++Ge){const xt=un[Ge];this._updateRequest(xt)||(un.splice(Ge,1),this.requestMap.delete(xt.handle),Ge--)}un.sort((Ge,xt)=>Ge.priority-xt.priority)}_updateRequest(un){return un.priority=un.getPriority(un.handle),!(un.priority<0&&(un.resolve(null),1))}},nn="",Ye={};function At($n){nn=$n}function Pn(){return nn}function Yn($n){Object.assign(Ye,$n)}function gr($n){for(const un in Ye)$n.startsWith(un)&&($n=$n.replace(un,Ye[un]));return!$n.startsWith("http://")&&!$n.startsWith("https://")&&($n=`${nn}${$n}`),$n}var vi={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:"4.2.1",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:to,parse:function(){var $n=s(function*(un){return to((new TextDecoder).decode(un))});return function(Ge){return $n.apply(this,arguments)}}(),options:{}};function to($n){return JSON.parse($n)}function wi($n){throw new Error("Buffer not supported in browser")}function _o($n){return $n&&"object"==typeof $n&&$n.isBuffer}function Uo($n){return wi?wi():$n}function So($n){if(_o($n))return $n;if($n instanceof ArrayBuffer)return $n;if(ArrayBuffer.isView($n))return 0===$n.byteOffset&&$n.byteLength===$n.buffer.byteLength?$n.buffer:$n.buffer.slice($n.byteOffset,$n.byteOffset+$n.byteLength);if("string"==typeof $n){const un=$n;return(new TextEncoder).encode(un).buffer}if($n&&"object"==typeof $n&&$n._toArrayBuffer)return $n._toArrayBuffer();throw new Error("toArrayBuffer")}function yo($n){return un=>new Promise((Ge,xt)=>$n(un,(rn,Hn)=>rn?xt(rn):Ge(Hn)))}function ts($n){return(un,Ge)=>new Promise((xt,rn)=>$n(un,Ge,(Hn,Dr)=>Hn?rn(Hn):xt(Dr)))}var Xo={};function Io(){var $n;if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();const un=null==($n=window.location)?void 0:$n.pathname;return un?.slice(0,un.lastIndexOf("/")+1)||""}function Fe($n){const un=$n?$n.lastIndexOf("/"):-1;return un>=0?$n.substr(un+1):""}function _t($n){const un=$n?$n.lastIndexOf("/"):-1;return un>=0?$n.substr(0,un):""}function bn(...$n){return($n=$n.map((Ge,xt)=>(xt&&(Ge=Ge.replace(new RegExp("^/"),"")),xt!==$n.length-1&&(Ge=Ge.replace(new RegExp("/$"),"")),Ge))).join("/")}function xn(...$n){const un=[];for(let Hn=0;Hn<$n.length;Hn++)un[Hn]=$n[Hn];let rn,Ge="",xt=!1;for(let Hn=un.length-1;Hn>=-1&&!xt;Hn--){let Dr;Hn>=0?Dr=un[Hn]:(void 0===rn&&(rn=Io()),Dr=rn),0!==Dr.length&&(Ge=`${Dr}/${Ge}`,xt=Dr.charCodeAt(0)===zn)}return Ge=function Pr($n,un){let Hn,Ge="",xt=-1,rn=0,Dr=!1;for(let Qr=0;Qr<=$n.length;++Qr){if(Qr<$n.length)Hn=$n.charCodeAt(Qr);else{if(Hn===zn)break;Hn=zn}if(Hn===zn){if(xt!==Qr-1&&1!==rn)if(xt!==Qr-1&&2===rn){if(Ge.length<2||!Dr||Ge.charCodeAt(Ge.length-1)!==ir||Ge.charCodeAt(Ge.length-2)!==ir)if(Ge.length>2){const Qi=Ge.length-1;let Gi=Qi;for(;Gi>=0&&Ge.charCodeAt(Gi)!==zn;--Gi);if(Gi!==Qi){Ge=-1===Gi?"":Ge.slice(0,Gi),xt=Qr,rn=0,Dr=!1;continue}}else if(2===Ge.length||1===Ge.length){Ge="",xt=Qr,rn=0,Dr=!1;continue}un&&(Ge.length>0?Ge+="/..":Ge="..",Dr=!0)}else{const Qi=$n.slice(xt+1,Qr);Ge.length>0?Ge+=`/${Qi}`:Ge=Qi,Dr=!1}xt=Qr,rn=0}else Hn===ir&&-1!==rn?++rn:rn=-1}return Ge}(Ge,!xt),xt?`/${Ge}`:Ge.length>0?Ge:"."}N(Xo,{dirname:()=>_t,filename:()=>Fe,join:()=>bn,resolve:()=>xn});var zn=47,ir=46,et={};N(et,{isSupported:()=>$t});var $t=!1,Vn=class{constructor(un){r(this,"handle",void 0),r(this,"size",void 0),r(this,"bigsize",void 0),r(this,"url",void 0),this.handle=un instanceof ArrayBuffer?new Blob([un]):un,this.size=un instanceof ArrayBuffer?un.byteLength:un.size,this.bigsize=BigInt(this.size),this.url=un instanceof File?un.name:""}close(){return s(function*(){})()}stat(){var un=this;return s(function*(){return{size:un.handle.size,bigsize:BigInt(un.handle.size),isDirectory:!1}})()}read(un,Ge){var xt=this;return s(function*(){return yield xt.handle.slice(un,un+Ge).arrayBuffer()})()}},Tr=class{constructor(un){r(this,"handle",void 0),r(this,"size",0),r(this,"bigsize",0n),r(this,"url",void 0),this.handle=un,this.url=un}close(){return s(function*(){})()}stat(){var un=this;return s(function*(){const Ge=yield fetch(un.handle,{method:"HEAD"});if(!Ge.ok)throw new Error(`Failed to fetch HEAD ${un.handle}`);const xt=parseInt(Ge.headers.get("Content-Length")||"0");return{size:xt,bigsize:BigInt(xt),isDirectory:!1}})()}read(un,Ge){var xt=this;return s(function*(){return yield(yield xt.fetchRange(un,Ge)).arrayBuffer()})()}fetchRange(un,Ge,xt){var rn=this;return s(function*(){const Hn=Number(un),Dr=Number(Ge);let Qr;xt||(Qr=new AbortController,xt=Qr.signal);const Qi=rn.handle;let Gi=yield fetch(Qi,{signal:xt,headers:{Range:`bytes=${Hn}-${Hn+Dr-1}`}});switch(Gi.status){case 206:break;case 200:const vo=Gi.headers.get("Content-Length");if(!vo||Number(vo)>Ge)throw Qr&&Qr.abort(),Error("content-length header missing or exceeding request. Server must support HTTP Byte Serving.");case 416:if(0===un){const Do=Gi.headers.get("Content-Range");if(!Do||!Do.startsWith("bytes *"))throw Error("Missing content-length on 416 response");const Ao=Number(Do.substr(8));Gi=yield fetch(rn.url,{signal:xt,headers:{Range:"bytes=0-"+(Ao-1)}})}break;default:if(Gi.status>=300)throw Error(`Bad response code: ${Gi.status}`)}return Gi})()}},ei=new Error("Not implemented"),Si=class{constructor(un,Ge,xt){var rn;if(r(this,"handle",void 0),r(this,"size",0),r(this,"bigsize",0n),r(this,"url",""),null!=(rn=globalThis.loaders)&&rn.NodeFile)return new globalThis.loaders.NodeFile(un,Ge,xt);throw ue?new Error("Can't instantiate NodeFile in browser."):new Error("Can't instantiate NodeFile. Make sure to import @loaders.gl/polyfills first.")}read(un,Ge){return s(function*(){throw ei})()}write(un,Ge,xt){return s(function*(){throw ei})()}stat(){return s(function*(){throw ei})()}truncate(un){return s(function*(){throw ei})()}append(un){return s(function*(){throw ei})()}close(){return s(function*(){})()}},Ri=new Error("Not implemented"),io=class{constructor(un){var Ge;if(r(this,"readable",!0),r(this,"writable",!0),null!=(Ge=globalThis.loaders)&&Ge.NodeFileSystem)return new globalThis.loaders.NodeFileSystem(un);throw ue?new Error("Can't instantiate NodeFileSystem in browser."):new Error("Can't instantiate NodeFileSystem. Make sure to import @loaders.gl/polyfills first.")}openReadableFile(un,Ge){return s(function*(){throw Ri})()}openWritableFile(un,Ge,xt){return s(function*(){throw Ri})()}readdir(un=".",Ge){return s(function*(){throw Ri})()}stat(un,Ge){return s(function*(){throw Ri})()}unlink(un){return s(function*(){throw Ri})()}fetch(un,Ge){return s(function*(){throw Ri})()}},Ci=$n=>$n?.getUint8&&$n?.slice&&$n?.length,yi=class{constructor(un,Ge=!1){r(this,"file",void 0),this.file=new Si(un,Ge?"a+":"r")}truncate(un){var Ge=this;return s(function*(){yield Ge.file.truncate(un)})()}append(un){var Ge=this;return s(function*(){yield Ge.file.append(un)})()}destroy(){var un=this;return s(function*(){yield un.file.close()})()}getUint8(un){var Ge=this;return s(function*(){const xt=yield Ge.file.read(un,1),rn=new Uint8Array(xt).at(0);if(void 0===rn)throw new Error("something went wrong");return rn})()}getUint16(un){var Ge=this;return s(function*(){const xt=yield Ge.file.read(un,2),rn=new Uint16Array(xt).at(0);if(void 0===rn)throw new Error("something went wrong");return rn})()}getUint32(un){var Ge=this;return s(function*(){const xt=yield Ge.file.read(un,4),rn=new Uint32Array(xt).at(0);if(void 0===rn)throw new Error("something went wrong");return rn})()}getBigUint64(un){var Ge=this;return s(function*(){const xt=yield Ge.file.read(un,8),rn=new BigInt64Array(xt).at(0);if(void 0===rn)throw new Error("something went wrong");return rn})()}slice(un,Ge){var xt=this;return s(function*(){const rn=Ge-un;if(rn>Number.MAX_SAFE_INTEGER)throw new Error("too big slice");const Hn=Number(rn);return yield xt.file.read(un,Hn)})()}get length(){return this.file.bigsize}},Yi=$n=>{if($n>Number.MAX_SAFE_INTEGER)throw new Error("Offset is out of bounds");return Number($n)},so=class{constructor(un){r(this,"file",void 0),this.file=un}destroy(){return s(function*(){})()}getUint8(un){var Ge=this;return s(function*(){return Ge.file.getUint8(Yi(un))})()}getUint16(un){var Ge=this;return s(function*(){return Ge.file.getUint16(Yi(un),!0)})()}getUint32(un){var Ge=this;return s(function*(){return Ge.file.getUint32(Yi(un),!0)})()}getBigUint64(un){var Ge=this;return s(function*(){return Ge.file.getBigUint64(Yi(un),!0)})()}slice(un,Ge){var xt=this;return s(function*(){return xt.file.buffer.slice(Yi(un),Yi(Ge))})()}get length(){return BigInt(this.file.byteLength)}},Co=class{constructor(un){r(this,"fetch",void 0),r(this,"loadOptions",void 0),r(this,"_needsRefresh",!0),r(this,"props",void 0),this.props={...un},this.loadOptions={...un.loadOptions},this.fetch=function qi($n){const un=$n?.fetch;if(un&&"function"==typeof un)return(xt,rn)=>un(xt,rn);const Ge=$n?.fetch;return Ge&&"function"!=typeof Ge?xt=>fetch(xt,Ge):xt=>fetch(xt)}(this.loadOptions)}setProps(un){this.props=Object.assign(this.props,un),this.setNeedsRefresh()}setNeedsRefresh(){this._needsRefresh=!0}getNeedsRefresh(un=!0){const Ge=this._needsRefresh;return un&&(this._needsRefresh=!1),Ge}},jo=class extends Co{};E(jo,"type","template"),E(jo,"testURL",$n=>!1)},47526:(ln,qe,w)=>{"use strict";var et,r=w(31049).default,s=w(15985).default,v=w(57909).default,S=Object.defineProperty,M=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,m={};((et,$t)=>{for(var Vn in $t)S(et,Vn,{get:$t[Vn],enumerable:!0})})(m,{ArrowLikeDataType:()=>zt,ArrowLikeField:()=>yt,ArrowLikeSchema:()=>qt,ArrowLikeTable:()=>h,AsyncQueue:()=>Pr,Binary:()=>ze,Bool:()=>Cn,ColumnarTableBatchAggregator:()=>J,Date:()=>At,DateDay:()=>Pn,DateMillisecond:()=>Yn,FixedSizeList:()=>Fe,Float:()=>Qe,Float16:()=>Lt,Float32:()=>Mn,Float64:()=>vt,Int:()=>Zn,Int16:()=>Mr,Int32:()=>yn,Int64:()=>St,Int8:()=>br,Interval:()=>ts,IntervalDayTime:()=>Xo,IntervalYearMonth:()=>Io,Null:()=>Zt,RowTableBatchAggregator:()=>le,Struct:()=>_t,TableBatchBuilder:()=>ue,Time:()=>vr,TimeMillisecond:()=>to,TimeSecond:()=>vi,Timestamp:()=>ro,TimestampMicrosecond:()=>Uo,TimestampMillisecond:()=>_o,TimestampNanosecond:()=>So,TimestampSecond:()=>wi,Uint16:()=>Mt,Uint32:()=>bt,Uint64:()=>sn,Uint8:()=>kt,Utf8:()=>nn,convertTable:()=>ct,convertToArrayRow:()=>U,convertToObjectRow:()=>ae,deduceMeshField:()=>st,deduceMeshSchema:()=>pn,deduceTableSchema:()=>Y,getDataTypeFromArray:()=>We,getMeshBoundingBox:()=>Bt,getMeshSize:()=>it,getTableCell:()=>Ce,getTableColumnIndex:()=>Kt,getTableColumnName:()=>me,getTableLength:()=>ke,getTableNumCols:()=>Ze,getTableRowAsArray:()=>fe,getTableRowAsObject:()=>ee,getTableRowShape:()=>Nt,getTypeInfo:()=>bn,isTable:()=>Ie,makeArrayRowIterator:()=>Se,makeBatchFromTable:()=>D,makeMeshAttributeMetadata:()=>Ut,makeObjectRowIterator:()=>Be,makeRowIterator:()=>ye,makeTableFromBatches:()=>K,makeTableFromData:()=>I}),ln.exports=(et=m,((et,$t,Vn,Tr)=>{if($t&&"object"==typeof $t||"function"==typeof $t)for(let ei of C($t))!d.call(et,ei)&&undefined!==ei&&S(et,ei,{get:()=>$t[ei],enumerable:!(Tr=M($t,ei))||Tr.enumerable});return et})(S({},"__esModule",{value:!0}),et));var L=class{constructor($t,Vn){if(s(this,"schema",void 0),s(this,"options",void 0),s(this,"shape",void 0),s(this,"length",0),s(this,"rows",null),s(this,"cursor",0),s(this,"_headers",[]),this.options=Vn,this.schema=$t,!Array.isArray($t)){this._headers=[];for(const Tr in $t)this._headers[$t[Tr].index]=$t[Tr].name}}rowCount(){return this.length}addArrayRow($t,Vn){Number.isFinite(Vn)&&(this.cursor=Vn),this.shape="array-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=$t,this.length++}addObjectRow($t,Vn){Number.isFinite(Vn)&&(this.cursor=Vn),this.shape="object-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=$t,this.length++}getBatch(){let $t=this.rows;return $t?($t=$t.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:$t,length:this.length,schema:this.schema,cursor:this.cursor}):null}};function ae(et,$t){if(!et)throw new Error("null row");const Vn={};if($t)for(let Tr=0;Tr<$t.length;Tr++)Vn[$t[Tr]]=et[Tr];else for(let Tr=0;Tr<et.length;Tr++)Vn[`column-${Tr}`]=et[Tr];return Vn}function U(et,$t){if(!et)throw new Error("null row");if($t){const Vn=new Array($t.length);for(let Tr=0;Tr<$t.length;Tr++)Vn[Tr]=et[$t[Tr]];return Vn}return Object.values(et)}var le=class{constructor($t,Vn){if(s(this,"schema",void 0),s(this,"options",void 0),s(this,"length",0),s(this,"objectRows",null),s(this,"arrayRows",null),s(this,"cursor",0),s(this,"_headers",null),this.options=Vn,this.schema=$t,$t){this._headers=[];for(const Tr in $t)this._headers[$t[Tr].index]=$t[Tr].name}}rowCount(){return this.length}addArrayRow($t,Vn){switch(Number.isFinite(Vn)&&(this.cursor=Vn),this._headers||=function Z(et){const $t=[];for(let Vn=0;Vn<et.length;Vn++)$t.push(`column-${Vn}`);return $t}($t),this.options.shape){case"object-row-table":const Tr=ae($t,this._headers);this.addObjectRow(Tr,Vn);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=$t,this.length++}}addObjectRow($t,Vn){switch(Number.isFinite(Vn)&&(this.cursor=Vn),this._headers||=function ne(et){return Object.keys(et)}($t),this.options.shape){case"array-row-table":const Tr=U($t,this._headers);this.addArrayRow(Tr,Vn);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=$t,this.length++}}getBatch(){let $t=this.arrayRows||this.objectRows;return $t?($t=$t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:$t,length:this.length,schema:this.schema,cursor:this.cursor}):null}},J=class{constructor($t,Vn){s(this,"schema",void 0),s(this,"length",0),s(this,"allocated",0),s(this,"columns",{}),this.schema=$t,this._reallocateColumns()}rowCount(){return this.length}addArrayRow($t){this._reallocateColumns();let Vn=0;for(const Tr in this.columns)this.columns[Tr][this.length]=$t[Vn++];this.length++}addObjectRow($t){this._reallocateColumns();for(const Vn in $t)this.columns[Vn][this.length]=$t[Vn];this.length++}getBatch(){this._pruneColumns();const $t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const Tr in this.schema){const ei=this.schema[Tr];$t[ei.name]=this.columns[ei.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:$t,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const $t in this.schema){const Vn=this.schema[$t],Tr=Vn.type||Float32Array,ei=this.columns[Vn.index];if(ei&&ArrayBuffer.isView(ei)){const Si=new Tr(this.allocated);Si.set(ei),this.columns[Vn.index]=Si}else ei?(ei.length=this.allocated,this.columns[Vn.index]=ei):this.columns[Vn.index]=new Tr(this.allocated)}}}_pruneColumns(){for(const[$t,Vn]of Object.entries(this.columns))this.columns[$t]=Vn.slice(0,this.length)}},he={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},k=class{constructor($t,Vn){s(this,"schema",void 0),s(this,"options",void 0),s(this,"aggregator",null),s(this,"batchCount",0),s(this,"bytesUsed",0),s(this,"isChunkComplete",!1),s(this,"lastBatchEmittedMs",Date.now()),s(this,"totalLength",0),s(this,"totalBytes",0),s(this,"rowBytes",0),this.schema=$t,this.options={...he,...Vn}}limitReached(){var $t,Vn;return!!(null!=($t=this.options)&&$t.limit&&this.totalLength>=this.options.limit||null!=(Vn=this.options)&&Vn._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow($t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB($t),this.totalBytes+=this.rowBytes,Array.isArray($t)?this.addArrayRow($t):this.addObjectRow($t))}addArrayRow($t){if(!this.aggregator){const Vn=this._getTableBatchType();this.aggregator=new Vn(this.schema,this.options)}this.aggregator.addArrayRow($t)}addObjectRow($t){if(!this.aggregator){const Vn=this._getTableBatchType();this.aggregator=new Vn(this.schema,this.options)}this.aggregator.addObjectRow($t)}chunkComplete($t){$t instanceof ArrayBuffer&&(this.bytesUsed+=$t.byteLength),"string"==typeof $t&&(this.bytesUsed+=$t.length),this.isChunkComplete=!0}getFullBatch($t){return this._isFull()?this._getBatch($t):null}getFinalBatch($t){return this._getBatch($t)}_estimateRowMB($t){return Array.isArray($t)?8*$t.length:8*Object.keys($t).length}_isFull(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs||(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),0))}_getBatch($t){if(!this.aggregator)return null;$t?.bytesUsed&&(this.bytesUsed=$t.bytesUsed);const Vn=this.aggregator.getBatch();return Vn.count=this.batchCount,Vn.bytesUsed=this.bytesUsed,Object.assign(Vn,$t),this.batchCount++,this.aggregator=null,Vn}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return le;case"columnar-table":return J;case"arrow-table":if(!k.ArrowBatch)throw new Error("TableBatchBuilder");return k.ArrowBatch;default:return L}}},ue=k;function Ie(et){var $t;switch("object"==typeof et&&et?.shape){case"array-row-table":case"object-row-table":return Array.isArray(et.data);case"geojson-table":return Array.isArray(et.features);case"columnar-table":return et.data&&"object"==typeof et.data;case"arrow-table":return void 0!==(null==($t=et?.data)?void 0:$t.numRows);default:return!1}}function ke(et){switch(et.shape){case"array-row-table":case"object-row-table":return et.data.length;case"geojson-table":return et.features.length;case"arrow-table":return et.data.numRows;case"columnar-table":for(const Vn of Object.values(et.data))return Vn.length||0;return 0;default:throw new Error("table")}}function Ze(et){if(et.schema)return et.schema.fields.length;if(0===ke(et))throw new Error("empty table");switch(et.shape){case"array-row-table":return et.data[0].length;case"object-row-table":return Object.keys(et.data[0]).length;case"geojson-table":return Object.keys(et.features[0]).length;case"columnar-table":return Object.keys(et.data).length;case"arrow-table":return et.data.numCols;default:throw new Error("table")}}function Ce(et,$t,Vn){var Tr;switch(et.shape){case"array-row-table":const ei=Kt(et,Vn);return et.data[$t][ei];case"object-row-table":return et.data[$t][Vn];case"geojson-table":return et.features[$t][Vn];case"columnar-table":return et.data[Vn][$t];case"arrow-table":const Ri=et.data,io=Ri.schema.fields.findIndex(Ci=>Ci.name===Vn);return null==(Tr=Ri.getChildAt(io))?void 0:Tr.get($t);default:throw new Error("todo")}}function Nt(et){switch(et.shape){case"array-row-table":case"object-row-table":return et.shape;case"geojson-table":return"object-row-table";default:throw new Error("Not a row table")}}function Kt(et,$t){var Vn;const Tr=null==(Vn=et.schema)?void 0:Vn.fields.findIndex(ei=>ei.name===$t);if(void 0===Tr)throw new Error($t);return Tr}function me(et,$t){var Vn,Tr;const ei=null==(Tr=null==(Vn=et.schema)?void 0:Vn.fields[$t])?void 0:Tr.name;if(!ei)throw new Error(`${$t}`);return ei}function ee(et,$t,Vn,Tr){switch(et.shape){case"object-row-table":return Tr?Object.fromEntries(Object.entries(et.data[$t])):et.data[$t];case"array-row-table":if(et.schema){const Ci=Vn||{};for(let yi=0;yi<et.schema.fields.length;yi++)Ci[et.schema.fields[yi].name]=et.data[$t][yi];return Ci}throw new Error("no schema");case"geojson-table":if(et.schema){const Ci=Vn||{};for(let yi=0;yi<et.schema.fields.length;yi++)Ci[et.schema.fields[yi].name]=et.features[$t][yi];return Ci}throw new Error("no schema");case"columnar-table":if(et.schema){const Ci=Vn||{};for(let yi=0;yi<et.schema.fields.length;yi++)Ci[et.schema.fields[yi].name]=et.data[et.schema.fields[yi].name][$t];return Ci}{const Ci=Vn||{};for(const[yi,Yi]of Object.entries(et.data))Ci[yi]=Yi[$t];return Ci}case"arrow-table":const ei=et.data,Si=Vn||{},Ri=ei.get($t),io=ei.schema;for(let Ci=0;Ci<io.fields.length;Ci++)Si[io.fields[Ci].name]=Ri?.[io.fields[Ci].name];return Si;default:throw new Error("shape")}}function fe(et,$t,Vn,Tr){switch(et.shape){case"array-row-table":return Tr?Array.from(et.data[$t]):et.data[$t];case"object-row-table":if(et.schema){const Ci=Vn||[];for(let yi=0;yi<et.schema.fields.length;yi++)Ci[yi]=et.data[$t][et.schema.fields[yi].name];return Ci}return Object.values(et.data[$t]);case"geojson-table":if(et.schema){const Ci=Vn||[];for(let yi=0;yi<et.schema.fields.length;yi++)Ci[yi]=et.features[$t][et.schema.fields[yi].name];return Ci}return Object.values(et.features[$t]);case"columnar-table":if(et.schema){const Ci=Vn||[];for(let yi=0;yi<et.schema.fields.length;yi++)Ci[yi]=et.data[et.schema.fields[yi].name][$t];return Ci}{const Ci=Vn||[];let yi=0;for(const Yi of Object.values(et.data))Ci[yi]=Yi[$t],yi++;return Ci}case"arrow-table":const ei=et.data,Si=Vn||[],Ri=ei.get($t),io=ei.schema;for(let Ci=0;Ci<io.fields.length;Ci++)Si[Ci]=Ri?.[io.fields[Ci].name];return Si;default:throw new Error("shape")}}function*ye(et,$t){switch($t){case"array-row-table":yield*Se(et);break;case"object-row-table":yield*Be(et);break;default:throw new Error(`Unknown row type ${$t}`)}}function*Se(et,$t=[]){const Vn=ke(et);for(let Tr=0;Tr<Vn;Tr++)yield fe(et,Tr,$t)}function*Be(et,$t={}){const Vn=ke(et);for(let Tr=0;Tr<Vn;Tr++)yield ee(et,Tr,$t)}((et,$t,Vn)=>{((et,$t,Vn)=>{$t in et?S(et,$t,{enumerable:!0,configurable:!0,writable:!0,value:undefined}):et[$t]=undefined})(et,$t+"")})(ue,"ArrowBatch");var yt=class{constructor($t,Vn,Tr=!1,ei=new Map){s(this,"name",void 0),s(this,"type",void 0),s(this,"nullable",void 0),s(this,"metadata",void 0),this.name=$t,this.type=Vn,this.nullable=Tr,this.metadata=ei}get typeId(){return this.type&&this.type.typeId}clone(){return new yt(this.name,this.type,this.nullable,this.metadata)}compareTo($t){return this.name===$t.name&&this.type===$t.type&&this.nullable===$t.nullable&&this.metadata===$t.metadata}toString(){return`${JSON.stringify(this.type)}${this.nullable?", nullable":""}${this.metadata?`, metadata: ${JSON.stringify(this.metadata)}`:""}`}},qt=class{constructor($t,Vn=new Map){s(this,"fields",void 0),s(this,"metadata",void 0),this.fields=$t.map(Tr=>new yt(Tr.name,Tr.type,Tr.nullable,Tr.metadata)),this.metadata=Vn instanceof Map?Vn:new Map(Object.entries(Vn))}compareTo($t){if(this.metadata!==$t.metadata||this.fields.length!==$t.fields.length)return!1;for(let Vn=0;Vn<this.fields.length;++Vn)if(!this.fields[Vn].compareTo($t.fields[Vn]))return!1;return!0}select(...$t){const Vn=Object.create(null);for(const ei of $t)Vn[ei]=!0;const Tr=this.fields.filter(ei=>Vn[ei.name]);return new qt(Tr,this.metadata)}selectAt(...$t){const Vn=$t.map(Tr=>this.fields[Tr]).filter(Boolean);return new qt(Vn,this.metadata)}assign($t){let Vn,Tr=this.metadata;if($t instanceof qt){const Ri=$t;Vn=Ri.fields,Tr=Ln(Ln(new Map,this.metadata),Ri.metadata)}else Vn=$t;const ei=Object.create(null);for(const Ri of this.fields)ei[Ri.name]=Ri;for(const Ri of Vn)ei[Ri.name]=Ri;const Si=Object.values(ei);return new qt(Si,Tr)}};function Ln(et,$t){return new Map([...et||new Map,...$t||new Map])}function Tt(et,$t="float32"){return et instanceof Date?"date-millisecond":et instanceof Number?$t:"string"==typeof et?"utf8":"null"}function We(et){let $t=Ve(et);return"null"!==$t?{type:$t,nullable:!1}:et.length>0?($t=Tt(et[0]),{type:$t,nullable:!0}):{type:"null",nullable:!0}}function Ve(et){switch(et.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function Y(et){switch(et.shape){case"array-row-table":case"object-row-table":return function R(et){if(!et.length)throw new Error("deduce from empty table");const $t=[],Vn=et[0];for(const[Tr,ei]of Object.entries(Vn))$t.push(V(ei,Tr));return{fields:$t,metadata:{}}}(et.data);case"columnar-table":return function b(et){const $t=[];for(const[Vn,Tr]of Object.entries(et)){const ei=T(Tr,Vn);$t.push(ei)}return{fields:$t,metadata:{}}}(et.data);default:throw new Error("Deduce schema")}}function T(et,$t){if(ArrayBuffer.isView(et)){const Vn=We(et);return{name:$t,type:Vn.type||"null",nullable:Vn.nullable}}if(Array.isArray(et)&&et.length>0)return{name:$t,type:Tt(et[0]),nullable:!0};throw new Error("empty table")}function V(et,$t){return{name:$t,type:Tt(et),nullable:!0}}var j=class{constructor($t,Vn){s(this,"table",void 0),s(this,"columnName",void 0),this.table=$t,this.columnName=Vn}get($t){return Ce(this.table,$t,this.columnName)}toArray(){var $t;switch(this.table.shape){case"arrow-table":return null==($t=this.table.data.getChild(this.columnName))?void 0:$t.toArray();case"columnar-table":return this.table.data[this.columnName];default:throw new Error(this.table.shape)}}},h=class{constructor($t){s(this,"schema",void 0),s(this,"table",void 0);const Vn=$t.schema||Y($t);this.schema=new qt(Vn.fields,Vn.metadata),this.table={...$t,schema:Vn}}get data(){return"geojson-table"===this.table.shape?this.table.features:this.table.data}get numCols(){return Ze(this.table)}get length(){return ke(this.table)}getChild($t){return new j(this.table,$t)}};function I(et){let $t;switch(function xe(et){if(Array.isArray(et)){if(0===et.length)throw new Error("cannot deduce type of empty table");const $t=et[0];if(Array.isArray($t))return"array-row-table";if($t&&"object"==typeof $t)return"object-row-table"}if(et&&"object"==typeof et)return"columnar-table";throw new Error("invalid table")}(et)){case"array-row-table":$t={shape:"array-row-table",data:et};break;case"object-row-table":$t={shape:"object-row-table",data:et};break;case"columnar-table":$t={shape:"columnar-table",data:et};break;default:throw new Error("table")}const Vn=Y($t);return{...$t,schema:Vn}}var ie=w(47526);function D(et){return{...et,length:(0,ie.getTableLength)(et),batchType:"data"}}function K(et){return se.apply(this,arguments)}function se(){return se=r(function*(et){let $t,Vn,Tr,Si,ei=null;var Ci,Ri=!1,io=!1;try{for(var Yi,yi=v(et);Ri=!(Yi=yield yi.next()).done;Ri=!1){const so=Yi.value;switch(ei=ei||so.shape,Si=Si||so.schema,so.shape){case"array-row-table":$t=$t||[];for(let Co=0;Co<(0,ie.getTableLength)(so);Co++)$t.push(so.data[Co]);break;case"object-row-table":Vn=Vn||[];for(let Co=0;Co<(0,ie.getTableLength)(so);Co++)Vn.push(so.data[Co]);break;case"geojson-table":Tr=Tr||[];for(let Co=0;Co<(0,ie.getTableLength)(so);Co++)Tr.push(so.features[Co]);break;default:throw new Error("shape")}}}catch(so){io=!0,Ci=so}finally{try{Ri&&null!=yi.return&&(yield yi.return())}finally{if(io)throw Ci}}if(!ei)return null;switch(ei){case"array-row-table":return{shape:"array-row-table",data:$t,schema:Si};case"object-row-table":return{shape:"object-row-table",data:Vn,schema:Si};case"geojson-table":return{shape:"geojson-table",type:"FeatureCollection",features:Tr,schema:Si};default:return null}}),se.apply(this,arguments)}function Le(et,$t){const Vn=function wt(et,$t){if(!$t)switch(et){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array}return Array}(et.type,et.nullable);return new Vn($t)}function ct(et,$t){switch($t){case"object-row-table":return function Pt(et){if("object-row-table"===et.shape)return et;const $t=ke(et),Vn=new Array($t);for(let Tr=0;Tr<$t;Tr++)Vn[Tr]=ee(et,Tr);return{shape:"object-row-table",schema:et.schema,data:Vn}}(et);case"array-row-table":return function Oe(et){if("array-row-table"===et.shape)return et;const $t=ke(et),Vn=new Array($t);for(let Tr=0;Tr<$t;Tr++)Vn[Tr]=fe(et,Tr);return{shape:"array-row-table",schema:et.schema,data:Vn}}(et);case"columnar-table":return function en(et){var $t;const Vn=et.schema||Y(et),Tr=(null==($t=et.schema)?void 0:$t.fields)||[];if("columnar-table"===et.shape)return{...et,schema:Vn};const ei=ke(et),Si={};for(const Ri of Tr){const io=Le(Ri,ei);Si[Ri.name]=io;for(let Ci=0;Ci<ei;Ci++)io[Ci]=Ce(et,Ci,Ri.name)}return{shape:"columnar-table",schema:Vn,data:Si}}(et);case"arrow-table":return function ut(et){var $t;const Vn=null==($t=globalThis.__loaders)?void 0:$t._makeArrowTable;if(!Vn)throw new Error("");return Vn(et)}(et);default:throw new Error($t)}}function it(et){let $t=0;for(const Vn in et){const Tr=et[Vn];ArrayBuffer.isView(Tr)&&($t+=Tr.byteLength*Tr.BYTES_PER_ELEMENT)}return $t}function Bt(et){let $t=1/0,Vn=1/0,Tr=1/0,ei=-1/0,Si=-1/0,Ri=-1/0;const io=et.POSITION?et.POSITION.value:[],Ci=io&&io.length;for(let yi=0;yi<Ci;yi+=3){const Yi=io[yi],so=io[yi+1],Co=io[yi+2];$t=Yi<$t?Yi:$t,Vn=so<Vn?so:Vn,Tr=Co<Tr?Co:Tr,ei=Yi>ei?Yi:ei,Si=so>Si?so:Si,Ri=Co>Ri?Co:Ri}return[[$t,Vn,Tr],[ei,Si,Ri]]}function pn(et,$t={}){return{fields:mt(et),metadata:$t}}function st(et,$t,Vn){const Tr=Ve($t.value),ei=Vn||Ut($t);return{name:et,type:{type:"fixed-size-list",listSize:$t.size,children:[{name:"value",type:Tr}]},nullable:!1,metadata:ei}}function mt(et){const $t=[];for(const Vn in et)$t.push(st(Vn,et[Vn]));return $t}function Ut(et){const $t={};return"byteOffset"in et&&($t.byteOffset=et.byteOffset.toString(10)),"byteStride"in et&&($t.byteStride=et.byteStride.toString(10)),"normalized"in et&&($t.normalized=et.normalized.toString()),$t}var Ne=function(et){return et[et.NONE=0]="NONE",et[et.Null=1]="Null",et[et.Int=2]="Int",et[et.Float=3]="Float",et[et.Binary=4]="Binary",et[et.Utf8=5]="Utf8",et[et.Bool=6]="Bool",et[et.Decimal=7]="Decimal",et[et.Date=8]="Date",et[et.Time=9]="Time",et[et.Timestamp=10]="Timestamp",et[et.Interval=11]="Interval",et[et.List=12]="List",et[et.Struct=13]="Struct",et[et.Union=14]="Union",et[et.FixedSizeBinary=15]="FixedSizeBinary",et[et.FixedSizeList=16]="FixedSizeList",et[et.Map=17]="Map",et[et.Dictionary=-1]="Dictionary",et[et.Int8=-2]="Int8",et[et.Int16=-3]="Int16",et[et.Int32=-4]="Int32",et[et.Int64=-5]="Int64",et[et.Uint8=-6]="Uint8",et[et.Uint16=-7]="Uint16",et[et.Uint32=-8]="Uint32",et[et.Uint64=-9]="Uint64",et[et.Float16=-10]="Float16",et[et.Float32=-11]="Float32",et[et.Float64=-12]="Float64",et[et.DateDay=-13]="DateDay",et[et.DateMillisecond=-14]="DateMillisecond",et[et.TimestampSecond=-15]="TimestampSecond",et[et.TimestampMillisecond=-16]="TimestampMillisecond",et[et.TimestampMicrosecond=-17]="TimestampMicrosecond",et[et.TimestampNanosecond=-18]="TimestampNanosecond",et[et.TimeSecond=-19]="TimeSecond",et[et.TimeMillisecond=-20]="TimeMillisecond",et[et.TimeMicrosecond=-21]="TimeMicrosecond",et[et.TimeNanosecond=-22]="TimeNanosecond",et[et.DenseUnion=-23]="DenseUnion",et[et.SparseUnion=-24]="SparseUnion",et[et.IntervalDayTime=-25]="IntervalDayTime",et[et.IntervalYearMonth=-26]="IntervalYearMonth",et}(Ne||{}),zt=class{static isNull(et){return et&&et.typeId===Ne.Null}static isInt(et){return et&&et.typeId===Ne.Int}static isFloat(et){return et&&et.typeId===Ne.Float}static isBinary(et){return et&&et.typeId===Ne.Binary}static isUtf8(et){return et&&et.typeId===Ne.Utf8}static isBool(et){return et&&et.typeId===Ne.Bool}static isDecimal(et){return et&&et.typeId===Ne.Decimal}static isDate(et){return et&&et.typeId===Ne.Date}static isTime(et){return et&&et.typeId===Ne.Time}static isTimestamp(et){return et&&et.typeId===Ne.Timestamp}static isInterval(et){return et&&et.typeId===Ne.Interval}static isList(et){return et&&et.typeId===Ne.List}static isStruct(et){return et&&et.typeId===Ne.Struct}static isUnion(et){return et&&et.typeId===Ne.Union}static isFixedSizeBinary(et){return et&&et.typeId===Ne.FixedSizeBinary}static isFixedSizeList(et){return et&&et.typeId===Ne.FixedSizeList}static isMap(et){return et&&et.typeId===Ne.Map}static isDictionary(et){return et&&et.typeId===Ne.Dictionary}get typeId(){return Ne.NONE}compareTo(et){return this===et}},Zt=class extends zt{get typeId(){return Ne.Null}get[Symbol.toStringTag](){return"Null"}toString(){return"Null"}},Cn=class extends zt{get typeId(){return Ne.Bool}get[Symbol.toStringTag](){return"Bool"}toString(){return"Bool"}},Zn=class extends zt{constructor($t,Vn){super(),s(this,"isSigned",void 0),s(this,"bitWidth",void 0),this.isSigned=$t,this.bitWidth=Vn}get typeId(){return Ne.Int}get[Symbol.toStringTag](){return"Int"}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}},br=class extends Zn{constructor(){super(!0,8)}},Mr=class extends Zn{constructor(){super(!0,16)}},yn=class extends Zn{constructor(){super(!0,32)}},St=class extends Zn{constructor(){super(!0,64)}},kt=class extends Zn{constructor(){super(!1,8)}},Mt=class extends Zn{constructor(){super(!1,16)}},bt=class extends Zn{constructor(){super(!1,32)}},sn=class extends Zn{constructor(){super(!1,64)}},Qe=class extends zt{constructor($t){super(),s(this,"precision",void 0),this.precision=$t}get typeId(){return Ne.Float}get[Symbol.toStringTag](){return"Float"}toString(){return`Float${this.precision}`}},Lt=class extends Qe{constructor(){super(16)}},Mn=class extends Qe{constructor(){super(32)}},vt=class extends Qe{constructor(){super(64)}},ze=class extends zt{constructor(){super()}get typeId(){return Ne.Binary}toString(){return"Binary"}get[Symbol.toStringTag](){return"Binary"}},nn=class extends zt{get typeId(){return Ne.Utf8}get[Symbol.toStringTag](){return"Utf8"}toString(){return"Utf8"}},Ye={DAY:0,MILLISECOND:1},At=class extends zt{constructor($t){super(),s(this,"unit",void 0),this.unit=$t}get typeId(){return Ne.Date}get[Symbol.toStringTag](){return"Date"}toString(){return`Date${32*(this.unit+1)}<${Ye[this.unit]}>`}},Pn=class extends At{constructor(){super(Ye.DAY)}},Yn=class extends At{constructor(){super(Ye.MILLISECOND)}},gr={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9},vr=class extends zt{constructor($t,Vn){super(),s(this,"unit",void 0),s(this,"bitWidth",void 0),this.unit=$t,this.bitWidth=Vn}get typeId(){return Ne.Time}toString(){return`Time${this.bitWidth}<${gr[this.unit]}>`}get[Symbol.toStringTag](){return"Time"}},vi=class extends vr{constructor(){super(gr.SECOND,32)}},to=class extends vr{constructor(){super(gr.MILLISECOND,32)}},ro=class extends zt{constructor($t,Vn=null){super(),s(this,"unit",void 0),s(this,"timezone",void 0),this.unit=$t,this.timezone=Vn}get typeId(){return Ne.Timestamp}get[Symbol.toStringTag](){return"Timestamp"}toString(){return`Timestamp<${gr[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}},wi=class extends ro{constructor(et=null){super(gr.SECOND,et)}},_o=class extends ro{constructor(et=null){super(gr.MILLISECOND,et)}},Uo=class extends ro{constructor(et=null){super(gr.MICROSECOND,et)}},So=class extends ro{constructor(et=null){super(gr.NANOSECOND,et)}},yo={DAY_TIME:0,YEAR_MONTH:1},ts=class extends zt{constructor($t){super(),s(this,"unit",void 0),this.unit=$t}get typeId(){return Ne.Interval}get[Symbol.toStringTag](){return"Interval"}toString(){return`Interval<${yo[this.unit]}>`}},Xo=class extends ts{constructor(){super(yo.DAY_TIME)}},Io=class extends ts{constructor(){super(yo.YEAR_MONTH)}},Fe=class extends zt{constructor($t,Vn){super(),s(this,"listSize",void 0),s(this,"children",void 0),this.listSize=$t,this.children=[Vn]}get typeId(){return Ne.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[Symbol.toStringTag](){return"FixedSizeList"}toString(){return`FixedSizeList[${this.listSize}]<${JSON.stringify(this.valueType)}>`}},_t=class extends zt{constructor($t){super(),s(this,"children",void 0),this.children=$t}get typeId(){return Ne.Struct}toString(){return`Struct<{${this.children.map($t=>`${$t.name}:${JSON.stringify($t.type)}`).join(", ")}}>`}get[Symbol.toStringTag](){return"Struct"}};function bn(et){return{typeId:et.typeId,ArrayType:et.ArrayType,typeName:et.toString(),typeEnumName:zn(et.typeId),precision:et.precision}}var xn=null;function zn(et){if(!xn){xn={};for(const $t in Ne)xn[Ne[$t]]=$t}return xn[et]}var ir=class extends Array{enqueue(et){return this.push(et)}dequeue(){return this.shift()}},Pr=class{constructor(){s(this,"_values",void 0),s(this,"_settlers",void 0),s(this,"_closed",void 0),this._values=new ir,this._settlers=new ir,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue($t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const Vn=this._settlers.dequeue();$t instanceof Error?Vn.reject($t):Vn.resolve({value:$t})}else this._values.enqueue($t)}next(){if(this._values.length>0){const $t=this._values.dequeue();return $t instanceof Error?Promise.reject($t):Promise.resolve({value:$t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise(($t,Vn)=>{this._settlers.enqueue({resolve:$t,reject:Vn})})}}},74389:(ln,qe,w)=>{"use strict";var rr,r=w(31049).default,s=Object.defineProperty,v=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,P={};((rr,sr)=>{for(var Lr in sr)s(rr,Lr,{get:sr[Lr],enumerable:!0})})(P,{BASIS_EXTERNAL_LIBRARIES:()=>m,BasisLoader:()=>V,BasisWorkerLoader:()=>T,CRUNCH_EXTERNAL_LIBRARIES:()=>_o,CompressedTextureLoader:()=>Mn,CompressedTextureWorkerLoader:()=>Lt,CompressedTextureWriter:()=>ts,CrunchLoader:()=>vt,CrunchWorkerLoader:()=>vt,GL_EXTENSIONS_CONSTANTS:()=>k,KTX2BasisWriter:()=>Fe,KTX2BasisWriterWorker:()=>Rs,NPYLoader:()=>to,NPYWorkerLoader:()=>vi,getSupportedGPUTextureFormats:()=>Ze,loadImageTexture:()=>so,loadImageTextureArray:()=>rn,loadImageTextureCube:()=>os,selectSupportedBasisFormat:()=>R}),ln.exports=(rr=P,((rr,sr,Lr,gi)=>{if(sr&&"object"==typeof sr||"function"==typeof sr)for(let Ei of S(sr))!M.call(rr,Ei)&&undefined!==Ei&&s(rr,Ei,{get:()=>sr[Ei],enumerable:!(gi=v(sr,Ei))||gi.enumerable});return rr})(s({},"__esModule",{value:!0}),rr));var E,q,G="4.2.1",N=w(28690),x=w(13827),m={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};function L(rr){return ae.apply(this,arguments)}function ae(){return ae=r(function*(rr){return(0,N.registerJSModules)(rr.modules),(0,N.getJSModuleOrNull)("basis")||(E||=function U(rr){return Z.apply(this,arguments)}(rr),yield E)}),ae.apply(this,arguments)}function Z(){return Z=r(function*(rr){let sr=null,Lr=null;return[sr,Lr]=yield Promise.all([yield(0,x.loadLibrary)(m.TRANSCODER,"textures",rr),yield(0,x.loadLibrary)(m.TRANSCODER_WASM,"textures",rr)]),sr=sr||globalThis.BASIS,yield function ne(rr,sr){const Lr={};return sr&&(Lr.wasmBinary=sr),new Promise(gi=>{rr(Lr).then(Ei=>{const{BasisFile:Fi,initializeBasis:Wi}=Ei;Wi(),gi({BasisFile:Fi})})})}(sr,Lr)}),Z.apply(this,arguments)}function le(rr){return z.apply(this,arguments)}function z(){return z=r(function*(rr){const sr=rr.modules||{};return sr.basisEncoder?sr.basisEncoder:(q=q||function J(rr){return he.apply(this,arguments)}(rr),yield q)}),z.apply(this,arguments)}function he(){return he=r(function*(rr){let sr=null,Lr=null;return[sr,Lr]=yield Promise.all([yield(0,x.loadLibrary)(m.ENCODER,"textures",rr),yield(0,x.loadLibrary)(m.ENCODER_WASM,"textures",rr)]),sr=sr||globalThis.BASIS,yield function we(rr,sr){const Lr={};return sr&&(Lr.wasmBinary=sr),new Promise(gi=>{rr(Lr).then(Ei=>{const{BasisFile:Fi,KTX2File:Wi,initializeBasis:ho,BasisEncoder:Bi}=Ei;ho(),gi({BasisFile:Fi,KTX2File:Wi,BasisEncoder:Bi})})})}(sr,Lr)}),he.apply(this,arguments)}var k={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},ue=["","WEBKIT_","MOZ_"],Ie={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},ke=null;function Ze(rr){if(!ke){rr=rr||function Ce(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,ke=new Set;for(const sr of ue)for(const Lr in Ie)rr&&rr.getExtension(`${sr}${Lr}`)&&ke.add(Ie[Lr])}return ke}var Nt=w(5114);function Kt(rr,sr){const Lr=new Array(sr.mipMapLevels);let gi=sr.width,Ei=sr.height,Fi=0;for(let Wi=0;Wi<sr.mipMapLevels;++Wi){const ho=ee(sr,gi,Ei,rr,Wi),Bi=me(rr,Wi,Fi,ho);Lr[Wi]={compressed:!0,format:sr.internalFormat,data:Bi,width:gi,height:Ei,levelSize:ho},gi=Math.max(1,gi>>1),Ei=Math.max(1,Ei>>1),Fi+=ho}return Lr}function me(rr,sr,Lr,gi){return Array.isArray(rr)?rr[sr].levelData:new Uint8Array(rr.buffer,rr.byteOffset+Lr,gi)}function ee(rr,sr,Lr,gi,Ei){return Array.isArray(gi)?rr.sizeFunction(gi[Ei]):rr.sizeFunction(sr,Lr)}var fe={131:k.COMPRESSED_RGB_S3TC_DXT1_EXT,132:k.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:k.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:k.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:k.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:k.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:k.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:k.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:k.COMPRESSED_RED_RGTC1_EXT,140:k.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:k.COMPRESSED_RED_GREEN_RGTC2_EXT,142:k.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:k.COMPRESSED_RGB8_ETC2,148:k.COMPRESSED_SRGB8_ETC2,149:k.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:k.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:k.COMPRESSED_RGBA8_ETC2_EAC,152:k.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:k.COMPRESSED_R11_EAC,154:k.COMPRESSED_SIGNED_R11_EAC,155:k.COMPRESSED_RG11_EAC,156:k.COMPRESSED_SIGNED_RG11_EAC,157:k.COMPRESSED_RGBA_ASTC_4x4_KHR,158:k.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:k.COMPRESSED_RGBA_ASTC_5x4_KHR,160:k.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:k.COMPRESSED_RGBA_ASTC_5x5_KHR,162:k.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:k.COMPRESSED_RGBA_ASTC_6x5_KHR,164:k.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:k.COMPRESSED_RGBA_ASTC_6x6_KHR,166:k.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:k.COMPRESSED_RGBA_ASTC_8x5_KHR,168:k.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:k.COMPRESSED_RGBA_ASTC_8x6_KHR,170:k.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:k.COMPRESSED_RGBA_ASTC_8x8_KHR,172:k.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:k.COMPRESSED_RGBA_ASTC_10x5_KHR,174:k.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:k.COMPRESSED_RGBA_ASTC_10x6_KHR,176:k.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:k.COMPRESSED_RGBA_ASTC_10x8_KHR,178:k.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:k.COMPRESSED_RGBA_ASTC_10x10_KHR,180:k.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:k.COMPRESSED_RGBA_ASTC_12x10_KHR,182:k.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:k.COMPRESSED_RGBA_ASTC_12x12_KHR,184:k.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:k.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:k.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:k.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:k.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:k.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:k.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:k.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:k.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:k.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:k.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:k.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:k.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:k.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:k.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:k.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:k.COMPRESSED_RGBA_ASTC_12x12_KHR},Se=[171,75,84,88,32,50,48,187,13,10,26,10];function Be(rr){const sr=new Uint8Array(rr);return!(sr.byteLength<Se.length||sr[0]!==Se[0]||sr[1]!==Se[1]||sr[2]!==Se[2]||sr[3]!==Se[3]||sr[4]!==Se[4]||sr[5]!==Se[5]||sr[6]!==Se[6]||sr[7]!==Se[7]||sr[8]!==Se[8]||sr[9]!==Se[9]||sr[10]!==Se[10]||sr[11]!==Se[11])}var qt={etc1:{basisFormat:0,compressed:!0,format:k.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:k.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:k.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:k.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:k.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:k.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function Ln(rr,sr){return Tt.apply(this,arguments)}function Tt(){return Tt=r(function*(rr,sr){if("auto"===sr.basis.containerFormat){if(Be(rr))return wt((yield le(sr)).KTX2File,rr,sr);const{BasisFile:Lr}=yield L(sr);return We(Lr,rr,sr)}if("encoder"===sr.basis.module){const Lr=yield le(sr);return"ktx2"===sr.basis.containerFormat?wt(Lr.KTX2File,rr,sr):We(Lr.BasisFile,rr,sr)}{const{BasisFile:gi}=yield L(sr);return We(gi,rr,sr)}}),Tt.apply(this,arguments)}function We(rr,sr,Lr){const gi=new rr(new Uint8Array(sr));try{if(!gi.startTranscoding())throw new Error("Failed to start basis transcoding");const Ei=gi.getNumImages(),Fi=[];for(let Wi=0;Wi<Ei;Wi++){const ho=gi.getNumLevels(Wi),Bi=[];for(let ko=0;ko<ho;ko++)Bi.push(Ve(gi,Wi,ko,Lr));Fi.push(Bi)}return Fi}finally{gi.close(),gi.delete()}}function Ve(rr,sr,Lr,gi){const Ei=rr.getImageWidth(sr,Lr),Fi=rr.getImageHeight(sr,Lr),Wi=rr.getHasAlpha(),{compressed:ho,format:Bi,basisFormat:ko}=b(gi,Wi),ls=rr.getImageTranscodedSizeInBytes(sr,Lr,ko),Ls=new Uint8Array(ls);if(!rr.transcodeImage(Ls,sr,Lr,ko,0,0))throw new Error("failed to start Basis transcoding");return{width:Ei,height:Fi,data:Ls,compressed:ho,format:Bi,hasAlpha:Wi}}function wt(rr,sr,Lr){const gi=new rr(new Uint8Array(sr));try{if(!gi.startTranscoding())throw new Error("failed to start KTX2 transcoding");const Ei=gi.getLevels(),Fi=[];for(let Wi=0;Wi<Ei;Wi++){Fi.push(Y(gi,Wi,Lr));break}return[Fi]}finally{gi.close(),gi.delete()}}function Y(rr,sr,Lr){const{alphaFlag:gi,height:Ei,width:Fi}=rr.getImageLevelInfo(sr,0,0),{compressed:Wi,format:ho,basisFormat:Bi}=b(Lr,gi),ko=rr.getImageTranscodedSizeInBytes(sr,0,0,Bi),ls=new Uint8Array(ko);if(!rr.transcodeImage(ls,sr,0,0,Bi,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:Fi,height:Ei,data:ls,compressed:Wi,levelSize:ko,hasAlpha:gi,format:ho}}function b(rr,sr){let Lr=rr&&rr.basis&&rr.basis.format;return"auto"===Lr&&(Lr=R()),"object"==typeof Lr&&(Lr=sr?Lr.alpha:Lr.noAlpha),Lr=Lr.toLowerCase(),qt[Lr]}function R(){const rr=Ze();return rr.has("astc")?"astc-4x4":rr.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:rr.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:rr.has("etc1")?"etc1":rr.has("etc2")?"etc2":"rgb565"}var T={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:G,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},V={...T,parse:Ln},j=w(28690),h={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4},I={DXT1:k.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:k.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:k.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":k.COMPRESSED_RGB_ATC_WEBGL,ATCA:k.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:k.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},K={DXT1:ct,DXT3:ut,DXT5:ut,"ATC ":ct,ATCA:ut,ATCI:ut};function ct(rr,sr){return(rr+3>>2)*(sr+3>>2)*8}function ut(rr,sr){return(rr+3>>2)*(sr+3>>2)*16}var Oe_MAGIC_NUMBER=55727696,Oe_MAGIC_NUMBER_EXTRA=1347834371,Oe_HEADER_LENGTH=13,Oe_HEADER_SIZE=52,Oe_MAGIC_NUMBER_INDEX=0,Oe_PIXEL_FORMAT_INDEX=2,Oe_COLOUR_SPACE_INDEX=4,Oe_HEIGHT_INDEX=6,Oe_WIDTH_INDEX=7,Oe_MIPMAPCOUNT_INDEX=11,Oe_METADATA_SIZE_INDEX=12,Pt={0:[k.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[k.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[k.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[k.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[k.COMPRESSED_RGB_ETC1_WEBGL],7:[k.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[k.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[k.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[k.COMPRESSED_RGB8_ETC2],23:[k.COMPRESSED_RGBA8_ETC2_EAC],24:[k.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[k.COMPRESSED_R11_EAC],26:[k.COMPRESSED_RG11_EAC],27:[k.COMPRESSED_RGBA_ASTC_4X4_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[k.COMPRESSED_RGBA_ASTC_5X4_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[k.COMPRESSED_RGBA_ASTC_5X5_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[k.COMPRESSED_RGBA_ASTC_6X5_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[k.COMPRESSED_RGBA_ASTC_6X6_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[k.COMPRESSED_RGBA_ASTC_8X5_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[k.COMPRESSED_RGBA_ASTC_8X6_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[k.COMPRESSED_RGBA_ASTC_8X8_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[k.COMPRESSED_RGBA_ASTC_10X5_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[k.COMPRESSED_RGBA_ASTC_10X6_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[k.COMPRESSED_RGBA_ASTC_10X8_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[k.COMPRESSED_RGBA_ASTC_10X10_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[k.COMPRESSED_RGBA_ASTC_12X10_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[k.COMPRESSED_RGBA_ASTC_12X12_KHR,k.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},it={0:st,1:st,2:mt,3:mt,6:Ut,7:Ut,9:Ne,11:Ne,22:Ut,23:Ne,24:Ut,25:Ut,26:Ne,27:Ne,28:function zt(rr,sr){return Math.floor((rr+4)/5)*Math.floor((sr+3)/4)*16},29:function Zt(rr,sr){return Math.floor((rr+4)/5)*Math.floor((sr+4)/5)*16},30:function Cn(rr,sr){return Math.floor((rr+5)/6)*Math.floor((sr+4)/5)*16},31:function Zn(rr,sr){return Math.floor((rr+5)/6)*Math.floor((sr+5)/6)*16},32:function br(rr,sr){return Math.floor((rr+7)/8)*Math.floor((sr+4)/5)*16},33:function Mr(rr,sr){return Math.floor((rr+7)/8)*Math.floor((sr+5)/6)*16},34:function yn(rr,sr){return Math.floor((rr+7)/8)*Math.floor((sr+7)/8)*16},35:function St(rr,sr){return Math.floor((rr+9)/10)*Math.floor((sr+4)/5)*16},36:function kt(rr,sr){return Math.floor((rr+9)/10)*Math.floor((sr+5)/6)*16},37:function Mt(rr,sr){return Math.floor((rr+9)/10)*Math.floor((sr+7)/8)*16},38:function bt(rr,sr){return Math.floor((rr+9)/10)*Math.floor((sr+9)/10)*16},39:function sn(rr,sr){return Math.floor((rr+11)/12)*Math.floor((sr+9)/10)*16},40:function Yt(rr,sr){return Math.floor((rr+11)/12)*Math.floor((sr+11)/12)*16}};function st(rr,sr){return(rr=Math.max(rr,16))*(sr=Math.max(sr,8))/4}function mt(rr,sr){return(rr=Math.max(rr,8))*(sr=Math.max(sr,8))/2}function Ut(rr,sr){return Math.floor((rr+3)/4)*Math.floor((sr+3)/4)*8}function Ne(rr,sr){return Math.floor((rr+3)/4)*Math.floor((sr+3)/4)*16}function Qe(rr){if(Be(rr))return function yt(rr){const sr=new Uint8Array(rr),Lr=(0,Nt.read)(sr),gi=Math.max(1,Lr.levels.length),Ei=Lr.pixelWidth,Fi=Lr.pixelHeight,Wi=function ye(rr){return fe[rr]}(Lr.vkFormat);return Kt(Lr.levels,{mipMapLevels:gi,width:Ei,height:Fi,sizeFunction:ho=>ho.uncompressedByteLength,internalFormat:Wi})}(rr);if(function se(rr){return new Uint32Array(rr,0,h.HEADER_LENGTH)[h.MAGIC_NUMBER_INDEX]===h.MAGIC_NUMBER}(rr))return function Le(rr){const sr=new Int32Array(rr,0,h.HEADER_LENGTH),Lr=sr[h.HEADER_PF_FOURCC_INDEX];(0,j.assert)(!!(sr[h.HEADER_PF_FLAGS_INDEX]&h.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");const gi=function en(rr){return String.fromCharCode(255&rr,rr>>8&255,rr>>16&255,rr>>24&255)}(Lr),Ei=I[gi],Fi=K[gi];(0,j.assert)(Ei&&Fi,`DDS: Unknown pixel format ${Lr}`);let Wi=1;sr[h.HEADER_FLAGS_INDEX]&h.DDSD_MIPMAPCOUNT&&(Wi=Math.max(1,sr[h.MIPMAPCOUNT_INDEX]));const ho=sr[h.HEADER_WIDTH_INDEX],Bi=sr[h.HEADER_HEIGHT_INDEX];return Kt(new Uint8Array(rr,sr[h.HEADER_SIZE_INDEX]+4),{mipMapLevels:Wi,width:ho,height:Bi,sizeFunction:Fi,internalFormat:Ei})}(rr);if(function Bt(rr){const Lr=new Uint32Array(rr,0,Oe_HEADER_LENGTH)[Oe_MAGIC_NUMBER_INDEX];return Lr===Oe_MAGIC_NUMBER||Lr===Oe_MAGIC_NUMBER_EXTRA}(rr))return function pn(rr){const sr=new Uint32Array(rr,0,Oe_HEADER_LENGTH),Lr=sr[Oe_PIXEL_FORMAT_INDEX],Ei=Pt[Lr]||[],Fi=Ei.length>1&&sr[Oe_COLOUR_SPACE_INDEX]?Ei[1]:Ei[0],Wi=it[Lr],ho=sr[Oe_MIPMAPCOUNT_INDEX],Bi=sr[Oe_WIDTH_INDEX],ko=sr[Oe_HEIGHT_INDEX];return Kt(new Uint8Array(rr,Oe_HEADER_SIZE+sr[Oe_METADATA_SIZE_INDEX]),{mipMapLevels:ho,width:Bi,height:ko,sizeFunction:Wi,internalFormat:Fi})}(rr);throw new Error("Texture container format not recognized")}var Lt={dataType:null,batchType:null,name:"Texture Containers",id:"compressed-texture",module:"textures",version:G,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/",useBasis:!1}}},Mn={...Lt,parse:function(){var rr=r(function*(sr,Lr){var gi;return null!=(gi=Lr?.["compressed-texture"])&&gi.useBasis?(Lr.basis={format:{alpha:"BC3",noAlpha:"BC1"},...Lr.basis,containerFormat:"ktx2",module:"encoder"},(yield Ln(sr,Lr))[0]):Qe(sr)});return function(Lr,gi){return rr.apply(this,arguments)}}()},vt={dataType:null,batchType:null,id:"crunch",name:"Crunch",module:"textures",version:G,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}},ze=new Uint32Array([305419896]),At=18!==new Uint8Array(ze.buffer,ze.byteOffset,ze.byteLength)[0],Pn={u1:Uint8Array,i1:Int8Array,u2:Uint16Array,i2:Int16Array,u4:Uint32Array,i4:Int32Array,f4:Float32Array,f8:Float64Array};function Yn(rr,sr){var Lr;const gi=new DataView(rr),{header:Ei,headerEndOffset:Fi}=function gr(rr){const sr=rr.getUint8(6);let gi,Lr=8;sr>=2?(gi=rr.getUint32(Lr,!0),Lr+=4):(gi=rr.getUint16(Lr,!0),Lr+=2);const Fi=new TextDecoder(sr<=2?"latin1":"utf-8"),Wi=new Uint8Array(rr.buffer,Lr,gi),ho=Fi.decode(Wi);return Lr+=gi,{header:JSON.parse(ho.replace(/'/g,'"').replace("False","false").replace("(","[").replace(/,*\),*/g,"]")),headerEndOffset:Lr}}(gi),Wi=Ei.descr,ho=Pn[Wi.slice(1,3)];if(!ho)throw new Error(`Unimplemented type ${Wi}`);const ko=(null==(Lr=Ei.shape)?void 0:Lr.reduce((Ls,ys)=>Ls*ys))*ho.BYTES_PER_ELEMENT;if(rr.byteLength<Fi+ko)throw new Error("Buffer overflow");const ls=new ho(rr.slice(Fi,Fi+ko));if(">"===Wi[0]&&At||"<"===Wi[0]&&!At)throw new Error("Incorrect endianness");return{data:ls,header:Ei}}var vi={dataType:null,batchType:null,name:"NPY",id:"npy",module:"textures",version:G,worker:!0,extensions:["npy"],mimeTypes:[],tests:[new Uint8Array([147,78,85,77,80,89]).buffer],options:{npy:{}}},to={...vi,parseSync:Yn,parse:function(){var rr=r(function*(sr,Lr){return Yn(sr)});return function(Lr,gi){return rr.apply(this,arguments)}}()},_o=(w(28690),w(13827),{DECODER:"crunch.js"}),Uo=w(13827);function yo(){return yo=r(function*(rr,sr,Lr){const gi=["texture-compressor","--type","s3tc","--compression","DXT1","--quality","normal","--input",rr,"--output",sr];return yield(new Uo.ChildProcessProxy).start({command:"npx",arguments:gi,spawn:Lr}),sr}),yo.apply(this,arguments)}var ts={name:"DDS Texture Container",id:"dds",module:"textures",version:G,extensions:["dds"],options:{texture:{format:"auto",compression:"auto",quality:"auto",mipmap:!1,flipY:!1,toolFlags:""}},encodeURLtoURL:function So(rr,sr,Lr){return yo.apply(this,arguments)},encode(){throw new Error("Not implemented")}};function Io(){return Io=r(function*(rr,sr={}){const{useSRGB:Lr=!1,qualityLevel:gi=10,encodeUASTC:Ei=!1,mipmaps:Fi=!1}=sr?.["ktx2-basis-writer"]||{},{BasisEncoder:Wi}=yield le(sr),ho=new Wi;try{const Bi=new Uint8Array(rr.width*rr.height*4);ho.setCreateKTX2File(!0),ho.setKTX2UASTCSupercompression(!0),ho.setKTX2SRGBTransferFunc(!0),ho.setSliceSourceImage(0,rr.data,rr.width,rr.height,!1),ho.setPerceptual(Lr),ho.setMipSRGB(Lr),ho.setQualityLevel(gi),ho.setUASTC(Ei),ho.setMipGen(Fi);const ko=ho.encode(Bi);return Bi.subarray(0,ko).buffer}catch(Bi){throw console.error("Basis Universal Supercompressed GPU Texture encoder Error: ",Bi),Bi}finally{ho.delete()}}),Io.apply(this,arguments)}var Fe={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:G,extensions:["ktx2"],options:{"ktx2-basis-writer":{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}},encode:function Xo(rr){return Io.apply(this,arguments)}},_t=w(28690),bn=w(14315),xn=w(28690);function zn(rr,sr,Lr){let gi="function"==typeof rr?rr({...sr,...Lr}):rr;const Ei=sr.baseUrl;return Ei&&(gi="/"===Ei[Ei.length-1]?`${Ei}${gi}`:`${Ei}/${gi}`),(0,xn.resolvePath)(gi)}var ir=rr=>rr&&"object"==typeof rr;function et(){return et=r(function*(rr,sr,Lr={}){return yield $t(rr,sr,Lr)}),et.apply(this,arguments)}function $t(rr,sr,Lr){return Vn.apply(this,arguments)}function Vn(){return Vn=r(function*(rr,sr,Lr){return Array.isArray(rr)?yield function Si(rr,sr){return Ri.apply(this,arguments)}(rr,sr,Lr):ir(rr)?yield function Tr(rr,sr,Lr){return ei.apply(this,arguments)}(rr,sr,Lr):yield sr(rr,Lr)}),Vn.apply(this,arguments)}function ei(){return ei=r(function*(rr,sr,Lr){const gi=[],Ei={};for(const Fi in rr){const ho=$t(rr[Fi],sr,Lr).then(Bi=>{Ei[Fi]=Bi});gi.push(ho)}return yield Promise.all(gi),Ei}),ei.apply(this,arguments)}function Ri(){return Ri=r(function*(rr,sr,Lr={}){const gi=rr.map(Ei=>$t(Ei,sr,Lr));return yield Promise.all(gi)}),Ri.apply(this,arguments)}function io(rr,sr,Lr){return Ci.apply(this,arguments)}function Ci(){return Ci=r(function*(rr,sr,Lr){return yield function Pr(rr,sr){return et.apply(this,arguments)}(rr,gi=>yi(gi,sr,Lr))}),Ci.apply(this,arguments)}function yi(rr,sr,Lr){return Yi.apply(this,arguments)}function Yi(){return Yi=r(function*(rr,sr,Lr){const Ei=yield(yield fetch(rr,Lr.fetch)).arrayBuffer();return yield sr(Ei,Lr)}),Yi.apply(this,arguments)}function so(rr){return Co.apply(this,arguments)}function Co(){return Co=r(function*(rr,sr={}){const Lr=yield qi(rr,sr);return yield io(Lr,bn.ImageLoader.parse,sr)}),Co.apply(this,arguments)}function qi(rr,sr){return jo.apply(this,arguments)}function jo(){return jo=r(function*(rr,sr,Lr={}){const gi=sr&&sr.image&&sr.image.mipLevels||0;return 0!==gi?yield function $n(rr,sr,Lr,gi){return un.apply(this,arguments)}(rr,gi,sr,Lr):zn(rr,sr,Lr)}),jo.apply(this,arguments)}function un(){return un=r(function*(rr,sr,Lr,gi){const Ei=[];if("auto"===sr){const Fi=zn(rr,Lr,{...gi,lod:0}),Wi=yield yi(Fi,bn.ImageLoader.parse,Lr),{width:ho,height:Bi}=(0,bn.getImageSize)(Wi);sr=function Ge(rr){return 1+Math.floor(Math.log2(Math.max(rr.width,rr.height)))}({width:ho,height:Bi}),Ei.push(Fi)}(0,_t.assert)(sr>0);for(let Fi=Ei.length;Fi<sr;++Fi){const Wi=zn(rr,Lr,{...gi,lod:Fi});Ei.push(Wi)}return Ei}),un.apply(this,arguments)}var xt=w(14315);function rn(rr,sr){return Hn.apply(this,arguments)}function Hn(){return Hn=r(function*(rr,sr,Lr={}){const gi=yield function Dr(rr,sr){return Qr.apply(this,arguments)}(rr,sr,Lr);return yield io(gi,xt.ImageLoader.parse,Lr)}),Hn.apply(this,arguments)}function Qr(){return Qr=r(function*(rr,sr,Lr={}){const gi=[];for(let Ei=0;Ei<rr;Ei++){const Fi=qi(sr,Lr,{index:Ei});gi.push(Fi)}return yield Promise.all(gi)}),Qr.apply(this,arguments)}var Qi=w(14315),ms=[{face:34069,direction:"right",axis:"x",sign:"positive"},{face:34070,direction:"left",axis:"x",sign:"negative"},{face:34071,direction:"top",axis:"y",sign:"positive"},{face:34072,direction:"bottom",axis:"y",sign:"negative"},{face:34073,direction:"front",axis:"z",sign:"positive"},{face:34074,direction:"back",axis:"z",sign:"negative"}];function Qo(){return Qo=r(function*(rr,sr){const Lr={},gi=[];let Ei=0;for(let Fi=0;Fi<ms.length;++Fi){const Wi=ms[Ei],ho=qi(rr,sr,{...Wi,index:Ei++}).then(Bi=>{Lr[Wi.face]=Bi});gi.push(ho)}return yield Promise.all(gi),Lr}),Qo.apply(this,arguments)}function os(rr){return ns.apply(this,arguments)}function ns(){return ns=r(function*(rr,sr={}){const Lr=yield function Go(rr,sr){return Qo.apply(this,arguments)}(rr,sr);return yield io(Lr,Qi.ImageLoader.parse,sr)}),ns.apply(this,arguments)}var Rs={name:"Basis Universal Supercompressed GPU Texture",id:"ktx2-basis-writer",module:"textures",version:G,extensions:["ktx2"],worker:!0,options:{useSRGB:!1,qualityLevel:10,encodeUASTC:!1,mipmaps:!1}}},13827:(ln,qe,w)=>{"use strict";var Yt,r=w(31049).default,s=w(15985).default,v=w(57909).default,S=Object.create,M=Object.defineProperty,C=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,F=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,x=(Yt,Qe,Lt,Mn)=>{if(Qe&&"object"==typeof Qe||"function"==typeof Qe)for(let vt of d(Qe))!P.call(Yt,vt)&&vt!==Lt&&M(Yt,vt,{get:()=>Qe[vt],enumerable:!(Mn=C(Qe,vt))||Mn.enumerable});return Yt},m=(Yt,Qe,Lt)=>(Lt=null!=Yt?S(F(Yt)):{},x(!Qe&&Yt&&Yt.__esModule?Lt:M(Lt,"default",{value:Yt,enumerable:!0}),Yt)),ae={};((Yt,Qe)=>{for(var Lt in Qe)M(Yt,Lt,{get:Qe[Lt],enumerable:!0})})(ae,{AsyncQueue:()=>Le,ChildProcessProxy:()=>bt,NullWorker:()=>sn,WorkerBody:()=>V,WorkerFarm:()=>Y,WorkerJob:()=>Ce,WorkerPool:()=>We,WorkerThread:()=>Tt,assert:()=>q,canProcessOnWorker:()=>xe,createWorker:()=>Oe,getLibraryUrl:()=>Ut,getTransferList:()=>Be,getTransferListForWriter:()=>qt,getWorkerURL:()=>I,isBrowser:()=>k,isWorker:()=>ue,loadLibrary:()=>st,processOnWorker:()=>ie,validateWorkerVersion:()=>Bt}),ln.exports=(Yt=ae,x(M({},"__esModule",{value:!0}),Yt));var U="latest",ne=function Z(){var Yt;return null!=(Yt=globalThis._loadersgl_)&&Yt.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.1"),globalThis._loadersgl_.version}();function q(Yt,Qe){if(!Yt)throw new Error(Qe||"loaders.gl assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;var k="object"!=typeof process||"[object process]"!==String(process)||process.browser,ue="function"==typeof importScripts,Ie=typeof window<"u"&&typeof window.orientation<"u",ke=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),Ce=(ke&&parseFloat(ke[1]),class{constructor(Qe,Lt){s(this,"name",void 0),s(this,"workerThread",void 0),s(this,"isRunning",!0),s(this,"result",void 0),s(this,"_resolve",()=>{}),s(this,"_reject",()=>{}),this.name=Qe,this.workerThread=Lt,this.result=new Promise((Mn,vt)=>{this._resolve=Mn,this._reject=vt})}postMessage(Qe,Lt){this.workerThread.postMessage({source:"loaders.gl",type:Qe,payload:Lt})}done(Qe){q(this.isRunning),this.isRunning=!1,this._resolve(Qe)}error(Qe){q(this.isRunning),this.isRunning=!1,this._reject(Qe)}}),Nt=class{terminate(){}},Kt=null,me=new Map;function ye(Yt){const Qe=new Blob([Yt],{type:"application/javascript"});return URL.createObjectURL(Qe)}function Be(Yt,Qe=!0,Lt){const Mn=Lt||new Set;if(Yt)if(yt(Yt))Mn.add(Yt);else if(yt(Yt.buffer))Mn.add(Yt.buffer);else if(!ArrayBuffer.isView(Yt)&&Qe&&"object"==typeof Yt)for(const vt in Yt)Be(Yt[vt],Qe,Mn);return void 0===Lt?Array.from(Mn):[]}function yt(Yt){return!!Yt&&(Yt instanceof ArrayBuffer||typeof MessagePort<"u"&&Yt instanceof MessagePort||typeof ImageBitmap<"u"&&Yt instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&Yt instanceof OffscreenCanvas)}function qt(Yt){if(null===Yt)return{};const Qe=Object.assign({},Yt);return Object.keys(Qe).forEach(Lt=>{Qe[Lt]="object"!=typeof Yt[Lt]||ArrayBuffer.isView(Yt[Lt])||Yt[Lt]instanceof Array?"function"==typeof Qe[Lt]||Qe[Lt]instanceof RegExp?{}:Yt[Lt]:qt(Yt[Lt])}),Qe}var Ln=()=>{},Tt=class{static isSupported(){return typeof Worker<"u"&&k||typeof Nt<"u"&&!k}constructor(Qe){s(this,"name",void 0),s(this,"source",void 0),s(this,"url",void 0),s(this,"terminated",!1),s(this,"worker",void 0),s(this,"onMessage",void 0),s(this,"onError",void 0),s(this,"_loadableURL","");const{name:Lt,source:Mn,url:vt}=Qe;q(Mn||vt),this.name=Lt,this.source=Mn,this.url=vt,this.onMessage=Ln,this.onError=ze=>console.log(ze),this.worker=k?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Ln,this.onError=Ln,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(Qe,Lt){Lt=Lt||Be(Qe),this.worker.postMessage(Qe,Lt)}_getErrorFromErrorEvent(Qe){let Lt="Failed to load ";return Lt+=`worker ${this.name} from ${this.url}. `,Qe.message&&(Lt+=`${Qe.message} in `),Qe.lineno&&(Lt+=`:${Qe.lineno}:${Qe.colno}`),new Error(Lt)}_createBrowserWorker(){this._loadableURL=function ee(Yt){q(Yt.source&&!Yt.url||!Yt.source&&Yt.url);let Qe=me.get(Yt.source||Yt.url);return Qe||(Yt.url&&(Qe=function fe(Yt){if(!Yt.startsWith("http"))return Yt;const Qe=function Se(Yt){return`try {\n  importScripts('${Yt}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`}(Yt);return ye(Qe)}(Yt.url),me.set(Yt.url,Qe)),Yt.source&&(Qe=ye(Yt.source),me.set(Yt.source,Qe))),q(Qe),Qe}({source:this.source,url:this.url});const Qe=new Worker(this._loadableURL,{name:this.name});return Qe.onmessage=Lt=>{Lt.data?this.onMessage(Lt.data):this.onError(new Error("No data received"))},Qe.onerror=Lt=>{this.onError(this._getErrorFromErrorEvent(Lt)),this.terminated=!0},Qe.onmessageerror=Lt=>console.error(Lt),Qe}_createNodeWorker(){let Qe;if(this.url){const Mn=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;Qe=new Nt(Mn,{eval:!1})}else{if(!this.source)throw new Error("no worker");Qe=new Nt(this.source,{eval:!0})}return Qe.on("message",Lt=>{this.onMessage(Lt)}),Qe.on("error",Lt=>{this.onError(Lt)}),Qe.on("exit",Lt=>{}),Qe}},We=class{static isSupported(){return Tt.isSupported()}constructor(Qe){s(this,"name","unnamed"),s(this,"source",void 0),s(this,"url",void 0),s(this,"maxConcurrency",1),s(this,"maxMobileConcurrency",1),s(this,"onDebug",()=>{}),s(this,"reuseWorkers",!0),s(this,"props",{}),s(this,"jobQueue",[]),s(this,"idleQueue",[]),s(this,"count",0),s(this,"isDestroyed",!1),this.source=Qe.source,this.url=Qe.url,this.setProps(Qe)}destroy(){this.idleQueue.forEach(Qe=>Qe.destroy()),this.isDestroyed=!0}setProps(Qe){this.props={...this.props,...Qe},void 0!==Qe.name&&(this.name=Qe.name),void 0!==Qe.maxConcurrency&&(this.maxConcurrency=Qe.maxConcurrency),void 0!==Qe.maxMobileConcurrency&&(this.maxMobileConcurrency=Qe.maxMobileConcurrency),void 0!==Qe.reuseWorkers&&(this.reuseWorkers=Qe.reuseWorkers),void 0!==Qe.onDebug&&(this.onDebug=Qe.onDebug)}startJob(Qe,Lt=((vt,ze,nn)=>vt.done(nn)),Mn=((vt,ze)=>vt.error(ze))){var vt=this;return r(function*(){const ze=new Promise(nn=>(vt.jobQueue.push({name:Qe,onMessage:Lt,onError:Mn,onStart:nn}),vt));return vt._startQueuedJob(),yield ze})()}_startQueuedJob(){var Qe=this;return r(function*(){if(!Qe.jobQueue.length)return;const Lt=Qe._getAvailableWorker();if(!Lt)return;const Mn=Qe.jobQueue.shift();if(Mn){Qe.onDebug({message:"Starting job",name:Mn.name,workerThread:Lt,backlog:Qe.jobQueue.length});const vt=new Ce(Mn.name,Lt);Lt.onMessage=ze=>Mn.onMessage(vt,ze.type,ze.payload),Lt.onError=ze=>Mn.onError(vt,ze),Mn.onStart(vt);try{yield vt.result}catch(ze){console.error(`Worker exception: ${ze}`)}finally{Qe.returnWorkerToQueue(Lt)}}})()}returnWorkerToQueue(Qe){!k||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(Qe.destroy(),this.count--):this.idleQueue.push(Qe),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const Qe=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new Tt({name:Qe,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Ie?this.maxMobileConcurrency:this.maxConcurrency}},Ve={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},wt=class{static isSupported(){return Tt.isSupported()}static getWorkerFarm(Qe={}){return wt._workerFarm=wt._workerFarm||new wt({}),wt._workerFarm.setProps(Qe),wt._workerFarm}constructor(Qe){s(this,"props",void 0),s(this,"workerPools",new Map),this.props={...Ve},this.setProps(Qe),this.workerPools=new Map}destroy(){for(const Qe of this.workerPools.values())Qe.destroy();this.workerPools=new Map}setProps(Qe){this.props={...this.props,...Qe};for(const Lt of this.workerPools.values())Lt.setProps(this._getWorkerPoolProps())}getWorkerPool(Qe){const{name:Lt,source:Mn,url:vt}=Qe;let ze=this.workerPools.get(Lt);return ze||(ze=new We({name:Lt,source:Mn,url:vt}),ze.setProps(this._getWorkerPoolProps()),this.workerPools.set(Lt,ze)),ze}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}},Y=wt;function b(){return R.apply(this,arguments)}function R(){return(R=r(function*(){return Kt})).apply(this,arguments)}((Yt,Qe,Lt)=>{((Yt,Qe,Lt)=>{Qe in Yt?M(Yt,Qe,{enumerable:!0,configurable:!0,writable:!0,value:undefined}):Yt[Qe]=undefined})(Yt,Qe+"")})(Y,"_workerFarm");var T=new Map,V=class{static inWorkerThread(){return r(function*(){return typeof self<"u"||!!(yield b())})()}static set onmessage(Yt){function Qe(Mn){return Lt.apply(this,arguments)}function Lt(){return(Lt=r(function*(Mn){const vt=yield b(),{type:ze,payload:nn}=vt?Mn:Mn.data;Yt(ze,nn)})).apply(this,arguments)}b().then(Mn=>{Mn?(Mn.on("message",vt=>{Qe(vt)}),Mn.on("exit",()=>console.debug("Node worker closing"))):globalThis.onmessage=Qe})}static addEventListener(Yt){return r(function*(){let Qe=T.get(Yt);Qe||(Qe=function(){var Mn=r(function*(vt){if(!function j(Yt){const{type:Qe,data:Lt}=Yt;return"message"===Qe&&Lt&&"string"==typeof Lt.source&&Lt.source.startsWith("loaders.gl")}(vt))return;const ze=yield b(),{type:nn,payload:Ye}=ze?vt:vt.data;Yt(nn,Ye)});return function(ze){return Mn.apply(this,arguments)}}()),(yield b())?console.error("not implemented"):globalThis.addEventListener("message",Qe)})()}static removeEventListener(Yt){return r(function*(){const Qe=T.get(Yt);T.delete(Yt),(yield b())?console.error("not implemented"):globalThis.removeEventListener("message",Qe)})()}static postMessage(Yt,Qe){return r(function*(){const Lt={source:"loaders.gl",type:Yt,payload:Qe},Mn=Be(Qe),vt=yield b();vt?vt.postMessage(Lt,Mn):globalThis.postMessage(Lt,Mn)})()}};function I(Yt,Qe={}){const Mn=k?`${Yt.id}-worker.js`:`${Yt.id}-worker-node.js`;let vt=(Qe[Yt.id]||{}).workerUrl;if(!vt&&"compression"===Yt.id&&(vt=Qe.workerUrl),"test"===Qe._workerType&&(vt=k?`modules/${Yt.module}/dist/${Mn}`:`modules/${Yt.module}/src/workers/${Yt.id}-worker-node.ts`),!vt){let ze=Yt.version;"latest"===ze&&(ze=U),vt=`https://unpkg.com/@loaders.gl/${Yt.module}${ze?`@${ze}`:""}/dist/${Mn}`}return q(vt),vt}function xe(Yt,Qe){return!!Y.isSupported()&&Yt.worker&&Qe?.worker}function ie(Yt,Qe){return D.apply(this,arguments)}function D(){return D=r(function*(Yt,Qe,Lt={},Mn={}){const vt=function h(Yt){return`${Yt.name}@${Yt.version}${Yt.version!==ne?` (worker-utils@${ne})`:""}`}(Yt),ze=Y.getWorkerFarm(Lt),{source:nn}=Lt,Ye={name:vt,source:nn};nn||(Ye.url=I(Yt,Lt));const At=ze.getWorkerPool(Ye),Pn=Lt.jobName||Yt.name,Yn=yield At.startJob(Pn,K.bind(null,Mn)),gr=qt(Lt);return Yn.postMessage("process",{input:Qe,options:gr}),(yield Yn.result).result}),D.apply(this,arguments)}function K(Yt,Qe,Lt,Mn){return se.apply(this,arguments)}function se(){return se=r(function*(Yt,Qe,Lt,Mn){switch(Lt){case"done":Qe.done(Mn);break;case"error":Qe.error(new Error(Mn.error));break;case"process":const{id:vt,input:ze,options:nn}=Mn;try{if(!Yt.process)return void Qe.postMessage("error",{id:vt,error:"Worker not set up to process on main thread"});const Ye=yield Yt.process(ze,nn);Qe.postMessage("done",{id:vt,result:Ye})}catch(Ye){const At=Ye instanceof Error?Ye.message:"unknown error";Qe.postMessage("error",{id:vt,error:At})}break;default:console.warn(`process-on-worker: unknown message ${Lt}`)}}),se.apply(this,arguments)}var ut,Le=class{constructor(){s(this,"_values",void 0),s(this,"_settlers",void 0),s(this,"_closed",void 0),this._values=[],this._settlers=[],this._closed=!1}[Symbol.asyncIterator](){return this}push(Qe){return this.enqueue(Qe)}enqueue(Qe){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const Lt=this._settlers.shift();Qe instanceof Error?Lt.reject(Qe):Lt.resolve({value:Qe})}else this._values.push(Qe)}close(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}next(){if(this._values.length>0){const Qe=this._values.shift();return Qe instanceof Error?Promise.reject(Qe):Promise.resolve({done:!1,value:Qe})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((Qe,Lt)=>{this._settlers.push({resolve:Qe,reject:Lt})})}},ct=0;function Oe(Yt,Qe){return Pt.apply(this,arguments)}function Pt(){return Pt=r(function*(Yt,Qe){if(!(yield V.inWorkerThread()))return;const Lt={process:it};V.onmessage=function(){var Mn=r(function*(vt,ze){try{switch(vt){case"process":if(!Yt)throw new Error("Worker does not support atomic processing");const gr=yield Yt(ze.input,ze.options||{},Lt);V.postMessage("done",{result:gr});break;case"process-in-batches":if(!Qe)throw new Error("Worker does not support batched processing");ut=new Le;const vr=Qe(ut,ze.options||{},Lt);var At,nn=!1,Ye=!1;try{for(var Yn,Pn=v(vr);nn=!(Yn=yield Pn.next()).done;nn=!1)V.postMessage("output-batch",{result:Yn.value})}catch(vi){Ye=!0,At=vi}finally{try{nn&&null!=Pn.return&&(yield Pn.return())}finally{if(Ye)throw At}}V.postMessage("done",{});break;case"input-batch":ut.push(ze.input);break;case"input-done":ut.close()}}catch(gr){const vr=gr instanceof Error?gr.message:"";V.postMessage("error",{error:vr})}});return function(vt,ze){return Mn.apply(this,arguments)}}()}),Pt.apply(this,arguments)}function it(Yt,Qe={}){return new Promise((Lt,Mn)=>{const vt=ct++,ze=(Ye,At)=>{if(At.id===vt)switch(Ye){case"done":V.removeEventListener(ze),Lt(At.result);break;case"error":V.removeEventListener(ze),Mn(At.error)}};V.addEventListener(ze),V.postMessage("process",{id:vt,input:Yt,options:Qe})})}function Bt(Yt,Qe=ne){return q(Yt,"no worker provided"),!(!Qe||!Yt.version)}var pn={};function st(Yt){return mt.apply(this,arguments)}function mt(){return mt=r(function*(Yt,Qe=null,Lt={},Mn=null){return Qe&&(Yt=Ut(Yt,Qe,Lt,Mn)),pn[Yt]=pn[Yt]||function Ne(Yt){return zt.apply(this,arguments)}(Yt),yield pn[Yt]}),mt.apply(this,arguments)}function Ut(Yt,Qe,Lt={},Mn=null){if(!Lt.useLocalLibraries&&Yt.startsWith("http"))return Yt;const vt=Lt.modules||{};return vt[Mn=Mn||Yt]?vt[Mn]:k?Lt.CDN?(q(Lt.CDN.startsWith("http")),`${Lt.CDN}/${Qe}@${ne}/dist/libs/${Mn}`):ue?`../src/libs/${Mn}`:`modules/${Qe}/src/libs/${Mn}`:`modules/${Qe}/dist/libs/${Mn}`}function zt(){return zt=r(function*(Yt){if(Yt.endsWith("wasm"))return yield function Cn(Yt){return Zn.apply(this,arguments)}(Yt);if(!k)try{const{requireFromFile:Lt}=globalThis.loaders||{};return yield Lt?.(Yt)}catch(Lt){return console.error(Lt),null}if(ue)return importScripts(Yt);const Qe=yield function br(Yt){return Mr.apply(this,arguments)}(Yt);return function Zt(Yt,Qe){if(!k){const{requireFromString:Mn}=globalThis.loaders||{};return Mn?.(Yt,Qe)}if(ue)return eval.call(globalThis,Yt),null;const Lt=document.createElement("script");Lt.id=Qe;try{Lt.appendChild(document.createTextNode(Yt))}catch{Lt.text=Yt}return document.body.appendChild(Lt),null}(Qe,Yt)}),zt.apply(this,arguments)}function Zn(){return Zn=r(function*(Yt){const{readFileAsArrayBuffer:Qe}=globalThis.loaders||{};return k||!Qe||Yt.startsWith("http")?yield(yield fetch(Yt)).arrayBuffer():yield Qe(Yt)}),Zn.apply(this,arguments)}function Mr(){return Mr=r(function*(Yt){const{readFileAsText:Qe}=globalThis.loaders||{};return k||!Qe||Yt.startsWith("http")?yield(yield fetch(Yt)).text():yield Qe(Yt)}),Mr.apply(this,arguments)}var yn=m(w(95904),1),St=m(w(95904),1),Mt={command:"",arguments:[],port:5e3,autoPort:!0,wait:2e3,onSuccess:Yt=>{console.log(`Started ${Yt.props.command}`)}},bt=class{constructor({id:Qe="browser-driver"}={}){s(this,"id",void 0),s(this,"props",{...Mt}),s(this,"childProcess",null),s(this,"port",0),s(this,"successTimer",void 0),this.id=Qe}start(Qe){var Lt=this;return r(function*(){Qe={...Mt,...Qe},Lt.props=Qe;const Mn=[...Qe.arguments];return Lt.port=Number(Qe.port),Qe.portArg&&(Qe.autoPort&&(Lt.port=yield function kt(Yt=3e3){return new Promise(Qe=>{St.default.exec("lsof -i -P -n | grep LISTEN",(Lt,Mn)=>{if(Lt)return void Qe(Yt);const vt=[],ze=/:(\d+) \(LISTEN\)/;Mn.split("\n").forEach(Ye=>{const At=ze.exec(Ye);At&&vt.push(Number(At[1]))});let nn=Yt;for(;vt.includes(nn);)nn++;Qe(nn)})})}(Qe.port)),Mn.push(Qe.portArg,String(Lt.port))),yield new Promise((vt,ze)=>{try{Lt._setTimeout(()=>{Qe.onSuccess&&Qe.onSuccess(Lt),vt({})}),console.log(`Spawning ${Qe.command} ${Qe.arguments.join(" ")}`);const nn=yn.spawn(Qe.command,Mn,Qe.spawn);Lt.childProcess=nn,nn.stdout.on("data",Ye=>{console.log(Ye.toString())}),nn.stderr.on("data",Ye=>{console.log(`Child process wrote to stderr: "${Ye}".`),Qe.ignoreStderr||(Lt._clearTimeout(),ze(new Error(Ye)))}),nn.on("error",Ye=>{console.log(`Child process errored with ${Ye}`),Lt._clearTimeout(),ze(Ye)}),nn.on("close",Ye=>{console.log(`Child process exited with ${Ye}`),Lt.childProcess=null,Lt._clearTimeout(),vt({})})}catch(nn){ze(nn)}})})()}stop(){var Qe=this;return r(function*(){Qe.childProcess&&(Qe.childProcess.kill(),Qe.childProcess=null)})()}exit(Qe=0){var Lt=this;return r(function*(){try{yield Lt.stop(),process.exit(Qe)}catch(Mn){console.error(Mn.message||Mn),process.exit(1)}})()}_setTimeout(Qe){Number(this.props.wait)>0&&(this.successTimer=setTimeout(Qe,this.props.wait))}_clearTimeout(){this.successTimer&&clearTimeout(this.successTimer)}},sn={id:"null",name:"null",module:"worker-utils",version:ne,options:{null:{}}}},87974:ln=>{var i,qe=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,v=(i,p)=>{for(var W in p)qe(i,W,{get:p[W],enumerable:!0})},C={};v(C,{Euler:()=>ma,Matrix3:()=>Qt,Matrix4:()=>xa,Pose:()=>dl,Quaternion:()=>$i,SphericalCoordinates:()=>Ws,Vector2:()=>Yn,Vector3:()=>Qo,Vector4:()=>ns,_Euler:()=>ma,_MathUtils:()=>xu,_Pose:()=>dl,_SphericalCoordinates:()=>Ws,acos:()=>J,asin:()=>z,assert:()=>ye,atan:()=>he,clamp:()=>we,clone:()=>E,config:()=>G,configure:()=>N,cos:()=>q,degrees:()=>Z,equals:()=>ue,exactEquals:()=>Ie,formatValue:()=>x,isArray:()=>m,lerp:()=>k,mat3:()=>rr,mat4:()=>jr,quat:()=>Ac,radians:()=>U,sin:()=>ne,tan:()=>le,toDegrees:()=>ae,toRadians:()=>L,vec2:()=>Be,vec3:()=>gr,vec4:()=>Oi,withEpsilon:()=>ke}),ln.exports=(i=C,((i,p,W,Re)=>{if(p&&"object"==typeof p||"function"==typeof p)for(let lt of r(p))!s.call(i,lt)&&undefined!==lt&&qe(i,lt,{get:()=>p[lt],enumerable:!(Re=w(p,lt))||Re.enumerable});return i})(qe({},"__esModule",{value:!0}),i));var d=1/Math.PI*180,F=1/180*Math.PI;globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};var G=globalThis.mathgl.config;function N(i){return Object.assign(G,i),G}function x(i,{precision:p=G.precision}={}){return i=function Ze(i){return Math.round(i/G.EPSILON)*G.EPSILON}(i),`${parseFloat(i.toPrecision(p))}`}function m(i){return Array.isArray(i)||ArrayBuffer.isView(i)&&!(i instanceof DataView)}function E(i){return"clone"in i?i.clone():i.slice()}function L(i){return U(i)}function ae(i){return Z(i)}function U(i,p){return Nt(i,W=>W*F,p)}function Z(i,p){return Nt(i,W=>W*d,p)}function ne(i,p){return Nt(i,W=>Math.sin(W),p)}function q(i,p){return Nt(i,W=>Math.cos(W),p)}function le(i,p){return Nt(i,W=>Math.tan(W),p)}function z(i,p){return Nt(i,W=>Math.asin(W),p)}function J(i,p){return Nt(i,W=>Math.acos(W),p)}function he(i,p){return Nt(i,W=>Math.atan(W),p)}function we(i,p,W){return Nt(i,Re=>Math.max(p,Math.min(W,Re)))}function k(i,p,W){return m(i)?i.map((Re,lt)=>k(Re,p[lt],W)):W*p+(1-W)*i}function ue(i,p,W){const Re=G.EPSILON;W&&(G.EPSILON=W);try{if(i===p)return!0;if(m(i)&&m(p)){if(i.length!==p.length)return!1;for(let lt=0;lt<i.length;++lt)if(!ue(i[lt],p[lt]))return!1;return!0}return i&&i.equals?i.equals(p):p&&p.equals?p.equals(i):"number"==typeof i&&"number"==typeof p&&Math.abs(i-p)<=G.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))}finally{G.EPSILON=Re}}function Ie(i,p){if(i===p)return!0;if(i&&"object"==typeof i&&p&&"object"==typeof p){if(i.constructor!==p.constructor)return!1;if(i.exactEquals)return i.exactEquals(p)}if(m(i)&&m(p)){if(i.length!==p.length)return!1;for(let W=0;W<i.length;++W)if(!Ie(i[W],p[W]))return!1;return!0}return!1}function ke(i,p){const W=G.EPSILON;let Re;G.EPSILON=i;try{Re=p()}finally{G.EPSILON=W}return Re}function Nt(i,p,W){if(m(i)){const Re=i;W=W||function Ce(i){return i.clone?i.clone():new Array(i.length)}(Re);for(let lt=0;lt<W.length&&lt<Re.length;++lt)W[lt]=p("number"==typeof i?i:i[lt],lt,W);return W}return p(i)}var Kt=class extends Array{clone(){return(new this.constructor).copy(this)}fromArray(i,p=0){for(let W=0;W<this.ELEMENTS;++W)this[W]=i[W+p];return this.check()}toArray(i=[],p=0){for(let W=0;W<this.ELEMENTS;++W)i[p+W]=this[W];return i}toObject(i){return i}from(i){return Array.isArray(i)?this.copy(i):this.fromObject(i)}to(i){return i===this?this:m(i)?this.toArray(i):this.toObject(i)}toTarget(i){return i?this.to(i):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(G)}formatString(i){let p="";for(let W=0;W<this.ELEMENTS;++W)p+=(W>0?", ":"")+x(this[W],i);return`${i.printTypes?this.constructor.name:""}[${p}]`}equals(i){if(!i||this.length!==i.length)return!1;for(let p=0;p<this.ELEMENTS;++p)if(!ue(this[p],i[p]))return!1;return!0}exactEquals(i){if(!i||this.length!==i.length)return!1;for(let p=0;p<this.ELEMENTS;++p)if(this[p]!==i[p])return!1;return!0}negate(){for(let i=0;i<this.ELEMENTS;++i)this[i]=-this[i];return this.check()}lerp(i,p,W){if(void 0===W)return this.lerp(this,i,p);for(let Re=0;Re<this.ELEMENTS;++Re){const lt=i[Re];this[Re]=lt+W*(("number"==typeof p?p:p[Re])-lt)}return this.check()}min(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=Math.min(i[p],this[p]);return this.check()}max(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=Math.max(i[p],this[p]);return this.check()}clamp(i,p){for(let W=0;W<this.ELEMENTS;++W)this[W]=Math.min(Math.max(this[W],i[W]),p[W]);return this.check()}add(...i){for(const p of i)for(let W=0;W<this.ELEMENTS;++W)this[W]+=p[W];return this.check()}subtract(...i){for(const p of i)for(let W=0;W<this.ELEMENTS;++W)this[W]-=p[W];return this.check()}scale(i){if("number"==typeof i)for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;else for(let p=0;p<this.ELEMENTS&&p<i.length;++p)this[p]*=i[p];return this.check()}multiplyByScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;return this.check()}check(){if(G.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let i=this.length===this.ELEMENTS;for(let p=0;p<this.ELEMENTS;++p)i=i&&Number.isFinite(this[p]);return i}sub(i){return this.subtract(i)}setScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]=i;return this.check()}addScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]+=i;return this.check()}subScalar(i){return this.addScalar(-i)}multiplyScalar(i){for(let p=0;p<this.ELEMENTS;++p)this[p]*=i;return this.check()}divideScalar(i){return this.multiplyByScalar(1/i)}clampScalar(i,p){for(let W=0;W<this.ELEMENTS;++W)this[W]=Math.min(Math.max(this[W],i),p);return this.check()}get elements(){return this}};function ee(i){if(!Number.isFinite(i))throw new Error(`Invalid number ${JSON.stringify(i)}`);return i}function fe(i,p,W=""){if(G.debug&&!function me(i,p){if(i.length!==p)return!1;for(let W=0;W<i.length;++W)if(!Number.isFinite(i[W]))return!1;return!0}(i,p))throw new Error(`math.gl: ${W} some fields set to invalid numbers'`);return i}function ye(i,p){if(!i)throw new Error(`math.gl assertion ${p}`)}var Se=class extends Kt{get x(){return this[0]}set x(i){this[0]=ee(i)}get y(){return this[1]}set y(i){this[1]=ee(i)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let i=0;for(let p=0;p<this.ELEMENTS;++p)i+=this[p]*this[p];return i}magnitudeSquared(){return this.lengthSquared()}distance(i){return Math.sqrt(this.distanceSquared(i))}distanceSquared(i){let p=0;for(let W=0;W<this.ELEMENTS;++W){const Re=this[W]-i[W];p+=Re*Re}return ee(p)}dot(i){let p=0;for(let W=0;W<this.ELEMENTS;++W)p+=this[W]*i[W];return ee(p)}normalize(){const i=this.magnitude();if(0!==i)for(let p=0;p<this.ELEMENTS;++p)this[p]/=i;return this.check()}multiply(...i){for(const p of i)for(let W=0;W<this.ELEMENTS;++W)this[W]*=p[W];return this.check()}divide(...i){for(const p of i)for(let W=0;W<this.ELEMENTS;++W)this[W]/=p[W];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(i){return this.distance(i)}distanceToSquared(i){return this.distanceSquared(i)}getComponent(i){return ye(i>=0&&i<this.ELEMENTS,"index is out of range"),ee(this[i])}setComponent(i,p){return ye(i>=0&&i<this.ELEMENTS,"index is out of range"),this[i]=p,this.check()}addVectors(i,p){return this.copy(i).add(p)}subVectors(i,p){return this.copy(i).subtract(p)}multiplyVectors(i,p){return this.copy(i).multiply(p)}addScaledVector(i,p){return this.add(new this.constructor(i).multiplyScalar(p))}},Be={};v(Be,{add:()=>T,angle:()=>br,ceil:()=>I,clone:()=>wt,copy:()=>b,create:()=>Ve,cross:()=>st,dist:()=>Qe,distance:()=>ct,div:()=>Yt,divide:()=>h,dot:()=>pn,equals:()=>kt,exactEquals:()=>St,floor:()=>xe,forEach:()=>vt,fromValues:()=>Y,inverse:()=>it,len:()=>Mt,length:()=>en,lerp:()=>mt,max:()=>D,min:()=>ie,mul:()=>sn,multiply:()=>j,negate:()=>Pt,normalize:()=>Bt,random:()=>Ut,rotate:()=>Zn,round:()=>K,scale:()=>se,scaleAndAdd:()=>Le,set:()=>R,sqrDist:()=>Lt,sqrLen:()=>Mn,squaredDistance:()=>ut,squaredLength:()=>Oe,str:()=>yn,sub:()=>bt,subtract:()=>V,transformMat2:()=>Ne,transformMat2d:()=>zt,transformMat3:()=>Zt,transformMat4:()=>Cn,zero:()=>Mr});var yt=1e-6,qt=typeof Float32Array<"u"?Float32Array:Array,Ln=Math.random;function Tt(i){return i>=0?Math.round(i):i%.5==0?Math.floor(i):Math.round(i)}function Ve(){const i=new qt(2);return qt!=Float32Array&&(i[0]=0,i[1]=0),i}function wt(i){const p=new qt(2);return p[0]=i[0],p[1]=i[1],p}function Y(i,p){const W=new qt(2);return W[0]=i,W[1]=p,W}function b(i,p){return i[0]=p[0],i[1]=p[1],i}function R(i,p,W){return i[0]=p,i[1]=W,i}function T(i,p,W){return i[0]=p[0]+W[0],i[1]=p[1]+W[1],i}function V(i,p,W){return i[0]=p[0]-W[0],i[1]=p[1]-W[1],i}function j(i,p,W){return i[0]=p[0]*W[0],i[1]=p[1]*W[1],i}function h(i,p,W){return i[0]=p[0]/W[0],i[1]=p[1]/W[1],i}function I(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i}function xe(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i}function ie(i,p,W){return i[0]=Math.min(p[0],W[0]),i[1]=Math.min(p[1],W[1]),i}function D(i,p,W){return i[0]=Math.max(p[0],W[0]),i[1]=Math.max(p[1],W[1]),i}function K(i,p){return i[0]=Tt(p[0]),i[1]=Tt(p[1]),i}function se(i,p,W){return i[0]=p[0]*W,i[1]=p[1]*W,i}function Le(i,p,W,Re){return i[0]=p[0]+W[0]*Re,i[1]=p[1]+W[1]*Re,i}function ct(i,p){const W=p[0]-i[0],Re=p[1]-i[1];return Math.sqrt(W*W+Re*Re)}function ut(i,p){const W=p[0]-i[0],Re=p[1]-i[1];return W*W+Re*Re}function en(i){const p=i[0],W=i[1];return Math.sqrt(p*p+W*W)}function Oe(i){const p=i[0],W=i[1];return p*p+W*W}function Pt(i,p){return i[0]=-p[0],i[1]=-p[1],i}function it(i,p){return i[0]=1/p[0],i[1]=1/p[1],i}function Bt(i,p){const W=p[0],Re=p[1];let lt=W*W+Re*Re;return lt>0&&(lt=1/Math.sqrt(lt)),i[0]=p[0]*lt,i[1]=p[1]*lt,i}function pn(i,p){return i[0]*p[0]+i[1]*p[1]}function st(i,p,W){const Re=p[0]*W[1]-p[1]*W[0];return i[0]=i[1]=0,i[2]=Re,i}function mt(i,p,W,Re){const lt=p[0],Ht=p[1];return i[0]=lt+Re*(W[0]-lt),i[1]=Ht+Re*(W[1]-Ht),i}function Ut(i,p){p=void 0===p?1:p;const W=2*Ln()*Math.PI;return i[0]=Math.cos(W)*p,i[1]=Math.sin(W)*p,i}function Ne(i,p,W){const Re=p[0],lt=p[1];return i[0]=W[0]*Re+W[2]*lt,i[1]=W[1]*Re+W[3]*lt,i}function zt(i,p,W){const Re=p[0],lt=p[1];return i[0]=W[0]*Re+W[2]*lt+W[4],i[1]=W[1]*Re+W[3]*lt+W[5],i}function Zt(i,p,W){const Re=p[0],lt=p[1];return i[0]=W[0]*Re+W[3]*lt+W[6],i[1]=W[1]*Re+W[4]*lt+W[7],i}function Cn(i,p,W){const Re=p[0],lt=p[1];return i[0]=W[0]*Re+W[4]*lt+W[12],i[1]=W[1]*Re+W[5]*lt+W[13],i}function Zn(i,p,W,Re){const lt=p[0]-W[0],Ht=p[1]-W[1],hn=Math.sin(Re),Dn=Math.cos(Re);return i[0]=lt*Dn-Ht*hn+W[0],i[1]=lt*hn+Ht*Dn+W[1],i}function br(i,p){const W=i[0],Re=i[1],lt=p[0],Ht=p[1],hn=Math.sqrt((W*W+Re*Re)*(lt*lt+Ht*Ht));return Math.acos(Math.min(Math.max(hn&&(W*lt+Re*Ht)/hn,-1),1))}function Mr(i){return i[0]=0,i[1]=0,i}function yn(i){return`vec2(${i[0]}, ${i[1]})`}function St(i,p){return i[0]===p[0]&&i[1]===p[1]}function kt(i,p){const W=i[0],Re=i[1],lt=p[0],Ht=p[1];return Math.abs(W-lt)<=yt*Math.max(1,Math.abs(W),Math.abs(lt))&&Math.abs(Re-Ht)<=yt*Math.max(1,Math.abs(Re),Math.abs(Ht))}Math;var Mt=en,bt=V,sn=j,Yt=h,Qe=ct,Lt=ut,Mn=Oe,vt=function(){const i=Ve();return function(p,W,Re,lt,Ht,hn){let Dn,Xn;for(W||(W=2),Re||(Re=0),Xn=lt?Math.min(lt*W+Re,p.length):p.length,Dn=Re;Dn<Xn;Dn+=W)i[0]=p[Dn],i[1]=p[Dn+1],Ht(i,i,hn),p[Dn]=i[0],p[Dn+1]=i[1];return p}}();function ze(i,p,W){const Re=p[0],lt=p[1],Ht=W[3]*Re+W[7]*lt||1;return i[0]=(W[0]*Re+W[4]*lt)/Ht,i[1]=(W[1]*Re+W[5]*lt)/Ht,i}function nn(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=W[3]*Re+W[7]*lt+W[11]*Ht||1;return i[0]=(W[0]*Re+W[4]*lt+W[8]*Ht)/hn,i[1]=(W[1]*Re+W[5]*lt+W[9]*Ht)/hn,i[2]=(W[2]*Re+W[6]*lt+W[10]*Ht)/hn,i}function Pn(i,p,W){const Re=p[0],lt=p[1],Ht=p[2];return i[0]=W[0]*Re+W[3]*lt+W[6]*Ht,i[1]=W[1]*Re+W[4]*lt+W[7]*Ht,i[2]=W[2]*Re+W[5]*lt+W[8]*Ht,i[3]=p[3],i}var Yn=class extends Se{constructor(i=0,p=0){super(2),m(i)&&1===arguments.length?this.copy(i):(G.debug&&(ee(i),ee(p)),this[0]=i,this[1]=p)}set(i,p){return this[0]=i,this[1]=p,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this.check()}fromObject(i){return G.debug&&(ee(i.x),ee(i.y)),this[0]=i.x,this[1]=i.y,this.check()}toObject(i){return i.x=this[0],i.y=this[1],i}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(i){return this.transformAsPoint(i)}transformAsPoint(i){return Cn(this,this,i),this.check()}transformAsVector(i){return ze(this,this,i),this.check()}transformByMatrix3(i){return Zt(this,this,i),this.check()}transformByMatrix2x3(i){return zt(this,this,i),this.check()}transformByMatrix2(i){return Ne(this,this,i),this.check()}},gr={};function vr(){const i=new qt(3);return qt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function vi(i){const p=new qt(3);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p}function to(i){const p=i[0],W=i[1],Re=i[2];return Math.sqrt(p*p+W*W+Re*Re)}function ro(i,p,W){const Re=new qt(3);return Re[0]=i,Re[1]=p,Re[2]=W,Re}function wi(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i}function _o(i,p,W,Re){return i[0]=p,i[1]=W,i[2]=Re,i}function Uo(i,p,W){return i[0]=p[0]+W[0],i[1]=p[1]+W[1],i[2]=p[2]+W[2],i}function So(i,p,W){return i[0]=p[0]-W[0],i[1]=p[1]-W[1],i[2]=p[2]-W[2],i}function yo(i,p,W){return i[0]=p[0]*W[0],i[1]=p[1]*W[1],i[2]=p[2]*W[2],i}function ts(i,p,W){return i[0]=p[0]/W[0],i[1]=p[1]/W[1],i[2]=p[2]/W[2],i}function Xo(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i[2]=Math.ceil(p[2]),i}function Io(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i[2]=Math.floor(p[2]),i}function Fe(i,p,W){return i[0]=Math.min(p[0],W[0]),i[1]=Math.min(p[1],W[1]),i[2]=Math.min(p[2],W[2]),i}function _t(i,p,W){return i[0]=Math.max(p[0],W[0]),i[1]=Math.max(p[1],W[1]),i[2]=Math.max(p[2],W[2]),i}function bn(i,p){return i[0]=Tt(p[0]),i[1]=Tt(p[1]),i[2]=Tt(p[2]),i}function xn(i,p,W){return i[0]=p[0]*W,i[1]=p[1]*W,i[2]=p[2]*W,i}function zn(i,p,W,Re){return i[0]=p[0]+W[0]*Re,i[1]=p[1]+W[1]*Re,i[2]=p[2]+W[2]*Re,i}function ir(i,p){const W=p[0]-i[0],Re=p[1]-i[1],lt=p[2]-i[2];return Math.sqrt(W*W+Re*Re+lt*lt)}function Pr(i,p){const W=p[0]-i[0],Re=p[1]-i[1],lt=p[2]-i[2];return W*W+Re*Re+lt*lt}function et(i){const p=i[0],W=i[1],Re=i[2];return p*p+W*W+Re*Re}function $t(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i}function Vn(i,p){return i[0]=1/p[0],i[1]=1/p[1],i[2]=1/p[2],i}function Tr(i,p){const W=p[0],Re=p[1],lt=p[2];let Ht=W*W+Re*Re+lt*lt;return Ht>0&&(Ht=1/Math.sqrt(Ht)),i[0]=p[0]*Ht,i[1]=p[1]*Ht,i[2]=p[2]*Ht,i}function ei(i,p){return i[0]*p[0]+i[1]*p[1]+i[2]*p[2]}function Si(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=W[0],Dn=W[1],Xn=W[2];return i[0]=lt*Xn-Ht*Dn,i[1]=Ht*hn-Re*Xn,i[2]=Re*Dn-lt*hn,i}function Ri(i,p,W,Re){const lt=p[0],Ht=p[1],hn=p[2];return i[0]=lt+Re*(W[0]-lt),i[1]=Ht+Re*(W[1]-Ht),i[2]=hn+Re*(W[2]-hn),i}function io(i,p,W,Re){const lt=Math.acos(Math.min(Math.max(ei(p,W),-1),1)),Ht=Math.sin(lt),hn=Math.sin((1-Re)*lt)/Ht,Dn=Math.sin(Re*lt)/Ht;return i[0]=hn*p[0]+Dn*W[0],i[1]=hn*p[1]+Dn*W[1],i[2]=hn*p[2]+Dn*W[2],i}function Ci(i,p,W,Re,lt,Ht){const hn=Ht*Ht,Dn=hn*(2*Ht-3)+1,Xn=hn*(Ht-2)+Ht,Gn=hn*(Ht-1),xr=hn*(3-2*Ht);return i[0]=p[0]*Dn+W[0]*Xn+Re[0]*Gn+lt[0]*xr,i[1]=p[1]*Dn+W[1]*Xn+Re[1]*Gn+lt[1]*xr,i[2]=p[2]*Dn+W[2]*Xn+Re[2]*Gn+lt[2]*xr,i}function yi(i,p,W,Re,lt,Ht){const hn=1-Ht,Dn=hn*hn,Xn=Ht*Ht,Gn=Dn*hn,xr=3*Ht*Dn,Jr=3*Xn*hn,Zr=Xn*Ht;return i[0]=p[0]*Gn+W[0]*xr+Re[0]*Jr+lt[0]*Zr,i[1]=p[1]*Gn+W[1]*xr+Re[1]*Jr+lt[1]*Zr,i[2]=p[2]*Gn+W[2]*xr+Re[2]*Jr+lt[2]*Zr,i}function Yi(i,p){p=void 0===p?1:p;const W=2*Ln()*Math.PI,Re=2*Ln()-1,lt=Math.sqrt(1-Re*Re)*p;return i[0]=Math.cos(W)*lt,i[1]=Math.sin(W)*lt,i[2]=Re*p,i}function so(i,p,W){const Re=p[0],lt=p[1],Ht=p[2];let hn=W[3]*Re+W[7]*lt+W[11]*Ht+W[15];return hn=hn||1,i[0]=(W[0]*Re+W[4]*lt+W[8]*Ht+W[12])/hn,i[1]=(W[1]*Re+W[5]*lt+W[9]*Ht+W[13])/hn,i[2]=(W[2]*Re+W[6]*lt+W[10]*Ht+W[14])/hn,i}function Co(i,p,W){const Re=p[0],lt=p[1],Ht=p[2];return i[0]=Re*W[0]+lt*W[3]+Ht*W[6],i[1]=Re*W[1]+lt*W[4]+Ht*W[7],i[2]=Re*W[2]+lt*W[5]+Ht*W[8],i}function qi(i,p,W){const Re=W[0],lt=W[1],Ht=W[2],Dn=p[0],Xn=p[1],Gn=p[2];let xr=lt*Gn-Ht*Xn,Jr=Ht*Dn-Re*Gn,Zr=Re*Xn-lt*Dn,ii=lt*Zr-Ht*Jr,mi=Ht*xr-Re*Zr,Xi=Re*Jr-lt*xr;const ui=2*W[3];return xr*=ui,Jr*=ui,Zr*=ui,ii*=2,mi*=2,Xi*=2,i[0]=Dn+xr+ii,i[1]=Xn+Jr+mi,i[2]=Gn+Zr+Xi,i}function jo(i,p,W,Re){const lt=[],Ht=[];return lt[0]=p[0]-W[0],lt[1]=p[1]-W[1],lt[2]=p[2]-W[2],Ht[0]=lt[0],Ht[1]=lt[1]*Math.cos(Re)-lt[2]*Math.sin(Re),Ht[2]=lt[1]*Math.sin(Re)+lt[2]*Math.cos(Re),i[0]=Ht[0]+W[0],i[1]=Ht[1]+W[1],i[2]=Ht[2]+W[2],i}function $n(i,p,W,Re){const lt=[],Ht=[];return lt[0]=p[0]-W[0],lt[1]=p[1]-W[1],lt[2]=p[2]-W[2],Ht[0]=lt[2]*Math.sin(Re)+lt[0]*Math.cos(Re),Ht[1]=lt[1],Ht[2]=lt[2]*Math.cos(Re)-lt[0]*Math.sin(Re),i[0]=Ht[0]+W[0],i[1]=Ht[1]+W[1],i[2]=Ht[2]+W[2],i}function un(i,p,W,Re){const lt=[],Ht=[];return lt[0]=p[0]-W[0],lt[1]=p[1]-W[1],lt[2]=p[2]-W[2],Ht[0]=lt[0]*Math.cos(Re)-lt[1]*Math.sin(Re),Ht[1]=lt[0]*Math.sin(Re)+lt[1]*Math.cos(Re),Ht[2]=lt[2],i[0]=Ht[0]+W[0],i[1]=Ht[1]+W[1],i[2]=Ht[2]+W[2],i}function Ge(i,p){const W=i[0],Re=i[1],lt=i[2],Ht=p[0],hn=p[1],Dn=p[2],Xn=Math.sqrt((W*W+Re*Re+lt*lt)*(Ht*Ht+hn*hn+Dn*Dn)),Gn=Xn&&ei(i,p)/Xn;return Math.acos(Math.min(Math.max(Gn,-1),1))}function xt(i){return i[0]=0,i[1]=0,i[2]=0,i}function rn(i){return`vec3(${i[0]}, ${i[1]}, ${i[2]})`}function Hn(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]}function Dr(i,p){const W=i[0],Re=i[1],lt=i[2],Ht=p[0],hn=p[1],Dn=p[2];return Math.abs(W-Ht)<=yt*Math.max(1,Math.abs(W),Math.abs(Ht))&&Math.abs(Re-hn)<=yt*Math.max(1,Math.abs(Re),Math.abs(hn))&&Math.abs(lt-Dn)<=yt*Math.max(1,Math.abs(lt),Math.abs(Dn))}v(gr,{add:()=>Uo,angle:()=>Ge,bezier:()=>yi,ceil:()=>Xo,clone:()=>vi,copy:()=>wi,create:()=>vr,cross:()=>Si,dist:()=>vo,distance:()=>ir,div:()=>Gi,divide:()=>ts,dot:()=>ei,equals:()=>Dr,exactEquals:()=>Hn,floor:()=>Io,forEach:()=>Ks,fromValues:()=>ro,hermite:()=>Ci,inverse:()=>Vn,len:()=>Ao,length:()=>to,lerp:()=>Ri,max:()=>_t,min:()=>Fe,mul:()=>Qi,multiply:()=>yo,negate:()=>$t,normalize:()=>Tr,random:()=>Yi,rotateX:()=>jo,rotateY:()=>$n,rotateZ:()=>un,round:()=>bn,scale:()=>xn,scaleAndAdd:()=>zn,set:()=>_o,slerp:()=>io,sqrDist:()=>Do,sqrLen:()=>Ms,squaredDistance:()=>Pr,squaredLength:()=>et,str:()=>rn,sub:()=>Qr,subtract:()=>So,transformMat3:()=>Co,transformMat4:()=>so,transformQuat:()=>qi,zero:()=>xt});var Go,os,Qr=So,Qi=yo,Gi=ts,vo=ir,Do=Pr,Ao=to,Ms=et,Ks=function(){const i=vr();return function(p,W,Re,lt,Ht,hn){let Dn,Xn;for(W||(W=3),Re||(Re=0),Xn=lt?Math.min(lt*W+Re,p.length):p.length,Dn=Re;Dn<Xn;Dn+=W)i[0]=p[Dn],i[1]=p[Dn+1],i[2]=p[Dn+2],Ht(i,i,hn),p[Dn]=i[0],p[Dn+1]=i[1],p[Dn+2]=i[2];return p}}(),ms=[0,0,0],Qo=class extends Se{static get ZERO(){return Go||(Go=new Qo(0,0,0),Object.freeze(Go)),Go}constructor(i=0,p=0,W=0){super(-0,-0,-0),1===arguments.length&&m(i)?this.copy(i):(G.debug&&(ee(i),ee(p),ee(W)),this[0]=i,this[1]=p,this[2]=W)}set(i,p,W){return this[0]=i,this[1]=p,this[2]=W,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this.check()}fromObject(i){return G.debug&&(ee(i.x),ee(i.y),ee(i.z)),this[0]=i.x,this[1]=i.y,this[2]=i.z,this.check()}toObject(i){return i.x=this[0],i.y=this[1],i.z=this[2],i}get ELEMENTS(){return 3}get z(){return this[2]}set z(i){this[2]=ee(i)}angle(i){return Ge(this,i)}cross(i){return Si(this,this,i),this.check()}rotateX({radians:i,origin:p=ms}){return jo(this,this,p,i),this.check()}rotateY({radians:i,origin:p=ms}){return $n(this,this,p,i),this.check()}rotateZ({radians:i,origin:p=ms}){return un(this,this,p,i),this.check()}transform(i){return this.transformAsPoint(i)}transformAsPoint(i){return so(this,this,i),this.check()}transformAsVector(i){return nn(this,this,i),this.check()}transformByMatrix3(i){return Co(this,this,i),this.check()}transformByMatrix2(i){return function Ye(i,p,W){const Re=p[0],lt=p[1];i[0]=W[0]*Re+W[2]*lt,i[1]=W[1]*Re+W[3]*lt,i[2]=p[2]}(this,this,i),this.check()}transformByQuaternion(i){return qi(this,this,i),this.check()}},ns=class extends Se{static get ZERO(){return os||(os=new ns(0,0,0,0),Object.freeze(os)),os}constructor(i=0,p=0,W=0,Re=0){super(-0,-0,-0,-0),m(i)&&1===arguments.length?this.copy(i):(G.debug&&(ee(i),ee(p),ee(W),ee(Re)),this[0]=i,this[1]=p,this[2]=W,this[3]=Re)}set(i,p,W,Re){return this[0]=i,this[1]=p,this[2]=W,this[3]=Re,this.check()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this.check()}fromObject(i){return G.debug&&(ee(i.x),ee(i.y),ee(i.z),ee(i.w)),this[0]=i.x,this[1]=i.y,this[2]=i.z,this[3]=i.w,this}toObject(i){return i.x=this[0],i.y=this[1],i.z=this[2],i.w=this[3],i}get ELEMENTS(){return 4}get z(){return this[2]}set z(i){this[2]=ee(i)}get w(){return this[3]}set w(i){this[3]=ee(i)}transform(i){return so(this,this,i),this.check()}transformByMatrix3(i){return Pn(this,this,i),this.check()}transformByMatrix2(i){return function At(i,p,W){const Re=p[0],lt=p[1];i[0]=W[0]*Re+W[2]*lt,i[1]=W[1]*Re+W[3]*lt,i[2]=p[2],i[3]=p[3]}(this,this,i),this.check()}transformByQuaternion(i){return qi(this,this,i),this.check()}applyMatrix4(i){return i.transform(this,this),this}},Rs=class extends Kt{toString(){let i="[";if(G.printRowMajor){i+="row-major:";for(let p=0;p<this.RANK;++p)for(let W=0;W<this.RANK;++W)i+=` ${this[W*this.RANK+p]}`}else{i+="column-major:";for(let p=0;p<this.ELEMENTS;++p)i+=` ${this[p]}`}return i+="]",i}getElementIndex(i,p){return p*this.RANK+i}getElement(i,p){return this[p*this.RANK+i]}setElement(i,p,W){return this[p*this.RANK+i]=ee(W),this}getColumn(i,p=new Array(this.RANK).fill(-0)){const W=i*this.RANK;for(let Re=0;Re<this.RANK;++Re)p[Re]=this[W+Re];return p}setColumn(i,p){const W=i*this.RANK;for(let Re=0;Re<this.RANK;++Re)this[W+Re]=p[Re];return this}},rr={};function sr(){const i=new qt(9);return qt!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function Lr(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[4],i[4]=p[5],i[5]=p[6],i[6]=p[8],i[7]=p[9],i[8]=p[10],i}function gi(i){const p=new qt(9);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p[4]=i[4],p[5]=i[5],p[6]=i[6],p[7]=i[7],p[8]=i[8],p}function Ei(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i}function Fi(i,p,W,Re,lt,Ht,hn,Dn,Xn){const Gn=new qt(9);return Gn[0]=i,Gn[1]=p,Gn[2]=W,Gn[3]=Re,Gn[4]=lt,Gn[5]=Ht,Gn[6]=hn,Gn[7]=Dn,Gn[8]=Xn,Gn}function Wi(i,p,W,Re,lt,Ht,hn,Dn,Xn,Gn){return i[0]=p,i[1]=W,i[2]=Re,i[3]=lt,i[4]=Ht,i[5]=hn,i[6]=Dn,i[7]=Xn,i[8]=Gn,i}function ho(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Bi(i,p){if(i===p){const W=p[1],Re=p[2],lt=p[5];i[1]=p[3],i[2]=p[6],i[3]=W,i[5]=p[7],i[6]=Re,i[7]=lt}else i[0]=p[0],i[1]=p[3],i[2]=p[6],i[3]=p[1],i[4]=p[4],i[5]=p[7],i[6]=p[2],i[7]=p[5],i[8]=p[8];return i}function ko(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=p[4],Dn=p[5],Xn=p[6],Gn=p[7],xr=p[8],Jr=xr*hn-Dn*Gn,Zr=-xr*Ht+Dn*Xn,ii=Gn*Ht-hn*Xn;let mi=W*Jr+Re*Zr+lt*ii;return mi?(mi=1/mi,i[0]=Jr*mi,i[1]=(-xr*Re+lt*Gn)*mi,i[2]=(Dn*Re-lt*hn)*mi,i[3]=Zr*mi,i[4]=(xr*W-lt*Xn)*mi,i[5]=(-Dn*W+lt*Ht)*mi,i[6]=ii*mi,i[7]=(-Gn*W+Re*Xn)*mi,i[8]=(hn*W-Re*Ht)*mi,i):null}function ls(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=p[4],Dn=p[5],Xn=p[6],Gn=p[7],xr=p[8];return i[0]=hn*xr-Dn*Gn,i[1]=lt*Gn-Re*xr,i[2]=Re*Dn-lt*hn,i[3]=Dn*Xn-Ht*xr,i[4]=W*xr-lt*Xn,i[5]=lt*Ht-W*Dn,i[6]=Ht*Gn-hn*Xn,i[7]=Re*Xn-W*Gn,i[8]=W*hn-Re*Ht,i}function Ls(i){const lt=i[3],Ht=i[4],hn=i[5],Dn=i[6],Xn=i[7],Gn=i[8];return i[0]*(Gn*Ht-hn*Xn)+i[1]*(-Gn*lt+hn*Dn)+i[2]*(Xn*lt-Ht*Dn)}function ys(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=p[4],Xn=p[5],Gn=p[6],xr=p[7],Jr=p[8],Zr=W[0],ii=W[1],mi=W[2],Xi=W[3],ui=W[4],xo=W[5],Po=W[6],To=W[7],Mo=W[8];return i[0]=Zr*Re+ii*hn+mi*Gn,i[1]=Zr*lt+ii*Dn+mi*xr,i[2]=Zr*Ht+ii*Xn+mi*Jr,i[3]=Xi*Re+ui*hn+xo*Gn,i[4]=Xi*lt+ui*Dn+xo*xr,i[5]=Xi*Ht+ui*Xn+xo*Jr,i[6]=Po*Re+To*hn+Mo*Gn,i[7]=Po*lt+To*Dn+Mo*xr,i[8]=Po*Ht+To*Xn+Mo*Jr,i}function Os(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=p[4],Xn=p[5],Gn=p[6],xr=p[7],Jr=p[8],Zr=W[0],ii=W[1];return i[0]=Re,i[1]=lt,i[2]=Ht,i[3]=hn,i[4]=Dn,i[5]=Xn,i[6]=Zr*Re+ii*hn+Gn,i[7]=Zr*lt+ii*Dn+xr,i[8]=Zr*Ht+ii*Xn+Jr,i}function qo(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=p[4],Xn=p[5],Gn=p[6],xr=p[7],Jr=p[8],Zr=Math.sin(W),ii=Math.cos(W);return i[0]=ii*Re+Zr*hn,i[1]=ii*lt+Zr*Dn,i[2]=ii*Ht+Zr*Xn,i[3]=ii*hn-Zr*Re,i[4]=ii*Dn-Zr*lt,i[5]=ii*Xn-Zr*Ht,i[6]=Gn,i[7]=xr,i[8]=Jr,i}function Hs(i,p,W){const Re=W[0],lt=W[1];return i[0]=Re*p[0],i[1]=Re*p[1],i[2]=Re*p[2],i[3]=lt*p[3],i[4]=lt*p[4],i[5]=lt*p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i}function Fo(i,p){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=p[0],i[7]=p[1],i[8]=1,i}function pa(i,p){const W=Math.sin(p),Re=Math.cos(p);return i[0]=Re,i[1]=W,i[2]=0,i[3]=-W,i[4]=Re,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function oa(i,p){return i[0]=p[0],i[1]=0,i[2]=0,i[3]=0,i[4]=p[1],i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Ds(i,p){return i[0]=p[0],i[1]=p[1],i[2]=0,i[3]=p[2],i[4]=p[3],i[5]=0,i[6]=p[4],i[7]=p[5],i[8]=1,i}function zs(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=W+W,Dn=Re+Re,Xn=lt+lt,Gn=W*hn,xr=Re*hn,Jr=Re*Dn,Zr=lt*hn,ii=lt*Dn,mi=lt*Xn,Xi=Ht*hn,ui=Ht*Dn,xo=Ht*Xn;return i[0]=1-Jr-mi,i[3]=xr-xo,i[6]=Zr+ui,i[1]=xr+xo,i[4]=1-Gn-mi,i[7]=ii-Xi,i[2]=Zr-ui,i[5]=ii+Xi,i[8]=1-Gn-Jr,i}function Ts(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=p[4],Dn=p[5],Xn=p[6],Gn=p[7],xr=p[8],Jr=p[9],Zr=p[10],ii=p[11],mi=p[12],Xi=p[13],ui=p[14],xo=p[15],Po=W*Dn-Re*hn,To=W*Xn-lt*hn,Mo=W*Gn-Ht*hn,Bo=Re*Xn-lt*Dn,Sr=Re*Gn-Ht*Dn,wo=lt*Gn-Ht*Xn,Bs=xr*Xi-Jr*mi,Xs=xr*ui-Zr*mi,uo=xr*xo-ii*mi,ta=Jr*ui-Zr*Xi,aa=Jr*xo-ii*Xi,Us=Zr*xo-ii*ui;let is=Po*Us-To*aa+Mo*ta+Bo*uo-Sr*Xs+wo*Bs;return is?(is=1/is,i[0]=(Dn*Us-Xn*aa+Gn*ta)*is,i[1]=(Xn*uo-hn*Us-Gn*Xs)*is,i[2]=(hn*aa-Dn*uo+Gn*Bs)*is,i[3]=(lt*aa-Re*Us-Ht*ta)*is,i[4]=(W*Us-lt*uo+Ht*Xs)*is,i[5]=(Re*uo-W*aa-Ht*Bs)*is,i[6]=(Xi*wo-ui*Sr+xo*Bo)*is,i[7]=(ui*Mo-mi*wo-xo*To)*is,i[8]=(mi*Sr-Xi*Mo+xo*Po)*is,i):null}function cs(i,p,W){return i[0]=2/p,i[1]=0,i[2]=0,i[3]=0,i[4]=-2/W,i[5]=0,i[6]=-1,i[7]=1,i[8]=1,i}function ua(i){return`mat3(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]}, ${i[4]}, ${i[5]}, ${i[6]}, ${i[7]}, ${i[8]})`}function Jn(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]+i[3]*i[3]+i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]+i[8]*i[8])}function lr(i,p,W){return i[0]=p[0]+W[0],i[1]=p[1]+W[1],i[2]=p[2]+W[2],i[3]=p[3]+W[3],i[4]=p[4]+W[4],i[5]=p[5]+W[5],i[6]=p[6]+W[6],i[7]=p[7]+W[7],i[8]=p[8]+W[8],i}function mr(i,p,W){return i[0]=p[0]-W[0],i[1]=p[1]-W[1],i[2]=p[2]-W[2],i[3]=p[3]-W[3],i[4]=p[4]-W[4],i[5]=p[5]-W[5],i[6]=p[6]-W[6],i[7]=p[7]-W[7],i[8]=p[8]-W[8],i}function Ir(i,p,W){return i[0]=p[0]*W,i[1]=p[1]*W,i[2]=p[2]*W,i[3]=p[3]*W,i[4]=p[4]*W,i[5]=p[5]*W,i[6]=p[6]*W,i[7]=p[7]*W,i[8]=p[8]*W,i}function Ai(i,p,W,Re){return i[0]=p[0]+W[0]*Re,i[1]=p[1]+W[1]*Re,i[2]=p[2]+W[2]*Re,i[3]=p[3]+W[3]*Re,i[4]=p[4]+W[4]*Re,i[5]=p[5]+W[5]*Re,i[6]=p[6]+W[6]*Re,i[7]=p[7]+W[7]*Re,i[8]=p[8]+W[8]*Re,i}function tt(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]&&i[4]===p[4]&&i[5]===p[5]&&i[6]===p[6]&&i[7]===p[7]&&i[8]===p[8]}function gn(i,p){const W=i[0],Re=i[1],lt=i[2],Ht=i[3],hn=i[4],Dn=i[5],Xn=i[6],Gn=i[7],xr=i[8],Jr=p[0],Zr=p[1],ii=p[2],mi=p[3],Xi=p[4],ui=p[5],xo=p[6],Po=p[7],To=p[8];return Math.abs(W-Jr)<=yt*Math.max(1,Math.abs(W),Math.abs(Jr))&&Math.abs(Re-Zr)<=yt*Math.max(1,Math.abs(Re),Math.abs(Zr))&&Math.abs(lt-ii)<=yt*Math.max(1,Math.abs(lt),Math.abs(ii))&&Math.abs(Ht-mi)<=yt*Math.max(1,Math.abs(Ht),Math.abs(mi))&&Math.abs(hn-Xi)<=yt*Math.max(1,Math.abs(hn),Math.abs(Xi))&&Math.abs(Dn-ui)<=yt*Math.max(1,Math.abs(Dn),Math.abs(ui))&&Math.abs(Xn-xo)<=yt*Math.max(1,Math.abs(Xn),Math.abs(xo))&&Math.abs(Gn-Po)<=yt*Math.max(1,Math.abs(Gn),Math.abs(Po))&&Math.abs(xr-To)<=yt*Math.max(1,Math.abs(xr),Math.abs(To))}v(rr,{add:()=>lr,adjoint:()=>ls,clone:()=>gi,copy:()=>Ei,create:()=>sr,determinant:()=>Ls,equals:()=>gn,exactEquals:()=>tt,frob:()=>Jn,fromMat2d:()=>Ds,fromMat4:()=>Lr,fromQuat:()=>zs,fromRotation:()=>pa,fromScaling:()=>oa,fromTranslation:()=>Fo,fromValues:()=>Fi,identity:()=>ho,invert:()=>ko,mul:()=>jt,multiply:()=>ys,multiplyScalar:()=>Ir,multiplyScalarAndAdd:()=>Ai,normalFromMat4:()=>Ts,projection:()=>cs,rotate:()=>qo,scale:()=>Hs,set:()=>Wi,str:()=>ua,sub:()=>cn,subtract:()=>mr,translate:()=>Os,transpose:()=>Bi});var qn,jt=ys,cn=mr,je=function(i){return i[i.COL0ROW0=0]="COL0ROW0",i[i.COL0ROW1=1]="COL0ROW1",i[i.COL0ROW2=2]="COL0ROW2",i[i.COL1ROW0=3]="COL1ROW0",i[i.COL1ROW1=4]="COL1ROW1",i[i.COL1ROW2=5]="COL1ROW2",i[i.COL2ROW0=6]="COL2ROW0",i[i.COL2ROW1=7]="COL2ROW1",i[i.COL2ROW2=8]="COL2ROW2",i}(je||{}),It=Object.freeze([1,0,0,0,1,0,0,0,1]),Qt=class extends Rs{static get IDENTITY(){return function Hr(){return hr||(hr=new Qt,Object.freeze(hr)),hr}()}static get ZERO(){return function yr(){return qn||(qn=new Qt([0,0,0,0,0,0,0,0,0]),Object.freeze(qn)),qn}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return je}constructor(i,...p){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(i)?this.copy(i):p.length>0?this.copy([i,...p]):this.identity()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this[4]=i[4],this[5]=i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this.check()}identity(){return this.copy(It)}fromObject(i){return this.check()}fromQuaternion(i){return zs(this,i),this.check()}set(i,p,W,Re,lt,Ht,hn,Dn,Xn){return this[0]=i,this[1]=p,this[2]=W,this[3]=Re,this[4]=lt,this[5]=Ht,this[6]=hn,this[7]=Dn,this[8]=Xn,this.check()}setRowMajor(i,p,W,Re,lt,Ht,hn,Dn,Xn){return this[0]=i,this[1]=Re,this[2]=hn,this[3]=p,this[4]=lt,this[5]=Dn,this[6]=W,this[7]=Ht,this[8]=Xn,this.check()}determinant(){return Ls(this)}transpose(){return Bi(this,this),this.check()}invert(){return ko(this,this),this.check()}multiplyLeft(i){return ys(this,i,this),this.check()}multiplyRight(i){return ys(this,this,i),this.check()}rotate(i){return qo(this,this,i),this.check()}scale(i){return Array.isArray(i)?Hs(this,this,i):Hs(this,this,[i,i]),this.check()}translate(i){return Os(this,this,i),this.check()}transform(i,p){let W;switch(i.length){case 2:W=Zt(p||[-0,-0],i,this);break;case 3:W=Co(p||[-0,-0,-0],i,this);break;case 4:W=Pn(p||[-0,-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return fe(W,i.length),W}transformVector(i,p){return this.transform(i,p)}transformVector2(i,p){return this.transform(i,p)}transformVector3(i,p){return this.transform(i,p)}},hr=null,jr={};function oi(){const i=new qt(16);return qt!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i}function qr(i){const p=new qt(16);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p[4]=i[4],p[5]=i[5],p[6]=i[6],p[7]=i[7],p[8]=i[8],p[9]=i[9],p[10]=i[10],p[11]=i[11],p[12]=i[12],p[13]=i[13],p[14]=i[14],p[15]=i[15],p}function Ui(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[8]=p[8],i[9]=p[9],i[10]=p[10],i[11]=p[11],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15],i}function co(i,p,W,Re,lt,Ht,hn,Dn,Xn,Gn,xr,Jr,Zr,ii,mi,Xi){const ui=new qt(16);return ui[0]=i,ui[1]=p,ui[2]=W,ui[3]=Re,ui[4]=lt,ui[5]=Ht,ui[6]=hn,ui[7]=Dn,ui[8]=Xn,ui[9]=Gn,ui[10]=xr,ui[11]=Jr,ui[12]=Zr,ui[13]=ii,ui[14]=mi,ui[15]=Xi,ui}function Ro(i,p,W,Re,lt,Ht,hn,Dn,Xn,Gn,xr,Jr,Zr,ii,mi,Xi,ui){return i[0]=p,i[1]=W,i[2]=Re,i[3]=lt,i[4]=Ht,i[5]=hn,i[6]=Dn,i[7]=Xn,i[8]=Gn,i[9]=xr,i[10]=Jr,i[11]=Zr,i[12]=ii,i[13]=mi,i[14]=Xi,i[15]=ui,i}function mo(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function nt(i,p){if(i===p){const W=p[1],Re=p[2],lt=p[3],Ht=p[6],hn=p[7],Dn=p[11];i[1]=p[4],i[2]=p[8],i[3]=p[12],i[4]=W,i[6]=p[9],i[7]=p[13],i[8]=Re,i[9]=Ht,i[11]=p[14],i[12]=lt,i[13]=hn,i[14]=Dn}else i[0]=p[0],i[1]=p[4],i[2]=p[8],i[3]=p[12],i[4]=p[1],i[5]=p[5],i[6]=p[9],i[7]=p[13],i[8]=p[2],i[9]=p[6],i[10]=p[10],i[11]=p[14],i[12]=p[3],i[13]=p[7],i[14]=p[11],i[15]=p[15];return i}function $e(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=p[4],Dn=p[5],Xn=p[6],Gn=p[7],xr=p[8],Jr=p[9],Zr=p[10],ii=p[11],mi=p[12],Xi=p[13],ui=p[14],xo=p[15],Po=W*Dn-Re*hn,To=W*Xn-lt*hn,Mo=W*Gn-Ht*hn,Bo=Re*Xn-lt*Dn,Sr=Re*Gn-Ht*Dn,wo=lt*Gn-Ht*Xn,Bs=xr*Xi-Jr*mi,Xs=xr*ui-Zr*mi,uo=xr*xo-ii*mi,ta=Jr*ui-Zr*Xi,aa=Jr*xo-ii*Xi,Us=Zr*xo-ii*ui;let is=Po*Us-To*aa+Mo*ta+Bo*uo-Sr*Xs+wo*Bs;return is?(is=1/is,i[0]=(Dn*Us-Xn*aa+Gn*ta)*is,i[1]=(lt*aa-Re*Us-Ht*ta)*is,i[2]=(Xi*wo-ui*Sr+xo*Bo)*is,i[3]=(Zr*Sr-Jr*wo-ii*Bo)*is,i[4]=(Xn*uo-hn*Us-Gn*Xs)*is,i[5]=(W*Us-lt*uo+Ht*Xs)*is,i[6]=(ui*Mo-mi*wo-xo*To)*is,i[7]=(xr*wo-Zr*Mo+ii*To)*is,i[8]=(hn*aa-Dn*uo+Gn*Bs)*is,i[9]=(Re*uo-W*aa-Ht*Bs)*is,i[10]=(mi*Sr-Xi*Mo+xo*Po)*is,i[11]=(Jr*Mo-xr*Sr-ii*Po)*is,i[12]=(Dn*Xs-hn*ta-Xn*Bs)*is,i[13]=(W*ta-Re*Xs+lt*Bs)*is,i[14]=(Xi*To-mi*Bo-ui*Po)*is,i[15]=(xr*Bo-Jr*To+Zr*Po)*is,i):null}function an(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=p[4],Dn=p[5],Xn=p[6],Gn=p[7],xr=p[8],Jr=p[9],Zr=p[10],ii=p[11],mi=p[12],Xi=p[13],ui=p[14],xo=p[15],Po=W*Dn-Re*hn,To=W*Xn-lt*hn,Mo=W*Gn-Ht*hn,Bo=Re*Xn-lt*Dn,Sr=Re*Gn-Ht*Dn,wo=lt*Gn-Ht*Xn,Bs=xr*Xi-Jr*mi,Xs=xr*ui-Zr*mi,uo=xr*xo-ii*mi,ta=Jr*ui-Zr*Xi,aa=Jr*xo-ii*Xi,Us=Zr*xo-ii*ui;return i[0]=Dn*Us-Xn*aa+Gn*ta,i[1]=lt*aa-Re*Us-Ht*ta,i[2]=Xi*wo-ui*Sr+xo*Bo,i[3]=Zr*Sr-Jr*wo-ii*Bo,i[4]=Xn*uo-hn*Us-Gn*Xs,i[5]=W*Us-lt*uo+Ht*Xs,i[6]=ui*Mo-mi*wo-xo*To,i[7]=xr*wo-Zr*Mo+ii*To,i[8]=hn*aa-Dn*uo+Gn*Bs,i[9]=Re*uo-W*aa-Ht*Bs,i[10]=mi*Sr-Xi*Mo+xo*Po,i[11]=Jr*Mo-xr*Sr-ii*Po,i[12]=Dn*Xs-hn*ta-Xn*Bs,i[13]=W*ta-Re*Xs+lt*Bs,i[14]=Xi*To-mi*Bo-ui*Po,i[15]=xr*Bo-Jr*To+Zr*Po,i}function at(i){const p=i[0],W=i[1],Re=i[2],Ht=i[4],hn=i[5],Dn=i[6],Gn=i[8],xr=i[9],Jr=i[10],ii=i[12],mi=i[13],Xi=i[14],xo=p*hn-W*Ht,Po=p*Dn-Re*Ht,To=W*Dn-Re*hn,Mo=Gn*mi-xr*ii,Bo=Gn*Xi-Jr*ii,Sr=xr*Xi-Jr*mi;return i[7]*(p*Sr-W*Bo+Re*Mo)-i[3]*(Ht*Sr-hn*Bo+Dn*Mo)+i[15]*(Gn*To-xr*Po+Jr*xo)-i[11]*(ii*To-mi*Po+Xi*xo)}function de(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=p[4],Xn=p[5],Gn=p[6],xr=p[7],Jr=p[8],Zr=p[9],ii=p[10],mi=p[11],Xi=p[12],ui=p[13],xo=p[14],Po=p[15];let To=W[0],Mo=W[1],Bo=W[2],Sr=W[3];return i[0]=To*Re+Mo*Dn+Bo*Jr+Sr*Xi,i[1]=To*lt+Mo*Xn+Bo*Zr+Sr*ui,i[2]=To*Ht+Mo*Gn+Bo*ii+Sr*xo,i[3]=To*hn+Mo*xr+Bo*mi+Sr*Po,To=W[4],Mo=W[5],Bo=W[6],Sr=W[7],i[4]=To*Re+Mo*Dn+Bo*Jr+Sr*Xi,i[5]=To*lt+Mo*Xn+Bo*Zr+Sr*ui,i[6]=To*Ht+Mo*Gn+Bo*ii+Sr*xo,i[7]=To*hn+Mo*xr+Bo*mi+Sr*Po,To=W[8],Mo=W[9],Bo=W[10],Sr=W[11],i[8]=To*Re+Mo*Dn+Bo*Jr+Sr*Xi,i[9]=To*lt+Mo*Xn+Bo*Zr+Sr*ui,i[10]=To*Ht+Mo*Gn+Bo*ii+Sr*xo,i[11]=To*hn+Mo*xr+Bo*mi+Sr*Po,To=W[12],Mo=W[13],Bo=W[14],Sr=W[15],i[12]=To*Re+Mo*Dn+Bo*Jr+Sr*Xi,i[13]=To*lt+Mo*Xn+Bo*Zr+Sr*ui,i[14]=To*Ht+Mo*Gn+Bo*ii+Sr*xo,i[15]=To*hn+Mo*xr+Bo*mi+Sr*Po,i}function Et(i,p,W){const Re=W[0],lt=W[1],Ht=W[2];let hn,Dn,Xn,Gn,xr,Jr,Zr,ii,mi,Xi,ui,xo;return p===i?(i[12]=p[0]*Re+p[4]*lt+p[8]*Ht+p[12],i[13]=p[1]*Re+p[5]*lt+p[9]*Ht+p[13],i[14]=p[2]*Re+p[6]*lt+p[10]*Ht+p[14],i[15]=p[3]*Re+p[7]*lt+p[11]*Ht+p[15]):(hn=p[0],Dn=p[1],Xn=p[2],Gn=p[3],xr=p[4],Jr=p[5],Zr=p[6],ii=p[7],mi=p[8],Xi=p[9],ui=p[10],xo=p[11],i[0]=hn,i[1]=Dn,i[2]=Xn,i[3]=Gn,i[4]=xr,i[5]=Jr,i[6]=Zr,i[7]=ii,i[8]=mi,i[9]=Xi,i[10]=ui,i[11]=xo,i[12]=hn*Re+xr*lt+mi*Ht+p[12],i[13]=Dn*Re+Jr*lt+Xi*Ht+p[13],i[14]=Xn*Re+Zr*lt+ui*Ht+p[14],i[15]=Gn*Re+ii*lt+xo*Ht+p[15]),i}function on(i,p,W){const Re=W[0],lt=W[1],Ht=W[2];return i[0]=p[0]*Re,i[1]=p[1]*Re,i[2]=p[2]*Re,i[3]=p[3]*Re,i[4]=p[4]*lt,i[5]=p[5]*lt,i[6]=p[6]*lt,i[7]=p[7]*lt,i[8]=p[8]*Ht,i[9]=p[9]*Ht,i[10]=p[10]*Ht,i[11]=p[11]*Ht,i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15],i}function Kn(i,p,W,Re){let Xn,Gn,xr,Jr,Zr,ii,mi,Xi,ui,xo,Po,To,Mo,Bo,Sr,wo,Bs,Xs,uo,ta,aa,Us,is,rl,lt=Re[0],Ht=Re[1],hn=Re[2],Dn=Math.sqrt(lt*lt+Ht*Ht+hn*hn);return Dn<yt?null:(Dn=1/Dn,lt*=Dn,Ht*=Dn,hn*=Dn,Gn=Math.sin(W),Xn=Math.cos(W),xr=1-Xn,Jr=p[0],Zr=p[1],ii=p[2],mi=p[3],Xi=p[4],ui=p[5],xo=p[6],Po=p[7],To=p[8],Mo=p[9],Bo=p[10],Sr=p[11],wo=lt*lt*xr+Xn,Bs=Ht*lt*xr+hn*Gn,Xs=hn*lt*xr-Ht*Gn,uo=lt*Ht*xr-hn*Gn,ta=Ht*Ht*xr+Xn,aa=hn*Ht*xr+lt*Gn,Us=lt*hn*xr+Ht*Gn,is=Ht*hn*xr-lt*Gn,rl=hn*hn*xr+Xn,i[0]=Jr*wo+Xi*Bs+To*Xs,i[1]=Zr*wo+ui*Bs+Mo*Xs,i[2]=ii*wo+xo*Bs+Bo*Xs,i[3]=mi*wo+Po*Bs+Sr*Xs,i[4]=Jr*uo+Xi*ta+To*aa,i[5]=Zr*uo+ui*ta+Mo*aa,i[6]=ii*uo+xo*ta+Bo*aa,i[7]=mi*uo+Po*ta+Sr*aa,i[8]=Jr*Us+Xi*is+To*rl,i[9]=Zr*Us+ui*is+Mo*rl,i[10]=ii*Us+xo*is+Bo*rl,i[11]=mi*Us+Po*is+Sr*rl,p!==i&&(i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i)}function ht(i,p,W){const Re=Math.sin(W),lt=Math.cos(W),Ht=p[4],hn=p[5],Dn=p[6],Xn=p[7],Gn=p[8],xr=p[9],Jr=p[10],Zr=p[11];return p!==i&&(i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[4]=Ht*lt+Gn*Re,i[5]=hn*lt+xr*Re,i[6]=Dn*lt+Jr*Re,i[7]=Xn*lt+Zr*Re,i[8]=Gn*lt-Ht*Re,i[9]=xr*lt-hn*Re,i[10]=Jr*lt-Dn*Re,i[11]=Zr*lt-Xn*Re,i}function $(i,p,W){const Re=Math.sin(W),lt=Math.cos(W),Ht=p[0],hn=p[1],Dn=p[2],Xn=p[3],Gn=p[8],xr=p[9],Jr=p[10],Zr=p[11];return p!==i&&(i[4]=p[4],i[5]=p[5],i[6]=p[6],i[7]=p[7],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[0]=Ht*lt-Gn*Re,i[1]=hn*lt-xr*Re,i[2]=Dn*lt-Jr*Re,i[3]=Xn*lt-Zr*Re,i[8]=Ht*Re+Gn*lt,i[9]=hn*Re+xr*lt,i[10]=Dn*Re+Jr*lt,i[11]=Xn*Re+Zr*lt,i}function ge(i,p,W){const Re=Math.sin(W),lt=Math.cos(W),Ht=p[0],hn=p[1],Dn=p[2],Xn=p[3],Gn=p[4],xr=p[5],Jr=p[6],Zr=p[7];return p!==i&&(i[8]=p[8],i[9]=p[9],i[10]=p[10],i[11]=p[11],i[12]=p[12],i[13]=p[13],i[14]=p[14],i[15]=p[15]),i[0]=Ht*lt+Gn*Re,i[1]=hn*lt+xr*Re,i[2]=Dn*lt+Jr*Re,i[3]=Xn*lt+Zr*Re,i[4]=Gn*lt-Ht*Re,i[5]=xr*lt-hn*Re,i[6]=Jr*lt-Dn*Re,i[7]=Zr*lt-Xn*Re,i}function He(i,p){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=p[0],i[13]=p[1],i[14]=p[2],i[15]=1,i}function Vt(i,p){return i[0]=p[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=p[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=p[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function wn(i,p,W){let Dn,Xn,Gn,Re=W[0],lt=W[1],Ht=W[2],hn=Math.sqrt(Re*Re+lt*lt+Ht*Ht);return hn<yt?null:(hn=1/hn,Re*=hn,lt*=hn,Ht*=hn,Xn=Math.sin(p),Dn=Math.cos(p),Gn=1-Dn,i[0]=Re*Re*Gn+Dn,i[1]=lt*Re*Gn+Ht*Xn,i[2]=Ht*Re*Gn-lt*Xn,i[3]=0,i[4]=Re*lt*Gn-Ht*Xn,i[5]=lt*lt*Gn+Dn,i[6]=Ht*lt*Gn+Re*Xn,i[7]=0,i[8]=Re*Ht*Gn+lt*Xn,i[9]=lt*Ht*Gn-Re*Xn,i[10]=Ht*Ht*Gn+Dn,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}function Wn(i,p){const W=Math.sin(p),Re=Math.cos(p);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Re,i[6]=W,i[7]=0,i[8]=0,i[9]=-W,i[10]=Re,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function fr(i,p){const W=Math.sin(p),Re=Math.cos(p);return i[0]=Re,i[1]=0,i[2]=-W,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=W,i[9]=0,i[10]=Re,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Ur(i,p){const W=Math.sin(p),Re=Math.cos(p);return i[0]=Re,i[1]=W,i[2]=0,i[3]=0,i[4]=-W,i[5]=Re,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ni(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=Re+Re,Xn=lt+lt,Gn=Ht+Ht,xr=Re*Dn,Jr=Re*Xn,Zr=Re*Gn,ii=lt*Xn,mi=lt*Gn,Xi=Ht*Gn,ui=hn*Dn,xo=hn*Xn,Po=hn*Gn;return i[0]=1-(ii+Xi),i[1]=Jr+Po,i[2]=Zr-xo,i[3]=0,i[4]=Jr-Po,i[5]=1-(xr+Xi),i[6]=mi+ui,i[7]=0,i[8]=Zr+xo,i[9]=mi-ui,i[10]=1-(xr+ii),i[11]=0,i[12]=W[0],i[13]=W[1],i[14]=W[2],i[15]=1,i}function ri(i,p){const W=new qt(3),Re=-p[0],lt=-p[1],Ht=-p[2],hn=p[3],Dn=p[4],Xn=p[5],Gn=p[6],xr=p[7],Jr=Re*Re+lt*lt+Ht*Ht+hn*hn;return Jr>0?(W[0]=2*(Dn*hn+xr*Re+Xn*Ht-Gn*lt)/Jr,W[1]=2*(Xn*hn+xr*lt+Gn*Re-Dn*Ht)/Jr,W[2]=2*(Gn*hn+xr*Ht+Dn*lt-Xn*Re)/Jr):(W[0]=2*(Dn*hn+xr*Re+Xn*Ht-Gn*lt),W[1]=2*(Xn*hn+xr*lt+Gn*Re-Dn*Ht),W[2]=2*(Gn*hn+xr*Ht+Dn*lt-Xn*Re)),ni(i,p,W),i}function Br(i,p){return i[0]=p[12],i[1]=p[13],i[2]=p[14],i}function hi(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[4],hn=p[5],Dn=p[6],Xn=p[8],Gn=p[9],xr=p[10];return i[0]=Math.sqrt(W*W+Re*Re+lt*lt),i[1]=Math.sqrt(Ht*Ht+hn*hn+Dn*Dn),i[2]=Math.sqrt(Xn*Xn+Gn*Gn+xr*xr),i}function zi(i,p){const W=new qt(3);hi(W,p);const Re=1/W[0],lt=1/W[1],Ht=1/W[2],hn=p[0]*Re,Dn=p[1]*lt,Xn=p[2]*Ht,Gn=p[4]*Re,xr=p[5]*lt,Jr=p[6]*Ht,Zr=p[8]*Re,ii=p[9]*lt,mi=p[10]*Ht,Xi=hn+xr+mi;let ui=0;return Xi>0?(ui=2*Math.sqrt(Xi+1),i[3]=.25*ui,i[0]=(Jr-ii)/ui,i[1]=(Zr-Xn)/ui,i[2]=(Dn-Gn)/ui):hn>xr&&hn>mi?(ui=2*Math.sqrt(1+hn-xr-mi),i[3]=(Jr-ii)/ui,i[0]=.25*ui,i[1]=(Dn+Gn)/ui,i[2]=(Zr+Xn)/ui):xr>mi?(ui=2*Math.sqrt(1+xr-hn-mi),i[3]=(Zr-Xn)/ui,i[0]=(Dn+Gn)/ui,i[1]=.25*ui,i[2]=(Jr+ii)/ui):(ui=2*Math.sqrt(1+mi-hn-xr),i[3]=(Dn-Gn)/ui,i[0]=(Zr+Xn)/ui,i[1]=(Jr+ii)/ui,i[2]=.25*ui),i}function Ii(i,p,W,Re){p[0]=Re[12],p[1]=Re[13],p[2]=Re[14];const lt=Re[0],Ht=Re[1],hn=Re[2],Dn=Re[4],Xn=Re[5],Gn=Re[6],xr=Re[8],Jr=Re[9],Zr=Re[10];W[0]=Math.sqrt(lt*lt+Ht*Ht+hn*hn),W[1]=Math.sqrt(Dn*Dn+Xn*Xn+Gn*Gn),W[2]=Math.sqrt(xr*xr+Jr*Jr+Zr*Zr);const ii=1/W[0],mi=1/W[1],Xi=1/W[2],ui=lt*ii,xo=Ht*mi,Po=hn*Xi,To=Dn*ii,Mo=Xn*mi,Bo=Gn*Xi,Sr=xr*ii,wo=Jr*mi,Bs=Zr*Xi,Xs=ui+Mo+Bs;let uo=0;return Xs>0?(uo=2*Math.sqrt(Xs+1),i[3]=.25*uo,i[0]=(Bo-wo)/uo,i[1]=(Sr-Po)/uo,i[2]=(xo-To)/uo):ui>Mo&&ui>Bs?(uo=2*Math.sqrt(1+ui-Mo-Bs),i[3]=(Bo-wo)/uo,i[0]=.25*uo,i[1]=(xo+To)/uo,i[2]=(Sr+Po)/uo):Mo>Bs?(uo=2*Math.sqrt(1+Mo-ui-Bs),i[3]=(Sr-Po)/uo,i[0]=(xo+To)/uo,i[1]=.25*uo,i[2]=(Bo+wo)/uo):(uo=2*Math.sqrt(1+Bs-ui-Mo),i[3]=(xo-To)/uo,i[0]=(Sr+Po)/uo,i[1]=(Bo+wo)/uo,i[2]=.25*uo),i}function pe(i,p,W,Re){const lt=p[0],Ht=p[1],hn=p[2],Dn=p[3],Xn=lt+lt,Gn=Ht+Ht,xr=hn+hn,Jr=lt*Xn,Zr=lt*Gn,ii=lt*xr,mi=Ht*Gn,Xi=Ht*xr,ui=hn*xr,xo=Dn*Xn,Po=Dn*Gn,To=Dn*xr,Mo=Re[0],Bo=Re[1],Sr=Re[2];return i[0]=(1-(mi+ui))*Mo,i[1]=(Zr+To)*Mo,i[2]=(ii-Po)*Mo,i[3]=0,i[4]=(Zr-To)*Bo,i[5]=(1-(Jr+ui))*Bo,i[6]=(Xi+xo)*Bo,i[7]=0,i[8]=(ii+Po)*Sr,i[9]=(Xi-xo)*Sr,i[10]=(1-(Jr+mi))*Sr,i[11]=0,i[12]=W[0],i[13]=W[1],i[14]=W[2],i[15]=1,i}function oe(i,p,W,Re,lt){const Ht=p[0],hn=p[1],Dn=p[2],Xn=p[3],Gn=Ht+Ht,xr=hn+hn,Jr=Dn+Dn,Zr=Ht*Gn,ii=Ht*xr,mi=Ht*Jr,Xi=hn*xr,ui=hn*Jr,xo=Dn*Jr,Po=Xn*Gn,To=Xn*xr,Mo=Xn*Jr,Bo=Re[0],Sr=Re[1],wo=Re[2],Bs=lt[0],Xs=lt[1],uo=lt[2],ta=(1-(Xi+xo))*Bo,aa=(ii+Mo)*Bo,Us=(mi-To)*Bo,is=(ii-Mo)*Sr,rl=(1-(Zr+xo))*Sr,lu=(ui+Po)*Sr,qc=(mi+To)*wo,Ss=(ui-Po)*wo,Ya=(1-(Zr+Xi))*wo;return i[0]=ta,i[1]=aa,i[2]=Us,i[3]=0,i[4]=is,i[5]=rl,i[6]=lu,i[7]=0,i[8]=qc,i[9]=Ss,i[10]=Ya,i[11]=0,i[12]=W[0]+Bs-(ta*Bs+is*Xs+qc*uo),i[13]=W[1]+Xs-(aa*Bs+rl*Xs+Ss*uo),i[14]=W[2]+uo-(Us*Bs+lu*Xs+Ya*uo),i[15]=1,i}function Ue(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=W+W,Dn=Re+Re,Xn=lt+lt,Gn=W*hn,xr=Re*hn,Jr=Re*Dn,Zr=lt*hn,ii=lt*Dn,mi=lt*Xn,Xi=Ht*hn,ui=Ht*Dn,xo=Ht*Xn;return i[0]=1-Jr-mi,i[1]=xr+xo,i[2]=Zr-ui,i[3]=0,i[4]=xr-xo,i[5]=1-Gn-mi,i[6]=ii+Xi,i[7]=0,i[8]=Zr+ui,i[9]=ii-Xi,i[10]=1-Gn-Jr,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function gt(i,p,W,Re,lt,Ht,hn){const Dn=1/(W-p),Xn=1/(lt-Re),Gn=1/(Ht-hn);return i[0]=2*Ht*Dn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*Ht*Xn,i[6]=0,i[7]=0,i[8]=(W+p)*Dn,i[9]=(lt+Re)*Xn,i[10]=(hn+Ht)*Gn,i[11]=-1,i[12]=0,i[13]=0,i[14]=hn*Ht*2*Gn,i[15]=0,i}function Rt(i,p,W,Re,lt){const Ht=1/Math.tan(p/2);if(i[0]=Ht/W,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Ht,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=lt&&lt!==1/0){const hn=1/(Re-lt);i[10]=(lt+Re)*hn,i[14]=2*lt*Re*hn}else i[10]=-1,i[14]=-2*Re;return i}v(jr,{add:()=>Un,adjoint:()=>an,clone:()=>qr,copy:()=>Ui,create:()=>oi,decompose:()=>Ii,determinant:()=>at,equals:()=>si,exactEquals:()=>zr,frob:()=>Ni,fromQuat:()=>Ue,fromQuat2:()=>ri,fromRotation:()=>wn,fromRotationTranslation:()=>ni,fromRotationTranslationScale:()=>pe,fromRotationTranslationScaleOrigin:()=>oe,fromScaling:()=>Vt,fromTranslation:()=>He,fromValues:()=>co,fromXRotation:()=>Wn,fromYRotation:()=>fr,fromZRotation:()=>Ur,frustum:()=>gt,getRotation:()=>zi,getScaling:()=>hi,getTranslation:()=>Br,identity:()=>mo,invert:()=>$e,lookAt:()=>Gr,mul:()=>Vi,multiply:()=>de,multiplyScalar:()=>Sn,multiplyScalarAndAdd:()=>er,ortho:()=>Rr,orthoNO:()=>or,orthoZO:()=>Cr,perspective:()=>dn,perspectiveFromFieldOfView:()=>ar,perspectiveNO:()=>Rt,perspectiveZO:()=>Rn,rotate:()=>Kn,rotateX:()=>ht,rotateY:()=>$,rotateZ:()=>ge,scale:()=>on,set:()=>Ro,str:()=>pi,sub:()=>ki,subtract:()=>pr,targetTo:()=>Nr,translate:()=>Et,transpose:()=>nt});var dn=Rt;function Rn(i,p,W,Re,lt){const Ht=1/Math.tan(p/2);if(i[0]=Ht/W,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Ht,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=lt&&lt!==1/0){const hn=1/(Re-lt);i[10]=lt*hn,i[14]=lt*Re*hn}else i[10]=-1,i[14]=-Re;return i}function ar(i,p,W,Re){const lt=Math.tan(p.upDegrees*Math.PI/180),Ht=Math.tan(p.downDegrees*Math.PI/180),hn=Math.tan(p.leftDegrees*Math.PI/180),Dn=Math.tan(p.rightDegrees*Math.PI/180),Xn=2/(hn+Dn),Gn=2/(lt+Ht);return i[0]=Xn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Gn,i[6]=0,i[7]=0,i[8]=-(hn-Dn)*Xn*.5,i[9]=(lt-Ht)*Gn*.5,i[10]=Re/(W-Re),i[11]=-1,i[12]=0,i[13]=0,i[14]=Re*W/(W-Re),i[15]=0,i}function or(i,p,W,Re,lt,Ht,hn){const Dn=1/(p-W),Xn=1/(Re-lt),Gn=1/(Ht-hn);return i[0]=-2*Dn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*Xn,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*Gn,i[11]=0,i[12]=(p+W)*Dn,i[13]=(lt+Re)*Xn,i[14]=(hn+Ht)*Gn,i[15]=1,i}var Rr=or;function Cr(i,p,W,Re,lt,Ht,hn){const Dn=1/(p-W),Xn=1/(Re-lt),Gn=1/(Ht-hn);return i[0]=-2*Dn,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*Xn,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=Gn,i[11]=0,i[12]=(p+W)*Dn,i[13]=(lt+Re)*Xn,i[14]=Ht*Gn,i[15]=1,i}function Gr(i,p,W,Re){let lt,Ht,hn,Dn,Xn,Gn,xr,Jr,Zr,ii;const mi=p[0],Xi=p[1],ui=p[2],xo=Re[0],Po=Re[1],To=Re[2],Mo=W[0],Bo=W[1],Sr=W[2];return Math.abs(mi-Mo)<yt&&Math.abs(Xi-Bo)<yt&&Math.abs(ui-Sr)<yt?mo(i):(Jr=mi-Mo,Zr=Xi-Bo,ii=ui-Sr,lt=1/Math.sqrt(Jr*Jr+Zr*Zr+ii*ii),Jr*=lt,Zr*=lt,ii*=lt,Ht=Po*ii-To*Zr,hn=To*Jr-xo*ii,Dn=xo*Zr-Po*Jr,lt=Math.sqrt(Ht*Ht+hn*hn+Dn*Dn),lt?(lt=1/lt,Ht*=lt,hn*=lt,Dn*=lt):(Ht=0,hn=0,Dn=0),Xn=Zr*Dn-ii*hn,Gn=ii*Ht-Jr*Dn,xr=Jr*hn-Zr*Ht,lt=Math.sqrt(Xn*Xn+Gn*Gn+xr*xr),lt?(lt=1/lt,Xn*=lt,Gn*=lt,xr*=lt):(Xn=0,Gn=0,xr=0),i[0]=Ht,i[1]=Xn,i[2]=Jr,i[3]=0,i[4]=hn,i[5]=Gn,i[6]=Zr,i[7]=0,i[8]=Dn,i[9]=xr,i[10]=ii,i[11]=0,i[12]=-(Ht*mi+hn*Xi+Dn*ui),i[13]=-(Xn*mi+Gn*Xi+xr*ui),i[14]=-(Jr*mi+Zr*Xi+ii*ui),i[15]=1,i)}function Nr(i,p,W,Re){const lt=p[0],Ht=p[1],hn=p[2],Dn=Re[0],Xn=Re[1],Gn=Re[2];let xr=lt-W[0],Jr=Ht-W[1],Zr=hn-W[2],ii=xr*xr+Jr*Jr+Zr*Zr;ii>0&&(ii=1/Math.sqrt(ii),xr*=ii,Jr*=ii,Zr*=ii);let mi=Xn*Zr-Gn*Jr,Xi=Gn*xr-Dn*Zr,ui=Dn*Jr-Xn*xr;return ii=mi*mi+Xi*Xi+ui*ui,ii>0&&(ii=1/Math.sqrt(ii),mi*=ii,Xi*=ii,ui*=ii),i[0]=mi,i[1]=Xi,i[2]=ui,i[3]=0,i[4]=Jr*ui-Zr*Xi,i[5]=Zr*mi-xr*ui,i[6]=xr*Xi-Jr*mi,i[7]=0,i[8]=xr,i[9]=Jr,i[10]=Zr,i[11]=0,i[12]=lt,i[13]=Ht,i[14]=hn,i[15]=1,i}function pi(i){return`mat4(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]}, ${i[4]}, ${i[5]}, ${i[6]}, ${i[7]}, ${i[8]}, ${i[9]}, ${i[10]}, ${i[11]}, ${i[12]}, ${i[13]}, ${i[14]}, ${i[15]})`}function Ni(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]+i[3]*i[3]+i[4]*i[4]+i[5]*i[5]+i[6]*i[6]+i[7]*i[7]+i[8]*i[8]+i[9]*i[9]+i[10]*i[10]+i[11]*i[11]+i[12]*i[12]+i[13]*i[13]+i[14]*i[14]+i[15]*i[15])}function Un(i,p,W){return i[0]=p[0]+W[0],i[1]=p[1]+W[1],i[2]=p[2]+W[2],i[3]=p[3]+W[3],i[4]=p[4]+W[4],i[5]=p[5]+W[5],i[6]=p[6]+W[6],i[7]=p[7]+W[7],i[8]=p[8]+W[8],i[9]=p[9]+W[9],i[10]=p[10]+W[10],i[11]=p[11]+W[11],i[12]=p[12]+W[12],i[13]=p[13]+W[13],i[14]=p[14]+W[14],i[15]=p[15]+W[15],i}function pr(i,p,W){return i[0]=p[0]-W[0],i[1]=p[1]-W[1],i[2]=p[2]-W[2],i[3]=p[3]-W[3],i[4]=p[4]-W[4],i[5]=p[5]-W[5],i[6]=p[6]-W[6],i[7]=p[7]-W[7],i[8]=p[8]-W[8],i[9]=p[9]-W[9],i[10]=p[10]-W[10],i[11]=p[11]-W[11],i[12]=p[12]-W[12],i[13]=p[13]-W[13],i[14]=p[14]-W[14],i[15]=p[15]-W[15],i}function Sn(i,p,W){return i[0]=p[0]*W,i[1]=p[1]*W,i[2]=p[2]*W,i[3]=p[3]*W,i[4]=p[4]*W,i[5]=p[5]*W,i[6]=p[6]*W,i[7]=p[7]*W,i[8]=p[8]*W,i[9]=p[9]*W,i[10]=p[10]*W,i[11]=p[11]*W,i[12]=p[12]*W,i[13]=p[13]*W,i[14]=p[14]*W,i[15]=p[15]*W,i}function er(i,p,W,Re){return i[0]=p[0]+W[0]*Re,i[1]=p[1]+W[1]*Re,i[2]=p[2]+W[2]*Re,i[3]=p[3]+W[3]*Re,i[4]=p[4]+W[4]*Re,i[5]=p[5]+W[5]*Re,i[6]=p[6]+W[6]*Re,i[7]=p[7]+W[7]*Re,i[8]=p[8]+W[8]*Re,i[9]=p[9]+W[9]*Re,i[10]=p[10]+W[10]*Re,i[11]=p[11]+W[11]*Re,i[12]=p[12]+W[12]*Re,i[13]=p[13]+W[13]*Re,i[14]=p[14]+W[14]*Re,i[15]=p[15]+W[15]*Re,i}function zr(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]&&i[4]===p[4]&&i[5]===p[5]&&i[6]===p[6]&&i[7]===p[7]&&i[8]===p[8]&&i[9]===p[9]&&i[10]===p[10]&&i[11]===p[11]&&i[12]===p[12]&&i[13]===p[13]&&i[14]===p[14]&&i[15]===p[15]}function si(i,p){const W=i[0],Re=i[1],lt=i[2],Ht=i[3],hn=i[4],Dn=i[5],Xn=i[6],Gn=i[7],xr=i[8],Jr=i[9],Zr=i[10],ii=i[11],mi=i[12],Xi=i[13],ui=i[14],xo=i[15],Po=p[0],To=p[1],Mo=p[2],Bo=p[3],Sr=p[4],wo=p[5],Bs=p[6],Xs=p[7],uo=p[8],ta=p[9],aa=p[10],Us=p[11],is=p[12],rl=p[13],lu=p[14],qc=p[15];return Math.abs(W-Po)<=yt*Math.max(1,Math.abs(W),Math.abs(Po))&&Math.abs(Re-To)<=yt*Math.max(1,Math.abs(Re),Math.abs(To))&&Math.abs(lt-Mo)<=yt*Math.max(1,Math.abs(lt),Math.abs(Mo))&&Math.abs(Ht-Bo)<=yt*Math.max(1,Math.abs(Ht),Math.abs(Bo))&&Math.abs(hn-Sr)<=yt*Math.max(1,Math.abs(hn),Math.abs(Sr))&&Math.abs(Dn-wo)<=yt*Math.max(1,Math.abs(Dn),Math.abs(wo))&&Math.abs(Xn-Bs)<=yt*Math.max(1,Math.abs(Xn),Math.abs(Bs))&&Math.abs(Gn-Xs)<=yt*Math.max(1,Math.abs(Gn),Math.abs(Xs))&&Math.abs(xr-uo)<=yt*Math.max(1,Math.abs(xr),Math.abs(uo))&&Math.abs(Jr-ta)<=yt*Math.max(1,Math.abs(Jr),Math.abs(ta))&&Math.abs(Zr-aa)<=yt*Math.max(1,Math.abs(Zr),Math.abs(aa))&&Math.abs(ii-Us)<=yt*Math.max(1,Math.abs(ii),Math.abs(Us))&&Math.abs(mi-is)<=yt*Math.max(1,Math.abs(mi),Math.abs(is))&&Math.abs(Xi-rl)<=yt*Math.max(1,Math.abs(Xi),Math.abs(rl))&&Math.abs(ui-lu)<=yt*Math.max(1,Math.abs(ui),Math.abs(lu))&&Math.abs(xo-qc)<=yt*Math.max(1,Math.abs(xo),Math.abs(qc))}var Vi=de,ki=pr,Oi={};function Ko(){const i=new qt(4);return qt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0,i[3]=0),i}function Ti(i){const p=new qt(4);return p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],p}function $s(i,p,W,Re){const lt=new qt(4);return lt[0]=i,lt[1]=p,lt[2]=W,lt[3]=Re,lt}function ws(i,p){return i[0]=p[0],i[1]=p[1],i[2]=p[2],i[3]=p[3],i}function Jo(i,p,W,Re,lt){return i[0]=p,i[1]=W,i[2]=Re,i[3]=lt,i}function Cs(i,p,W){return i[0]=p[0]+W[0],i[1]=p[1]+W[1],i[2]=p[2]+W[2],i[3]=p[3]+W[3],i}function rs(i,p,W){return i[0]=p[0]-W[0],i[1]=p[1]-W[1],i[2]=p[2]-W[2],i[3]=p[3]-W[3],i}function Gt(i,p,W){return i[0]=p[0]*W[0],i[1]=p[1]*W[1],i[2]=p[2]*W[2],i[3]=p[3]*W[3],i}function Ae(i,p,W){return i[0]=p[0]/W[0],i[1]=p[1]/W[1],i[2]=p[2]/W[2],i[3]=p[3]/W[3],i}function ot(i,p){return i[0]=Math.ceil(p[0]),i[1]=Math.ceil(p[1]),i[2]=Math.ceil(p[2]),i[3]=Math.ceil(p[3]),i}function Ct(i,p){return i[0]=Math.floor(p[0]),i[1]=Math.floor(p[1]),i[2]=Math.floor(p[2]),i[3]=Math.floor(p[3]),i}function fn(i,p,W){return i[0]=Math.min(p[0],W[0]),i[1]=Math.min(p[1],W[1]),i[2]=Math.min(p[2],W[2]),i[3]=Math.min(p[3],W[3]),i}function jn(i,p,W){return i[0]=Math.max(p[0],W[0]),i[1]=Math.max(p[1],W[1]),i[2]=Math.max(p[2],W[2]),i[3]=Math.max(p[3],W[3]),i}function tr(i,p){return i[0]=Tt(p[0]),i[1]=Tt(p[1]),i[2]=Tt(p[2]),i[3]=Tt(p[3]),i}function ti(i,p,W){return i[0]=p[0]*W,i[1]=p[1]*W,i[2]=p[2]*W,i[3]=p[3]*W,i}function Pi(i,p,W,Re){return i[0]=p[0]+W[0]*Re,i[1]=p[1]+W[1]*Re,i[2]=p[2]+W[2]*Re,i[3]=p[3]+W[3]*Re,i}function eo(i,p){const W=p[0]-i[0],Re=p[1]-i[1],lt=p[2]-i[2],Ht=p[3]-i[3];return Math.sqrt(W*W+Re*Re+lt*lt+Ht*Ht)}function lo(i,p){const W=p[0]-i[0],Re=p[1]-i[1],lt=p[2]-i[2],Ht=p[3]-i[3];return W*W+Re*Re+lt*lt+Ht*Ht}function Oo(i){const p=i[0],W=i[1],Re=i[2],lt=i[3];return Math.sqrt(p*p+W*W+Re*Re+lt*lt)}function ss(i){const p=i[0],W=i[1],Re=i[2],lt=i[3];return p*p+W*W+Re*Re+lt*lt}function sa(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i[3]=-p[3],i}function Ca(i,p){return i[0]=1/p[0],i[1]=1/p[1],i[2]=1/p[2],i[3]=1/p[3],i}function _e(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3];let hn=W*W+Re*Re+lt*lt+Ht*Ht;return hn>0&&(hn=1/Math.sqrt(hn)),i[0]=W*hn,i[1]=Re*hn,i[2]=lt*hn,i[3]=Ht*hn,i}function dt(i,p){return i[0]*p[0]+i[1]*p[1]+i[2]*p[2]+i[3]*p[3]}function On(i,p,W,Re){const lt=W[0]*Re[1]-W[1]*Re[0],Ht=W[0]*Re[2]-W[2]*Re[0],hn=W[0]*Re[3]-W[3]*Re[0],Dn=W[1]*Re[2]-W[2]*Re[1],Xn=W[1]*Re[3]-W[3]*Re[1],Gn=W[2]*Re[3]-W[3]*Re[2],xr=p[0],Jr=p[1],Zr=p[2],ii=p[3];return i[0]=Jr*Gn-Zr*Xn+ii*Dn,i[1]=-xr*Gn+Zr*hn-ii*Ht,i[2]=xr*Xn-Jr*hn+ii*lt,i[3]=-xr*Dn+Jr*Ht-Zr*lt,i}function Ke(i,p,W,Re){const lt=p[0],Ht=p[1],hn=p[2],Dn=p[3];return i[0]=lt+Re*(W[0]-lt),i[1]=Ht+Re*(W[1]-Ht),i[2]=hn+Re*(W[2]-hn),i[3]=Dn+Re*(W[3]-Dn),i}function En(i,p){let W,Re,lt,Ht,hn,Dn;p=void 0===p?1:p;do{W=2*Ln()-1,Re=2*Ln()-1,hn=W*W+Re*Re}while(hn>=1);do{lt=2*Ln()-1,Ht=2*Ln()-1,Dn=lt*lt+Ht*Ht}while(Dn>=1);const Xn=Math.sqrt((1-hn)/Dn);return i[0]=p*W,i[1]=p*Re,i[2]=p*lt*Xn,i[3]=p*Ht*Xn,i}function dr(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=p[3];return i[0]=W[0]*Re+W[4]*lt+W[8]*Ht+W[12]*hn,i[1]=W[1]*Re+W[5]*lt+W[9]*Ht+W[13]*hn,i[2]=W[2]*Re+W[6]*lt+W[10]*Ht+W[14]*hn,i[3]=W[3]*Re+W[7]*lt+W[11]*Ht+W[15]*hn,i}function li(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=W[0],Dn=W[1],Xn=W[2],Gn=W[3],xr=Gn*Re+Dn*Ht-Xn*lt,Jr=Gn*lt+Xn*Re-hn*Ht,Zr=Gn*Ht+hn*lt-Dn*Re,ii=-hn*Re-Dn*lt-Xn*Ht;return i[0]=xr*Gn+ii*-hn+Jr*-Xn-Zr*-Dn,i[1]=Jr*Gn+ii*-Dn+Zr*-hn-xr*-Xn,i[2]=Zr*Gn+ii*-Xn+xr*-Dn-Jr*-hn,i[3]=p[3],i}function Ji(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}function gs(i){return`vec4(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}function us(i,p){return i[0]===p[0]&&i[1]===p[1]&&i[2]===p[2]&&i[3]===p[3]}function ds(i,p){const W=i[0],Re=i[1],lt=i[2],Ht=i[3],hn=p[0],Dn=p[1],Xn=p[2],Gn=p[3];return Math.abs(W-hn)<=yt*Math.max(1,Math.abs(W),Math.abs(hn))&&Math.abs(Re-Dn)<=yt*Math.max(1,Math.abs(Re),Math.abs(Dn))&&Math.abs(lt-Xn)<=yt*Math.max(1,Math.abs(lt),Math.abs(Xn))&&Math.abs(Ht-Gn)<=yt*Math.max(1,Math.abs(Ht),Math.abs(Gn))}v(Oi,{add:()=>Cs,ceil:()=>ot,clone:()=>Ti,copy:()=>ws,create:()=>Ko,cross:()=>On,dist:()=>Lo,distance:()=>eo,div:()=>bs,divide:()=>Ae,dot:()=>dt,equals:()=>ds,exactEquals:()=>us,floor:()=>Ct,forEach:()=>Ps,fromValues:()=>$s,inverse:()=>Ca,len:()=>Ki,length:()=>Oo,lerp:()=>Ke,max:()=>jn,min:()=>fn,mul:()=>na,multiply:()=>Gt,negate:()=>sa,normalize:()=>_e,random:()=>En,round:()=>tr,scale:()=>ti,scaleAndAdd:()=>Pi,set:()=>Jo,sqrDist:()=>Ho,sqrLen:()=>bo,squaredDistance:()=>lo,squaredLength:()=>ss,str:()=>gs,sub:()=>fs,subtract:()=>rs,transformMat4:()=>dr,transformQuat:()=>li,zero:()=>Ji});var Wo,tl,fs=rs,na=Gt,bs=Ae,Lo=eo,Ho=lo,Ki=Oo,bo=ss,Ps=function(){const i=Ko();return function(p,W,Re,lt,Ht,hn){let Dn,Xn;for(W||(W=4),Re||(Re=0),Xn=lt?Math.min(lt*W+Re,p.length):p.length,Dn=Re;Dn<Xn;Dn+=W)i[0]=p[Dn],i[1]=p[Dn+1],i[2]=p[Dn+2],i[3]=p[Dn+3],Ht(i,i,hn),p[Dn]=i[0],p[Dn+1]=i[1],p[Dn+2]=i[2],p[Dn+3]=i[3];return p}}(),va=function(i){return i[i.COL0ROW0=0]="COL0ROW0",i[i.COL0ROW1=1]="COL0ROW1",i[i.COL0ROW2=2]="COL0ROW2",i[i.COL0ROW3=3]="COL0ROW3",i[i.COL1ROW0=4]="COL1ROW0",i[i.COL1ROW1=5]="COL1ROW1",i[i.COL1ROW2=6]="COL1ROW2",i[i.COL1ROW3=7]="COL1ROW3",i[i.COL2ROW0=8]="COL2ROW0",i[i.COL2ROW1=9]="COL2ROW1",i[i.COL2ROW2=10]="COL2ROW2",i[i.COL2ROW3=11]="COL2ROW3",i[i.COL3ROW0=12]="COL3ROW0",i[i.COL3ROW1=13]="COL3ROW1",i[i.COL3ROW2=14]="COL3ROW2",i[i.COL3ROW3=15]="COL3ROW3",i}(va||{}),Qs=45*Math.PI/180,fa=1,Ua=.1,ks=500,ha=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),xa=class extends Rs{static get IDENTITY(){return function Cc(){return tl||(tl=new xa,Object.freeze(tl)),tl}()}static get ZERO(){return function Al(){return Wo||(Wo=new xa([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Wo)),Wo}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return va}constructor(i){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(i)?this.copy(i):this.identity()}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this[4]=i[4],this[5]=i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this[9]=i[9],this[10]=i[10],this[11]=i[11],this[12]=i[12],this[13]=i[13],this[14]=i[14],this[15]=i[15],this.check()}set(i,p,W,Re,lt,Ht,hn,Dn,Xn,Gn,xr,Jr,Zr,ii,mi,Xi){return this[0]=i,this[1]=p,this[2]=W,this[3]=Re,this[4]=lt,this[5]=Ht,this[6]=hn,this[7]=Dn,this[8]=Xn,this[9]=Gn,this[10]=xr,this[11]=Jr,this[12]=Zr,this[13]=ii,this[14]=mi,this[15]=Xi,this.check()}setRowMajor(i,p,W,Re,lt,Ht,hn,Dn,Xn,Gn,xr,Jr,Zr,ii,mi,Xi){return this[0]=i,this[1]=lt,this[2]=Xn,this[3]=Zr,this[4]=p,this[5]=Ht,this[6]=Gn,this[7]=ii,this[8]=W,this[9]=hn,this[10]=xr,this[11]=mi,this[12]=Re,this[13]=Dn,this[14]=Jr,this[15]=Xi,this.check()}toRowMajor(i){return i[0]=this[0],i[1]=this[4],i[2]=this[8],i[3]=this[12],i[4]=this[1],i[5]=this[5],i[6]=this[9],i[7]=this[13],i[8]=this[2],i[9]=this[6],i[10]=this[10],i[11]=this[14],i[12]=this[3],i[13]=this[7],i[14]=this[11],i[15]=this[15],i}identity(){return this.copy(ha)}fromObject(i){return this.check()}fromQuaternion(i){return Ue(this,i),this.check()}frustum(i){const{left:p,right:W,bottom:Re,top:lt,near:Ht=Ua,far:hn=ks}=i;return hn===1/0?function ou(i,p,W,Re,lt,Ht){const Dn=2*Ht/(lt-Re),Xn=(W+p)/(W-p),Gn=(lt+Re)/(lt-Re),Zr=-2*Ht;i[0]=2*Ht/(W-p),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=Dn,i[6]=0,i[7]=0,i[8]=Xn,i[9]=Gn,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=Zr,i[15]=0}(this,p,W,Re,lt,Ht):gt(this,p,W,Re,lt,Ht,hn),this.check()}lookAt(i){const{eye:p,center:W=[0,0,0],up:Re=[0,1,0]}=i;return Gr(this,p,W,Re),this.check()}ortho(i){const{left:p,right:W,bottom:Re,top:lt,near:Ht=Ua,far:hn=ks}=i;return Rr(this,p,W,Re,lt,Ht,hn),this.check()}orthographic(i){const{fovy:p=Qs,aspect:W=fa,focalDistance:Re=1,near:lt=Ua,far:Ht=ks}=i;Aa(p);const Dn=Re*Math.tan(p/2),Xn=Dn*W;return this.ortho({left:-Xn,right:Xn,bottom:-Dn,top:Dn,near:lt,far:Ht})}perspective(i){const{fovy:p=45*Math.PI/180,aspect:W=1,near:Re=.1,far:lt=500}=i;return Aa(p),dn(this,p,W,Re,lt),this.check()}determinant(){return at(this)}getScale(i=[-0,-0,-0]){return i[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),i[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),i[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),i}getTranslation(i=[-0,-0,-0]){return i[0]=this[12],i[1]=this[13],i[2]=this[14],i}getRotation(i,p){i=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const W=this.getScale(p=p||[-0,-0,-0]),Re=1/W[0],lt=1/W[1],Ht=1/W[2];return i[0]=this[0]*Re,i[1]=this[1]*lt,i[2]=this[2]*Ht,i[3]=0,i[4]=this[4]*Re,i[5]=this[5]*lt,i[6]=this[6]*Ht,i[7]=0,i[8]=this[8]*Re,i[9]=this[9]*lt,i[10]=this[10]*Ht,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}getRotationMatrix3(i,p){i=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const W=this.getScale(p=p||[-0,-0,-0]),Re=1/W[0],lt=1/W[1],Ht=1/W[2];return i[0]=this[0]*Re,i[1]=this[1]*lt,i[2]=this[2]*Ht,i[3]=this[4]*Re,i[4]=this[5]*lt,i[5]=this[6]*Ht,i[6]=this[8]*Re,i[7]=this[9]*lt,i[8]=this[10]*Ht,i}transpose(){return nt(this,this),this.check()}invert(){return $e(this,this),this.check()}multiplyLeft(i){return de(this,i,this),this.check()}multiplyRight(i){return de(this,this,i),this.check()}rotateX(i){return ht(this,this,i),this.check()}rotateY(i){return $(this,this,i),this.check()}rotateZ(i){return ge(this,this,i),this.check()}rotateXYZ(i){return this.rotateX(i[0]).rotateY(i[1]).rotateZ(i[2])}rotateAxis(i,p){return Kn(this,this,i,p),this.check()}scale(i){return on(this,this,Array.isArray(i)?i:[i,i,i]),this.check()}translate(i){return Et(this,this,i),this.check()}transform(i,p){return 4===i.length?(fe(p=dr(p||[-0,-0,-0,-0],i,this),4),p):this.transformAsPoint(i,p)}transformAsPoint(i,p){const{length:W}=i;let Re;switch(W){case 2:Re=Cn(p||[-0,-0],i,this);break;case 3:Re=so(p||[-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return fe(Re,i.length),Re}transformAsVector(i,p){let W;switch(i.length){case 2:W=ze(p||[-0,-0],i,this);break;case 3:W=nn(p||[-0,-0,-0],i,this);break;default:throw new Error("Illegal vector")}return fe(W,i.length),W}transformPoint(i,p){return this.transformAsPoint(i,p)}transformVector(i,p){return this.transformAsPoint(i,p)}transformDirection(i,p){return this.transformAsVector(i,p)}makeRotationX(i){return this.identity().rotateX(i)}makeTranslation(i,p,W){return this.identity().translate([i,p,W])}};function Aa(i){if(i>2*Math.PI)throw Error("expected radians")}var Ac={};function Wa(){const i=new qt(4);return qt!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function Ml(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function uc(i,p,W){W*=.5;const Re=Math.sin(W);return i[0]=Re*p[0],i[1]=Re*p[1],i[2]=Re*p[2],i[3]=Math.cos(W),i}function _n(i,p){const W=2*Math.acos(p[3]),Re=Math.sin(W/2);return Re>yt?(i[0]=p[0]/Re,i[1]=p[1]/Re,i[2]=p[2]/Re):(i[0]=1,i[1]=0,i[2]=0),W}function Vl(i,p){const W=Yc(i,p);return Math.acos(2*W*W-1)}function gl(i,p,W){const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=W[0],Xn=W[1],Gn=W[2],xr=W[3];return i[0]=Re*xr+hn*Dn+lt*Gn-Ht*Xn,i[1]=lt*xr+hn*Xn+Ht*Dn-Re*Gn,i[2]=Ht*xr+hn*Gn+Re*Xn-lt*Dn,i[3]=hn*xr-Re*Dn-lt*Xn-Ht*Gn,i}function No(i,p,W){W*=.5;const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=Math.sin(W),Xn=Math.cos(W);return i[0]=Re*Xn+hn*Dn,i[1]=lt*Xn+Ht*Dn,i[2]=Ht*Xn-lt*Dn,i[3]=hn*Xn-Re*Dn,i}function Fs(i,p,W){W*=.5;const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=Math.sin(W),Xn=Math.cos(W);return i[0]=Re*Xn-Ht*Dn,i[1]=lt*Xn+hn*Dn,i[2]=Ht*Xn+Re*Dn,i[3]=hn*Xn-lt*Dn,i}function Wc(i,p,W){W*=.5;const Re=p[0],lt=p[1],Ht=p[2],hn=p[3],Dn=Math.sin(W),Xn=Math.cos(W);return i[0]=Re*Xn+lt*Dn,i[1]=lt*Xn-Re*Dn,i[2]=Ht*Xn+hn*Dn,i[3]=hn*Xn-Ht*Dn,i}function Fl(i,p){const W=p[0],Re=p[1],lt=p[2];return i[0]=W,i[1]=Re,i[2]=lt,i[3]=Math.sqrt(Math.abs(1-W*W-Re*Re-lt*lt)),i}function su(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=Math.sqrt(W*W+Re*Re+lt*lt),Dn=Math.exp(Ht),Xn=hn>0?Dn*Math.sin(hn)/hn:0;return i[0]=W*Xn,i[1]=Re*Xn,i[2]=lt*Xn,i[3]=Dn*Math.cos(hn),i}function cl(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=Math.sqrt(W*W+Re*Re+lt*lt),Dn=hn>0?Math.atan2(hn,Ht)/hn:0;return i[0]=W*Dn,i[1]=Re*Dn,i[2]=lt*Dn,i[3]=.5*Math.log(W*W+Re*Re+lt*lt+Ht*Ht),i}function Da(i,p,W){return cl(i,p),ra(i,i,W),su(i,i),i}function Mc(i,p,W,Re){const lt=p[0],Ht=p[1],hn=p[2],Dn=p[3];let Zr,ii,mi,Xi,ui,Xn=W[0],Gn=W[1],xr=W[2],Jr=W[3];return Zr=lt*Xn+Ht*Gn+hn*xr+Dn*Jr,Zr<0&&(Zr=-Zr,Xn=-Xn,Gn=-Gn,xr=-xr,Jr=-Jr),1-Zr>yt?(ii=Math.acos(Zr),ui=Math.sin(ii),mi=Math.sin((1-Re)*ii)/ui,Xi=Math.sin(Re*ii)/ui):(mi=1-Re,Xi=Re),i[0]=mi*lt+Xi*Xn,i[1]=mi*Ht+Xi*Gn,i[2]=mi*hn+Xi*xr,i[3]=mi*Dn+Xi*Jr,i}function Ba(i,p){const W=p[0],Re=p[1],lt=p[2],Ht=p[3],hn=W*W+Re*Re+lt*lt+Ht*Ht,Dn=hn?1/hn:0;return i[0]=-W*Dn,i[1]=-Re*Dn,i[2]=-lt*Dn,i[3]=Ht*Dn,i}function Oa(i,p){return i[0]=-p[0],i[1]=-p[1],i[2]=-p[2],i[3]=p[3],i}function Dl(i,p){const W=p[0]+p[4]+p[8];let Re;if(W>0)Re=Math.sqrt(W+1),i[3]=.5*Re,Re=.5/Re,i[0]=(p[5]-p[7])*Re,i[1]=(p[6]-p[2])*Re,i[2]=(p[1]-p[3])*Re;else{let lt=0;p[4]>p[0]&&(lt=1),p[8]>p[3*lt+lt]&&(lt=2);const Ht=(lt+1)%3,hn=(lt+2)%3;Re=Math.sqrt(p[3*lt+lt]-p[3*Ht+Ht]-p[3*hn+hn]+1),i[lt]=.5*Re,Re=.5/Re,i[3]=(p[3*Ht+hn]-p[3*hn+Ht])*Re,i[Ht]=(p[3*Ht+lt]+p[3*lt+Ht])*Re,i[hn]=(p[3*hn+lt]+p[3*lt+hn])*Re}return i}function Ha(i){return`quat(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}v(Ac,{add:()=>Xc,calculateW:()=>Fl,clone:()=>_s,conjugate:()=>Oa,copy:()=>Kc,create:()=>Wa,dot:()=>Yc,equals:()=>De,exactEquals:()=>Xe,exp:()=>su,fromMat3:()=>Dl,fromValues:()=>nl,getAngle:()=>Vl,getAxisAngle:()=>_n,identity:()=>Ml,invert:()=>Ba,len:()=>Zo,length:()=>au,lerp:()=>Dc,ln:()=>cl,mul:()=>ul,multiply:()=>gl,normalize:()=>Te,pow:()=>Da,rotateX:()=>No,rotateY:()=>Fs,rotateZ:()=>Wc,rotationTo:()=>ft,scale:()=>ra,set:()=>_l,setAxes:()=>Nn,setAxisAngle:()=>uc,slerp:()=>Mc,sqlerp:()=>mn,sqrLen:()=>ce,squaredLength:()=>Xl,str:()=>Ha});var _s=Ti,nl=$s,Kc=ws,_l=Jo,Xc=Cs,ul=gl,ra=ti,Yc=dt,Dc=Ke,au=Oo,Zo=au,Xl=ss,ce=Xl,Te=_e,Xe=us;function De(i,p){return Math.abs(dt(i,p))>=1-yt}var ft=function(){const i=vr(),p=ro(1,0,0),W=ro(0,1,0);return function(Re,lt,Ht){const hn=ei(lt,Ht);return hn<-.999999?(Si(i,p,lt),Ao(i)<1e-6&&Si(i,W,lt),Tr(i,i),uc(Re,i,Math.PI),Re):hn>.999999?(Re[0]=0,Re[1]=0,Re[2]=0,Re[3]=1,Re):(Si(i,lt,Ht),Re[0]=i[0],Re[1]=i[1],Re[2]=i[2],Re[3]=1+hn,Te(Re,Re))}}(),mn=function(){const i=Wa(),p=Wa();return function(W,Re,lt,Ht,hn,Dn){return Mc(i,Re,hn,Dn),Mc(p,lt,Ht,Dn),Mc(W,i,p,2*Dn*(1-Dn)),W}}(),Nn=function(){const i=sr();return function(p,W,Re,lt){return i[0]=Re[0],i[3]=Re[1],i[6]=Re[2],i[1]=lt[0],i[4]=lt[1],i[7]=lt[2],i[2]=-W[0],i[5]=-W[1],i[8]=-W[2],Te(p,Dl(p,i))}}(),Kr=[0,0,0,1],$i=class extends Kt{constructor(i=0,p=0,W=0,Re=1){super(-0,-0,-0,-0),Array.isArray(i)&&1===arguments.length?this.copy(i):this.set(i,p,W,Re)}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3],this.check()}set(i,p,W,Re){return this[0]=i,this[1]=p,this[2]=W,this[3]=Re,this.check()}fromObject(i){return this[0]=i.x,this[1]=i.y,this[2]=i.z,this[3]=i.w,this.check()}fromMatrix3(i){return Dl(this,i),this.check()}fromAxisRotation(i,p){return uc(this,i,p),this.check()}identity(){return Ml(this),this.check()}setAxisAngle(i,p){return this.fromAxisRotation(i,p)}get ELEMENTS(){return 4}get x(){return this[0]}set x(i){this[0]=ee(i)}get y(){return this[1]}set y(i){this[1]=ee(i)}get z(){return this[2]}set z(i){this[2]=ee(i)}get w(){return this[3]}set w(i){this[3]=ee(i)}len(){return au(this)}lengthSquared(){return Xl(this)}dot(i){return Yc(this,i)}rotationTo(i,p){return ft(this,i,p),this.check()}add(i){return Xc(this,this,i),this.check()}calculateW(){return Fl(this,this),this.check()}conjugate(){return Oa(this,this),this.check()}invert(){return Ba(this,this),this.check()}lerp(i,p,W){return void 0===W?this.lerp(this,i,p):(Dc(this,i,p,W),this.check())}multiplyRight(i){return gl(this,this,i),this.check()}multiplyLeft(i){return gl(this,i,this),this.check()}normalize(){const i=this.len(),p=i>0?1/i:0;return this[0]=this[0]*p,this[1]=this[1]*p,this[2]=this[2]*p,this[3]=this[3]*p,0===i&&(this[3]=1),this.check()}rotateX(i){return No(this,this,i),this.check()}rotateY(i){return Fs(this,this,i),this.check()}rotateZ(i){return Wc(this,this,i),this.check()}scale(i){return ra(this,this,i),this.check()}slerp(i,p,W){let Re,lt,Ht;switch(arguments.length){case 1:({start:Re=Kr,target:lt,ratio:Ht}=i);break;case 2:Re=this,lt=i,Ht=p;break;default:Re=i,lt=p,Ht=W}return Mc(this,Re,lt,Ht),this.check()}transformVector4(i,p=new ns){return li(p,i,this),fe(p,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(i,p){return this.setAxisAngle(i,p)}premultiply(i){return this.multiplyLeft(i)}multiply(i){return this.multiplyRight(i)}},Ws=class{constructor({phi:i=0,theta:p=0,radius:W=1,bearing:Re,pitch:lt,altitude:Ht,radiusScale:hn=6371e3}={}){this.phi=i,this.theta=p,this.radius=W||Ht||1,this.radiusScale=hn||1,void 0!==Re&&(this.bearing=Re),void 0!==lt&&(this.pitch=lt),this.check()}toString(){return this.formatString(G)}formatString({printTypes:i=!1}){const p=x;return`${i?"Spherical":""}[rho:${p(this.radius)},theta:${p(this.theta)},phi:${p(this.phi)}]`}equals(i){return ue(this.radius,i.radius)&&ue(this.theta,i.theta)&&ue(this.phi,i.phi)}exactEquals(i){return this.radius===i.radius&&this.theta===i.theta&&this.phi===i.phi}get bearing(){return 180-Z(this.phi)}set bearing(i){this.phi=Math.PI-U(i)}get pitch(){return Z(this.theta)}set pitch(i){this.theta=U(i)}get longitude(){return Z(this.phi)}get latitude(){return Z(this.theta)}get lng(){return Z(this.phi)}get lat(){return Z(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(i,p,W){return this.radius=i,this.phi=p,this.theta=W,this.check()}clone(){return(new Ws).copy(this)}copy(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this.check()}fromLngLatZ([i,p,W]){return this.radius=1+W/this.radiusScale,this.phi=U(p),this.theta=U(i),this.check()}fromVector3(i){return this.radius=to(i),this.radius>0&&(this.theta=Math.atan2(i[0],i[1]),this.phi=Math.acos(we(i[2]/this.radius,-1,1))),this.check()}toVector3(){return new Qo(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},xs="Unknown Euler angle order",ia=.99999,ea=function(i){return i[i.ZYX=0]="ZYX",i[i.YXZ=1]="YXZ",i[i.XZY=2]="XZY",i[i.ZXY=3]="ZXY",i[i.YZX=4]="YZX",i[i.XYZ=5]="XYZ",i}(ea||{}),ma=class extends Kt{static get ZYX(){return ea.ZYX}static get YXZ(){return ea.YXZ}static get XZY(){return ea.XZY}static get ZXY(){return ea.ZXY}static get YZX(){return ea.YZX}static get XYZ(){return ea.XYZ}static get RollPitchYaw(){return ea.ZYX}static get DefaultOrder(){return ea.ZYX}static get RotationOrders(){return ea}static rotationOrder(i){return ea[i]}get ELEMENTS(){return 4}constructor(i=0,p=0,W=0,Re=ma.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(i,p,W,Re)}fromQuaternion(i){const[p,W,Re,lt]=i,Ht=W*W,hn=-2*(Ht+Re*Re)+1,Dn=2*(p*W+lt*Re);let Xn=-2*(p*Re-lt*W);Xn=Xn>1?1:Xn,Xn=Xn<-1?-1:Xn;const Jr=Math.atan2(2*(W*Re+lt*p),-2*(p*p+Ht)+1),Zr=Math.asin(Xn),ii=Math.atan2(Dn,hn);return this.set(Jr,Zr,ii,ma.RollPitchYaw)}fromObject(i){throw new Error("not implemented")}copy(i){return this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=Number.isFinite(i[3])||this.order,this.check()}set(i=0,p=0,W=0,Re){return this[0]=i,this[1]=p,this[2]=W,this[3]=Number.isFinite(Re)?Re:this[3],this.check()}validate(){return function dc(i){return i>=0&&i<6}(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}toArray(i=[],p=0){return i[p]=this[0],i[p+1]=this[1],i[p+2]=this[2],i}toArray4(i=[],p=0){return i[p]=this[0],i[p+1]=this[1],i[p+2]=this[2],i[p+3]=this[3],i}toVector3(i=[-0,-0,-0]){return i[0]=this[0],i[1]=this[1],i[2]=this[2],i}get x(){return this[0]}set x(i){this[0]=ee(i)}get y(){return this[1]}set y(i){this[1]=ee(i)}get z(){return this[2]}set z(i){this[2]=ee(i)}get alpha(){return this[0]}set alpha(i){this[0]=ee(i)}get beta(){return this[1]}set beta(i){this[1]=ee(i)}get gamma(){return this[2]}set gamma(i){this[2]=ee(i)}get phi(){return this[0]}set phi(i){this[0]=ee(i)}get theta(){return this[1]}set theta(i){this[1]=ee(i)}get psi(){return this[2]}set psi(i){this[2]=ee(i)}get roll(){return this[0]}set roll(i){this[0]=ee(i)}get pitch(){return this[1]}set pitch(i){this[1]=ee(i)}get yaw(){return this[2]}set yaw(i){this[2]=ee(i)}get order(){return this[3]}set order(i){this[3]=function Ka(i){if(i<0&&i>=6)throw new Error(xs);return i}(i)}fromVector3(i,p){return this.set(i[0],i[1],i[2],Number.isFinite(p)?p:this[3])}fromArray(i,p=0){return this[0]=i[0+p],this[1]=i[1+p],this[2]=i[2+p],void 0!==i[3]&&(this[3]=i[3]),this.check()}fromRollPitchYaw(i,p,W){return this.set(i,p,W,ea.ZYX)}fromRotationMatrix(i,p=ma.DefaultOrder){return this._fromRotationMatrix(i,p),this.check()}getRotationMatrix(i){return this._getRotationMatrix(i)}getQuaternion(){const i=new $i;switch(this[3]){case ea.XYZ:return i.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case ea.YXZ:return i.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case ea.ZXY:return i.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case ea.ZYX:return i.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case ea.YZX:return i.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case ea.XZY:return i.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(xs)}}_fromRotationMatrix(i,p=ma.DefaultOrder){const W=i[0],Re=i[4],lt=i[8],Ht=i[1],hn=i[5],Dn=i[9],Xn=i[2],Gn=i[6],xr=i[10];switch(p=p||this[3]){case ma.XYZ:this[1]=Math.asin(we(lt,-1,1)),Math.abs(lt)<ia?(this[0]=Math.atan2(-Dn,xr),this[2]=Math.atan2(-Re,W)):(this[0]=Math.atan2(Gn,hn),this[2]=0);break;case ma.YXZ:this[0]=Math.asin(-we(Dn,-1,1)),Math.abs(Dn)<ia?(this[1]=Math.atan2(lt,xr),this[2]=Math.atan2(Ht,hn)):(this[1]=Math.atan2(-Xn,W),this[2]=0);break;case ma.ZXY:this[0]=Math.asin(we(Gn,-1,1)),Math.abs(Gn)<ia?(this[1]=Math.atan2(-Xn,xr),this[2]=Math.atan2(-Re,hn)):(this[1]=0,this[2]=Math.atan2(Ht,W));break;case ma.ZYX:this[1]=Math.asin(-we(Xn,-1,1)),Math.abs(Xn)<ia?(this[0]=Math.atan2(Gn,xr),this[2]=Math.atan2(Ht,W)):(this[0]=0,this[2]=Math.atan2(-Re,hn));break;case ma.YZX:this[2]=Math.asin(we(Ht,-1,1)),Math.abs(Ht)<ia?(this[0]=Math.atan2(-Dn,hn),this[1]=Math.atan2(-Xn,W)):(this[0]=0,this[1]=Math.atan2(lt,xr));break;case ma.XZY:this[2]=Math.asin(-we(Re,-1,1)),Math.abs(Re)<ia?(this[0]=Math.atan2(Gn,hn),this[1]=Math.atan2(lt,W)):(this[0]=Math.atan2(-Dn,xr),this[1]=0);break;default:throw new Error(xs)}return this[3]=p,this}_getRotationMatrix(i){const p=i||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],W=this.x,Re=this.y,lt=this.z,Ht=Math.cos(W),hn=Math.cos(Re),Dn=Math.cos(lt),Xn=Math.sin(W),Gn=Math.sin(Re),xr=Math.sin(lt);switch(this[3]){case ma.XYZ:{const Jr=Ht*Dn,Zr=Ht*xr,ii=Xn*Dn,mi=Xn*xr;p[0]=hn*Dn,p[4]=-hn*xr,p[8]=Gn,p[1]=Zr+ii*Gn,p[5]=Jr-mi*Gn,p[9]=-Xn*hn,p[2]=mi-Jr*Gn,p[6]=ii+Zr*Gn,p[10]=Ht*hn;break}case ma.YXZ:{const Jr=hn*Dn,Zr=hn*xr,ii=Gn*Dn,mi=Gn*xr;p[0]=Jr+mi*Xn,p[4]=ii*Xn-Zr,p[8]=Ht*Gn,p[1]=Ht*xr,p[5]=Ht*Dn,p[9]=-Xn,p[2]=Zr*Xn-ii,p[6]=mi+Jr*Xn,p[10]=Ht*hn;break}case ma.ZXY:{const Jr=hn*Dn,Zr=hn*xr,ii=Gn*Dn,mi=Gn*xr;p[0]=Jr-mi*Xn,p[4]=-Ht*xr,p[8]=ii+Zr*Xn,p[1]=Zr+ii*Xn,p[5]=Ht*Dn,p[9]=mi-Jr*Xn,p[2]=-Ht*Gn,p[6]=Xn,p[10]=Ht*hn;break}case ma.ZYX:{const Jr=Ht*Dn,Zr=Ht*xr,ii=Xn*Dn,mi=Xn*xr;p[0]=hn*Dn,p[4]=ii*Gn-Zr,p[8]=Jr*Gn+mi,p[1]=hn*xr,p[5]=mi*Gn+Jr,p[9]=Zr*Gn-ii,p[2]=-Gn,p[6]=Xn*hn,p[10]=Ht*hn;break}case ma.YZX:{const Jr=Ht*hn,Zr=Ht*Gn,ii=Xn*hn,mi=Xn*Gn;p[0]=hn*Dn,p[4]=mi-Jr*xr,p[8]=ii*xr+Zr,p[1]=xr,p[5]=Ht*Dn,p[9]=-Xn*Dn,p[2]=-Gn*Dn,p[6]=Zr*xr+ii,p[10]=Jr-mi*xr;break}case ma.XZY:{const Jr=Ht*hn,Zr=Ht*Gn,ii=Xn*hn,mi=Xn*Gn;p[0]=hn*Dn,p[4]=-xr,p[8]=Gn*Dn,p[1]=Jr*xr+mi,p[5]=Ht*Dn,p[9]=Zr*xr-ii,p[2]=ii*xr-Zr,p[6]=Xn*Dn,p[10]=mi*xr+Jr;break}default:throw new Error(xs)}return p[3]=0,p[7]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}toQuaternion(){const i=Math.cos(.5*this.yaw),p=Math.sin(.5*this.yaw),W=Math.cos(.5*this.roll),Re=Math.sin(.5*this.roll),lt=Math.cos(.5*this.pitch),Ht=Math.sin(.5*this.pitch);return new $i(i*Re*lt-p*W*Ht,i*W*Ht+p*Re*lt,p*W*lt-i*Re*Ht,i*W*lt+p*Re*Ht)}},dl=class{constructor({x:i=0,y:p=0,z:W=0,roll:Re=0,pitch:lt=0,yaw:Ht=0,position:hn,orientation:Dn}={}){this.position=Array.isArray(hn)&&3===hn.length?new Qo(hn):new Qo(i,p,W),this.orientation=Array.isArray(Dn)&&4===Dn.length?new ma(Dn,Dn[3]):new ma(Re,lt,Ht,ma.RollPitchYaw)}get x(){return this.position.x}set x(i){this.position.x=i}get y(){return this.position.y}set y(i){this.position.y=i}get z(){return this.position.z}set z(i){this.position.z=i}get roll(){return this.orientation.roll}set roll(i){this.orientation.roll=i}get pitch(){return this.orientation.pitch}set pitch(i){this.orientation.pitch=i}get yaw(){return this.orientation.yaw}set yaw(i){this.orientation.yaw=i}getPosition(){return this.position}getOrientation(){return this.orientation}equals(i){return!!i&&this.position.equals(i.position)&&this.orientation.equals(i.orientation)}exactEquals(i){return!!i&&this.position.exactEquals(i.position)&&this.orientation.exactEquals(i.orientation)}getTransformationMatrix(){const i=Math.sin(this.roll),p=Math.sin(this.pitch),W=Math.sin(this.yaw),Re=Math.cos(this.roll),lt=Math.cos(this.pitch),Ht=Math.cos(this.yaw);return(new xa).setRowMajor(Ht*lt,-W*Re+Ht*p*i,W*i+Ht*p*Re,this.x,W*lt,Ht*Re+W*p*i,-Ht*i+W*p*Re,this.y,-p,lt*i,lt*Re,this.z,0,0,0,1)}getTransformationMatrixFromPose(i){return(new xa).multiplyRight(this.getTransformationMatrix()).multiplyRight(i.getTransformationMatrix().invert())}getTransformationMatrixToPose(i){return(new xa).multiplyRight(i.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},xu={};v(xu,{EPSILON1:()=>Tc,EPSILON10:()=>Qc,EPSILON11:()=>Eu,EPSILON12:()=>Xu,EPSILON13:()=>hs,EPSILON14:()=>Oc,EPSILON15:()=>Pc,EPSILON16:()=>Ea,EPSILON17:()=>Yu,EPSILON18:()=>jl,EPSILON19:()=>yl,EPSILON2:()=>vl,EPSILON20:()=>Xa,EPSILON3:()=>Sd,EPSILON4:()=>Yl,EPSILON5:()=>Sc,EPSILON6:()=>Ic,EPSILON7:()=>Na,EPSILON8:()=>Rc,EPSILON9:()=>Id,PI_OVER_FOUR:()=>kc,PI_OVER_SIX:()=>Qu,PI_OVER_TWO:()=>Pa,TWO_PI:()=>fl});var Tc=.1,vl=.01,Sd=.001,Yl=1e-4,Sc=1e-5,Ic=1e-6,Na=1e-7,Rc=1e-8,Id=1e-9,Qc=1e-10,Eu=1e-11,Xu=1e-12,hs=1e-13,Oc=1e-14,Pc=1e-15,Ea=1e-16,Yu=1e-17,jl=1e-18,yl=1e-19,Xa=1e-20,Pa=Math.PI/2,kc=Math.PI/4,Qu=Math.PI/6,fl=2*Math.PI},47590:ln=>{var ne,qe=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,C={};((ne,q)=>{for(var le in q)qe(ne,le,{get:q[le],enumerable:!0})})(C,{VERSION:()=>Z,assert:()=>U,console:()=>N,document:()=>P,getBrowser:()=>ae,global:()=>d,isBrowser:()=>E,isElectron:()=>m,isMobile:()=>L,process:()=>G,self:()=>d,window:()=>F}),ln.exports=(ne=C,((ne,q,le,z)=>{if(q&&"object"==typeof q||"function"==typeof q)for(let J of r(q))!s.call(ne,J)&&undefined!==J&&qe(ne,J,{get:()=>q[J],enumerable:!(z=w(q,J))||z.enumerable});return ne})(qe({},"__esModule",{value:!0}),ne));var d=globalThis,F=globalThis,P=globalThis.document||{},G=globalThis.process||{},N=globalThis.console,x=globalThis.navigator||{};function m(ne){var q,le;if(typeof window<"u"&&"renderer"===(null==(q=window.process)?void 0:q.type)||typeof process<"u"&&null!=(le=process.versions)&&le.electron)return!0;const z=typeof navigator<"u"&&navigator.userAgent,J=ne||z;return!!(J&&J.indexOf("Electron")>=0)}function E(){return!("object"==typeof process&&"[object process]"===String(process)&&(null==process||!process.browser))||m()}function L(){return typeof globalThis.orientation<"u"}function ae(ne){return ne||E()?m(ne)?"Electron":(ne||x.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}function U(ne,q){if(!ne)throw new Error(q||"Assertion failed")}var Z="4.0.7"},69243:(ln,qe,w)=>{var ee,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,F={};((ee,fe)=>{for(var ye in fe)r(ee,ye,{get:fe[ye],enumerable:!0})})(F,{COLOR:()=>ae,LocalStorage:()=>N,Log:()=>ke,addColor:()=>ne,autobind:()=>q,default:()=>me,getHiResTimestamp:()=>J,leftPad:()=>m,rightPad:()=>E}),ln.exports=(ee=F,((ee,fe,ye,Se)=>{if(fe&&"object"==typeof fe||"function"==typeof fe)for(let Be of v(fe))!S.call(ee,Be)&&undefined!==Be&&r(ee,Be,{get:()=>fe[Be],enumerable:!(Se=s(fe,Be))||Se.enumerable});return ee})(r({},"__esModule",{value:!0}),ee));var P=w(47590),N=class{constructor(ee,fe,ye="sessionStorage"){this.storage=function G(ee){try{const fe=window[ee],ye="__storage_test__";return fe.setItem(ye,ye),fe.removeItem(ye),fe}catch{return null}}(ye),this.id=ee,this.config=fe,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(ee){if(Object.assign(this.config,ee),this.storage){const fe=JSON.stringify(this.config);this.storage.setItem(this.id,fe)}}_loadConfiguration(){let ee={};if(this.storage){const fe=this.storage.getItem(this.id);ee=fe?JSON.parse(fe):{}}return Object.assign(this.config,ee),this}};function m(ee,fe=8){const ye=Math.max(fe-ee.length,0);return`${" ".repeat(ye)}${ee}`}function E(ee,fe=8){const ye=Math.max(fe-ee.length,0);return`${ee}${" ".repeat(ye)}`}var L=w(47590),ae=function(ee){return ee[ee.BLACK=30]="BLACK",ee[ee.RED=31]="RED",ee[ee.GREEN=32]="GREEN",ee[ee.YELLOW=33]="YELLOW",ee[ee.BLUE=34]="BLUE",ee[ee.MAGENTA=35]="MAGENTA",ee[ee.CYAN=36]="CYAN",ee[ee.WHITE=37]="WHITE",ee[ee.BRIGHT_BLACK=90]="BRIGHT_BLACK",ee[ee.BRIGHT_RED=91]="BRIGHT_RED",ee[ee.BRIGHT_GREEN=92]="BRIGHT_GREEN",ee[ee.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",ee[ee.BRIGHT_BLUE=94]="BRIGHT_BLUE",ee[ee.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",ee[ee.BRIGHT_CYAN=96]="BRIGHT_CYAN",ee[ee.BRIGHT_WHITE=97]="BRIGHT_WHITE",ee}(ae||{}),U=10;function Z(ee){return"string"!=typeof ee?ee:(ee=ee.toUpperCase(),ae[ee]||ae.WHITE)}function ne(ee,fe,ye){return!L.isBrowser&&"string"==typeof ee&&(fe&&(ee=`\x1b[${Z(fe)}m${ee}\x1b[39m`),ye&&(ee=`\x1b[${Z(ye)+U}m${ee}\x1b[49m`)),ee}function q(ee,fe=["constructor"]){const ye=Object.getPrototypeOf(ee),Se=Object.getOwnPropertyNames(ye),Be=ee;for(const yt of Se){const qt=Be[yt];"function"==typeof qt&&(fe.find(Ln=>yt===Ln)||(Be[yt]=qt.bind(ee)))}}function le(ee,fe){if(!ee)throw new Error(fe||"Assertion failed")}var z=w(47590);function J(){var ee,fe,ye,Se,Be;let yt;if((0,z.isBrowser)()&&z.window.performance)yt=null==(ye=null==(fe=null==(ee=z.window)?void 0:ee.performance)?void 0:fe.now)?void 0:ye.call(fe);else if("hrtime"in z.process){const qt=null==(Be=null==(Se=z.process)?void 0:Se.hrtime)?void 0:Be.call(Se);yt=1e3*qt[0]+qt[1]/1e6}else yt=Date.now();return yt}var he={debug:(0,P.isBrowser)()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},we={enabled:!0,level:0};function k(){}var ue={},Ie={once:!0},ke=class{constructor({id:ee}={id:""}){this.VERSION=P.VERSION,this._startTs=J(),this._deltaTs=J(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=ee,this.userData={},this._storage=new N(`__probe-${this.id}__`,we),this.timeStamp(`${this.id} started`),q(this),Object.seal(this)}set level(ee){this.setLevel(ee)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((J()-this._startTs).toPrecision(10))}getDelta(){return Number((J()-this._deltaTs).toPrecision(10))}set priority(ee){this.level=ee}get priority(){return this.level}getPriority(){return this.level}enable(ee=!0){return this._storage.setConfiguration({enabled:ee}),this}setLevel(ee){return this._storage.setConfiguration({level:ee}),this}get(ee){return this._storage.config[ee]}set(ee,fe){this._storage.setConfiguration({[ee]:fe})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(ee,fe){if(!ee)throw new Error(fe||"Assertion failed")}warn(ee){return this._getLogFunction(0,ee,he.warn,arguments,Ie)}error(ee){return this._getLogFunction(0,ee,he.error,arguments)}deprecated(ee,fe){return this.warn(`\`${ee}\` is deprecated and will be removed in a later version. Use \`${fe}\` instead`)}removed(ee,fe){return this.error(`\`${ee}\` has been removed. Use \`${fe}\` instead`)}probe(ee,fe){return this._getLogFunction(ee,fe,he.log,arguments,{time:!0,once:!0})}log(ee,fe){return this._getLogFunction(ee,fe,he.debug,arguments)}info(ee,fe){return this._getLogFunction(ee,fe,console.info,arguments)}once(ee,fe){return this._getLogFunction(ee,fe,he.debug||he.info,arguments,Ie)}table(ee,fe,ye){return fe?this._getLogFunction(ee,fe,console.table||k,ye&&[ye],{tag:Kt(fe)}):k}time(ee,fe){return this._getLogFunction(ee,fe,console.time?console.time:console.info)}timeEnd(ee,fe){return this._getLogFunction(ee,fe,console.timeEnd?console.timeEnd:console.info)}timeStamp(ee,fe){return this._getLogFunction(ee,fe,console.timeStamp||k)}group(ee,fe,ye={collapsed:!1}){const Se=Ce({logLevel:ee,message:fe,opts:ye}),{collapsed:Be}=ye;return Se.method=(Be?console.groupCollapsed:console.group)||console.info,this._getLogFunction(Se)}groupCollapsed(ee,fe,ye={}){return this.group(ee,fe,Object.assign({},ye,{collapsed:!0}))}groupEnd(ee){return this._getLogFunction(ee,"",console.groupEnd||k)}withGroup(ee,fe,ye){this.group(ee,fe)();try{ye()}finally{this.groupEnd(ee)()}}trace(){console.trace&&console.trace()}_shouldLog(ee){return this.isEnabled()&&this.getLevel()>=Ze(ee)}_getLogFunction(ee,fe,ye,Se,Be){if(this._shouldLog(ee)){Be=Ce({logLevel:ee,message:fe,args:Se,opts:Be}),le(ye=ye||Be.method),Be.total=this.getTotal(),Be.delta=this.getDelta(),this._deltaTs=J();const yt=Be.tag||Be.message;if(Be.once&&yt){if(ue[yt])return k;ue[yt]=J()}return fe=function Nt(ee,fe,ye){if("string"==typeof fe){const Se=ye.time?m(function x(ee){let fe;return fe=ee<10?`${ee.toFixed(2)}ms`:ee<100?`${ee.toFixed(1)}ms`:ee<1e3?`${ee.toFixed(0)}ms`:`${(ee/1e3).toFixed(2)}s`,fe}(ye.total)):"";fe=ne(fe=ye.time?`${ee}: ${Se}  ${fe}`:`${ee}: ${fe}`,ye.color,ye.background)}return fe}(this.id,Be.message,Be),ye.bind(console,fe,...Be.args)}return k}};function Ze(ee){if(!ee)return 0;let fe;switch(typeof ee){case"number":fe=ee;break;case"object":fe=ee.logLevel||ee.priority||0;break;default:return 0}return le(Number.isFinite(fe)&&fe>=0),fe}function Ce(ee){const{logLevel:fe,message:ye}=ee;ee.logLevel=Ze(fe);const Se=ee.args?Array.from(ee.args):[];for(;Se.length&&Se.shift()!==ye;);switch(typeof fe){case"string":case"function":void 0!==ye&&Se.unshift(ye),ee.message=fe;break;case"object":Object.assign(ee,fe)}"function"==typeof ee.message&&(ee.message=ee.message());const Be=typeof ee.message;return le("string"===Be||"object"===Be),Object.assign(ee,{args:Se},ee.opts)}function Kt(ee){for(const fe in ee)for(const ye in ee[fe])return ye||"untitled";return"empty"}ke.VERSION=P.VERSION,globalThis.probe={};var me=new ke({id:"@probe.gl/log"})},750:ln=>{var G,qe=Object.defineProperty,w=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,C={};function d(){let G;if(typeof window<"u"&&window.performance)G=window.performance.now();else if(typeof process<"u"&&process.hrtime){const N=process.hrtime();G=1e3*N[0]+N[1]/1e6}else G=Date.now();return G}((G,N)=>{for(var x in N)qe(G,x,{get:N[x],enumerable:!0})})(C,{Stat:()=>F,Stats:()=>P,_getHiResTimestamp:()=>d}),ln.exports=(G=C,((G,N,x,m)=>{if(N&&"object"==typeof N||"function"==typeof N)for(let E of r(N))!s.call(G,E)&&undefined!==E&&qe(G,E,{get:()=>N[E],enumerable:!(m=w(N,E))||m.enumerable});return G})(qe({},"__esModule",{value:!0}),G));var F=class{constructor(G,N){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=G,this.type=N,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(G){return this.sampleSize=G,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(G){return this._count+=G,this._samples++,this._checkSampling(),this}subtractCount(G){return this._count-=G,this._samples++,this._checkSampling(),this}addTime(G){return this._time+=G,this.lastTiming=G,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=d(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(d()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}},P=class{constructor(G){this.stats={},this.id=G.id,this.stats={},this._initializeStats(G.stats),Object.seal(this)}get(G,N="count"){return this._getOrCreate({name:G,type:N})}get size(){return Object.keys(this.stats).length}reset(){for(const G of Object.values(this.stats))G.reset();return this}forEach(G){for(const N of Object.values(this.stats))G(N)}getTable(){const G={};return this.forEach(N=>{G[N.name]={time:N.time||0,count:N.count||0,average:N.getAverageTime()||0,hz:N.getHz()||0}}),G}_initializeStats(G=[]){G.forEach(N=>this._getOrCreate(N))}_getOrCreate(G){const{name:N,type:x}=G;let m=this.stats[N];return m||(m=G instanceof F?G:new F(N,x),this.stats[N]=m),m}}},89326:(ln,qe,w)=>{"use strict";const{VOID:r,PRIMITIVE:s,ARRAY:v,OBJECT:S,DATE:M,REGEXP:C,MAP:d,SET:F,ERROR:P,BIGINT:G}=w(80092),N="object"==typeof self?self:globalThis;qe.deserialize=E=>((E,L)=>{const ae=(Z,ne)=>(E.set(ne,Z),Z),U=Z=>{if(E.has(Z))return E.get(Z);const[ne,q]=L[Z];switch(ne){case s:case r:return ae(q,Z);case v:{const le=ae([],Z);for(const z of q)le.push(U(z));return le}case S:{const le=ae({},Z);for(const[z,J]of q)le[U(z)]=U(J);return le}case M:return ae(new Date(q),Z);case C:{const{source:le,flags:z}=q;return ae(new RegExp(le,z),Z)}case d:{const le=ae(new Map,Z);for(const[z,J]of q)le.set(U(z),U(J));return le}case F:{const le=ae(new Set,Z);for(const z of q)le.add(U(z));return le}case P:{const{name:le,message:z}=q;return ae(new N[le](z),Z)}case G:return ae(BigInt(q),Z);case"BigInt":return ae(Object(BigInt(q)),Z)}return ae(new N[ne](q),Z)};return U})(new Map,E)(0)},29685:(ln,qe,w)=>{"use strict";const{deserialize:r}=w(89326),{serialize:s}=w(43395);Object.defineProperty(qe,"__esModule",{value:!0}).default="function"==typeof structuredClone?(v,S)=>S&&("json"in S||"lossy"in S)?r(s(v,S)):structuredClone(v):(v,S)=>r(s(v,S)),qe.deserialize=r,qe.serialize=s},43395:(ln,qe,w)=>{"use strict";const{VOID:r,PRIMITIVE:s,ARRAY:v,OBJECT:S,DATE:M,REGEXP:C,MAP:d,SET:F,ERROR:P,BIGINT:G}=w(80092),N="",{toString:x}={},{keys:m}=Object,E=Z=>{const ne=typeof Z;if("object"!==ne||!Z)return[s,ne];const q=x.call(Z).slice(8,-1);switch(q){case"Array":return[v,N];case"Object":return[S,N];case"Date":return[M,N];case"RegExp":return[C,N];case"Map":return[d,N];case"Set":return[F,N]}return q.includes("Array")?[v,q]:q.includes("Error")?[P,q]:[S,q]},L=([Z,ne])=>Z===s&&("function"===ne||"symbol"===ne);qe.serialize=(Z,{json:ne,lossy:q}={})=>{const le=[];return((Z,ne,q,le)=>{const z=(he,we)=>{const k=le.push(he)-1;return q.set(we,k),k},J=he=>{if(q.has(he))return q.get(he);let[we,k]=E(he);switch(we){case s:{let Ie=he;switch(k){case"bigint":we=G,Ie=he.toString();break;case"function":case"symbol":if(Z)throw new TypeError("unable to serialize "+k);Ie=null;break;case"undefined":return z([r],he)}return z([we,Ie],he)}case v:{if(k)return z([k,[...he]],he);const Ie=[],ke=z([we,Ie],he);for(const Ze of he)Ie.push(J(Ze));return ke}case S:{if(k)switch(k){case"BigInt":return z([k,he.toString()],he);case"Boolean":case"Number":case"String":return z([k,he.valueOf()],he)}if(ne&&"toJSON"in he)return J(he.toJSON());const Ie=[],ke=z([we,Ie],he);for(const Ze of m(he))(Z||!L(E(he[Ze])))&&Ie.push([J(Ze),J(he[Ze])]);return ke}case M:return z([we,he.toISOString()],he);case C:{const{source:Ie,flags:ke}=he;return z([we,{source:Ie,flags:ke}],he)}case d:{const Ie=[],ke=z([we,Ie],he);for(const[Ze,Ce]of he)(Z||!L(E(Ze))&&!L(E(Ce)))&&Ie.push([J(Ze),J(Ce)]);return ke}case F:{const Ie=[],ke=z([we,Ie],he);for(const Ze of he)(Z||!L(E(Ze)))&&Ie.push(J(Ze));return ke}}const{message:ue}=he;return z([we,{name:k,message:ue}],he)};return J})(!(ne||q),!!ne,new Map,le)(Z),le}},80092:(ln,qe)=>{"use strict";qe.VOID=-1,qe.PRIMITIVE=0,qe.ARRAY=1,qe.OBJECT=2,qe.DATE=3,qe.REGEXP=4,qe.MAP=5,qe.SET=6,qe.ERROR=7,qe.BIGINT=8},26579:()=>{var ln,qe;qe=ln||(ln={}),function(w){var r="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function C(){return function S(){try{return Function("return this;")()}catch{}}()||function M(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),s=v(qe);function v(d,F){return function(P,G){Object.defineProperty(d,P,{configurable:!0,writable:!0,value:G}),F&&F(P,G)}}typeof r.Reflect<"u"&&(s=v(r.Reflect,s)),function(w,r){var s=Object.prototype.hasOwnProperty,v="function"==typeof Symbol,S=v&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",M=v&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",C="function"==typeof Object.create,d={__proto__:[]}instanceof Array,F=!C&&!d,P={create:C?function(){return Pt(Object.create(null))}:d?function(){return Pt({__proto__:null})}:function(){return Pt({})},has:F?function(it,Bt){return s.call(it,Bt)}:function(it,Bt){return Bt in it},get:F?function(it,Bt){return s.call(it,Bt)?it[Bt]:void 0}:function(it,Bt){return it[Bt]}},G=Object.getPrototypeOf(Function),N="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function ut(){var it={},Bt=[],pn=function(){function zt(Zt,Cn,Zn){this._index=0,this._keys=Zt,this._values=Cn,this._selector=Zn}return zt.prototype["@@iterator"]=function(){return this},zt.prototype[M]=function(){return this},zt.prototype.next=function(){var Zt=this._index;if(Zt>=0&&Zt<this._keys.length){var Cn=this._selector(this._keys[Zt],this._values[Zt]);return Zt+1>=this._keys.length?(this._index=-1,this._keys=Bt,this._values=Bt):this._index++,{value:Cn,done:!1}}return{value:void 0,done:!0}},zt.prototype.throw=function(Zt){throw this._index>=0&&(this._index=-1,this._keys=Bt,this._values=Bt),Zt},zt.prototype.return=function(Zt){return this._index>=0&&(this._index=-1,this._keys=Bt,this._values=Bt),{value:Zt,done:!0}},zt}();return function(){function zt(){this._keys=[],this._values=[],this._cacheKey=it,this._cacheIndex=-2}return Object.defineProperty(zt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),zt.prototype.has=function(Zt){return this._find(Zt,!1)>=0},zt.prototype.get=function(Zt){var Cn=this._find(Zt,!1);return Cn>=0?this._values[Cn]:void 0},zt.prototype.set=function(Zt,Cn){var Zn=this._find(Zt,!0);return this._values[Zn]=Cn,this},zt.prototype.delete=function(Zt){var Cn=this._find(Zt,!1);if(Cn>=0){for(var Zn=this._keys.length,br=Cn+1;br<Zn;br++)this._keys[br-1]=this._keys[br],this._values[br-1]=this._values[br];return this._keys.length--,this._values.length--,T(Zt,this._cacheKey)&&(this._cacheKey=it,this._cacheIndex=-2),!0}return!1},zt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=it,this._cacheIndex=-2},zt.prototype.keys=function(){return new pn(this._keys,this._values,mt)},zt.prototype.values=function(){return new pn(this._keys,this._values,Ut)},zt.prototype.entries=function(){return new pn(this._keys,this._values,Ne)},zt.prototype["@@iterator"]=function(){return this.entries()},zt.prototype[M]=function(){return this.entries()},zt.prototype._find=function(Zt,Cn){if(!T(this._cacheKey,Zt)){this._cacheIndex=-1;for(var Zn=0;Zn<this._keys.length;Zn++)if(T(this._keys[Zn],Zt)){this._cacheIndex=Zn;break}}return this._cacheIndex<0&&Cn&&(this._cacheIndex=this._keys.length,this._keys.push(Zt),this._values.push(void 0)),this._cacheIndex},zt}();function mt(zt,Zt){return zt}function Ut(zt,Zt){return Zt}function Ne(zt,Zt){return[zt,Zt]}}(),x="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function en(){return function(){function Bt(){this._map=new N}return Object.defineProperty(Bt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Bt.prototype.has=function(pn){return this._map.has(pn)},Bt.prototype.add=function(pn){return this._map.set(pn,pn),this},Bt.prototype.delete=function(pn){return this._map.delete(pn)},Bt.prototype.clear=function(){this._map.clear()},Bt.prototype.keys=function(){return this._map.keys()},Bt.prototype.values=function(){return this._map.keys()},Bt.prototype.entries=function(){return this._map.entries()},Bt.prototype["@@iterator"]=function(){return this.keys()},Bt.prototype[M]=function(){return this.keys()},Bt}()}(),m="function"==typeof WeakMap?WeakMap:function Oe(){var it=16,Bt=P.create(),pn=st();return function(){function Zt(){this._key=st()}return Zt.prototype.has=function(Cn){var Zn=mt(Cn,!1);return void 0!==Zn&&P.has(Zn,this._key)},Zt.prototype.get=function(Cn){var Zn=mt(Cn,!1);return void 0!==Zn?P.get(Zn,this._key):void 0},Zt.prototype.set=function(Cn,Zn){return mt(Cn,!0)[this._key]=Zn,this},Zt.prototype.delete=function(Cn){var Zn=mt(Cn,!1);return void 0!==Zn&&delete Zn[this._key]},Zt.prototype.clear=function(){this._key=st()},Zt}();function st(){var Zt;do{Zt="@@WeakMap@@"+zt()}while(P.has(Bt,Zt));return Bt[Zt]=!0,Zt}function mt(Zt,Cn){if(!s.call(Zt,pn)){if(!Cn)return;Object.defineProperty(Zt,pn,{value:P.create()})}return Zt[pn]}function Ut(Zt,Cn){for(var Zn=0;Zn<Cn;++Zn)Zt[Zn]=255*Math.random()|0;return Zt}function zt(){var Zt=function Ne(Zt){if("function"==typeof Uint8Array){var Cn=new Uint8Array(Zt);return typeof crypto<"u"?crypto.getRandomValues(Cn):typeof msCrypto<"u"?msCrypto.getRandomValues(Cn):Ut(Cn,Zt),Cn}return Ut(new Array(Zt),Zt)}(it);Zt[6]=79&Zt[6]|64,Zt[8]=191&Zt[8]|128;for(var Cn="",Zn=0;Zn<it;++Zn){var br=Zt[Zn];(4===Zn||6===Zn||8===Zn)&&(Cn+="-"),br<16&&(Cn+="0"),Cn+=br.toString(16).toLowerCase()}return Cn}}(),E=v?Symbol.for("@reflect-metadata:registry"):void 0,L=function K(){var it;return!ye(E)&&yt(r.Reflect)&&Object.isExtensible(r.Reflect)&&(it=r.Reflect[E]),ye(it)&&(it=function D(){var it;!ye(E)&&typeof r.Reflect<"u"&&!(E in r.Reflect)&&"function"==typeof r.Reflect.defineMetadata&&(it=function Le(it){var Bt=it.defineMetadata,pn=it.hasOwnMetadata,st=it.getOwnMetadata,mt=it.getOwnMetadataKeys,Ut=it.deleteMetadata,Ne=new m;return{isProviderFor:function(Zt,Cn){var Zn=Ne.get(Zt);return!(ye(Zn)||!Zn.has(Cn))||!!mt(Zt,Cn).length&&(ye(Zn)&&(Zn=new x,Ne.set(Zt,Zn)),Zn.add(Cn),!0)},OrdinaryDefineOwnMetadata:Bt,OrdinaryHasOwnMetadata:pn,OrdinaryGetOwnMetadata:st,OrdinaryOwnMetadataKeys:mt,OrdinaryDeleteMetadata:Ut}}(r.Reflect));var Bt,pn,st,mt=new m,Ut={registerProvider:Ne,getProvider:Zt,setProvider:Zn};return Ut;function Ne(br){if(!Object.isExtensible(Ut))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case it===br:break;case ye(Bt):Bt=br;break;case Bt===br:break;case ye(pn):pn=br;break;case pn===br:break;default:void 0===st&&(st=new x),st.add(br)}}function zt(br,Mr){if(!ye(Bt)){if(Bt.isProviderFor(br,Mr))return Bt;if(!ye(pn)){if(pn.isProviderFor(br,Mr))return Bt;if(!ye(st))for(var yn=j(st);;){var St=I(yn);if(!St)return;var kt=h(St);if(kt.isProviderFor(br,Mr))return xe(yn),kt}}}if(!ye(it)&&it.isProviderFor(br,Mr))return it}function Zt(br,Mr){var St,yn=mt.get(br);return ye(yn)||(St=yn.get(Mr)),ye(St)&&(ye(St=zt(br,Mr))||(ye(yn)&&(yn=new N,mt.set(br,yn)),yn.set(Mr,St))),St}function Cn(br){if(ye(br))throw new TypeError;return Bt===br||pn===br||!ye(st)&&st.has(br)}function Zn(br,Mr,yn){if(!Cn(yn))throw new Error("Metadata provider not registered.");var St=Zt(br,Mr);if(St!==yn){if(!ye(St))return!1;var kt=mt.get(br);ye(kt)&&(kt=new N,mt.set(br,kt)),kt.set(Mr,yn)}return!0}}()),!ye(E)&&yt(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,E,{enumerable:!1,configurable:!1,writable:!1,value:it}),it}(),ae=function se(it){var Bt=new m,pn={isProviderFor:function(Cn,Zn){var br=Bt.get(Cn);return!ye(br)&&br.has(Zn)},OrdinaryDefineOwnMetadata:function Ne(Cn,Zn,br,Mr){st(br,Mr,!0).set(Cn,Zn)},OrdinaryHasOwnMetadata:function mt(Cn,Zn,br){var Mr=st(Zn,br,!1);return!ye(Mr)&&Tt(Mr.has(Cn))},OrdinaryGetOwnMetadata:function Ut(Cn,Zn,br){var Mr=st(Zn,br,!1);if(!ye(Mr))return Mr.get(Cn)},OrdinaryOwnMetadataKeys:function zt(Cn,Zn){var br=[],Mr=st(Cn,Zn,!1);if(ye(Mr))return br;for(var St=j(Mr.keys()),kt=0;;){var Mt=I(St);if(!Mt)return br.length=kt,br;var bt=h(Mt);try{br[kt]=bt}catch(sn){try{xe(St)}finally{throw sn}}kt++}},OrdinaryDeleteMetadata:function Zt(Cn,Zn,br){var Mr=st(Zn,br,!1);if(ye(Mr)||!Mr.delete(Cn))return!1;if(0===Mr.size){var yn=Bt.get(Zn);ye(yn)||(yn.delete(br),0===yn.size&&Bt.delete(yn))}return!0}};return L.registerProvider(pn),pn;function st(Cn,Zn,br){var Mr=Bt.get(Cn),yn=!1;if(ye(Mr)){if(!br)return;Mr=new N,Bt.set(Cn,Mr),yn=!0}var St=Mr.get(Zn);if(ye(St)){if(!br)return;if(St=new N,Mr.set(Zn,St),!it.setProvider(Cn,Zn,pn))throw Mr.delete(Zn),yn&&Bt.delete(Cn),new Error("Wrong provider for target.")}return St}}(L);function ke(it,Bt,pn){if(Ze(it,Bt,pn))return!0;var mt=ie(Bt);return!Se(mt)&&ke(it,mt,pn)}function Ze(it,Bt,pn){var st=ct(Bt,pn,!1);return!ye(st)&&Tt(st.OrdinaryHasOwnMetadata(it,Bt,pn))}function Ce(it,Bt,pn){if(Ze(it,Bt,pn))return Nt(it,Bt,pn);var mt=ie(Bt);return Se(mt)?void 0:Ce(it,mt,pn)}function Nt(it,Bt,pn){var st=ct(Bt,pn,!1);if(!ye(st))return st.OrdinaryGetOwnMetadata(it,Bt,pn)}function Kt(it,Bt,pn,st){ct(pn,st,!0).OrdinaryDefineOwnMetadata(it,Bt,pn,st)}function me(it,Bt){var pn=ee(it,Bt),st=ie(it);if(null===st)return pn;var mt=me(st,Bt);if(mt.length<=0)return pn;if(pn.length<=0)return mt;for(var Ut=new x,Ne=[],zt=0,Zt=pn;zt<Zt.length;zt++)Ut.has(Cn=Zt[zt])||(Ut.add(Cn),Ne.push(Cn));for(var br=0,Mr=mt;br<Mr.length;br++){var Cn;Ut.has(Cn=Mr[br])||(Ut.add(Cn),Ne.push(Cn))}return Ne}function ee(it,Bt){var pn=ct(it,Bt,!1);return pn?pn.OrdinaryOwnMetadataKeys(it,Bt):[]}function fe(it){if(null===it)return 1;switch(typeof it){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===it?1:6;default:return 6}}function ye(it){return void 0===it}function Se(it){return null===it}function yt(it){return"object"==typeof it?null!==it:"function"==typeof it}function qt(it,Bt){switch(fe(it)){case 0:case 1:case 2:case 3:case 4:case 5:return it}var pn=3===Bt?"string":5===Bt?"number":"default",st=V(it,S);if(void 0!==st){var mt=st.call(it,pn);if(yt(mt))throw new TypeError;return mt}return function Ln(it,Bt){if("string"===Bt){var pn=it.toString;if(Y(pn)&&!yt(st=pn.call(it)))return st;if(Y(mt=it.valueOf)&&!yt(st=mt.call(it)))return st}else{var mt;if(Y(mt=it.valueOf)&&!yt(st=mt.call(it)))return st;var st,Ut=it.toString;if(Y(Ut)&&!yt(st=Ut.call(it)))return st}throw new TypeError}(it,"default"===pn?"number":pn)}function Tt(it){return!!it}function Ve(it){var Bt=qt(it,3);return function Be(it){return"symbol"==typeof it}(Bt)?Bt:function We(it){return""+it}(Bt)}function wt(it){return Array.isArray?Array.isArray(it):it instanceof Object?it instanceof Array:"[object Array]"===Object.prototype.toString.call(it)}function Y(it){return"function"==typeof it}function b(it){return"function"==typeof it}function T(it,Bt){return it===Bt||it!=it&&Bt!=Bt}function V(it,Bt){var pn=it[Bt];if(null!=pn){if(!Y(pn))throw new TypeError;return pn}}function j(it){var Bt=V(it,M);if(!Y(Bt))throw new TypeError;var pn=Bt.call(it);if(!yt(pn))throw new TypeError;return pn}function h(it){return it.value}function I(it){var Bt=it.next();return!Bt.done&&Bt}function xe(it){var Bt=it.return;Bt&&Bt.call(it)}function ie(it){var Bt=Object.getPrototypeOf(it);if("function"!=typeof it||it===G||Bt!==G)return Bt;var pn=it.prototype,st=pn&&Object.getPrototypeOf(pn);if(null==st||st===Object.prototype)return Bt;var mt=st.constructor;return"function"!=typeof mt||mt===it?Bt:mt}function ct(it,Bt,pn){var st=L.getProvider(it,Bt);if(!ye(st))return st;if(pn){if(L.setProvider(it,Bt,ae))return ae;throw new Error("Illegal state.")}}function Pt(it){return it.__=void 0,delete it.__,it}w("decorate",function U(it,Bt,pn,st){if(ye(pn)){if(!wt(it))throw new TypeError;if(!b(Bt))throw new TypeError;return function ue(it,Bt){for(var pn=it.length-1;pn>=0;--pn){var mt=(0,it[pn])(Bt);if(!ye(mt)&&!Se(mt)){if(!b(mt))throw new TypeError;Bt=mt}}return Bt}(it,Bt)}if(!wt(it))throw new TypeError;if(!yt(Bt))throw new TypeError;if(!yt(st)&&!ye(st)&&!Se(st))throw new TypeError;return Se(st)&&(st=void 0),function Ie(it,Bt,pn,st){for(var mt=it.length-1;mt>=0;--mt){var Ne=(0,it[mt])(Bt,pn,st);if(!ye(Ne)&&!Se(Ne)){if(!yt(Ne))throw new TypeError;st=Ne}}return st}(it,Bt,pn=Ve(pn),st)}),w("metadata",function Z(it,Bt){return function pn(st,mt){if(!yt(st))throw new TypeError;if(!ye(mt)&&!function R(it){switch(fe(it)){case 3:case 4:return!0;default:return!1}}(mt))throw new TypeError;Kt(it,Bt,st,mt)}}),w("defineMetadata",function ne(it,Bt,pn,st){if(!yt(pn))throw new TypeError;return ye(st)||(st=Ve(st)),Kt(it,Bt,pn,st)}),w("hasMetadata",function q(it,Bt,pn){if(!yt(Bt))throw new TypeError;return ye(pn)||(pn=Ve(pn)),ke(it,Bt,pn)}),w("hasOwnMetadata",function le(it,Bt,pn){if(!yt(Bt))throw new TypeError;return ye(pn)||(pn=Ve(pn)),Ze(it,Bt,pn)}),w("getMetadata",function z(it,Bt,pn){if(!yt(Bt))throw new TypeError;return ye(pn)||(pn=Ve(pn)),Ce(it,Bt,pn)}),w("getOwnMetadata",function J(it,Bt,pn){if(!yt(Bt))throw new TypeError;return ye(pn)||(pn=Ve(pn)),Nt(it,Bt,pn)}),w("getMetadataKeys",function he(it,Bt){if(!yt(it))throw new TypeError;return ye(Bt)||(Bt=Ve(Bt)),me(it,Bt)}),w("getOwnMetadataKeys",function we(it,Bt){if(!yt(it))throw new TypeError;return ye(Bt)||(Bt=Ve(Bt)),ee(it,Bt)}),w("deleteMetadata",function k(it,Bt,pn){if(!yt(Bt))throw new TypeError;if(ye(pn)||(pn=Ve(pn)),!yt(Bt))throw new TypeError;ye(pn)||(pn=Ve(pn));var st=ct(Bt,pn,!1);return!ye(st)&&st.OrdinaryDeleteMetadata(it,Bt,pn)})}(s,r),typeof r.Reflect>"u"&&(r.Reflect=qe)}()},36430:(ln,qe,w)=>{var r=w(88696);function s(v){var S,M;function C(F,P){try{var G=v[F](P),N=G.value,x=N instanceof r;Promise.resolve(x?N.v:N).then(function(m){if(x){var E="return"===F?"return":"next";if(!N.k||m.done)return C(E,m);m=v[E](m).value}d(G.done?"return":"normal",m)},function(m){C("throw",m)})}catch(m){d("throw",m)}}function d(F,P){switch(F){case"return":S.resolve({value:P,done:!0});break;case"throw":S.reject(P);break;default:S.resolve({value:P,done:!1})}(S=S.next)?C(S.key,S.arg):M=null}this._invoke=function(F,P){return new Promise(function(G,N){var x={key:F,arg:P,resolve:G,reject:N,next:null};M?M=M.next=x:(S=M=x,C(F,P))})},"function"!=typeof v.return&&(this.return=void 0)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(v){return this._invoke("next",v)},s.prototype.throw=function(v){return this._invoke("throw",v)},s.prototype.return=function(v){return this._invoke("return",v)},ln.exports=s,ln.exports.__esModule=!0,ln.exports.default=ln.exports},88696:ln=>{ln.exports=function qe(w,r){this.v=w,this.k=r},ln.exports.__esModule=!0,ln.exports.default=ln.exports},79640:ln=>{ln.exports=function qe(w,r,s){if("function"==typeof w?w===r:w.has(r))return arguments.length<3?r:s;throw new TypeError("Private element is not present on this object")},ln.exports.__esModule=!0,ln.exports.default=ln.exports},88429:(ln,qe,w)=>{var r=w(88696);ln.exports=function s(v){var S={},M=!1;function C(d,F){return M=!0,F=new Promise(function(P){P(v[d](F))}),{done:!1,value:new r(F,1)}}return S[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},S.next=function(d){return M?(M=!1,d):C("next",d)},"function"==typeof v.throw&&(S.throw=function(d){if(M)throw M=!1,d;return C("throw",d)}),"function"==typeof v.return&&(S.return=function(d){return M?(M=!1,d):C("return",d)}),S},ln.exports.__esModule=!0,ln.exports.default=ln.exports},57909:ln=>{function w(r){function s(v){if(Object(v)!==v)return Promise.reject(new TypeError(v+" is not an object."));var S=v.done;return Promise.resolve(v.value).then(function(M){return{value:M,done:S}})}return(w=function(S){this.s=S,this.n=S.next}).prototype={s:null,n:null,next:function(){return s(this.n.apply(this.s,arguments))},return:function(S){var M=this.s.return;return void 0===M?Promise.resolve({value:S,done:!0}):s(M.apply(this.s,arguments))},throw:function(S){var M=this.s.return;return void 0===M?Promise.reject(S):s(M.apply(this.s,arguments))}},new w(r)}ln.exports=function qe(r){var s,v,S,M=2;for(typeof Symbol<"u"&&(v=Symbol.asyncIterator,S=Symbol.iterator);M--;){if(v&&null!=(s=r[v]))return s.call(r);if(S&&null!=(s=r[S]))return new w(s.call(r));v="@@asyncIterator",S="@@iterator"}throw new TypeError("Object is not async iterable")},ln.exports.__esModule=!0,ln.exports.default=ln.exports},31049:ln=>{function qe(r,s,v,S,M,C,d){try{var F=r[C](d),P=F.value}catch(G){return void v(G)}F.done?s(P):Promise.resolve(P).then(S,M)}ln.exports=function w(r){return function(){var s=this,v=arguments;return new Promise(function(S,M){var C=r.apply(s,v);function d(P){qe(C,S,M,d,F,"next",P)}function F(P){qe(C,S,M,d,F,"throw",P)}d(void 0)})}},ln.exports.__esModule=!0,ln.exports.default=ln.exports},47604:(ln,qe,w)=>{var r=w(88696);ln.exports=function s(v){return new r(v,0)},ln.exports.__esModule=!0,ln.exports.default=ln.exports},63329:ln=>{ln.exports=function qe(w,r){if(r.has(w))throw new TypeError("Cannot initialize the same private elements twice on an object")},ln.exports.__esModule=!0,ln.exports.default=ln.exports},15488:(ln,qe,w)=>{var r=w(79640);ln.exports=function s(v,S){return v.get(r(v,S))},ln.exports.__esModule=!0,ln.exports.default=ln.exports},15199:(ln,qe,w)=>{var r=w(63329);ln.exports=function s(v,S,M){r(v,S),S.set(v,M)},ln.exports.__esModule=!0,ln.exports.default=ln.exports},19420:(ln,qe,w)=>{var r=w(79640);ln.exports=function s(v,S,M){return v.set(r(v,S),M),M},ln.exports.__esModule=!0,ln.exports.default=ln.exports},48788:(ln,qe,w)=>{var r=w(63329);ln.exports=function s(v,S){r(v,S),S.add(v)},ln.exports.__esModule=!0,ln.exports.default=ln.exports},15985:(ln,qe,w)=>{var r=w(84676);ln.exports=function s(v,S,M){return(S=r(S))in v?Object.defineProperty(v,S,{value:M,enumerable:!0,configurable:!0,writable:!0}):v[S]=M,v},ln.exports.__esModule=!0,ln.exports.default=ln.exports},8705:(ln,qe,w)=>{var r=w(12990).default;ln.exports=function s(v,S){if("object"!=r(v)||!v)return v;var M=v[Symbol.toPrimitive];if(void 0!==M){var C=M.call(v,S||"default");if("object"!=r(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(v)},ln.exports.__esModule=!0,ln.exports.default=ln.exports},84676:(ln,qe,w)=>{var r=w(12990).default,s=w(8705);ln.exports=function v(S){var M=s(S,"string");return"symbol"==r(M)?M:String(M)},ln.exports.__esModule=!0,ln.exports.default=ln.exports},12990:ln=>{function qe(w){return ln.exports=qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ln.exports.__esModule=!0,ln.exports.default=ln.exports,qe(w)}ln.exports=qe,ln.exports.__esModule=!0,ln.exports.default=ln.exports},88322:(ln,qe,w)=>{var r=w(36430);ln.exports=function s(v){return function(){return new r(v.apply(this,arguments))}},ln.exports.__esModule=!0,ln.exports.default=ln.exports},49969:(ln,qe,w)=>{"use strict";w.d(qe,{FX:()=>k,If:()=>r,K2:()=>C,MA:()=>x,Os:()=>M,P:()=>E,hZ:()=>v,i0:()=>S,iF:()=>d,kY:()=>G,kp:()=>s,lY:()=>N,sM:()=>m,sf:()=>he,ui:()=>we,wk:()=>F});var r=function(ue){return ue[ue.State=0]="State",ue[ue.Transition=1]="Transition",ue[ue.Sequence=2]="Sequence",ue[ue.Group=3]="Group",ue[ue.Animate=4]="Animate",ue[ue.Keyframes=5]="Keyframes",ue[ue.Style=6]="Style",ue[ue.Trigger=7]="Trigger",ue[ue.Reference=8]="Reference",ue[ue.AnimateChild=9]="AnimateChild",ue[ue.AnimateRef=10]="AnimateRef",ue[ue.Query=11]="Query",ue[ue.Stagger=12]="Stagger",ue}(r||{});const s="*";function v(ue,Ie){return{type:r.Trigger,name:ue,definitions:Ie,options:{}}}function S(ue,Ie=null){return{type:r.Animate,styles:Ie,timings:ue}}function M(ue,Ie=null){return{type:r.Group,steps:ue,options:Ie}}function C(ue,Ie=null){return{type:r.Sequence,steps:ue,options:Ie}}function d(ue){return{type:r.Style,styles:ue,offset:null}}function F(ue,Ie,ke){return{type:r.State,name:ue,styles:Ie,options:ke}}function G(ue,Ie,ke=null){return{type:r.Transition,expr:ue,animation:Ie,options:ke}}function N(ue,Ie=null){return{type:r.Reference,animation:ue,options:Ie}}function x(ue=null){return{type:r.AnimateChild,options:ue}}function m(ue,Ie=null){return{type:r.AnimateRef,animation:ue,options:Ie}}function E(ue,Ie,ke=null){return{type:r.Query,selector:ue,animation:Ie,options:ke}}class he{constructor(Ie=0,ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ie+ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}onStart(Ie){this._originalOnStartFns.push(Ie),this._onStartFns.push(Ie)}onDone(Ie){this._originalOnDoneFns.push(Ie),this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ie){this._position=this.totalTime?Ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ie){const ke="start"==Ie?this._onStartFns:this._onDoneFns;ke.forEach(Ze=>Ze()),ke.length=0}}class we{constructor(Ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ie;let ke=0,Ze=0,Ce=0;const Nt=this.players.length;0==Nt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Kt=>{Kt.onDone(()=>{++ke==Nt&&this._onFinish()}),Kt.onDestroy(()=>{++Ze==Nt&&this._onDestroy()}),Kt.onStart(()=>{++Ce==Nt&&this._onStart()})}),this.totalTime=this.players.reduce((Kt,me)=>Math.max(Kt,me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}init(){this.players.forEach(Ie=>Ie.init())}onStart(Ie){this._onStartFns.push(Ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[])}onDone(Ie){this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ie=>Ie.play())}pause(){this.players.forEach(Ie=>Ie.pause())}restart(){this.players.forEach(Ie=>Ie.restart())}finish(){this._onFinish(),this.players.forEach(Ie=>Ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ie=>Ie.destroy()),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this.players.forEach(Ie=>Ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ie){const ke=Ie*this.totalTime;this.players.forEach(Ze=>{const Ce=Ze.totalTime?Math.min(1,ke/Ze.totalTime):1;Ze.setPosition(Ce)})}getPosition(){const Ie=this.players.reduce((ke,Ze)=>null===ke||Ze.totalTime>ke.totalTime?Ze:ke,null);return null!=Ie?Ie.getPosition():0}beforeDestroy(){this.players.forEach(Ie=>{Ie.beforeDestroy&&Ie.beforeDestroy()})}triggerCallback(Ie){const ke="start"==Ie?this._onStartFns:this._onDoneFns;ke.forEach(Ze=>Ze()),ke.length=0}}const k="!"},18617:(ln,qe,w)=>{"use strict";w.d(qe,{Ai:()=>Bt,Bu:()=>Kt,FN:()=>Ne,GX:()=>R,Pd:()=>yn,Q_:()=>Mr,Z7:()=>ee,_G:()=>ie,kB:()=>T,vr:()=>Ie,w6:()=>D});var r=w(60177),s=w(54438),v=w(36860),S=w(85052),M=w(81027),C=w(29160),d=w(15877),F=w(67336),P=w(39705),G=w(87996),N=w(14264),x=w(36110),m=w(17365),E=w(87145),L=w(21082),ae=w(37925),U=w(72318),Z=w(14085),ne=w(99327);function J(St,kt){return St.getAttribute(kt)?.match(/\S+/g)??[]}const we="cdk-describedby-message",k="cdk-describedby-host";let ue=0,Ie=(()=>{var St;class kt{constructor(bt,sn){this._platform=sn,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ue++,this._document=bt,this._id=(0,s.WQX)(s.sZ2)+"-"+ue++}describe(bt,sn,Yt){if(!this._canBeDescribed(bt,sn))return;const Qe=ke(sn,Yt);"string"!=typeof sn?(Ze(sn,this._id),this._messageRegistry.set(Qe,{messageElement:sn,referenceCount:0})):this._messageRegistry.has(Qe)||this._createMessageElement(sn,Yt),this._isElementDescribedByMessage(bt,Qe)||this._addMessageReference(bt,Qe)}removeDescription(bt,sn,Yt){if(!sn||!this._isElementNode(bt))return;const Qe=ke(sn,Yt);if(this._isElementDescribedByMessage(bt,Qe)&&this._removeMessageReference(bt,Qe),"string"==typeof sn){const Lt=this._messageRegistry.get(Qe);Lt&&0===Lt.referenceCount&&this._deleteMessageElement(Qe)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const bt=this._document.querySelectorAll(`[${k}="${this._id}"]`);for(let sn=0;sn<bt.length;sn++)this._removeCdkDescribedByReferenceIds(bt[sn]),bt[sn].removeAttribute(k);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(bt,sn){const Yt=this._document.createElement("div");Ze(Yt,this._id),Yt.textContent=bt,sn&&Yt.setAttribute("role",sn),this._createMessagesContainer(),this._messagesContainer.appendChild(Yt),this._messageRegistry.set(ke(bt,sn),{messageElement:Yt,referenceCount:0})}_deleteMessageElement(bt){this._messageRegistry.get(bt)?.messageElement?.remove(),this._messageRegistry.delete(bt)}_createMessagesContainer(){if(this._messagesContainer)return;const bt="cdk-describedby-message-container",sn=this._document.querySelectorAll(`.${bt}[platform="server"]`);for(let Qe=0;Qe<sn.length;Qe++)sn[Qe].remove();const Yt=this._document.createElement("div");Yt.style.visibility="hidden",Yt.classList.add(bt),Yt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Yt.setAttribute("platform","server"),this._document.body.appendChild(Yt),this._messagesContainer=Yt}_removeCdkDescribedByReferenceIds(bt){const sn=J(bt,"aria-describedby").filter(Yt=>0!=Yt.indexOf(we));bt.setAttribute("aria-describedby",sn.join(" "))}_addMessageReference(bt,sn){const Yt=this._messageRegistry.get(sn);(function le(St,kt,Mt){const bt=J(St,kt);Mt=Mt.trim(),!bt.some(sn=>sn.trim()===Mt)&&(bt.push(Mt),St.setAttribute(kt,bt.join(" ")))})(bt,"aria-describedby",Yt.messageElement.id),bt.setAttribute(k,this._id),Yt.referenceCount++}_removeMessageReference(bt,sn){const Yt=this._messageRegistry.get(sn);Yt.referenceCount--,function z(St,kt,Mt){const bt=J(St,kt);Mt=Mt.trim();const sn=bt.filter(Yt=>Yt!==Mt);sn.length?St.setAttribute(kt,sn.join(" ")):St.removeAttribute(kt)}(bt,"aria-describedby",Yt.messageElement.id),bt.removeAttribute(k)}_isElementDescribedByMessage(bt,sn){const Yt=J(bt,"aria-describedby"),Qe=this._messageRegistry.get(sn),Lt=Qe&&Qe.messageElement.id;return!!Lt&&-1!=Yt.indexOf(Lt)}_canBeDescribed(bt,sn){if(!this._isElementNode(bt))return!1;if(sn&&"object"==typeof sn)return!0;const Yt=null==sn?"":`${sn}`.trim(),Qe=bt.getAttribute("aria-label");return!(!Yt||Qe&&Qe.trim()===Yt)}_isElementNode(bt){return bt.nodeType===this._document.ELEMENT_NODE}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.KVO(r.qQ),s.KVO(v.OD))},St.\u0275prov=s.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),kt})();function ke(St,kt){return"string"==typeof St?`${kt||""}/${St}`:St}function Ze(St,kt){St.id||(St.id=`${we}-${kt}-${ue++}`)}class Ce{constructor(kt,Mt){this._items=kt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new S.B,this._typeaheadSubscription=M.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=bt=>bt.disabled,this._pressedLetters=[],this.tabOut=new S.B,this.change=new S.B,kt instanceof s.rOR?this._itemChangesSubscription=kt.changes.subscribe(bt=>this._itemsChanged(bt.toArray())):(0,s.Hps)(kt)&&(this._effectRef=(0,s.QZP)(()=>this._itemsChanged(kt()),{injector:Mt}))}skipPredicate(kt){return this._skipPredicateFn=kt,this}withWrap(kt=!0){return this._wrap=kt,this}withVerticalOrientation(kt=!0){return this._vertical=kt,this}withHorizontalOrientation(kt){return this._horizontal=kt,this}withAllowedModifierKeys(kt){return this._allowedModifierKeys=kt,this}withTypeAhead(kt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,P.M)(Mt=>this._pressedLetters.push(Mt)),(0,G.B)(kt),(0,N.p)(()=>this._pressedLetters.length>0),(0,x.T)(()=>this._pressedLetters.join(""))).subscribe(Mt=>{const bt=this._getItemsArray();for(let sn=1;sn<bt.length+1;sn++){const Yt=(this._activeItemIndex+sn)%bt.length,Qe=bt[Yt];if(!this._skipPredicateFn(Qe)&&0===Qe.getLabel().toUpperCase().trim().indexOf(Mt)){this.setActiveItem(Yt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(kt=!0){return this._homeAndEnd=kt,this}withPageUpDown(kt=!0,Mt=10){return this._pageUpAndDown={enabled:kt,delta:Mt},this}setActiveItem(kt){const Mt=this._activeItem;this.updateActiveItem(kt),this._activeItem!==Mt&&this.change.next(this._activeItemIndex)}onKeydown(kt){const Mt=kt.keyCode,sn=["altKey","ctrlKey","metaKey","shiftKey"].every(Yt=>!kt[Yt]||this._allowedModifierKeys.indexOf(Yt)>-1);switch(Mt){case F.wn:return void this.tabOut.next();case F.n6:if(this._vertical&&sn){this.setNextItemActive();break}return;case F.i7:if(this._vertical&&sn){this.setPreviousItemActive();break}return;case F.LE:if(this._horizontal&&sn){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case F.UQ:if(this._horizontal&&sn){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case F.yZ:if(this._homeAndEnd&&sn){this.setFirstItemActive();break}return;case F.Kp:if(this._homeAndEnd&&sn){this.setLastItemActive();break}return;case F.w_:if(this._pageUpAndDown.enabled&&sn){const Yt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Yt>0?Yt:0,1);break}return;case F.dB:if(this._pageUpAndDown.enabled&&sn){const Yt=this._activeItemIndex+this._pageUpAndDown.delta,Qe=this._getItemsArray().length;this._setActiveItemByIndex(Yt<Qe?Yt:Qe-1,-1);break}return;default:return void((sn||(0,F.rp)(kt,"shiftKey"))&&(kt.key&&1===kt.key.length?this._letterKeyStream.next(kt.key.toLocaleUpperCase()):(Mt>=F.A&&Mt<=F.Z||Mt>=F.f2&&Mt<=F.bn)&&this._letterKeyStream.next(String.fromCharCode(Mt))))}this._pressedLetters=[],kt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(kt){const Mt=this._getItemsArray(),bt="number"==typeof kt?kt:Mt.indexOf(kt);this._activeItem=Mt[bt]??null,this._activeItemIndex=bt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(kt){this._wrap?this._setActiveInWrapMode(kt):this._setActiveInDefaultMode(kt)}_setActiveInWrapMode(kt){const Mt=this._getItemsArray();for(let bt=1;bt<=Mt.length;bt++){const sn=(this._activeItemIndex+kt*bt+Mt.length)%Mt.length;if(!this._skipPredicateFn(Mt[sn]))return void this.setActiveItem(sn)}}_setActiveInDefaultMode(kt){this._setActiveItemByIndex(this._activeItemIndex+kt,kt)}_setActiveItemByIndex(kt,Mt){const bt=this._getItemsArray();if(bt[kt]){for(;this._skipPredicateFn(bt[kt]);)if(!bt[kt+=Mt])return;this.setActiveItem(kt)}}_getItemsArray(){return(0,s.Hps)(this._items)?this._items():this._items instanceof s.rOR?this._items.toArray():this._items}_itemsChanged(kt){if(this._activeItem){const Mt=kt.indexOf(this._activeItem);Mt>-1&&Mt!==this._activeItemIndex&&(this._activeItemIndex=Mt)}}}class Kt extends Ce{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(kt){return this._origin=kt,this}setActiveItem(kt){super.setActiveItem(kt),this.activeItem&&this.activeItem.focus(this._origin)}}let ee=(()=>{var St;class kt{constructor(bt){this._platform=bt}isDisabled(bt){return bt.hasAttribute("disabled")}isVisible(bt){return function ye(St){return!!(St.offsetWidth||St.offsetHeight||"function"==typeof St.getClientRects&&St.getClientRects().length)}(bt)&&"visible"===getComputedStyle(bt).visibility}isTabbable(bt){if(!this._platform.isBrowser)return!1;const sn=function fe(St){try{return St.frameElement}catch{return null}}(function Y(St){return St.ownerDocument&&St.ownerDocument.defaultView||window}(bt));if(sn&&(-1===We(sn)||!this.isVisible(sn)))return!1;let Yt=bt.nodeName.toLowerCase(),Qe=We(bt);return bt.hasAttribute("contenteditable")?-1!==Qe:!("iframe"===Yt||"object"===Yt||this._platform.WEBKIT&&this._platform.IOS&&!function Ve(St){let kt=St.nodeName.toLowerCase(),Mt="input"===kt&&St.type;return"text"===Mt||"password"===Mt||"select"===kt||"textarea"===kt}(bt))&&("audio"===Yt?!!bt.hasAttribute("controls")&&-1!==Qe:"video"===Yt?-1!==Qe&&(null!==Qe||this._platform.FIREFOX||bt.hasAttribute("controls")):bt.tabIndex>=0)}isFocusable(bt,sn){return function wt(St){return!function Be(St){return function qt(St){return"input"==St.nodeName.toLowerCase()}(St)&&"hidden"==St.type}(St)&&(function Se(St){let kt=St.nodeName.toLowerCase();return"input"===kt||"select"===kt||"button"===kt||"textarea"===kt}(St)||function yt(St){return function Ln(St){return"a"==St.nodeName.toLowerCase()}(St)&&St.hasAttribute("href")}(St)||St.hasAttribute("contenteditable")||Tt(St))}(bt)&&!this.isDisabled(bt)&&(sn?.ignoreVisibility||this.isVisible(bt))}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.KVO(v.OD))},St.\u0275prov=s.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),kt})();function Tt(St){if(!St.hasAttribute("tabindex")||void 0===St.tabIndex)return!1;let kt=St.getAttribute("tabindex");return!(!kt||isNaN(parseInt(kt,10)))}function We(St){if(!Tt(St))return null;const kt=parseInt(St.getAttribute("tabindex")||"",10);return isNaN(kt)?-1:kt}class b{get enabled(){return this._enabled}set enabled(kt){this._enabled=kt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(kt,this._startAnchor),this._toggleAnchorTabIndex(kt,this._endAnchor))}constructor(kt,Mt,bt,sn,Yt=!1){this._element=kt,this._checker=Mt,this._ngZone=bt,this._document=sn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Yt||this.attachAnchors()}destroy(){const kt=this._startAnchor,Mt=this._endAnchor;kt&&(kt.removeEventListener("focus",this.startAnchorListener),kt.remove()),Mt&&(Mt.removeEventListener("focus",this.endAnchorListener),Mt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(kt){return new Promise(Mt=>{this._executeOnStable(()=>Mt(this.focusInitialElement(kt)))})}focusFirstTabbableElementWhenReady(kt){return new Promise(Mt=>{this._executeOnStable(()=>Mt(this.focusFirstTabbableElement(kt)))})}focusLastTabbableElementWhenReady(kt){return new Promise(Mt=>{this._executeOnStable(()=>Mt(this.focusLastTabbableElement(kt)))})}_getRegionBoundary(kt){const Mt=this._element.querySelectorAll(`[cdk-focus-region-${kt}], [cdkFocusRegion${kt}], [cdk-focus-${kt}]`);return"start"==kt?Mt.length?Mt[0]:this._getFirstTabbableElement(this._element):Mt.length?Mt[Mt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(kt){const Mt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Mt){if(!this._checker.isFocusable(Mt)){const bt=this._getFirstTabbableElement(Mt);return bt?.focus(kt),!!bt}return Mt.focus(kt),!0}return this.focusFirstTabbableElement(kt)}focusFirstTabbableElement(kt){const Mt=this._getRegionBoundary("start");return Mt&&Mt.focus(kt),!!Mt}focusLastTabbableElement(kt){const Mt=this._getRegionBoundary("end");return Mt&&Mt.focus(kt),!!Mt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(kt){if(this._checker.isFocusable(kt)&&this._checker.isTabbable(kt))return kt;const Mt=kt.children;for(let bt=0;bt<Mt.length;bt++){const sn=Mt[bt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Mt[bt]):null;if(sn)return sn}return null}_getLastTabbableElement(kt){if(this._checker.isFocusable(kt)&&this._checker.isTabbable(kt))return kt;const Mt=kt.children;for(let bt=Mt.length-1;bt>=0;bt--){const sn=Mt[bt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Mt[bt]):null;if(sn)return sn}return null}_createAnchor(){const kt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,kt),kt.classList.add("cdk-visually-hidden"),kt.classList.add("cdk-focus-trap-anchor"),kt.setAttribute("aria-hidden","true"),kt}_toggleAnchorTabIndex(kt,Mt){kt?Mt.setAttribute("tabindex","0"):Mt.removeAttribute("tabindex")}toggleAnchors(kt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(kt,this._startAnchor),this._toggleAnchorTabIndex(kt,this._endAnchor))}_executeOnStable(kt){this._ngZone.isStable?kt():this._ngZone.onStable.pipe((0,m.s)(1)).subscribe(kt)}}let R=(()=>{var St;class kt{constructor(bt,sn,Yt){this._checker=bt,this._ngZone=sn,this._document=Yt}create(bt,sn=!1){return new b(bt,this._checker,this._ngZone,this._document,sn)}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.KVO(ee),s.KVO(s.SKi),s.KVO(r.qQ))},St.\u0275prov=s.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),kt})(),T=(()=>{var St;class kt{get enabled(){return this.focusTrap?.enabled||!1}set enabled(bt){this.focusTrap&&(this.focusTrap.enabled=bt)}constructor(bt,sn,Yt){this._elementRef=bt,this._focusTrapFactory=sn,this._previouslyFocusedElement=null,(0,s.WQX)(v.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(bt){const sn=bt.autoCapture;sn&&!sn.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,v.vc)(),this.focusTrap?.focusInitialElementWhenReady()}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.rXU(s.aKT),s.rXU(R),s.rXU(r.qQ))},St.\u0275dir=s.FsC({type:St,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[s.Mj6.HasDecoratorInputTransform,"cdkTrapFocus","enabled",s.L39],autoCapture:[s.Mj6.HasDecoratorInputTransform,"cdkTrapFocusAutoCapture","autoCapture",s.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[s.GFd,s.OA$]}),kt})();function ie(St){return 0===St.buttons||0===St.detail}function D(St){const kt=St.touches&&St.touches[0]||St.changedTouches&&St.changedTouches[0];return!(!kt||-1!==kt.identifier||null!=kt.radiusX&&1!==kt.radiusX||null!=kt.radiusY&&1!==kt.radiusY)}const K=new s.nKC("cdk-input-modality-detector-options"),se={ignoreKeys:[F.A$,F.W3,F.eg,F.Ge,F.FX]},ct=(0,v.BQ)({passive:!0,capture:!0});let ut=(()=>{var St;class kt{get mostRecentModality(){return this._modality.value}constructor(bt,sn,Yt,Qe){this._platform=bt,this._mostRecentTarget=null,this._modality=new C.t(null),this._lastTouchMs=0,this._onKeydown=Lt=>{this._options?.ignoreKeys?.some(Mn=>Mn===Lt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,v.Fb)(Lt))},this._onMousedown=Lt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ie(Lt)?"keyboard":"mouse"),this._mostRecentTarget=(0,v.Fb)(Lt))},this._onTouchstart=Lt=>{D(Lt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,v.Fb)(Lt))},this._options={...se,...Qe},this.modalityDetected=this._modality.pipe((0,E.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,L.F)()),bt.isBrowser&&sn.runOutsideAngular(()=>{Yt.addEventListener("keydown",this._onKeydown,ct),Yt.addEventListener("mousedown",this._onMousedown,ct),Yt.addEventListener("touchstart",this._onTouchstart,ct)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ct),document.removeEventListener("mousedown",this._onMousedown,ct),document.removeEventListener("touchstart",this._onTouchstart,ct))}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.KVO(v.OD),s.KVO(s.SKi),s.KVO(r.qQ),s.KVO(K,8))},St.\u0275prov=s.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),kt})();const en=new s.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Oe(){return null}}),Pt=new s.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let it=0,Bt=(()=>{var St;class kt{constructor(bt,sn,Yt,Qe){this._ngZone=sn,this._defaultOptions=Qe,this._document=Yt,this._liveElement=bt||this._createLiveElement()}announce(bt,...sn){const Yt=this._defaultOptions;let Qe,Lt;return 1===sn.length&&"number"==typeof sn[0]?Lt=sn[0]:[Qe,Lt]=sn,this.clear(),clearTimeout(this._previousTimeout),Qe||(Qe=Yt&&Yt.politeness?Yt.politeness:"polite"),null==Lt&&Yt&&(Lt=Yt.duration),this._liveElement.setAttribute("aria-live",Qe),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Mn=>this._currentResolve=Mn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=bt,"number"==typeof Lt&&(this._previousTimeout=setTimeout(()=>this.clear(),Lt)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const bt="cdk-live-announcer-element",sn=this._document.getElementsByClassName(bt),Yt=this._document.createElement("div");for(let Qe=0;Qe<sn.length;Qe++)sn[Qe].remove();return Yt.classList.add(bt),Yt.classList.add("cdk-visually-hidden"),Yt.setAttribute("aria-atomic","true"),Yt.setAttribute("aria-live","polite"),Yt.id="cdk-live-announcer-"+it++,this._document.body.appendChild(Yt),Yt}_exposeAnnouncerToModals(bt){const sn=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Yt=0;Yt<sn.length;Yt++){const Qe=sn[Yt],Lt=Qe.getAttribute("aria-owns");Lt?-1===Lt.indexOf(bt)&&Qe.setAttribute("aria-owns",Lt+" "+bt):Qe.setAttribute("aria-owns",bt)}}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.KVO(en,8),s.KVO(s.SKi),s.KVO(r.qQ),s.KVO(Pt,8))},St.\u0275prov=s.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),kt})();var st=function(St){return St[St.IMMEDIATE=0]="IMMEDIATE",St[St.EVENTUAL=1]="EVENTUAL",St}(st||{});const mt=new s.nKC("cdk-focus-monitor-default-options"),Ut=(0,v.BQ)({passive:!0,capture:!0});let Ne=(()=>{var St;class kt{constructor(bt,sn,Yt,Qe,Lt){this._ngZone=bt,this._platform=sn,this._inputModalityDetector=Yt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new S.B,this._rootNodeFocusAndBlurListener=Mn=>{for(let ze=(0,v.Fb)(Mn);ze;ze=ze.parentElement)"focus"===Mn.type?this._onFocus(Mn,ze):this._onBlur(Mn,ze)},this._document=Qe,this._detectionMode=Lt?.detectionMode||st.IMMEDIATE}monitor(bt,sn=!1){const Yt=(0,Z.i8)(bt);if(!this._platform.isBrowser||1!==Yt.nodeType)return(0,d.of)();const Qe=(0,v.KT)(Yt)||this._getDocument(),Lt=this._elementInfo.get(Yt);if(Lt)return sn&&(Lt.checkChildren=!0),Lt.subject;const Mn={checkChildren:sn,subject:new S.B,rootNode:Qe};return this._elementInfo.set(Yt,Mn),this._registerGlobalListeners(Mn),Mn.subject}stopMonitoring(bt){const sn=(0,Z.i8)(bt),Yt=this._elementInfo.get(sn);Yt&&(Yt.subject.complete(),this._setClasses(sn),this._elementInfo.delete(sn),this._removeGlobalListeners(Yt))}focusVia(bt,sn,Yt){const Qe=(0,Z.i8)(bt);Qe===this._getDocument().activeElement?this._getClosestElementsInfo(Qe).forEach(([Mn,vt])=>this._originChanged(Mn,sn,vt)):(this._setOrigin(sn),"function"==typeof Qe.focus&&Qe.focus(Yt))}ngOnDestroy(){this._elementInfo.forEach((bt,sn)=>this.stopMonitoring(sn))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(bt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(bt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:bt&&this._isLastInteractionFromInputLabel(bt)?"mouse":"program"}_shouldBeAttributedToTouch(bt){return this._detectionMode===st.EVENTUAL||!!bt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(bt,sn){bt.classList.toggle("cdk-focused",!!sn),bt.classList.toggle("cdk-touch-focused","touch"===sn),bt.classList.toggle("cdk-keyboard-focused","keyboard"===sn),bt.classList.toggle("cdk-mouse-focused","mouse"===sn),bt.classList.toggle("cdk-program-focused","program"===sn)}_setOrigin(bt,sn=!1){this._ngZone.runOutsideAngular(()=>{this._origin=bt,this._originFromTouchInteraction="touch"===bt&&sn,this._detectionMode===st.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(bt,sn){const Yt=this._elementInfo.get(sn),Qe=(0,v.Fb)(bt);!Yt||!Yt.checkChildren&&sn!==Qe||this._originChanged(sn,this._getFocusOrigin(Qe),Yt)}_onBlur(bt,sn){const Yt=this._elementInfo.get(sn);!Yt||Yt.checkChildren&&bt.relatedTarget instanceof Node&&sn.contains(bt.relatedTarget)||(this._setClasses(sn),this._emitOrigin(Yt,null))}_emitOrigin(bt,sn){bt.subject.observers.length&&this._ngZone.run(()=>bt.subject.next(sn))}_registerGlobalListeners(bt){if(!this._platform.isBrowser)return;const sn=bt.rootNode,Yt=this._rootNodeFocusListenerCount.get(sn)||0;Yt||this._ngZone.runOutsideAngular(()=>{sn.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ut),sn.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ut)}),this._rootNodeFocusListenerCount.set(sn,Yt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ae.Q)(this._stopInputModalityDetector)).subscribe(Qe=>{this._setOrigin(Qe,!0)}))}_removeGlobalListeners(bt){const sn=bt.rootNode;if(this._rootNodeFocusListenerCount.has(sn)){const Yt=this._rootNodeFocusListenerCount.get(sn);Yt>1?this._rootNodeFocusListenerCount.set(sn,Yt-1):(sn.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ut),sn.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ut),this._rootNodeFocusListenerCount.delete(sn))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(bt,sn,Yt){this._setClasses(bt,sn),this._emitOrigin(Yt,sn),this._lastFocusOrigin=sn}_getClosestElementsInfo(bt){const sn=[];return this._elementInfo.forEach((Yt,Qe)=>{(Qe===bt||Yt.checkChildren&&Qe.contains(bt))&&sn.push([Qe,Yt])}),sn}_isLastInteractionFromInputLabel(bt){const{_mostRecentTarget:sn,mostRecentModality:Yt}=this._inputModalityDetector;if("mouse"!==Yt||!sn||sn===bt||"INPUT"!==bt.nodeName&&"TEXTAREA"!==bt.nodeName||bt.disabled)return!1;const Qe=bt.labels;if(Qe)for(let Lt=0;Lt<Qe.length;Lt++)if(Qe[Lt].contains(sn))return!0;return!1}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.KVO(s.SKi),s.KVO(v.OD),s.KVO(ut),s.KVO(r.qQ,8),s.KVO(mt,8))},St.\u0275prov=s.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),kt})();var Zt=function(St){return St[St.NONE=0]="NONE",St[St.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",St[St.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",St}(Zt||{});const Cn="cdk-high-contrast-black-on-white",Zn="cdk-high-contrast-white-on-black",br="cdk-high-contrast-active";let Mr=(()=>{var St;class kt{constructor(bt,sn){this._platform=bt,this._document=sn,this._breakpointSubscription=(0,s.WQX)(ne.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Zt.NONE;const bt=this._document.createElement("div");bt.style.backgroundColor="rgb(1,2,3)",bt.style.position="absolute",this._document.body.appendChild(bt);const sn=this._document.defaultView||window,Yt=sn&&sn.getComputedStyle?sn.getComputedStyle(bt):null,Qe=(Yt&&Yt.backgroundColor||"").replace(/ /g,"");switch(bt.remove(),Qe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Zt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Zt.BLACK_ON_WHITE}return Zt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const bt=this._document.body.classList;bt.remove(br,Cn,Zn),this._hasCheckedHighContrastMode=!0;const sn=this.getHighContrastMode();sn===Zt.BLACK_ON_WHITE?bt.add(br,Cn):sn===Zt.WHITE_ON_BLACK&&bt.add(br,Zn)}}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.KVO(v.OD),s.KVO(r.qQ))},St.\u0275prov=s.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),kt})(),yn=(()=>{var St;class kt{constructor(bt){bt._applyBodyHighContrastModeCssClasses()}}return(St=kt).\u0275fac=function(bt){return new(bt||St)(s.KVO(Mr))},St.\u0275mod=s.$C({type:St}),St.\u0275inj=s.G2t({imports:[U.w5]}),kt})()},9529:(ln,qe,w)=>{"use strict";w.d(qe,{Ky:()=>P,bU:()=>G,z8:()=>d});var r=w(54438),s=w(45024),v=w(85052),S=w(81027);let M=0;const C=new r.nKC("CdkAccordion");let d=(()=>{var N;class x{constructor(){this._stateChanges=new v.B,this._openCloseAllActions=new v.B,this.id="cdk-accordion-"+M++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(E){this._stateChanges.next(E)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return(N=x).\u0275fac=function(E){return new(E||N)},N.\u0275dir=r.FsC({type:N,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[r.Mj6.HasDecoratorInputTransform,"multi","multi",r.L39]},exportAs:["cdkAccordion"],standalone:!0,features:[r.Jv_([{provide:C,useExisting:N}]),r.GFd,r.OA$]}),x})(),F=0,P=(()=>{var N;class x{get expanded(){return this._expanded}set expanded(E){this._expanded!==E&&(this._expanded=E,this.expandedChange.emit(E),E?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(E,L,ae){this.accordion=E,this._changeDetectorRef=L,this._expansionDispatcher=ae,this._openCloseAllSubscription=S.yU.EMPTY,this.closed=new r.bkB,this.opened=new r.bkB,this.destroyed=new r.bkB,this.expandedChange=new r.bkB,this.id="cdk-accordion-child-"+F++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=ae.listen((U,Z)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Z&&this.id!==U&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(E=>{this.disabled||(this.expanded=E)})}}return(N=x).\u0275fac=function(E){return new(E||N)(r.rXU(C,12),r.rXU(r.gRc),r.rXU(s.zP))},N.\u0275dir=r.FsC({type:N,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[r.Mj6.HasDecoratorInputTransform,"expanded","expanded",r.L39],disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[r.Jv_([{provide:C,useValue:void 0}]),r.GFd]}),x})(),G=(()=>{var N;class x{}return(N=x).\u0275fac=function(E){return new(E||N)},N.\u0275mod=r.$C({type:N}),N.\u0275inj=r.G2t({}),x})()},28203:(ln,qe,w)=>{"use strict";w.d(qe,{dS:()=>d,ig:()=>F,jI:()=>P});var r=w(54438),s=w(60177);const v=new r.nKC("cdk-dir-doc",{providedIn:"root",factory:function S(){return(0,r.WQX)(s.qQ)}}),M=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function C(G){const N=G?.toLowerCase()||"";return"auto"===N&&typeof navigator<"u"&&navigator?.language?M.test(navigator.language)?"rtl":"ltr":"rtl"===N?"rtl":"ltr"}let d=(()=>{var G;class N{constructor(m){this.value="ltr",this.change=new r.bkB,m&&(this.value=C((m.body?m.body.dir:null)||(m.documentElement?m.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(G=N).\u0275fac=function(m){return new(m||G)(r.KVO(v,8))},G.\u0275prov=r.jDH({token:G,factory:G.\u0275fac,providedIn:"root"}),N})(),F=(()=>{var G;class N{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new r.bkB}get dir(){return this._dir}set dir(m){const E=this._dir;this._dir=C(m),this._rawDir=m,E!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return(G=N).\u0275fac=function(m){return new(m||G)},G.\u0275dir=r.FsC({type:G,selectors:[["","dir",""]],hostVars:1,hostBindings:function(m,E){2&m&&r.BMQ("dir",E._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],standalone:!0,features:[r.Jv_([{provide:d,useExisting:G}])]}),N})(),P=(()=>{var G;class N{}return(G=N).\u0275fac=function(m){return new(m||G)},G.\u0275mod=r.$C({type:G}),G.\u0275inj=r.G2t({}),N})()},14085:(ln,qe,w)=>{"use strict";w.d(qe,{FG:()=>M,OE:()=>v,a1:()=>C,he:()=>s,i8:()=>d});var r=w(54438);function s(P){return null!=P&&"false"!=`${P}`}function v(P,G=0){return function S(P){return!isNaN(parseFloat(P))&&!isNaN(Number(P))}(P)?Number(P):G}function M(P){return Array.isArray(P)?P:[P]}function C(P){return null==P?"":"string"==typeof P?P:`${P}px`}function d(P){return P instanceof r.aKT?P.nativeElement:P}},45024:(ln,qe,w)=>{"use strict";w.d(qe,{CB:()=>m,DQ:()=>x,Q3:()=>P,hx:()=>F,sL:()=>G,xn:()=>N,y4:()=>d,zP:()=>L});var r=w(7221),s=w(28454),v=w(15877),S=w(85052),M=w(54438);class C{}function d(ae){return ae&&"function"==typeof ae.connect&&!(ae instanceof r.G)}class F extends C{constructor(U){super(),this._data=U}connect(){return(0,s.A)(this._data)?this._data:(0,v.of)(this._data)}disconnect(){}}var P=function(ae){return ae[ae.REPLACED=0]="REPLACED",ae[ae.INSERTED=1]="INSERTED",ae[ae.MOVED=2]="MOVED",ae[ae.REMOVED=3]="REMOVED",ae}(P||{});const G=new M.nKC("_ViewRepeater");class N{applyChanges(U,Z,ne,q,le){U.forEachOperation((z,J,he)=>{let we,k;if(null==z.previousIndex){const ue=ne(z,J,he);we=Z.createEmbeddedView(ue.templateRef,ue.context,ue.index),k=P.INSERTED}else null==he?(Z.remove(J),k=P.REMOVED):(we=Z.get(J),Z.move(we,he),k=P.MOVED);le&&le({context:we?.context,operation:k,record:z})})}detach(){}}class x{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(U,Z,ne,q,le){U.forEachOperation((z,J,he)=>{let we,k;null==z.previousIndex?(we=this._insertView(()=>ne(z,J,he),he,Z,q(z)),k=we?P.INSERTED:P.REPLACED):null==he?(this._detachAndCacheView(J,Z),k=P.REMOVED):(we=this._moveView(J,he,Z,q(z)),k=P.MOVED),le&&le({context:we?.context,operation:k,record:z})})}detach(){for(const U of this._viewCache)U.destroy();this._viewCache=[]}_insertView(U,Z,ne,q){const le=this._insertViewFromCache(Z,ne);if(le)return void(le.context.$implicit=q);const z=U();return ne.createEmbeddedView(z.templateRef,z.context,z.index)}_detachAndCacheView(U,Z){const ne=Z.detach(U);this._maybeCacheView(ne,Z)}_moveView(U,Z,ne,q){const le=ne.get(U);return ne.move(le,Z),le.context.$implicit=q,le}_maybeCacheView(U,Z){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(U);else{const ne=Z.indexOf(U);-1===ne?U.destroy():Z.remove(ne)}}_insertViewFromCache(U,Z){const ne=this._viewCache.pop();return ne&&Z.insert(ne,U),ne||null}}class m{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(U=!1,Z,ne=!0,q){this._multiple=U,this._emitChanges=ne,this.compareWith=q,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S.B,Z&&Z.length&&(U?Z.forEach(le=>this._markSelected(le)):this._markSelected(Z[0]),this._selectedToEmit.length=0)}select(...U){this._verifyValueAssignment(U),U.forEach(ne=>this._markSelected(ne));const Z=this._hasQueuedChanges();return this._emitChangeEvent(),Z}deselect(...U){this._verifyValueAssignment(U),U.forEach(ne=>this._unmarkSelected(ne));const Z=this._hasQueuedChanges();return this._emitChangeEvent(),Z}setSelection(...U){this._verifyValueAssignment(U);const Z=this.selected,ne=new Set(U);U.forEach(le=>this._markSelected(le)),Z.filter(le=>!ne.has(this._getConcreteValue(le,ne))).forEach(le=>this._unmarkSelected(le));const q=this._hasQueuedChanges();return this._emitChangeEvent(),q}toggle(U){return this.isSelected(U)?this.deselect(U):this.select(U)}clear(U=!0){this._unmarkAll();const Z=this._hasQueuedChanges();return U&&this._emitChangeEvent(),Z}isSelected(U){return this._selection.has(this._getConcreteValue(U))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(U){this._multiple&&this.selected&&this._selected.sort(U)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(U){U=this._getConcreteValue(U),this.isSelected(U)||(this._multiple||this._unmarkAll(),this.isSelected(U)||this._selection.add(U),this._emitChanges&&this._selectedToEmit.push(U))}_unmarkSelected(U){U=this._getConcreteValue(U),this.isSelected(U)&&(this._selection.delete(U),this._emitChanges&&this._deselectedToEmit.push(U))}_unmarkAll(){this.isEmpty()||this._selection.forEach(U=>this._unmarkSelected(U))}_verifyValueAssignment(U){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(U,Z){if(this.compareWith){Z=Z??this._selection;for(let ne of Z)if(this.compareWith(U,ne))return ne;return U}return U}}let L=(()=>{var ae;class U{constructor(){this._listeners=[]}notify(ne,q){for(let le of this._listeners)le(ne,q)}listen(ne){return this._listeners.push(ne),()=>{this._listeners=this._listeners.filter(q=>ne!==q)}}ngOnDestroy(){this._listeners=[]}}return(ae=U).\u0275fac=function(ne){return new(ne||ae)},ae.\u0275prov=M.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"}),U})()},82529:(ln,qe,w)=>{"use strict";w.d(qe,{Pe:()=>E,Ph:()=>k,ce:()=>U,lG:()=>he,sU:()=>ae});var r=w(18617),s=w(47987),v=w(36860),S=w(76939),M=w(60177),C=w(54438),d=w(67336),F=w(85052),P=w(45946),G=w(15877),N=w(28203),x=w(35160);function m(ue,Ie){}class E{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let ae=(()=>{var ue;class Ie extends S.lb{constructor(Ze,Ce,Nt,Kt,me,ee,fe,ye){super(),this._elementRef=Ze,this._focusTrapFactory=Ce,this._config=Kt,this._interactivityChecker=me,this._ngZone=ee,this._overlayRef=fe,this._focusMonitor=ye,this._platform=(0,C.WQX)(v.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,C.WQX)(C.gRc),this.attachDomPortal=Se=>{this._portalOutlet.hasAttached();const Be=this._portalOutlet.attachDomPortal(Se);return this._contentAttached(),Be},this._document=Nt,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(Ze){this._ariaLabelledByQueue.push(Ze),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(Ze){const Ce=this._ariaLabelledByQueue.indexOf(Ze);Ce>-1&&(this._ariaLabelledByQueue.splice(Ce,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Ze){this._portalOutlet.hasAttached();const Ce=this._portalOutlet.attachComponentPortal(Ze);return this._contentAttached(),Ce}attachTemplatePortal(Ze){this._portalOutlet.hasAttached();const Ce=this._portalOutlet.attachTemplatePortal(Ze);return this._contentAttached(),Ce}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ze,Ce){this._interactivityChecker.isFocusable(Ze)||(Ze.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Nt=()=>{Ze.removeEventListener("blur",Nt),Ze.removeEventListener("mousedown",Nt),Ze.removeAttribute("tabindex")};Ze.addEventListener("blur",Nt),Ze.addEventListener("mousedown",Nt)})),Ze.focus(Ce)}_focusByCssSelector(Ze,Ce){let Nt=this._elementRef.nativeElement.querySelector(Ze);Nt&&this._forceFocus(Nt,Ce)}_trapFocus(){const Ze=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ze.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(Ce=>{Ce||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Ze=this._config.restoreFocus;let Ce=null;if("string"==typeof Ze?Ce=this._document.querySelector(Ze):"boolean"==typeof Ze?Ce=Ze?this._elementFocusedBeforeDialogWasOpened:null:Ze&&(Ce=Ze),this._config.restoreFocus&&Ce&&"function"==typeof Ce.focus){const Nt=(0,v.vc)(),Kt=this._elementRef.nativeElement;(!Nt||Nt===this._document.body||Nt===Kt||Kt.contains(Nt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ce,this._closeInteractionType),this._closeInteractionType=null):Ce.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ze=this._elementRef.nativeElement,Ce=(0,v.vc)();return Ze===Ce||Ze.contains(Ce)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,v.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return(ue=Ie).\u0275fac=function(Ze){return new(Ze||ue)(C.rXU(C.aKT),C.rXU(r.GX),C.rXU(M.qQ,8),C.rXU(E),C.rXU(r.Z7),C.rXU(C.SKi),C.rXU(s.yY),C.rXU(r.FN))},ue.\u0275cmp=C.VBU({type:ue,selectors:[["cdk-dialog-container"]],viewQuery:function(Ze,Ce){if(1&Ze&&C.GBs(S.I3,7),2&Ze){let Nt;C.mGM(Nt=C.lsd())&&(Ce._portalOutlet=Nt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Ze,Ce){2&Ze&&C.BMQ("id",Ce._config.id||null)("role",Ce._config.role)("aria-modal",Ce._config.ariaModal)("aria-labelledby",Ce._config.ariaLabel?null:Ce._ariaLabelledByQueue[0])("aria-label",Ce._config.ariaLabel)("aria-describedby",Ce._config.ariaDescribedBy||null)},standalone:!0,features:[C.Vt3,C.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ze,Ce){1&Ze&&C.DNE(0,m,0,0,"ng-template",0)},dependencies:[S.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Ie})();class U{constructor(Ie,ke){this.overlayRef=Ie,this.config=ke,this.closed=new F.B,this.disableClose=ke.disableClose,this.backdropClick=Ie.backdropClick(),this.keydownEvents=Ie.keydownEvents(),this.outsidePointerEvents=Ie.outsidePointerEvents(),this.id=ke.id,this.keydownEvents.subscribe(Ze=>{Ze.keyCode===d._f&&!this.disableClose&&!(0,d.rp)(Ze)&&(Ze.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Ie.detachments().subscribe(()=>{!1!==ke.closeOnOverlayDetachments&&this.close()})}close(Ie,ke){if(this.containerInstance){const Ze=this.closed;this.containerInstance._closeInteractionType=ke?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Ze.next(Ie),Ze.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Ie="",ke=""){return this.overlayRef.updateSize({width:Ie,height:ke}),this}addPanelClass(Ie){return this.overlayRef.addPanelClass(Ie),this}removePanelClass(Ie){return this.overlayRef.removePanelClass(Ie),this}}const Z=new C.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const ue=(0,C.WQX)(s.hJ);return()=>ue.scrollStrategies.block()}}),ne=new C.nKC("DialogData"),q=new C.nKC("DefaultDialogConfig");let J=0,he=(()=>{var ue;class Ie{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Ze,Ce,Nt,Kt,me,ee){this._overlay=Ze,this._injector=Ce,this._defaultOptions=Nt,this._parentDialog=Kt,this._overlayContainer=me,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F.B,this._afterOpenedAtThisLevel=new F.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,P.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,x.Z)(void 0))),this._scrollStrategy=ee}open(Ze,Ce){(Ce={...this._defaultOptions||new E,...Ce}).id=Ce.id||"cdk-dialog-"+J++,Ce.id&&this.getDialogById(Ce.id);const Kt=this._getOverlayConfig(Ce),me=this._overlay.create(Kt),ee=new U(me,Ce),fe=this._attachContainer(me,ee,Ce);return ee.containerInstance=fe,this._attachDialogContent(Ze,ee,fe,Ce),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ee),ee.closed.subscribe(()=>this._removeOpenDialog(ee,!0)),this.afterOpened.next(ee),ee}closeAll(){we(this.openDialogs,Ze=>Ze.close())}getDialogById(Ze){return this.openDialogs.find(Ce=>Ce.id===Ze)}ngOnDestroy(){we(this._openDialogsAtThisLevel,Ze=>{!1===Ze.config.closeOnDestroy&&this._removeOpenDialog(Ze,!1)}),we(this._openDialogsAtThisLevel,Ze=>Ze.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Ze){const Ce=new s.rR({positionStrategy:Ze.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Ze.scrollStrategy||this._scrollStrategy(),panelClass:Ze.panelClass,hasBackdrop:Ze.hasBackdrop,direction:Ze.direction,minWidth:Ze.minWidth,minHeight:Ze.minHeight,maxWidth:Ze.maxWidth,maxHeight:Ze.maxHeight,width:Ze.width,height:Ze.height,disposeOnNavigation:Ze.closeOnNavigation});return Ze.backdropClass&&(Ce.backdropClass=Ze.backdropClass),Ce}_attachContainer(Ze,Ce,Nt){const Kt=Nt.injector||Nt.viewContainerRef?.injector,me=[{provide:E,useValue:Nt},{provide:U,useValue:Ce},{provide:s.yY,useValue:Ze}];let ee;Nt.container?"function"==typeof Nt.container?ee=Nt.container:(ee=Nt.container.type,me.push(...Nt.container.providers(Nt))):ee=ae;const fe=new S.A8(ee,Nt.viewContainerRef,C.zZn.create({parent:Kt||this._injector,providers:me}),Nt.componentFactoryResolver);return Ze.attach(fe).instance}_attachDialogContent(Ze,Ce,Nt,Kt){if(Ze instanceof C.C4Q){const me=this._createInjector(Kt,Ce,Nt,void 0);let ee={$implicit:Kt.data,dialogRef:Ce};Kt.templateContext&&(ee={...ee,..."function"==typeof Kt.templateContext?Kt.templateContext():Kt.templateContext}),Nt.attachTemplatePortal(new S.VA(Ze,null,ee,me))}else{const me=this._createInjector(Kt,Ce,Nt,this._injector),ee=Nt.attachComponentPortal(new S.A8(Ze,Kt.viewContainerRef,me,Kt.componentFactoryResolver));Ce.componentRef=ee,Ce.componentInstance=ee.instance}}_createInjector(Ze,Ce,Nt,Kt){const me=Ze.injector||Ze.viewContainerRef?.injector,ee=[{provide:ne,useValue:Ze.data},{provide:U,useValue:Ce}];return Ze.providers&&("function"==typeof Ze.providers?ee.push(...Ze.providers(Ce,Ze,Nt)):ee.push(...Ze.providers)),Ze.direction&&(!me||!me.get(N.dS,null,{optional:!0}))&&ee.push({provide:N.dS,useValue:{value:Ze.direction,change:(0,G.of)()}}),C.zZn.create({parent:me||Kt,providers:ee})}_removeOpenDialog(Ze,Ce){const Nt=this.openDialogs.indexOf(Ze);Nt>-1&&(this.openDialogs.splice(Nt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Kt,me)=>{Kt?me.setAttribute("aria-hidden",Kt):me.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Ce&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ze=this._overlayContainer.getContainerElement();if(Ze.parentElement){const Ce=Ze.parentElement.children;for(let Nt=Ce.length-1;Nt>-1;Nt--){const Kt=Ce[Nt];Kt!==Ze&&"SCRIPT"!==Kt.nodeName&&"STYLE"!==Kt.nodeName&&!Kt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Kt,Kt.getAttribute("aria-hidden")),Kt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Ze=this._parentDialog;return Ze?Ze._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return(ue=Ie).\u0275fac=function(Ze){return new(Ze||ue)(C.KVO(s.hJ),C.KVO(C.zZn),C.KVO(q,8),C.KVO(ue,12),C.KVO(s.Sf),C.KVO(Z))},ue.\u0275prov=C.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ie})();function we(ue,Ie){let ke=ue.length;for(;ke--;)Ie(ue[ke])}let k=(()=>{var ue;class Ie{}return(ue=Ie).\u0275fac=function(Ze){return new(Ze||ue)},ue.\u0275mod=C.$C({type:ue}),ue.\u0275inj=C.G2t({providers:[he],imports:[s.z_,S.jc,r.Pd,S.jc]}),Ie})()},81391:(ln,qe,w)=>{"use strict";w.d(qe,{Fb:()=>Zt,HD:()=>j,O7:()=>Mt,T1:()=>Mr,ad:()=>Mn});var r=w(54438),s=w(60177),v=w(65478),S=w(36860),M=w(14085),C=w(18617),d=w(85052),F=w(81027),P=w(96513),G=w(94974),N=w(2573),x=w(76718),m=w(29160),E=w(37925),L=w(36110),ae=w(17365),U=w(39705),Z=w(32914),ne=w(35160),q=w(28203);function le(vt,ze,nn){for(let Ye in ze)if(ze.hasOwnProperty(Ye)){const At=ze[Ye];At?vt.setProperty(Ye,At,nn?.has(Ye)?"important":""):vt.removeProperty(Ye)}return vt}function z(vt,ze){const nn=ze?"":"none";le(vt.style,{"touch-action":ze?"":"none","-webkit-user-drag":ze?"":"none","-webkit-tap-highlight-color":ze?"":"transparent","user-select":nn,"-ms-user-select":nn,"-webkit-user-select":nn,"-moz-user-select":nn})}function J(vt,ze,nn){le(vt.style,{position:ze?"":"fixed",top:ze?"":"0",opacity:ze?"":"0",left:ze?"":"-999em"},nn)}function he(vt,ze){return ze&&"none"!=ze?vt+" "+ze:vt}function we(vt,ze){vt.style.width=`${ze.width}px`,vt.style.height=`${ze.height}px`,vt.style.transform=k(ze.left,ze.top)}function k(vt,ze){return`translate3d(${Math.round(vt)}px, ${Math.round(ze)}px, 0)`}function ue(vt){const ze=vt.getBoundingClientRect();return{top:ze.top,right:ze.right,bottom:ze.bottom,left:ze.left,width:ze.width,height:ze.height,x:ze.x,y:ze.y}}function Ie(vt,ze,nn){const{top:Ye,bottom:At,left:Pn,right:Yn}=vt;return nn>=Ye&&nn<=At&&ze>=Pn&&ze<=Yn}function ke(vt,ze,nn){vt.top+=ze,vt.bottom=vt.top+vt.height,vt.left+=nn,vt.right=vt.left+vt.width}function Ze(vt,ze,nn,Ye){const{top:At,right:Pn,bottom:Yn,left:gr,width:vr,height:vi}=vt,to=vr*ze,ro=vi*ze;return Ye>At-ro&&Ye<Yn+ro&&nn>gr-to&&nn<Pn+to}class Ce{constructor(ze){this._document=ze,this.positions=new Map}clear(){this.positions.clear()}cache(ze){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),ze.forEach(nn=>{this.positions.set(nn,{scrollPosition:{top:nn.scrollTop,left:nn.scrollLeft},clientRect:ue(nn)})})}handleScroll(ze){const nn=(0,S.Fb)(ze),Ye=this.positions.get(nn);if(!Ye)return null;const At=Ye.scrollPosition;let Pn,Yn;if(nn===this._document){const vi=this.getViewportScrollPosition();Pn=vi.top,Yn=vi.left}else Pn=nn.scrollTop,Yn=nn.scrollLeft;const gr=At.top-Pn,vr=At.left-Yn;return this.positions.forEach((vi,to)=>{vi.clientRect&&nn!==to&&nn.contains(to)&&ke(vi.clientRect,gr,vr)}),At.top=Pn,At.left=Yn,{top:gr,left:vr}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Nt(vt){const ze=vt.cloneNode(!0),nn=ze.querySelectorAll("[id]"),Ye=vt.nodeName.toLowerCase();ze.removeAttribute("id");for(let At=0;At<nn.length;At++)nn[At].removeAttribute("id");return"canvas"===Ye?fe(vt,ze):("input"===Ye||"select"===Ye||"textarea"===Ye)&&ee(vt,ze),Kt("canvas",vt,ze,fe),Kt("input, textarea, select",vt,ze,ee),ze}function Kt(vt,ze,nn,Ye){const At=ze.querySelectorAll(vt);if(At.length){const Pn=nn.querySelectorAll(vt);for(let Yn=0;Yn<At.length;Yn++)Ye(At[Yn],Pn[Yn])}}let me=0;function ee(vt,ze){"file"!==ze.type&&(ze.value=vt.value),"radio"===ze.type&&ze.name&&(ze.name=`mat-clone-${ze.name}-${me++}`)}function fe(vt,ze){const nn=ze.getContext("2d");if(nn)try{nn.drawImage(vt,0,0)}catch{}}function ye(vt,ze){const nn=vt.rootNodes;if(1===nn.length&&nn[0].nodeType===ze.ELEMENT_NODE)return nn[0];const Ye=ze.createElement("div");return nn.forEach(At=>Ye.appendChild(At)),Ye}function Se(vt){const ze=vt.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(vt)*ze}function yt(vt,ze){return vt.getPropertyValue(ze).split(",").map(Ye=>Ye.trim())}const qt=new Set(["position"]);class Ln{constructor(ze,nn,Ye,At,Pn,Yn,gr,vr,vi){this._document=ze,this._rootElement=nn,this._direction=Ye,this._initialDomRect=At,this._previewTemplate=Pn,this._previewClass=Yn,this._pickupPositionOnPage=gr,this._initialTransform=vr,this._zIndex=vi}attach(ze){this._preview=this._createPreview(),ze.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(ze){this._preview.style.transform=ze}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(ze){this._preview.classList.add(ze)}getTransitionDuration(){return function Be(vt){const ze=getComputedStyle(vt),nn=yt(ze,"transition-property"),Ye=nn.find(gr=>"transform"===gr||"all"===gr);if(!Ye)return 0;const At=nn.indexOf(Ye),Pn=yt(ze,"transition-duration"),Yn=yt(ze,"transition-delay");return Se(Pn[At])+Se(Yn[At])}(this._preview)}addEventListener(ze,nn){this._preview.addEventListener(ze,nn)}removeEventListener(ze,nn){this._preview.removeEventListener(ze,nn)}_createPreview(){const ze=this._previewTemplate,nn=this._previewClass,Ye=ze?ze.template:null;let At;if(Ye&&ze){const Pn=ze.matchSize?this._initialDomRect:null,Yn=ze.viewContainer.createEmbeddedView(Ye,ze.context);Yn.detectChanges(),At=ye(Yn,this._document),this._previewEmbeddedView=Yn,ze.matchSize?we(At,Pn):At.style.transform=k(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else At=Nt(this._rootElement),we(At,this._initialDomRect),this._initialTransform&&(At.style.transform=this._initialTransform);return le(At.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},qt),z(At,!1),At.classList.add("cdk-drag-preview"),At.setAttribute("popover","manual"),At.setAttribute("dir",this._direction),nn&&(Array.isArray(nn)?nn.forEach(Pn=>At.classList.add(Pn)):At.classList.add(nn)),At}}const Tt=(0,S.BQ)({passive:!0}),We=(0,S.BQ)({passive:!1}),Ve=(0,S.BQ)({passive:!1,capture:!0}),Y=new Set(["position"]);class b{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(ze){ze!==this._disabled&&(this._disabled=ze,this._toggleNativeDragInteractions(),this._handles.forEach(nn=>z(nn,ze)))}constructor(ze,nn,Ye,At,Pn,Yn){this._config=nn,this._document=Ye,this._ngZone=At,this._viewportRuler=Pn,this._dragDropRegistry=Yn,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new d.B,this._pointerMoveSubscription=F.yU.EMPTY,this._pointerUpSubscription=F.yU.EMPTY,this._scrollSubscription=F.yU.EMPTY,this._resizeSubscription=F.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new d.B,this.started=new d.B,this.released=new d.B,this.ended=new d.B,this.entered=new d.B,this.exited=new d.B,this.dropped=new d.B,this.moved=this._moveEvents,this._pointerDown=gr=>{if(this.beforeStarted.next(),this._handles.length){const vr=this._getTargetHandle(gr);vr&&!this._disabledHandles.has(vr)&&!this.disabled&&this._initializeDragSequence(vr,gr)}else this.disabled||this._initializeDragSequence(this._rootElement,gr)},this._pointerMove=gr=>{const vr=this._getPointerPositionOnPage(gr);if(!this._hasStartedDragging){if(Math.abs(vr.x-this._pickupPositionOnPage.x)+Math.abs(vr.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const _o=Date.now()>=this._dragStartTime+this._getDragStartDelay(gr),Uo=this._dropContainer;if(!_o)return void this._endDragSequence(gr);(!Uo||!Uo.isDragging()&&!Uo.isReceiving())&&(gr.cancelable&&gr.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(gr)))}return}gr.cancelable&&gr.preventDefault();const vi=this._getConstrainedPointerPosition(vr);if(this._hasMoved=!0,this._lastKnownPointerPosition=vr,this._updatePointerDirectionDelta(vi),this._dropContainer)this._updateActiveDropContainer(vi,vr);else{const to=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,ro=this._activeTransform;ro.x=vi.x-to.x+this._passiveTransform.x,ro.y=vi.y-to.y+this._passiveTransform.y,this._applyRootElementTransform(ro.x,ro.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:vi,event:gr,distance:this._getDragDistance(vi),delta:this._pointerDirectionDelta})})},this._pointerUp=gr=>{this._endDragSequence(gr)},this._nativeDragStart=gr=>{if(this._handles.length){const vr=this._getTargetHandle(gr);vr&&!this._disabledHandles.has(vr)&&!this.disabled&&gr.preventDefault()}else this.disabled||gr.preventDefault()},this.withRootElement(ze).withParent(nn.parentDragRef||null),this._parentPositions=new Ce(Ye),Yn.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(ze){this._handles=ze.map(Ye=>(0,M.i8)(Ye)),this._handles.forEach(Ye=>z(Ye,this.disabled)),this._toggleNativeDragInteractions();const nn=new Set;return this._disabledHandles.forEach(Ye=>{this._handles.indexOf(Ye)>-1&&nn.add(Ye)}),this._disabledHandles=nn,this}withPreviewTemplate(ze){return this._previewTemplate=ze,this}withPlaceholderTemplate(ze){return this._placeholderTemplate=ze,this}withRootElement(ze){const nn=(0,M.i8)(ze);return nn!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{nn.addEventListener("mousedown",this._pointerDown,We),nn.addEventListener("touchstart",this._pointerDown,Tt),nn.addEventListener("dragstart",this._nativeDragStart,We)}),this._initialTransform=void 0,this._rootElement=nn),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(ze){return this._boundaryElement=ze?(0,M.i8)(ze):null,this._resizeSubscription.unsubscribe(),ze&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(ze){return this._parentDragRef=ze,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(ze){!this._disabledHandles.has(ze)&&this._handles.indexOf(ze)>-1&&(this._disabledHandles.add(ze),z(ze,!0))}enableHandle(ze){this._disabledHandles.has(ze)&&(this._disabledHandles.delete(ze),z(ze,this.disabled))}withDirection(ze){return this._direction=ze,this}_withDropContainer(ze){this._dropContainer=ze}getFreeDragPosition(){const ze=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:ze.x,y:ze.y}}setFreeDragPosition(ze){return this._activeTransform={x:0,y:0},this._passiveTransform.x=ze.x,this._passiveTransform.y=ze.y,this._dropContainer||this._applyRootElementTransform(ze.x,ze.y),this}withPreviewContainer(ze){return this._previewContainer=ze,this}_sortFromLastPointerPosition(){const ze=this._lastKnownPointerPosition;ze&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(ze),ze)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",V,Ve)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(ze){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:ze}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(ze),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const nn=this._getPointerPositionOnPage(ze);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(nn),dropPoint:nn,event:ze})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(ze){T(ze)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const nn=this._getShadowRoot(),Ye=this._dropContainer;if(nn&&this._ngZone.runOutsideAngular(()=>{nn.addEventListener("selectstart",V,Ve)}),Ye){const At=this._rootElement,Pn=At.parentNode,Yn=this._placeholder=this._createPlaceholderElement(),gr=this._anchor=this._anchor||this._document.createComment("");Pn.insertBefore(gr,At),this._initialTransform=At.style.transform||"",this._preview=new Ln(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(Pn,nn)),J(At,!1,Y),this._document.body.appendChild(Pn.replaceChild(Yn,At)),this.started.next({source:this,event:ze}),Ye.start(),this._initialContainer=Ye,this._initialIndex=Ye.getItemIndex(this)}else this.started.next({source:this,event:ze}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Ye?Ye.getScrollableParents():[])}_initializeDragSequence(ze,nn){this._parentDragRef&&nn.stopPropagation();const Ye=this.isDragging(),At=T(nn),Pn=!At&&0!==nn.button,Yn=this._rootElement,gr=(0,S.Fb)(nn),vr=!At&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),vi=At?(0,C.w6)(nn):(0,C._G)(nn);if(gr&&gr.draggable&&"mousedown"===nn.type&&nn.preventDefault(),Ye||Pn||vr||vi)return;if(this._handles.length){const wi=Yn.style;this._rootElementTapHighlight=wi.webkitTapHighlightColor||"",wi.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(wi=>this._updateOnScroll(wi)),this._boundaryElement&&(this._boundaryRect=ue(this._boundaryElement));const to=this._previewTemplate;this._pickupPositionInElement=to&&to.template&&!to.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,ze,nn);const ro=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(nn);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ro.x,y:ro.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,nn)}_cleanupDragArtifacts(ze){J(this._rootElement,!0,Y),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const nn=this._dropContainer,Ye=nn.getItemIndex(this),At=this._getPointerPositionOnPage(ze),Pn=this._getDragDistance(At),Yn=nn._isOverContainer(At.x,At.y);this.ended.next({source:this,distance:Pn,dropPoint:At,event:ze}),this.dropped.next({item:this,currentIndex:Ye,previousIndex:this._initialIndex,container:nn,previousContainer:this._initialContainer,isPointerOverContainer:Yn,distance:Pn,dropPoint:At,event:ze}),nn.drop(this,Ye,this._initialIndex,this._initialContainer,Yn,Pn,At,ze),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:ze,y:nn},{x:Ye,y:At}){let Pn=this._initialContainer._getSiblingContainerFromPosition(this,ze,nn);!Pn&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(ze,nn)&&(Pn=this._initialContainer),Pn&&Pn!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Pn,this._dropContainer.enter(this,ze,nn,Pn===this._initialContainer&&Pn.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Pn,currentIndex:Pn.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Ye,At),this._dropContainer._sortItem(this,ze,nn,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(ze,nn):this._applyPreviewTransform(ze-this._pickupPositionInElement.x,nn-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const ze=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(ze.left,ze.top);const nn=this._preview.getTransitionDuration();return 0===nn?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Ye=>{const At=Yn=>{(!Yn||(0,S.Fb)(Yn)===this._preview&&"transform"===Yn.propertyName)&&(this._preview?.removeEventListener("transitionend",At),Ye(),clearTimeout(Pn))},Pn=setTimeout(At,1.5*nn);this._preview.addEventListener("transitionend",At)}))}_createPlaceholderElement(){const ze=this._placeholderTemplate,nn=ze?ze.template:null;let Ye;return nn?(this._placeholderRef=ze.viewContainer.createEmbeddedView(nn,ze.context),this._placeholderRef.detectChanges(),Ye=ye(this._placeholderRef,this._document)):Ye=Nt(this._rootElement),Ye.style.pointerEvents="none",Ye.classList.add("cdk-drag-placeholder"),Ye}_getPointerPositionInElement(ze,nn,Ye){const At=nn===this._rootElement?null:nn,Pn=At?At.getBoundingClientRect():ze,Yn=T(Ye)?Ye.targetTouches[0]:Ye,gr=this._getViewportScrollPosition();return{x:Pn.left-ze.left+(Yn.pageX-Pn.left-gr.left),y:Pn.top-ze.top+(Yn.pageY-Pn.top-gr.top)}}_getPointerPositionOnPage(ze){const nn=this._getViewportScrollPosition(),Ye=T(ze)?ze.touches[0]||ze.changedTouches[0]||{pageX:0,pageY:0}:ze,At=Ye.pageX-nn.left,Pn=Ye.pageY-nn.top;if(this._ownerSVGElement){const Yn=this._ownerSVGElement.getScreenCTM();if(Yn){const gr=this._ownerSVGElement.createSVGPoint();return gr.x=At,gr.y=Pn,gr.matrixTransform(Yn.inverse())}}return{x:At,y:Pn}}_getConstrainedPointerPosition(ze){const nn=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Ye,y:At}=this.constrainPosition?this.constrainPosition(ze,this,this._initialDomRect,this._pickupPositionInElement):ze;if("x"===this.lockAxis||"x"===nn?At=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===nn)&&(Ye=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:Pn,y:Yn}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,gr=this._boundaryRect,{width:vr,height:vi}=this._getPreviewRect(),to=gr.top+Yn,ro=gr.bottom-(vi-Yn);Ye=R(Ye,gr.left+Pn,gr.right-(vr-Pn)),At=R(At,to,ro)}return{x:Ye,y:At}}_updatePointerDirectionDelta(ze){const{x:nn,y:Ye}=ze,At=this._pointerDirectionDelta,Pn=this._pointerPositionAtLastDirectionChange,Yn=Math.abs(nn-Pn.x),gr=Math.abs(Ye-Pn.y);return Yn>this._config.pointerDirectionChangeThreshold&&(At.x=nn>Pn.x?1:-1,Pn.x=nn),gr>this._config.pointerDirectionChangeThreshold&&(At.y=Ye>Pn.y?1:-1,Pn.y=Ye),At}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const ze=this._handles.length>0||!this.isDragging();ze!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=ze,z(this._rootElement,ze))}_removeRootElementListeners(ze){ze.removeEventListener("mousedown",this._pointerDown,We),ze.removeEventListener("touchstart",this._pointerDown,Tt),ze.removeEventListener("dragstart",this._nativeDragStart,We)}_applyRootElementTransform(ze,nn){const Ye=k(ze,nn),At=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=At.transform&&"none"!=At.transform?At.transform:""),At.transform=he(Ye,this._initialTransform)}_applyPreviewTransform(ze,nn){const Ye=this._previewTemplate?.template?void 0:this._initialTransform,At=k(ze,nn);this._preview.setTransform(he(At,Ye))}_getDragDistance(ze){const nn=this._pickupPositionOnPage;return nn?{x:ze.x-nn.x,y:ze.y-nn.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:ze,y:nn}=this._passiveTransform;if(0===ze&&0===nn||this.isDragging()||!this._boundaryElement)return;const Ye=this._rootElement.getBoundingClientRect(),At=this._boundaryElement.getBoundingClientRect();if(0===At.width&&0===At.height||0===Ye.width&&0===Ye.height)return;const Pn=At.left-Ye.left,Yn=Ye.right-At.right,gr=At.top-Ye.top,vr=Ye.bottom-At.bottom;At.width>Ye.width?(Pn>0&&(ze+=Pn),Yn>0&&(ze-=Yn)):ze=0,At.height>Ye.height?(gr>0&&(nn+=gr),vr>0&&(nn-=vr)):nn=0,(ze!==this._passiveTransform.x||nn!==this._passiveTransform.y)&&this.setFreeDragPosition({y:nn,x:ze})}_getDragStartDelay(ze){const nn=this.dragStartDelay;return"number"==typeof nn?nn:T(ze)?nn.touch:nn?nn.mouse:0}_updateOnScroll(ze){const nn=this._parentPositions.handleScroll(ze);if(nn){const Ye=(0,S.Fb)(ze);this._boundaryRect&&Ye!==this._boundaryElement&&Ye.contains(this._boundaryElement)&&ke(this._boundaryRect,nn.top,nn.left),this._pickupPositionOnPage.x+=nn.left,this._pickupPositionOnPage.y+=nn.top,this._dropContainer||(this._activeTransform.x-=nn.left,this._activeTransform.y-=nn.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,S.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(ze,nn){const Ye=this._previewContainer||"global";if("parent"===Ye)return ze;if("global"===Ye){const At=this._document;return nn||At.fullscreenElement||At.webkitFullscreenElement||At.mozFullScreenElement||At.msFullscreenElement||At.body}return(0,M.i8)(Ye)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(ze){return this._handles.find(nn=>ze.target&&(ze.target===nn||nn.contains(ze.target)))}}function R(vt,ze,nn){return Math.max(ze,Math.min(nn,vt))}function T(vt){return"t"===vt.type[0]}function V(vt){vt.preventDefault()}function j(vt,ze,nn){const Ye=xe(ze,vt.length-1),At=xe(nn,vt.length-1);if(Ye===At)return;const Pn=vt[Ye],Yn=At<Ye?-1:1;for(let gr=Ye;gr!==At;gr+=Yn)vt[gr]=vt[gr+Yn];vt[At]=Pn}function xe(vt,ze){return Math.max(0,Math.min(ze,vt))}class ie{constructor(ze,nn){this._element=ze,this._dragDropRegistry=nn,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(ze){this.withItems(ze)}sort(ze,nn,Ye,At){const Pn=this._itemPositions,Yn=this._getItemIndexFromPointerPosition(ze,nn,Ye,At);if(-1===Yn&&Pn.length>0)return null;const gr="horizontal"===this.orientation,vr=Pn.findIndex(yo=>yo.drag===ze),vi=Pn[Yn],ro=vi.clientRect,wi=vr>Yn?1:-1,_o=this._getItemOffsetPx(Pn[vr].clientRect,ro,wi),Uo=this._getSiblingOffsetPx(vr,Pn,wi),So=Pn.slice();return j(Pn,vr,Yn),Pn.forEach((yo,ts)=>{if(So[ts]===yo)return;const Xo=yo.drag===ze,Io=Xo?_o:Uo,Fe=Xo?ze.getPlaceholderElement():yo.drag.getRootElement();yo.offset+=Io,gr?(Fe.style.transform=he(`translate3d(${Math.round(yo.offset)}px, 0, 0)`,yo.initialTransform),ke(yo.clientRect,0,Io)):(Fe.style.transform=he(`translate3d(0, ${Math.round(yo.offset)}px, 0)`,yo.initialTransform),ke(yo.clientRect,Io,0))}),this._previousSwap.overlaps=Ie(ro,nn,Ye),this._previousSwap.drag=vi.drag,this._previousSwap.delta=gr?At.x:At.y,{previousIndex:vr,currentIndex:Yn}}enter(ze,nn,Ye,At){const Pn=null==At||At<0?this._getItemIndexFromPointerPosition(ze,nn,Ye):At,Yn=this._activeDraggables,gr=Yn.indexOf(ze),vr=ze.getPlaceholderElement();let vi=Yn[Pn];if(vi===ze&&(vi=Yn[Pn+1]),!vi&&(null==Pn||-1===Pn||Pn<Yn.length-1)&&this._shouldEnterAsFirstChild(nn,Ye)&&(vi=Yn[0]),gr>-1&&Yn.splice(gr,1),vi&&!this._dragDropRegistry.isDragging(vi)){const to=vi.getRootElement();to.parentElement.insertBefore(vr,to),Yn.splice(Pn,0,ze)}else(0,M.i8)(this._element).appendChild(vr),Yn.push(ze);vr.style.transform="",this._cacheItemPositions()}withItems(ze){this._activeDraggables=ze.slice(),this._cacheItemPositions()}withSortPredicate(ze){this._sortPredicate=ze}reset(){this._activeDraggables.forEach(ze=>{const nn=ze.getRootElement();if(nn){const Ye=this._itemPositions.find(At=>At.drag===ze)?.initialTransform;nn.style.transform=Ye||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(ze){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Ye=>Ye.drag===ze)}updateOnScroll(ze,nn){this._itemPositions.forEach(({clientRect:Ye})=>{ke(Ye,ze,nn)}),this._itemPositions.forEach(({drag:Ye})=>{this._dragDropRegistry.isDragging(Ye)&&Ye._sortFromLastPointerPosition()})}_cacheItemPositions(){const ze="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(nn=>{const Ye=nn.getVisibleElement();return{drag:nn,offset:0,initialTransform:Ye.style.transform||"",clientRect:ue(Ye)}}).sort((nn,Ye)=>ze?nn.clientRect.left-Ye.clientRect.left:nn.clientRect.top-Ye.clientRect.top)}_getItemOffsetPx(ze,nn,Ye){const At="horizontal"===this.orientation;let Pn=At?nn.left-ze.left:nn.top-ze.top;return-1===Ye&&(Pn+=At?nn.width-ze.width:nn.height-ze.height),Pn}_getSiblingOffsetPx(ze,nn,Ye){const At="horizontal"===this.orientation,Pn=nn[ze].clientRect,Yn=nn[ze+-1*Ye];let gr=Pn[At?"width":"height"]*Ye;if(Yn){const vr=At?"left":"top",vi=At?"right":"bottom";-1===Ye?gr-=Yn.clientRect[vr]-Pn[vi]:gr+=Pn[vr]-Yn.clientRect[vi]}return gr}_shouldEnterAsFirstChild(ze,nn){if(!this._activeDraggables.length)return!1;const Ye=this._itemPositions,At="horizontal"===this.orientation;if(Ye[0].drag!==this._activeDraggables[0]){const Yn=Ye[Ye.length-1].clientRect;return At?ze>=Yn.right:nn>=Yn.bottom}{const Yn=Ye[0].clientRect;return At?ze<=Yn.left:nn<=Yn.top}}_getItemIndexFromPointerPosition(ze,nn,Ye,At){const Pn="horizontal"===this.orientation,Yn=this._itemPositions.findIndex(({drag:gr,clientRect:vr})=>gr!==ze&&((!At||gr!==this._previousSwap.drag||!this._previousSwap.overlaps||(Pn?At.x:At.y)!==this._previousSwap.delta)&&(Pn?nn>=Math.floor(vr.left)&&nn<Math.floor(vr.right):Ye>=Math.floor(vr.top)&&Ye<Math.floor(vr.bottom))));return-1!==Yn&&this._sortPredicate(Yn,ze)?Yn:-1}}var se=function(vt){return vt[vt.NONE=0]="NONE",vt[vt.UP=1]="UP",vt[vt.DOWN=2]="DOWN",vt}(se||{}),Le=function(vt){return vt[vt.NONE=0]="NONE",vt[vt.LEFT=1]="LEFT",vt[vt.RIGHT=2]="RIGHT",vt}(Le||{});class ct{constructor(ze,nn,Ye,At,Pn){this._dragDropRegistry=nn,this._ngZone=At,this._viewportRuler=Pn,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new d.B,this.entered=new d.B,this.exited=new d.B,this.dropped=new d.B,this.sorted=new d.B,this.receivingStarted=new d.B,this.receivingStopped=new d.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=F.yU.EMPTY,this._verticalScrollDirection=se.NONE,this._horizontalScrollDirection=Le.NONE,this._stopScrollTimers=new d.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,P.Y)(0,G.X).pipe((0,E.Q)(this._stopScrollTimers)).subscribe(()=>{const Yn=this._scrollNode,gr=this.autoScrollStep;this._verticalScrollDirection===se.UP?Yn.scrollBy(0,-gr):this._verticalScrollDirection===se.DOWN&&Yn.scrollBy(0,gr),this._horizontalScrollDirection===Le.LEFT?Yn.scrollBy(-gr,0):this._horizontalScrollDirection===Le.RIGHT&&Yn.scrollBy(gr,0)})},this.element=(0,M.i8)(ze),this._document=Ye,this.withScrollableParents([this.element]),nn.registerDropContainer(this),this._parentPositions=new Ce(Ye),this._sortStrategy=new ie(this.element,nn),this._sortStrategy.withSortPredicate((Yn,gr)=>this.sortPredicate(Yn,gr,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(ze,nn,Ye,At){this._draggingStarted(),null==At&&this.sortingDisabled&&(At=this._draggables.indexOf(ze)),this._sortStrategy.enter(ze,nn,Ye,At),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:ze,container:this,currentIndex:this.getItemIndex(ze)})}exit(ze){this._reset(),this.exited.next({item:ze,container:this})}drop(ze,nn,Ye,At,Pn,Yn,gr,vr={}){this._reset(),this.dropped.next({item:ze,currentIndex:nn,previousIndex:Ye,container:this,previousContainer:At,isPointerOverContainer:Pn,distance:Yn,dropPoint:gr,event:vr})}withItems(ze){const nn=this._draggables;return this._draggables=ze,ze.forEach(Ye=>Ye._withDropContainer(this)),this.isDragging()&&(nn.filter(At=>At.isDragging()).every(At=>-1===ze.indexOf(At))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(ze){return this._sortStrategy.direction=ze,this}connectedTo(ze){return this._siblings=ze.slice(),this}withOrientation(ze){return this._sortStrategy.orientation=ze,this}withScrollableParents(ze){const nn=(0,M.i8)(this.element);return this._scrollableElements=-1===ze.indexOf(nn)?[nn,...ze]:ze.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(ze){return this._isDragging?this._sortStrategy.getItemIndex(ze):this._draggables.indexOf(ze)}isReceiving(){return this._activeSiblings.size>0}_sortItem(ze,nn,Ye,At){if(this.sortingDisabled||!this._domRect||!Ze(this._domRect,.05,nn,Ye))return;const Pn=this._sortStrategy.sort(ze,nn,Ye,At);Pn&&this.sorted.next({previousIndex:Pn.previousIndex,currentIndex:Pn.currentIndex,container:this,item:ze})}_startScrollingIfNecessary(ze,nn){if(this.autoScrollDisabled)return;let Ye,At=se.NONE,Pn=Le.NONE;if(this._parentPositions.positions.forEach((Yn,gr)=>{gr===this._document||!Yn.clientRect||Ye||Ze(Yn.clientRect,.05,ze,nn)&&([At,Pn]=function Oe(vt,ze,nn,Ye,At){const Pn=ut(ze,At),Yn=en(ze,Ye);let gr=se.NONE,vr=Le.NONE;if(Pn){const vi=vt.scrollTop;Pn===se.UP?vi>0&&(gr=se.UP):vt.scrollHeight-vi>vt.clientHeight&&(gr=se.DOWN)}if(Yn){const vi=vt.scrollLeft;"rtl"===nn?Yn===Le.RIGHT?vi<0&&(vr=Le.RIGHT):vt.scrollWidth+vi>vt.clientWidth&&(vr=Le.LEFT):Yn===Le.LEFT?vi>0&&(vr=Le.LEFT):vt.scrollWidth-vi>vt.clientWidth&&(vr=Le.RIGHT)}return[gr,vr]}(gr,Yn.clientRect,this._sortStrategy.direction,ze,nn),(At||Pn)&&(Ye=gr))}),!At&&!Pn){const{width:Yn,height:gr}=this._viewportRuler.getViewportSize(),vr={width:Yn,height:gr,top:0,right:Yn,bottom:gr,left:0};At=ut(vr,nn),Pn=en(vr,ze),Ye=window}Ye&&(At!==this._verticalScrollDirection||Pn!==this._horizontalScrollDirection||Ye!==this._scrollNode)&&(this._verticalScrollDirection=At,this._horizontalScrollDirection=Pn,this._scrollNode=Ye,(At||Pn)&&Ye?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const ze=(0,M.i8)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=ze.msScrollSnapType||ze.scrollSnapType||"",ze.scrollSnapType=ze.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const ze=(0,M.i8)(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(ze).clientRect}_reset(){this._isDragging=!1;const ze=(0,M.i8)(this.element).style;ze.scrollSnapType=ze.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(nn=>nn._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(ze,nn){return null!=this._domRect&&Ie(this._domRect,ze,nn)}_getSiblingContainerFromPosition(ze,nn,Ye){return this._siblings.find(At=>At._canReceive(ze,nn,Ye))}_canReceive(ze,nn,Ye){if(!this._domRect||!Ie(this._domRect,nn,Ye)||!this.enterPredicate(ze,this))return!1;const At=this._getShadowRoot().elementFromPoint(nn,Ye);if(!At)return!1;const Pn=(0,M.i8)(this.element);return At===Pn||Pn.contains(At)}_startReceiving(ze,nn){const Ye=this._activeSiblings;!Ye.has(ze)&&nn.every(At=>this.enterPredicate(At,this)||this._draggables.indexOf(At)>-1)&&(Ye.add(ze),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:ze,receiver:this,items:nn}))}_stopReceiving(ze){this._activeSiblings.delete(ze),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:ze,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ze=>{if(this.isDragging()){const nn=this._parentPositions.handleScroll(ze);nn&&this._sortStrategy.updateOnScroll(nn.top,nn.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const ze=(0,S.KT)((0,M.i8)(this.element));this._cachedShadowRoot=ze||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const ze=this._sortStrategy.getActiveItemsSnapshot().filter(nn=>nn.isDragging());this._siblings.forEach(nn=>nn._startReceiving(this,ze))}}function ut(vt,ze){const{top:nn,bottom:Ye,height:At}=vt,Pn=.05*At;return ze>=nn-Pn&&ze<=nn+Pn?se.UP:ze>=Ye-Pn&&ze<=Ye+Pn?se.DOWN:se.NONE}function en(vt,ze){const{left:nn,right:Ye,width:At}=vt,Pn=.05*At;return ze>=nn-Pn&&ze<=nn+Pn?Le.LEFT:ze>=Ye-Pn&&ze<=Ye+Pn?Le.RIGHT:Le.NONE}const Pt=(0,S.BQ)({passive:!1,capture:!0}),it=new Set;let Bt=(()=>{var vt;class ze{}return(vt=ze).\u0275fac=function(Ye){return new(Ye||vt)},vt.\u0275cmp=r.VBU({type:vt,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(Ye,At){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0}),ze})(),pn=(()=>{var vt;class ze{constructor(Ye,At){this._ngZone=Ye,this._appRef=(0,r.WQX)(r.o8S),this._environmentInjector=(0,r.WQX)(r.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=Pn=>Pn.isDragging(),this.pointerMove=new d.B,this.pointerUp=new d.B,this.scroll=new d.B,this._preventDefaultWhileDragging=Pn=>{this._activeDragInstances.length>0&&Pn.preventDefault()},this._persistentTouchmoveListener=Pn=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&Pn.preventDefault(),this.pointerMove.next(Pn))},this._document=At}registerDropContainer(Ye){this._dropInstances.has(Ye)||this._dropInstances.add(Ye)}registerDragItem(Ye){this._dragInstances.add(Ye),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Pt)})}removeDropContainer(Ye){this._dropInstances.delete(Ye)}removeDragItem(Ye){this._dragInstances.delete(Ye),this.stopDragging(Ye),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Pt)}startDragging(Ye,At){if(!(this._activeDragInstances.indexOf(Ye)>-1)&&(this._loadResets(),this._activeDragInstances.push(Ye),1===this._activeDragInstances.length)){const Pn=At.type.startsWith("touch");this._globalListeners.set(Pn?"touchend":"mouseup",{handler:Yn=>this.pointerUp.next(Yn),options:!0}).set("scroll",{handler:Yn=>this.scroll.next(Yn),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Pt}),Pn||this._globalListeners.set("mousemove",{handler:Yn=>this.pointerMove.next(Yn),options:Pt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Yn,gr)=>{this._document.addEventListener(gr,Yn.handler,Yn.options)})})}}stopDragging(Ye){const At=this._activeDragInstances.indexOf(Ye);At>-1&&(this._activeDragInstances.splice(At,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(Ye){return this._activeDragInstances.indexOf(Ye)>-1}scrolled(Ye){const At=[this.scroll];return Ye&&Ye!==this._document&&At.push(new N.c(Pn=>this._ngZone.runOutsideAngular(()=>{const gr=vr=>{this._activeDragInstances.length&&Pn.next(vr)};return Ye.addEventListener("scroll",gr,!0),()=>{Ye.removeEventListener("scroll",gr,!0)}}))),(0,x.h)(...At)}ngOnDestroy(){this._dragInstances.forEach(Ye=>this.removeDragItem(Ye)),this._dropInstances.forEach(Ye=>this.removeDropContainer(Ye)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((Ye,At)=>{this._document.removeEventListener(At,Ye.handler,Ye.options)}),this._globalListeners.clear()}_loadResets(){if(!it.has(this._appRef)){it.add(this._appRef);const Ye=(0,r.a0P)(Bt,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{it.delete(this._appRef),0===it.size&&Ye.destroy()})}}}return(vt=ze).\u0275fac=function(Ye){return new(Ye||vt)(r.KVO(r.SKi),r.KVO(s.qQ))},vt.\u0275prov=r.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"}),ze})();const st={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let mt=(()=>{var vt;class ze{constructor(Ye,At,Pn,Yn){this._document=Ye,this._ngZone=At,this._viewportRuler=Pn,this._dragDropRegistry=Yn}createDrag(Ye,At=st){return new b(Ye,At,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(Ye){return new ct(Ye,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return(vt=ze).\u0275fac=function(Ye){return new(Ye||vt)(r.KVO(s.qQ),r.KVO(r.SKi),r.KVO(v.Xj),r.KVO(pn))},vt.\u0275prov=r.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"}),ze})();const Ut=new r.nKC("CDK_DRAG_PARENT"),zt=new r.nKC("CdkDragHandle");let Zt=(()=>{var vt;class ze{get disabled(){return this._disabled}set disabled(Ye){this._disabled=Ye,this._stateChanges.next(this)}constructor(Ye,At){this.element=Ye,this._parentDrag=At,this._stateChanges=new d.B,this._disabled=!1,At?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}}return(vt=ze).\u0275fac=function(Ye){return new(Ye||vt)(r.rXU(r.aKT),r.rXU(Ut,12))},vt.\u0275dir=r.FsC({type:vt,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[r.Mj6.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",r.L39]},standalone:!0,features:[r.Jv_([{provide:zt,useExisting:vt}]),r.GFd]}),ze})();const Cn=new r.nKC("CDK_DRAG_CONFIG"),br=new r.nKC("CdkDropList");let Mr=(()=>{var vt;class ze{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(Ye){this._disabled=Ye,this._dragRef.disabled=this._disabled}constructor(Ye,At,Pn,Yn,gr,vr,vi,to,ro,wi,_o){this.element=Ye,this.dropContainer=At,this._ngZone=Yn,this._viewContainerRef=gr,this._dir=vi,this._changeDetectorRef=ro,this._selfHandle=wi,this._parentDrag=_o,this._destroyed=new d.B,this._handles=new m.t([]),this.started=new r.bkB,this.released=new r.bkB,this.ended=new r.bkB,this.entered=new r.bkB,this.exited=new r.bkB,this.dropped=new r.bkB,this.moved=new N.c(Uo=>{const So=this._dragRef.moved.pipe((0,L.T)(yo=>({source:this,pointerPosition:yo.pointerPosition,event:yo.event,delta:yo.delta,distance:yo.distance}))).subscribe(Uo);return()=>{So.unsubscribe()}}),this._dragRef=to.createDrag(Ye,{dragStartThreshold:vr&&null!=vr.dragStartThreshold?vr.dragStartThreshold:5,pointerDirectionChangeThreshold:vr&&null!=vr.pointerDirectionChangeThreshold?vr.pointerDirectionChangeThreshold:5,zIndex:vr?.zIndex}),this._dragRef.data=this,ze._dragInstances.push(this),vr&&this._assignDefaults(vr),At&&(this._dragRef._withDropContainer(At._dropListRef),At.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(Ye){this._dragRef.setFreeDragPosition(Ye)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ae.s)(1),(0,E.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(Ye){const At=Ye.rootElementSelector,Pn=Ye.freeDragPosition;At&&!At.firstChange&&this._updateRootElement(),Pn&&!Pn.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const Ye=ze._dragInstances.indexOf(this);Ye>-1&&ze._dragInstances.splice(Ye,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(Ye){const At=this._handles.getValue();At.push(Ye),this._handles.next(At)}_removeHandle(Ye){const At=this._handles.getValue(),Pn=At.indexOf(Ye);Pn>-1&&(At.splice(Pn,1),this._handles.next(At))}_setPreviewTemplate(Ye){this._previewTemplate=Ye}_resetPreviewTemplate(Ye){Ye===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(Ye){this._placeholderTemplate=Ye}_resetPlaceholderTemplate(Ye){Ye===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const Ye=this.element.nativeElement;let At=Ye;this.rootElementSelector&&(At=void 0!==Ye.closest?Ye.closest(this.rootElementSelector):Ye.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(At||Ye)}_getBoundaryElement(){const Ye=this.boundaryElement;return Ye?"string"==typeof Ye?this.element.nativeElement.closest(Ye):(0,M.i8)(Ye):null}_syncInputs(Ye){Ye.beforeStarted.subscribe(()=>{if(!Ye.isDragging()){const At=this._dir,Pn=this.dragStartDelay,Yn=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,gr=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;Ye.disabled=this.disabled,Ye.lockAxis=this.lockAxis,Ye.dragStartDelay="object"==typeof Pn&&Pn?Pn:(0,M.OE)(Pn),Ye.constrainPosition=this.constrainPosition,Ye.previewClass=this.previewClass,Ye.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Yn).withPreviewTemplate(gr).withPreviewContainer(this.previewContainer||"global"),At&&Ye.withDirection(At.value)}}),Ye.beforeStarted.pipe((0,ae.s)(1)).subscribe(()=>{if(this._parentDrag)return void Ye.withParent(this._parentDrag._dragRef);let At=this.element.nativeElement.parentElement;for(;At;){if(At.classList.contains("cdk-drag")){Ye.withParent(ze._dragInstances.find(Pn=>Pn.element.nativeElement===At)?._dragRef||null);break}At=At.parentElement}})}_handleEvents(Ye){Ye.started.subscribe(At=>{this.started.emit({source:this,event:At.event}),this._changeDetectorRef.markForCheck()}),Ye.released.subscribe(At=>{this.released.emit({source:this,event:At.event})}),Ye.ended.subscribe(At=>{this.ended.emit({source:this,distance:At.distance,dropPoint:At.dropPoint,event:At.event}),this._changeDetectorRef.markForCheck()}),Ye.entered.subscribe(At=>{this.entered.emit({container:At.container.data,item:this,currentIndex:At.currentIndex})}),Ye.exited.subscribe(At=>{this.exited.emit({container:At.container.data,item:this})}),Ye.dropped.subscribe(At=>{this.dropped.emit({previousIndex:At.previousIndex,currentIndex:At.currentIndex,previousContainer:At.previousContainer.data,container:At.container.data,isPointerOverContainer:At.isPointerOverContainer,item:this,distance:At.distance,dropPoint:At.dropPoint,event:At.event})})}_assignDefaults(Ye){const{lockAxis:At,dragStartDelay:Pn,constrainPosition:Yn,previewClass:gr,boundaryElement:vr,draggingDisabled:vi,rootElementSelector:to,previewContainer:ro}=Ye;this.disabled=vi??!1,this.dragStartDelay=Pn||0,At&&(this.lockAxis=At),Yn&&(this.constrainPosition=Yn),gr&&(this.previewClass=gr),vr&&(this.boundaryElement=vr),to&&(this.rootElementSelector=to),ro&&(this.previewContainer=ro)}_setupHandlesListener(){this._handles.pipe((0,U.M)(Ye=>{const At=Ye.map(Pn=>Pn.element);this._selfHandle&&this.rootElementSelector&&At.push(this.element),this._dragRef.withHandles(At)}),(0,Z.n)(Ye=>(0,x.h)(...Ye.map(At=>At._stateChanges.pipe((0,ne.Z)(At))))),(0,E.Q)(this._destroyed)).subscribe(Ye=>{const At=this._dragRef,Pn=Ye.element.nativeElement;Ye.disabled?At.disableHandle(Pn):At.enableHandle(Pn)})}}return(vt=ze)._dragInstances=[],vt.\u0275fac=function(Ye){return new(Ye||vt)(r.rXU(r.aKT),r.rXU(br,12),r.rXU(s.qQ),r.rXU(r.SKi),r.rXU(r.c1b),r.rXU(Cn,8),r.rXU(q.dS,8),r.rXU(mt),r.rXU(r.gRc),r.rXU(zt,10),r.rXU(Ut,12))},vt.\u0275dir=r.FsC({type:vt,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Ye,At){2&Ye&&r.AVh("cdk-drag-disabled",At.disabled)("cdk-drag-dragging",At._dragRef.isDragging())},inputs:{data:[r.Mj6.None,"cdkDragData","data"],lockAxis:[r.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[r.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[r.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[r.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[r.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[r.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",r.L39],constrainPosition:[r.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[r.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[r.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[r.Jv_([{provide:Ut,useExisting:vt}]),r.GFd,r.OA$]}),ze})();const yn=new r.nKC("CdkDropListGroup");let kt=0,Mt=(()=>{var vt;class ze{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(Ye){this._dropListRef.disabled=this._disabled=Ye}constructor(Ye,At,Pn,Yn,gr,vr,vi){this.element=Ye,this._changeDetectorRef=Pn,this._scrollDispatcher=Yn,this._dir=gr,this._group=vr,this._destroyed=new d.B,this.connectedTo=[],this.id="cdk-drop-list-"+kt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.bkB,this.entered=new r.bkB,this.exited=new r.bkB,this.sorted=new r.bkB,this._unsortedItems=new Set,this._dropListRef=At.createDropList(Ye),this._dropListRef.data=this,vi&&this._assignDefaults(vi),this._dropListRef.enterPredicate=(to,ro)=>this.enterPredicate(to.data,ro.data),this._dropListRef.sortPredicate=(to,ro,wi)=>this.sortPredicate(to,ro.data,wi.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),ze._dropLists.push(this),vr&&vr._items.add(this)}addItem(Ye){this._unsortedItems.add(Ye),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(Ye){this._unsortedItems.delete(Ye),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((Ye,At)=>Ye._dragRef.getVisibleElement().compareDocumentPosition(At._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const Ye=ze._dropLists.indexOf(this);Ye>-1&&ze._dropLists.splice(Ye,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(Ye){this._dir&&this._dir.change.pipe((0,ne.Z)(this._dir.value),(0,E.Q)(this._destroyed)).subscribe(At=>Ye.withDirection(At)),Ye.beforeStarted.subscribe(()=>{const At=(0,M.FG)(this.connectedTo).map(Pn=>"string"==typeof Pn?ze._dropLists.find(gr=>gr.id===Pn):Pn);if(this._group&&this._group._items.forEach(Pn=>{-1===At.indexOf(Pn)&&At.push(Pn)}),!this._scrollableParentsResolved){const Pn=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Yn=>Yn.getElementRef().nativeElement);this._dropListRef.withScrollableParents(Pn),this._scrollableParentsResolved=!0}Ye.disabled=this.disabled,Ye.lockAxis=this.lockAxis,Ye.sortingDisabled=this.sortingDisabled,Ye.autoScrollDisabled=this.autoScrollDisabled,Ye.autoScrollStep=(0,M.OE)(this.autoScrollStep,2),Ye.connectedTo(At.filter(Pn=>Pn&&Pn!==this).map(Pn=>Pn._dropListRef)).withOrientation(this.orientation)})}_handleEvents(Ye){Ye.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),Ye.entered.subscribe(At=>{this.entered.emit({container:this,item:At.item.data,currentIndex:At.currentIndex})}),Ye.exited.subscribe(At=>{this.exited.emit({container:this,item:At.item.data}),this._changeDetectorRef.markForCheck()}),Ye.sorted.subscribe(At=>{this.sorted.emit({previousIndex:At.previousIndex,currentIndex:At.currentIndex,container:this,item:At.item.data})}),Ye.dropped.subscribe(At=>{this.dropped.emit({previousIndex:At.previousIndex,currentIndex:At.currentIndex,previousContainer:At.previousContainer.data,container:At.container.data,item:At.item.data,isPointerOverContainer:At.isPointerOverContainer,distance:At.distance,dropPoint:At.dropPoint,event:At.event}),this._changeDetectorRef.markForCheck()}),(0,x.h)(Ye.receivingStarted,Ye.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(Ye){const{lockAxis:At,draggingDisabled:Pn,sortingDisabled:Yn,listAutoScrollDisabled:gr,listOrientation:vr}=Ye;this.disabled=Pn??!1,this.sortingDisabled=Yn??!1,this.autoScrollDisabled=gr??!1,this.orientation=vr||"vertical",At&&(this.lockAxis=At)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(Ye=>Ye._dragRef))}}return(vt=ze)._dropLists=[],vt.\u0275fac=function(Ye){return new(Ye||vt)(r.rXU(r.aKT),r.rXU(mt),r.rXU(r.gRc),r.rXU(v.R),r.rXU(q.dS,8),r.rXU(yn,12),r.rXU(Cn,8))},vt.\u0275dir=r.FsC({type:vt,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Ye,At){2&Ye&&(r.BMQ("id",At.id),r.AVh("cdk-drop-list-disabled",At.disabled)("cdk-drop-list-dragging",At._dropListRef.isDragging())("cdk-drop-list-receiving",At._dropListRef.isReceiving()))},inputs:{connectedTo:[r.Mj6.None,"cdkDropListConnectedTo","connectedTo"],data:[r.Mj6.None,"cdkDropListData","data"],orientation:[r.Mj6.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[r.Mj6.None,"cdkDropListLockAxis","lockAxis"],disabled:[r.Mj6.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",r.L39],sortingDisabled:[r.Mj6.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",r.L39],enterPredicate:[r.Mj6.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[r.Mj6.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[r.Mj6.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",r.L39],autoScrollStep:[r.Mj6.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[r.Jv_([{provide:yn,useValue:void 0},{provide:br,useExisting:vt}]),r.GFd]}),ze})(),Mn=(()=>{var vt;class ze{}return(vt=ze).\u0275fac=function(Ye){return new(Ye||vt)},vt.\u0275mod=r.$C({type:vt}),vt.\u0275inj=r.G2t({providers:[mt],imports:[v.Gj]}),ze})()},67336:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>Be,A$:()=>F,FX:()=>C,Fm:()=>M,Ge:()=>Pt,Kp:()=>L,LE:()=>ne,UQ:()=>U,W3:()=>d,Z:()=>Oe,_f:()=>N,bn:()=>me,dB:()=>E,eg:()=>Tr,f2:()=>we,i7:()=>Z,n6:()=>q,rp:()=>ei,t6:()=>x,w_:()=>m,wn:()=>v,yZ:()=>ae});const v=9,M=13,C=16,d=17,F=18,N=27,x=32,m=33,E=34,L=35,ae=36,U=37,Z=38,ne=39,q=40,we=48,me=57,Be=65,Oe=90,Pt=91,Tr=224;function ei(Si,...Ri){return Ri.length?Ri.some(io=>Si[io]):Si.altKey||Si.shiftKey||Si.ctrlKey||Si.metaKey}},99327:(ln,qe,w)=>{"use strict";w.d(qe,{QP:()=>q,Rp:()=>z});var r=w(54438),s=w(14085),v=w(85052),S=w(82656),M=w(35892),C=w(2573),d=w(17365),F=w(87145),P=w(87996),G=w(36110),N=w(35160),x=w(37925),m=w(36860);const L=new Set;let ae,U=(()=>{var J;class he{constructor(k,ue){this._platform=k,this._nonce=ue,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ne}matchMedia(k){return(this._platform.WEBKIT||this._platform.BLINK)&&function Z(J,he){if(!L.has(J))try{ae||(ae=document.createElement("style"),he&&ae.setAttribute("nonce",he),ae.setAttribute("type","text/css"),document.head.appendChild(ae)),ae.sheet&&(ae.sheet.insertRule(`@media ${J} {body{ }}`,0),L.add(J))}catch(we){console.error(we)}}(k,this._nonce),this._matchMedia(k)}}return(J=he).\u0275fac=function(k){return new(k||J)(r.KVO(m.OD),r.KVO(r.BIS,8))},J.\u0275prov=r.jDH({token:J,factory:J.\u0275fac,providedIn:"root"}),he})();function ne(J){return{matches:"all"===J||""===J,media:J,addListener:()=>{},removeListener:()=>{}}}let q=(()=>{var J;class he{constructor(k,ue){this._mediaMatcher=k,this._zone=ue,this._queries=new Map,this._destroySubject=new v.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(k){return le((0,s.FG)(k)).some(Ie=>this._registerQuery(Ie).mql.matches)}observe(k){const Ie=le((0,s.FG)(k)).map(Ze=>this._registerQuery(Ze).observable);let ke=(0,S.z)(Ie);return ke=(0,M.x)(ke.pipe((0,d.s)(1)),ke.pipe((0,F.i)(1),(0,P.B)(0))),ke.pipe((0,G.T)(Ze=>{const Ce={matches:!1,breakpoints:{}};return Ze.forEach(({matches:Nt,query:Kt})=>{Ce.matches=Ce.matches||Nt,Ce.breakpoints[Kt]=Nt}),Ce}))}_registerQuery(k){if(this._queries.has(k))return this._queries.get(k);const ue=this._mediaMatcher.matchMedia(k),ke={observable:new C.c(Ze=>{const Ce=Nt=>this._zone.run(()=>Ze.next(Nt));return ue.addListener(Ce),()=>{ue.removeListener(Ce)}}).pipe((0,N.Z)(ue),(0,G.T)(({matches:Ze})=>({query:k,matches:Ze})),(0,x.Q)(this._destroySubject)),mql:ue};return this._queries.set(k,ke),ke}}return(J=he).\u0275fac=function(k){return new(k||J)(r.KVO(U),r.KVO(r.SKi))},J.\u0275prov=r.jDH({token:J,factory:J.\u0275fac,providedIn:"root"}),he})();function le(J){return J.map(he=>he.split(",")).reduce((he,we)=>he.concat(we)).map(he=>he.trim())}const z={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:(ln,qe,w)=>{"use strict";w.d(qe,{w5:()=>C});var r=w(54438);let v=(()=>{var d;class F{create(G){return typeof MutationObserver>"u"?null:new MutationObserver(G)}}return(d=F).\u0275fac=function(G){return new(G||d)},d.\u0275prov=r.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),F})(),C=(()=>{var d;class F{}return(d=F).\u0275fac=function(G){return new(G||d)},d.\u0275mod=r.$C({type:d}),d.\u0275inj=r.G2t({providers:[v]}),F})()},47987:(ln,qe,w)=>{"use strict";w.d(qe,{Sf:()=>Nt,hJ:()=>Y,rR:()=>J,yY:()=>Kt,z_:()=>I});var r=w(65478),s=w(60177),v=w(54438),S=w(14085),M=w(36860),C=w(14264),d=w(17365),F=w(37925),P=w(28203),G=w(76939),N=w(85052),x=w(81027),m=w(76718);const E=(0,M.CZ)();class L{constructor(D,K){this._viewportRuler=D,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=K}attach(){}enable(){if(this._canBeEnabled()){const D=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=D.style.left||"",this._previousHTMLStyles.top=D.style.top||"",D.style.left=(0,S.a1)(-this._previousScrollPosition.left),D.style.top=(0,S.a1)(-this._previousScrollPosition.top),D.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const D=this._document.documentElement,se=D.style,Le=this._document.body.style,ct=se.scrollBehavior||"",ut=Le.scrollBehavior||"";this._isEnabled=!1,se.left=this._previousHTMLStyles.left,se.top=this._previousHTMLStyles.top,D.classList.remove("cdk-global-scrollblock"),E&&(se.scrollBehavior=Le.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),E&&(se.scrollBehavior=ct,Le.scrollBehavior=ut)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const K=this._document.body,se=this._viewportRuler.getViewportSize();return K.scrollHeight>se.height||K.scrollWidth>se.width}}class U{constructor(D,K,se,Le){this._scrollDispatcher=D,this._ngZone=K,this._viewportRuler=se,this._config=Le,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(D){this._overlayRef=D}enable(){if(this._scrollSubscription)return;const D=this._scrollDispatcher.scrolled(0).pipe((0,C.p)(K=>!K||!this._overlayRef.overlayElement.contains(K.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=D.subscribe(()=>{const K=this._viewportRuler.getViewportScrollPosition().top;Math.abs(K-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=D.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Z{enable(){}disable(){}attach(){}}function ne(ie,D){return D.some(K=>ie.bottom<K.top||ie.top>K.bottom||ie.right<K.left||ie.left>K.right)}function q(ie,D){return D.some(K=>ie.top<K.top||ie.bottom>K.bottom||ie.left<K.left||ie.right>K.right)}class le{constructor(D,K,se,Le){this._scrollDispatcher=D,this._viewportRuler=K,this._ngZone=se,this._config=Le,this._scrollSubscription=null}attach(D){this._overlayRef=D}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const K=this._overlayRef.overlayElement.getBoundingClientRect(),{width:se,height:Le}=this._viewportRuler.getViewportSize();ne(K,[{width:se,height:Le,bottom:Le,right:se,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let z=(()=>{var ie;class D{constructor(se,Le,ct,ut){this._scrollDispatcher=se,this._viewportRuler=Le,this._ngZone=ct,this.noop=()=>new Z,this.close=en=>new U(this._scrollDispatcher,this._ngZone,this._viewportRuler,en),this.block=()=>new L(this._viewportRuler,this._document),this.reposition=en=>new le(this._scrollDispatcher,this._viewportRuler,this._ngZone,en),this._document=ut}}return(ie=D).\u0275fac=function(se){return new(se||ie)(v.KVO(r.R),v.KVO(r.Xj),v.KVO(v.SKi),v.KVO(s.qQ))},ie.\u0275prov=v.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),D})();class J{constructor(D){if(this.scrollStrategy=new Z,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,D){const K=Object.keys(D);for(const se of K)void 0!==D[se]&&(this[se]=D[se])}}}class k{constructor(D,K){this.connectionPair=D,this.scrollableViewProperties=K}}let ke=(()=>{var ie;class D{constructor(se){this._attachedOverlays=[],this._document=se}ngOnDestroy(){this.detach()}add(se){this.remove(se),this._attachedOverlays.push(se)}remove(se){const Le=this._attachedOverlays.indexOf(se);Le>-1&&this._attachedOverlays.splice(Le,1),0===this._attachedOverlays.length&&this.detach()}}return(ie=D).\u0275fac=function(se){return new(se||ie)(v.KVO(s.qQ))},ie.\u0275prov=v.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),D})(),Ze=(()=>{var ie;class D extends ke{constructor(se,Le){super(se),this._ngZone=Le,this._keydownListener=ct=>{const ut=this._attachedOverlays;for(let en=ut.length-1;en>-1;en--)if(ut[en]._keydownEvents.observers.length>0){const Oe=ut[en]._keydownEvents;this._ngZone?this._ngZone.run(()=>Oe.next(ct)):Oe.next(ct);break}}}add(se){super.add(se),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(ie=D).\u0275fac=function(se){return new(se||ie)(v.KVO(s.qQ),v.KVO(v.SKi,8))},ie.\u0275prov=v.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),D})(),Ce=(()=>{var ie;class D extends ke{constructor(se,Le,ct){super(se),this._platform=Le,this._ngZone=ct,this._cursorStyleIsSet=!1,this._pointerDownListener=ut=>{this._pointerDownEventTarget=(0,M.Fb)(ut)},this._clickListener=ut=>{const en=(0,M.Fb)(ut),Oe="click"===ut.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:en;this._pointerDownEventTarget=null;const Pt=this._attachedOverlays.slice();for(let it=Pt.length-1;it>-1;it--){const Bt=Pt[it];if(Bt._outsidePointerEvents.observers.length<1||!Bt.hasAttached())continue;if(Bt.overlayElement.contains(en)||Bt.overlayElement.contains(Oe))break;const pn=Bt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>pn.next(ut)):pn.next(ut)}}}add(se){if(super.add(se),!this._isAttached){const Le=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Le)):this._addEventListeners(Le),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Le.style.cursor,Le.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const se=this._document.body;se.removeEventListener("pointerdown",this._pointerDownListener,!0),se.removeEventListener("click",this._clickListener,!0),se.removeEventListener("auxclick",this._clickListener,!0),se.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(se.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(se){se.addEventListener("pointerdown",this._pointerDownListener,!0),se.addEventListener("click",this._clickListener,!0),se.addEventListener("auxclick",this._clickListener,!0),se.addEventListener("contextmenu",this._clickListener,!0)}}return(ie=D).\u0275fac=function(se){return new(se||ie)(v.KVO(s.qQ),v.KVO(M.OD),v.KVO(v.SKi,8))},ie.\u0275prov=v.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),D})(),Nt=(()=>{var ie;class D{constructor(se,Le){this._platform=Le,this._document=se}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const se="cdk-overlay-container";if(this._platform.isBrowser||(0,M.v8)()){const ct=this._document.querySelectorAll(`.${se}[platform="server"], .${se}[platform="test"]`);for(let ut=0;ut<ct.length;ut++)ct[ut].remove()}const Le=this._document.createElement("div");Le.classList.add(se),(0,M.v8)()?Le.setAttribute("platform","test"):this._platform.isBrowser||Le.setAttribute("platform","server"),this._document.body.appendChild(Le),this._containerElement=Le}}return(ie=D).\u0275fac=function(se){return new(se||ie)(v.KVO(s.qQ),v.KVO(M.OD))},ie.\u0275prov=v.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),D})();class Kt{constructor(D,K,se,Le,ct,ut,en,Oe,Pt,it=!1){this._portalOutlet=D,this._host=K,this._pane=se,this._config=Le,this._ngZone=ct,this._keyboardDispatcher=ut,this._document=en,this._location=Oe,this._outsideClickDispatcher=Pt,this._animationsDisabled=it,this._backdropElement=null,this._backdropClick=new N.B,this._attachments=new N.B,this._detachments=new N.B,this._locationChanges=x.yU.EMPTY,this._backdropClickHandler=Bt=>this._backdropClick.next(Bt),this._backdropTransitionendHandler=Bt=>{this._disposeBackdrop(Bt.target)},this._keydownEvents=new N.B,this._outsidePointerEvents=new N.B,Le.scrollStrategy&&(this._scrollStrategy=Le.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Le.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(D){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const K=this._portalOutlet.attach(D);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,d.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof K?.onDestroy&&K.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),K}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const D=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),D}dispose(){const D=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,D&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(D){D!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=D,this.hasAttached()&&(D.attach(this),this.updatePosition()))}updateSize(D){this._config={...this._config,...D},this._updateElementSize()}setDirection(D){this._config={...this._config,direction:D},this._updateElementDirection()}addPanelClass(D){this._pane&&this._toggleClasses(this._pane,D,!0)}removePanelClass(D){this._pane&&this._toggleClasses(this._pane,D,!1)}getDirection(){const D=this._config.direction;return D?"string"==typeof D?D:D.value:"ltr"}updateScrollStrategy(D){D!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=D,this.hasAttached()&&(D.attach(this),D.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const D=this._pane.style;D.width=(0,S.a1)(this._config.width),D.height=(0,S.a1)(this._config.height),D.minWidth=(0,S.a1)(this._config.minWidth),D.minHeight=(0,S.a1)(this._config.minHeight),D.maxWidth=(0,S.a1)(this._config.maxWidth),D.maxHeight=(0,S.a1)(this._config.maxHeight)}_togglePointerEvents(D){this._pane.style.pointerEvents=D?"":"none"}_attachBackdrop(){const D="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(D)})}):this._backdropElement.classList.add(D)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const D=this._backdropElement;if(D){if(this._animationsDisabled)return void this._disposeBackdrop(D);D.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{D.addEventListener("transitionend",this._backdropTransitionendHandler)}),D.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(D)},500))}}_toggleClasses(D,K,se){const Le=(0,S.FG)(K||[]).filter(ct=>!!ct);Le.length&&(se?D.classList.add(...Le):D.classList.remove(...Le))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const D=this._ngZone.onStable.pipe((0,F.Q)((0,m.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),D.unsubscribe())})})}_disposeScrollStrategy(){const D=this._scrollStrategy;D&&(D.disable(),D.detach&&D.detach())}_disposeBackdrop(D){D&&(D.removeEventListener("click",this._backdropClickHandler),D.removeEventListener("transitionend",this._backdropTransitionendHandler),D.remove(),this._backdropElement===D&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const me="cdk-overlay-connected-position-bounding-box",ee=/([A-Za-z%]+)$/;class fe{get positions(){return this._preferredPositions}constructor(D,K,se,Le,ct){this._viewportRuler=K,this._document=se,this._platform=Le,this._overlayContainer=ct,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new N.B,this._resizeSubscription=x.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(D)}attach(D){this._validatePositions(),D.hostElement.classList.add(me),this._overlayRef=D,this._boundingBox=D.hostElement,this._pane=D.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const D=this._originRect,K=this._overlayRect,se=this._viewportRect,Le=this._containerRect,ct=[];let ut;for(let en of this._preferredPositions){let Oe=this._getOriginPoint(D,Le,en),Pt=this._getOverlayPoint(Oe,K,en),it=this._getOverlayFit(Pt,K,se,en);if(it.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(en,Oe);this._canFitWithFlexibleDimensions(it,Pt,se)?ct.push({position:en,origin:Oe,overlayRect:K,boundingBoxRect:this._calculateBoundingBoxRect(Oe,en)}):(!ut||ut.overlayFit.visibleArea<it.visibleArea)&&(ut={overlayFit:it,overlayPoint:Pt,originPoint:Oe,position:en,overlayRect:K})}if(ct.length){let en=null,Oe=-1;for(const Pt of ct){const it=Pt.boundingBoxRect.width*Pt.boundingBoxRect.height*(Pt.position.weight||1);it>Oe&&(Oe=it,en=Pt)}return this._isPushed=!1,void this._applyPosition(en.position,en.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ut.position,ut.originPoint);this._applyPosition(ut.position,ut.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ye(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(me),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const D=this._lastPosition;if(D){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const K=this._getOriginPoint(this._originRect,this._containerRect,D);this._applyPosition(D,K)}else this.apply()}withScrollableContainers(D){return this._scrollables=D,this}withPositions(D){return this._preferredPositions=D,-1===D.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(D){return this._viewportMargin=D,this}withFlexibleDimensions(D=!0){return this._hasFlexibleDimensions=D,this}withGrowAfterOpen(D=!0){return this._growAfterOpen=D,this}withPush(D=!0){return this._canPush=D,this}withLockedPosition(D=!0){return this._positionLocked=D,this}setOrigin(D){return this._origin=D,this}withDefaultOffsetX(D){return this._offsetX=D,this}withDefaultOffsetY(D){return this._offsetY=D,this}withTransformOriginOn(D){return this._transformOriginSelector=D,this}_getOriginPoint(D,K,se){let Le,ct;if("center"==se.originX)Le=D.left+D.width/2;else{const ut=this._isRtl()?D.right:D.left,en=this._isRtl()?D.left:D.right;Le="start"==se.originX?ut:en}return K.left<0&&(Le-=K.left),ct="center"==se.originY?D.top+D.height/2:"top"==se.originY?D.top:D.bottom,K.top<0&&(ct-=K.top),{x:Le,y:ct}}_getOverlayPoint(D,K,se){let Le,ct;return Le="center"==se.overlayX?-K.width/2:"start"===se.overlayX?this._isRtl()?-K.width:0:this._isRtl()?0:-K.width,ct="center"==se.overlayY?-K.height/2:"top"==se.overlayY?0:-K.height,{x:D.x+Le,y:D.y+ct}}_getOverlayFit(D,K,se,Le){const ct=Be(K);let{x:ut,y:en}=D,Oe=this._getOffset(Le,"x"),Pt=this._getOffset(Le,"y");Oe&&(ut+=Oe),Pt&&(en+=Pt);let pn=0-en,st=en+ct.height-se.height,mt=this._subtractOverflows(ct.width,0-ut,ut+ct.width-se.width),Ut=this._subtractOverflows(ct.height,pn,st),Ne=mt*Ut;return{visibleArea:Ne,isCompletelyWithinViewport:ct.width*ct.height===Ne,fitsInViewportVertically:Ut===ct.height,fitsInViewportHorizontally:mt==ct.width}}_canFitWithFlexibleDimensions(D,K,se){if(this._hasFlexibleDimensions){const Le=se.bottom-K.y,ct=se.right-K.x,ut=Se(this._overlayRef.getConfig().minHeight),en=Se(this._overlayRef.getConfig().minWidth);return(D.fitsInViewportVertically||null!=ut&&ut<=Le)&&(D.fitsInViewportHorizontally||null!=en&&en<=ct)}return!1}_pushOverlayOnScreen(D,K,se){if(this._previousPushAmount&&this._positionLocked)return{x:D.x+this._previousPushAmount.x,y:D.y+this._previousPushAmount.y};const Le=Be(K),ct=this._viewportRect,ut=Math.max(D.x+Le.width-ct.width,0),en=Math.max(D.y+Le.height-ct.height,0),Oe=Math.max(ct.top-se.top-D.y,0),Pt=Math.max(ct.left-se.left-D.x,0);let it=0,Bt=0;return it=Le.width<=ct.width?Pt||-ut:D.x<this._viewportMargin?ct.left-se.left-D.x:0,Bt=Le.height<=ct.height?Oe||-en:D.y<this._viewportMargin?ct.top-se.top-D.y:0,this._previousPushAmount={x:it,y:Bt},{x:D.x+it,y:D.y+Bt}}_applyPosition(D,K){if(this._setTransformOrigin(D),this._setOverlayElementStyles(K,D),this._setBoundingBoxStyles(K,D),D.panelClass&&this._addPanelClasses(D.panelClass),this._positionChanges.observers.length){const se=this._getScrollVisibility();if(D!==this._lastPosition||!this._lastScrollVisibility||!function yt(ie,D){return ie===D||ie.isOriginClipped===D.isOriginClipped&&ie.isOriginOutsideView===D.isOriginOutsideView&&ie.isOverlayClipped===D.isOverlayClipped&&ie.isOverlayOutsideView===D.isOverlayOutsideView}(this._lastScrollVisibility,se)){const Le=new k(D,se);this._positionChanges.next(Le)}this._lastScrollVisibility=se}this._lastPosition=D,this._isInitialRender=!1}_setTransformOrigin(D){if(!this._transformOriginSelector)return;const K=this._boundingBox.querySelectorAll(this._transformOriginSelector);let se,Le=D.overlayY;se="center"===D.overlayX?"center":this._isRtl()?"start"===D.overlayX?"right":"left":"start"===D.overlayX?"left":"right";for(let ct=0;ct<K.length;ct++)K[ct].style.transformOrigin=`${se} ${Le}`}_calculateBoundingBoxRect(D,K){const se=this._viewportRect,Le=this._isRtl();let ct,ut,en,it,Bt,pn;if("top"===K.overlayY)ut=D.y,ct=se.height-ut+this._viewportMargin;else if("bottom"===K.overlayY)en=se.height-D.y+2*this._viewportMargin,ct=se.height-en+this._viewportMargin;else{const st=Math.min(se.bottom-D.y+se.top,D.y),mt=this._lastBoundingBoxSize.height;ct=2*st,ut=D.y-st,ct>mt&&!this._isInitialRender&&!this._growAfterOpen&&(ut=D.y-mt/2)}if("end"===K.overlayX&&!Le||"start"===K.overlayX&&Le)pn=se.width-D.x+2*this._viewportMargin,it=D.x-this._viewportMargin;else if("start"===K.overlayX&&!Le||"end"===K.overlayX&&Le)Bt=D.x,it=se.right-D.x;else{const st=Math.min(se.right-D.x+se.left,D.x),mt=this._lastBoundingBoxSize.width;it=2*st,Bt=D.x-st,it>mt&&!this._isInitialRender&&!this._growAfterOpen&&(Bt=D.x-mt/2)}return{top:ut,left:Bt,bottom:en,right:pn,width:it,height:ct}}_setBoundingBoxStyles(D,K){const se=this._calculateBoundingBoxRect(D,K);!this._isInitialRender&&!this._growAfterOpen&&(se.height=Math.min(se.height,this._lastBoundingBoxSize.height),se.width=Math.min(se.width,this._lastBoundingBoxSize.width));const Le={};if(this._hasExactPosition())Le.top=Le.left="0",Le.bottom=Le.right=Le.maxHeight=Le.maxWidth="",Le.width=Le.height="100%";else{const ct=this._overlayRef.getConfig().maxHeight,ut=this._overlayRef.getConfig().maxWidth;Le.height=(0,S.a1)(se.height),Le.top=(0,S.a1)(se.top),Le.bottom=(0,S.a1)(se.bottom),Le.width=(0,S.a1)(se.width),Le.left=(0,S.a1)(se.left),Le.right=(0,S.a1)(se.right),Le.alignItems="center"===K.overlayX?"center":"end"===K.overlayX?"flex-end":"flex-start",Le.justifyContent="center"===K.overlayY?"center":"bottom"===K.overlayY?"flex-end":"flex-start",ct&&(Le.maxHeight=(0,S.a1)(ct)),ut&&(Le.maxWidth=(0,S.a1)(ut))}this._lastBoundingBoxSize=se,ye(this._boundingBox.style,Le)}_resetBoundingBoxStyles(){ye(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ye(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(D,K){const se={},Le=this._hasExactPosition(),ct=this._hasFlexibleDimensions,ut=this._overlayRef.getConfig();if(Le){const it=this._viewportRuler.getViewportScrollPosition();ye(se,this._getExactOverlayY(K,D,it)),ye(se,this._getExactOverlayX(K,D,it))}else se.position="static";let en="",Oe=this._getOffset(K,"x"),Pt=this._getOffset(K,"y");Oe&&(en+=`translateX(${Oe}px) `),Pt&&(en+=`translateY(${Pt}px)`),se.transform=en.trim(),ut.maxHeight&&(Le?se.maxHeight=(0,S.a1)(ut.maxHeight):ct&&(se.maxHeight="")),ut.maxWidth&&(Le?se.maxWidth=(0,S.a1)(ut.maxWidth):ct&&(se.maxWidth="")),ye(this._pane.style,se)}_getExactOverlayY(D,K,se){let Le={top:"",bottom:""},ct=this._getOverlayPoint(K,this._overlayRect,D);return this._isPushed&&(ct=this._pushOverlayOnScreen(ct,this._overlayRect,se)),"bottom"===D.overlayY?Le.bottom=this._document.documentElement.clientHeight-(ct.y+this._overlayRect.height)+"px":Le.top=(0,S.a1)(ct.y),Le}_getExactOverlayX(D,K,se){let ut,Le={left:"",right:""},ct=this._getOverlayPoint(K,this._overlayRect,D);return this._isPushed&&(ct=this._pushOverlayOnScreen(ct,this._overlayRect,se)),ut=this._isRtl()?"end"===D.overlayX?"left":"right":"end"===D.overlayX?"right":"left","right"===ut?Le.right=this._document.documentElement.clientWidth-(ct.x+this._overlayRect.width)+"px":Le.left=(0,S.a1)(ct.x),Le}_getScrollVisibility(){const D=this._getOriginRect(),K=this._pane.getBoundingClientRect(),se=this._scrollables.map(Le=>Le.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:q(D,se),isOriginOutsideView:ne(D,se),isOverlayClipped:q(K,se),isOverlayOutsideView:ne(K,se)}}_subtractOverflows(D,...K){return K.reduce((se,Le)=>se-Math.max(Le,0),D)}_getNarrowedViewportRect(){const D=this._document.documentElement.clientWidth,K=this._document.documentElement.clientHeight,se=this._viewportRuler.getViewportScrollPosition();return{top:se.top+this._viewportMargin,left:se.left+this._viewportMargin,right:se.left+D-this._viewportMargin,bottom:se.top+K-this._viewportMargin,width:D-2*this._viewportMargin,height:K-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(D,K){return"x"===K?null==D.offsetX?this._offsetX:D.offsetX:null==D.offsetY?this._offsetY:D.offsetY}_validatePositions(){}_addPanelClasses(D){this._pane&&(0,S.FG)(D).forEach(K=>{""!==K&&-1===this._appliedPanelClasses.indexOf(K)&&(this._appliedPanelClasses.push(K),this._pane.classList.add(K))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(D=>{this._pane.classList.remove(D)}),this._appliedPanelClasses=[])}_getOriginRect(){const D=this._origin;if(D instanceof v.aKT)return D.nativeElement.getBoundingClientRect();if(D instanceof Element)return D.getBoundingClientRect();const K=D.width||0,se=D.height||0;return{top:D.y,bottom:D.y+se,left:D.x,right:D.x+K,height:se,width:K}}}function ye(ie,D){for(let K in D)D.hasOwnProperty(K)&&(ie[K]=D[K]);return ie}function Se(ie){if("number"!=typeof ie&&null!=ie){const[D,K]=ie.split(ee);return K&&"px"!==K?null:parseFloat(D)}return ie||null}function Be(ie){return{top:Math.floor(ie.top),right:Math.floor(ie.right),bottom:Math.floor(ie.bottom),left:Math.floor(ie.left),width:Math.floor(ie.width),height:Math.floor(ie.height)}}const Tt="cdk-global-overlay-wrapper";class We{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(D){const K=D.getConfig();this._overlayRef=D,this._width&&!K.width&&D.updateSize({width:this._width}),this._height&&!K.height&&D.updateSize({height:this._height}),D.hostElement.classList.add(Tt),this._isDisposed=!1}top(D=""){return this._bottomOffset="",this._topOffset=D,this._alignItems="flex-start",this}left(D=""){return this._xOffset=D,this._xPosition="left",this}bottom(D=""){return this._topOffset="",this._bottomOffset=D,this._alignItems="flex-end",this}right(D=""){return this._xOffset=D,this._xPosition="right",this}start(D=""){return this._xOffset=D,this._xPosition="start",this}end(D=""){return this._xOffset=D,this._xPosition="end",this}width(D=""){return this._overlayRef?this._overlayRef.updateSize({width:D}):this._width=D,this}height(D=""){return this._overlayRef?this._overlayRef.updateSize({height:D}):this._height=D,this}centerHorizontally(D=""){return this.left(D),this._xPosition="center",this}centerVertically(D=""){return this.top(D),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const D=this._overlayRef.overlayElement.style,K=this._overlayRef.hostElement.style,se=this._overlayRef.getConfig(),{width:Le,height:ct,maxWidth:ut,maxHeight:en}=se,Oe=!("100%"!==Le&&"100vw"!==Le||ut&&"100%"!==ut&&"100vw"!==ut),Pt=!("100%"!==ct&&"100vh"!==ct||en&&"100%"!==en&&"100vh"!==en),it=this._xPosition,Bt=this._xOffset,pn="rtl"===this._overlayRef.getConfig().direction;let st="",mt="",Ut="";Oe?Ut="flex-start":"center"===it?(Ut="center",pn?mt=Bt:st=Bt):pn?"left"===it||"end"===it?(Ut="flex-end",st=Bt):("right"===it||"start"===it)&&(Ut="flex-start",mt=Bt):"left"===it||"start"===it?(Ut="flex-start",st=Bt):("right"===it||"end"===it)&&(Ut="flex-end",mt=Bt),D.position=this._cssPosition,D.marginLeft=Oe?"0":st,D.marginTop=Pt?"0":this._topOffset,D.marginBottom=this._bottomOffset,D.marginRight=Oe?"0":mt,K.justifyContent=Ut,K.alignItems=Pt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const D=this._overlayRef.overlayElement.style,K=this._overlayRef.hostElement,se=K.style;K.classList.remove(Tt),se.justifyContent=se.alignItems=D.marginTop=D.marginBottom=D.marginLeft=D.marginRight=D.position="",this._overlayRef=null,this._isDisposed=!0}}let Ve=(()=>{var ie;class D{constructor(se,Le,ct,ut){this._viewportRuler=se,this._document=Le,this._platform=ct,this._overlayContainer=ut}global(){return new We}flexibleConnectedTo(se){return new fe(se,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(ie=D).\u0275fac=function(se){return new(se||ie)(v.KVO(r.Xj),v.KVO(s.qQ),v.KVO(M.OD),v.KVO(Nt))},ie.\u0275prov=v.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),D})(),wt=0,Y=(()=>{var ie;class D{constructor(se,Le,ct,ut,en,Oe,Pt,it,Bt,pn,st,mt){this.scrollStrategies=se,this._overlayContainer=Le,this._componentFactoryResolver=ct,this._positionBuilder=ut,this._keyboardDispatcher=en,this._injector=Oe,this._ngZone=Pt,this._document=it,this._directionality=Bt,this._location=pn,this._outsideClickDispatcher=st,this._animationsModuleType=mt}create(se){const Le=this._createHostElement(),ct=this._createPaneElement(Le),ut=this._createPortalOutlet(ct),en=new J(se);return en.direction=en.direction||this._directionality.value,new Kt(ut,Le,ct,en,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(se){const Le=this._document.createElement("div");return Le.id="cdk-overlay-"+wt++,Le.classList.add("cdk-overlay-pane"),se.appendChild(Le),Le}_createHostElement(){const se=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(se),se}_createPortalOutlet(se){return this._appRef||(this._appRef=this._injector.get(v.o8S)),new G.aI(se,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(ie=D).\u0275fac=function(se){return new(se||ie)(v.KVO(z),v.KVO(Nt),v.KVO(v.OM3),v.KVO(Ve),v.KVO(Ze),v.KVO(v.zZn),v.KVO(v.SKi),v.KVO(s.qQ),v.KVO(P.dS),v.KVO(s.aZ),v.KVO(Ce),v.KVO(v.bc$,8))},ie.\u0275prov=v.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),D})();const h={provide:new v.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const ie=(0,v.WQX)(Y);return()=>ie.scrollStrategies.reposition()}}),deps:[Y],useFactory:function j(ie){return()=>ie.scrollStrategies.reposition()}};let I=(()=>{var ie;class D{}return(ie=D).\u0275fac=function(se){return new(se||ie)},ie.\u0275mod=v.$C({type:ie}),ie.\u0275inj=v.G2t({providers:[Y,h],imports:[P.jI,G.jc,r.E9,r.E9]}),D})()},36860:(ln,qe,w)=>{"use strict";w.d(qe,{BD:()=>ae,BQ:()=>N,CZ:()=>L,Fb:()=>le,KT:()=>ne,OD:()=>S,r5:()=>x,v8:()=>z,vc:()=>q});var r=w(54438),s=w(60177);let v;try{v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v=!1}let P,S=(()=>{var J;class he{constructor(k){this._platformId=k,this.isBrowser=this._platformId?(0,s.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(J=he).\u0275fac=function(k){return new(k||J)(r.KVO(r.Agw))},J.\u0275prov=r.jDH({token:J,factory:J.\u0275fac,providedIn:"root"}),he})();function N(J){return function G(){if(null==P&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>P=!0}))}finally{P=P||!1}return P}()?J:!!J.capture}var x=function(J){return J[J.NORMAL=0]="NORMAL",J[J.NEGATED=1]="NEGATED",J[J.INVERTED=2]="INVERTED",J}(x||{});let m,E,U;function L(){if(null==E){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return E=!1,E;if("scrollBehavior"in document.documentElement.style)E=!0;else{const J=Element.prototype.scrollTo;E=!!J&&!/\{\s*\[native code\]\s*\}/.test(J.toString())}}return E}function ae(){if("object"!=typeof document||!document)return x.NORMAL;if(null==m){const J=document.createElement("div"),he=J.style;J.dir="rtl",he.width="1px",he.overflow="auto",he.visibility="hidden",he.pointerEvents="none",he.position="absolute";const we=document.createElement("div"),k=we.style;k.width="2px",k.height="1px",J.appendChild(we),document.body.appendChild(J),m=x.NORMAL,0===J.scrollLeft&&(J.scrollLeft=1,m=0===J.scrollLeft?x.NEGATED:x.INVERTED),J.remove()}return m}function ne(J){if(function Z(){if(null==U){const J=typeof document<"u"?document.head:null;U=!(!J||!J.createShadowRoot&&!J.attachShadow)}return U}()){const he=J.getRootNode?J.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&he instanceof ShadowRoot)return he}return null}function q(){let J=typeof document<"u"&&document?document.activeElement:null;for(;J&&J.shadowRoot;){const he=J.shadowRoot.activeElement;if(he===J)break;J=he}return J}function le(J){return J.composedPath?J.composedPath()[0]:J.target}function z(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(ln,qe,w)=>{"use strict";w.d(qe,{A8:()=>G,I3:()=>ne,JP:()=>z,VA:()=>N,aI:()=>L,jc:()=>le,lb:()=>m});var r=w(54438),s=w(60177);class P{attach(he){return this._attachedHost=he,he.attach(this)}detach(){let he=this._attachedHost;null!=he&&(this._attachedHost=null,he.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(he){this._attachedHost=he}}class G extends P{constructor(he,we,k,ue,Ie){super(),this.component=he,this.viewContainerRef=we,this.injector=k,this.componentFactoryResolver=ue,this.projectableNodes=Ie}}class N extends P{constructor(he,we,k,ue){super(),this.templateRef=he,this.viewContainerRef=we,this.context=k,this.injector=ue}get origin(){return this.templateRef.elementRef}attach(he,we=this.context){return this.context=we,super.attach(he)}detach(){return this.context=void 0,super.detach()}}class x extends P{constructor(he){super(),this.element=he instanceof r.aKT?he.nativeElement:he}}class m{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(he){return he instanceof G?(this._attachedPortal=he,this.attachComponentPortal(he)):he instanceof N?(this._attachedPortal=he,this.attachTemplatePortal(he)):this.attachDomPortal&&he instanceof x?(this._attachedPortal=he,this.attachDomPortal(he)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(he){this._disposeFn=he}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class L extends m{constructor(he,we,k,ue,Ie){super(),this.outletElement=he,this._componentFactoryResolver=we,this._appRef=k,this._defaultInjector=ue,this.attachDomPortal=ke=>{const Ze=ke.element,Ce=this._document.createComment("dom-portal");Ze.parentNode.insertBefore(Ce,Ze),this.outletElement.appendChild(Ze),this._attachedPortal=ke,super.setDisposeFn(()=>{Ce.parentNode&&Ce.parentNode.replaceChild(Ze,Ce)})},this._document=Ie}attachComponentPortal(he){const k=(he.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(he.component);let ue;return he.viewContainerRef?(ue=he.viewContainerRef.createComponent(k,he.viewContainerRef.length,he.injector||he.viewContainerRef.injector,he.projectableNodes||void 0),this.setDisposeFn(()=>ue.destroy())):(ue=k.create(he.injector||this._defaultInjector||r.zZn.NULL),this._appRef.attachView(ue.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ue.hostView),ue.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ue)),this._attachedPortal=he,ue}attachTemplatePortal(he){let we=he.viewContainerRef,k=we.createEmbeddedView(he.templateRef,he.context,{injector:he.injector});return k.rootNodes.forEach(ue=>this.outletElement.appendChild(ue)),k.detectChanges(),this.setDisposeFn(()=>{let ue=we.indexOf(k);-1!==ue&&we.remove(ue)}),this._attachedPortal=he,k}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(he){return he.hostView.rootNodes[0]}}let ne=(()=>{var J;class he extends m{constructor(k,ue,Ie){super(),this._componentFactoryResolver=k,this._viewContainerRef=ue,this._isInitialized=!1,this.attached=new r.bkB,this.attachDomPortal=ke=>{const Ze=ke.element,Ce=this._document.createComment("dom-portal");ke.setAttachedHost(this),Ze.parentNode.insertBefore(Ce,Ze),this._getRootNode().appendChild(Ze),this._attachedPortal=ke,super.setDisposeFn(()=>{Ce.parentNode&&Ce.parentNode.replaceChild(Ze,Ce)})},this._document=Ie}get portal(){return this._attachedPortal}set portal(k){this.hasAttached()&&!k&&!this._isInitialized||(this.hasAttached()&&super.detach(),k&&super.attach(k),this._attachedPortal=k||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(k){k.setAttachedHost(this);const ue=null!=k.viewContainerRef?k.viewContainerRef:this._viewContainerRef,ke=(k.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(k.component),Ze=ue.createComponent(ke,ue.length,k.injector||ue.injector,k.projectableNodes||void 0);return ue!==this._viewContainerRef&&this._getRootNode().appendChild(Ze.hostView.rootNodes[0]),super.setDisposeFn(()=>Ze.destroy()),this._attachedPortal=k,this._attachedRef=Ze,this.attached.emit(Ze),Ze}attachTemplatePortal(k){k.setAttachedHost(this);const ue=this._viewContainerRef.createEmbeddedView(k.templateRef,k.context,{injector:k.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=k,this._attachedRef=ue,this.attached.emit(ue),ue}_getRootNode(){const k=this._viewContainerRef.element.nativeElement;return k.nodeType===k.ELEMENT_NODE?k:k.parentNode}}return(J=he).\u0275fac=function(k){return new(k||J)(r.rXU(r.OM3),r.rXU(r.c1b),r.rXU(s.qQ))},J.\u0275dir=r.FsC({type:J,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[r.Mj6.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[r.Vt3]}),he})(),le=(()=>{var J;class he{}return(J=he).\u0275fac=function(k){return new(k||J)},J.\u0275mod=r.$C({type:J}),J.\u0275inj=r.G2t({}),he})();class z{constructor(he,we){this._parentInjector=he,this._customTokens=we}get(he,we){const k=this._customTokens.get(he);return typeof k<"u"?k:this._parentInjector.get(he,we)}}},65478:(ln,qe,w)=>{"use strict";w.d(qe,{E$:()=>yt,E9:()=>We,Gj:()=>Tt,R:()=>Ze,Xj:()=>Kt,d6:()=>Se,uv:()=>Ce,yg:()=>Ie});var r=w(14085),s=w(54438),v=w(85052),S=w(15877),M=w(2573),C=w(35426),d=w(94974),F=w(82755),P=w(81027),G=w(28454),N=w(21082),x=w(9065),m=w(14264),E=w(37925),L=w(35160),ae=w(1670),U=w(32914),Z=w(49784),ne=w(36860),q=w(60177),le=w(28203),z=w(45024);const J=["contentWrapper"],he=["*"],we=new s.nKC("VIRTUAL_SCROLL_STRATEGY");class k{constructor(wt,Y,b){this._scrolledIndexChange=new v.B,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,N.F)()),this._viewport=null,this._itemSize=wt,this._minBufferPx=Y,this._maxBufferPx=b}attach(wt){this._viewport=wt,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(wt,Y,b){this._itemSize=wt,this._minBufferPx=Y,this._maxBufferPx=b,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(wt,Y){this._viewport&&this._viewport.scrollToOffset(wt*this._itemSize,Y)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const wt=this._viewport.getRenderedRange(),Y={start:wt.start,end:wt.end},b=this._viewport.getViewportSize(),R=this._viewport.getDataLength();let T=this._viewport.measureScrollOffset(),V=this._itemSize>0?T/this._itemSize:0;if(Y.end>R){const h=Math.ceil(b/this._itemSize),I=Math.max(0,Math.min(V,R-h));V!=I&&(V=I,T=I*this._itemSize,Y.start=Math.floor(V)),Y.end=Math.max(0,Math.min(R,Y.start+h))}const j=T-Y.start*this._itemSize;if(j<this._minBufferPx&&0!=Y.start){const h=Math.ceil((this._maxBufferPx-j)/this._itemSize);Y.start=Math.max(0,Y.start-h),Y.end=Math.min(R,Math.ceil(V+(b+this._minBufferPx)/this._itemSize))}else{const h=Y.end*this._itemSize-(T+b);if(h<this._minBufferPx&&Y.end!=R){const I=Math.ceil((this._maxBufferPx-h)/this._itemSize);I>0&&(Y.end=Math.min(R,Y.end+I),Y.start=Math.max(0,Math.floor(V-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(Y),this._viewport.setRenderedContentOffset(this._itemSize*Y.start),this._scrolledIndexChange.next(Math.floor(V))}}function ue(Ve){return Ve._scrollStrategy}let Ie=(()=>{var Ve;class wt{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new k(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(b){this._itemSize=(0,r.OE)(b)}get minBufferPx(){return this._minBufferPx}set minBufferPx(b){this._minBufferPx=(0,r.OE)(b)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(b){this._maxBufferPx=(0,r.OE)(b)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)},Ve.\u0275dir=s.FsC({type:Ve,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[s.Jv_([{provide:we,useFactory:ue,deps:[(0,s.Rfq)(()=>Ve)]}]),s.OA$]}),wt})(),Ze=(()=>{var Ve;class wt{constructor(b,R,T){this._ngZone=b,this._platform=R,this._scrolled=new v.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=T}register(b){this.scrollContainers.has(b)||this.scrollContainers.set(b,b.elementScrolled().subscribe(()=>this._scrolled.next(b)))}deregister(b){const R=this.scrollContainers.get(b);R&&(R.unsubscribe(),this.scrollContainers.delete(b))}scrolled(b=20){return this._platform.isBrowser?new M.c(R=>{this._globalSubscription||this._addGlobalListener();const T=b>0?this._scrolled.pipe((0,x.Z)(b)).subscribe(R):this._scrolled.subscribe(R);return this._scrolledCount++,()=>{T.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,S.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((b,R)=>this.deregister(R)),this._scrolled.complete()}ancestorScrolled(b,R){const T=this.getAncestorScrollContainers(b);return this.scrolled(R).pipe((0,m.p)(V=>!V||T.indexOf(V)>-1))}getAncestorScrollContainers(b){const R=[];return this.scrollContainers.forEach((T,V)=>{this._scrollableContainsElement(V,b)&&R.push(V)}),R}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(b,R){let T=(0,r.i8)(R),V=b.getElementRef().nativeElement;do{if(T==V)return!0}while(T=T.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const b=this._getWindow();return(0,C.R)(b.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.KVO(s.SKi),s.KVO(ne.OD),s.KVO(q.qQ,8))},Ve.\u0275prov=s.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),wt})(),Ce=(()=>{var Ve;class wt{constructor(b,R,T,V){this.elementRef=b,this.scrollDispatcher=R,this.ngZone=T,this.dir=V,this._destroyed=new v.B,this._elementScrolled=new M.c(j=>this.ngZone.runOutsideAngular(()=>(0,C.R)(this.elementRef.nativeElement,"scroll").pipe((0,E.Q)(this._destroyed)).subscribe(j)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(b){const R=this.elementRef.nativeElement,T=this.dir&&"rtl"==this.dir.value;null==b.left&&(b.left=T?b.end:b.start),null==b.right&&(b.right=T?b.start:b.end),null!=b.bottom&&(b.top=R.scrollHeight-R.clientHeight-b.bottom),T&&(0,ne.BD)()!=ne.r5.NORMAL?(null!=b.left&&(b.right=R.scrollWidth-R.clientWidth-b.left),(0,ne.BD)()==ne.r5.INVERTED?b.left=b.right:(0,ne.BD)()==ne.r5.NEGATED&&(b.left=b.right?-b.right:b.right)):null!=b.right&&(b.left=R.scrollWidth-R.clientWidth-b.right),this._applyScrollToOptions(b)}_applyScrollToOptions(b){const R=this.elementRef.nativeElement;(0,ne.CZ)()?R.scrollTo(b):(null!=b.top&&(R.scrollTop=b.top),null!=b.left&&(R.scrollLeft=b.left))}measureScrollOffset(b){const R="left",T="right",V=this.elementRef.nativeElement;if("top"==b)return V.scrollTop;if("bottom"==b)return V.scrollHeight-V.clientHeight-V.scrollTop;const j=this.dir&&"rtl"==this.dir.value;return"start"==b?b=j?T:R:"end"==b&&(b=j?R:T),j&&(0,ne.BD)()==ne.r5.INVERTED?b==R?V.scrollWidth-V.clientWidth-V.scrollLeft:V.scrollLeft:j&&(0,ne.BD)()==ne.r5.NEGATED?b==R?V.scrollLeft+V.scrollWidth-V.clientWidth:-V.scrollLeft:b==R?V.scrollLeft:V.scrollWidth-V.clientWidth-V.scrollLeft}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.rXU(s.aKT),s.rXU(Ze),s.rXU(s.SKi),s.rXU(le.dS,8))},Ve.\u0275dir=s.FsC({type:Ve,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),wt})(),Kt=(()=>{var Ve;class wt{constructor(b,R,T){this._platform=b,this._change=new v.B,this._changeListener=V=>{this._change.next(V)},this._document=T,R.runOutsideAngular(()=>{if(b.isBrowser){const V=this._getWindow();V.addEventListener("resize",this._changeListener),V.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const b=this._getWindow();b.removeEventListener("resize",this._changeListener),b.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const b={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),b}getViewportRect(){const b=this.getViewportScrollPosition(),{width:R,height:T}=this.getViewportSize();return{top:b.top,left:b.left,bottom:b.top+T,right:b.left+R,height:T,width:R}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const b=this._document,R=this._getWindow(),T=b.documentElement,V=T.getBoundingClientRect();return{top:-V.top||b.body.scrollTop||R.scrollY||T.scrollTop||0,left:-V.left||b.body.scrollLeft||R.scrollX||T.scrollLeft||0}}change(b=20){return b>0?this._change.pipe((0,x.Z)(b)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const b=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:b.innerWidth,height:b.innerHeight}:{width:0,height:0}}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.KVO(ne.OD),s.KVO(s.SKi),s.KVO(q.qQ,8))},Ve.\u0275prov=s.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),wt})();const me=new s.nKC("VIRTUAL_SCROLLABLE");let ee=(()=>{var Ve;class wt extends Ce{constructor(b,R,T,V){super(b,R,T,V)}measureViewportSize(b){const R=this.elementRef.nativeElement;return"horizontal"===b?R.clientWidth:R.clientHeight}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.rXU(s.aKT),s.rXU(Ze),s.rXU(s.SKi),s.rXU(le.dS,8))},Ve.\u0275dir=s.FsC({type:Ve,features:[s.Vt3]}),wt})();const ye=typeof requestAnimationFrame<"u"?d.X:F.$;let Se=(()=>{var Ve;class wt extends ee{get orientation(){return this._orientation}set orientation(b){this._orientation!==b&&(this._orientation=b,this._calculateSpacerSize())}constructor(b,R,T,V,j,h,I,xe){super(b,h,T,j),this.elementRef=b,this._changeDetectorRef=R,this._scrollStrategy=V,this.scrollable=xe,this._platform=(0,s.WQX)(ne.OD),this._detachedSubject=new v.B,this._renderedRangeSubject=new v.B,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new M.c(ie=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>ie.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=P.yU.EMPTY,this._viewportChanges=I.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,L.Z)(null),(0,x.Z)(0,ye),(0,E.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(b){this.ngZone.runOutsideAngular(()=>{this._forOf=b,this._forOf.dataStream.pipe((0,E.Q)(this._detachedSubject)).subscribe(R=>{const T=R.length;T!==this._dataLength&&(this._dataLength=T,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(b){return this.getElementRef().nativeElement.getBoundingClientRect()[b]}setTotalContentSize(b){this._totalContentSize!==b&&(this._totalContentSize=b,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(b){(function fe(Ve,wt){return Ve.start==wt.start&&Ve.end==wt.end})(this._renderedRange,b)||(this.appendOnly&&(b={start:0,end:Math.max(this._renderedRange.end,b.end)}),this._renderedRangeSubject.next(this._renderedRange=b),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(b,R="to-start"){b=this.appendOnly&&"to-start"===R?0:b;const V="horizontal"==this.orientation,j=V?"X":"Y";let I=`translate${j}(${Number((V&&this.dir&&"rtl"==this.dir.value?-1:1)*b)}px)`;this._renderedContentOffset=b,"to-end"===R&&(I+=` translate${j}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=I&&(this._renderedContentTransform=I,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(b,R="auto"){const T={behavior:R};"horizontal"===this.orientation?T.start=b:T.top=b,this.scrollable.scrollTo(T)}scrollToIndex(b,R="auto"){this._scrollStrategy.scrollToIndex(b,R)}measureScrollOffset(b){let R;return R=this.scrollable==this?T=>super.measureScrollOffset(T):T=>this.scrollable.measureScrollOffset(T),Math.max(0,R(b??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(b){let R;const T="left",V="right",j="rtl"==this.dir?.value;R="start"==b?j?V:T:"end"==b?j?T:V:b||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(R);return this.elementRef.nativeElement.getBoundingClientRect()[R]-h}measureRenderedContentSize(){const b=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?b.offsetWidth:b.offsetHeight}measureRangeSize(b){return this._forOf?this._forOf.measureRangeSize(b,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(b){b&&this._runAfterChangeDetection.push(b),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const b=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const R of b)R()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.rXU(s.aKT),s.rXU(s.gRc),s.rXU(s.SKi),s.rXU(we,8),s.rXU(le.dS,8),s.rXU(Ze),s.rXU(Kt),s.rXU(me,8))},Ve.\u0275cmp=s.VBU({type:Ve,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(b,R){if(1&b&&s.GBs(J,7),2&b){let T;s.mGM(T=s.lsd())&&(R._contentWrapper=T.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(b,R){2&b&&s.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===R.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==R.orientation)},inputs:{orientation:"orientation",appendOnly:[s.Mj6.HasDecoratorInputTransform,"appendOnly","appendOnly",s.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s.Jv_([{provide:Ce,useFactory:(Y,b)=>Y||b,deps:[[new s.Xx1,new s.y_5(me)],Ve]}]),s.GFd,s.Vt3,s.aNF],ngContentSelectors:he,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(b,R){1&b&&(s.NAR(),s.j41(0,"div",1,0),s.SdG(2),s.k0s(),s.nrm(3,"div",2)),2&b&&(s.R7$(3),s.xc7("width",R._totalContentWidth)("height",R._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),wt})();function Be(Ve,wt,Y){if(!Y.getBoundingClientRect)return 0;const R=Y.getBoundingClientRect();return"horizontal"===Ve?"start"===wt?R.left:R.right:"start"===wt?R.top:R.bottom}let yt=(()=>{var Ve;class wt{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(b){this._cdkVirtualForOf=b,(0,z.y4)(b)?this._dataSourceChanges.next(b):this._dataSourceChanges.next(new z.hx((0,G.A)(b)?b:Array.from(b||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(b){this._needsUpdate=!0,this._cdkVirtualForTrackBy=b?(R,T)=>b(R+(this._renderedRange?this._renderedRange.start:0),T):void 0}set cdkVirtualForTemplate(b){b&&(this._needsUpdate=!0,this._template=b)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(b){this._viewRepeater.viewCacheSize=(0,r.OE)(b)}constructor(b,R,T,V,j,h){this._viewContainerRef=b,this._template=R,this._differs=T,this._viewRepeater=V,this._viewport=j,this.viewChange=new v.B,this._dataSourceChanges=new v.B,this.dataStream=this._dataSourceChanges.pipe((0,L.Z)(null),(0,ae.J)(),(0,U.n)(([I,xe])=>this._changeDataSource(I,xe)),(0,Z.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new v.B,this.dataStream.subscribe(I=>{this._data=I,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,E.Q)(this._destroyed)).subscribe(I=>{this._renderedRange=I,this.viewChange.observers.length&&h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(b,R){if(b.start>=b.end)return 0;const T=b.start-this._renderedRange.start,V=b.end-b.start;let j,h;for(let I=0;I<V;I++){const xe=this._viewContainerRef.get(I+T);if(xe&&xe.rootNodes.length){j=h=xe.rootNodes[0];break}}for(let I=V-1;I>-1;I--){const xe=this._viewContainerRef.get(I+T);if(xe&&xe.rootNodes.length){h=xe.rootNodes[xe.rootNodes.length-1];break}}return j&&h?Be(R,"end",h)-Be(R,"start",j):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const b=this._differ.diff(this._renderedItems);b?this._applyChanges(b):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((b,R)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(b,R):R)),this._needsUpdate=!0)}_changeDataSource(b,R){return b&&b.disconnect(this),this._needsUpdate=!0,R?R.connect(this):(0,S.of)()}_updateContext(){const b=this._data.length;let R=this._viewContainerRef.length;for(;R--;){const T=this._viewContainerRef.get(R);T.context.index=this._renderedRange.start+R,T.context.count=b,this._updateComputedContextProperties(T.context),T.detectChanges()}}_applyChanges(b){this._viewRepeater.applyChanges(b,this._viewContainerRef,(V,j,h)=>this._getEmbeddedViewArgs(V,h),V=>V.item),b.forEachIdentityChange(V=>{this._viewContainerRef.get(V.currentIndex).context.$implicit=V.item});const R=this._data.length;let T=this._viewContainerRef.length;for(;T--;){const V=this._viewContainerRef.get(T);V.context.index=this._renderedRange.start+T,V.context.count=R,this._updateComputedContextProperties(V.context)}}_updateComputedContextProperties(b){b.first=0===b.index,b.last=b.index===b.count-1,b.even=b.index%2==0,b.odd=!b.even}_getEmbeddedViewArgs(b,R){return{templateRef:this._template,context:{$implicit:b.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:R}}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(s._q3),s.rXU(z.sL),s.rXU(Se,4),s.rXU(s.SKi))},Ve.\u0275dir=s.FsC({type:Ve,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[s.Jv_([{provide:z.sL,useClass:z.DQ}])]}),wt})(),Tt=(()=>{var Ve;class wt{}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)},Ve.\u0275mod=s.$C({type:Ve}),Ve.\u0275inj=s.G2t({}),wt})(),We=(()=>{var Ve;class wt{}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)},Ve.\u0275mod=s.$C({type:Ve}),Ve.\u0275inj=s.G2t({imports:[le.jI,Tt,le.jI,Tt]}),wt})()},45887:(ln,qe,w)=>{"use strict";w.d(qe,{N0:()=>Bt}),w(28203),w(45024),w(36860);var S=w(65478),C=(w(60177),w(54438));w(85052),w(21472),w(29160),w(28454),w(15877),w(37925),w(17365);let Bt=(()=>{var st;class mt{}return(st=mt).\u0275fac=function(Ne){return new(Ne||st)},st.\u0275mod=C.$C({type:st}),st.\u0275inj=C.G2t({imports:[S.E9]}),mt})()},64109:(ln,qe,w)=>{"use strict";w.d(qe,{Dc:()=>Nt}),w(45024),w(28454),w(85052),w(29160),w(15877),w(17365),w(14264),w(37925);var P=w(54438);w(28203);let Nt=(()=>{var Kt;class me{}return(Kt=me).\u0275fac=function(fe){return new(fe||Kt)},Kt.\u0275mod=P.$C({type:Kt}),Kt.\u0275inj=P.G2t({}),me})()},60177:(ln,qe,w)=>{"use strict";w.d(qe,{AJ:()=>ys,B3:()=>un,EO:()=>Fe,Jj:()=>Gi,MD:()=>Ls,N0:()=>lr,OI:()=>ir,PV:()=>Ao,Pc:()=>Ms,QT:()=>v,QX:()=>Ei,Sm:()=>ae,Sq:()=>$t,T3:()=>Ge,TG:()=>rr,UE:()=>Fo,VF:()=>M,Vy:()=>pa,Xr:()=>Ts,YU:()=>zn,Yq:()=>en,ZD:()=>S,_b:()=>_t,aZ:()=>Z,bT:()=>ei,e1:()=>Yi,fG:()=>so,fw:()=>U,hb:()=>E,hj:()=>P,lG:()=>Lr,qQ:()=>d,ux:()=>yi,vh:()=>Qo});var r=w(54438);let s=null;function v(){return s}function S(_e){s??=_e}class M{}const d=new r.nKC("");let F=(()=>{var _e;class dt{historyGo(Ke){throw new Error("")}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)},_e.\u0275prov=r.jDH({token:_e,factory:()=>(0,r.WQX)(G),providedIn:"platform"}),dt})();const P=new r.nKC("");let G=(()=>{var _e;class dt extends F{constructor(){super(),this._doc=(0,r.WQX)(d),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(Ke){const En=v().getGlobalEventTarget(this._doc,"window");return En.addEventListener("popstate",Ke,!1),()=>En.removeEventListener("popstate",Ke)}onHashChange(Ke){const En=v().getGlobalEventTarget(this._doc,"window");return En.addEventListener("hashchange",Ke,!1),()=>En.removeEventListener("hashchange",Ke)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ke){this._location.pathname=Ke}pushState(Ke,En,dr){this._history.pushState(Ke,En,dr)}replaceState(Ke,En,dr){this._history.replaceState(Ke,En,dr)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ke=0){this._history.go(Ke)}getState(){return this._history.state}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)},_e.\u0275prov=r.jDH({token:_e,factory:()=>new _e,providedIn:"platform"}),dt})();function N(_e,dt){if(0==_e.length)return dt;if(0==dt.length)return _e;let On=0;return _e.endsWith("/")&&On++,dt.startsWith("/")&&On++,2==On?_e+dt.substring(1):1==On?_e+dt:_e+"/"+dt}function x(_e){const dt=_e.match(/#|\?|$/),On=dt&&dt.index||_e.length;return _e.slice(0,On-("/"===_e[On-1]?1:0))+_e.slice(On)}function m(_e){return _e&&"?"!==_e[0]?"?"+_e:_e}let E=(()=>{var _e;class dt{historyGo(Ke){throw new Error("")}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)},_e.\u0275prov=r.jDH({token:_e,factory:()=>(0,r.WQX)(ae),providedIn:"root"}),dt})();const L=new r.nKC("");let ae=(()=>{var _e;class dt extends E{constructor(Ke,En){super(),this._platformLocation=Ke,this._removeListenerFns=[],this._baseHref=En??this._platformLocation.getBaseHrefFromDOM()??(0,r.WQX)(d).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ke){this._removeListenerFns.push(this._platformLocation.onPopState(Ke),this._platformLocation.onHashChange(Ke))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ke){return N(this._baseHref,Ke)}path(Ke=!1){const En=this._platformLocation.pathname+m(this._platformLocation.search),dr=this._platformLocation.hash;return dr&&Ke?`${En}${dr}`:En}pushState(Ke,En,dr,li){const Ji=this.prepareExternalUrl(dr+m(li));this._platformLocation.pushState(Ke,En,Ji)}replaceState(Ke,En,dr,li){const Ji=this.prepareExternalUrl(dr+m(li));this._platformLocation.replaceState(Ke,En,Ji)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ke=0){this._platformLocation.historyGo?.(Ke)}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.KVO(F),r.KVO(L,8))},_e.\u0275prov=r.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"}),dt})(),U=(()=>{var _e;class dt extends E{constructor(Ke,En){super(),this._platformLocation=Ke,this._baseHref="",this._removeListenerFns=[],null!=En&&(this._baseHref=En)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ke){this._removeListenerFns.push(this._platformLocation.onPopState(Ke),this._platformLocation.onHashChange(Ke))}getBaseHref(){return this._baseHref}path(Ke=!1){const En=this._platformLocation.hash??"#";return En.length>0?En.substring(1):En}prepareExternalUrl(Ke){const En=N(this._baseHref,Ke);return En.length>0?"#"+En:En}pushState(Ke,En,dr,li){let Ji=this.prepareExternalUrl(dr+m(li));0==Ji.length&&(Ji=this._platformLocation.pathname),this._platformLocation.pushState(Ke,En,Ji)}replaceState(Ke,En,dr,li){let Ji=this.prepareExternalUrl(dr+m(li));0==Ji.length&&(Ji=this._platformLocation.pathname),this._platformLocation.replaceState(Ke,En,Ji)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ke=0){this._platformLocation.historyGo?.(Ke)}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.KVO(F),r.KVO(L,8))},_e.\u0275prov=r.jDH({token:_e,factory:_e.\u0275fac}),dt})(),Z=(()=>{var _e;class dt{constructor(Ke){this._subject=new r.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ke;const En=this._locationStrategy.getBaseHref();this._basePath=function z(_e){if(new RegExp("^(https?:)?//").test(_e)){const[,On]=_e.split(/\/\/[^\/]+/);return On}return _e}(x(le(En))),this._locationStrategy.onPopState(dr=>{this._subject.emit({url:this.path(!0),pop:!0,state:dr.state,type:dr.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ke=!1){return this.normalize(this._locationStrategy.path(Ke))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ke,En=""){return this.path()==this.normalize(Ke+m(En))}normalize(Ke){return dt.stripTrailingSlash(function q(_e,dt){if(!_e||!dt.startsWith(_e))return dt;const On=dt.substring(_e.length);return""===On||["/",";","?","#"].includes(On[0])?On:dt}(this._basePath,le(Ke)))}prepareExternalUrl(Ke){return Ke&&"/"!==Ke[0]&&(Ke="/"+Ke),this._locationStrategy.prepareExternalUrl(Ke)}go(Ke,En="",dr=null){this._locationStrategy.pushState(dr,"",Ke,En),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ke+m(En)),dr)}replaceState(Ke,En="",dr=null){this._locationStrategy.replaceState(dr,"",Ke,En),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ke+m(En)),dr)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ke=0){this._locationStrategy.historyGo?.(Ke)}onUrlChange(Ke){return this._urlChangeListeners.push(Ke),this._urlChangeSubscription??=this.subscribe(En=>{this._notifyUrlChangeListeners(En.url,En.state)}),()=>{const En=this._urlChangeListeners.indexOf(Ke);this._urlChangeListeners.splice(En,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ke="",En){this._urlChangeListeners.forEach(dr=>dr(Ke,En))}subscribe(Ke,En,dr){return this._subject.subscribe({next:Ke,error:En,complete:dr})}}return(_e=dt).normalizeQueryParams=m,_e.joinWithSlash=N,_e.stripTrailingSlash=x,_e.\u0275fac=function(Ke){return new(Ke||_e)(r.KVO(E))},_e.\u0275prov=r.jDH({token:_e,factory:()=>function ne(){return new Z((0,r.KVO)(E))}(),providedIn:"root"}),dt})();function le(_e){return _e.replace(/\/index.html$/,"")}var he=function(_e){return _e[_e.Decimal=0]="Decimal",_e[_e.Percent=1]="Percent",_e[_e.Currency=2]="Currency",_e[_e.Scientific=3]="Scientific",_e}(he||{}),k=function(_e){return _e[_e.Format=0]="Format",_e[_e.Standalone=1]="Standalone",_e}(k||{}),ue=function(_e){return _e[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e}(ue||{}),Ie=function(_e){return _e[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e}(Ie||{});const ke={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Se(_e,dt){return j((0,r.H5H)(_e)[r.KH2.DateFormat],dt)}function Be(_e,dt){return j((0,r.H5H)(_e)[r.KH2.TimeFormat],dt)}function yt(_e,dt){return j((0,r.H5H)(_e)[r.KH2.DateTimeFormat],dt)}function qt(_e,dt){const On=(0,r.H5H)(_e),Ke=On[r.KH2.NumberSymbols][dt];if(typeof Ke>"u"){if(dt===ke.CurrencyDecimal)return On[r.KH2.NumberSymbols][ke.Decimal];if(dt===ke.CurrencyGroup)return On[r.KH2.NumberSymbols][ke.Group]}return Ke}function b(_e){if(!_e[r.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${_e[r.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function j(_e,dt){for(let On=dt;On>-1;On--)if(typeof _e[On]<"u")return _e[On];throw new Error("Locale data API: locale data undefined")}function h(_e){const[dt,On]=_e.split(":");return{hours:+dt,minutes:+On}}const D=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,K={},se=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Le=function(_e){return _e[_e.Short=0]="Short",_e[_e.ShortGMT=1]="ShortGMT",_e[_e.Long=2]="Long",_e[_e.Extended=3]="Extended",_e}(Le||{}),ct=function(_e){return _e[_e.FullYear=0]="FullYear",_e[_e.Month=1]="Month",_e[_e.Date=2]="Date",_e[_e.Hours=3]="Hours",_e[_e.Minutes=4]="Minutes",_e[_e.Seconds=5]="Seconds",_e[_e.FractionalSeconds=6]="FractionalSeconds",_e[_e.Day=7]="Day",_e}(ct||{}),ut=function(_e){return _e[_e.DayPeriods=0]="DayPeriods",_e[_e.Days=1]="Days",_e[_e.Months=2]="Months",_e[_e.Eras=3]="Eras",_e}(ut||{});function en(_e,dt,On,Ke){let En=function Yt(_e){if(Lt(_e))return _e;if("number"==typeof _e&&!isNaN(_e))return new Date(_e);if("string"==typeof _e){if(_e=_e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_e)){const[En,dr=1,li=1]=_e.split("-").map(Ji=>+Ji);return Oe(En,dr-1,li)}const On=parseFloat(_e);if(!isNaN(_e-On))return new Date(On);let Ke;if(Ke=_e.match(D))return function Qe(_e){const dt=new Date(0);let On=0,Ke=0;const En=_e[8]?dt.setUTCFullYear:dt.setFullYear,dr=_e[8]?dt.setUTCHours:dt.setHours;_e[9]&&(On=Number(_e[9]+_e[10]),Ke=Number(_e[9]+_e[11])),En.call(dt,Number(_e[1]),Number(_e[2])-1,Number(_e[3]));const li=Number(_e[4]||0)-On,Ji=Number(_e[5]||0)-Ke,gs=Number(_e[6]||0),us=Math.floor(1e3*parseFloat("0."+(_e[7]||0)));return dr.call(dt,li,Ji,gs,us),dt}(Ke)}const dt=new Date(_e);if(!Lt(dt))throw new Error(`Unable to convert "${_e}" into a date`);return dt}(_e);dt=Pt(On,dt)||dt;let Ji,li=[];for(;dt;){if(Ji=se.exec(dt),!Ji){li.push(dt);break}{li=li.concat(Ji.slice(1));const ds=li.pop();if(!ds)break;dt=ds}}let gs=En.getTimezoneOffset();Ke&&(gs=Mt(Ke,gs),En=function sn(_e,dt,On){const Ke=On?-1:1,En=_e.getTimezoneOffset();return function bt(_e,dt){return(_e=new Date(_e.getTime())).setMinutes(_e.getMinutes()+dt),_e}(_e,Ke*(Mt(dt,En)-En))}(En,Ke,!0));let us="";return li.forEach(ds=>{const fs=function kt(_e){if(St[_e])return St[_e];let dt;switch(_e){case"G":case"GG":case"GGG":dt=Ut(ut.Eras,ue.Abbreviated);break;case"GGGG":dt=Ut(ut.Eras,ue.Wide);break;case"GGGGG":dt=Ut(ut.Eras,ue.Narrow);break;case"y":dt=st(ct.FullYear,1,0,!1,!0);break;case"yy":dt=st(ct.FullYear,2,0,!0,!0);break;case"yyy":dt=st(ct.FullYear,3,0,!1,!0);break;case"yyyy":dt=st(ct.FullYear,4,0,!1,!0);break;case"Y":dt=yn(1);break;case"YY":dt=yn(2,!0);break;case"YYY":dt=yn(3);break;case"YYYY":dt=yn(4);break;case"M":case"L":dt=st(ct.Month,1,1);break;case"MM":case"LL":dt=st(ct.Month,2,1);break;case"MMM":dt=Ut(ut.Months,ue.Abbreviated);break;case"MMMM":dt=Ut(ut.Months,ue.Wide);break;case"MMMMM":dt=Ut(ut.Months,ue.Narrow);break;case"LLL":dt=Ut(ut.Months,ue.Abbreviated,k.Standalone);break;case"LLLL":dt=Ut(ut.Months,ue.Wide,k.Standalone);break;case"LLLLL":dt=Ut(ut.Months,ue.Narrow,k.Standalone);break;case"w":dt=Mr(1);break;case"ww":dt=Mr(2);break;case"W":dt=Mr(1,!0);break;case"d":dt=st(ct.Date,1);break;case"dd":dt=st(ct.Date,2);break;case"c":case"cc":dt=st(ct.Day,1);break;case"ccc":dt=Ut(ut.Days,ue.Abbreviated,k.Standalone);break;case"cccc":dt=Ut(ut.Days,ue.Wide,k.Standalone);break;case"ccccc":dt=Ut(ut.Days,ue.Narrow,k.Standalone);break;case"cccccc":dt=Ut(ut.Days,ue.Short,k.Standalone);break;case"E":case"EE":case"EEE":dt=Ut(ut.Days,ue.Abbreviated);break;case"EEEE":dt=Ut(ut.Days,ue.Wide);break;case"EEEEE":dt=Ut(ut.Days,ue.Narrow);break;case"EEEEEE":dt=Ut(ut.Days,ue.Short);break;case"a":case"aa":case"aaa":dt=Ut(ut.DayPeriods,ue.Abbreviated);break;case"aaaa":dt=Ut(ut.DayPeriods,ue.Wide);break;case"aaaaa":dt=Ut(ut.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":dt=Ut(ut.DayPeriods,ue.Abbreviated,k.Standalone,!0);break;case"bbbb":dt=Ut(ut.DayPeriods,ue.Wide,k.Standalone,!0);break;case"bbbbb":dt=Ut(ut.DayPeriods,ue.Narrow,k.Standalone,!0);break;case"B":case"BB":case"BBB":dt=Ut(ut.DayPeriods,ue.Abbreviated,k.Format,!0);break;case"BBBB":dt=Ut(ut.DayPeriods,ue.Wide,k.Format,!0);break;case"BBBBB":dt=Ut(ut.DayPeriods,ue.Narrow,k.Format,!0);break;case"h":dt=st(ct.Hours,1,-12);break;case"hh":dt=st(ct.Hours,2,-12);break;case"H":dt=st(ct.Hours,1);break;case"HH":dt=st(ct.Hours,2);break;case"m":dt=st(ct.Minutes,1);break;case"mm":dt=st(ct.Minutes,2);break;case"s":dt=st(ct.Seconds,1);break;case"ss":dt=st(ct.Seconds,2);break;case"S":dt=st(ct.FractionalSeconds,1);break;case"SS":dt=st(ct.FractionalSeconds,2);break;case"SSS":dt=st(ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":dt=zt(Le.Short);break;case"ZZZZZ":dt=zt(Le.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":dt=zt(Le.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":dt=zt(Le.Long);break;default:return null}return St[_e]=dt,dt}(ds);us+=fs?fs(En,On,gs):"''"===ds?"'":ds.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),us}function Oe(_e,dt,On){const Ke=new Date(0);return Ke.setFullYear(_e,dt,On),Ke.setHours(0,0,0),Ke}function Pt(_e,dt){const On=function Ce(_e){return(0,r.H5H)(_e)[r.KH2.LocaleId]}(_e);if(K[On]??={},K[On][dt])return K[On][dt];let Ke="";switch(dt){case"shortDate":Ke=Se(_e,Ie.Short);break;case"mediumDate":Ke=Se(_e,Ie.Medium);break;case"longDate":Ke=Se(_e,Ie.Long);break;case"fullDate":Ke=Se(_e,Ie.Full);break;case"shortTime":Ke=Be(_e,Ie.Short);break;case"mediumTime":Ke=Be(_e,Ie.Medium);break;case"longTime":Ke=Be(_e,Ie.Long);break;case"fullTime":Ke=Be(_e,Ie.Full);break;case"short":const En=Pt(_e,"shortTime"),dr=Pt(_e,"shortDate");Ke=it(yt(_e,Ie.Short),[En,dr]);break;case"medium":const li=Pt(_e,"mediumTime"),Ji=Pt(_e,"mediumDate");Ke=it(yt(_e,Ie.Medium),[li,Ji]);break;case"long":const gs=Pt(_e,"longTime"),us=Pt(_e,"longDate");Ke=it(yt(_e,Ie.Long),[gs,us]);break;case"full":const ds=Pt(_e,"fullTime"),fs=Pt(_e,"fullDate");Ke=it(yt(_e,Ie.Full),[ds,fs])}return Ke&&(K[On][dt]=Ke),Ke}function it(_e,dt){return dt&&(_e=_e.replace(/\{([^}]+)}/g,function(On,Ke){return null!=dt&&Ke in dt?dt[Ke]:On})),_e}function Bt(_e,dt,On="-",Ke,En){let dr="";(_e<0||En&&_e<=0)&&(En?_e=1-_e:(_e=-_e,dr=On));let li=String(_e);for(;li.length<dt;)li="0"+li;return Ke&&(li=li.slice(li.length-dt)),dr+li}function st(_e,dt,On=0,Ke=!1,En=!1){return function(dr,li){let Ji=function mt(_e,dt){switch(_e){case ct.FullYear:return dt.getFullYear();case ct.Month:return dt.getMonth();case ct.Date:return dt.getDate();case ct.Hours:return dt.getHours();case ct.Minutes:return dt.getMinutes();case ct.Seconds:return dt.getSeconds();case ct.FractionalSeconds:return dt.getMilliseconds();case ct.Day:return dt.getDay();default:throw new Error(`Unknown DateType value "${_e}".`)}}(_e,dr);if((On>0||Ji>-On)&&(Ji+=On),_e===ct.Hours)0===Ji&&-12===On&&(Ji=12);else if(_e===ct.FractionalSeconds)return function pn(_e,dt){return Bt(_e,3).substring(0,dt)}(Ji,dt);const gs=qt(li,ke.MinusSign);return Bt(Ji,dt,gs,Ke,En)}}function Ut(_e,dt,On=k.Format,Ke=!1){return function(En,dr){return function Ne(_e,dt,On,Ke,En,dr){switch(On){case ut.Months:return function me(_e,dt,On){const Ke=(0,r.H5H)(_e),dr=j([Ke[r.KH2.MonthsFormat],Ke[r.KH2.MonthsStandalone]],dt);return j(dr,On)}(dt,En,Ke)[_e.getMonth()];case ut.Days:return function Kt(_e,dt,On){const Ke=(0,r.H5H)(_e),dr=j([Ke[r.KH2.DaysFormat],Ke[r.KH2.DaysStandalone]],dt);return j(dr,On)}(dt,En,Ke)[_e.getDay()];case ut.DayPeriods:const li=_e.getHours(),Ji=_e.getMinutes();if(dr){const us=function R(_e){const dt=(0,r.H5H)(_e);return b(dt),(dt[r.KH2.ExtraData][2]||[]).map(Ke=>"string"==typeof Ke?h(Ke):[h(Ke[0]),h(Ke[1])])}(dt),ds=function T(_e,dt,On){const Ke=(0,r.H5H)(_e);b(Ke);const dr=j([Ke[r.KH2.ExtraData][0],Ke[r.KH2.ExtraData][1]],dt)||[];return j(dr,On)||[]}(dt,En,Ke),fs=us.findIndex(na=>{if(Array.isArray(na)){const[bs,Lo]=na,Ho=li>=bs.hours&&Ji>=bs.minutes,Ki=li<Lo.hours||li===Lo.hours&&Ji<Lo.minutes;if(bs.hours<Lo.hours){if(Ho&&Ki)return!0}else if(Ho||Ki)return!0}else if(na.hours===li&&na.minutes===Ji)return!0;return!1});if(-1!==fs)return ds[fs]}return function Nt(_e,dt,On){const Ke=(0,r.H5H)(_e),dr=j([Ke[r.KH2.DayPeriodsFormat],Ke[r.KH2.DayPeriodsStandalone]],dt);return j(dr,On)}(dt,En,Ke)[li<12?0:1];case ut.Eras:return function ee(_e,dt){return j((0,r.H5H)(_e)[r.KH2.Eras],dt)}(dt,Ke)[_e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${On}`)}}(En,dr,_e,dt,On,Ke)}}function zt(_e){return function(dt,On,Ke){const En=-1*Ke,dr=qt(On,ke.MinusSign),li=En>0?Math.floor(En/60):Math.ceil(En/60);switch(_e){case Le.Short:return(En>=0?"+":"")+Bt(li,2,dr)+Bt(Math.abs(En%60),2,dr);case Le.ShortGMT:return"GMT"+(En>=0?"+":"")+Bt(li,1,dr);case Le.Long:return"GMT"+(En>=0?"+":"")+Bt(li,2,dr)+":"+Bt(Math.abs(En%60),2,dr);case Le.Extended:return 0===Ke?"Z":(En>=0?"+":"")+Bt(li,2,dr)+":"+Bt(Math.abs(En%60),2,dr);default:throw new Error(`Unknown zone width "${_e}"`)}}}const Zt=0,Cn=4;function br(_e){const dt=_e.getDay(),On=0===dt?-3:Cn-dt;return Oe(_e.getFullYear(),_e.getMonth(),_e.getDate()+On)}function Mr(_e,dt=!1){return function(On,Ke){let En;if(dt){const dr=new Date(On.getFullYear(),On.getMonth(),1).getDay()-1,li=On.getDate();En=1+Math.floor((li+dr)/7)}else{const dr=br(On),li=function Zn(_e){const dt=Oe(_e,Zt,1).getDay();return Oe(_e,0,1+(dt<=Cn?Cn:Cn+7)-dt)}(dr.getFullYear()),Ji=dr.getTime()-li.getTime();En=1+Math.round(Ji/6048e5)}return Bt(En,_e,qt(Ke,ke.MinusSign))}}function yn(_e,dt=!1){return function(On,Ke){return Bt(br(On).getFullYear(),_e,qt(Ke,ke.MinusSign),dt)}}const St={};function Mt(_e,dt){_e=_e.replace(/:/g,"");const On=Date.parse("Jan 01, 1970 00:00:00 "+_e)/6e4;return isNaN(On)?dt:On}function Lt(_e){return _e instanceof Date&&!isNaN(_e.valueOf())}const Mn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yo(_e){const dt=parseInt(_e);if(isNaN(dt))throw new Error("Invalid integer literal when parsing "+_e);return dt}function Fe(_e,dt,On){return(0,r.XSP)(_e,dt,On)}function _t(_e,dt){dt=encodeURIComponent(dt);for(const On of _e.split(";")){const Ke=On.indexOf("="),[En,dr]=-1==Ke?[On,""]:[On.slice(0,Ke),On.slice(Ke+1)];if(En.trim()===dt)return decodeURIComponent(dr)}return null}const bn=/\s+/,xn=[];let zn=(()=>{var _e;class dt{constructor(Ke,En){this._ngEl=Ke,this._renderer=En,this.initialClasses=xn,this.stateMap=new Map}set klass(Ke){this.initialClasses=null!=Ke?Ke.trim().split(bn):xn}set ngClass(Ke){this.rawClass="string"==typeof Ke?Ke.trim().split(bn):Ke}ngDoCheck(){for(const En of this.initialClasses)this._updateState(En,!0);const Ke=this.rawClass;if(Array.isArray(Ke)||Ke instanceof Set)for(const En of Ke)this._updateState(En,!0);else if(null!=Ke)for(const En of Object.keys(Ke))this._updateState(En,!!Ke[En]);this._applyStateDiff()}_updateState(Ke,En){const dr=this.stateMap.get(Ke);void 0!==dr?(dr.enabled!==En&&(dr.changed=!0,dr.enabled=En),dr.touched=!0):this.stateMap.set(Ke,{enabled:En,changed:!0,touched:!0})}_applyStateDiff(){for(const Ke of this.stateMap){const En=Ke[0],dr=Ke[1];dr.changed?(this._toggleClass(En,dr.enabled),dr.changed=!1):dr.touched||(dr.enabled&&this._toggleClass(En,!1),this.stateMap.delete(En)),dr.touched=!1}}_toggleClass(Ke,En){(Ke=Ke.trim()).length>0&&Ke.split(bn).forEach(dr=>{En?this._renderer.addClass(this._ngEl.nativeElement,dr):this._renderer.removeClass(this._ngEl.nativeElement,dr)})}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.aKT),r.rXU(r.sFG))},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngClass",""]],inputs:{klass:[r.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),dt})(),ir=(()=>{var _e;class dt{constructor(Ke){this._viewContainerRef=Ke,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Ke){return void 0!==Ke.ngComponentOutletNgModule||void 0!==Ke.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Ke){return void 0!==Ke.ngComponentOutlet||void 0!==Ke.ngComponentOutletContent||void 0!==Ke.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Ke)}ngOnChanges(Ke){if(this._needToReCreateComponentInstance(Ke)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const En=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Ke)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,r.w6W)(this.ngComponentOutletNgModule,Pr(En)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(Pr(En)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:En,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Ke of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Ke,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Ke){for(const[En,dr]of this._inputsUsed)dr?(Ke.setInput(En,this.ngComponentOutletInputs[En]),this._inputsUsed.set(En,!1)):(Ke.setInput(En,void 0),this._inputsUsed.delete(En))}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.c1b))},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[r.OA$]}),dt})();function Pr(_e){return _e.get(r.Vns).injector}class et{constructor(dt,On,Ke,En){this.$implicit=dt,this.ngForOf=On,this.index=Ke,this.count=En}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{var _e;class dt{set ngForOf(Ke){this._ngForOf=Ke,this._ngForOfDirty=!0}set ngForTrackBy(Ke){this._trackByFn=Ke}get ngForTrackBy(){return this._trackByFn}constructor(Ke,En,dr){this._viewContainer=Ke,this._template=En,this._differs=dr,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ke){Ke&&(this._template=Ke)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ke=this._ngForOf;!this._differ&&Ke&&(this._differ=this._differs.find(Ke).create(this.ngForTrackBy))}if(this._differ){const Ke=this._differ.diff(this._ngForOf);Ke&&this._applyChanges(Ke)}}_applyChanges(Ke){const En=this._viewContainer;Ke.forEachOperation((dr,li,Ji)=>{if(null==dr.previousIndex)En.createEmbeddedView(this._template,new et(dr.item,this._ngForOf,-1,-1),null===Ji?void 0:Ji);else if(null==Ji)En.remove(null===li?void 0:li);else if(null!==li){const gs=En.get(li);En.move(gs,Ji),Vn(gs,dr)}});for(let dr=0,li=En.length;dr<li;dr++){const gs=En.get(dr).context;gs.index=dr,gs.count=li,gs.ngForOf=this._ngForOf}Ke.forEachIdentityChange(dr=>{Vn(En.get(dr.currentIndex),dr)})}static ngTemplateContextGuard(Ke,En){return!0}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(r._q3))},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),dt})();function Vn(_e,dt){_e.context.$implicit=dt.item}let ei=(()=>{var _e;class dt{constructor(Ke,En){this._viewContainer=Ke,this._context=new Si,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=En}set ngIf(Ke){this._context.$implicit=this._context.ngIf=Ke,this._updateView()}set ngIfThen(Ke){Ri("ngIfThen",Ke),this._thenTemplateRef=Ke,this._thenViewRef=null,this._updateView()}set ngIfElse(Ke){Ri("ngIfElse",Ke),this._elseTemplateRef=Ke,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ke,En){return!0}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.c1b),r.rXU(r.C4Q))},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),dt})();class Si{constructor(){this.$implicit=null,this.ngIf=null}}function Ri(_e,dt){if(dt&&!dt.createEmbeddedView)throw new Error(`${_e} must be a TemplateRef, but received '${(0,r.Tbb)(dt)}'.`)}class Ci{constructor(dt,On){this._viewContainerRef=dt,this._templateRef=On,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(dt){dt&&!this._created?this.create():!dt&&this._created&&this.destroy()}}let yi=(()=>{var _e;class dt{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ke){this._ngSwitch=Ke,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ke){this._defaultViews.push(Ke)}_matchCase(Ke){const En=Ke===this._ngSwitch;return this._lastCasesMatched||=En,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),En}_updateDefaultCases(Ke){if(this._defaultViews.length>0&&Ke!==this._defaultUsed){this._defaultUsed=Ke;for(const En of this._defaultViews)En.enforceState(Ke)}}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),dt})(),Yi=(()=>{var _e;class dt{constructor(Ke,En,dr){this.ngSwitch=dr,dr._addCase(),this._view=new Ci(Ke,En)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(yi,9))},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),dt})(),so=(()=>{var _e;class dt{constructor(Ke,En,dr){dr._addDefault(new Ci(Ke,En))}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(yi,9))},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),dt})(),un=(()=>{var _e;class dt{constructor(Ke,En,dr){this._ngEl=Ke,this._differs=En,this._renderer=dr,this._ngStyle=null,this._differ=null}set ngStyle(Ke){this._ngStyle=Ke,!this._differ&&Ke&&(this._differ=this._differs.find(Ke).create())}ngDoCheck(){if(this._differ){const Ke=this._differ.diff(this._ngStyle);Ke&&this._applyChanges(Ke)}}_setStyle(Ke,En){const[dr,li]=Ke.split("."),Ji=-1===dr.indexOf("-")?void 0:r.czy.DashCase;null!=En?this._renderer.setStyle(this._ngEl.nativeElement,dr,li?`${En}${li}`:En,Ji):this._renderer.removeStyle(this._ngEl.nativeElement,dr,Ji)}_applyChanges(Ke){Ke.forEachRemovedItem(En=>this._setStyle(En.key,null)),Ke.forEachAddedItem(En=>this._setStyle(En.key,En.currentValue)),Ke.forEachChangedItem(En=>this._setStyle(En.key,En.currentValue))}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.aKT),r.rXU(r.MKu),r.rXU(r.sFG))},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),dt})(),Ge=(()=>{var _e;class dt{constructor(Ke){this._viewContainerRef=Ke,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ke){if(this._shouldRecreateView(Ke)){const En=this._viewContainerRef;if(this._viewRef&&En.remove(En.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const dr=this._createContextForwardProxy();this._viewRef=En.createEmbeddedView(this.ngTemplateOutlet,dr,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Ke){return!!Ke.ngTemplateOutlet||!!Ke.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ke,En,dr)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,En,dr),get:(Ke,En,dr)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,En,dr)}})}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.c1b))},_e.\u0275dir=r.FsC({type:_e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[r.OA$]}),dt})();function rn(_e,dt){return new r.wOt(2100,!1)}class Hn{createSubscription(dt,On){return(0,r.O8t)(()=>dt.subscribe({next:On,error:Ke=>{throw Ke}}))}dispose(dt){(0,r.O8t)(()=>dt.unsubscribe())}}class Dr{createSubscription(dt,On){return dt.then(On,Ke=>{throw Ke})}dispose(dt){}}const Qr=new Dr,Qi=new Hn;let Gi=(()=>{var _e;class dt{constructor(Ke){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ke}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ke){if(!this._obj){if(Ke)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Ke)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Ke!==this._obj?(this._dispose(),this.transform(Ke)):this._latestValue}_subscribe(Ke){this._obj=Ke,this._strategy=this._selectStrategy(Ke),this._subscription=this._strategy.createSubscription(Ke,En=>this._updateLatestValue(Ke,En))}_selectStrategy(Ke){if((0,r.jNT)(Ke))return Qr;if((0,r.zjR)(Ke))return Qi;throw rn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ke,En){Ke===this._obj&&(this._latestValue=En,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.gRc,16))},_e.\u0275pipe=r.EJ8({name:"async",type:_e,pure:!1,standalone:!0}),dt})();const Do=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ao=(()=>{var _e;class dt{transform(Ke){if(null==Ke)return null;if("string"!=typeof Ke)throw rn();return Ke.replace(Do,En=>En[0].toUpperCase()+En.slice(1).toLowerCase())}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)},_e.\u0275pipe=r.EJ8({name:"titlecase",type:_e,pure:!0,standalone:!0}),dt})(),Ms=(()=>{var _e;class dt{transform(Ke){if(null==Ke)return null;if("string"!=typeof Ke)throw rn();return Ke.toUpperCase()}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)},_e.\u0275pipe=r.EJ8({name:"uppercase",type:_e,pure:!0,standalone:!0}),dt})();const ms=new r.nKC(""),Go=new r.nKC("");let Qo=(()=>{var _e;class dt{constructor(Ke,En,dr){this.locale=Ke,this.defaultTimezone=En,this.defaultOptions=dr}transform(Ke,En,dr,li){if(null==Ke||""===Ke||Ke!=Ke)return null;try{return en(Ke,En??this.defaultOptions?.dateFormat??"mediumDate",li||this.locale,dr??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ji){throw rn()}}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.xe9,16),r.rXU(ms,24),r.rXU(Go,24))},_e.\u0275pipe=r.EJ8({name:"date",type:_e,pure:!0,standalone:!0}),dt})(),rr=(()=>{var _e;class dt{transform(Ke){return JSON.stringify(Ke,null,2)}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)},_e.\u0275pipe=r.EJ8({name:"json",type:_e,pure:!1,standalone:!0}),dt})(),Lr=(()=>{var _e;class dt{constructor(Ke){this.differs=Ke,this.keyValues=[],this.compareFn=gi}transform(Ke,En=gi){if(!Ke||!(Ke instanceof Map)&&"object"!=typeof Ke)return null;this.differ??=this.differs.find(Ke).create();const dr=this.differ.diff(Ke),li=En!==this.compareFn;return dr&&(this.keyValues=[],dr.forEachItem(Ji=>{this.keyValues.push(function sr(_e,dt){return{key:_e,value:dt}}(Ji.key,Ji.currentValue))})),(dr||li)&&(this.keyValues.sort(En),this.compareFn=En),this.keyValues}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.MKu,16))},_e.\u0275pipe=r.EJ8({name:"keyvalue",type:_e,pure:!1,standalone:!0}),dt})();function gi(_e,dt){const On=_e.key,Ke=dt.key;if(On===Ke)return 0;if(void 0===On)return 1;if(void 0===Ke)return-1;if(null===On)return 1;if(null===Ke)return-1;if("string"==typeof On&&"string"==typeof Ke)return On<Ke?-1:1;if("number"==typeof On&&"number"==typeof Ke)return On-Ke;if("boolean"==typeof On&&"boolean"==typeof Ke)return On<Ke?-1:1;const En=String(On),dr=String(Ke);return En==dr?0:En<dr?-1:1}let Ei=(()=>{var _e;class dt{constructor(Ke){this._locale=Ke}transform(Ke,En,dr){if(!function ho(_e){return!(null==_e||""===_e||_e!=_e)}(Ke))return null;dr||=this._locale;try{return function ro(_e,dt,On){return function vr(_e,dt,On,Ke,En,dr,li=!1){let Ji="",gs=!1;if(isFinite(_e)){let us=function Uo(_e){let Ke,En,dr,li,Ji,dt=Math.abs(_e)+"",On=0;for((En=dt.indexOf("."))>-1&&(dt=dt.replace(".","")),(dr=dt.search(/e/i))>0?(En<0&&(En=dr),En+=+dt.slice(dr+1),dt=dt.substring(0,dr)):En<0&&(En=dt.length),dr=0;"0"===dt.charAt(dr);dr++);if(dr===(Ji=dt.length))Ke=[0],En=1;else{for(Ji--;"0"===dt.charAt(Ji);)Ji--;for(En-=dr,Ke=[],li=0;dr<=Ji;dr++,li++)Ke[li]=Number(dt.charAt(dr))}return En>22&&(Ke=Ke.splice(0,21),On=En-1,En=1),{digits:Ke,exponent:On,integerLen:En}}(_e);li&&(us=function _o(_e){if(0===_e.digits[0])return _e;const dt=_e.digits.length-_e.integerLen;return _e.exponent?_e.exponent+=2:(0===dt?_e.digits.push(0,0):1===dt&&_e.digits.push(0),_e.integerLen+=2),_e}(us));let ds=dt.minInt,fs=dt.minFrac,na=dt.maxFrac;if(dr){const Ps=dr.match(Mn);if(null===Ps)throw new Error(`${dr} is not a valid digit info`);const va=Ps[1],Qs=Ps[3],fa=Ps[5];null!=va&&(ds=yo(va)),null!=Qs&&(fs=yo(Qs)),null!=fa?na=yo(fa):null!=Qs&&fs>na&&(na=fs)}!function So(_e,dt,On){if(dt>On)throw new Error(`The minimum number of digits after fraction (${dt}) is higher than the maximum (${On}).`);let Ke=_e.digits,En=Ke.length-_e.integerLen;const dr=Math.min(Math.max(dt,En),On);let li=dr+_e.integerLen,Ji=Ke[li];if(li>0){Ke.splice(Math.max(_e.integerLen,li));for(let fs=li;fs<Ke.length;fs++)Ke[fs]=0}else{En=Math.max(0,En),_e.integerLen=1,Ke.length=Math.max(1,li=dr+1),Ke[0]=0;for(let fs=1;fs<li;fs++)Ke[fs]=0}if(Ji>=5)if(li-1<0){for(let fs=0;fs>li;fs--)Ke.unshift(0),_e.integerLen++;Ke.unshift(1),_e.integerLen++}else Ke[li-1]++;for(;En<Math.max(0,dr);En++)Ke.push(0);let gs=0!==dr;const us=dt+_e.integerLen,ds=Ke.reduceRight(function(fs,na,bs,Lo){return Lo[bs]=(na+=fs)<10?na:na-10,gs&&(0===Lo[bs]&&bs>=us?Lo.pop():gs=!1),na>=10?1:0},0);ds&&(Ke.unshift(ds),_e.integerLen++)}(us,fs,na);let bs=us.digits,Lo=us.integerLen;const Ho=us.exponent;let Ki=[];for(gs=bs.every(Ps=>!Ps);Lo<ds;Lo++)bs.unshift(0);for(;Lo<0;Lo++)bs.unshift(0);Lo>0?Ki=bs.splice(Lo,bs.length):(Ki=bs,bs=[0]);const bo=[];for(bs.length>=dt.lgSize&&bo.unshift(bs.splice(-dt.lgSize,bs.length).join(""));bs.length>dt.gSize;)bo.unshift(bs.splice(-dt.gSize,bs.length).join(""));bs.length&&bo.unshift(bs.join("")),Ji=bo.join(qt(On,Ke)),Ki.length&&(Ji+=qt(On,En)+Ki.join("")),Ho&&(Ji+=qt(On,ke.Exponential)+"+"+Ho)}else Ji=qt(On,ke.Infinity);return Ji=_e<0&&!gs?dt.negPre+Ji+dt.negSuf:dt.posPre+Ji+dt.posSuf,Ji}(_e,function wi(_e,dt="-"){const On={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Ke=_e.split(";"),En=Ke[0],dr=Ke[1],li=-1!==En.indexOf(".")?En.split("."):[En.substring(0,En.lastIndexOf("0")+1),En.substring(En.lastIndexOf("0")+1)],Ji=li[0],gs=li[1]||"";On.posPre=Ji.substring(0,Ji.indexOf("#"));for(let ds=0;ds<gs.length;ds++){const fs=gs.charAt(ds);"0"===fs?On.minFrac=On.maxFrac=ds+1:"#"===fs?On.maxFrac=ds+1:On.posSuf+=fs}const us=Ji.split(",");if(On.gSize=us[1]?us[1].length:0,On.lgSize=us[2]||us[1]?(us[2]||us[1]).length:0,dr){const ds=En.length-On.posPre.length-On.posSuf.length,fs=dr.indexOf("#");On.negPre=dr.substring(0,fs).replace(/'/g,""),On.negSuf=dr.slice(fs+ds).replace(/'/g,"")}else On.negPre=dt+On.posPre,On.negSuf=On.posSuf;return On}(function Ln(_e,dt){return(0,r.H5H)(_e)[r.KH2.NumberFormats][dt]}(dt,he.Decimal),qt(dt,ke.MinusSign)),dt,ke.Group,ke.Decimal,On)}(function Bi(_e){if("string"==typeof _e&&!isNaN(Number(_e)-parseFloat(_e)))return Number(_e);if("number"!=typeof _e)throw new Error(`${_e} is not a number`);return _e}(Ke),dr,En)}catch(li){throw rn()}}}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)(r.rXU(r.xe9,16))},_e.\u0275pipe=r.EJ8({name:"number",type:_e,pure:!0,standalone:!0}),dt})();let Ls=(()=>{var _e;class dt{}return(_e=dt).\u0275fac=function(Ke){return new(Ke||_e)},_e.\u0275mod=r.$C({type:_e}),_e.\u0275inj=r.G2t({}),dt})();const ys="browser",Os="server";function Fo(_e){return _e===ys}function pa(_e){return _e===Os}let Ts=(()=>{var _e;class dt{}return(_e=dt).\u0275prov=(0,r.jDH)({token:_e,providedIn:"root",factory:()=>Fo((0,r.WQX)(r.Agw))?new cs((0,r.WQX)(d),window):new Jn}),dt})();class cs{constructor(dt,On){this.document=dt,this.window=On,this.offset=()=>[0,0]}setOffset(dt){this.offset=Array.isArray(dt)?()=>dt:dt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(dt){this.window.scrollTo(dt[0],dt[1])}scrollToAnchor(dt){const On=function ua(_e,dt){const On=_e.getElementById(dt)||_e.getElementsByName(dt)[0];if(On)return On;if("function"==typeof _e.createTreeWalker&&_e.body&&"function"==typeof _e.body.attachShadow){const Ke=_e.createTreeWalker(_e.body,NodeFilter.SHOW_ELEMENT);let En=Ke.currentNode;for(;En;){const dr=En.shadowRoot;if(dr){const li=dr.getElementById(dt)||dr.querySelector(`[name="${dt}"]`);if(li)return li}En=Ke.nextNode()}}return null}(this.document,dt);On&&(this.scrollToElement(On),On.focus())}setHistoryScrollRestoration(dt){this.window.history.scrollRestoration=dt}scrollToElement(dt){const On=dt.getBoundingClientRect(),Ke=On.left+this.window.pageXOffset,En=On.top+this.window.pageYOffset,dr=this.offset();this.window.scrollTo(Ke-dr[0],En-dr[1])}}class Jn{setOffset(dt){}getScrollPosition(){return[0,0]}scrollToPosition(dt){}scrollToAnchor(dt){}setHistoryScrollRestoration(dt){}}class lr{}},21626:(ln,qe,w)=>{"use strict";w.d(qe,{Lr:()=>E,Nl:()=>z,Qq:()=>Se,a7:()=>R,cS:()=>me,q1:()=>Ye}),w(28407);var s=w(54438),v=w(15877),S=w(2573),M=w(21472),C=w(26758),d=w(14264),F=w(36110),P=w(15152),G=w(32914),N=w(60177);class x{}class m{}class E{constructor(_t){this.normalizedNames=new Map,this.lazyUpdate=null,_t?"string"==typeof _t?this.lazyInit=()=>{this.headers=new Map,_t.split("\n").forEach(bn=>{const xn=bn.indexOf(":");if(xn>0){const zn=bn.slice(0,xn),ir=zn.toLowerCase(),Pr=bn.slice(xn+1).trim();this.maybeSetNormalizedName(zn,ir),this.headers.has(ir)?this.headers.get(ir).push(Pr):this.headers.set(ir,[Pr])}})}:typeof Headers<"u"&&_t instanceof Headers?(this.headers=new Map,_t.forEach((bn,xn)=>{this.setHeaderEntries(xn,bn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_t).forEach(([bn,xn])=>{this.setHeaderEntries(bn,xn)})}:this.headers=new Map}has(_t){return this.init(),this.headers.has(_t.toLowerCase())}get(_t){this.init();const bn=this.headers.get(_t.toLowerCase());return bn&&bn.length>0?bn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_t){return this.init(),this.headers.get(_t.toLowerCase())||null}append(_t,bn){return this.clone({name:_t,value:bn,op:"a"})}set(_t,bn){return this.clone({name:_t,value:bn,op:"s"})}delete(_t,bn){return this.clone({name:_t,value:bn,op:"d"})}maybeSetNormalizedName(_t,bn){this.normalizedNames.has(bn)||this.normalizedNames.set(bn,_t)}init(){this.lazyInit&&(this.lazyInit instanceof E?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_t=>this.applyUpdate(_t)),this.lazyUpdate=null))}copyFrom(_t){_t.init(),Array.from(_t.headers.keys()).forEach(bn=>{this.headers.set(bn,_t.headers.get(bn)),this.normalizedNames.set(bn,_t.normalizedNames.get(bn))})}clone(_t){const bn=new E;return bn.lazyInit=this.lazyInit&&this.lazyInit instanceof E?this.lazyInit:this,bn.lazyUpdate=(this.lazyUpdate||[]).concat([_t]),bn}applyUpdate(_t){const bn=_t.name.toLowerCase();switch(_t.op){case"a":case"s":let xn=_t.value;if("string"==typeof xn&&(xn=[xn]),0===xn.length)return;this.maybeSetNormalizedName(_t.name,bn);const zn=("a"===_t.op?this.headers.get(bn):void 0)||[];zn.push(...xn),this.headers.set(bn,zn);break;case"d":const ir=_t.value;if(ir){let Pr=this.headers.get(bn);if(!Pr)return;Pr=Pr.filter(et=>-1===ir.indexOf(et)),0===Pr.length?(this.headers.delete(bn),this.normalizedNames.delete(bn)):this.headers.set(bn,Pr)}else this.headers.delete(bn),this.normalizedNames.delete(bn)}}setHeaderEntries(_t,bn){const xn=(Array.isArray(bn)?bn:[bn]).map(ir=>ir.toString()),zn=_t.toLowerCase();this.headers.set(zn,xn),this.maybeSetNormalizedName(_t,zn)}forEach(_t){this.init(),Array.from(this.normalizedNames.keys()).forEach(bn=>_t(this.normalizedNames.get(bn),this.headers.get(bn)))}}class ae{encodeKey(_t){return q(_t)}encodeValue(_t){return q(_t)}decodeKey(_t){return decodeURIComponent(_t)}decodeValue(_t){return decodeURIComponent(_t)}}const Z=/%(\d[a-f0-9])/gi,ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function q(Fe){return encodeURIComponent(Fe).replace(Z,(_t,bn)=>ne[bn]??_t)}function le(Fe){return`${Fe}`}class z{constructor(_t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_t.encoder||new ae,_t.fromString){if(_t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function U(Fe,_t){const bn=new Map;return Fe.length>0&&Fe.replace(/^\?/,"").split("&").forEach(zn=>{const ir=zn.indexOf("="),[Pr,et]=-1==ir?[_t.decodeKey(zn),""]:[_t.decodeKey(zn.slice(0,ir)),_t.decodeValue(zn.slice(ir+1))],$t=bn.get(Pr)||[];$t.push(et),bn.set(Pr,$t)}),bn}(_t.fromString,this.encoder)}else _t.fromObject?(this.map=new Map,Object.keys(_t.fromObject).forEach(bn=>{const xn=_t.fromObject[bn],zn=Array.isArray(xn)?xn.map(le):[le(xn)];this.map.set(bn,zn)})):this.map=null}has(_t){return this.init(),this.map.has(_t)}get(_t){this.init();const bn=this.map.get(_t);return bn?bn[0]:null}getAll(_t){return this.init(),this.map.get(_t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_t,bn){return this.clone({param:_t,value:bn,op:"a"})}appendAll(_t){const bn=[];return Object.keys(_t).forEach(xn=>{const zn=_t[xn];Array.isArray(zn)?zn.forEach(ir=>{bn.push({param:xn,value:ir,op:"a"})}):bn.push({param:xn,value:zn,op:"a"})}),this.clone(bn)}set(_t,bn){return this.clone({param:_t,value:bn,op:"s"})}delete(_t,bn){return this.clone({param:_t,value:bn,op:"d"})}toString(){return this.init(),this.keys().map(_t=>{const bn=this.encoder.encodeKey(_t);return this.map.get(_t).map(xn=>bn+"="+this.encoder.encodeValue(xn)).join("&")}).filter(_t=>""!==_t).join("&")}clone(_t){const bn=new z({encoder:this.encoder});return bn.cloneFrom=this.cloneFrom||this,bn.updates=(this.updates||[]).concat(_t),bn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_t=>this.map.set(_t,this.cloneFrom.map.get(_t))),this.updates.forEach(_t=>{switch(_t.op){case"a":case"s":const bn=("a"===_t.op?this.map.get(_t.param):void 0)||[];bn.push(le(_t.value)),this.map.set(_t.param,bn);break;case"d":if(void 0===_t.value){this.map.delete(_t.param);break}{let xn=this.map.get(_t.param)||[];const zn=xn.indexOf(le(_t.value));-1!==zn&&xn.splice(zn,1),xn.length>0?this.map.set(_t.param,xn):this.map.delete(_t.param)}}}),this.cloneFrom=this.updates=null)}}class he{constructor(){this.map=new Map}set(_t,bn){return this.map.set(_t,bn),this}get(_t){return this.map.has(_t)||this.map.set(_t,_t.defaultValue()),this.map.get(_t)}delete(_t){return this.map.delete(_t),this}has(_t){return this.map.has(_t)}keys(){return this.map.keys()}}function k(Fe){return typeof ArrayBuffer<"u"&&Fe instanceof ArrayBuffer}function ue(Fe){return typeof Blob<"u"&&Fe instanceof Blob}function Ie(Fe){return typeof FormData<"u"&&Fe instanceof FormData}class Ze{constructor(_t,bn,xn,zn){let ir;if(this.url=bn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_t.toUpperCase(),function we(Fe){switch(Fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||zn?(this.body=void 0!==xn?xn:null,ir=zn):ir=xn,ir&&(this.reportProgress=!!ir.reportProgress,this.withCredentials=!!ir.withCredentials,ir.responseType&&(this.responseType=ir.responseType),ir.headers&&(this.headers=ir.headers),ir.context&&(this.context=ir.context),ir.params&&(this.params=ir.params),this.transferCache=ir.transferCache),this.headers??=new E,this.context??=new he,this.params){const Pr=this.params.toString();if(0===Pr.length)this.urlWithParams=bn;else{const et=bn.indexOf("?");this.urlWithParams=bn+(-1===et?"?":et<bn.length-1?"&":"")+Pr}}else this.params=new z,this.urlWithParams=bn}serializeBody(){return null===this.body?null:"string"==typeof this.body||k(this.body)||ue(this.body)||Ie(this.body)||function ke(Fe){return typeof URLSearchParams<"u"&&Fe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof z?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ie(this.body)?null:ue(this.body)?this.body.type||null:k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof z?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_t={}){const bn=_t.method||this.method,xn=_t.url||this.url,zn=_t.responseType||this.responseType,ir=_t.transferCache??this.transferCache,Pr=void 0!==_t.body?_t.body:this.body,et=_t.withCredentials??this.withCredentials,$t=_t.reportProgress??this.reportProgress;let Vn=_t.headers||this.headers,Tr=_t.params||this.params;const ei=_t.context??this.context;return void 0!==_t.setHeaders&&(Vn=Object.keys(_t.setHeaders).reduce((Si,Ri)=>Si.set(Ri,_t.setHeaders[Ri]),Vn)),_t.setParams&&(Tr=Object.keys(_t.setParams).reduce((Si,Ri)=>Si.set(Ri,_t.setParams[Ri]),Tr)),new Ze(bn,xn,Pr,{params:Tr,headers:Vn,context:ei,reportProgress:$t,responseType:zn,withCredentials:et,transferCache:ir})}}var Ce=function(Fe){return Fe[Fe.Sent=0]="Sent",Fe[Fe.UploadProgress=1]="UploadProgress",Fe[Fe.ResponseHeader=2]="ResponseHeader",Fe[Fe.DownloadProgress=3]="DownloadProgress",Fe[Fe.Response=4]="Response",Fe[Fe.User=5]="User",Fe}(Ce||{});class Nt{constructor(_t,bn=fe.Ok,xn="OK"){this.headers=_t.headers||new E,this.status=void 0!==_t.status?_t.status:bn,this.statusText=_t.statusText||xn,this.url=_t.url||null,this.ok=this.status>=200&&this.status<300}}class Kt extends Nt{constructor(_t={}){super(_t),this.type=Ce.ResponseHeader}clone(_t={}){return new Kt({headers:_t.headers||this.headers,status:void 0!==_t.status?_t.status:this.status,statusText:_t.statusText||this.statusText,url:_t.url||this.url||void 0})}}class me extends Nt{constructor(_t={}){super(_t),this.type=Ce.Response,this.body=void 0!==_t.body?_t.body:null}clone(_t={}){return new me({body:void 0!==_t.body?_t.body:this.body,headers:_t.headers||this.headers,status:void 0!==_t.status?_t.status:this.status,statusText:_t.statusText||this.statusText,url:_t.url||this.url||void 0})}}class ee extends Nt{constructor(_t){super(_t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_t.url||"(unknown url)"}`:`Http failure response for ${_t.url||"(unknown url)"}: ${_t.status} ${_t.statusText}`,this.error=_t.error||null}}var fe=function(Fe){return Fe[Fe.Continue=100]="Continue",Fe[Fe.SwitchingProtocols=101]="SwitchingProtocols",Fe[Fe.Processing=102]="Processing",Fe[Fe.EarlyHints=103]="EarlyHints",Fe[Fe.Ok=200]="Ok",Fe[Fe.Created=201]="Created",Fe[Fe.Accepted=202]="Accepted",Fe[Fe.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",Fe[Fe.NoContent=204]="NoContent",Fe[Fe.ResetContent=205]="ResetContent",Fe[Fe.PartialContent=206]="PartialContent",Fe[Fe.MultiStatus=207]="MultiStatus",Fe[Fe.AlreadyReported=208]="AlreadyReported",Fe[Fe.ImUsed=226]="ImUsed",Fe[Fe.MultipleChoices=300]="MultipleChoices",Fe[Fe.MovedPermanently=301]="MovedPermanently",Fe[Fe.Found=302]="Found",Fe[Fe.SeeOther=303]="SeeOther",Fe[Fe.NotModified=304]="NotModified",Fe[Fe.UseProxy=305]="UseProxy",Fe[Fe.Unused=306]="Unused",Fe[Fe.TemporaryRedirect=307]="TemporaryRedirect",Fe[Fe.PermanentRedirect=308]="PermanentRedirect",Fe[Fe.BadRequest=400]="BadRequest",Fe[Fe.Unauthorized=401]="Unauthorized",Fe[Fe.PaymentRequired=402]="PaymentRequired",Fe[Fe.Forbidden=403]="Forbidden",Fe[Fe.NotFound=404]="NotFound",Fe[Fe.MethodNotAllowed=405]="MethodNotAllowed",Fe[Fe.NotAcceptable=406]="NotAcceptable",Fe[Fe.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",Fe[Fe.RequestTimeout=408]="RequestTimeout",Fe[Fe.Conflict=409]="Conflict",Fe[Fe.Gone=410]="Gone",Fe[Fe.LengthRequired=411]="LengthRequired",Fe[Fe.PreconditionFailed=412]="PreconditionFailed",Fe[Fe.PayloadTooLarge=413]="PayloadTooLarge",Fe[Fe.UriTooLong=414]="UriTooLong",Fe[Fe.UnsupportedMediaType=415]="UnsupportedMediaType",Fe[Fe.RangeNotSatisfiable=416]="RangeNotSatisfiable",Fe[Fe.ExpectationFailed=417]="ExpectationFailed",Fe[Fe.ImATeapot=418]="ImATeapot",Fe[Fe.MisdirectedRequest=421]="MisdirectedRequest",Fe[Fe.UnprocessableEntity=422]="UnprocessableEntity",Fe[Fe.Locked=423]="Locked",Fe[Fe.FailedDependency=424]="FailedDependency",Fe[Fe.TooEarly=425]="TooEarly",Fe[Fe.UpgradeRequired=426]="UpgradeRequired",Fe[Fe.PreconditionRequired=428]="PreconditionRequired",Fe[Fe.TooManyRequests=429]="TooManyRequests",Fe[Fe.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",Fe[Fe.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",Fe[Fe.InternalServerError=500]="InternalServerError",Fe[Fe.NotImplemented=501]="NotImplemented",Fe[Fe.BadGateway=502]="BadGateway",Fe[Fe.ServiceUnavailable=503]="ServiceUnavailable",Fe[Fe.GatewayTimeout=504]="GatewayTimeout",Fe[Fe.HttpVersionNotSupported=505]="HttpVersionNotSupported",Fe[Fe.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",Fe[Fe.InsufficientStorage=507]="InsufficientStorage",Fe[Fe.LoopDetected=508]="LoopDetected",Fe[Fe.NotExtended=510]="NotExtended",Fe[Fe.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",Fe}(fe||{});function ye(Fe,_t){return{body:_t,headers:Fe.headers,context:Fe.context,observe:Fe.observe,params:Fe.params,reportProgress:Fe.reportProgress,responseType:Fe.responseType,withCredentials:Fe.withCredentials,transferCache:Fe.transferCache}}let Se=(()=>{var Fe;class _t{constructor(xn){this.handler=xn}request(xn,zn,ir={}){let Pr;if(xn instanceof Ze)Pr=xn;else{let Vn,Tr;Vn=ir.headers instanceof E?ir.headers:new E(ir.headers),ir.params&&(Tr=ir.params instanceof z?ir.params:new z({fromObject:ir.params})),Pr=new Ze(xn,zn,void 0!==ir.body?ir.body:null,{headers:Vn,context:ir.context,params:Tr,reportProgress:ir.reportProgress,responseType:ir.responseType||"json",withCredentials:ir.withCredentials,transferCache:ir.transferCache})}const et=(0,v.of)(Pr).pipe((0,C.H)(Vn=>this.handler.handle(Vn)));if(xn instanceof Ze||"events"===ir.observe)return et;const $t=et.pipe((0,d.p)(Vn=>Vn instanceof me));switch(ir.observe||"body"){case"body":switch(Pr.responseType){case"arraybuffer":return $t.pipe((0,F.T)(Vn=>{if(null!==Vn.body&&!(Vn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Vn.body}));case"blob":return $t.pipe((0,F.T)(Vn=>{if(null!==Vn.body&&!(Vn.body instanceof Blob))throw new Error("Response is not a Blob.");return Vn.body}));case"text":return $t.pipe((0,F.T)(Vn=>{if(null!==Vn.body&&"string"!=typeof Vn.body)throw new Error("Response is not a string.");return Vn.body}));default:return $t.pipe((0,F.T)(Vn=>Vn.body))}case"response":return $t;default:throw new Error(`Unreachable: unhandled observe type ${ir.observe}}`)}}delete(xn,zn={}){return this.request("DELETE",xn,zn)}get(xn,zn={}){return this.request("GET",xn,zn)}head(xn,zn={}){return this.request("HEAD",xn,zn)}jsonp(xn,zn){return this.request("JSONP",xn,{params:(new z).append(zn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xn,zn={}){return this.request("OPTIONS",xn,zn)}patch(xn,zn,ir={}){return this.request("PATCH",xn,ye(ir,zn))}post(xn,zn,ir={}){return this.request("POST",xn,ye(ir,zn))}put(xn,zn,ir={}){return this.request("PUT",xn,ye(ir,zn))}}return(Fe=_t).\u0275fac=function(xn){return new(xn||Fe)(s.KVO(x))},Fe.\u0275prov=s.jDH({token:Fe,factory:Fe.\u0275fac}),_t})();function wt(Fe,_t){return _t(Fe)}function Y(Fe,_t){return(bn,xn)=>_t.intercept(bn,{handle:zn=>Fe(zn,xn)})}const R=new s.nKC(""),T=new s.nKC(""),V=new s.nKC(""),j=new s.nKC("");function h(){let Fe=null;return(_t,bn)=>{null===Fe&&(Fe=((0,s.WQX)(R,{optional:!0})??[]).reduceRight(Y,wt));const xn=(0,s.WQX)(s.TgB),zn=xn.add();return Fe(_t,bn).pipe((0,P.j)(()=>xn.remove(zn)))}}let ie=(()=>{var Fe;class _t extends x{constructor(xn,zn){super(),this.backend=xn,this.injector=zn,this.chain=null,this.pendingTasks=(0,s.WQX)(s.TgB);const ir=(0,s.WQX)(j,{optional:!0});this.backend=ir??xn}handle(xn){if(null===this.chain){const ir=Array.from(new Set([...this.injector.get(T),...this.injector.get(V,[])]));this.chain=ir.reduceRight((Pr,et)=>function b(Fe,_t,bn){return(xn,zn)=>(0,s.N4e)(bn,()=>_t(xn,ir=>Fe(ir,zn)))}(Pr,et,this.injector),wt)}const zn=this.pendingTasks.add();return this.chain(xn,ir=>this.backend.handle(ir)).pipe((0,P.j)(()=>this.pendingTasks.remove(zn)))}}return(Fe=_t).\u0275fac=function(xn){return new(xn||Fe)(s.KVO(m),s.KVO(s.uvJ))},Fe.\u0275prov=s.jDH({token:Fe,factory:Fe.\u0275fac}),_t})();const pn=/^\)\]\}',?\n/;let mt=(()=>{var Fe;class _t{constructor(xn){this.xhrFactory=xn}handle(xn){if("JSONP"===xn.method)throw new s.wOt(-2800,!1);const zn=this.xhrFactory;return(zn.\u0275loadImpl?(0,M.H)(zn.\u0275loadImpl()):(0,v.of)(null)).pipe((0,G.n)(()=>new S.c(Pr=>{const et=zn.build();if(et.open(xn.method,xn.urlWithParams),xn.withCredentials&&(et.withCredentials=!0),xn.headers.forEach((yi,Yi)=>et.setRequestHeader(yi,Yi.join(","))),xn.headers.has("Accept")||et.setRequestHeader("Accept","application/json, text/plain, */*"),!xn.headers.has("Content-Type")){const yi=xn.detectContentTypeHeader();null!==yi&&et.setRequestHeader("Content-Type",yi)}if(xn.responseType){const yi=xn.responseType.toLowerCase();et.responseType="json"!==yi?yi:"text"}const $t=xn.serializeBody();let Vn=null;const Tr=()=>{if(null!==Vn)return Vn;const yi=et.statusText||"OK",Yi=new E(et.getAllResponseHeaders()),so=function st(Fe){return"responseURL"in Fe&&Fe.responseURL?Fe.responseURL:/^X-Request-URL:/m.test(Fe.getAllResponseHeaders())?Fe.getResponseHeader("X-Request-URL"):null}(et)||xn.url;return Vn=new Kt({headers:Yi,status:et.status,statusText:yi,url:so}),Vn},ei=()=>{let{headers:yi,status:Yi,statusText:so,url:Co}=Tr(),qi=null;Yi!==fe.NoContent&&(qi=typeof et.response>"u"?et.responseText:et.response),0===Yi&&(Yi=qi?fe.Ok:0);let jo=Yi>=200&&Yi<300;if("json"===xn.responseType&&"string"==typeof qi){const $n=qi;qi=qi.replace(pn,"");try{qi=""!==qi?JSON.parse(qi):null}catch(un){qi=$n,jo&&(jo=!1,qi={error:un,text:qi})}}jo?(Pr.next(new me({body:qi,headers:yi,status:Yi,statusText:so,url:Co||void 0})),Pr.complete()):Pr.error(new ee({error:qi,headers:yi,status:Yi,statusText:so,url:Co||void 0}))},Si=yi=>{const{url:Yi}=Tr(),so=new ee({error:yi,status:et.status||0,statusText:et.statusText||"Unknown Error",url:Yi||void 0});Pr.error(so)};let Ri=!1;const io=yi=>{Ri||(Pr.next(Tr()),Ri=!0);let Yi={type:Ce.DownloadProgress,loaded:yi.loaded};yi.lengthComputable&&(Yi.total=yi.total),"text"===xn.responseType&&et.responseText&&(Yi.partialText=et.responseText),Pr.next(Yi)},Ci=yi=>{let Yi={type:Ce.UploadProgress,loaded:yi.loaded};yi.lengthComputable&&(Yi.total=yi.total),Pr.next(Yi)};return et.addEventListener("load",ei),et.addEventListener("error",Si),et.addEventListener("timeout",Si),et.addEventListener("abort",Si),xn.reportProgress&&(et.addEventListener("progress",io),null!==$t&&et.upload&&et.upload.addEventListener("progress",Ci)),et.send($t),Pr.next({type:Ce.Sent}),()=>{et.removeEventListener("error",Si),et.removeEventListener("abort",Si),et.removeEventListener("load",ei),et.removeEventListener("timeout",Si),xn.reportProgress&&(et.removeEventListener("progress",io),null!==$t&&et.upload&&et.upload.removeEventListener("progress",Ci)),et.readyState!==et.DONE&&et.abort()}})))}}return(Fe=_t).\u0275fac=function(xn){return new(xn||Fe)(s.KVO(N.N0))},Fe.\u0275prov=s.jDH({token:Fe,factory:Fe.\u0275fac}),_t})();const Ut=new s.nKC(""),zt=new s.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Cn=new s.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Zn{}let br=(()=>{var Fe;class _t{constructor(xn,zn,ir){this.doc=xn,this.platform=zn,this.cookieName=ir,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xn=this.doc.cookie||"";return xn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,N._b)(xn,this.cookieName),this.lastCookieString=xn),this.lastToken}}return(Fe=_t).\u0275fac=function(xn){return new(xn||Fe)(s.KVO(N.qQ),s.KVO(s.Agw),s.KVO(zt))},Fe.\u0275prov=s.jDH({token:Fe,factory:Fe.\u0275fac}),_t})();function Mr(Fe,_t){const bn=Fe.url.toLowerCase();if(!(0,s.WQX)(Ut)||"GET"===Fe.method||"HEAD"===Fe.method||bn.startsWith("http://")||bn.startsWith("https://"))return _t(Fe);const xn=(0,s.WQX)(Zn).getToken(),zn=(0,s.WQX)(Cn);return null!=xn&&!Fe.headers.has(zn)&&(Fe=Fe.clone({headers:Fe.headers.set(zn,xn)})),_t(Fe)}var St=function(Fe){return Fe[Fe.Interceptors=0]="Interceptors",Fe[Fe.LegacyInterceptors=1]="LegacyInterceptors",Fe[Fe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fe[Fe.NoXsrfProtection=3]="NoXsrfProtection",Fe[Fe.JsonpSupport=4]="JsonpSupport",Fe[Fe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fe[Fe.Fetch=6]="Fetch",Fe}(St||{});function kt(Fe,_t){return{\u0275kind:Fe,\u0275providers:_t}}function Mt(...Fe){const _t=[Se,mt,ie,{provide:x,useExisting:ie},{provide:m,useExisting:mt},{provide:T,useValue:Mr,multi:!0},{provide:Ut,useValue:!0},{provide:Zn,useClass:br}];for(const bn of Fe)_t.push(...bn.\u0275providers);return(0,s.EmA)(_t)}const sn=new s.nKC("");let Ye=(()=>{var Fe;class _t{}return(Fe=_t).\u0275fac=function(xn){return new(xn||Fe)},Fe.\u0275mod=s.$C({type:Fe}),Fe.\u0275inj=s.G2t({providers:[Mt(kt(St.LegacyInterceptors,[{provide:sn,useFactory:h},{provide:T,useExisting:sn,multi:!0}]))]}),_t})()},50583:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>v});const r=void 0,v=["de",[["AM","PM"],r,r],r,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],r,r],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} 'um' {0}",r],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[r,"\u0440."],CUC:[r,"Cub$"],DEM:["DM"],FKP:[r,"Fl\xa3"],GHS:[r,"\u20b5"],GNF:[r,"F.G."],KMF:[r,"FC"],PHP:[r,"\u20b1"],RON:[r,"L"],RUR:[r,"\u0440."],RWF:[r,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[r,"K"]},"ltr",function s(S){const C=Math.floor(Math.abs(S)),d=S.toString().replace(/^[^.]*\.?/,"").length;return 1===C&&0===d?1:5}]},37522:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>v});const r=void 0,v=["es",[["a.\xa0m.","p.\xa0m."],r,r],r,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],r,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],r,[["a. C.","d. C."],r,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[r,"$"],BRL:[r,"R$"],BYN:[r,"\u0440."],CAD:[r,"$"],CNY:[r,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[r,"\xa3"],HKD:[r,"$"],ILS:[r,"\u20aa"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NZD:[r,"$"],PHP:[r,"\u20b1"],RON:[r,"L"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:["US$","$"],XAF:[],XCD:[r,"$"],XOF:[]},"ltr",function s(S){const M=S,C=Math.floor(Math.abs(S)),d=S.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(S.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===M?1:0===F&&0!==C&&C%1e6==0&&0===d||!(F>=0&&F<=5)?4:5}]},57078:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>v});const r=void 0,v=["fr",[["AM","PM"],r,r],r,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],r,[["av. J.-C.","ap. J.-C."],r,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",r],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[r,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[r,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[r,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[r,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[r,"\xa5"],KMF:[r,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[r,"$C"],NZD:["$NZ","$"],PHP:[r,"\u20b1"],RHD:["$RH"],RON:[r,"L"],RWF:[r,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[r,"$T"],TTD:["$TT","$"],TWD:[r,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[r,"$"],XPF:["FCFP"],ZMW:[r,"Kw"]},"ltr",function s(S){const C=Math.floor(Math.abs(S)),d=S.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(S.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===C||1===C?1:0===F&&0!==C&&C%1e6==0&&0===d||!(F>=0&&F<=5)?4:5}]},83649:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>v});const r=void 0,v=["it",[["m.","p."],["AM","PM"],r],r,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],r,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],r,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",r,"{1} {0}",r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[r,"R$"],BYN:[r,"Br"],EGP:[r,"\xa3E"],HKD:[r,"$"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NOK:[r,"NKr"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:[r,"$"],VND:[r,"\u20ab"]},"ltr",function s(S){const C=Math.floor(Math.abs(S)),d=S.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(S.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===C&&0===d?1:0===F&&0!==C&&C%1e6==0&&0===d||!(F>=0&&F<=5)?4:5}]},43649:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>v});const r=void 0,v=["ja",[["\u5348\u524d","\u5348\u5f8c"],r,r],r,[["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],r,["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],r],r,[["BC","AD"],["\u7d00\u5143\u524d","\u897f\u66a6"],r],0,[6,0],["y/MM/dd",r,"y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H\u6642mm\u5206ss\u79d2 zzzz"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"JPY","\uffe5","\u65e5\u672c\u5186",{BYN:[r,"\u0440."],CNY:["\u5143","\uffe5"],JPY:["\uffe5"],PHP:[r,"\u20b1"],RON:[r,"\u30ec\u30a4"],XXX:[]},"ltr",function s(S){return 5}]},98138:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>v});const r=void 0,v=["pt",[["AM","PM"],r,r],r,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],r,[["a.C.","d.C."],r,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[r,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[r,"\u20b1"],PTE:["Esc."],RON:[r,"L"],SYP:[r,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function s(S){const C=Math.floor(Math.abs(S)),d=S.toString().replace(/^[^.]*\.?/,"").length,F=parseInt(S.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return C===Math.floor(C)&&C>=0&&C<=1?1:0===F&&0!==C&&C%1e6==0&&0===d||!(F>=0&&F<=5)?4:5}]},29512:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>v});const r=void 0,v=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],r,r],r,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],r,[["\u516c\u5143\u524d","\u516c\u5143"],r,r],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",r,"y\u5e74M\u6708d\u65e5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],BYN:[r,"\u0440."],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],PHP:[r,"\u20b1"],RUR:[r,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function s(S){return 5}]},54438:(ln,qe,w)=>{"use strict";function s(e,t){return Object.is(e,t)}w.d(qe,{bc$:()=>fd,iLQ:()=>By,sZ2:()=>qh,hnV:()=>v1,Hbi:()=>DS,o8S:()=>bf,BIS:()=>ep,gRc:()=>R1,Ql9:()=>JT,OM3:()=>Ym,Ocv:()=>sS,abz:()=>qa,Z63:()=>yr,aKT:()=>hu,uvJ:()=>Ae,zcH:()=>Vc,bkB:()=>nc,duS:()=>Hr,y_5:()=>Hs,$GK:()=>Gi,nKC:()=>zn,zZn:()=>Sl,_q3:()=>zy,MKu:()=>$y,xe9:()=>D_,Co$:()=>sb,Vns:()=>vh,SKi:()=>ml,Xx1:()=>Fo,Agw:()=>Jd,PLl:()=>Wf,rOR:()=>Xd,sFG:()=>qw,_9s:()=>h0,czy:()=>pl,WPN:()=>oc,kdw:()=>oa,C4Q:()=>zm,NYb:()=>$T,giA:()=>g1,RxE:()=>l1,c1b:()=>e_,gXe:()=>Ui,mal:()=>b0,Af3:()=>Ca,tdH:()=>eC,L39:()=>nI,EWP:()=>oI,a0P:()=>dI,Ol2:()=>Pv,w6W:()=>eA,oH4:()=>D1,QZP:()=>lw,SmG:()=>fS,Rfq:()=>Mr,WQX:()=>Bi,hFB:()=>Nl,naY:()=>dS,Hps:()=>Tv,QuC:()=>ar,EmA:()=>Ni,geq:()=>FC,Udg:()=>rI,CGW:()=>ec,fpN:()=>MS,HJs:()=>fI,N4e:()=>ss,vPA:()=>V0,O8t:()=>sI,ebz:()=>PC,An2:()=>Qg,H3F:()=>c1,H8p:()=>ws,KH2:()=>Wp,TgB:()=>Dp,wOt:()=>I,WHO:()=>p1,e01:()=>m1,lNU:()=>h,h9k:()=>rf,$MX:()=>bi,ZF7:()=>kn,Kcf:()=>ur,e5t:()=>Vr,UyX:()=>kr,cWb:()=>Qn,osQ:()=>$r,H5H:()=>ay,Zy3:()=>xe,mq5:()=>fx,JZv:()=>st,LfX:()=>yo,plB:()=>gf,jNT:()=>ky,zjR:()=>_1,XSP:()=>PM,TL$:()=>ym,Tbb:()=>Zt,rcV:()=>vn,Vt3:()=>Iv,Mj6:()=>co,GFd:()=>ob,OA$:()=>Ka,Jv_:()=>CE,aNF:()=>AE,R7$:()=>Fg,BMQ:()=>zv,HbH:()=>Kb,ZvI:()=>ex,AVh:()=>qv,vxM:()=>ix,wni:()=>Zx,VBU:()=>hi,FsC:()=>Ue,jDH:()=>wi,G2t:()=>Uo,$C:()=>pe,EJ8:()=>gt,rXU:()=>mf,nrm:()=>ry,eu8:()=>iy,bVm:()=>g_,qex:()=>m_,k0s:()=>p_,j41:()=>h_,RV6:()=>dx,xGo:()=>Hd,Mr5:()=>oy,pXf:()=>Nx,nnv:()=>Lx,YFu:()=>dy,uP7:()=>fy,k04:()=>Ux,PLo:()=>uy,KVO:()=>Wi,kS0:()=>od,QTQ:()=>Pm,bIt:()=>hy,lsd:()=>nE,joV:()=>td,qSk:()=>Bc,XpG:()=>Gx,nI1:()=>GE,bMT:()=>HE,i5U:()=>zE,SdG:()=>zx,NAR:()=>Hx,Y8G:()=>Xv,FS9:()=>gy,lJ4:()=>TE,eq3:()=>SE,l_i:()=>IE,sMw:()=>RE,ziG:()=>OE,l4e:()=>PE,sGs:()=>kE,lV:()=>FE,zJS:()=>BE,NyB:()=>iE,mGM:()=>tE,sdS:()=>oE,Dyx:()=>lx,Z7z:()=>ax,fX1:()=>sx,Vm6:()=>ox,Njj:()=>Xs,EBC:()=>hp,tSv:()=>fp,eBV:()=>Bs,npT:()=>Ta,f$h:()=>ju,B4B:()=>Es,n$t:()=>sh,wjB:()=>ME,Aen:()=>vu,xc7:()=>Qv,Kam:()=>py,zvX:()=>sy,DNE:()=>Tp,C5r:()=>$E,EFF:()=>mE,JRh:()=>vy,SpI:()=>x_,Lme:()=>yy,E5c:()=>by,SjE:()=>xy,DH7:()=>EE,mxI:()=>wy,R50:()=>Ey,GBs:()=>eE,wEZ:()=>rE}),w(28407);let v=null,S=!1,M=1;const C=Symbol("SIGNAL");function d(e){const t=v;return v=e,t}const N={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function x(e){if(S)throw new Error("");if(null===v)return;v.consumerOnSignalRead(e);const t=v.nextProducerIndex++;we(v),t<v.producerNode.length&&v.producerNode[t]!==e&&he(v)&&J(v.producerNode[t],v.producerIndexOfThis[t]),v.producerNode[t]!==e&&(v.producerNode[t]=e,v.producerIndexOfThis[t]=he(v)?z(e,v,t):0),v.producerLastReadVersion[t]=e.version}function E(e){if((!he(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==M)){if(!e.producerMustRecompute(e)&&!q(e))return e.dirty=!1,void(e.lastCleanEpoch=M);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=M}}function L(e){if(void 0===e.liveConsumerNode)return;const t=S;S=!0;try{for(const n of e.liveConsumerNode)n.dirty||U(n)}finally{S=t}}function ae(){return!1!==v?.consumerAllowSignalWrites}function U(e){e.dirty=!0,L(e),e.consumerMarkedDirty?.(e)}function Z(e){return e&&(e.nextProducerIndex=0),d(e)}function ne(e,t){if(d(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(he(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)J(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function q(e){we(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==n.version||(E(n),o!==n.version))return!0}return!1}function le(e){if(we(e),he(e))for(let t=0;t<e.producerNode.length;t++)J(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function z(e,t,n){if(k(e),we(e),0===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=z(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function J(e,t){if(k(e),we(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)J(e.producerNode[o],e.producerIndexOfThis[o]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];we(l),l.producerIndexOfThis[o]=t}}function he(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function we(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function k(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ue(e){const t=Object.create(Ce);t.computation=e;const n=()=>{if(E(t),x(t),t.value===Ze)throw t.error;return t.value};return n[C]=t,n}const Ie=Symbol("UNSET"),ke=Symbol("COMPUTING"),Ze=Symbol("ERRORED"),Ce={...N,value:Ie,dirty:!0,error:null,equal:s,producerMustRecompute:e=>e.value===Ie||e.value===ke,producerRecomputeValue(e){if(e.value===ke)throw new Error("Detected cycle in computations.");const t=e.value;e.value=ke;const n=Z(e);let o;try{o=e.computation()}catch(l){o=Ze,e.error=l}finally{ne(e,n)}t!==Ie&&t!==Ze&&o!==Ze&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Kt=function Nt(){throw new Error};function me(){Kt()}let fe=null;function yt(e,t){ae()||me(),e.equal(e.value,t)||(e.value=t,function Tt(e){e.version++,function m(){M++}(),L(e),fe?.()}(e))}const Ln={...N,equal:s,value:void 0};const Ve=()=>{},wt={...N,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Ve};var b=w(85052),R=w(81027),T=w(29160),V=w(36110);const h="https://g.co/ng/security#xss";class I extends Error{constructor(t,n){super(xe(t,n)),this.code=t}}function xe(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}const ie=Symbol("InputSignalNode#UNSET"),D={...Ln,transformFn:void 0,applyValueToInputSignal(e,t){yt(e,t)}};function Le(e,t){const n=Object.create(D);function o(){if(x(n),n.value===ie)throw new I(-950,!1);return n.value}return n.value=e,n.transformFn=t?.transform,o[C]=n,o}function ct(e){return{toString:e}.toString()}const en="__parameters__";function Bt(e,t,n){return ct(()=>{const o=function it(e){return function(...n){if(e){const o=e(...n);for(const l in o)this[l]=o[l]}}}(t);function l(..._){if(this instanceof l)return o.apply(this,_),this;const B=new l(..._);return X.annotation=B,X;function X(ve,pt,Xt){const In=ve.hasOwnProperty(en)?ve[en]:Object.defineProperty(ve,en,{value:[]})[en];for(;In.length<=Xt;)In.push(null);return(In[Xt]=In[Xt]||[]).push(B),ve}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const st=globalThis;function Ne(e){for(let t in e)if(e[t]===Ne)return t;throw Error("Could not find renamed property on target object.")}function zt(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Zt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Zt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Cn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const br=Ne({__forward_ref__:Ne});function Mr(e){return e.__forward_ref__=Mr,e.toString=function(){return Zt(this())},e}function yn(e){return St(e)?e():e}function St(e){return"function"==typeof e&&e.hasOwnProperty(br)&&e.__forward_ref__===Mr}function Yt(e,t,n){e!=t&&function Yn(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(n,e,t,"==")}function wi(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Uo(e){return{providers:e.providers||[],imports:e.imports||[]}}function So(e){return ts(e,Fe)||ts(e,bn)}function yo(e){return null!==So(e)}function ts(e,t){return e.hasOwnProperty(t)?e[t]:null}function Io(e){return e&&(e.hasOwnProperty(_t)||e.hasOwnProperty(xn))?e[_t]:null}const Fe=Ne({\u0275prov:Ne}),_t=Ne({\u0275inj:Ne}),bn=Ne({ngInjectableDef:Ne}),xn=Ne({ngInjectorDef:Ne});class zn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=wi({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ci(e){return e&&!!e.\u0275providers}const yi=Ne({\u0275cmp:Ne}),Yi=Ne({\u0275dir:Ne}),so=Ne({\u0275pipe:Ne}),Co=Ne({\u0275mod:Ne}),qi=Ne({\u0275fac:Ne}),jo=Ne({__NG_ELEMENT_ID__:Ne}),$n=Ne({__NG_ENV_ID__:Ne});function un(e){return"string"==typeof e?e:null==e?"":String(e)}function Qi(e,t){throw new I(-201,!1)}var Gi=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Gi||{});let vo;function Do(){return vo}function Ao(e){const t=vo;return vo=e,t}function Ms(e,t,n){const o=So(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&Gi.Optional?null:void 0!==t?t:void Qi()}const Go={},Qo="__NG_DI_FLAG__",os="ngTempTokenPath",Rs=/\n/gm,sr="__source";let Lr;function Ei(e){const t=Lr;return Lr=e,t}function Fi(e,t=Gi.Default){if(void 0===Lr)throw new I(-203,!1);return null===Lr?Ms(e,void 0,t):Lr.get(e,t&Gi.Optional?null:void 0,t)}function Wi(e,t=Gi.Default){return(Do()||Fi)(yn(e),t)}function Bi(e,t=Gi.Default){return Wi(e,ko(t))}function ko(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ls(e){const t=[];for(let n=0;n<e.length;n++){const o=yn(e[n]);if(Array.isArray(o)){if(0===o.length)throw new I(900,!1);let l,_=Gi.Default;for(let B=0;B<o.length;B++){const X=o[B],ve=ys(X);"number"==typeof ve?-1===ve?l=X.token:_|=ve:l=X}t.push(Wi(l,_))}else t.push(Wi(o))}return t}function Ls(e,t){return e[Qo]=t,e.prototype[Qo]=t,e}function ys(e){return e[Qo]}const Hs=Ls(Bt("Inject",e=>({token:e})),-1),Fo=Ls(Bt("Optional"),8),oa=Ls(Bt("SkipSelf"),4);function zs(e,t){return e.hasOwnProperty(qi)?e[qi]:null}function ua(e,t){e.forEach(n=>Array.isArray(n)?ua(n,t):t(n))}function Jn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function lr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function jt(e,t,n){let o=je(e,t);return o>=0?e[1|o]=n:(o=~o,function tt(e,t,n,o){let l=e.length;if(l==t)e.push(n,o);else if(1===l)e.push(o,e[0]),e[0]=n;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function cn(e,t){const n=je(e,t);if(n>=0)return e[1|n]}function je(e,t){return function Qt(e,t,n){let o=0,l=e.length>>n;for(;l!==o;){const _=o+(l-o>>1),B=e[_<<n];if(t===B)return _<<n;B>t?l=_:o=_+1}return~(l<<n)}(e,t,1)}const qn={},hr=[],yr=new zn(""),Hr=new zn("",-1),jr=new zn("");class oi{get(t,n=Go){if(n===Go){const o=new Error(`NullInjectorError: No provider for ${Zt(t)}!`);throw o.name="NullInjectorError",o}return n}}var qr=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(qr||{}),Ui=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ui||{}),co=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(co||{});function Ro(e,t,n){let o=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const _=t.length;if(l+_===o||e.charCodeAt(l+_)<=32)return l}n=l+1}}function mo(e,t,n){let o=0;for(;o<n.length;){const l=n[o];if("number"==typeof l){if(0!==l)break;o++;const _=n[o++],B=n[o++],X=n[o++];e.setAttribute(t,B,X,_)}else{const _=l,B=n[++o];$e(_)?e.setProperty(t,_,B):e.setAttribute(t,_,B),o++}}return o}function nt(e){return 3===e||4===e||6===e}function $e(e){return 64===e.charCodeAt(0)}function an(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?n=l:0===n||at(e,n,l,null,-1===n||2===n?t[++o]:null)}}return e}function at(e,t,n,o,l){let _=0,B=e.length;if(-1===t)B=-1;else for(;_<e.length;){const X=e[_++];if("number"==typeof X){if(X===t){B=-1;break}if(X>t){B=_-1;break}}}for(;_<e.length;){const X=e[_];if("number"==typeof X)break;if(X===n){if(null===o)return void(null!==l&&(e[_+1]=l));if(o===e[_+1])return void(e[_+2]=l)}_++,null!==o&&_++,null!==l&&_++}-1!==B&&(e.splice(B,0,t),_=B+1),e.splice(_++,0,n),null!==o&&e.splice(_++,0,o),null!==l&&e.splice(_++,0,l)}const de="ng-template";function Et(e,t,n,o){let l=0;if(o){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==Ro(t[l+1].toLowerCase(),n,0))return!0}else if(on(e))return!1;if(l=t.indexOf(1,l),l>-1){let _;for(;++l<t.length&&"string"==typeof(_=t[l]);)if(_.toLowerCase()===n)return!0}return!1}function on(e){return 4===e.type&&e.value!==de}function Kn(e,t,n){return t===(4!==e.type||n?e.value:de)}function ht(e,t,n){let o=4;const l=e.attrs,_=null!==l?function wn(e){for(let t=0;t<e.length;t++)if(nt(e[t]))return t;return e.length}(l):0;let B=!1;for(let X=0;X<t.length;X++){const ve=t[X];if("number"!=typeof ve){if(!B)if(4&o){if(o=2|1&o,""!==ve&&!Kn(e,ve,n)||""===ve&&1===t.length){if($(o))return!1;B=!0}}else if(8&o){if(null===l||!Et(e,l,ve,n)){if($(o))return!1;B=!0}}else{const pt=t[++X],Xt=ge(ve,l,on(e),n);if(-1===Xt){if($(o))return!1;B=!0;continue}if(""!==pt){let In;if(In=Xt>_?"":l[Xt+1].toLowerCase(),2&o&&pt!==In){if($(o))return!1;B=!0}}}}else{if(!B&&!$(o)&&!$(ve))return!1;if(B&&$(ve))continue;B=!1,o=ve|1&o}}return $(o)||B}function $(e){return!(1&e)}function ge(e,t,n,o){if(null===t)return-1;let l=0;if(o||!n){let _=!1;for(;l<t.length;){const B=t[l];if(B===e)return l;if(3===B||6===B)_=!0;else{if(1===B||2===B){let X=t[++l];for(;"string"==typeof X;)X=t[++l];continue}if(4===B)break;if(0===B){l+=4;continue}}l+=_?1:2}return-1}return function Wn(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function He(e,t,n=!1){for(let o=0;o<t.length;o++)if(ht(e,t[o],n))return!0;return!1}function fr(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function Ur(e,t){return e?":not("+t.trim()+")":t}function ni(e){let t=e[0],n=1,o=2,l="",_=!1;for(;n<e.length;){let B=e[n];if("string"==typeof B)if(2&o){const X=e[++n];l+="["+B+(X.length>0?'="'+X+'"':"")+"]"}else 8&o?l+="."+B:4&o&&(l+=" "+B);else""!==l&&!$(B)&&(t+=Ur(_,l),l=""),o=B,_=_||!$(o);n++}return""!==l&&(t+=Ur(_,l)),t}function hi(e){return ct(()=>{const t=Rr(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===qr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ui.Emulated,styles:e.styles||hr,_:null,schemas:e.schemas||null,tView:null,id:""};Cr(n);const o=e.dependencies;return n.directiveDefs=Gr(o,!1),n.pipeDefs=Gr(o,!0),n.id=function pi(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of n)t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function zi(e){return Rt(e)||dn(e)}function Ii(e){return null!==e}function pe(e){return ct(()=>({type:e.type,bootstrap:e.bootstrap||hr,declarations:e.declarations||hr,imports:e.imports||hr,exports:e.exports||hr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function oe(e,t){if(null==e)return qn;const n={};for(const o in e)if(e.hasOwnProperty(o)){const l=e[o];let _,B,X=co.None;Array.isArray(l)?(X=l[0],_=l[1],B=l[2]??_):(_=l,B=l),t?(n[_]=X!==co.None?[o,X]:o,t[_]=B):n[_]=o}return n}function Ue(e){return ct(()=>{const t=Rr(e);return Cr(t),t})}function gt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rt(e){return e[yi]||null}function dn(e){return e[Yi]||null}function Rn(e){return e[so]||null}function ar(e){const t=Rt(e)||dn(e)||Rn(e);return null!==t&&t.standalone}function or(e,t){const n=e[Co]||null;if(!n&&!0===t)throw new Error(`Type ${Zt(e)} does not have '\u0275mod' property.`);return n}function Rr(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||qn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||hr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oe(e.inputs,t),outputs:oe(e.outputs),debugInfo:null}}function Cr(e){e.features?.forEach(t=>t(e))}function Gr(e,t){if(!e)return null;const n=t?Rn:zi;return()=>("function"==typeof e?e():e).map(o=>n(o)).filter(Ii)}function Ni(e){return{\u0275providers:e}}function Un(...e){return{\u0275providers:pr(0,e),\u0275fromNgModule:!0}}function pr(e,...t){const n=[],o=new Set;let l;const _=B=>{n.push(B)};return ua(t,B=>{const X=B;er(X,_,[],o)&&(l||=[],l.push(X))}),void 0!==l&&Sn(l,_),n}function Sn(e,t){for(let n=0;n<e.length;n++){const{ngModule:o,providers:l}=e[n];si(l,_=>{t(_,o)})}}function er(e,t,n,o){if(!(e=yn(e)))return!1;let l=null,_=Io(e);const B=!_&&Rt(e);if(_||B){if(B&&!B.standalone)return!1;l=e}else{const ve=e.ngModule;if(_=Io(ve),!_)return!1;l=ve}const X=o.has(l);if(B){if(X)return!1;if(o.add(l),B.dependencies){const ve="function"==typeof B.dependencies?B.dependencies():B.dependencies;for(const pt of ve)er(pt,t,n,o)}}else{if(!_)return!1;{if(null!=_.imports&&!X){let pt;o.add(l);try{ua(_.imports,Xt=>{er(Xt,t,n,o)&&(pt||=[],pt.push(Xt))})}finally{}void 0!==pt&&Sn(pt,t)}if(!X){const pt=zs(l)||(()=>new l);t({provide:l,useFactory:pt,deps:hr},l),t({provide:jr,useValue:l,multi:!0},l),t({provide:yr,useValue:()=>Wi(l),multi:!0},l)}const ve=_.providers;if(null!=ve&&!X){const pt=e;si(ve,Xt=>{t(Xt,pt)})}}}return l!==e&&void 0!==e.providers}function si(e,t){for(let n of e)Ci(n)&&(n=n.\u0275providers),Array.isArray(n)?si(n,t):t(n)}const Vi=Ne({provide:String,useValue:Ne});function ki(e){return null!==e&&"object"==typeof e&&Vi in e}function Ti(e){return"function"==typeof e}const ws=new zn(""),Jo={},Cs={};let rs;function Gt(){return void 0===rs&&(rs=new oi),rs}class Ae{}class ot extends Ae{get destroyed(){return this._destroyed}constructor(t,n,o,l){super(),this.parent=n,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Oo(t,B=>this.processProvider(B)),this.records.set(Hr,ti(void 0,this)),l.has("environment")&&this.records.set(Ae,ti(void 0,this));const _=this.records.get(ws);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(jr,hr,Gi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=d(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),d(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ei(this),o=Ao(void 0);try{return t()}finally{Ei(n),Ao(o)}}get(t,n=Go,o=Gi.Default){if(this.assertNotDestroyed(),t.hasOwnProperty($n))return t[$n](this);o=ko(o);const _=Ei(this),B=Ao(void 0);try{if(!(o&Gi.SkipSelf)){let ve=this.records.get(t);if(void 0===ve){const pt=function lo(e){return"function"==typeof e||"object"==typeof e&&e instanceof zn}(t)&&So(t);ve=pt&&this.injectableDefInScope(pt)?ti(Ct(t),Jo):null,this.records.set(t,ve)}if(null!=ve)return this.hydrate(t,ve)}return(o&Gi.Self?Gt():this.parent).get(t,n=o&Gi.Optional&&n===Go?null:n)}catch(X){if("NullInjectorError"===X.name){if((X[os]=X[os]||[]).unshift(Zt(t)),_)throw X;return function Os(e,t,n,o){const l=e[os];throw t[sr]&&l.unshift(t[sr]),e.message=function qo(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=Zt(t);if(Array.isArray(t))l=t.map(Zt).join(" -> ");else if("object"==typeof t){let _=[];for(let B in t)if(t.hasOwnProperty(B)){let X=t[B];_.push(B+":"+("string"==typeof X?JSON.stringify(X):Zt(X)))}l=`{${_.join(", ")}}`}return`${n}${o?"("+o+")":""}[${l}]: ${e.replace(Rs,"\n  ")}`}("\n"+e.message,l,n,o),e.ngTokenPath=l,e[os]=null,e}(X,t,"R3InjectorError",this.source)}throw X}finally{Ao(B),Ei(_)}}resolveInjectorInitializers(){const t=d(null),n=Ei(this),o=Ao(void 0);try{const _=this.get(yr,hr,Gi.Self);for(const B of _)B()}finally{Ei(n),Ao(o),d(t)}}toString(){const t=[],n=this.records;for(const o of n.keys())t.push(Zt(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){let n=Ti(t=yn(t))?t:yn(t&&t.provide);const o=function jn(e){return ki(e)?ti(void 0,e.useValue):ti(tr(e),Jo)}(t);if(!Ti(t)&&!0===t.multi){let l=this.records.get(n);l||(l=ti(void 0,Jo,!0),l.factory=()=>ls(l.multi),this.records.set(n,l)),n=t,l.multi.push(t)}this.records.set(n,o)}hydrate(t,n){const o=d(null);try{return n.value===Jo&&(n.value=Cs,n.value=n.factory()),"object"==typeof n.value&&n.value&&function eo(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{d(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=yn(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ct(e){const t=So(e),n=null!==t?t.factory:zs(e);if(null!==n)return n;if(e instanceof zn)throw new I(204,!1);if(e instanceof Function)return function fn(e){if(e.length>0)throw new I(204,!1);const n=function Xo(e){return e&&(e[Fe]||e[bn])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new I(204,!1)}function tr(e,t,n){let o;if(Ti(e)){const l=yn(e);return zs(l)||Ct(l)}if(ki(e))o=()=>yn(e.useValue);else if(function Ko(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ls(e.deps||[]));else if(function Oi(e){return!(!e||!e.useExisting)}(e))o=()=>Wi(yn(e.useExisting));else{const l=yn(e&&(e.useClass||e.provide));if(!function Pi(e){return!!e.deps}(e))return zs(l)||Ct(l);o=()=>new l(...ls(e.deps))}return o}function ti(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Oo(e,t){for(const n of e)Array.isArray(n)?Oo(n,t):n&&Ci(n)?Oo(n.\u0275providers,t):t(n)}function ss(e,t){e instanceof ot&&e.assertNotDestroyed();const o=Ei(e),l=Ao(void 0);try{return t()}finally{Ei(o),Ao(l)}}function sa(){return void 0!==Do()||null!=function gi(){return Lr}()}function Ca(e){if(!sa())throw new I(-203,!1)}const Ho=0,Ki=1,bo=2,Ps=3,va=4,Qs=5,fa=6,Ua=7,ks=8,ha=9,xa=10,Wo=11,tl=12,Al=13,Cc=14,Aa=15,ou=16,Ac=17,Wa=18,Ml=19,uc=20,_n=21,Vl=22,gl=23,No=25,Fs=1,Fl=7,cl=9,Da=10;var Mc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Mc||{});function Ba(e){return Array.isArray(e)&&"object"==typeof e[Fs]}function Oa(e){return Array.isArray(e)&&!0===e[Fs]}function Dl(e){return!!(4&e.flags)}function Ha(e){return e.componentOffset>-1}function _s(e){return!(1&~e.flags)}function nl(e){return!!e.template}function Kc(e){return!!(512&e[bo])}class ma{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function dc(e,t,n,o){null!==t?t.applyValueToInputSignal(t,o):e[n]=o}function Ka(){return dl}function dl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Tc),xu}function xu(){const e=Sd(this),t=e?.current;if(t){const n=e.previous;if(n===qn)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Tc(e,t,n,o,l){const _=this.declaredInputs[o],B=Sd(e)||function Yl(e,t){return e[vl]=t}(e,{previous:qn,current:null}),X=B.current||(B.current={}),ve=B.previous,pt=ve[_];X[_]=new ma(pt&&pt.currentValue,n,ve===qn),dc(e,t,l,n)}Ka.ngInherit=!0;const vl="__ngSimpleChanges__";function Sd(e){return e[vl]||null}const Na=function(e,t,n){},Rc="svg";let Qc=!1;function hs(e){for(;Array.isArray(e);)e=e[Ho];return e}function Pc(e,t){return hs(t[e])}function Ea(e,t){return hs(t[e.index])}function jl(e,t){return e.data[t]}function yl(e,t){return e[t]}function Xa(e,t){const n=t[e];return Ba(n)?n:n[Ho]}function kc(e){return!(128&~e[bo])}function fl(e,t){return null==t?null:e[t]}function i(e){e[Ac]=0}function p(e){1024&e[bo]||(e[bo]|=1024,kc(e)&&Ht(e))}function Re(e){return!!(9216&e[bo]||e[gl]?.dirty)}function lt(e){e[xa].changeDetectionScheduler?.notify(1),Re(e)?Ht(e):64&e[bo]&&(function Eu(){return Qc}()?(e[bo]|=1024,Ht(e)):e[xa].changeDetectionScheduler?.notify())}function Ht(e){e[xa].changeDetectionScheduler?.notify();let t=Xn(e);for(;null!==t&&!(8192&t[bo])&&(t[bo]|=8192,kc(t));)t=Xn(t)}function hn(e,t){if(!(256&~e[bo]))throw new I(911,!1);null===e[_n]&&(e[_n]=[]),e[_n].push(t)}function Xn(e){const t=e[Ps];return Oa(t)?t[Ps]:t}const Gn={lFrame:Tl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xi(){return Gn.bindingsEnabled}function ui(){return null!==Gn.skipHydrationRootTNode}function Sr(){return Gn.lFrame.lView}function wo(){return Gn.lFrame.tView}function Bs(e){return Gn.lFrame.contextLView=e,e[ks]}function Xs(e){return Gn.lFrame.contextLView=null,e}function uo(){let e=ta();for(;null!==e&&64===e.type;)e=e.parent;return e}function ta(){return Gn.lFrame.currentTNode}function aa(){const e=Gn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Us(e,t){const n=Gn.lFrame;n.currentTNode=e,n.isParent=t}function is(){return Gn.lFrame.isParent}function rl(){Gn.lFrame.isParent=!1}function Ya(){const e=Gn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function fc(){return Gn.lFrame.bindingIndex}function bl(){return Gn.lFrame.bindingIndex++}function Ql(e){const t=Gn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Bl(e){Gn.lFrame.inI18n=e}function Zp(e,t){const n=Gn.lFrame;n.bindingIndex=n.bindingRootIndex=e,qu(t)}function qu(e){Gn.lFrame.currentDirectiveIndex=e}function Od(e){const t=Gn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function cu(){return Gn.lFrame.currentQueryIndex}function za(e){Gn.lFrame.currentQueryIndex=e}function Fc(e){const t=e[Ki];return 2===t.type?t.declTNode:1===t.type?e[Qs]:null}function Pd(e,t,n){if(n&Gi.SkipSelf){let l=t,_=e;for(;!(l=l.parent,null!==l||n&Gi.Host||(l=Fc(_),null===l||(_=_[Cc],10&l.type))););if(null===l)return!1;t=l,e=_}const o=Gn.lFrame=Ju();return o.currentTNode=t,o.lView=e,!0}function kd(e){const t=Ju(),n=e[Ki];Gn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ju(){const e=Gn.lFrame,t=null===e?null:e.child;return null===t?Tl(e):t}function Tl(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Zu(){const e=Gn.lFrame;return Gn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Fd=Zu;function ed(){const e=Zu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ra(){return Gn.lFrame.selectedIndex}function la(e){Gn.lFrame.selectedIndex=e}function qs(){const e=Gn.lFrame;return jl(e.tView,e.selectedIndex)}function Bc(){Gn.lFrame.currentNamespace=Rc}function td(){!function em(){Gn.lFrame.currentNamespace=null}()}let Nd=!0;function Jc(){return Nd}function Va(e){Nd=e}function Zc(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const _=e.data[n].type.prototype,{ngAfterContentInit:B,ngAfterContentChecked:X,ngAfterViewInit:ve,ngAfterViewChecked:pt,ngOnDestroy:Xt}=_;B&&(e.contentHooks??=[]).push(-n,B),X&&((e.contentHooks??=[]).push(n,X),(e.contentCheckHooks??=[]).push(n,X)),ve&&(e.viewHooks??=[]).push(-n,ve),pt&&((e.viewHooks??=[]).push(n,pt),(e.viewCheckHooks??=[]).push(n,pt)),null!=Xt&&(e.destroyHooks??=[]).push(n,Xt)}}function vs(e,t,n){Ah(e,t,3,n)}function ja(e,t,n,o){(3&e[bo])===n&&Ah(e,t,n,o)}function Ma(e,t){let n=e[bo];(3&n)===t&&(n&=16383,n+=1,e[bo]=n)}function Ah(e,t,n,o){const _=o??-1,B=t.length-1;let X=0;for(let ve=void 0!==o?65535&e[Ac]:0;ve<B;ve++)if("number"==typeof t[ve+1]){if(X=t[ve],null!=o&&X>=o)break}else t[ve]<0&&(e[Ac]+=65536),(X<_||-1==_)&&(Ud(e,n,t,ve),e[Ac]=(4294901760&e[Ac])+ve+2),ve++}function wf(e,t){Na(4,e,t);const n=d(null);try{t.call(e)}finally{d(n),Na(5,e,t)}}function Ud(e,t,n,o){const l=n[o]<0,_=n[o+1],X=e[l?-n[o]:n[o]];l?e[bo]>>14<e[Ac]>>16&&(3&e[bo])===t&&(e[bo]+=16384,wf(X,_)):wf(X,_)}const Gl=-1;class Cu{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function Vd(e){return e!==Gl}function eu(e){return 32767&e}function ql(e,t){let n=function Dh(e){return e>>16}(e),o=t;for(;n>0;)o=o[Cc],n--;return o}let Nc=!0;function hc(e){const t=Nc;return Nc=e,t}const jd=255,nd=5;let Af=0;const Hl={};function rd(e,t){const n=Mf(e,t);if(-1!==n)return n;const o=t[Ki];o.firstCreatePass&&(e.injectorIndex=t.length,Jl(o.data,e),Jl(t,null),Jl(o.blueprint,null));const l=Du(e,t),_=e.injectorIndex;if(Vd(l)){const B=eu(l),X=ql(l,t),ve=X[Ki].data;for(let pt=0;pt<8;pt++)t[_+pt]=X[B+pt]|ve[B+pt]}return t[_+8]=l,_}function Jl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Du(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,l=t;for(;null!==l;){if(o=Rh(l),null===o)return Gl;if(n++,l=l[Cc],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return Gl}function Df(e,t,n){!function Th(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(jo)&&(o=n[jo]),null==o&&(o=n[jo]=Af++);const l=o&jd;t.data[e+(l>>nd)]|=1<<l}(e,t,n)}function Sh(e,t,n){if(n&Gi.Optional||void 0!==e)return e;Qi()}function Tu(e,t,n,o){if(n&Gi.Optional&&void 0===o&&(o=null),!(n&(Gi.Self|Gi.Host))){const l=e[ha],_=Ao(void 0);try{return l?l.get(t,o,n&Gi.Optional):Ms(t,o,n&Gi.Optional)}finally{Ao(_)}}return Sh(o,0,n)}function pc(e,t,n,o=Gi.Default,l){if(null!==e){if(2048&t[bo]&&!(o&Gi.Self)){const B=function Ih(e,t,n,o,l){let _=e,B=t;for(;null!==_&&null!==B&&2048&B[bo]&&!(512&B[bo]);){const X=id(_,B,n,o|Gi.Self,Hl);if(X!==Hl)return X;let ve=_.parent;if(!ve){const pt=B[uc];if(pt){const Xt=pt.get(n,Hl,o);if(Xt!==Hl)return Xt}ve=Rh(B),B=B[Cc]}_=ve}return l}(e,t,n,o,Hl);if(B!==Hl)return B}const _=id(e,t,n,o,Hl);if(_!==Hl)return _}return Tu(t,n,o,l)}function id(e,t,n,o,l){const _=function du(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(jo)?e[jo]:void 0;return"number"==typeof t?t>=0?t&jd:Gd:t}(n);if("function"==typeof _){if(!Pd(t,e,o))return o&Gi.Host?Sh(l,0,o):Tu(t,n,o,l);try{let B;if(B=_(o),null!=B||o&Gi.Optional)return B;Qi()}finally{Fd()}}else if("number"==typeof _){let B=null,X=Mf(e,t),ve=Gl,pt=o&Gi.Host?t[Aa][Qs]:null;for((-1===X||o&Gi.SkipSelf)&&(ve=-1===X?Du(e,t):t[X+8],ve!==Gl&&mc(o,!1)?(B=t[Ki],X=eu(ve),t=ql(ve,t)):X=-1);-1!==X;){const Xt=t[Ki];if(es(_,X,Xt.data)){const In=Sf(X,t,n,B,o,pt);if(In!==Hl)return In}ve=t[X+8],ve!==Gl&&mc(o,t[Ki].data[X+8]===pt)&&es(_,X,t)?(B=Xt,X=eu(ve),t=ql(ve,t)):X=-1}}return l}function Sf(e,t,n,o,l,_){const B=t[Ki],X=B.data[e+8],Xt=Su(X,B,n,null==o?Ha(X)&&Nc:o!=B&&!!(3&X.type),l&Gi.Host&&_===X);return null!==Xt?Zl(t,B,Xt,X):Hl}function Su(e,t,n,o,l){const _=e.providerIndexes,B=t.data,X=1048575&_,ve=e.directiveStart,Xt=_>>20,_r=l?X+Xt:e.directiveEnd;for(let Ar=o?X:X+Xt;Ar<_r;Ar++){const Yr=B[Ar];if(Ar<ve&&n===Yr||Ar>=ve&&Yr.type===n)return Ar}if(l){const Ar=B[ve];if(Ar&&nl(Ar)&&Ar.type===n)return ve}return null}function Zl(e,t,n,o){let l=e[n];const _=t.data;if(function uu(e){return e instanceof Cu}(l)){const B=l;B.resolving&&function Hn(e,t){throw t&&t.join(" > "),new I(-200,e)}(function Ge(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():un(e)}(_[n]));const X=hc(B.canSeeViewProviders);B.resolving=!0;const pt=B.injectImpl?Ao(B.injectImpl):null;Pd(e,o,Gi.Default);try{l=e[n]=B.factory(void 0,_,e,o),t.firstCreatePass&&n>=o.directiveStart&&function Ld(e,t,n){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:_}=t.type.prototype;if(o){const B=dl(t);(n.preOrderHooks??=[]).push(e,B),(n.preOrderCheckHooks??=[]).push(e,B)}l&&(n.preOrderHooks??=[]).push(0-e,l),_&&((n.preOrderHooks??=[]).push(e,_),(n.preOrderCheckHooks??=[]).push(e,_))}(n,_[n],t)}finally{null!==pt&&Ao(pt),hc(X),B.resolving=!1,Fd()}}return l}function es(e,t,n){return!!(n[t+(e>>nd)]&1<<e)}function mc(e,t){return!(e&Gi.Self||e&Gi.Host&&t)}class Ga{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return pc(this._tNode,this._lView,t,ko(o),n)}}function Gd(){return new Ga(uo(),Sr())}function Hd(e){return ct(()=>{const t=e.prototype.constructor,n=t[qi]||Qa(t),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const _=l[qi]||Qa(l);if(_&&_!==n)return _;l=Object.getPrototypeOf(l)}return _=>new _})}function Qa(e){return St(e)?()=>{const t=Qa(yn(e));return t&&t()}:zs(e)}function Rh(e){const t=e[Ki],n=t.type;return 2===n?t.declTNode:1===n?e[Qs]:null}function od(e){return function Tf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let l=0;for(;l<o;){const _=n[l];if(nt(_))break;if(0===_)l+=2;else if("number"==typeof _)for(l++;l<o&&"string"==typeof n[l];)l++;else{if(_===t)return n[l+1];l+=2}}}return null}(uo(),e)}function Pf(e,t=null,n=null,o){const l=Iu(e,t,n,o);return l.resolveInjectorInitializers(),l}function Iu(e,t=null,n=null,o,l=new Set){const _=[n||hr,Un(e)];return o=o||("object"==typeof e?void 0:Zt(e)),new ot(_,t||Gt(),o||null,l)}let Sl=(()=>{var e;class t{static create(o,l){if(Array.isArray(o))return Pf({name:""},l,o,"");{const _=o.name??"";return Pf({name:_},o.parent,o.providers,_)}}}return(e=t).THROW_IF_NOT_FOUND=Go,e.NULL=new oi,e.\u0275prov=wi({token:e,providedIn:"any",factory:()=>Wi(Hr)}),e.__NG_ELEMENT_ID__=-1,t})();function tu(e){return e.ngOriginalError}class Vc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&tu(t);for(;n&&tu(n);)n=tu(n);return n||null}}const sd=new zn("",{providedIn:"root",factory:()=>Bi(Vc).handleError.bind(void 0)});let qa=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Ou,e.__NG_ENV_ID__=n=>n,t})();class Ru extends qa{constructor(t){super(),this._lView=t}onDestroy(t){return hn(this._lView,t),()=>function Dn(e,t){if(null===e[_n])return;const n=e[_n].indexOf(t);-1!==n&&e[_n].splice(n,1)}(this._lView,t)}}function Ou(){return new Ru(Sr())}class Wd{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Bi(Vc,{optional:!0}),this.destroyRef=Bi(qa),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new I(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{const n=this.listeners?.indexOf(t);void 0!==n&&-1!==n&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed)throw new I(953,!1);if(null===this.listeners)return;const n=d(null);try{for(const o of this.listeners)try{o(t)}catch(l){this.errorHandler?.handleError(l)}}finally{d(n)}}}function ec(e){return new Wd}function Pu(e,t){return Le(e,t)}const Nl=(Pu.required=function tc(e){return Le(ie,e)},Pu);function ad(){return _c(uo(),Sr())}function _c(e,t){return new hu(Ea(e,t))}let hu=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=ad,t})();function Lh(e){return e instanceof hu?e.nativeElement:e}function Kd(e){return t=>{setTimeout(e,void 0,t)}}const nc=class Uh extends b.B{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,sa()&&(this.destroyRef=Bi(qa,{optional:!0})??void 0)}emit(t){const n=d(null);try{super.next(t)}finally{d(n)}}subscribe(t,n,o){let l=t,_=n||(()=>null),B=o;if(t&&"object"==typeof t){const ve=t;l=ve.next?.bind(ve),_=ve.error?.bind(ve),B=ve.complete?.bind(ve)}this.__isAsync&&(_=Kd(_),l&&(l=Kd(l)),B&&(B=Kd(B)));const X=super.subscribe({next:l,error:_,complete:B});return t instanceof R.yU&&t.add(X),X}};function Vh(){return this._results[Symbol.iterator]()}class Xd{get changes(){return this._changes??=new nc}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Xd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Vh)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const o=function cs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ts(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],_=t[o];if(n&&(l=n(l),_=n(_)),_!==l)return!1}return!0}(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function mu(e){return!(128&~e.flags)}const jc=new Map;let am=0;const Bf="__ngContext__";function ga(e,t){Ba(t)?(e[Bf]=t[Ml],function cm(e){jc.set(e[Ml],e)}(t)):e[Bf]=t}function zh(e){return Wh(e[tl])}function $h(e){return Wh(e[va])}function Wh(e){for(;null!==e&&!Oa(e);)e=e[va];return e}let $f;function ym(e){$f=e}function zc(){if(void 0!==$f)return $f;if(typeof document<"u")return document;throw new I(210,!1)}const qh=new zn("",{providedIn:"root",factory:()=>Jh}),Jh="ng",Wf=new zn(""),Jd=new zn("",{providedIn:"platform",factory:()=>"unknown"}),fd=new zn(""),ep=new zn("",{providedIn:"root",factory:()=>zc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _u=()=>null;function th(e,t,n=!1){return _u(e,t,n)}const g=new zn("",{providedIn:"root",factory:()=>!1});let O,Ee;function te(e){return function H(){if(void 0===O&&(O=null,st.trustedTypes))try{O=st.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return O}()?.createHTML(e)||e}function Pe(){if(void 0===Ee&&(Ee=null,st.trustedTypes))try{Ee=st.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ee}function rt(e){return Pe()?.createHTML(e)||e}function Ft(e){return Pe()?.createScriptURL(e)||e}class Wt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${h})`}}class Ot extends Wt{getTypeName(){return"HTML"}}class Jt extends Wt{getTypeName(){return"Style"}}class Fn extends Wt{getTypeName(){return"Script"}}class Tn extends Wt{getTypeName(){return"URL"}}class An extends Wt{getTypeName(){return"ResourceURL"}}function vn(e){return e instanceof Wt?e.changingThisBreaksApplicationSecurity:e}function kn(e,t){const n=function nr(e){return e instanceof Wt&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${h})`)}return n===t}function ur(e){return new Ot(e)}function Qn(e){return new Jt(e)}function kr(e){return new Fn(e)}function $r(e){return new Tn(e)}function Vr(e){return new An(e)}function Fr(e){const t=new ai(e);return function fi(){try{return!!(new window.DOMParser).parseFromString(te(""),"text/html")}catch{return!1}}()?new di(t):t}class di{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(te(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class ai{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=te(t),n}}const Or=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bi(e){return(e=String(e)).match(Or)?e:"unsafe:"+e}function Mi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function go(...e){const t={};for(const n of e)for(const o in n)n.hasOwnProperty(o)&&(t[o]=!0);return t}const fo=Mi("area,br,col,hr,img,wbr"),Yo=Mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xi=Mi("rp,rt"),ca=go(fo,go(Yo,Mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),go(xi,Mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),go(xi,Yo)),Js=Mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ka=go(Js,Mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ja=Mi("script,style,template");class Rl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,o=!0,l=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild)l.push(n),n=bd(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let _=vc(n);if(_){n=_;break}n=l.pop()}return this.buf.join("")}startElement(t){const n=xd(t).toLowerCase();if(!ca.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ja.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const o=t.attributes;for(let l=0;l<o.length;l++){const _=o.item(l),B=_.name,X=B.toLowerCase();if(!ka.hasOwnProperty(X)){this.sanitizedSomething=!0;continue}let ve=_.value;Js[X]&&(ve=bi(ve)),this.buf.push(" ",B,'="',ic(ve),'"')}return this.buf.push(">"),!0}endElement(t){const n=xd(t).toLowerCase();ca.hasOwnProperty(n)&&!fo.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(ic(t))}}function vc(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw yc(t);return t}function bd(e){const t=e.firstChild;if(t&&function zl(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw yc(t);return t}function xd(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function yc(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const wa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Is=/([^\#-~ |!])/g;function ic(e){return e.replace(/&/g,"&amp;").replace(wa,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Is,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uu;function rf(e,t){let n=null;try{Uu=Uu||Fr(e);let o=t?String(t):"";n=Uu.getInertBodyElement(o);let l=5,_=o;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,o=_,_=n.innerHTML,n=Uu.getInertBodyElement(o)}while(o!==_);return te((new Rl).sanitizeChildren(Ed(n)||n))}finally{if(n){const o=Ed(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Ed(e){return"content"in e&&function Vu(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var oc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(oc||{});function Ta(e){const t=wd();return t?rt(t.sanitize(oc.HTML,e)||""):kn(e,"HTML")?rt(vn(e)):rf(zc(),un(e))}function Es(e){const t=wd();return t?t.sanitize(oc.URL,e)||"":kn(e,"URL")?vn(e):bi(un(e))}function ju(e){const t=wd();if(t)return Ft(t.sanitize(oc.RESOURCE_URL,e)||"");if(kn(e,"ResourceURL"))return Ft(vn(e));throw new I(904,!1)}function sh(e,t,n){return function _a(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ju:Es}(t,n)(e)}function wd(){const e=Sr();return e&&e[xa].sanitizer}const Cd=/^>|^->|<!--|-->|--!>|<!-$/g,sp=/(<|>)/g,Gu="\u200b$1\u200b";function fp(e){return e.ownerDocument.defaultView}function hp(e){return e.ownerDocument}function ao(e){return e instanceof Function?e():e}var pl=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pl||{});let Ol;function $l(e,t){return Ol(e,t)}function xc(e,t,n,o,l){if(null!=o){let _,B=!1;Oa(o)?_=o:Ba(o)&&(B=!0,o=o[Ho]);const X=hs(o);0===e&&null!==n?null==l?Tg(t,n,X):Dd(t,n,X,l||null,!0):1===e&&null!==n?Dd(t,n,X,l||null,!0):2===e?ph(t,X,B):3===e&&t.destroyNode(X),null!=_&&function $_(e,t,n,o,l){const _=n[Fl];_!==hs(n)&&xc(t,e,o,_,l);for(let X=Da;X<n.length;X++){const ve=n[X];pf(ve[Ki],ve,e,t,o,_)}}(t,e,_,n,l)}}function pp(e,t){return e.createText(t)}function Cg(e,t,n){e.setValue(t,n)}function Dm(e,t){return e.createComment(function ah(e){return e.replace(Cd,t=>t.replace(sp,Gu))}(t))}function mp(e,t,n){return e.createElement(t,n)}function Ag(e,t){t[xa].changeDetectionScheduler?.notify(1),pf(e,t,t[Wo],2,null,null)}function Mg(e,t){const n=e[cl],o=n.indexOf(t);n.splice(o,1)}function fh(e,t){if(e.length<=Da)return;const n=Da+t,o=e[n];if(o){const l=o[ou];null!==l&&l!==e&&Mg(l,o),t>0&&(e[n-1][va]=o[va]);const _=lr(e,Da+t);!function F_(e,t){Ag(e,t),t[Ho]=null,t[Qs]=null}(o[Ki],o);const B=_[Wa];null!==B&&B.detachView(_[Ki]),o[Ps]=null,o[va]=null,o[bo]&=-129}return o}function gp(e,t){if(!(256&t[bo])){const n=t[Wo];n.destroyNode&&pf(e,t,n,3,null,null),function N_(e){let t=e[tl];if(!t)return Tm(e[Ki],e);for(;t;){let n=null;if(Ba(t))n=t[tl];else{const o=t[Da];o&&(n=o)}if(!n){for(;t&&!t[va]&&t!==e;)Ba(t)&&Tm(t[Ki],t),t=t[Ps];null===t&&(t=e),Ba(t)&&Tm(t[Ki],t),n=t&&t[va]}t=n}}(t)}}function Tm(e,t){if(256&t[bo])return;const n=d(null);try{t[bo]&=-129,t[bo]|=256,t[gl]&&le(t[gl]),function j_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const l=t[n[o]];if(!(l instanceof Cu)){const _=n[o+1];if(Array.isArray(_))for(let B=0;B<_.length;B+=2){const X=l[_[B]],ve=_[B+1];Na(4,X,ve);try{ve.call(X)}finally{Na(5,X,ve)}}else{Na(4,l,_);try{_.call(l)}finally{Na(5,l,_)}}}}}(e,t),function V_(e,t){const n=e.cleanup,o=t[Ua];if(null!==n)for(let _=0;_<n.length-1;_+=2)if("string"==typeof n[_]){const B=n[_+3];B>=0?o[B]():o[-B].unsubscribe(),_+=2}else n[_].call(o[n[_+1]]);null!==o&&(t[Ua]=null);const l=t[_n];if(null!==l){t[_n]=null;for(let _=0;_<l.length;_++)(0,l[_])()}}(e,t),1===t[Ki].type&&t[Wo].destroy();const o=t[ou];if(null!==o&&Oa(t[Ps])){o!==t[Ps]&&Mg(o,t);const l=t[Wa];null!==l&&l.detachView(e)}!function um(e){jc.delete(e[Ml])}(t)}finally{d(n)}}function Sm(e,t,n){return Dg(e,t.parent,n)}function Dg(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[Ho];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:_}=e.data[o.directiveStart+l];if(_===Ui.None||_===Ui.Emulated)return null}return Ea(o,n)}}function Dd(e,t,n,o,l){e.insertBefore(t,n,o,l)}function Tg(e,t,n){e.appendChild(t,n)}function Sg(e,t,n,o,l){null!==o?Dd(e,t,n,o,l):Tg(e,t,n)}function _p(e,t){return e.parentNode(t)}function Ig(e,t,n){return Im(e,t,n)}function vp(e,t,n){return 40&e.type?Ea(e,n):null}let yp,Im=vp;function Rg(e,t){Im=e,yp=t}function bp(e,t,n,o){const l=Sm(e,o,t),_=t[Wo],X=Ig(o.parent||t[Qs],o,t);if(null!=l)if(Array.isArray(n))for(let ve=0;ve<n.length;ve++)Sg(_,l,n[ve],X,!1);else Sg(_,l,n,X,!1);void 0!==yp&&yp(_,o,t,n,l)}function hh(e,t){if(null!==t){const n=t.type;if(3&n)return Ea(t,e);if(4&n)return Rm(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return hh(e,o);{const l=e[t.index];return Oa(l)?Rm(-1,l):hs(l)}}if(32&n)return $l(t,e)()||hs(e[t.index]);{const o=xp(e,t);return null!==o?Array.isArray(o)?o[0]:hh(Xn(e[Aa]),o):hh(e,t.next)}}return null}function xp(e,t){return null!==t?e[Aa][Qs].projection[t.projection]:null}function Rm(e,t){const n=Da+e+1;if(n<t.length){const o=t[n],l=o[Ki].firstChild;if(null!==l)return hh(o,l)}return t[Fl]}function ph(e,t,n){const o=_p(e,t);o&&function G_(e,t,n,o){e.removeChild(t,n,o)}(e,o,t,n)}function Pl(e,t,n,o,l,_,B){for(;null!=n;){const X=o[n.index],ve=n.type;if(B&&0===t&&(X&&ga(hs(X),o),n.flags|=2),32&~n.flags)if(8&ve)Pl(e,t,n.child,o,l,_,!1),xc(t,e,l,X,_);else if(32&ve){const pt=$l(n,o);let Xt;for(;Xt=pt();)xc(t,e,l,Xt,_);xc(t,e,l,X,_)}else 16&ve?Pg(e,t,o,n,l,_):xc(t,e,l,X,_);n=B?n.projectionNext:n.next}}function pf(e,t,n,o,l,_){Pl(n,o,e.firstChild,t,l,_,!1)}function Pg(e,t,n,o,l,_){const B=n[Aa],ve=B[Qs].projection[o.projection];if(Array.isArray(ve))for(let pt=0;pt<ve.length;pt++)xc(t,e,l,ve[pt],_);else{let pt=ve;const Xt=B[Ps];mu(o)&&(pt.flags|=128),Pl(e,t,pt,Xt,l,_,!0)}}function kg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ep(e,t,n){const{mergedAttrs:o,classes:l,styles:_}=n;null!==o&&mo(e,t,o),null!==l&&kg(e,t,l),null!==_&&function Om(e,t,n){e.setAttribute(t,"style",n)}(e,t,_)}const Ns={};function Fg(e=1){Bg(wo(),Sr(),Ra()+e,!1)}function Bg(e,t,n,o){if(!o)if(3&~t[bo]){const _=e.preOrderHooks;null!==_&&ja(t,_,0,n)}else{const _=e.preOrderCheckHooks;null!==_&&vs(t,_,n)}la(n)}function mf(e,t=Gi.Default){const n=Sr();return null===n?Wi(e,t):pc(uo(),n,yn(e),t)}function Pm(){throw new Error("invalid")}function Ng(e,t,n,o,l,_){const B=d(null);try{let X=null;l&co.SignalBased&&(X=t[o][C]),null!==X&&void 0!==X.transformFn&&(_=X.transformFn(_)),l&co.HasDecoratorInputTransform&&(_=e.inputTransforms[o].call(t,_)),null!==e.setInput?e.setInput(t,X,_,n,o):dc(t,X,o,_)}finally{d(B)}}function wp(e,t,n,o,l,_,B,X,ve,pt,Xt){const In=t.blueprint.slice();return In[Ho]=l,In[bo]=204|o,(null!==pt||e&&2048&e[bo])&&(In[bo]|=2048),i(In),In[Ps]=In[Cc]=e,In[ks]=n,In[xa]=B||e&&e[xa],In[Wo]=X||e&&e[Wo],In[ha]=ve||e&&e[ha]||null,In[Qs]=_,In[Ml]=function lm(){return am++}(),In[fa]=Xt,In[uc]=pt,In[Aa]=2==t.type?e[Aa]:In,In}function Hu(e,t,n,o,l){let _=e.data[t];if(null===_)_=mh(e,t,n,o,l),function Jp(){return Gn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=n,_.value=o,_.attrs=l;const B=aa();_.injectorIndex=null===B?-1:B.injectorIndex}return Us(_,!0),_}function mh(e,t,n,o,l){const _=ta(),B=is(),ve=e.data[t]=function ev(e,t,n,o,l,_){let B=t?t.injectorIndex:-1,X=0;return ui()&&(X|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:B,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:X,providerIndexes:0,value:l,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,B?_:_&&_.parent,n,t,o,l);return null===e.firstChild&&(e.firstChild=ve),null!==_&&(B?null==_.child&&null!==ve.parent&&(_.child=ve):null===_.next&&(_.next=ve,ve.prev=_)),ve}function gh(e,t,n,o){if(0===n)return-1;const l=t.length;for(let _=0;_<n;_++)t.push(o),e.blueprint.push(o),e.data.push(null);return l}function Lg(e,t,n,o,l){const _=Ra(),B=2&o;try{la(-1),B&&t.length>No&&Bg(e,t,No,!1),Na(B?2:0,l),n(o,l)}finally{la(_),Na(B?3:1,l)}}function km(e,t,n){if(Dl(t)){const o=d(null);try{const _=t.directiveEnd;for(let B=t.directiveStart;B<_;B++){const X=e.data[B];X.contentQueries&&X.contentQueries(1,n[B],B)}}finally{d(o)}}}function Fm(e,t,n){Xi()&&(function cr(e,t,n,o){const l=n.directiveStart,_=n.directiveEnd;Ha(n)&&function Ys(e,t,n){const o=Ea(t,e),l=Ug(n);let B=16;n.signals?B=4096:n.onPush&&(B=64);const X=Fa(e,wp(e,l,null,B,o,t,null,e[xa].rendererFactory.createRenderer(o,n),null,null,null));e[t.index]=X}(t,n,e.data[l+n.componentOffset]),e.firstCreatePass||rd(n,t),ga(o,t);const B=n.initialInputs;for(let X=l;X<_;X++){const ve=e.data[X],pt=Zl(t,e,X,n);ga(pt,t),null!==B&&da(0,X-l,pt,ve,0,B),nl(ve)&&(Xa(n.index,t)[ks]=Zl(t,e,X,n))}}(e,t,n,Ea(n,t)),!(64&~n.flags)&&Er(e,t,n))}function Bm(e,t,n=Ea){const o=t.localNames;if(null!==o){let l=t.index+1;for(let _=0;_<o.length;_+=2){const B=o[_+1],X=-1===B?n(t,e):e[B];e[l++]=X}}}function Ug(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Nm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Nm(e,t,n,o,l,_,B,X,ve,pt,Xt){const In=No+o,_r=In+l,Ar=function X_(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:Ns);return n}(In,_r),Yr="function"==typeof pt?pt():pt;return Ar[Ki]={type:e,blueprint:Ar,template:n,queries:null,viewQuery:X,declTNode:t,data:Ar.slice().fill(null,In),bindingStartIndex:In,expandoStartIndex:_r,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof B?B():B,firstChild:null,schemas:ve,consts:Yr,incompleteFirstPass:!1,ssrId:Xt}}let Vg=()=>null;function jg(e,t,n,o,l){for(let _ in t){if(!t.hasOwnProperty(_))continue;const B=t[_];if(void 0===B)continue;o??={};let X,ve=co.None;Array.isArray(B)?(X=B[0],ve=B[1]):X=B;let pt=_;if(null!==l){if(!l.hasOwnProperty(_))continue;pt=l[_]}0===e?Gg(o,n,pt,X,ve):Gg(o,n,pt,X)}return o}function Gg(e,t,n,o,l){let _;e.hasOwnProperty(n)?(_=e[n]).push(t,o):_=e[n]=[t,o],void 0!==l&&_.push(l)}function Wl(e,t,n,o,l,_,B,X){const ve=Ea(t,n);let Xt,pt=t.inputs;!X&&null!=pt&&(Xt=pt[o])?(iv(e,n,Xt,o,l),Ha(t)&&function rv(e,t){const n=Xa(t,e);16&n[bo]||(n[bo]|=64)}(n,t.index)):3&t.type&&(o=function nv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=B?B(l,t.value||"",o):l,_.setProperty(ve,o,l))}function re(e,t,n,o){if(Xi()){const l=null===o?null:{"":-1},_=function ji(e,t){const n=e.directiveRegistry;let o=null,l=null;if(n)for(let _=0;_<n.length;_++){const B=n[_];if(He(t,B.selectors,!1))if(o||(o=[]),nl(B))if(null!==B.findHostDirectiveDefs){const X=[];l=l||new Map,B.findHostDirectiveDefs(B,X,l),o.unshift(...X,B),Li(e,t,X.length)}else o.unshift(B),Li(e,t,0);else l=l||new Map,B.findHostDirectiveDefs?.(B,o,l),o.push(B)}return null===o?null:[o,l]}(e,n);let B,X;null===_?B=X=null:[B,X]=_,null!==B&&Je(e,t,n,B,l,X),l&&function Zi(e,t,n){if(t){const o=e.localNames=[];for(let l=0;l<t.length;l+=2){const _=n[t[l+1]];if(null==_)throw new I(-301,!1);o.push(t[l],_)}}}(n,o,l)}n.mergedAttrs=an(n.mergedAttrs,n.attrs)}function Je(e,t,n,o,l,_){for(let pt=0;pt<o.length;pt++)Df(rd(n,t),e,o[pt].type);!function Vo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,o.length);for(let pt=0;pt<o.length;pt++){const Xt=o[pt];Xt.providersResolver&&Xt.providersResolver(Xt)}let B=!1,X=!1,ve=gh(e,t,o.length,null);for(let pt=0;pt<o.length;pt++){const Xt=o[pt];n.mergedAttrs=an(n.mergedAttrs,Xt.hostAttrs),as(e,n,t,ve,Xt),Eo(ve,Xt,l),null!==Xt.contentQueries&&(n.flags|=4),(null!==Xt.hostBindings||null!==Xt.hostAttrs||0!==Xt.hostVars)&&(n.flags|=64);const In=Xt.type.prototype;!B&&(In.ngOnChanges||In.ngOnInit||In.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),B=!0),!X&&(In.ngOnChanges||In.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),X=!0),ve++}!function tv(e,t,n){const l=t.directiveEnd,_=e.data,B=t.attrs,X=[];let ve=null,pt=null;for(let Xt=t.directiveStart;Xt<l;Xt++){const In=_[Xt],_r=n?n.get(In):null,Yr=_r?_r.outputs:null;ve=jg(0,In.inputs,Xt,ve,_r?_r.inputs:null),pt=jg(1,In.outputs,Xt,pt,Yr);const Di=null===ve||null===B||on(t)?null:ac(ve,Xt,B);X.push(Di)}null!==ve&&(ve.hasOwnProperty("class")&&(t.flags|=8),ve.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=X,t.inputs=ve,t.outputs=pt}(e,n,_)}function Er(e,t,n){const o=n.directiveStart,l=n.directiveEnd,_=n.index,B=function Rd(){return Gn.lFrame.currentDirectiveIndex}();try{la(_);for(let X=o;X<l;X++){const ve=e.data[X],pt=t[X];qu(X),(null!==ve.hostBindings||0!==ve.hostVars||null!==ve.hostAttrs)&&Wr(ve,pt)}}finally{la(-1),qu(B)}}function Wr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Li(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Eo(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;nl(t)&&(n[""]=e)}}function as(e,t,n,o,l){e.data[o]=l;const _=l.factory||(l.factory=zs(l.type)),B=new Cu(_,nl(l),mf);e.blueprint[o]=B,n[o]=B,function tn(e,t,n,o,l){const _=l.hostBindings;if(_){let B=e.hostBindingOpCodes;null===B&&(B=e.hostBindingOpCodes=[]);const X=~t.index;(function Bn(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(B)!=X&&B.push(X),B.push(n,o,_)}}(e,t,o,gh(e,n,l.hostVars,Ns),l)}function Zs(e,t,n,o,l,_,B){if(null==_)e.removeAttribute(t,l,n);else{const X=null==B?un(_):B(_,o||"",l);e.setAttribute(t,l,X,n)}}function da(e,t,n,o,l,_){const B=_[t];if(null!==B)for(let X=0;X<B.length;)Ng(o,n,B[X++],B[X++],B[X++],B[X++])}function ac(e,t,n){let o=null,l=0;for(;l<n.length;){const _=n[l];if(0!==_)if(5!==_){if("number"==typeof _)break;if(e.hasOwnProperty(_)){null===o&&(o=[]);const B=e[_];for(let X=0;X<B.length;X+=3)if(B[X]===t){o.push(_,B[X+1],B[X+2],n[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function kl(e,t,n,o){return[e,!0,0,t,null,o,null,n,null,null]}function Kl(e,t){const n=e.contentQueries;if(null!==n){const o=d(null);try{for(let l=0;l<n.length;l+=2){const B=n[l+1];if(-1!==B){const X=e.data[B];za(n[l]),X.contentQueries(2,t[B],B)}}}finally{d(o)}}}function Fa(e,t){return e[tl]?e[Al][va]=t:e[tl]=t,e[Al]=t,t}function lc(e,t,n){za(0);const o=d(null);try{t(e,n)}finally{d(o)}}function Lm(e){return e[Ua]||(e[Ua]=[])}function Yy(e){return e.cleanup||(e.cleanup=[])}function Qy(e,t,n){return(null===e||nl(e))&&(n=function Oc(e){for(;Array.isArray(e);){if("object"==typeof e[Fs])return e;e=e[Ho]}return null}(n[t.index])),n[Wo]}function Hg(e,t){const n=e[ha],o=n?n.get(Vc,null):null;o&&o.handleError(t)}function iv(e,t,n,o,l){for(let _=0;_<n.length;){const B=n[_++],X=n[_++],ve=n[_++];Ng(e.data[B],t[B],o,X,ve,l)}}function Td(e,t,n){const o=Pc(t,e);Cg(e[Wo],o,n)}function uw(e,t){const n=Xa(t,e),o=n[Ki];!function dw(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n);const l=n[Ho];null!==l&&null===n[fa]&&(n[fa]=th(l,n[ha])),ov(o,n,n[ks])}function ov(e,t,n){kd(t);try{const o=e.viewQuery;null!==o&&lc(1,o,n);const l=e.template;null!==l&&Lg(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Wa]?.finishViewCreation(e),e.staticContentQueries&&Kl(e,t),e.staticViewQueries&&lc(2,e.viewQuery,n);const _=e.components;null!==_&&function fw(e,t){for(let n=0;n<t.length;n++)uw(e,t[n])}(t,_)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[bo]&=-5,ed()}}function Um(e,t,n,o){const l=d(null);try{const _=t.tView,ve=wp(e,_,n,4096&e[bo]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);ve[ou]=e[t.index];const Xt=e[Wa];return null!==Xt&&(ve[Wa]=Xt.createEmbeddedView(_)),ov(_,ve,n),ve}finally{d(l)}}function qy(e,t){const n=Da+t;if(n<e.length)return e[n]}function Cp(e,t){return!t||null===t.firstChild||mu(e)}function Vm(e,t,n,o=!0){const l=t[Ki];if(function L_(e,t,n,o){const l=Da+o,_=n.length;o>0&&(n[l-1][va]=t),o<_-Da?(t[va]=n[l],Jn(n,Da+o,t)):(n.push(t),t[va]=null),t[Ps]=n;const B=t[ou];null!==B&&n!==B&&function U_(e,t){const n=e[cl];t[Aa]!==t[Ps][Ps][Aa]&&(e[bo]|=Mc.HasTransplantedViews),null===n?e[cl]=[t]:n.push(t)}(B,t);const X=t[Wa];null!==X&&X.insertView(e),lt(t),t[bo]|=128}(l,t,e,n),o){const B=Rm(n,e),X=t[Wo],ve=_p(X,e[Fl]);null!==ve&&function B_(e,t,n,o,l,_){o[Ho]=l,o[Qs]=t,pf(e,o,n,1,l,_)}(l,e[Qs],X,t,ve,B)}const _=t[fa];null!==_&&null!==_.firstChild&&(_.firstChild=null)}function sv(e,t){const n=fh(e,t);return void 0!==n&&gp(n[Ki],n),n}function jm(e,t,n,o,l=!1){for(;null!==n;){const _=t[n.index];null!==_&&o.push(hs(_)),Oa(_)&&Jy(_,o);const B=n.type;if(8&B)jm(e,t,n.child,o);else if(32&B){const X=$l(n,t);let ve;for(;ve=X();)o.push(ve)}else if(16&B){const X=xp(t,n);if(Array.isArray(X))o.push(...X);else{const ve=Xn(t[Aa]);jm(ve[Ki],ve,X,o,!0)}}n=l?n.projectionNext:n.next}return o}function Jy(e,t){for(let n=Da;n<e.length;n++){const o=e[n],l=o[Ki].firstChild;null!==l&&jm(o[Ki],o,l,t)}e[Fl]!==e[Ho]&&t.push(e[Fl])}let Zy=[];const gw={...N,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ht(e.lView)},consumerOnSignalRead(){this.lView[gl]=this}},e0=100;function zg(e,t=!0,n=0){const o=e[xa],l=o.rendererFactory;l.begin?.();try{!function _w(e,t){av(e,t);let n=0;for(;Re(e);){if(n===e0)throw new I(103,!1);n++,av(e,1)}}(e,n)}catch(B){throw t&&Hg(e,B),B}finally{l.end?.(),o.inlineEffectRunner?.flush()}}function vw(e,t,n,o){const l=t[bo];if(!(256&~l))return;t[xa].inlineEffectRunner?.flush(),kd(t);let B=null,X=null;(function yw(e){return 2!==e.type})(e)&&(X=function hw(e){return e[gl]??function pw(e){const t=Zy.pop()??Object.create(gw);return t.lView=e,t}(e)}(t),B=Z(X));try{i(t),function wu(e){return Gn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Lg(e,t,n,2,o);const ve=!(3&~l);if(ve){const In=e.preOrderCheckHooks;null!==In&&vs(t,In,null)}else{const In=e.preOrderHooks;null!==In&&ja(t,In,0,null),Ma(t,0)}if(function bw(e){for(let t=zh(e);null!==t;t=$h(t)){if(!(t[bo]&Mc.HasTransplantedViews))continue;const n=t[cl];for(let o=0;o<n.length;o++){p(n[o])}}}(t),t0(t,0),null!==e.contentQueries&&Kl(e,t),ve){const In=e.contentCheckHooks;null!==In&&vs(t,In)}else{const In=e.contentHooks;null!==In&&ja(t,In,1),Ma(t,1)}!function K_(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const l=n[o];if(l<0)la(~l);else{const _=l,B=n[++o],X=n[++o];Zp(B,_),X(2,t[_])}}}finally{la(-1)}}(e,t);const pt=e.components;null!==pt&&r0(t,pt,0);const Xt=e.viewQuery;if(null!==Xt&&lc(2,Xt,o),ve){const In=e.viewCheckHooks;null!==In&&vs(t,In)}else{const In=e.viewHooks;null!==In&&ja(t,In,2),Ma(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Vl]){for(const In of t[Vl])In();t[Vl]=null}t[bo]&=-73}catch(ve){throw Ht(t),ve}finally{null!==X&&(ne(X,B),function mw(e){e.lView[gl]!==e&&(e.lView=null,Zy.push(e))}(X)),ed()}}function t0(e,t){for(let n=zh(e);null!==n;n=$h(n))for(let o=Da;o<n.length;o++)n0(n[o],t)}function xw(e,t,n){n0(Xa(t,e),n)}function n0(e,t){kc(e)&&av(e,t)}function av(e,t){const o=e[Ki],l=e[bo],_=e[gl];let B=!!(0===t&&16&l);if(B||=!!(64&l&&0===t),B||=!!(1024&l),B||=!(!_?.dirty||!q(_)),_&&(_.dirty=!1),e[bo]&=-9217,B)vw(o,e,o.template,e[ks]);else if(8192&l){t0(e,1);const X=o.components;null!==X&&r0(e,X,1)}}function r0(e,t,n){for(let o=0;o<t.length;o++)xw(e,t[o],n)}function Gm(e){for(e[xa].changeDetectionScheduler?.notify();e;){e[bo]|=64;const t=Xn(e);if(Kc(e)&&!t)return e;e=t}return null}class Hm{get rootNodes(){const t=this._lView,n=t[Ki];return jm(n,t,n.firstChild,[])}constructor(t,n,o=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ks]}set context(t){this._lView[ks]=t}get destroyed(){return!(256&~this._lView[bo])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ps];if(Oa(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(fh(t,o),lr(n,o))}this._attachedToViewContainer=!1}gp(this._lView[Ki],this._lView)}onDestroy(t){hn(this._lView,t)}markForCheck(){Gm(this._cdRefInjectingView||this._lView)}detach(){this._lView[bo]&=-129}reattach(){lt(this._lView),this._lView[bo]|=128}detectChanges(){this._lView[bo]|=1024,zg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ag(this._lView[Ki],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t,lt(this._lView)}}let zm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Cw,t})();const Ew=zm,ww=class extends Ew{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,o){const l=Um(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:o});return new Hm(l)}};function Cw(){return $g(uo(),Sr())}function $g(e,t){return 4&e.type?new ww(t,e,_c(e,t)):null}let u0=()=>null;function Ap(e,t){return u0(e,t)}class Qg{}class Xw{}class d0{}class Qw{resolveComponentFactory(t){throw function Yw(e){const t=Error(`No component factory found for ${Zt(e)}.`);return t.ngComponent=e,t}(t)}}let Ym=(()=>{class t{}return t.NULL=new Qw,t})();class h0{}let qw=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function Jw(){const e=Sr(),n=Xa(uo().index,e);return(Ba(n)?n:e)[Wo]}(),t})(),Zw=(()=>{var e;class t{}return(e=t).\u0275prov=wi({token:e,providedIn:"root",factory:()=>null}),t})();const hv={};function eC(e,t){if(null!==function F(){return v}())throw new I(-602,!1)}const p0=new Set;function $u(e){p0.has(e)||(p0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function m0(...e){}class ml{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&n,l.shouldCoalesceRunChangeDetection=o,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function tC(){const e="function"==typeof st.requestAnimationFrame;let t=st[e?"requestAnimationFrame":"setTimeout"],n=st[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function iC(e){const t=()=>{!function rC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(st,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mv(e),e.isCheckStableRunning=!0,pv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,l,_,B,X)=>{if(function oC(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(X))return n.invokeTask(l,_,B,X);try{return g0(e),n.invokeTask(l,_,B,X)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||e.shouldCoalesceRunChangeDetection)&&t(),_0(e)}},onInvoke:(n,o,l,_,B,X,ve)=>{try{return g0(e),n.invoke(l,_,B,X,ve)}finally{e.shouldCoalesceRunChangeDetection&&t(),_0(e)}},onHasTask:(n,o,l,_)=>{n.hasTask(l,_),o===l&&("microTask"==_.change?(e._hasPendingMicrotasks=_.microTask,mv(e),pv(e)):"macroTask"==_.change&&(e.hasPendingMacrotasks=_.macroTask))},onHandleError:(n,o,l,_)=>(n.handleError(l,_),e.runOutsideAngular(()=>e.onError.emit(_)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ml.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(ml.isInAngularZone())throw new I(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,l){const _=this._inner,B=_.scheduleEventTask("NgZoneEvent: "+l,t,nC,m0,m0);try{return _.runTask(B,n,o)}finally{_.cancelTask(B)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const nC={};function pv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function g0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _0(e){e._nesting--,pv(e)}class v0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,l){return t.apply(n,o)}}var _h=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_h||{});const y0={destroy(){}};function b0(e,t){!t&&Ca();const n=t?.injector??Bi(Sl);if(!function Vs(e){return"browser"===(e??Bi(Sl)).get(Jd)}(n))return y0;$u("NgAfterNextRender");const o=n.get(Qm),l=o.handler??=new E0,_=t?.phase??_h.MixedReadWrite,B=()=>{l.unregister(ve),X()},X=n.get(qa).onDestroy(B),ve=ss(n,()=>new x0(_,()=>{B(),e()}));return l.register(ve),{destroy:B}}class x0{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=Bi(ml),this.errorHandler=Bi(Vc,{optional:!0}),Bi(Qg,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class E0{constructor(){this.executingCallbacks=!1,this.buckets={[_h.EarlyRead]:new Set,[_h.Write]:new Set,[_h.MixedReadWrite]:new Set,[_h.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const n of t)n.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Qm=(()=>{var e;class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const l of o)l()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=wi({token:e,providedIn:"root",factory:()=>new e}),t})();function gf(e){return!!or(e)}function Jg(e,t,n){let o=n?e.styles:null,l=n?e.classes:null,_=0;if(null!==t)for(let B=0;B<t.length;B++){const X=t[B];"number"==typeof X?_=X:1==_?l=Cn(l,X):2==_&&(o=Cn(o,X+": "+t[++B]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=l:e.classesWithoutHost=l}class A0 extends Ym{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Rt(t);return new Zm(n,this.ngModule)}}function M0(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n];void 0!==o&&t.push({propName:Array.isArray(o)?o[0]:o,templateName:n})}return t}class Zg{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=ko(o);const l=this.injector.get(t,hv,o);return l!==hv||n===hv?l:this.parentInjector.get(t,n,o)}}class Zm extends d0{get inputs(){const t=this.componentDef,n=t.inputTransforms,o=M0(t.inputs);if(null!==n)for(const l of o)n.hasOwnProperty(l.propName)&&(l.transform=n[l.propName]);return o}get outputs(){return M0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ri(e){return e.map(ni).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,o,l){const _=d(null);try{let B=(l=l||this.ngModule)instanceof Ae?l:l?.injector;B&&null!==this.componentDef.getStandaloneInjector&&(B=this.componentDef.getStandaloneInjector(B)||B);const X=B?new Zg(t,B):t,ve=X.get(h0,null);if(null===ve)throw new I(407,!1);const pt=X.get(Zw,null),_r={rendererFactory:ve,sanitizer:pt,inlineEffectRunner:null,afterRenderEventManager:X.get(Qm,null),changeDetectionScheduler:X.get(Qg,null)},Ar=ve.createRenderer(null,this.componentDef),Yr=this.componentDef.selectors[0][0]||"div",Di=o?function Y_(e,t,n,o){const _=o.get(g,!1)||n===Ui.ShadowDom,B=e.selectRootElement(t,_);return function Q_(e){Vg(e)}(B),B}(Ar,o,this.componentDef.encapsulation,X):mp(Ar,Yr,function uC(e){const t=e.toLowerCase();return"svg"===t?Rc:"math"===t?"math":null}(Yr));let no=512;this.componentDef.signals?no|=4096:this.componentDef.onPush||(no|=16);let po=null;null!==Di&&(po=th(Di,X,!0));const Hi=Nm(0,null,null,1,0,null,null,null,null,null,null),ps=wp(null,Hi,null,no,null,null,_r,Ar,X,null,po);let ba,Ia;kd(ps);try{const Cl=this.componentDef;let wc,qp=null;Cl.findHostDirectiveDefs?(wc=[],qp=new Map,Cl.findHostDirectiveDefs(Cl,wc,qp),wc.push(Cl)):wc=[Cl];const cw=function fC(e,t){const n=e[Ki],o=No;return e[o]=t,Hu(n,o,2,"#host",null)}(ps,Di),hI=function hC(e,t,n,o,l,_,B){const X=l[Ki];!function pC(e,t,n,o){for(const l of e)t.mergedAttrs=an(t.mergedAttrs,l.hostAttrs);null!==t.mergedAttrs&&(Jg(t,t.mergedAttrs,!0),null!==n&&Ep(o,n,t))}(o,e,t,B);let ve=null;null!==t&&(ve=th(t,l[ha]));const pt=_.rendererFactory.createRenderer(t,n);let Xt=16;n.signals?Xt=4096:n.onPush&&(Xt=64);const In=wp(l,Ug(n),null,Xt,l[e.index],e,_,pt,null,null,ve);return X.firstCreatePass&&Li(X,e,o.length-1),Fa(l,In),l[e.index]=In}(cw,Di,Cl,wc,ps,_r,Ar);Ia=jl(Hi,No),Di&&function gC(e,t,n,o){if(o)mo(e,n,["ng-version","17.3.12"]);else{const{attrs:l,classes:_}=function Br(e){const t=[],n=[];let o=1,l=2;for(;o<e.length;){let _=e[o];if("string"==typeof _)2===l?""!==_&&t.push(_,e[++o]):8===l&&n.push(_);else{if(!$(l))break;l=_}o++}return{attrs:t,classes:n}}(t.selectors[0]);l&&mo(e,n,l),_&&_.length>0&&kg(e,n,_.join(" "))}}(Ar,Cl,Di,o),void 0!==n&&function _C(e,t,n){const o=e.projection=[];for(let l=0;l<t.length;l++){const _=n[l];o.push(null!=_?Array.from(_):null)}}(Ia,this.ngContentSelectors,n),ba=function mC(e,t,n,o,l,_){const B=uo(),X=l[Ki],ve=Ea(B,l);Je(X,l,B,n,null,o);for(let Xt=0;Xt<n.length;Xt++)ga(Zl(l,X,B.directiveStart+Xt,B),l);Er(X,l,B),ve&&ga(ve,l);const pt=Zl(l,X,B.directiveStart+B.componentOffset,B);if(e[ks]=l[ks]=pt,null!==_)for(const Xt of _)Xt(pt,t);return km(X,B,l),pt}(hI,Cl,wc,qp,ps,[vC]),ov(Hi,ps,null)}finally{ed()}return new dC(this.componentType,ba,_c(Ia,ps),ps,Ia)}finally{d(_)}}}class dC extends Xw{constructor(t,n,o,l,_){super(),this.location=o,this._rootLView=l,this._tNode=_,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Hm(l,void 0,!1),this.componentType=t}setInput(t,n){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const _=this._rootLView;iv(_[Ki],_,l,t,n),this.previousInputValues.set(t,n),Gm(Xa(this._tNode.index,_))}}get injector(){return new Ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vC(){const e=uo();Zc(Sr()[Ki],e)}let e_=(()=>{class t{}return t.__NG_ELEMENT_ID__=yC,t})();function yC(){return S0(uo(),Sr())}const bC=e_,D0=class extends bC{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new Ga(this._hostTNode,this._hostLView)}get parentInjector(){const t=Du(this._hostTNode,this._hostLView);if(Vd(t)){const n=ql(t,this._hostLView),o=eu(t);return new Ga(n[Ki].data[o+8],n)}return new Ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=T0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Da}createEmbeddedView(t,n,o){let l,_;"number"==typeof o?l=o:null!=o&&(l=o.index,_=o.injector);const B=Ap(this._lContainer,t.ssrId),X=t.createEmbeddedViewImpl(n||{},_,B);return this.insertImpl(X,l,Cp(this._hostTNode,B)),X}createComponent(t,n,o,l,_){const B=t&&!function li(e){return"function"==typeof e}(t);let X;if(B)X=n;else{const Yr=n||{};X=Yr.index,o=Yr.injector,l=Yr.projectableNodes,_=Yr.environmentInjector||Yr.ngModuleRef}const ve=B?t:new Zm(Rt(t)),pt=o||this.parentInjector;if(!_&&null==ve.ngModule){const Di=(B?pt:this.parentInjector).get(Ae,null);Di&&(_=Di)}const Xt=Rt(ve.componentType??{}),In=Ap(this._lContainer,Xt?.id??null),Ar=ve.create(pt,l,In?.firstChild??null,_);return this.insertImpl(Ar.hostView,X,Cp(this._hostTNode,In)),Ar}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,o){const l=t._lView;if(function Qu(e){return Oa(e[Ps])}(l)){const X=this.indexOf(t);if(-1!==X)this.detach(X);else{const ve=l[Ps],pt=new D0(ve,ve[Qs],ve[Ps]);pt.detach(pt.indexOf(t))}}const _=this._adjustIndex(n),B=this._lContainer;return Vm(B,l,_,o),t.attachToViewContainerRef(),Jn(yv(B),_,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=T0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=fh(this._lContainer,n);o&&(lr(yv(this._lContainer),n),gp(o[Ki],o))}detach(t){const n=this._adjustIndex(t,-1),o=fh(this._lContainer,n);return o&&null!=lr(yv(this._lContainer),n)?new Hm(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function T0(e){return e[8]}function yv(e){return e[8]||(e[8]=[])}function S0(e,t){let n;const o=t[e.index];return Oa(o)?n=o:(n=kl(o,t,null,e),t[e.index]=n,Fa(t,n)),I0(n,t,e,o),new D0(n,e,t)}let I0=function O0(e,t,n,o){if(e[Fl])return;let l;l=8&n.type?hs(o):function xC(e,t){const n=e[Wo],o=n.createComment(""),l=Ea(t,e);return Dd(n,_p(n,l),o,function H_(e,t){return e.nextSibling(t)}(n,l),!1),o}(t,n),e[Fl]=l},bv=()=>!1;class xv{constructor(t){this.queryList=t,this.matches=null}clone(){return new xv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ev{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let _=0;_<o;_++){const B=n.getByIndex(_);l.push(this.queries[B.indexInDeclarationView].clone())}return new Ev(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Dv(t,n).matches&&this.queries[n].setDirty()}}class P0{constructor(t,n,o=null){this.flags=n,this.read=o,this.predicate="string"==typeof t?function SC(e){return e.split(",").map(t=>t.trim())}(t):t}}class wv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const l=null!==n?n.length:0,_=this.getByIndex(o).embeddedTView(t,l);_&&(_.indexInDeclarationView=o,null!==n?n.push(_):n=[_])}return null!==n?new wv(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Cv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Cv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const _=o[l];this.matchTNodeWithReadOption(t,n,AC(n,_)),this.matchTNodeWithReadOption(t,n,Su(n,t,_,!1,!1))}else o===zm?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Su(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===hu||l===e_||l===zm&&4&n.type)this.addMatch(n.index,-2);else{const _=Su(n,t,l,!1,!1);null!==_&&this.addMatch(n.index,_)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function AC(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function DC(e,t,n,o){return-1===n?function MC(e,t){return 11&e.type?_c(e,t):4&e.type?$g(e,t):null}(t,e):-2===n?function TC(e,t,n){return n===hu?_c(t,e):n===zm?$g(t,e):n===e_?S0(t,e):void 0}(e,t,o):Zl(e,e[Ki],n,t)}function k0(e,t,n,o){const l=t[Wa].queries[o];if(null===l.matches){const _=e.data,B=n.matches,X=[];for(let ve=0;null!==B&&ve<B.length;ve+=2){const pt=B[ve];X.push(pt<0?null:DC(t,_[pt],B[ve+1],n.metadata.read))}l.matches=X}return l.matches}function Av(e,t,n,o){const l=e.queries.getByIndex(n),_=l.matches;if(null!==_){const B=k0(e,t,l,n);for(let X=0;X<_.length;X+=2){const ve=_[X];if(ve>0)o.push(B[X/2]);else{const pt=_[X+1],Xt=t[-ve];for(let In=Da;In<Xt.length;In++){const _r=Xt[In];_r[ou]===_r[Ps]&&Av(_r[Ki],_r,pt,o)}if(null!==Xt[cl]){const In=Xt[cl];for(let _r=0;_r<In.length;_r++){const Ar=In[_r];Av(Ar[Ki],Ar,pt,o)}}}}}return o}function Mv(e,t){return e[Wa].queries[t].queryList}function F0(e,t,n){const o=new Xd(!(4&~n));return function Z_(e,t,n,o){const l=Lm(t);l.push(n),e.firstCreatePass&&Yy(e).push(o,l.length-1)}(e,t,o,o.destroy),(t[Wa]??=new Ev).queries.push(new xv(o))-1}function B0(e,t,n){const o=wo();return o.firstCreatePass&&(L0(o,new P0(e,t,n),-1),!(2&~t)&&(o.staticViewQueries=!0)),F0(o,Sr(),t)}function L0(e,t,n){null===e.queries&&(e.queries=new wv),e.queries.track(new Cv(t,n))}function Dv(e,t){return e.queries.getByIndex(t)}function U0(e,t){const n=e[Ki],o=Dv(n,t);return o.crossesNgTemplate?Av(n,e,t,[]):k0(n,e,o,t)}function Tv(e){return"function"==typeof e&&void 0!==e[C]}function V0(e,t){$u("NgSignals");const n=function ye(e){const t=Object.create(Ln);t.value=e;const n=()=>(x(t),t.value);return n[C]=t,n}(e),o=n[C];return t?.equal&&(o.equal=t.equal),n.set=l=>yt(o,l),n.update=l=>function qt(e,t){ae()||me(),yt(e,t(e.value))}(o,l),n.asReadonly=j0.bind(n),n}function j0(){const e=this[C];if(void 0===e.readonlyFn){const t=()=>this();t[C]=e,e.readonlyFn=t}return e.readonlyFn}function G0(e){return Tv(e)&&"function"==typeof e.set}function Sv(e,t){let n;const o=ue(()=>{n._dirtyCounter();const l=function RC(e,t){const n=e._lView,o=e._queryIndex;if(void 0===n||void 0===o||4&n[bo])return t?void 0:hr;const l=Mv(n,o),_=U0(n,o);return l.reset(_,Lh),t?l.first:l._changesDetected||void 0===e._flatValue?e._flatValue=l.toArray():e._flatValue}(n,e);if(t&&void 0===l)throw new I(-951,!1);return l});return n=o[C],n._dirtyCounter=V0(0),n._flatValue=void 0,o}function K0(e,t){return function H0(){return Sv(!0,!1)}()}const PC=(K0.required=function OC(e,t){return function z0(){return Sv(!0,!0)}()},K0);function X0(e){const t=Object.create(D),n=new Wd;function o(){return x(t),Y0(t.value),t.value}return t.value=e,o[C]=t,o.asReadonly=j0.bind(o),o.set=l=>{t.equal(t.value,l)||(yt(t,l),n.emit(l))},o.update=l=>{Y0(t.value),o.set(l(t.value))},o.subscribe=n.subscribe.bind(n),o.destroyRef=n.destroyRef,o}function Y0(e){if(e===ie)throw new I(-952,!1)}function Q0(e){return X0(e)}const FC=(Q0.required=function kC(){return X0(ie)},Q0);function Iv(e){let t=function tb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let l;if(nl(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);l=t.\u0275dir}if(l){if(n){o.push(l);const B=e;B.inputs=n_(e.inputs),B.inputTransforms=n_(e.inputTransforms),B.declaredInputs=n_(e.declaredInputs),B.outputs=n_(e.outputs);const X=l.hostBindings;X&&XC(e,X);const ve=l.viewQuery,pt=l.contentQueries;if(ve&&WC(e,ve),pt&&KC(e,pt),zC(e,l),zt(e.outputs,l.outputs),nl(l)&&l.data.animation){const Xt=e.data;Xt.animation=(Xt.animation||[]).concat(l.data.animation)}}const _=l.features;if(_)for(let B=0;B<_.length;B++){const X=_[B];X&&X.ngInherit&&X(e),X===Iv&&(n=!1)}}t=Object.getPrototypeOf(t)}!function $C(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=t+=l.hostVars,l.hostAttrs=an(l.hostAttrs,n=an(n,l.hostAttrs))}}(o)}function zC(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const o=t.inputs[n];if(void 0!==o&&(e.inputs[n]=o,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const l=Array.isArray(o)?o[0]:o;if(!t.inputTransforms.hasOwnProperty(l))continue;e.inputTransforms??={},e.inputTransforms[l]=t.inputTransforms[l]}}}function n_(e){return e===qn?{}:e===hr?[]:e}function WC(e,t){const n=e.viewQuery;e.viewQuery=n?(o,l)=>{t(o,l),n(o,l)}:t}function KC(e,t){const n=e.contentQueries;e.contentQueries=n?(o,l,_)=>{t(o,l,_),n(o,l,_)}:t}function XC(e,t){const n=e.hostBindings;e.hostBindings=n?(o,l)=>{t(o,l),n(o,l)}:t}function ob(e){const t=e.inputConfig,n={};for(const o in t)if(t.hasOwnProperty(o)){const l=t[o];Array.isArray(l)&&l[3]&&(n[o]=l[3])}e.inputTransforms=n}class vh{}class sb{}function eA(e,t){return new Rv(e,t??null,[])}class Rv extends vh{constructor(t,n,o){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new A0(this);const l=or(t);this._bootstrapComponents=ao(l.bootstrap),this._r3Injector=Iu(t,n,[{provide:vh,useValue:this},{provide:Ym,useValue:this.componentFactoryResolver},...o],Zt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ov extends sb{constructor(t){super(),this.moduleType=t}create(t){return new Rv(this.moduleType,t,[])}}class ab extends vh{constructor(t){super(),this.componentFactoryResolver=new A0(this),this.instance=null;const n=new ot([...t.providers,{provide:vh,useValue:this},{provide:Ym,useValue:this.componentFactoryResolver}],t.parent||Gt(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Pv(e,t,n=null){return new ab({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Dp=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function i_(e){return!!kv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function kv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Wu(e,t,n){return e[t]=n}function tg(e,t){return e[t]}function sl(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function yh(e,t,n,o){const l=sl(e,t,n);return sl(e,t+1,o)||l}function o_(e,t,n,o,l){const _=yh(e,t,n,o);return sl(e,t+2,l)||_}function iu(e,t,n,o,l,_){const B=yh(e,t,n,o);return yh(e,t+2,l,_)||B}function Tp(e,t,n,o,l,_,B,X){const ve=Sr(),pt=wo(),Xt=e+No,In=pt.firstCreatePass?function aA(e,t,n,o,l,_,B,X,ve){const pt=t.consts,Xt=Hu(t,e,4,B||null,fl(pt,X));re(t,n,Xt,fl(pt,ve)),Zc(t,Xt);const In=Xt.tView=Nm(2,Xt,o,l,_,t.directiveRegistry,t.pipeRegistry,null,t.schemas,pt,null);return null!==t.queries&&(t.queries.template(t,Xt),In.queries=t.queries.embeddedTView(Xt)),Xt}(Xt,pt,ve,t,n,o,l,_,B):pt.data[Xt];Us(In,!1);const _r=lb(pt,ve,In,e);Jc()&&bp(pt,ve,_r,In),ga(_r,ve);const Ar=kl(_r,ve,_r,In);return ve[Xt]=Ar,Fa(ve,Ar),function R0(e,t,n){return bv(e,t,n)}(Ar,In,ve),_s(In)&&Fm(pt,ve,In),null!=B&&Bm(ve,In,X),Tp}let lb=function cb(e,t,n,o){return Va(!0),t[Wo].createComment("")};function zv(e,t,n,o){const l=Sr();return sl(l,bl(),t)&&(wo(),function $o(e,t,n,o,l,_){const B=Ea(e,t);Zs(t[Wo],B,_,e.value,n,o,l)}(qs(),l,e,t,n,o)),zv}function Bp(e,t,n,o){return sl(e,bl(),n)?t+un(n)+o:Ns}function d_(e,t){return e<<17|t<<2}function yf(e){return e>>17&32767}function $v(e){return 2|e}function xh(e){return(131068&e)>>2}function Wv(e,t){return-131069&e|t<<2}function Kv(e){return 1|e}function Vb(e,t,n,o){const l=e[n+1],_=null===t;let B=o?yf(l):xh(l),X=!1;for(;0!==B&&(!1===X||_);){const pt=e[B+1];KA(e[B],t)&&(X=!0,e[B+1]=o?Kv(pt):$v(pt)),B=o?yf(pt):xh(pt)}X&&(e[n+1]=o?$v(l):Kv(l))}function KA(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&je(e,t)>=0}const El={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jb(e){return e.substring(El.key,El.keyEnd)}function XA(e){return e.substring(El.value,El.valueEnd)}function Gb(e,t){const n=El.textEnd;return n===t?-1:(t=El.keyEnd=function qA(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,El.key=t,n),zp(e,t,n))}function Hb(e,t){const n=El.textEnd;let o=El.key=zp(e,t,n);return n===o?-1:(o=El.keyEnd=function JA(e,t,n){let o;for(;t<n&&(45===(o=e.charCodeAt(t))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)t++;return t}(e,o,n),o=$b(e,o,n),o=El.value=zp(e,o,n),o=El.valueEnd=function ZA(e,t,n){let o=-1,l=-1,_=-1,B=t,X=B;for(;B<n;){const ve=e.charCodeAt(B++);if(59===ve)return X;34===ve||39===ve?X=B=Wb(e,ve,B,n):t===B-4&&85===_&&82===l&&76===o&&40===ve?X=B=Wb(e,41,B,n):ve>32&&(X=B),_=l,l=o,o=-33&ve}return X}(e,o,n),$b(e,o,n))}function zb(e){El.key=0,El.keyEnd=0,El.value=0,El.valueEnd=0,El.textEnd=e.length}function zp(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function $b(e,t,n,o){return(t=zp(e,t,n))<n&&t++,t}function Wb(e,t,n,o){let l=-1,_=n;for(;_<o;){const B=e.charCodeAt(_++);if(B==t&&92!==l)return _;l=92==B&&92===l?0:B}throw new Error}function Xv(e,t,n){const o=Sr();return sl(o,bl(),t)&&Wl(wo(),qs(),o,e,t,o[Wo],n,!1),Xv}function Yv(e,t,n,o,l){const B=l?"class":"style";iv(e,n,t.inputs[B],B,o)}function Qv(e,t,n){return yu(e,t,n,!1),Qv}function qv(e,t){return yu(e,t,null,!0),qv}function vu(e){bu(Qb,eM,e,!1)}function eM(e,t){for(let n=function QA(e){return zb(e),Hb(e,zp(e,0,El.textEnd))}(t);n>=0;n=Hb(t,n))Qb(e,jb(t),XA(t))}function Kb(e){bu(sM,Ku,e,!0)}function Ku(e,t){for(let n=function YA(e){return zb(e),Gb(e,zp(e,0,El.textEnd))}(t);n>=0;n=Gb(t,n))jt(e,jb(t),!0)}function yu(e,t,n,o){const l=Sr(),_=wo(),B=Ql(2);_.firstUpdatePass&&Yb(_,e,B,o),t!==Ns&&sl(l,B,t)&&qb(_,_.data[Ra()],l,l[Wo],e,l[B+1]=function lM(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Zt(vn(e)))),e}(t,n),o,B)}function bu(e,t,n,o){const l=wo(),_=Ql(2);l.firstUpdatePass&&Yb(l,null,_,o);const B=Sr();if(n!==Ns&&sl(B,_,n)){const X=l.data[Ra()];if(Zb(X,o)&&!Xb(l,_)){let ve=o?X.classesWithoutHost:X.stylesWithoutHost;null!==ve&&(n=Cn(ve,n||"")),Yv(l,X,B,n,o)}else!function aM(e,t,n,o,l,_,B,X){l===Ns&&(l=hr);let ve=0,pt=0,Xt=0<l.length?l[0]:null,In=0<_.length?_[0]:null;for(;null!==Xt||null!==In;){const _r=ve<l.length?l[ve+1]:void 0,Ar=pt<_.length?_[pt+1]:void 0;let Di,Yr=null;Xt===In?(ve+=2,pt+=2,_r!==Ar&&(Yr=In,Di=Ar)):null===In||null!==Xt&&Xt<In?(ve+=2,Yr=Xt):(pt+=2,Yr=In,Di=Ar),null!==Yr&&qb(e,t,n,o,Yr,Di,B,X),Xt=ve<l.length?l[ve]:null,In=pt<_.length?_[pt]:null}}(l,X,B,B[Wo],B[_+1],B[_+1]=function oM(e,t,n){if(null==n||""===n)return hr;const o=[],l=vn(n);if(Array.isArray(l))for(let _=0;_<l.length;_++)e(o,l[_],!0);else if("object"==typeof l)for(const _ in l)l.hasOwnProperty(_)&&e(o,_,l[_]);else"string"==typeof l&&t(o,l);return o}(e,t,n),o,_)}}function Xb(e,t){return t>=e.expandoStartIndex}function Yb(e,t,n,o){const l=e.data;if(null===l[n+1]){const _=l[Ra()],B=Xb(e,n);Zb(_,o)&&null===t&&!B&&(t=!1),t=function tM(e,t,n,o){const l=Od(e);let _=o?t.residualClasses:t.residualStyles;if(null===l)0===(o?t.classBindings:t.styleBindings)&&(n=sg(n=Jv(null,e,t,n,o),t.attrs,o),_=null);else{const B=t.directiveStylingLast;if(-1===B||e[B]!==l)if(n=Jv(l,e,t,n,o),null===_){let ve=function nM(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==xh(o))return e[yf(o)]}(e,t,o);void 0!==ve&&Array.isArray(ve)&&(ve=Jv(null,e,t,ve[1],o),ve=sg(ve,t.attrs,o),function rM(e,t,n,o){e[yf(n?t.classBindings:t.styleBindings)]=o}(e,t,o,ve))}else _=function iM(e,t,n){let o;const l=t.directiveEnd;for(let _=1+t.directiveStylingLast;_<l;_++)o=sg(o,e[_].hostAttrs,n);return sg(o,t.attrs,n)}(e,t,o)}return void 0!==_&&(o?t.residualClasses=_:t.residualStyles=_),n}(l,_,t,o),function $A(e,t,n,o,l,_){let B=_?t.classBindings:t.styleBindings,X=yf(B),ve=xh(B);e[o]=n;let Xt,pt=!1;if(Array.isArray(n)?(Xt=n[1],(null===Xt||je(n,Xt)>0)&&(pt=!0)):Xt=n,l)if(0!==ve){const _r=yf(e[X+1]);e[o+1]=d_(_r,X),0!==_r&&(e[_r+1]=Wv(e[_r+1],o)),e[X+1]=function HA(e,t){return 131071&e|t<<17}(e[X+1],o)}else e[o+1]=d_(X,0),0!==X&&(e[X+1]=Wv(e[X+1],o)),X=o;else e[o+1]=d_(ve,0),0===X?X=o:e[ve+1]=Wv(e[ve+1],o),ve=o;pt&&(e[o+1]=$v(e[o+1])),Vb(e,Xt,o,!0),Vb(e,Xt,o,!1),function WA(e,t,n,o,l){const _=l?e.residualClasses:e.residualStyles;null!=_&&"string"==typeof t&&je(_,t)>=0&&(n[o+1]=Kv(n[o+1]))}(t,Xt,e,o,_),B=d_(X,ve),_?t.classBindings=B:t.styleBindings=B}(l,_,t,n,B,o)}}function Jv(e,t,n,o,l){let _=null;const B=n.directiveEnd;let X=n.directiveStylingLast;for(-1===X?X=n.directiveStart:X++;X<B&&(_=t[X],o=sg(o,_.hostAttrs,l),_!==e);)X++;return null!==e&&(n.directiveStylingLast=X),o}function sg(e,t,n){const o=n?1:2;let l=-1;if(null!==t)for(let _=0;_<t.length;_++){const B=t[_];"number"==typeof B?l=B:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),jt(e,B,!!n||t[++_]))}return void 0===e?null:e}function Qb(e,t,n){jt(e,t,vn(n))}function sM(e,t,n){const o=String(t);""!==o&&!o.includes(" ")&&jt(e,o,n)}function qb(e,t,n,o,l,_,B,X){if(!(3&t.type))return;const ve=e.data,pt=ve[X+1],Xt=function zA(e){return!(1&~e)}(pt)?Jb(ve,t,n,l,xh(pt),B):void 0;f_(Xt)||(f_(_)||function GA(e){return!(2&~e)}(pt)&&(_=Jb(ve,null,n,l,X,B)),function W_(e,t,n,o,l){if(t)l?e.addClass(n,o):e.removeClass(n,o);else{let _=-1===o.indexOf("-")?void 0:pl.DashCase;null==l?e.removeStyle(n,o,_):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),_|=pl.Important),e.setStyle(n,o,l,_))}}(o,B,Pc(Ra(),n),l,_))}function Jb(e,t,n,o,l,_){const B=null===t;let X;for(;l>0;){const ve=e[l],pt=Array.isArray(ve),Xt=pt?ve[1]:ve,In=null===Xt;let _r=n[l+1];_r===Ns&&(_r=In?hr:void 0);let Ar=In?cn(_r,o):Xt===o?_r:void 0;if(pt&&!f_(Ar)&&(Ar=cn(ve,o)),f_(Ar)&&(X=Ar,B))return X;const Yr=e[l+1];l=B?yf(Yr):xh(Yr)}if(null!==t){let ve=_?t.residualClasses:t.residualStyles;null!=ve&&(X=cn(ve,o))}return X}function f_(e){return void 0!==e}function Zb(e,t){return!!(e.flags&(t?8:16))}function ex(e,t,n){bu(jt,Ku,Bp(Sr(),e,t,n),!0)}class vM{destroy(t){}updateValue(t,n){}swap(t,n){const o=Math.min(t,n),l=Math.max(t,n),_=this.detach(l);if(l-o>1){const B=this.detach(o);this.attach(o,_),this.attach(l,B)}else this.attach(o,_)}move(t,n){this.attach(n,this.detach(t))}}function Zv(e,t,n,o,l){return e===n&&Object.is(t,o)?1:Object.is(l(e,t),l(n,o))?-1:0}function ey(e,t,n,o){return!(void 0===t||!t.has(o)||(e.attach(n,t.get(o)),t.delete(o),0))}function tx(e,t,n,o,l){if(ey(e,t,o,n(o,l)))e.updateValue(o,l);else{const _=e.create(o,l);e.attach(o,_)}}function nx(e,t,n,o){const l=new Set;for(let _=t;_<=n;_++)l.add(o(_,e.at(_)));return l}class rx{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let o=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(o);)o=l.get(o);l.set(o,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,o]of this.kvMap)if(t(o,n),void 0!==this._vMap){const l=this._vMap;for(;l.has(o);)o=l.get(o),t(o,n)}}}function ix(e,t,n){$u("NgControlFlow");const o=Sr(),l=bl(),_=ty(o,No+e);if(sl(o,l,t)){const X=d(null);try{if(sv(_,0),-1!==t){const ve=ny(o[Ki],No+t),pt=Ap(_,ve.tView.ssrId);Vm(_,Um(o,ve,n,{dehydratedView:pt}),0,Cp(ve,pt))}}finally{d(X)}}else{const X=qy(_,0);void 0!==X&&(X[ks]=n)}}class bM{constructor(t,n,o){this.lContainer=t,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-Da}}function ox(e){return e}function sx(e,t){return t}class xM{constructor(t,n,o){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=o}}function ax(e,t,n,o,l,_,B,X,ve,pt,Xt,In,_r){$u("NgControlFlow");const Ar=void 0!==ve,Yr=Sr(),Di=X?B.bind(Yr[Aa][ks]):B,no=new xM(Ar,Di);Yr[No+e]=no,Tp(e+1,t,n,o,l,_),Ar&&Tp(e+2,ve,pt,Xt,In,_r)}class EM extends vM{constructor(t,n,o){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=o,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Da}at(t){return this.getLView(t)[ks].$implicit}attach(t,n){const o=n[fa];this.needsIndexUpdate||=t!==this.length,Vm(this.lContainer,n,t,Cp(this.templateTNode,o))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function wM(e,t){return fh(e,t)}(this.lContainer,t)}create(t,n){const o=Ap(this.lContainer,this.templateTNode.tView.ssrId);return Um(this.hostLView,this.templateTNode,new bM(this.lContainer,n,t),{dehydratedView:o})}destroy(t){gp(t[Ki],t)}updateValue(t,n){this.getLView(t)[ks].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ks].$index=t}getLView(t){return function CM(e,t){return qy(e,t)}(this.lContainer,t)}}function lx(e){const t=d(null),n=Ra();try{const o=Sr(),l=o[Ki],_=o[n];if(void 0===_.liveCollection){const X=n+1,ve=ty(o,X),pt=ny(l,X);_.liveCollection=new EM(ve,o,pt)}else _.liveCollection.reset();const B=_.liveCollection;if(function yM(e,t,n){let o,l,_=0,B=e.length-1;if(Array.isArray(t)){let X=t.length-1;for(;_<=B&&_<=X;){const ve=e.at(_),pt=t[_],Xt=Zv(_,ve,_,pt,n);if(0!==Xt){Xt<0&&e.updateValue(_,pt),_++;continue}const In=e.at(B),_r=t[X],Ar=Zv(B,In,X,_r,n);if(0!==Ar){Ar<0&&e.updateValue(B,_r),B--,X--;continue}const Yr=n(_,ve),Di=n(B,In),no=n(_,pt);if(Object.is(no,Di)){const po=n(X,_r);Object.is(po,Yr)?(e.swap(_,B),e.updateValue(B,_r),X--,B--):e.move(B,_),e.updateValue(_,pt),_++}else if(o??=new rx,l??=nx(e,_,B,n),ey(e,o,_,no))e.updateValue(_,pt),_++,B++;else if(l.has(no))o.set(Yr,e.detach(_)),B--;else{const po=e.create(_,t[_]);e.attach(_,po),_++,B++}}for(;_<=X;)tx(e,o,n,_,t[_]),_++}else if(null!=t){const X=t[Symbol.iterator]();let ve=X.next();for(;!ve.done&&_<=B;){const pt=e.at(_),Xt=ve.value,In=Zv(_,pt,_,Xt,n);if(0!==In)In<0&&e.updateValue(_,Xt),_++,ve=X.next();else{o??=new rx,l??=nx(e,_,B,n);const _r=n(_,Xt);if(ey(e,o,_,_r))e.updateValue(_,Xt),_++,B++,ve=X.next();else if(l.has(_r)){const Ar=n(_,pt);o.set(Ar,e.detach(_)),B--}else e.attach(_,e.create(_,Xt)),_++,B++,ve=X.next()}}for(;!ve.done;)tx(e,o,n,e.length,ve.value),ve=X.next()}for(;_<=B;)e.destroy(e.detach(B--));o?.forEach(X=>{e.destroy(X)})}(B,e,_.trackByFn),B.updateIndexes(),_.hasEmptyBlock){const X=bl(),ve=0===B.length;if(sl(o,X,ve)){const pt=n+2,Xt=ty(o,pt);if(ve){const In=ny(l,pt),_r=Ap(Xt,In.tView.ssrId);Vm(Xt,Um(o,In,void 0,{dehydratedView:_r}),0,Cp(In,_r))}else sv(Xt,0)}}}finally{d(t)}}function ty(e,t){return e[t]}function ny(e,t){return jl(e,t)}function h_(e,t,n,o){const l=Sr(),_=wo(),B=No+e,X=l[Wo],ve=_.firstCreatePass?function AM(e,t,n,o,l,_){const B=t.consts,ve=Hu(t,e,2,o,fl(B,l));return re(t,n,ve,fl(B,_)),null!==ve.attrs&&Jg(ve,ve.attrs,!1),null!==ve.mergedAttrs&&Jg(ve,ve.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,ve),ve}(B,_,l,t,n,o):_.data[B],pt=cx(_,l,ve,X,t,e);l[B]=pt;const Xt=_s(ve);return Us(ve,!0),Ep(X,pt,ve),!function ng(e){return!(32&~e.flags)}(ve)&&Jc()&&bp(_,l,pt,ve),0===function Zr(){return Gn.lFrame.elementDepthCount}()&&ga(pt,l),function ii(){Gn.lFrame.elementDepthCount++}(),Xt&&(Fm(_,l,ve),km(_,ve,l)),null!==o&&Bm(l,ve),h_}function p_(){let e=uo();is()?rl():(e=e.parent,Us(e,!1));const t=e;(function xo(e){return Gn.skipHydrationRootTNode===e})(t)&&function Bo(){Gn.skipHydrationRootTNode=null}(),function mi(){Gn.lFrame.elementDepthCount--}();const n=wo();return n.firstCreatePass&&(Zc(n,e),Dl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Au(e){return!!(8&e.flags)}(t)&&Yv(n,t,Sr(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Mu(e){return!!(16&e.flags)}(t)&&Yv(n,t,Sr(),t.stylesWithoutHost,!1),p_}function ry(e,t,n,o){return h_(e,t,n,o),p_(),ry}let cx=(e,t,n,o,l,_)=>(Va(!0),mp(o,l,function Ch(){return Gn.lFrame.currentNamespace}()));function m_(e,t,n){const o=Sr(),l=wo(),_=e+No,B=l.firstCreatePass?function TM(e,t,n,o,l){const _=t.consts,B=fl(_,o),X=Hu(t,e,8,"ng-container",B);return null!==B&&Jg(X,B,!0),re(t,n,X,fl(_,l)),null!==t.queries&&t.queries.elementStart(t,X),X}(_,l,o,t,n):l.data[_];Us(B,!0);const X=ux(l,o,B,e);return o[_]=X,Jc()&&bp(l,o,X,B),ga(X,o),_s(B)&&(Fm(l,o,B),km(l,B,o)),null!=n&&Bm(o,B),m_}function g_(){let e=uo();const t=wo();return is()?rl():(e=e.parent,Us(e,!1)),t.firstCreatePass&&(Zc(t,e),Dl(e)&&t.queries.elementEnd(e)),g_}function iy(e,t,n){return m_(e,t,n),g_(),iy}let ux=(e,t,n,o)=>(Va(!0),Dm(t[Wo],""));function dx(){return Sr()}function oy(e,t,n){const o=Sr();return sl(o,bl(),t)&&Wl(wo(),qs(),o,e,t,o[Wo],n,!0),oy}function sy(e,t,n){const o=Sr();if(sl(o,bl(),t)){const _=wo(),B=qs();Wl(_,B,o,e,t,Qy(Od(_.data),B,o),n,!0)}return sy}const Eh=void 0;var OM=["en",[["a","p"],["AM","PM"],Eh],[["AM","PM"],Eh,Eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eh,"{1} 'at' {0}",Eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RM(e){const n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===o?1:5}];let $p={};function PM(e,t,n){"string"!=typeof t&&(n=t,t=e[Wp.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),$p[t]=e,n&&($p[t][Wp.ExtraData]=n)}function ay(e){const t=function kM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=hx(t);if(n)return n;const o=t.split("-")[0];if(n=hx(o),n)return n;if("en"===o)return OM;throw new I(701,!1)}function fx(e){return ay(e)[Wp.PluralCase]}function hx(e){return e in $p||($p[e]=st.ng&&st.ng.common&&st.ng.common.locales&&st.ng.common.locales[e]),$p[e]}var Wp=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Wp||{});const FM=["zero","one","two","few","many"],Kp="en-US",__={marker:"element"},v_={marker:"ICU"};var Ec=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Ec||{});let px=Kp;function gx(e,t,n){const o=t.insertBeforeIndex,l=Array.isArray(o)?o[0]:o;return null===l?vp(e,0,n):hs(n[l])}function _x(e,t,n,o,l){const _=t.insertBeforeIndex;if(Array.isArray(_)){let B=o,X=null;if(3&t.type||(X=B,B=l),null!==B&&-1===t.componentOffset)for(let ve=1;ve<_.length;ve++)Dd(e,B,n[_[ve]],X,!1)}}function vx(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const o=e[n];yx(o)||UM(o,t)&&null===VM(o)&&jM(o,t.index)}}function yx(e){return!(64&e.type)}function UM(e,t){return yx(t)||e.index>t.index}function VM(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function jM(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Rg(gx,_x),e.insertBeforeIndex=t)}function ag(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function zM(e,t,n){const o=mh(e,n,64,null,null);return vx(t,o),o}function y_(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function bx(e){return e>>>17}function xx(e){return(131070&e)>>>1}let lg=0,cg=0;let ug=(e,t,n,o)=>(Va(!0),function wx(e,t,n){const o=e[Wo];switch(n){case Node.COMMENT_NODE:return Dm(o,t);case Node.TEXT_NODE:return pp(o,t);case Node.ELEMENT_NODE:return mp(o,t,null)}}(e,n,o));function Cx(e,t,n,o){const l=n[Wo];let B,_=null;for(let X=0;X<t.length;X++){const ve=t[X];if("string"==typeof ve){const pt=t[++X];null===n[pt]&&(n[pt]=ug(n,pt,ve,Node.TEXT_NODE))}else if("number"==typeof ve)switch(1&ve){case 0:const pt=bx(ve);let Xt,In;if(null===_&&(_=pt,B=_p(l,o)),pt===_?(Xt=o,In=B):(Xt=null,In=hs(n[pt])),null!==In){const Di=xx(ve);Dd(l,In,n[Di],Xt,!1);const po=ag(e,Di);if(null!==po&&"object"==typeof po){const Hi=y_(po,n);null!==Hi&&Cx(e,po.create[Hi],n,n[po.anchorIdx])}}break;case 1:const Ar=t[++X],Yr=t[++X];Zs(l,Pc(ve>>>1,n),null,null,Ar,Yr,null)}else switch(ve){case v_:const pt=t[++X],Xt=t[++X];null===n[Xt]&&ga(n[Xt]=ug(n,Xt,pt,Node.COMMENT_NODE),n);break;case __:const In=t[++X],_r=t[++X];null===n[_r]&&ga(n[_r]=ug(n,_r,In,Node.ELEMENT_NODE),n)}}}function Ax(e,t,n,o,l){for(let _=0;_<n.length;_++){const B=n[_],X=n[++_];if(B&l){let ve="";for(let pt=_+1;pt<=_+X;pt++){const Xt=n[pt];if("string"==typeof Xt)ve+=Xt;else if("number"==typeof Xt)if(Xt<0)ve+=un(t[o-Xt]);else{const In=Xt>>>2;switch(3&Xt){case 1:const _r=n[++pt],Ar=n[++pt],Yr=e.data[In];"string"==typeof Yr?Zs(t[Wo],t[In],null,Yr,_r,ve,Ar):Wl(e,Yr,t,_r,ve,t[Wo],Ar,!1);break;case 0:const Di=t[In];null!==Di&&Cg(t[Wo],Di,ve);break;case 2:qM(e,ag(e,In),t,ve);break;case 3:Mx(e,ag(e,In),o,t)}}}}else{const ve=n[_+1];if(ve>0&&!(3&~ve)){const Xt=ag(e,ve>>>2);t[Xt.currentCaseLViewIndex]<0&&Mx(e,Xt,o,t)}}_+=X}}function Mx(e,t,n,o){let l=o[t.currentCaseLViewIndex];if(null!==l){let _=lg;l<0&&(l=o[t.currentCaseLViewIndex]=~l,_=-1),Ax(e,o,t.update[l],n,_)}}function qM(e,t,n,o){const l=function JM(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const o=function BM(e,t){const n=fx(t)(parseInt(e,10)),o=FM[n];return void 0!==o?o:"other"}(t,function LM(){return px}());n=e.cases.indexOf(o),-1===n&&"other"!==o&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,o);if(y_(t,n)!==l&&(Dx(e,t,n),n[t.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const B=n[t.anchorIdx];B&&Cx(e,t.create[l],n,B)}}function Dx(e,t,n){let o=y_(t,n);if(null!==o){const l=t.remove[o];for(let _=0;_<l.length;_++){const B=l[_];if(B>0){const X=Pc(B,n);null!==X&&ph(n[Wo],X)}else Dx(e,ag(e,~B),n)}}}function ZM(){const e=[];let n,o,t=-1;function _(X,ve){t=0;const pt=y_(X,ve);o=null!==pt?X.remove[pt]:hr}function B(){if(t<o.length){const X=o[t++];return X>0?n[X]:(e.push(t,o),_(n[Ki].data[~X],n),B())}return 0===e.length?null:(o=e.pop(),t=e.pop(),B())}return function l(X,ve){for(n=ve;e.length;)e.pop();return _(X.value,ve),B}}const b_=/\ufffd(\d+):?\d*\ufffd/gi,tD=/\ufffd(\d+)\ufffd/,Sx=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,dg="\ufffd",nD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,rD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,iD=/\uE500/g;function Ix(e,t,n,o,l,_,B){const X=gh(e,o,1,null);let ve=X<<Ec.SHIFT,pt=aa();t===pt&&(pt=null),null===pt&&(ve|=Ec.APPEND_EAGERLY),B&&(ve|=Ec.COMMENT,function sc(e){void 0===Ol&&(Ol=e())}(ZM)),l.push(ve,null===_?"":_);const Xt=mh(e,X,B?32:1,null===_?"":_,null);vx(n,Xt);const In=Xt.index;return Us(Xt,!1),null!==pt&&t!==pt&&function HM(e,t){let n=e.insertBeforeIndex;null===n?(Rg(gx,_x),n=e.insertBeforeIndex=[null,t]):(Yt(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(pt,In),Xt}function aD(e,t,n,o,l,_,B,X){const ve=X.match(b_),Xt=Ix(t,n,o,B,l,ve?null:X,!1).index;ve&&fg(_,X,Xt,null,0,null),e.push({kind:0,index:Xt})}function fg(e,t,n,o,l,_){const B=e.length,X=B+1;e.push(null,null);const ve=B+2,pt=t.split(b_);let Xt=0;for(let In=0;In<pt.length;In++){const _r=pt[In];if(1&In){const Ar=l+parseInt(_r,10);e.push(-1-Ar),Xt|=Rx(Ar)}else""!==_r&&e.push(_r)}return e.push(n<<2|(o?1:0)),o&&e.push(o,_),e[B]=Xt,e[X]=e.length-ve,Xt}function Rx(e){return 1<<Math.min(e,31)}function Ox(e){let t,_,n="",o=0,l=!1;for(;null!==(t=nD.exec(e));)l?t[0]===`${dg}/*${_}${dg}`&&(o=t.index,l=!1):(n+=e.substring(o,t.index+t[0].length),_=t[1],l=!0);return n+=e.slice(o),n}function Px(e,t,n,o,l,_,B){let X=0;const ve={type:_.type,currentCaseLViewIndex:gh(t,n,1,null),anchorIdx:B,cases:[],create:[],remove:[],update:[]};(function mD(e,t,n){e.push(Rx(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(o,_,B),function GM(e,t,n){const o=e.data[t];null===o?e.data[t]=n:o.value=n}(t,B,ve);const pt=_.values,Xt=[];for(let In=0;In<pt.length;In++){const _r=pt[In],Ar=[];for(let Di=0;Di<_r.length;Di++){const no=_r[Di];if("string"!=typeof no){const po=Ar.push(no)-1;_r[Di]=`\x3c!--\ufffd${po}\ufffd--\x3e`}}const Yr=[];Xt.push(Yr),X=hD(Yr,t,ve,n,o,l,_.cases[In],_r.join(""),Ar)|X}X&&function gD(e,t,n){e.push(t,1,n<<2|3)}(o,X,B),e.push({kind:3,index:B,cases:Xt,currentCaseLViewIndex:ve.currentCaseLViewIndex})}function fD(e){const t=[],n=[];let o=1,l=0;const _=ly(e=e.replace(Sx,function(B,X,ve){return o="select"===ve?0:1,l=parseInt(X.slice(1),10),""}));for(let B=0;B<_.length;){let X=_[B++].trim();1===o&&(X=X.replace(/\s*(?:=)?(\w+)\s*/,"$1")),X.length&&t.push(X);const ve=ly(_[B++]);t.length>n.length&&n.push(ve)}return{type:o,mainBinding:l,cases:t,values:n}}function ly(e){if(!e)return[];let t=0;const n=[],o=[],l=/[{}]/g;let _;for(l.lastIndex=0;_=l.exec(e);){const X=_.index;if("}"==_[0]){if(n.pop(),0==n.length){const ve=e.substring(t,X);Sx.test(ve)?o.push(fD(ve)):o.push(ve),t=X+1}}else{if(0==n.length){const ve=e.substring(t,X);o.push(ve),t=X+1}n.push("{")}}const B=e.substring(t);return o.push(B),o}function hD(e,t,n,o,l,_,B,X,ve){const pt=[],Xt=[],In=[];n.cases.push(B),n.create.push(pt),n.remove.push(Xt),n.update.push(In);const Ar=Fr(zc()).getInertBodyElement(X),Yr=Ed(Ar)||Ar;return Yr?kx(e,t,n,o,l,pt,Xt,In,Yr,_,ve,0):0}function kx(e,t,n,o,l,_,B,X,ve,pt,Xt,In){let _r=0,Ar=ve.firstChild;for(;Ar;){const Yr=gh(t,o,1,null);switch(Ar.nodeType){case Node.ELEMENT_NODE:const Di=Ar,no=Di.tagName.toLowerCase();if(ca.hasOwnProperty(no)){cy(_,__,no,pt,Yr),t.data[Yr]=no;const ba=Di.attributes;for(let Cl=0;Cl<ba.length;Cl++){const wc=ba.item(Cl),qp=wc.name.toLowerCase();wc.value.match(b_)?ka.hasOwnProperty(qp)&&fg(X,wc.value,Yr,wc.name,0,Js[qp]?bi:null):_D(_,Yr,wc)}const Ia={kind:1,index:Yr,children:[]};e.push(Ia),_r=kx(Ia.children,t,n,o,l,_,B,X,Ar,Yr,Xt,In+1)|_r,Fx(B,Yr,In)}break;case Node.TEXT_NODE:const po=Ar.textContent||"",Hi=po.match(b_);cy(_,null,Hi?"":po,pt,Yr),Fx(B,Yr,In),Hi&&(_r=fg(X,po,Yr,null,0,null)|_r),e.push({kind:0,index:Yr});break;case Node.COMMENT_NODE:const ps=tD.exec(Ar.textContent||"");if(ps){const Ia=Xt[parseInt(ps[1],10)];cy(_,v_,"",pt,Yr),Px(e,t,o,l,pt,Ia,Yr),pD(B,Yr,In)}}Ar=Ar.nextSibling}return _r}function Fx(e,t,n){0===n&&e.push(t)}function pD(e,t,n){0===n&&(e.push(~t),e.push(t))}function cy(e,t,n,o,l){null!==t&&e.push(t),e.push(n,l,function $M(e,t,n){return e|t<<17|n<<1}(0,o,l))}function _D(e,t,n){e.push(t<<1|1,n.name,n.value)}const Bx=0,vD=/\[(\ufffd.+?\ufffd?)\]/,yD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,bD=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,xD=/{([A-Z0-9_]+)}/g,ED=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,wD=/\/\*/,CD=/\d+\:(\d+)/;function uy(e,t,n=-1){const o=wo(),l=Sr(),_=No+e,B=fl(o.consts,t),X=aa();o.firstCreatePass&&function sD(e,t,n,o,l,_){const B=aa(),X=[],ve=[],pt=[[]],Xt=[[]];l=function dD(e,t){if(function uD(e){return-1===e}(t))return Ox(e);{const n=e.indexOf(`:${t}${dg}`)+2+t.toString().length,o=e.search(new RegExp(`${dg}\\/\\*\\d+:${t}${dg}`));return Ox(e.substring(n,o))}}(l,_);const In=function oD(e){return e.replace(iD," ")}(l).split(rD);for(let _r=0;_r<In.length;_r++){let Ar=In[_r];if(1&_r){const Yr=47===Ar.charCodeAt(0),Di=Ar.charCodeAt(Yr?1:0),no=No+Number.parseInt(Ar.substring(Yr?2:1));if(Yr)pt.shift(),Xt.shift(),Us(aa(),!1);else{const po=zM(e,pt[0],no);pt.unshift([]),Us(po,!0);const Hi={kind:2,index:no,children:[],type:35===Di?0:1};Xt[0].push(Hi),Xt.unshift(Hi.children)}}else{const Yr=ly(Ar);for(let Di=0;Di<Yr.length;Di++){let no=Yr[Di];if(1&Di){const po=no;if("object"!=typeof po)throw new Error(`Unable to parse ICU expression in "${l}" message.`);const ps=Ix(e,B,pt[0],n,X,"",!0).index;Px(Xt[0],e,n,ve,t,po,ps)}else""!==no&&aD(Xt[0],e,B,pt[0],X,ve,n,no)}}}e.data[o]={create:X,update:ve,ast:Xt[0]}}(o,null===X?0:X.index,l,_,B,n),2===o.type?l[Aa][bo]|=32:l[bo]|=32;const ve=o.data[_],Xt=Dg(o,X===l[Qs]?null:X,l);(function QM(e,t,n,o){const l=e[Wo];for(let _=0;_<t.length;_++){const B=t[_++],pt=(B&Ec.APPEND_EAGERLY)===Ec.APPEND_EAGERLY,Xt=B>>>Ec.SHIFT;let In=e[Xt],_r=!1;null===In&&(In=e[Xt]=ug(e,Xt,t[_],(B&Ec.COMMENT)===Ec.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),_r=Jc()),pt&&null!==n&&_r&&Dd(l,n,In,o,!1)}})(l,ve.create,Xt,X&&8&X.type?l[X.index]:null),Bl(!0)}function dy(){Bl(!1)}function Nx(e,t,n){uy(e,t,n),dy()}function fy(e){return function WM(e){e&&(lg|=1<<Math.min(cg,31)),cg++}(sl(Sr(),bl(),e)),fy}function Lx(e){!function KM(e,t,n){if(cg>0){const o=e.data[n];Ax(e,t,Array.isArray(o)?o:o.update,fc()-cg-1,lg)}lg=0,cg=0}(wo(),Sr(),e+No)}function Ux(e,t={}){return function AD(e,t={}){let n=e;if(vD.test(e)){const o={},l=[Bx];n=n.replace(yD,(_,B,X)=>{const ve=B||X,pt=o[ve]||[];if(pt.length||(ve.split("|").forEach(Di=>{const no=Di.match(CD),po=no?parseInt(no[1],10):Bx,Hi=wD.test(Di);pt.push([po,Hi,Di])}),o[ve]=pt),!pt.length)throw new Error(`i18n postprocess: unmatched placeholder - ${ve}`);const Xt=l[l.length-1];let In=0;for(let Di=0;Di<pt.length;Di++)if(pt[Di][0]===Xt){In=Di;break}const[_r,Ar,Yr]=pt[In];return Ar?l.pop():Xt!==_r&&l.push(_r),pt.splice(In,1),Yr})}return Object.keys(t).length&&(n=n.replace(bD,(o,l,_,B,X,ve)=>t.hasOwnProperty(_)?`${l}${t[_]}${ve}`:o),n=n.replace(xD,(o,l)=>t.hasOwnProperty(l)?t[l]:o),n=n.replace(ED,(o,l)=>{if(t.hasOwnProperty(l)){const _=t[l];if(!_.length)throw new Error(`i18n postprocess: unmatched ICU - ${o} with key: ${l}`);return _.shift()}return o})),n}(e,t)}function hy(e,t,n,o){const l=Sr(),_=wo(),B=uo();return my(_,l,l[Wo],B,e,t,o),hy}function py(e,t){const n=uo(),o=Sr(),l=wo();return my(l,o,Qy(Od(l.data),n,o),n,e,t),py}function my(e,t,n,o,l,_,B){const X=_s(o),pt=e.firstCreatePass&&Yy(e),Xt=t[ks],In=Lm(t);let _r=!0;if(3&o.type||B){const Di=Ea(o,t),no=B?B(Di):Di,po=In.length,Hi=B?ba=>B(hs(ba[o.index])):o.index;let ps=null;if(!B&&X&&(ps=function DD(e,t,n,o){const l=e.cleanup;if(null!=l)for(let _=0;_<l.length-1;_+=2){const B=l[_];if(B===n&&l[_+1]===o){const X=t[Ua],ve=l[_+2];return X.length>ve?X[ve]:null}"string"==typeof B&&(_+=2)}return null}(e,t,l,o.index)),null!==ps)(ps.__ngLastListenerFn__||ps).__ngNextListenerFn__=_,ps.__ngLastListenerFn__=_,_r=!1;else{_=jx(o,t,Xt,_,!1);const ba=n.listen(no,l,_);In.push(_,ba),pt&&pt.push(l,Hi,po,po+1)}}else _=jx(o,t,Xt,_,!1);const Ar=o.outputs;let Yr;if(_r&&null!==Ar&&(Yr=Ar[l])){const Di=Yr.length;if(Di)for(let no=0;no<Di;no+=2){const Ia=t[Yr[no]][Yr[no+1]].subscribe(_),Cl=In.length;In.push(_,Ia),pt&&pt.push(l,o.index,Cl,-(Cl+1))}}}function Vx(e,t,n,o){const l=d(null);try{return Na(6,t,n),!1!==n(o)}catch(_){return Hg(e,_),!1}finally{Na(7,t,n),d(l)}}function jx(e,t,n,o,l){return function _(B){if(B===Function)return o;Gm(e.componentOffset>-1?Xa(e.index,t):t);let ve=Vx(t,n,o,B),pt=_.__ngNextListenerFn__;for(;pt;)ve=Vx(t,n,pt,B)&&ve,pt=pt.__ngNextListenerFn__;return l&&!1===ve&&B.preventDefault(),ve}}function Gx(e=1){return function Ef(e){return(Gn.lFrame.contextLView=function W(e,t){for(;e>0;)t=t[Cc],e--;return t}(e,Gn.lFrame.contextLView))[ks]}(e)}function TD(e,t){let n=null;const o=function Vt(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const _=t[l];if("*"!==_){if(null===o?He(e,_,!0):fr(o,_))return l}else n=l}return n}function Hx(e){const t=Sr()[Aa][Qs];if(!t.projection){const o=t.projection=function mr(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}(e?e.length:1,null),l=o.slice();let _=t.child;for(;null!==_;){const B=e?TD(_,e):0;null!==B&&(l[B]?l[B].projectionNext=_:o[B]=_,l[B]=_),_=_.next}}}function zx(e,t=0,n){const o=Sr(),l=wo(),_=Hu(l,No+e,16,null,n||null);null===_.projection&&(_.projection=t),rl(),(!o[fa]||ui())&&32&~_.flags&&function z_(e,t,n){Pg(t[Wo],0,t,n,Sm(e,n,t),Ig(n.parent||t[Qs],n,t))}(l,o,_)}function gy(e,t,n){return _y(e,"",t,"",n),gy}function _y(e,t,n,o,l){const _=Sr(),B=Bp(_,t,n,o);return B!==Ns&&Wl(wo(),qs(),_,e,B,_[Wo],l,!1),_y}function Zx(e,t,n,o){!function N0(e,t,n,o){const l=wo();if(l.firstCreatePass){const _=uo();L0(l,new P0(t,n,o),_.index),function IC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),!(2&~n)&&(l.staticContentQueries=!0)}return F0(l,Sr(),n)}(e,t,n,o)}function eE(e,t,n){B0(e,t,n)}function tE(e){const t=Sr(),n=wo(),o=cu();za(o+1);const l=Dv(n,o);if(e.dirty&&function Pa(e){return!(4&~e[bo])}(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const _=U0(t,o);e.reset(_,Lh),e.notifyOnChanges()}return!0}return!1}function nE(){return Mv(Sr(),cu())}function rE(e,t,n,o){!function W0(e,t){const n=e[C];n._lView=Sr(),n._queryIndex=t,n._queryList=Mv(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(o=>o+1))}(e,B0(t,n,o))}function iE(e=1){za(cu()+e)}function oE(e){return yl(function lu(){return Gn.lFrame.contextLView}(),No+e)}function mE(e,t=""){const n=Sr(),o=wo(),l=e+No,_=o.firstCreatePass?Hu(o,l,1,t,null):o.data[l],B=gE(o,n,_,t,e);n[l]=B,Jc()&&bp(o,n,B,_),Us(_,!1)}let gE=(e,t,n,o,l)=>(Va(!0),pp(t[Wo],o));function vy(e){return x_("",e,""),vy}function x_(e,t,n){const o=Sr(),l=Bp(o,e,t,n);return l!==Ns&&Td(o,Ra(),l),x_}function yy(e,t,n,o,l){const _=Sr(),B=function Np(e,t,n,o,l,_){const X=yh(e,fc(),n,l);return Ql(2),X?t+un(n)+o+un(l)+_:Ns}(_,e,t,n,o,l);return B!==Ns&&Td(_,Ra(),B),yy}function by(e,t,n,o,l,_,B){const X=Sr(),ve=function Lp(e,t,n,o,l,_,B,X){const pt=o_(e,fc(),n,l,B);return Ql(3),pt?t+un(n)+o+un(l)+_+un(B)+X:Ns}(X,e,t,n,o,l,_,B);return ve!==Ns&&Td(X,Ra(),ve),by}function xy(e,t,n,o,l,_,B,X,ve,pt,Xt){const In=Sr(),_r=function Vp(e,t,n,o,l,_,B,X,ve,pt,Xt,In){const _r=fc();let Ar=iu(e,_r,n,l,B,ve);return Ar=sl(e,_r+4,Xt)||Ar,Ql(5),Ar?t+un(n)+o+un(l)+_+un(B)+X+un(ve)+pt+un(Xt)+In:Ns}(In,e,t,n,o,l,_,B,X,ve,pt,Xt);return _r!==Ns&&Td(In,Ra(),_r),xy}function Ey(e,t,n){G0(t)&&(t=t());const o=Sr();return sl(o,bl(),t)&&Wl(wo(),qs(),o,e,t,o[Wo],n,!1),Ey}function EE(e,t){const n=G0(e);return n&&e.set(t),n}function wy(e,t){const n=Sr(),o=wo(),l=uo();return my(o,n,n[Wo],l,e,t),wy}function Cy(e,t,n,o,l){if(e=yn(e),Array.isArray(e))for(let _=0;_<e.length;_++)Cy(e[_],t,n,o,l);else{const _=wo(),B=Sr(),X=uo();let ve=Ti(e)?e:yn(e.provide);const pt=tr(e),Xt=1048575&X.providerIndexes,In=X.directiveStart,_r=X.providerIndexes>>20;if(Ti(e)||!e.multi){const Ar=new Cu(pt,l,mf),Yr=My(ve,t,l?Xt:Xt+_r,In);-1===Yr?(Df(rd(X,B),_,ve),Ay(_,e,t.length),t.push(ve),X.directiveStart++,X.directiveEnd++,l&&(X.providerIndexes+=1048576),n.push(Ar),B.push(Ar)):(n[Yr]=Ar,B[Yr]=Ar)}else{const Ar=My(ve,t,Xt+_r,In),Yr=My(ve,t,Xt,Xt+_r),no=Yr>=0&&n[Yr];if(l&&!no||!l&&!(Ar>=0&&n[Ar])){Df(rd(X,B),_,ve);const po=function $D(e,t,n,o,l){const _=new Cu(e,n,mf);return _.multi=[],_.index=t,_.componentProviders=0,wE(_,l,o&&!n),_}(l?zD:HD,n.length,l,o,pt);!l&&no&&(n[Yr].providerFactory=po),Ay(_,e,t.length,0),t.push(ve),X.directiveStart++,X.directiveEnd++,l&&(X.providerIndexes+=1048576),n.push(po),B.push(po)}else Ay(_,e,Ar>-1?Ar:Yr,wE(n[l?Yr:Ar],pt,!l&&o));!l&&o&&no&&n[Yr].componentProviders++}}}function Ay(e,t,n,o){const l=Ti(t),_=function $s(e){return!!e.useClass}(t);if(l||_){const ve=(_?yn(t.useClass):t).prototype.ngOnDestroy;if(ve){const pt=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const Xt=pt.indexOf(n);-1===Xt?pt.push(n,[o,ve]):pt[Xt+1].push(o,ve)}else pt.push(n,ve)}}}function wE(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function My(e,t,n,o){for(let l=n;l<o;l++)if(t[l]===e)return l;return-1}function HD(e,t,n,o){return Dy(this.multi,[])}function zD(e,t,n,o){const l=this.multi;let _;if(this.providerFactory){const B=this.providerFactory.componentProviders,X=Zl(n,n[Ki],this.providerFactory.index,o);_=X.slice(0,B),Dy(l,_);for(let ve=B;ve<X.length;ve++)_.push(X[ve])}else _=[],Dy(l,_);return _}function Dy(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function CE(e,t=[]){return n=>{n.providersResolver=(o,l)=>function GD(e,t,n){const o=wo();if(o.firstCreatePass){const l=nl(e);Cy(n,o.data,o.blueprint,l,!0),Cy(t,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,t)}}let WD=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=pr(0,o.type),_=l.length>0?Pv([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,_)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=wi({token:e,providedIn:"environment",factory:()=>new e(Wi(Ae))}),t})();function AE(e){$u("NgStandalone"),e.getStandaloneInjector=t=>t.get(WD).getOrCreateStandaloneInjector(e)}function ME(e,t,n){const o=e.\u0275cmp;o.directiveDefs=Gr(t,!1),o.pipeDefs=Gr(n,!0)}function TE(e,t,n){const o=Ya()+e,l=Sr();return l[o]===Ns?Wu(l,o,n?t.call(n):t()):tg(l,o)}function SE(e,t,n,o){return NE(Sr(),Ya(),e,t,n,o)}function IE(e,t,n,o,l){return LE(Sr(),Ya(),e,t,n,o,l)}function RE(e,t,n,o,l,_){return function UE(e,t,n,o,l,_,B,X){const ve=t+n;return o_(e,ve,l,_,B)?Wu(e,ve+3,X?o.call(X,l,_,B):o(l,_,B)):hg(e,ve+3)}(Sr(),Ya(),e,t,n,o,l,_)}function OE(e,t,n,o,l,_,B){return function VE(e,t,n,o,l,_,B,X,ve){const pt=t+n;return iu(e,pt,l,_,B,X)?Wu(e,pt+4,ve?o.call(ve,l,_,B,X):o(l,_,B,X)):hg(e,pt+4)}(Sr(),Ya(),e,t,n,o,l,_,B)}function PE(e,t,n,o,l,_,B,X,ve){const pt=Ya()+e,Xt=Sr(),In=iu(Xt,pt,n,o,l,_);return yh(Xt,pt+4,B,X)||In?Wu(Xt,pt+6,ve?t.call(ve,n,o,l,_,B,X):t(n,o,l,_,B,X)):tg(Xt,pt+6)}function kE(e,t,n,o,l,_,B,X,ve,pt){const Xt=Ya()+e,In=Sr();let _r=iu(In,Xt,n,o,l,_);return o_(In,Xt+4,B,X,ve)||_r?Wu(In,Xt+7,pt?t.call(pt,n,o,l,_,B,X,ve):t(n,o,l,_,B,X,ve)):tg(In,Xt+7)}function FE(e,t,n,o,l,_,B,X,ve,pt,Xt){const In=Ya()+e,_r=Sr(),Ar=iu(_r,In,n,o,l,_);return iu(_r,In+4,B,X,ve,pt)||Ar?Wu(_r,In+8,Xt?t.call(Xt,n,o,l,_,B,X,ve,pt):t(n,o,l,_,B,X,ve,pt)):tg(_r,In+8)}function BE(e,t,n,o){return function jE(e,t,n,o,l,_){let B=t+n,X=!1;for(let ve=0;ve<l.length;ve++)sl(e,B++,l[ve])&&(X=!0);return X?Wu(e,B,o.apply(_,l)):hg(e,B)}(Sr(),Ya(),e,t,n,o)}function hg(e,t){const n=e[t];return n===Ns?void 0:n}function NE(e,t,n,o,l,_){const B=t+n;return sl(e,B,l)?Wu(e,B+1,_?o.call(_,l):o(l)):hg(e,B+1)}function LE(e,t,n,o,l,_,B){const X=t+n;return yh(e,X,l,_)?Wu(e,X+2,B?o.call(B,l,_):o(l,_)):hg(e,X+2)}function GE(e,t){const n=wo();let o;const l=e+No;n.firstCreatePass?(o=function YD(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[l]=o,o.onDestroy&&(n.destroyHooks??=[]).push(l,o.onDestroy)):o=n.data[l];const _=o.factory||(o.factory=zs(o.type)),X=Ao(mf);try{const ve=hc(!1),pt=_();return hc(ve),function ID(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,Sr(),l,pt),pt}finally{Ao(X)}}function HE(e,t,n){const o=e+No,l=Sr(),_=yl(l,o);return pg(l,o)?NE(l,Ya(),t,_.transform,n,_):_.transform(n)}function zE(e,t,n,o){const l=e+No,_=Sr(),B=yl(_,l);return pg(_,l)?LE(_,Ya(),t,B.transform,n,o,B):B.transform(n,o)}function pg(e,t){return e[Ki].data[t].pure}function $E(e,t){return $g(e,t)}class l1{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let c1=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const p1=new zn(""),m1=new zn("");let Py,$T=(()=>{var e;class t{constructor(o,l,_){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Py||(function WT(e){Py=e}(_),_.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ml.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,_){let B=-1;l&&l>0&&(B=setTimeout(()=>{this._callbacks=this._callbacks.filter(X=>X.timeoutId!==B),o()},l)),this._callbacks.push({doneCb:o,timeoutId:B,updateCb:_})}whenStable(o,l,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,_){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(Wi(ml),Wi(g1),Wi(m1))},e.\u0275prov=wi({token:e,factory:e.\u0275fac}),t})(),g1=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Py?.findTestabilityInTree(this,o,l)??null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function ky(e){return!!e&&"function"==typeof e.then}function _1(e){return!!e&&"function"==typeof e.subscribe}const v1=new zn("");let Fy=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l}),this.appInits=Bi(v1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const _ of this.appInits){const B=_();if(ky(B))o.push(B);else if(_1(B)){const X=new Promise((ve,pt)=>{B.subscribe({complete:ve,error:pt})});o.push(X)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(_=>{this.reject(_)}),0===o.length&&l(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const By=new zn("");function x1(e,t){return Array.isArray(t)?t.reduce(x1,e):{...e,...t}}let bf=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Bi(sd),this.afterRenderEffectManager=Bi(Qm),this.externalTestViews=new Set,this.beforeRender=new b.B,this.afterTick=new b.B,this.componentTypes=[],this.components=[],this.isStable=Bi(Dp).hasPendingTasks.pipe((0,V.T)(o=>!o)),this._injector=Bi(Ae)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const _=o instanceof d0;if(!this._injector.get(Fy).done)throw!_&&ar(o),new I(405,!1);let X;X=_?o:this._injector.get(Ym).resolveComponentFactory(o),this.componentTypes.push(X.componentType);const ve=function KT(e){return e.isBoundToModule}(X)?void 0:this._injector.get(vh),Xt=X.create(Sl.NULL,[],l||X.selector,ve),In=Xt.location.nativeElement,_r=Xt.injector.get(p1,null);return _r?.registerApplication(In),Xt.onDestroy(()=>{this.detachView(Xt.hostView),A_(this.components,Xt),_r?.unregisterApplication(In)}),this._loadComponent(Xt),Xt}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new I(101,!1);const l=d(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(_){this.internalErrorHandler(_)}finally{this.afterTick.next(),this._runningTick=!1,d(l)}}detectChangesInAttachedViews(o){let l=0;const _=this.afterRenderEffectManager;for(;;){if(l===e0)throw new I(103,!1);if(o){const B=0===l;this.beforeRender.next(B);for(let{_lView:X,notifyErrorHandler:ve}of this._views)YT(X,B,ve)}if(l++,_.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:B})=>Ny(B))&&(_.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:B})=>Ny(B))))break}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;A_(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(By,[]);[...this._bootstrapListeners,...l].forEach(_=>_(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>A_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new I(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function A_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function YT(e,t,n){!t&&!Ny(e)||function QT(e,t,n){let o;n?(o=0,e[bo]|=1024):o=64&e[bo]?0:1,zg(e,t,o)}(e,n,t)}function Ny(e){return Re(e)}class qT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let JT=(()=>{var e;class t{compileModuleSync(o){return new Ov(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),B=ao(or(o).declarations).reduce((X,ve)=>{const pt=Rt(ve);return pt&&X.push(new Zm(pt)),X},[]);return new qT(l,B)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tS=(()=>{var e;class t{constructor(){this.zone=Bi(ml),this.applicationRef=Bi(bf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function nS(){const e=Bi(ml),t=Bi(Vc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let iS=(()=>{var e;class t{constructor(){this.subscription=new R.yU,this.initialized=!1,this.zone=Bi(ml),this.pendingTasks=Bi(Dp)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ml.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ml.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const D_=new zn("",{providedIn:"root",factory:()=>Bi(D_,Gi.Optional|Gi.SkipSelf)||function oS(){return typeof $localize<"u"&&$localize.locale||Kp}()}),sS=new zn("",{providedIn:"root",factory:()=>"USD"}),Ly=new zn("");let A1=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const _=function sC(e="zone.js",t){return"noop"===e?new v0:"zone.js"===e?new ml(t):e}(l?.ngZone,function C1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return _.run(()=>{const B=function tA(e,t,n){return new Rv(e,t,n)}(o.moduleType,this.injector,function w1(e){return[{provide:ml,useFactory:e},{provide:yr,multi:!0,useFactory:()=>{const t=Bi(tS,{optional:!0});return()=>t.initialize()}},{provide:yr,multi:!0,useFactory:()=>{const t=Bi(iS);return()=>{t.initialize()}}},{provide:sd,useFactory:nS}]}(()=>_)),X=B.injector.get(Vc,null);return _.runOutsideAngular(()=>{const ve=_.onError.subscribe({next:pt=>{X.handleError(pt)}});B.onDestroy(()=>{A_(this._modules,B),ve.unsubscribe()})}),function b1(e,t,n){try{const o=n();return ky(o)?o.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(X,_,()=>{const ve=B.injector.get(Fy);return ve.runInitializers(),ve.donePromise.then(()=>(function mx(e){"string"==typeof e&&(px=e.toLowerCase().replace(/_/g,"-"))}(B.injector.get(D_,Kp)||Kp),this._moduleDoBootstrap(B),B))})})}bootstrapModule(o,l=[]){const _=x1({},l);return function eS(e,t,n){const o=new Ov(n);return Promise.resolve(o)}(0,0,o).then(B=>this.bootstrapModuleFactory(B,_))}_moduleDoBootstrap(o){const l=o.injector.get(bf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(_=>l.bootstrap(_));else{if(!o.instance.ngDoBootstrap)throw new I(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(Ly,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(Wi(Sl))},e.\u0275prov=wi({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),xf=null;const M1=new zn("");function D1(e,t,n=[]){const o=`Platform: ${t}`,l=new zn(o);return(_=[])=>{let B=Uy();if(!B||B.injector.get(M1,!1)){const X=[...n,..._,{provide:l,useValue:!0}];e?e(X):function lS(e){if(xf&&!xf.get(M1,!1))throw new I(400,!1);(function y1(){!function ee(e){Kt=e}(()=>{throw new I(600,!1)})})(),xf=e;const t=e.get(A1);(function S1(e){e.get(Wf,null)?.forEach(n=>n())})(e)}(function T1(e=[],t){return Sl.create({name:t,providers:[{provide:ws,useValue:"platform"},{provide:Ly,useValue:new Set([()=>xf=null])},...e]})}(X,o))}return function cS(e){const t=Uy();if(!t)throw new I(401,!1);return t}()}}function Uy(){return xf?.get(A1)??null}function dS(){return!1}function fS(){}let R1=(()=>{class t{}return t.__NG_ELEMENT_ID__=hS,t})();function hS(e){return function pS(e,t,n){if(Ha(e)&&!n){const o=Xa(e.index,t);return new Hm(o,o)}return 47&e.type?new Hm(t[Aa],t):null}(uo(),Sr(),!(16&~e))}class F1{constructor(){}supports(t){return i_(t)}create(t){return new yS(t)}}const vS=(e,t)=>t;class yS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||vS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,l=0,_=null;for(;n||o;){const B=!o||n&&n.currentIndex<N1(o,l,_)?n:o,X=N1(B,l,_),ve=B.currentIndex;if(B===o)l--,o=o._nextRemoved;else if(n=n._next,null==B.previousIndex)l++;else{_||(_=[]);const pt=X-l,Xt=ve-l;if(pt!=Xt){for(let _r=0;_r<pt;_r++){const Ar=_r<_.length?_[_r]:_[_r]=0,Yr=Ar+_r;Xt<=Yr&&Yr<pt&&(_[_r]=Ar+1)}_[B.previousIndex]=Xt-pt}}X!==ve&&t(B,X,ve)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!i_(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,_,B,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let X=0;X<this.length;X++)_=t[X],B=this._trackByFn(X,_),null!==n&&Object.is(n.trackById,B)?(o&&(n=this._verifyReinsertion(n,_,B,X)),Object.is(n.item,_)||this._addIdentityChange(n,_)):(n=this._mismatch(n,_,B,X),o=!0),n=n._next}else l=0,function oA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,X=>{B=this._trackByFn(l,X),null!==n&&Object.is(n.trackById,B)?(o&&(n=this._verifyReinsertion(n,X,B,l)),Object.is(n.item,X)||this._addIdentityChange(n,X)):(n=this._mismatch(n,X,B,l),o=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,l){let _;return null===t?_=this._itTail:(_=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,_,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,_,l)):t=this._addAfter(new bS(n,o),_,l),t}_verifyReinsertion(t,n,o,l){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==_?t=this._reinsertAfter(_,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,_=t._nextRemoved;return null===l?this._removalsHead=_:l._nextRemoved=_,null===_?this._removalsTail=l:_._prevRemoved=l,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new B1),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class bS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class B1{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new xS,this.map.set(n,o)),o.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(e,t,n){const o=e.previousIndex;if(null===o)return o;let l=0;return n&&o<n.length&&(l=n[o]),o+t+l}class L1{constructor(){}supports(t){return t instanceof Map||kv(t)}create(){return new ES}}class ES{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||kv(t)))throw new I(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const _=this._getOrCreateRecordForKey(l,o);n=this._insertBeforeOrAppend(n,_)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const _=l._prev,B=l._next;return _&&(_._next=B),B&&(B._prev=_),l._next=null,l._prev=null,l}const o=new wS(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class wS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function U1(){return new zy([new F1])}let zy=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,l){if(null!=l){const _=l.factories.slice();o=o.concat(_)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||U1()),deps:[[t,new oa,new Fo]]}}find(o){const l=this.factories.find(_=>_.supports(o));if(null!=l)return l;throw new I(901,!1)}}return(e=t).\u0275prov=wi({token:e,providedIn:"root",factory:U1}),t})();function V1(){return new $y([new L1])}let $y=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,l){if(l){const _=l.factories.slice();o=o.concat(_)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||V1()),deps:[[t,new oa,new Fo]]}}find(o){const l=this.factories.find(_=>_.supports(o));if(l)return l;throw new I(901,!1)}}return(e=t).\u0275prov=wi({token:e,providedIn:"root",factory:V1}),t})();const MS=D1(null,"core",[]);let DS=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(Wi(bf))},e.\u0275mod=pe({type:e}),e.\u0275inj=Uo({}),t})();function nI(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function rI(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function oI(e,t){$u("NgSignals");const n=ue(e);return t?.equal&&(n[C].equal=t.equal),n}function sI(e){const t=d(null);try{return e()}finally{d(t)}}const aI=new zn("",{providedIn:"root",factory:()=>Bi(lI)});let lI=(()=>{var e;class t{}return(e=t).\u0275prov=wi({token:e,providedIn:"root",factory:()=>new cI}),t})();class cI{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Bi(Dp),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(t){const n=t.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const o=this.queues.get(n);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}class uI{constructor(t,n,o,l,_,B){this.scheduler=t,this.effectFn=n,this.creationZone=o,this.injector=_,this.watcher=function We(e,t,n){const o=Object.create(wt);n&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=t;const l=ve=>{o.cleanupFn=ve};return o.ref={notify:()=>U(o),run:()=>{if(null===o.fn)return;if(function P(){return S}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!q(o))return;o.hasRun=!0;const ve=Z(o);try{o.cleanupFn(),o.cleanupFn=Ve,o.fn(l)}finally{ne(o,ve)}},cleanup:()=>o.cleanupFn(),destroy:()=>function B(ve){(function _(ve){return null===ve.fn&&null===ve.schedule})(ve)||(le(ve),ve.cleanupFn(),ve.fn=null,ve.schedule=null,ve.cleanupFn=Ve)}(o),[C]:o},o.ref}(X=>this.runEffect(X),()=>this.schedule(),B),this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(Vc,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function lw(e,t){$u("NgSignals"),!t?.injector&&Ca();const n=t?.injector??Bi(Sl),o=!0!==t?.manualCleanup?n.get(qa):null,l=new uI(n.get(aI),e,typeof Zone>"u"?null:Zone.current,o,n,t?.allowSignalWrites??!1),_=n.get(R1,null,{optional:!0});return _&&8&_._lView[bo]?(_._lView[Vl]??=[]).push(l.watcher.notify):l.watcher.notify(),l}function dI(e,t){const n=Rt(e),o=t.elementInjector||Gt();return new Zm(n).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function fI(e){const t=Rt(e);if(!t)return null;const n=new Zm(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},89079:(ln,qe,w)=>{"use strict";w.d(qe,{br:()=>P,ot:()=>G,pQ:()=>M});var r=w(54438),s=w(2573),v=w(60391),S=w(37925);function M(N){N||((0,r.Af3)(M),N=(0,r.WQX)(r.abz));const x=new s.c(m=>N.onDestroy(m.next.bind(m)));return m=>m.pipe((0,S.Q)(x))}function P(N,x){!x?.injector&&(0,r.Af3)(P);const m=x?.injector??(0,r.WQX)(r.zZn),E=new v.m(1),L=(0,r.QZP)(()=>{let ae;try{ae=N()}catch(U){return void(0,r.O8t)(()=>E.error(U))}(0,r.O8t)(()=>E.next(ae))},{injector:m,manualCleanup:!0});return m.get(r.abz).onDestroy(()=>{L.destroy(),E.complete()}),E.asObservable()}function G(N,x){const m=!x?.manualCleanup;m&&!x?.injector&&(0,r.Af3)(G);const E=m?x?.injector?.get(r.abz)??(0,r.WQX)(r.abz):null;let L;L=(0,r.vPA)(x?.requireSync?{kind:0}:{kind:1,value:x?.initialValue});const ae=N.subscribe({next:U=>L.set({kind:1,value:U}),error:U=>{if(x?.rejectErrors)throw U;L.set({kind:2,error:U})}});return E?.onDestroy(ae.unsubscribe.bind(ae)),(0,r.EWP)(()=>{const U=L();switch(U.kind){case 1:return U.value;case 2:throw U.error;case 0:throw new r.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},89417:(ln,qe,w)=>{"use strict";w.d(qe,{$R:()=>os,BC:()=>h,Bm:()=>yr,Fm:()=>Gi,JD:()=>Lr,MJ:()=>Si,MR:()=>Do,Q0:()=>Hn,VZ:()=>zs,X1:()=>mo,YN:()=>Ro,YS:()=>ua,Yp:()=>hr,ZU:()=>b,cV:()=>Vn,cb:()=>I,cz:()=>U,gE:()=>sn,hs:()=>Ri,j4:()=>Go,k0:()=>q,kq:()=>F,l_:()=>Ks,me:()=>E,ok:()=>oi,qT:()=>xt,tU:()=>gn,v8:()=>Rs,vS:()=>Ge,wz:()=>Wi,xH:()=>ho,xh:()=>Ai,xq:()=>Jn,y7:()=>Os,zX:()=>oa,ze:()=>Ui});var r=w(54438),s=w(60177),v=w(21472),S=w(46104),M=w(36110);let C=(()=>{var nt;class $e{constructor(at,de){this._renderer=at,this._elementRef=de,this.onChange=Et=>{},this.onTouched=()=>{}}setProperty(at,de){this._renderer.setProperty(this._elementRef.nativeElement,at,de)}registerOnTouched(at){this.onTouched=at}registerOnChange(at){this.onChange=at}setDisabledState(at){this.setProperty("disabled",at)}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(r.sFG),r.rXU(r.aKT))},nt.\u0275dir=r.FsC({type:nt}),$e})(),d=(()=>{var nt;class $e extends C{}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,features:[r.Vt3]}),$e})();const F=new r.nKC(""),N={provide:F,useExisting:(0,r.Rfq)(()=>E),multi:!0},m=new r.nKC("");let E=(()=>{var nt;class $e extends C{constructor(at,de,Et){super(at,de),this._compositionMode=Et,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x(){const nt=(0,s.QT)()?(0,s.QT)().getUserAgent():"";return/android (\d+)/.test(nt.toLowerCase())}())}writeValue(at){this.setProperty("value",at??"")}_handleInput(at){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(at)}_compositionStart(){this._composing=!0}_compositionEnd(at){this._composing=!1,this._compositionMode&&this.onChange(at)}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(m,8))},nt.\u0275dir=r.FsC({type:nt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(at,de){1&at&&r.bIt("input",function(on){return de._handleInput(on.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(on){return de._compositionEnd(on.target.value)})},features:[r.Jv_([N]),r.Vt3]}),$e})();function L(nt){return null==nt||("string"==typeof nt||Array.isArray(nt))&&0===nt.length}function ae(nt){return null!=nt&&"number"==typeof nt.length}const U=new r.nKC(""),Z=new r.nKC(""),ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class q{static min($e){return le($e)}static max($e){return z($e)}static required($e){return J($e)}static requiredTrue($e){return he($e)}static email($e){return function we(nt){return L(nt.value)||ne.test(nt.value)?null:{email:!0}}($e)}static minLength($e){return k($e)}static maxLength($e){return ue($e)}static pattern($e){return function Ie(nt){if(!nt)return ke;let $e,an;return"string"==typeof nt?(an="","^"!==nt.charAt(0)&&(an+="^"),an+=nt,"$"!==nt.charAt(nt.length-1)&&(an+="$"),$e=new RegExp(an)):(an=nt.toString(),$e=nt),at=>{if(L(at.value))return null;const de=at.value;return $e.test(de)?null:{pattern:{requiredPattern:an,actualValue:de}}}}($e)}static nullValidator($e){return null}static compose($e){return fe($e)}static composeAsync($e){return Se($e)}}function le(nt){return $e=>{if(L($e.value)||L(nt))return null;const an=parseFloat($e.value);return!isNaN(an)&&an<nt?{min:{min:nt,actual:$e.value}}:null}}function z(nt){return $e=>{if(L($e.value)||L(nt))return null;const an=parseFloat($e.value);return!isNaN(an)&&an>nt?{max:{max:nt,actual:$e.value}}:null}}function J(nt){return L(nt.value)?{required:!0}:null}function he(nt){return!0===nt.value?null:{required:!0}}function k(nt){return $e=>L($e.value)||!ae($e.value)?null:$e.value.length<nt?{minlength:{requiredLength:nt,actualLength:$e.value.length}}:null}function ue(nt){return $e=>ae($e.value)&&$e.value.length>nt?{maxlength:{requiredLength:nt,actualLength:$e.value.length}}:null}function ke(nt){return null}function Ze(nt){return null!=nt}function Ce(nt){return(0,r.jNT)(nt)?(0,v.H)(nt):nt}function Nt(nt){let $e={};return nt.forEach(an=>{$e=null!=an?{...$e,...an}:$e}),0===Object.keys($e).length?null:$e}function Kt(nt,$e){return $e.map(an=>an(nt))}function ee(nt){return nt.map($e=>function me(nt){return!nt.validate}($e)?$e:an=>$e.validate(an))}function fe(nt){if(!nt)return null;const $e=nt.filter(Ze);return 0==$e.length?null:function(an){return Nt(Kt(an,$e))}}function ye(nt){return null!=nt?fe(ee(nt)):null}function Se(nt){if(!nt)return null;const $e=nt.filter(Ze);return 0==$e.length?null:function(an){const at=Kt(an,$e).map(Ce);return(0,S.p)(at).pipe((0,M.T)(Nt))}}function Be(nt){return null!=nt?Se(ee(nt)):null}function yt(nt,$e){return null===nt?[$e]:Array.isArray(nt)?[...nt,$e]:[nt,$e]}function qt(nt){return nt._rawValidators}function Ln(nt){return nt._rawAsyncValidators}function Tt(nt){return nt?Array.isArray(nt)?nt:[nt]:[]}function We(nt,$e){return Array.isArray(nt)?nt.includes($e):nt===$e}function Ve(nt,$e){const an=Tt($e);return Tt(nt).forEach(de=>{We(an,de)||an.push(de)}),an}function wt(nt,$e){return Tt($e).filter(an=>!We(nt,an))}class Y{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($e){this._rawValidators=$e||[],this._composedValidatorFn=ye(this._rawValidators)}_setAsyncValidators($e){this._rawAsyncValidators=$e||[],this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($e){this._onDestroyCallbacks.push($e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($e=>$e()),this._onDestroyCallbacks=[]}reset($e=void 0){this.control&&this.control.reset($e)}hasError($e,an){return!!this.control&&this.control.hasError($e,an)}getError($e,an){return this.control?this.control.getError($e,an):null}}class b extends Y{get formDirective(){return null}get path(){return null}}class R extends Y{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class T{constructor($e){this._cd=$e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let h=(()=>{var nt;class $e extends T{constructor(at){super(at)}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(R,2))},nt.\u0275dir=r.FsC({type:nt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(at,de){2&at&&r.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[r.Vt3]}),$e})(),I=(()=>{var nt;class $e extends T{constructor(at){super(at)}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(b,10))},nt.\u0275dir=r.FsC({type:nt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(at,de){2&at&&r.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[r.Vt3]}),$e})();const Ne="VALID",zt="INVALID",Zt="PENDING",Cn="DISABLED";function Zn(nt){return(St(nt)?nt.validators:nt)||null}function Mr(nt,$e){return(St($e)?$e.asyncValidators:nt)||null}function St(nt){return null!=nt&&!Array.isArray(nt)&&"object"==typeof nt}function kt(nt,$e,an){const at=nt.controls;if(!($e?Object.keys(at):at).length)throw new r.wOt(1e3,"");if(!at[an])throw new r.wOt(1001,"")}function Mt(nt,$e,an){nt._forEachChild((at,de)=>{if(void 0===an[de])throw new r.wOt(1002,"")})}class bt{constructor($e,an){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators($e),this._assignAsyncValidators(an)}get validator(){return this._composedValidatorFn}set validator($e){this._rawValidators=this._composedValidatorFn=$e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($e){this._rawAsyncValidators=this._composedAsyncValidatorFn=$e}get parent(){return this._parent}get valid(){return this.status===Ne}get invalid(){return this.status===zt}get pending(){return this.status==Zt}get disabled(){return this.status===Cn}get enabled(){return this.status!==Cn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($e){this._assignValidators($e)}setAsyncValidators($e){this._assignAsyncValidators($e)}addValidators($e){this.setValidators(Ve($e,this._rawValidators))}addAsyncValidators($e){this.setAsyncValidators(Ve($e,this._rawAsyncValidators))}removeValidators($e){this.setValidators(wt($e,this._rawValidators))}removeAsyncValidators($e){this.setAsyncValidators(wt($e,this._rawAsyncValidators))}hasValidator($e){return We(this._rawValidators,$e)}hasAsyncValidator($e){return We(this._rawAsyncValidators,$e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($e={}){this.touched=!0,this._parent&&!$e.onlySelf&&this._parent.markAsTouched($e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($e=>$e.markAllAsTouched())}markAsUntouched($e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(an=>{an.markAsUntouched({onlySelf:!0})}),this._parent&&!$e.onlySelf&&this._parent._updateTouched($e)}markAsDirty($e={}){this.pristine=!1,this._parent&&!$e.onlySelf&&this._parent.markAsDirty($e)}markAsPristine($e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(an=>{an.markAsPristine({onlySelf:!0})}),this._parent&&!$e.onlySelf&&this._parent._updatePristine($e)}markAsPending($e={}){this.status=Zt,!1!==$e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$e.onlySelf&&this._parent.markAsPending($e)}disable($e={}){const an=this._parentMarkedDirty($e.onlySelf);this.status=Cn,this.errors=null,this._forEachChild(at=>{at.disable({...$e,onlySelf:!0})}),this._updateValue(),!1!==$e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$e,skipPristineCheck:an}),this._onDisabledChange.forEach(at=>at(!0))}enable($e={}){const an=this._parentMarkedDirty($e.onlySelf);this.status=Ne,this._forEachChild(at=>{at.enable({...$e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$e.emitEvent}),this._updateAncestors({...$e,skipPristineCheck:an}),this._onDisabledChange.forEach(at=>at(!1))}_updateAncestors($e){this._parent&&!$e.onlySelf&&(this._parent.updateValueAndValidity($e),$e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($e){this._parent=$e}getRawValue(){return this.value}updateValueAndValidity($e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ne||this.status===Zt)&&this._runAsyncValidator($e.emitEvent)),!1!==$e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$e.onlySelf&&this._parent.updateValueAndValidity($e)}_updateTreeValidity($e={emitEvent:!0}){this._forEachChild(an=>an._updateTreeValidity($e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cn:Ne}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($e){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const an=Ce(this.asyncValidator(this));this._asyncValidationSubscription=an.subscribe(at=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(at,{emitEvent:$e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($e,an={}){this.errors=$e,this._updateControlsErrors(!1!==an.emitEvent)}get($e){let an=$e;return null==an||(Array.isArray(an)||(an=an.split(".")),0===an.length)?null:an.reduce((at,de)=>at&&at._find(de),this)}getError($e,an){const at=an?this.get(an):this;return at&&at.errors?at.errors[$e]:null}hasError($e,an){return!!this.getError($e,an)}get root(){let $e=this;for(;$e._parent;)$e=$e._parent;return $e}_updateControlsErrors($e){this.status=this._calculateStatus(),$e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($e)}_initObservables(){this.valueChanges=new r.bkB,this.statusChanges=new r.bkB}_calculateStatus(){return this._allControlsDisabled()?Cn:this.errors?zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(zt)?zt:Ne}_anyControlsHaveStatus($e){return this._anyControls(an=>an.status===$e)}_anyControlsDirty(){return this._anyControls($e=>$e.dirty)}_anyControlsTouched(){return this._anyControls($e=>$e.touched)}_updatePristine($e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$e.onlySelf&&this._parent._updatePristine($e)}_updateTouched($e={}){this.touched=this._anyControlsTouched(),this._parent&&!$e.onlySelf&&this._parent._updateTouched($e)}_registerOnCollectionChange($e){this._onCollectionChange=$e}_setUpdateStrategy($e){St($e)&&null!=$e.updateOn&&(this._updateOn=$e.updateOn)}_parentMarkedDirty($e){return!$e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($e){return null}_assignValidators($e){this._rawValidators=Array.isArray($e)?$e.slice():$e,this._composedValidatorFn=function br(nt){return Array.isArray(nt)?ye(nt):nt||null}(this._rawValidators)}_assignAsyncValidators($e){this._rawAsyncValidators=Array.isArray($e)?$e.slice():$e,this._composedAsyncValidatorFn=function yn(nt){return Array.isArray(nt)?Be(nt):nt||null}(this._rawAsyncValidators)}}class sn extends bt{constructor($e,an,at){super(Zn(an),Mr(at,an)),this.controls=$e,this._initObservables(),this._setUpdateStrategy(an),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($e,an){return this.controls[$e]?this.controls[$e]:(this.controls[$e]=an,an.setParent(this),an._registerOnCollectionChange(this._onCollectionChange),an)}addControl($e,an,at={}){this.registerControl($e,an),this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}removeControl($e,an={}){this.controls[$e]&&this.controls[$e]._registerOnCollectionChange(()=>{}),delete this.controls[$e],this.updateValueAndValidity({emitEvent:an.emitEvent}),this._onCollectionChange()}setControl($e,an,at={}){this.controls[$e]&&this.controls[$e]._registerOnCollectionChange(()=>{}),delete this.controls[$e],an&&this.registerControl($e,an),this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}contains($e){return this.controls.hasOwnProperty($e)&&this.controls[$e].enabled}setValue($e,an={}){Mt(this,0,$e),Object.keys($e).forEach(at=>{kt(this,!0,at),this.controls[at].setValue($e[at],{onlySelf:!0,emitEvent:an.emitEvent})}),this.updateValueAndValidity(an)}patchValue($e,an={}){null!=$e&&(Object.keys($e).forEach(at=>{const de=this.controls[at];de&&de.patchValue($e[at],{onlySelf:!0,emitEvent:an.emitEvent})}),this.updateValueAndValidity(an))}reset($e={},an={}){this._forEachChild((at,de)=>{at.reset($e?$e[de]:null,{onlySelf:!0,emitEvent:an.emitEvent})}),this._updatePristine(an),this._updateTouched(an),this.updateValueAndValidity(an)}getRawValue(){return this._reduceChildren({},($e,an,at)=>($e[at]=an.getRawValue(),$e))}_syncPendingControls(){let $e=this._reduceChildren(!1,(an,at)=>!!at._syncPendingControls()||an);return $e&&this.updateValueAndValidity({onlySelf:!0}),$e}_forEachChild($e){Object.keys(this.controls).forEach(an=>{const at=this.controls[an];at&&$e(at,an)})}_setUpControls(){this._forEachChild($e=>{$e.setParent(this),$e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($e){for(const[an,at]of Object.entries(this.controls))if(this.contains(an)&&$e(at))return!0;return!1}_reduceValue(){return this._reduceChildren({},(an,at,de)=>((at.enabled||this.disabled)&&(an[de]=at.value),an))}_reduceChildren($e,an){let at=$e;return this._forEachChild((de,Et)=>{at=an(at,de,Et)}),at}_allControlsDisabled(){for(const $e of Object.keys(this.controls))if(this.controls[$e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($e){return this.controls.hasOwnProperty($e)?this.controls[$e]:null}}class Mn extends sn{}const ze=new r.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>nn}),nn="always";function Ye(nt,$e){return[...$e.path,nt]}function At(nt,$e,an=nn){vr(nt,$e),$e.valueAccessor.writeValue(nt.value),(nt.disabled||"always"===an)&&$e.valueAccessor.setDisabledState?.(nt.disabled),function to(nt,$e){$e.valueAccessor.registerOnChange(an=>{nt._pendingValue=an,nt._pendingChange=!0,nt._pendingDirty=!0,"change"===nt.updateOn&&wi(nt,$e)})}(nt,$e),function _o(nt,$e){const an=(at,de)=>{$e.valueAccessor.writeValue(at),de&&$e.viewToModelUpdate(at)};nt.registerOnChange(an),$e._registerOnDestroy(()=>{nt._unregisterOnChange(an)})}(nt,$e),function ro(nt,$e){$e.valueAccessor.registerOnTouched(()=>{nt._pendingTouched=!0,"blur"===nt.updateOn&&nt._pendingChange&&wi(nt,$e),"submit"!==nt.updateOn&&nt.markAsTouched()})}(nt,$e),function gr(nt,$e){if($e.valueAccessor.setDisabledState){const an=at=>{$e.valueAccessor.setDisabledState(at)};nt.registerOnDisabledChange(an),$e._registerOnDestroy(()=>{nt._unregisterOnDisabledChange(an)})}}(nt,$e)}function Pn(nt,$e,an=!0){const at=()=>{};$e.valueAccessor&&($e.valueAccessor.registerOnChange(at),$e.valueAccessor.registerOnTouched(at)),vi(nt,$e),nt&&($e._invokeOnDestroyCallbacks(),nt._registerOnCollectionChange(()=>{}))}function Yn(nt,$e){nt.forEach(an=>{an.registerOnValidatorChange&&an.registerOnValidatorChange($e)})}function vr(nt,$e){const an=qt(nt);null!==$e.validator?nt.setValidators(yt(an,$e.validator)):"function"==typeof an&&nt.setValidators([an]);const at=Ln(nt);null!==$e.asyncValidator?nt.setAsyncValidators(yt(at,$e.asyncValidator)):"function"==typeof at&&nt.setAsyncValidators([at]);const de=()=>nt.updateValueAndValidity();Yn($e._rawValidators,de),Yn($e._rawAsyncValidators,de)}function vi(nt,$e){let an=!1;if(null!==nt){if(null!==$e.validator){const de=qt(nt);if(Array.isArray(de)&&de.length>0){const Et=de.filter(on=>on!==$e.validator);Et.length!==de.length&&(an=!0,nt.setValidators(Et))}}if(null!==$e.asyncValidator){const de=Ln(nt);if(Array.isArray(de)&&de.length>0){const Et=de.filter(on=>on!==$e.asyncValidator);Et.length!==de.length&&(an=!0,nt.setAsyncValidators(Et))}}}const at=()=>{};return Yn($e._rawValidators,at),Yn($e._rawAsyncValidators,at),an}function wi(nt,$e){nt._pendingDirty&&nt.markAsDirty(),nt.setValue(nt._pendingValue,{emitModelToViewChange:!1}),$e.viewToModelUpdate(nt._pendingValue),nt._pendingChange=!1}function Uo(nt,$e){vr(nt,$e)}function _t(nt,$e){if(!nt.hasOwnProperty("model"))return!1;const an=nt.model;return!!an.isFirstChange()||!Object.is($e,an.currentValue)}function xn(nt,$e){nt._syncPendingControls(),$e.forEach(an=>{const at=an.control;"submit"===at.updateOn&&at._pendingChange&&(an.viewToModelUpdate(at._pendingValue),at._pendingChange=!1)})}function zn(nt,$e){if(!$e)return null;let an,at,de;return Array.isArray($e),$e.forEach(Et=>{Et.constructor===E?an=Et:function bn(nt){return Object.getPrototypeOf(nt.constructor)===d}(Et)?at=Et:de=Et}),de||at||an||null}const et={provide:b,useExisting:(0,r.Rfq)(()=>Vn)},$t=Promise.resolve();let Vn=(()=>{var nt;class $e extends b{constructor(at,de,Et){super(),this.callSetDisabledState=Et,this.submitted=!1,this._directives=new Set,this.ngSubmit=new r.bkB,this.form=new sn({},ye(at),Be(de))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(at){$t.then(()=>{const de=this._findContainer(at.path);at.control=de.registerControl(at.name,at.control),At(at.control,at,this.callSetDisabledState),at.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(at)})}getControl(at){return this.form.get(at.path)}removeControl(at){$t.then(()=>{const de=this._findContainer(at.path);de&&de.removeControl(at.name),this._directives.delete(at)})}addFormGroup(at){$t.then(()=>{const de=this._findContainer(at.path),Et=new sn({});Uo(Et,at),de.registerControl(at.name,Et),Et.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(at){$t.then(()=>{const de=this._findContainer(at.path);de&&de.removeControl(at.name)})}getFormGroup(at){return this.form.get(at.path)}updateModel(at,de){$t.then(()=>{this.form.get(at.path).setValue(de)})}setValue(at){this.control.setValue(at)}onSubmit(at){return this.submitted=!0,xn(this.form,this._directives),this.ngSubmit.emit(at),"dialog"===at?.target?.method}onReset(){this.resetForm()}resetForm(at=void 0){this.form.reset(at),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(at){return at.pop(),at.length?this.form.get(at):this.form}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(U,10),r.rXU(Z,10),r.rXU(ze,8))},nt.\u0275dir=r.FsC({type:nt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(at,de){1&at&&r.bIt("submit",function(on){return de.onSubmit(on)})("reset",function(){return de.onReset()})},inputs:{options:[r.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Jv_([et]),r.Vt3]}),$e})();function Tr(nt,$e){const an=nt.indexOf($e);an>-1&&nt.splice(an,1)}function ei(nt){return"object"==typeof nt&&null!==nt&&2===Object.keys(nt).length&&"value"in nt&&"disabled"in nt}const Si=class extends bt{constructor($e=null,an,at){super(Zn(an),Mr(at,an)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($e),this._setUpdateStrategy(an),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),St(an)&&(an.nonNullable||an.initialValueIsDefault)&&(this.defaultValue=ei($e)?$e.value:$e)}setValue($e,an={}){this.value=this._pendingValue=$e,this._onChange.length&&!1!==an.emitModelToViewChange&&this._onChange.forEach(at=>at(this.value,!1!==an.emitViewToModelChange)),this.updateValueAndValidity(an)}patchValue($e,an={}){this.setValue($e,an)}reset($e=this.defaultValue,an={}){this._applyFormState($e),this.markAsPristine(an),this.markAsUntouched(an),this.setValue(this.value,an),this._pendingChange=!1}_updateValue(){}_anyControls($e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($e){this._onChange.push($e)}_unregisterOnChange($e){Tr(this._onChange,$e)}registerOnDisabledChange($e){this._onDisabledChange.push($e)}_unregisterOnDisabledChange($e){Tr(this._onDisabledChange,$e)}_forEachChild($e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($e){ei($e)?(this.value=this._pendingValue=$e.value,$e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$e}},Ri=Si;let Ci=(()=>{var nt;class $e extends b{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,features:[r.Vt3]}),$e})();const $n={provide:R,useExisting:(0,r.Rfq)(()=>Ge)},un=Promise.resolve();let Ge=(()=>{var nt;class $e extends R{constructor(at,de,Et,on,Kn,ht){super(),this._changeDetectorRef=Kn,this.callSetDisabledState=ht,this.control=new Si,this._registered=!1,this.name="",this.update=new r.bkB,this._parent=at,this._setValidators(de),this._setAsyncValidators(Et),this.valueAccessor=zn(0,on)}ngOnChanges(at){if(this._checkForErrors(),!this._registered||"name"in at){if(this._registered&&(this._checkName(),this.formDirective)){const de=at.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in at&&this._updateDisabled(at),_t(at,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(at){this.viewModel=at,this.update.emit(at)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){At(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(at){un.then(()=>{this.control.setValue(at,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(at){const de=at.isDisabled.currentValue,Et=0!==de&&(0,r.L39)(de);un.then(()=>{Et&&!this.control.disabled?this.control.disable():!Et&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(at){return this._parent?Ye(at,this._parent):[at]}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(b,9),r.rXU(U,10),r.rXU(Z,10),r.rXU(F,10),r.rXU(r.gRc,8),r.rXU(ze,8))},nt.\u0275dir=r.FsC({type:nt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[r.Mj6.None,"disabled","isDisabled"],model:[r.Mj6.None,"ngModel","model"],options:[r.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Jv_([$n]),r.Vt3,r.OA$]}),$e})(),xt=(()=>{var nt;class $e{}return(nt=$e).\u0275fac=function(at){return new(at||nt)},nt.\u0275dir=r.FsC({type:nt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$e})();const rn={provide:F,useExisting:(0,r.Rfq)(()=>Hn),multi:!0};let Hn=(()=>{var nt;class $e extends d{writeValue(at){this.setProperty("value",at??"")}registerOnChange(at){this.onChange=de=>{at(""==de?null:parseFloat(de))}}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(at,de){1&at&&r.bIt("input",function(on){return de.onChange(on.target.value)})("blur",function(){return de.onTouched()})},features:[r.Jv_([rn]),r.Vt3]}),$e})();const Dr={provide:F,useExisting:(0,r.Rfq)(()=>Gi),multi:!0};let Qi=(()=>{var nt;class $e{constructor(){this._accessors=[]}add(at,de){this._accessors.push([at,de])}remove(at){for(let de=this._accessors.length-1;de>=0;--de)if(this._accessors[de][1]===at)return void this._accessors.splice(de,1)}select(at){this._accessors.forEach(de=>{this._isSameGroup(de,at)&&de[1]!==at&&de[1].fireUncheck(at.value)})}_isSameGroup(at,de){return!!at[0].control&&at[0]._parent===de._control._parent&&at[1].name===de.name}}return(nt=$e).\u0275fac=function(at){return new(at||nt)},nt.\u0275prov=r.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"}),$e})(),Gi=(()=>{var nt;class $e extends d{constructor(at,de,Et,on){super(at,de),this._registry=Et,this._injector=on,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,r.WQX)(ze,{optional:!0})??nn}ngOnInit(){this._control=this._injector.get(R),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(at){this._state=at===this.value,this.setProperty("checked",this._state)}registerOnChange(at){this._fn=at,this.onChange=()=>{at(this.value),this._registry.select(this)}}setDisabledState(at){(this.setDisabledStateFired||at||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",at),this.setDisabledStateFired=!0}fireUncheck(at){this.writeValue(at)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(r.sFG),r.rXU(r.aKT),r.rXU(Qi),r.rXU(r.zZn))},nt.\u0275dir=r.FsC({type:nt,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(at,de){1&at&&r.bIt("change",function(){return de.onChange()})("blur",function(){return de.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Jv_([Dr]),r.Vt3]}),$e})();const vo={provide:F,useExisting:(0,r.Rfq)(()=>Do),multi:!0};let Do=(()=>{var nt;class $e extends d{writeValue(at){this.setProperty("value",parseFloat(at))}registerOnChange(at){this.onChange=de=>{at(""==de?null:parseFloat(de))}}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(at,de){1&at&&r.bIt("change",function(on){return de.onChange(on.target.value)})("input",function(on){return de.onChange(on.target.value)})("blur",function(){return de.onTouched()})},features:[r.Jv_([vo]),r.Vt3]}),$e})();const Ao=new r.nKC(""),Ms={provide:R,useExisting:(0,r.Rfq)(()=>Ks)};let Ks=(()=>{var nt;class $e extends R{set isDisabled(at){}constructor(at,de,Et,on,Kn){super(),this._ngModelWarningConfig=on,this.callSetDisabledState=Kn,this.update=new r.bkB,this._ngModelWarningSent=!1,this._setValidators(at),this._setAsyncValidators(de),this.valueAccessor=zn(0,Et)}ngOnChanges(at){if(this._isControlChanged(at)){const de=at.form.previousValue;de&&Pn(de,this,!1),At(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}_t(at,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Pn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(at){this.viewModel=at,this.update.emit(at)}_isControlChanged(at){return at.hasOwnProperty("form")}}return(nt=$e)._ngModelWarningSentOnce=!1,nt.\u0275fac=function(at){return new(at||nt)(r.rXU(U,10),r.rXU(Z,10),r.rXU(F,10),r.rXU(Ao,8),r.rXU(ze,8))},nt.\u0275dir=r.FsC({type:nt,selectors:[["","formControl",""]],inputs:{form:[r.Mj6.None,"formControl","form"],isDisabled:[r.Mj6.None,"disabled","isDisabled"],model:[r.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Jv_([Ms]),r.Vt3,r.OA$]}),$e})();const ms={provide:b,useExisting:(0,r.Rfq)(()=>Go)};let Go=(()=>{var nt;class $e extends b{constructor(at,de,Et){super(),this.callSetDisabledState=Et,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.bkB,this._setValidators(at),this._setAsyncValidators(de)}ngOnChanges(at){this._checkFormPresent(),at.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(at){const de=this.form.get(at.path);return At(de,at,this.callSetDisabledState),de.updateValueAndValidity({emitEvent:!1}),this.directives.push(at),de}getControl(at){return this.form.get(at.path)}removeControl(at){Pn(at.control||null,at,!1),function ir(nt,$e){const an=nt.indexOf($e);an>-1&&nt.splice(an,1)}(this.directives,at)}addFormGroup(at){this._setUpFormContainer(at)}removeFormGroup(at){this._cleanUpFormContainer(at)}getFormGroup(at){return this.form.get(at.path)}addFormArray(at){this._setUpFormContainer(at)}removeFormArray(at){this._cleanUpFormContainer(at)}getFormArray(at){return this.form.get(at.path)}updateModel(at,de){this.form.get(at.path).setValue(de)}onSubmit(at){return this.submitted=!0,xn(this.form,this.directives),this.ngSubmit.emit(at),"dialog"===at?.target?.method}onReset(){this.resetForm()}resetForm(at=void 0){this.form.reset(at),this.submitted=!1}_updateDomValue(){this.directives.forEach(at=>{const de=at.control,Et=this.form.get(at.path);de!==Et&&(Pn(de||null,at),(nt=>nt instanceof Si)(Et)&&(At(Et,at,this.callSetDisabledState),at.control=Et))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(at){const de=this.form.get(at.path);Uo(de,at),de.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(at){if(this.form){const de=this.form.get(at.path);de&&function So(nt,$e){return vi(nt,$e)}(de,at)&&de.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vr(this.form,this),this._oldForm&&vi(this._oldForm,this)}_checkFormPresent(){}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(U,10),r.rXU(Z,10),r.rXU(ze,8))},nt.\u0275dir=r.FsC({type:nt,selectors:[["","formGroup",""]],hostBindings:function(at,de){1&at&&r.bIt("submit",function(on){return de.onSubmit(on)})("reset",function(){return de.onReset()})},inputs:{form:[r.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Jv_([ms]),r.Vt3,r.OA$]}),$e})();const Qo={provide:b,useExisting:(0,r.Rfq)(()=>os)};let os=(()=>{var nt;class $e extends Ci{constructor(at,de,Et){super(),this.name=null,this._parent=at,this._setValidators(de),this._setAsyncValidators(Et)}_checkParentType(){rr(this._parent)}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(b,13),r.rXU(U,10),r.rXU(Z,10))},nt.\u0275dir=r.FsC({type:nt,selectors:[["","formGroupName",""]],inputs:{name:[r.Mj6.None,"formGroupName","name"]},features:[r.Jv_([Qo]),r.Vt3]}),$e})();const ns={provide:b,useExisting:(0,r.Rfq)(()=>Rs)};let Rs=(()=>{var nt;class $e extends b{constructor(at,de,Et){super(),this.name=null,this._parent=at,this._setValidators(de),this._setAsyncValidators(Et)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){rr(this._parent)}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(b,13),r.rXU(U,10),r.rXU(Z,10))},nt.\u0275dir=r.FsC({type:nt,selectors:[["","formArrayName",""]],inputs:{name:[r.Mj6.None,"formArrayName","name"]},features:[r.Jv_([ns]),r.Vt3]}),$e})();function rr(nt){return!(nt instanceof os||nt instanceof Go||nt instanceof Rs)}const sr={provide:R,useExisting:(0,r.Rfq)(()=>Lr)};let Lr=(()=>{var nt;class $e extends R{set isDisabled(at){}constructor(at,de,Et,on,Kn){super(),this._ngModelWarningConfig=Kn,this._added=!1,this.name=null,this.update=new r.bkB,this._ngModelWarningSent=!1,this._parent=at,this._setValidators(de),this._setAsyncValidators(Et),this.valueAccessor=zn(0,on)}ngOnChanges(at){this._added||this._setUpControl(),_t(at,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(at){this.viewModel=at,this.update.emit(at)}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(nt=$e)._ngModelWarningSentOnce=!1,nt.\u0275fac=function(at){return new(at||nt)(r.rXU(b,13),r.rXU(U,10),r.rXU(Z,10),r.rXU(F,10),r.rXU(Ao,8))},nt.\u0275dir=r.FsC({type:nt,selectors:[["","formControlName",""]],inputs:{name:[r.Mj6.None,"formControlName","name"],isDisabled:[r.Mj6.None,"disabled","isDisabled"],model:[r.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Jv_([sr]),r.Vt3,r.OA$]}),$e})();const gi={provide:F,useExisting:(0,r.Rfq)(()=>Wi),multi:!0};function Ei(nt,$e){return null==nt?`${$e}`:($e&&"object"==typeof $e&&($e="Object"),`${nt}: ${$e}`.slice(0,50))}let Wi=(()=>{var nt;class $e extends d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(at){this._compareWith=at}writeValue(at){this.value=at;const Et=Ei(this._getOptionId(at),at);this.setProperty("value",Et)}registerOnChange(at){this.onChange=de=>{this.value=this._getOptionValue(de),at(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(at){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de),at))return de;return null}_getOptionValue(at){const de=function Fi(nt){return nt.split(":")[0]}(at);return this._optionMap.has(de)?this._optionMap.get(de):at}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(at,de){1&at&&r.bIt("change",function(on){return de.onChange(on.target.value)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Jv_([gi]),r.Vt3]}),$e})(),ho=(()=>{var nt;class $e{constructor(at,de,Et){this._element=at,this._renderer=de,this._select=Et,this._select&&(this.id=this._select._registerOption())}set ngValue(at){null!=this._select&&(this._select._optionMap.set(this.id,at),this._setElementValue(Ei(this.id,at)),this._select.writeValue(this._select.value))}set value(at){this._setElementValue(at),this._select&&this._select.writeValue(this._select.value)}_setElementValue(at){this._renderer.setProperty(this._element.nativeElement,"value",at)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(Wi,9))},nt.\u0275dir=r.FsC({type:nt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$e})();const Bi={provide:F,useExisting:(0,r.Rfq)(()=>ys),multi:!0};function ko(nt,$e){return null==nt?`${$e}`:("string"==typeof $e&&($e=`'${$e}'`),$e&&"object"==typeof $e&&($e="Object"),`${nt}: ${$e}`.slice(0,50))}let ys=(()=>{var nt;class $e extends d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(at){this._compareWith=at}writeValue(at){let de;if(this.value=at,Array.isArray(at)){const Et=at.map(on=>this._getOptionId(on));de=(on,Kn)=>{on._setSelected(Et.indexOf(Kn.toString())>-1)}}else de=(Et,on)=>{Et._setSelected(!1)};this._optionMap.forEach(de)}registerOnChange(at){this.onChange=de=>{const Et=[],on=de.selectedOptions;if(void 0!==on){const Kn=on;for(let ht=0;ht<Kn.length;ht++){const ge=this._getOptionValue(Kn[ht].value);Et.push(ge)}}else{const Kn=de.options;for(let ht=0;ht<Kn.length;ht++){const $=Kn[ht];if($.selected){const ge=this._getOptionValue($.value);Et.push(ge)}}}this.value=Et,at(Et)}}_registerOption(at){const de=(this._idCounter++).toString();return this._optionMap.set(de,at),de}_getOptionId(at){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de)._value,at))return de;return null}_getOptionValue(at){const de=function ls(nt){return nt.split(":")[0]}(at);return this._optionMap.has(de)?this._optionMap.get(de)._value:at}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(at,de){1&at&&r.bIt("change",function(on){return de.onChange(on.target)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Jv_([Bi]),r.Vt3]}),$e})(),Os=(()=>{var nt;class $e{constructor(at,de,Et){this._element=at,this._renderer=de,this._select=Et,this._select&&(this.id=this._select._registerOption(this))}set ngValue(at){null!=this._select&&(this._value=at,this._setElementValue(ko(this.id,at)),this._select.writeValue(this._select.value))}set value(at){this._select?(this._value=at,this._setElementValue(ko(this.id,at)),this._select.writeValue(this._select.value)):this._setElementValue(at)}_setElementValue(at){this._renderer.setProperty(this._element.nativeElement,"value",at)}_setSelected(at){this._renderer.setProperty(this._element.nativeElement,"selected",at)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(nt=$e).\u0275fac=function(at){return new(at||nt)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(ys,9))},nt.\u0275dir=r.FsC({type:nt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$e})();function qo(nt){return"number"==typeof nt?nt:parseInt(nt,10)}function Hs(nt){return"number"==typeof nt?nt:parseFloat(nt)}let Fo=(()=>{var nt;class $e{constructor(){this._validator=ke}ngOnChanges(at){if(this.inputName in at){const de=this.normalizeInput(at[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):ke,this._onChange&&this._onChange()}}validate(at){return this._validator(at)}registerOnValidatorChange(at){this._onChange=at}enabled(at){return null!=at}}return(nt=$e).\u0275fac=function(at){return new(at||nt)},nt.\u0275dir=r.FsC({type:nt,features:[r.OA$]}),$e})();const pa={provide:U,useExisting:(0,r.Rfq)(()=>oa),multi:!0};let oa=(()=>{var nt;class $e extends Fo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=at=>Hs(at),this.createValidator=at=>z(at)}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(at,de){2&at&&r.BMQ("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[r.Jv_([pa]),r.Vt3]}),$e})();const Ds={provide:U,useExisting:(0,r.Rfq)(()=>zs),multi:!0};let zs=(()=>{var nt;class $e extends Fo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=at=>Hs(at),this.createValidator=at=>le(at)}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(at,de){2&at&&r.BMQ("min",de._enabled?de.min:null)},inputs:{min:"min"},features:[r.Jv_([Ds]),r.Vt3]}),$e})();const Ts={provide:U,useExisting:(0,r.Rfq)(()=>ua),multi:!0},cs={provide:U,useExisting:(0,r.Rfq)(()=>Jn),multi:!0};let ua=(()=>{var nt;class $e extends Fo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=r.L39,this.createValidator=at=>J}enabled(at){return at}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(at,de){2&at&&r.BMQ("required",de._enabled?"":null)},inputs:{required:"required"},features:[r.Jv_([Ts]),r.Vt3]}),$e})(),Jn=(()=>{var nt;class $e extends ua{constructor(){super(...arguments),this.createValidator=at=>he}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(at,de){2&at&&r.BMQ("required",de._enabled?"":null)},features:[r.Jv_([cs]),r.Vt3]}),$e})();const Ir={provide:U,useExisting:(0,r.Rfq)(()=>Ai),multi:!0};let Ai=(()=>{var nt;class $e extends Fo{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=at=>qo(at),this.createValidator=at=>k(at)}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(at,de){2&at&&r.BMQ("minlength",de._enabled?de.minlength:null)},inputs:{minlength:"minlength"},features:[r.Jv_([Ir]),r.Vt3]}),$e})();const tt={provide:U,useExisting:(0,r.Rfq)(()=>gn),multi:!0};let gn=(()=>{var nt;class $e extends Fo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=at=>qo(at),this.createValidator=at=>ue(at)}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275dir=r.FsC({type:nt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(at,de){2&at&&r.BMQ("maxlength",de._enabled?de.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.Jv_([tt]),r.Vt3]}),$e})(),qn=(()=>{var nt;class $e{}return(nt=$e).\u0275fac=function(at){return new(at||nt)},nt.\u0275mod=r.$C({type:nt}),nt.\u0275inj=r.G2t({}),$e})();class hr extends bt{constructor($e,an,at){super(Zn(an),Mr(at,an)),this.controls=$e,this._initObservables(),this._setUpdateStrategy(an),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($e){return this.controls[this._adjustIndex($e)]}push($e,an={}){this.controls.push($e),this._registerControl($e),this.updateValueAndValidity({emitEvent:an.emitEvent}),this._onCollectionChange()}insert($e,an,at={}){this.controls.splice($e,0,an),this._registerControl(an),this.updateValueAndValidity({emitEvent:at.emitEvent})}removeAt($e,an={}){let at=this._adjustIndex($e);at<0&&(at=0),this.controls[at]&&this.controls[at]._registerOnCollectionChange(()=>{}),this.controls.splice(at,1),this.updateValueAndValidity({emitEvent:an.emitEvent})}setControl($e,an,at={}){let de=this._adjustIndex($e);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),an&&(this.controls.splice(de,0,an),this._registerControl(an)),this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($e,an={}){Mt(this,0,$e),$e.forEach((at,de)=>{kt(this,!1,de),this.at(de).setValue(at,{onlySelf:!0,emitEvent:an.emitEvent})}),this.updateValueAndValidity(an)}patchValue($e,an={}){null!=$e&&($e.forEach((at,de)=>{this.at(de)&&this.at(de).patchValue(at,{onlySelf:!0,emitEvent:an.emitEvent})}),this.updateValueAndValidity(an))}reset($e=[],an={}){this._forEachChild((at,de)=>{at.reset($e[de],{onlySelf:!0,emitEvent:an.emitEvent})}),this._updatePristine(an),this._updateTouched(an),this.updateValueAndValidity(an)}getRawValue(){return this.controls.map($e=>$e.getRawValue())}clear($e={}){this.controls.length<1||(this._forEachChild(an=>an._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$e.emitEvent}))}_adjustIndex($e){return $e<0?$e+this.length:$e}_syncPendingControls(){let $e=this.controls.reduce((an,at)=>!!at._syncPendingControls()||an,!1);return $e&&this.updateValueAndValidity({onlySelf:!0}),$e}_forEachChild($e){this.controls.forEach((an,at)=>{$e(an,at)})}_updateValue(){this.value=this.controls.filter($e=>$e.enabled||this.disabled).map($e=>$e.value)}_anyControls($e){return this.controls.some(an=>an.enabled&&$e(an))}_setUpControls(){this._forEachChild($e=>this._registerControl($e))}_allControlsDisabled(){for(const $e of this.controls)if($e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($e){$e.setParent(this),$e._registerOnCollectionChange(this._onCollectionChange)}_find($e){return this.at($e)??null}}const yr=hr;function jr(nt){return!!nt&&(void 0!==nt.asyncValidators||void 0!==nt.validators||void 0!==nt.updateOn)}let oi=(()=>{var nt;class $e{constructor(){this.useNonNullable=!1}get nonNullable(){const at=new $e;return at.useNonNullable=!0,at}group(at,de=null){const Et=this._reduceControls(at);let on={};return jr(de)?on=de:null!==de&&(on.validators=de.validator,on.asyncValidators=de.asyncValidator),new sn(Et,on)}record(at,de=null){const Et=this._reduceControls(at);return new Mn(Et,de)}control(at,de,Et){let on={};return this.useNonNullable?(jr(de)?on=de:(on.validators=de,on.asyncValidators=Et),new Si(at,{...on,nonNullable:!0})):new Si(at,de,Et)}array(at,de,Et){const on=at.map(Kn=>this._createControl(Kn));return new hr(on,de,Et)}_reduceControls(at){const de={};return Object.keys(at).forEach(Et=>{de[Et]=this._createControl(at[Et])}),de}_createControl(at){return at instanceof Si||at instanceof bt?at:Array.isArray(at)?this.control(at[0],at.length>1?at[1]:null,at.length>2?at[2]:null):this.control(at)}}return(nt=$e).\u0275fac=function(at){return new(at||nt)},nt.\u0275prov=r.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"}),$e})(),Ui=(()=>{var nt;class $e extends oi{group(at,de=null){return super.group(at,de)}control(at,de,Et){return super.control(at,de,Et)}array(at,de,Et){return super.array(at,de,Et)}}return(nt=$e).\u0275fac=(()=>{let an;return function(de){return(an||(an=r.xGo(nt)))(de||nt)}})(),nt.\u0275prov=r.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"}),$e})(),Ro=(()=>{var nt;class $e{static withConfig(at){return{ngModule:$e,providers:[{provide:ze,useValue:at.callSetDisabledState??nn}]}}}return(nt=$e).\u0275fac=function(at){return new(at||nt)},nt.\u0275mod=r.$C({type:nt}),nt.\u0275inj=r.G2t({imports:[qn]}),$e})(),mo=(()=>{var nt;class $e{static withConfig(at){return{ngModule:$e,providers:[{provide:Ao,useValue:at.warnOnNgModelWithFormControl??"always"},{provide:ze,useValue:at.callSetDisabledState??nn}]}}}return(nt=$e).\u0275fac=function(at){return new(at||nt)},nt.\u0275mod=r.$C({type:nt}),nt.\u0275inj=r.G2t({imports:[qn]}),$e})()},35801:(ln,qe,w)=>{"use strict";w.d(qe,{Zi:()=>qt,tN:()=>We});const r=":",s="|",v="@@",S="\u241f";let M;function U(Y){M??=new TextEncoder;const b=M.encode(Y),R=new DataView(b.buffer,b.byteOffset,b.byteLength);let T=ne(R,b.length,0),V=ne(R,b.length,102072);return 0==T&&(0==V||1==V)&&(T^=319790063,V^=-1801410264),BigInt.asUintN(32,BigInt(T))<<BigInt(32)|BigInt.asUintN(32,BigInt(V))}function ne(Y,b,R){let T=2654435769,V=2654435769,j=0;const h=b-12;for(;j<=h;j+=12){T+=Y.getUint32(j,!0),V+=Y.getUint32(j+4,!0);const xe=q(T,V,R+=Y.getUint32(j+8,!0));T=xe[0],V=xe[1],R=xe[2]}const I=b-j;return R+=b,I>=4?(T+=Y.getUint32(j,!0),j+=4,I>=8?(V+=Y.getUint32(j,!0),j+=4,I>=9&&(R+=Y.getUint8(j++)<<8),I>=10&&(R+=Y.getUint8(j++)<<16),11===I&&(R+=Y.getUint8(j++)<<24)):(I>=5&&(V+=Y.getUint8(j++)),I>=6&&(V+=Y.getUint8(j++)<<8),7===I&&(V+=Y.getUint8(j++)<<16))):(I>=1&&(T+=Y.getUint8(j++)),I>=2&&(T+=Y.getUint8(j++)<<8),3===I&&(T+=Y.getUint8(j++)<<16)),q(T,V,R)[2]}function q(Y,b,R){return Y-=b,Y-=R,b-=R,b-=Y^=R>>>13,R-=Y,R-=b^=Y<<8,Y-=b,Y-=R^=b>>>13,b-=R,b-=Y^=R>>>12,R-=Y,R-=b^=Y<<16,Y-=b,Y-=R^=b>>>5,b-=R,b-=Y^=R>>>3,R-=Y,R-=b^=Y<<10,[Y,b,R^=b>>>15]}function Ie(Y,b,R,T,V=[]){const j={},h={},I={},xe=function ke(Y,b){const{text:R,block:T}=Ce(Y,b);if(void 0===T)return{text:R};{const[V,...j]=T.split(S),[h,I]=V.split(v,2);let[xe,ie]=h.split(s,2);return void 0===ie&&(ie=xe,xe=void 0),""===ie&&(ie=void 0),{text:R,meaning:xe,description:ie,customId:I,legacyIds:j}}}(Y[0],Y.raw[0]),ie=[xe.text],D=[];let K=xe.text;for(let ct=1;ct<Y.length;ct++){const{messagePart:ut,placeholderName:en=Nt(ct),associatedMessageId:Oe}=Ze(Y[ct],Y.raw[ct]);K+=`{$${en}}${ut}`,void 0!==b&&(j[en]=b[ct-1],h[en]=V[ct-1]),D.push(en),void 0!==Oe&&(I[en]=Oe),ie.push(ut)}const se=xe.customId||function Z(Y,b=""){let R=U(Y);return b&&(R=BigInt.asUintN(64,R<<BigInt(1))|R>>BigInt(63)&BigInt(1),R+=U(b)),BigInt.asUintN(63,R).toString()}(K,xe.meaning||""),Le=xe.legacyIds?xe.legacyIds.filter(ct=>ct!==se):[];return{id:se,legacyIds:Le,substitutions:j,substitutionLocations:h,text:K,customId:xe.customId,meaning:xe.meaning||"",description:xe.description||"",messageParts:ie,messagePartLocations:T,placeholderNames:D,associatedMessageIds:I,location:R}}function Ze(Y,b){const{text:R,block:T}=Ce(Y,b);if(void 0===T)return{messagePart:R};{const[V,j]=T.split(v);return{messagePart:R,placeholderName:V,associatedMessageId:j}}}function Ce(Y,b){if(b.charAt(0)!==r)return{text:Y};{const R=Kt(Y,b);return{block:Y.substring(1,R),text:Y.substring(R+1)}}}function Nt(Y){return 1===Y?"PH":"PH_"+(Y-1)}function Kt(Y,b){for(let R=1,T=1;R<Y.length;R++,T++)if("\\"===b[T])T++;else if(Y[R]===r)return R;throw new Error(`Unterminated $localize metadata block in "${b}".`)}class me extends Error{constructor(b){super(`No translation found for ${yt(b)}.`),this.parsedMessage=b,this.type="MissingTranslationError"}}function Be(Y,b){return Object.defineProperty(Y,"raw",{value:b}),Y}function yt(Y){const b=Y.meaning&&` - "${Y.meaning}"`,R=Y.legacyIds&&Y.legacyIds.length>0?` [${Y.legacyIds.map(T=>`"${T}"`).join(", ")}]`:"";return`"${Y.id}"${R} ("${Y.text}"${b})`}function qt(Y){$localize.translate||($localize.translate=Tt),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(Y).forEach(b=>{$localize.TRANSLATIONS[b]=function ye(Y){const b=Y.split(/{\$([^}]*)}/),R=[b[0]],T=[];for(let j=1;j<b.length-1;j+=2)T.push(b[j]),R.push(`${b[j+1]}`);const V=R.map(j=>j.charAt(0)===r?"\\"+j:j);return{text:Y,messageParts:Be(R,V),placeholderNames:T}}(Y[b])})}function Tt(Y,b){try{return function fe(Y,b,R){const T=Ie(b,R);let V=Y[T.id];if(void 0!==T.legacyIds)for(let j=0;j<T.legacyIds.length&&void 0===V;j++)V=Y[T.legacyIds[j]];if(void 0===V)throw new me(T);return[V.messageParts,V.placeholderNames.map(j=>{if(T.substitutions.hasOwnProperty(j))return T.substitutions[j];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${yt(T)}.\nThe translation contains a placeholder with name ${j}, which does not exist in the message.`)})]}($localize.TRANSLATIONS,Y,b)}catch(R){return console.warn(R.message),[Y,b]}}const We=function(Y,...b){if(We.translate){const T=We.translate(Y,b);Y=T[0],b=T[1]}let R=wt(Y[0],Y.raw[0]);for(let T=1;T<Y.length;T++)R+=b[T-1]+wt(Y[T],Y.raw[T]);return R},Ve=":";function wt(Y,b){return b.charAt(0)===Ve?Y.substring(Kt(Y,b)+1):Y}},65571:(ln,qe,w)=>{"use strict";w.d(qe,{Vg:()=>Z,ec:()=>ae,pc:()=>U});var r=w(18617),s=w(45024),v=w(54438),S=w(89417),M=w(86600);const C=["button"],d=["*"];function F(ne,q){if(1&ne&&v.nrm(0,"mat-pseudo-checkbox",3),2&ne){const le=v.XpG();v.Y8G("disabled",le.disabled)}}function P(ne,q){if(1&ne&&v.nrm(0,"mat-pseudo-checkbox",3),2&ne){const le=v.XpG();v.Y8G("disabled",le.disabled)}}const G=new v.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function N(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),x=new v.nKC("MatButtonToggleGroup"),m={provide:S.kq,useExisting:(0,v.Rfq)(()=>ae),multi:!0};let E=0;class L{constructor(q,le){this.source=q,this.value=le}}let ae=(()=>{var ne;class q{get name(){return this._name}set name(z){this._name=z,this._markButtonsForCheck()}get value(){const z=this._selectionModel?this._selectionModel.selected:[];return this.multiple?z.map(J=>J.value):z[0]?z[0].value:void 0}set value(z){this._setSelectionByValue(z),this.valueChange.emit(this.value)}get selected(){const z=this._selectionModel?this._selectionModel.selected:[];return this.multiple?z:z[0]||null}get multiple(){return this._multiple}set multiple(z){this._multiple=z,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(z){this._disabled=z,this._markButtonsForCheck()}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(z){this._hideSingleSelectionIndicator=z,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(z){this._hideMultipleSelectionIndicator=z,this._markButtonsForCheck()}constructor(z,J){this._changeDetector=z,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+E++,this.valueChange=new v.bkB,this.change=new v.bkB,this.appearance=J&&J.appearance?J.appearance:"standard",this.hideSingleSelectionIndicator=J?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=J?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new s.CB(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(z=>z.checked))}writeValue(z){this.value=z,this._changeDetector.markForCheck()}registerOnChange(z){this._controlValueAccessorChangeFn=z}registerOnTouched(z){this._onTouched=z}setDisabledState(z){this.disabled=z}_emitChangeEvent(z){const J=new L(z,this.value);this._rawValue=J.value,this._controlValueAccessorChangeFn(J.value),this.change.emit(J)}_syncButtonToggle(z,J,he=!1,we=!1){!this.multiple&&this.selected&&!z.checked&&(this.selected.checked=!1),this._selectionModel?J?this._selectionModel.select(z):this._selectionModel.deselect(z):we=!0,we?Promise.resolve().then(()=>this._updateModelValue(z,he)):this._updateModelValue(z,he)}_isSelected(z){return this._selectionModel&&this._selectionModel.isSelected(z)}_isPrechecked(z){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(J=>null!=z.value&&J===z.value):z.value===this._rawValue)}_setSelectionByValue(z){this._rawValue=z,this._buttonToggles&&(this.multiple&&z?(Array.isArray(z),this._clearSelection(),z.forEach(J=>this._selectValue(J))):(this._clearSelection(),this._selectValue(z)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(z=>z.checked=!1)}_selectValue(z){const J=this._buttonToggles.find(he=>null!=he.value&&he.value===z);J&&(J.checked=!0,this._selectionModel.select(J))}_updateModelValue(z,J){J&&this._emitChangeEvent(z),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(z=>z._markForCheck())}}return(ne=q).\u0275fac=function(z){return new(z||ne)(v.rXU(v.gRc),v.rXU(G,8))},ne.\u0275dir=v.FsC({type:ne,selectors:[["mat-button-toggle-group"]],contentQueries:function(z,J,he){if(1&z&&v.wni(he,U,5),2&z){let we;v.mGM(we=v.lsd())&&(J._buttonToggles=we)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(z,J){2&z&&(v.BMQ("aria-disabled",J.disabled),v.AVh("mat-button-toggle-vertical",J.vertical)("mat-button-toggle-group-appearance-standard","standard"===J.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[v.Mj6.HasDecoratorInputTransform,"vertical","vertical",v.L39],value:"value",multiple:[v.Mj6.HasDecoratorInputTransform,"multiple","multiple",v.L39],disabled:[v.Mj6.HasDecoratorInputTransform,"disabled","disabled",v.L39],hideSingleSelectionIndicator:[v.Mj6.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",v.L39],hideMultipleSelectionIndicator:[v.Mj6.HasDecoratorInputTransform,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",v.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[v.Jv_([m,{provide:x,useExisting:ne}]),v.GFd]}),q})(),U=(()=>{var ne;class q{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(z){this._appearance=z}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(z){z!==this._checked&&(this._checked=z,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(z){this._disabled=z}constructor(z,J,he,we,k,ue){this._changeDetectorRef=J,this._elementRef=he,this._focusMonitor=we,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new v.bkB;const Ie=Number(k);this.tabIndex=Ie||0===Ie?Ie:null,this.buttonToggleGroup=z,this.appearance=ue&&ue.appearance?ue.appearance:"standard"}ngOnInit(){const z=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+E++,z&&(z._isPrechecked(this)?this.checked=!0:z._isSelected(this)!==this._checked&&z._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const z=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),z&&z._isSelected(this)&&z._syncButtonToggle(this,!1,!1,!0)}focus(z){this._buttonElement.nativeElement.focus(z)}_onButtonClick(){const z=!!this._isSingleSelector()||!this._checked;z!==this._checked&&(this._checked=z,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new L(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return(ne=q).\u0275fac=function(z){return new(z||ne)(v.rXU(x,8),v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(r.FN),v.kS0("tabindex"),v.rXU(G,8))},ne.\u0275cmp=v.VBU({type:ne,selectors:[["mat-button-toggle"]],viewQuery:function(z,J){if(1&z&&v.GBs(C,5),2&z){let he;v.mGM(he=v.lsd())&&(J._buttonElement=he.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(z,J){1&z&&v.bIt("focus",function(){return J.focus()}),2&z&&(v.BMQ("aria-label",null)("aria-labelledby",null)("id",J.id)("name",null),v.AVh("mat-button-toggle-standalone",!J.buttonToggleGroup)("mat-button-toggle-checked",J.checked)("mat-button-toggle-disabled",J.disabled)("mat-button-toggle-appearance-standard","standard"===J.appearance))},inputs:{ariaLabel:[v.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[v.Mj6.None,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[v.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",v.L39],appearance:"appearance",checked:[v.Mj6.HasDecoratorInputTransform,"checked","checked",v.L39],disabled:[v.Mj6.HasDecoratorInputTransform,"disabled","disabled",v.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[v.GFd,v.aNF],ngContentSelectors:d,decls:8,vars:11,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(z,J){if(1&z){const he=v.RV6();v.NAR(),v.j41(0,"button",1,0),v.bIt("click",function(){return v.eBV(he),v.Njj(J._onButtonClick())}),v.j41(2,"span",2),v.DNE(3,F,1,1,"mat-pseudo-checkbox",3)(4,P,1,1,"mat-pseudo-checkbox",3),v.SdG(5),v.k0s()(),v.nrm(6,"span",4)(7,"span",5)}if(2&z){const he=v.sdS(1);v.Y8G("id",J.buttonId)("disabled",J.disabled||null),v.BMQ("tabindex",J.disabled?-1:J.tabIndex)("aria-pressed",J.checked)("name",J._getButtonName())("aria-label",J.ariaLabel)("aria-labelledby",J.ariaLabelledby),v.R7$(3),v.vxM(3,J.buttonToggleGroup&&J.checked&&!J.buttonToggleGroup.multiple&&!J.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),v.R7$(),v.vxM(4,J.buttonToggleGroup&&J.checked&&J.buttonToggleGroup.multiple&&!J.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),v.R7$(3),v.Y8G("matRippleTrigger",he)("matRippleDisabled",J.disableRipple||J.disabled)}},dependencies:[M.r6,M.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0}),q})(),Z=(()=>{var ne;class q{}return(ne=q).\u0275fac=function(z){return new(z||ne)},ne.\u0275mod=v.$C({type:ne}),ne.\u0275inj=v.G2t({imports:[M.yE,M.pZ,U,M.yE]}),q})()},88834:(ln,qe,w)=>{"use strict";w.d(qe,{$z:()=>z,Hl:()=>Kt});var r=w(36860),s=w(54438),v=w(18617),S=w(86600);const M=["mat-button",""],C=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],d=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ae=new s.nKC("MAT_BUTTON_CONFIG"),Z=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ne=(()=>{var me;class ee{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ye){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ye)}get disableRipple(){return this._disableRipple}set disableRipple(ye){this._disableRipple=ye,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ye){this._disabled=ye,this._updateRippleDisabled()}constructor(ye,Se,Be,yt){this._elementRef=ye,this._platform=Se,this._ngZone=Be,this._animationMode=yt,this._focusMonitor=(0,s.WQX)(v.FN),this._rippleLoader=(0,s.WQX)(S.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const qt=(0,s.WQX)(ae,{optional:!0}),Ln=ye.nativeElement,Tt=Ln.classList;this.disabledInteractive=qt?.disabledInteractive??!1,this._rippleLoader?.configureRipple(Ln,{className:"mat-mdc-button-ripple"});for(const{attribute:We,mdcClasses:Ve}of Z)Ln.hasAttribute(We)&&Tt.add(...Ve)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(ye="program",Se){ye?this._focusMonitor.focusVia(this._elementRef.nativeElement,ye,Se):this._elementRef.nativeElement.focus(Se)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(me=ee).\u0275fac=function(ye){s.QTQ()},me.\u0275dir=s.FsC({type:me,inputs:{color:"color",disableRipple:[s.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",s.L39],disabled:[s.Mj6.HasDecoratorInputTransform,"disabled","disabled",s.L39],ariaDisabled:[s.Mj6.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",s.L39],disabledInteractive:[s.Mj6.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",s.L39]},features:[s.GFd]}),ee})(),z=(()=>{var me;class ee extends ne{constructor(ye,Se,Be,yt){super(ye,Se,Be,yt)}}return(me=ee).\u0275fac=function(ye){return new(ye||me)(s.rXU(s.aKT),s.rXU(r.OD),s.rXU(s.SKi),s.rXU(s.bc$,8))},me.\u0275cmp=s.VBU({type:me,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ye,Se){2&ye&&(s.BMQ("disabled",Se._getDisabledAttribute())("aria-disabled",Se._getAriaDisabled()),s.HbH(Se.color?"mat-"+Se.color:""),s.AVh("mat-mdc-button-disabled",Se.disabled)("mat-mdc-button-disabled-interactive",Se.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Se._animationMode)("mat-unthemed",!Se.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[s.Vt3,s.aNF],attrs:M,ngContentSelectors:d,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ye,Se){1&ye&&(s.NAR(C),s.nrm(0,"span",0),s.SdG(1),s.j41(2,"span",1),s.SdG(3,1),s.k0s(),s.SdG(4,2),s.nrm(5,"span",2)(6,"span",3)),2&ye&&s.AVh("mdc-button__ripple",!Se._isFab)("mdc-fab__ripple",Se._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),ee})(),Kt=(()=>{var me;class ee{}return(me=ee).\u0275fac=function(ye){return new(ye||me)},me.\u0275mod=s.$C({type:me}),me.\u0275inj=s.G2t({imports:[S.yE,S.pZ,S.yE]}),ee})()},82765:(ln,qe,w)=>{"use strict";w.d(qe,{So:()=>E,g7:()=>Z});var r=w(54438),s=w(89417),v=w(86600);const S=["input"],M=["label"],C=["*"],d=new r.nKC("mat-checkbox-default-options",{providedIn:"root",factory:F});function F(){return{color:"accent",clickAction:"check-indeterminate"}}var P=function(ne){return ne[ne.Init=0]="Init",ne[ne.Checked=1]="Checked",ne[ne.Unchecked=2]="Unchecked",ne[ne.Indeterminate=3]="Indeterminate",ne}(P||{});const G={provide:s.kq,useExisting:(0,r.Rfq)(()=>E),multi:!0};class N{}let x=0;const m=F();let E=(()=>{var ne;class q{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(z){const J=new N;return J.source=this,J.checked=z,J}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(z,J,he,we,k,ue){this._elementRef=z,this._changeDetectorRef=J,this._ngZone=he,this._animationMode=k,this._options=ue,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new r.bkB,this.indeterminateChange=new r.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=P.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||m,this.color=this._options.color||m.color,this.tabIndex=parseInt(we)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++x}ngOnChanges(z){z.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(z){z!=this.checked&&(this._checked=z,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(z){z!==this.disabled&&(this._disabled=z,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(z){const J=z!=this._indeterminate;this._indeterminate=z,J&&(this._transitionCheckState(this._indeterminate?P.Indeterminate:this.checked?P.Checked:P.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(z){this.checked=!!z}registerOnChange(z){this._controlValueAccessorChangeFn=z}registerOnTouched(z){this._onTouched=z}setDisabledState(z){this.disabled=z}validate(z){return this.required&&!0!==z.value?{required:!0}:null}registerOnValidatorChange(z){this._validatorChangeFn=z}_transitionCheckState(z){let J=this._currentCheckState,he=this._getAnimationTargetElement();if(J!==z&&he&&(this._currentAnimationClass&&he.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(J,z),this._currentCheckState=z,this._currentAnimationClass.length>0)){he.classList.add(this._currentAnimationClass);const we=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{he.classList.remove(we)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const z=this._options?.clickAction;this.disabled||"noop"===z?!this.disabled&&"noop"===z&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==z&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?P.Checked:P.Unchecked),this._emitChangeEvent())}_onInteractionEvent(z){z.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(z,J){if("NoopAnimations"===this._animationMode)return"";switch(z){case P.Init:if(J===P.Checked)return this._animationClasses.uncheckedToChecked;if(J==P.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case P.Unchecked:return J===P.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case P.Checked:return J===P.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case P.Indeterminate:return J===P.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(z){const J=this._inputElement;J&&(J.nativeElement.indeterminate=z)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(z){z.target&&this._labelElement.nativeElement.contains(z.target)&&z.stopPropagation()}}return(ne=q).\u0275fac=function(z){return new(z||ne)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(r.SKi),r.kS0("tabindex"),r.rXU(r.bc$,8),r.rXU(d,8))},ne.\u0275cmp=r.VBU({type:ne,selectors:[["mat-checkbox"]],viewQuery:function(z,J){if(1&z&&(r.GBs(S,5),r.GBs(M,5),r.GBs(v.r6,5)),2&z){let he;r.mGM(he=r.lsd())&&(J._inputElement=he.first),r.mGM(he=r.lsd())&&(J._labelElement=he.first),r.mGM(he=r.lsd())&&(J.ripple=he.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(z,J){2&z&&(r.Mr5("id",J.id),r.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),r.HbH(J.color?"mat-"+J.color:"mat-accent"),r.AVh("_mat-animation-noopable","NoopAnimations"===J._animationMode)("mdc-checkbox--disabled",J.disabled)("mat-mdc-checkbox-disabled",J.disabled)("mat-mdc-checkbox-checked",J.checked))},inputs:{ariaLabel:[r.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[r.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[r.Mj6.None,"aria-describedby","ariaDescribedby"],id:"id",required:[r.Mj6.HasDecoratorInputTransform,"required","required",r.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[r.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",r.L39],tabIndex:[r.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",le=>null==le?void 0:(0,r.Udg)(le)],color:"color",checked:[r.Mj6.HasDecoratorInputTransform,"checked","checked",r.L39],disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],indeterminate:[r.Mj6.HasDecoratorInputTransform,"indeterminate","indeterminate",r.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[r.Jv_([G,{provide:s.cz,useExisting:ne,multi:!0}]),r.GFd,r.OA$,r.aNF],ngContentSelectors:C,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(z,J){if(1&z){const he=r.RV6();r.NAR(),r.j41(0,"div",3),r.bIt("click",function(k){return r.eBV(he),r.Njj(J._preventBubblingFromLabel(k))}),r.j41(1,"div",4,0)(3,"div",5),r.bIt("click",function(){return r.eBV(he),r.Njj(J._onTouchTargetClick())}),r.k0s(),r.j41(4,"input",6,1),r.bIt("blur",function(){return r.eBV(he),r.Njj(J._onBlur())})("click",function(){return r.eBV(he),r.Njj(J._onInputClick())})("change",function(k){return r.eBV(he),r.Njj(J._onInteractionEvent(k))}),r.k0s(),r.nrm(6,"div",7),r.j41(7,"div",8),r.qSk(),r.j41(8,"svg",9),r.nrm(9,"path",10),r.k0s(),r.joV(),r.nrm(10,"div",11),r.k0s(),r.nrm(11,"div",12),r.k0s(),r.j41(12,"label",13,2),r.SdG(14),r.k0s()()}if(2&z){const he=r.sdS(2);r.Y8G("labelPosition",J.labelPosition),r.R7$(4),r.AVh("mdc-checkbox--selected",J.checked),r.Y8G("checked",J.checked)("indeterminate",J.indeterminate)("disabled",J.disabled)("id",J.inputId)("required",J.required)("tabIndex",J.disabled?-1:J.tabIndex),r.BMQ("aria-label",J.ariaLabel||null)("aria-labelledby",J.ariaLabelledby)("aria-describedby",J.ariaDescribedby)("aria-checked",J.indeterminate?"mixed":null)("name",J.name)("value",J.value),r.R7$(7),r.Y8G("matRippleTrigger",he)("matRippleDisabled",J.disableRipple||J.disabled)("matRippleCentered",!0),r.R7$(),r.Y8G("for",J.inputId)}},dependencies:[v.r6,v.tO],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),q})(),Z=(()=>{var ne;class q{}return(ne=q).\u0275fac=function(z){return new(z||ne)},ne.\u0275mod=r.$C({type:ne}),ne.\u0275inj=r.G2t({imports:[E,v.yE,v.yE]}),q})()},86600:(ln,qe,w)=>{"use strict";w.d(qe,{$E:()=>en,yE:()=>he,Sy:()=>br,wg:()=>it,r6:()=>Oe,Ej:()=>sn,pZ:()=>Pt,Ex:()=>j,tO:()=>Yt});var r=w(54438),s=w(18617),v=w(28203),M=w(60177),C=w(36860),d=w(14085);const U=["mat-internal-form-field",""],Z=["*"],J=new r.nKC("mat-sanity-checks",{providedIn:"root",factory:function z(){return!0}});let he=(()=>{var Qe;class Lt{constructor(vt,ze,nn){this._sanityChecks=ze,this._document=nn,this._hasDoneGlobalChecks=!1,vt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(vt){return!(0,C.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[vt])}}return(Qe=Lt).\u0275fac=function(vt){return new(vt||Qe)(r.KVO(s.Q_),r.KVO(J,8),r.KVO(M.qQ))},Qe.\u0275mod=r.$C({type:Qe}),Qe.\u0275inj=r.G2t({imports:[v.jI,v.jI]}),Lt})();var j=function(Qe){return Qe[Qe.FADING_IN=0]="FADING_IN",Qe[Qe.VISIBLE=1]="VISIBLE",Qe[Qe.FADING_OUT=2]="FADING_OUT",Qe[Qe.HIDDEN=3]="HIDDEN",Qe}(j||{});class h{constructor(Lt,Mn,vt,ze=!1){this._renderer=Lt,this.element=Mn,this.config=vt,this._animationForciblyDisabledThroughCss=ze,this.state=j.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const I=(0,C.BQ)({passive:!0,capture:!0});class xe{constructor(){this._events=new Map,this._delegateEventHandler=Lt=>{const Mn=(0,C.Fb)(Lt);Mn&&this._events.get(Lt.type)?.forEach((vt,ze)=>{(ze===Mn||ze.contains(Mn))&&vt.forEach(nn=>nn.handleEvent(Lt))})}}addHandler(Lt,Mn,vt,ze){const nn=this._events.get(Mn);if(nn){const Ye=nn.get(vt);Ye?Ye.add(ze):nn.set(vt,new Set([ze]))}else this._events.set(Mn,new Map([[vt,new Set([ze])]])),Lt.runOutsideAngular(()=>{document.addEventListener(Mn,this._delegateEventHandler,I)})}removeHandler(Lt,Mn,vt){const ze=this._events.get(Lt);if(!ze)return;const nn=ze.get(Mn);nn&&(nn.delete(vt),0===nn.size&&ze.delete(Mn),0===ze.size&&(this._events.delete(Lt),document.removeEventListener(Lt,this._delegateEventHandler,I)))}}const ie={enterDuration:225,exitDuration:150},K=(0,C.BQ)({passive:!0,capture:!0}),se=["mousedown","touchstart"],Le=["mouseup","mouseleave","touchend","touchcancel"];class ct{constructor(Lt,Mn,vt,ze){this._target=Lt,this._ngZone=Mn,this._platform=ze,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ze.isBrowser&&(this._containerElement=(0,d.i8)(vt))}fadeInRipple(Lt,Mn,vt={}){const ze=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),nn={...ie,...vt.animation};vt.centered&&(Lt=ze.left+ze.width/2,Mn=ze.top+ze.height/2);const Ye=vt.radius||function ut(Qe,Lt,Mn){const vt=Math.max(Math.abs(Qe-Mn.left),Math.abs(Qe-Mn.right)),ze=Math.max(Math.abs(Lt-Mn.top),Math.abs(Lt-Mn.bottom));return Math.sqrt(vt*vt+ze*ze)}(Lt,Mn,ze),At=Lt-ze.left,Pn=Mn-ze.top,Yn=nn.enterDuration,gr=document.createElement("div");gr.classList.add("mat-ripple-element"),gr.style.left=At-Ye+"px",gr.style.top=Pn-Ye+"px",gr.style.height=2*Ye+"px",gr.style.width=2*Ye+"px",null!=vt.color&&(gr.style.backgroundColor=vt.color),gr.style.transitionDuration=`${Yn}ms`,this._containerElement.appendChild(gr);const vr=window.getComputedStyle(gr),to=vr.transitionDuration,ro="none"===vr.transitionProperty||"0s"===to||"0s, 0s"===to||0===ze.width&&0===ze.height,wi=new h(this,gr,vt,ro);gr.style.transform="scale3d(1, 1, 1)",wi.state=j.FADING_IN,vt.persistent||(this._mostRecentTransientRipple=wi);let _o=null;return!ro&&(Yn||nn.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Uo=()=>this._finishRippleTransition(wi),So=()=>this._destroyRipple(wi);gr.addEventListener("transitionend",Uo),gr.addEventListener("transitioncancel",So),_o={onTransitionEnd:Uo,onTransitionCancel:So}}),this._activeRipples.set(wi,_o),(ro||!Yn)&&this._finishRippleTransition(wi),wi}fadeOutRipple(Lt){if(Lt.state===j.FADING_OUT||Lt.state===j.HIDDEN)return;const Mn=Lt.element,vt={...ie,...Lt.config.animation};Mn.style.transitionDuration=`${vt.exitDuration}ms`,Mn.style.opacity="0",Lt.state=j.FADING_OUT,(Lt._animationForciblyDisabledThroughCss||!vt.exitDuration)&&this._finishRippleTransition(Lt)}fadeOutAll(){this._getActiveRipples().forEach(Lt=>Lt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Lt=>{Lt.config.persistent||Lt.fadeOut()})}setupTriggerEvents(Lt){const Mn=(0,d.i8)(Lt);!this._platform.isBrowser||!Mn||Mn===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Mn,se.forEach(vt=>{ct._eventManager.addHandler(this._ngZone,vt,Mn,this)}))}handleEvent(Lt){"mousedown"===Lt.type?this._onMousedown(Lt):"touchstart"===Lt.type?this._onTouchStart(Lt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Le.forEach(Mn=>{this._triggerElement.addEventListener(Mn,this,K)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Lt){Lt.state===j.FADING_IN?this._startFadeOutTransition(Lt):Lt.state===j.FADING_OUT&&this._destroyRipple(Lt)}_startFadeOutTransition(Lt){const Mn=Lt===this._mostRecentTransientRipple,{persistent:vt}=Lt.config;Lt.state=j.VISIBLE,!vt&&(!Mn||!this._isPointerDown)&&Lt.fadeOut()}_destroyRipple(Lt){const Mn=this._activeRipples.get(Lt)??null;this._activeRipples.delete(Lt),this._activeRipples.size||(this._containerRect=null),Lt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Lt.state=j.HIDDEN,null!==Mn&&(Lt.element.removeEventListener("transitionend",Mn.onTransitionEnd),Lt.element.removeEventListener("transitioncancel",Mn.onTransitionCancel)),Lt.element.remove()}_onMousedown(Lt){const Mn=(0,s._G)(Lt),vt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Mn&&!vt&&(this._isPointerDown=!0,this.fadeInRipple(Lt.clientX,Lt.clientY,this._target.rippleConfig))}_onTouchStart(Lt){if(!this._target.rippleDisabled&&!(0,s.w6)(Lt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Mn=Lt.changedTouches;if(Mn)for(let vt=0;vt<Mn.length;vt++)this.fadeInRipple(Mn[vt].clientX,Mn[vt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Lt=>{!Lt.config.persistent&&(Lt.state===j.VISIBLE||Lt.config.terminateOnPointerUp&&Lt.state===j.FADING_IN)&&Lt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Lt=this._triggerElement;Lt&&(se.forEach(Mn=>ct._eventManager.removeHandler(Mn,Lt,this)),this._pointerUpEventsRegistered&&(Le.forEach(Mn=>Lt.removeEventListener(Mn,this,K)),this._pointerUpEventsRegistered=!1))}}ct._eventManager=new xe;const en=new r.nKC("mat-ripple-global-options");let Oe=(()=>{var Qe;class Lt{get disabled(){return this._disabled}set disabled(vt){vt&&this.fadeOutAllNonPersistent(),this._disabled=vt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(vt){this._trigger=vt,this._setupTriggerEventsIfEnabled()}constructor(vt,ze,nn,Ye,At){this._elementRef=vt,this._animationMode=At,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ye||{},this._rippleRenderer=new ct(this,ze,vt,nn)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(vt,ze=0,nn){return"number"==typeof vt?this._rippleRenderer.fadeInRipple(vt,ze,{...this.rippleConfig,...nn}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...vt})}}return(Qe=Lt).\u0275fac=function(vt){return new(vt||Qe)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(C.OD),r.rXU(en,8),r.rXU(r.bc$,8))},Qe.\u0275dir=r.FsC({type:Qe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(vt,ze){2&vt&&r.AVh("mat-ripple-unbounded",ze.unbounded)},inputs:{color:[r.Mj6.None,"matRippleColor","color"],unbounded:[r.Mj6.None,"matRippleUnbounded","unbounded"],centered:[r.Mj6.None,"matRippleCentered","centered"],radius:[r.Mj6.None,"matRippleRadius","radius"],animation:[r.Mj6.None,"matRippleAnimation","animation"],disabled:[r.Mj6.None,"matRippleDisabled","disabled"],trigger:[r.Mj6.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0}),Lt})(),Pt=(()=>{var Qe;class Lt{}return(Qe=Lt).\u0275fac=function(vt){return new(vt||Qe)},Qe.\u0275mod=r.$C({type:Qe}),Qe.\u0275inj=r.G2t({imports:[he,he]}),Lt})(),it=(()=>{var Qe;class Lt{constructor(vt){this._animationMode=vt,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return(Qe=Lt).\u0275fac=function(vt){return new(vt||Qe)(r.rXU(r.bc$,8))},Qe.\u0275cmp=r.VBU({type:Qe,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(vt,ze){2&vt&&r.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===ze.state)("mat-pseudo-checkbox-checked","checked"===ze.state)("mat-pseudo-checkbox-disabled",ze.disabled)("mat-pseudo-checkbox-minimal","minimal"===ze.appearance)("mat-pseudo-checkbox-full","full"===ze.appearance)("_mat-animation-noopable","NoopAnimations"===ze._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(vt,ze){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),Lt})(),Bt=(()=>{var Qe;class Lt{}return(Qe=Lt).\u0275fac=function(vt){return new(vt||Qe)},Qe.\u0275mod=r.$C({type:Qe}),Qe.\u0275inj=r.G2t({imports:[he]}),Lt})(),br=(()=>{var Qe;class Lt{}return(Qe=Lt).\u0275fac=function(vt){return new(vt||Qe)},Qe.\u0275mod=r.$C({type:Qe}),Qe.\u0275inj=r.G2t({imports:[Pt,he,Bt]}),Lt})();const Mr={capture:!0},yn=["focus","click","mouseenter","touchstart"],St="mat-ripple-loader-uninitialized",kt="mat-ripple-loader-class-name",Mt="mat-ripple-loader-centered",bt="mat-ripple-loader-disabled";let sn=(()=>{var Qe;class Lt{constructor(){this._document=(0,r.WQX)(M.qQ,{optional:!0}),this._animationMode=(0,r.WQX)(r.bc$,{optional:!0}),this._globalRippleOptions=(0,r.WQX)(en,{optional:!0}),this._platform=(0,r.WQX)(C.OD),this._ngZone=(0,r.WQX)(r.SKi),this._hosts=new Map,this._onInteraction=vt=>{if(!(vt.target instanceof HTMLElement))return;const nn=vt.target.closest(`[${St}]`);nn&&this._createRipple(nn)},this._ngZone.runOutsideAngular(()=>{for(const vt of yn)this._document?.addEventListener(vt,this._onInteraction,Mr)})}ngOnDestroy(){const vt=this._hosts.keys();for(const ze of vt)this.destroyRipple(ze);for(const ze of yn)this._document?.removeEventListener(ze,this._onInteraction,Mr)}configureRipple(vt,ze){vt.setAttribute(St,""),(ze.className||!vt.hasAttribute(kt))&&vt.setAttribute(kt,ze.className||""),ze.centered&&vt.setAttribute(Mt,""),ze.disabled&&vt.setAttribute(bt,"")}getRipple(vt){return this._hosts.get(vt)||this._createRipple(vt)}setDisabled(vt,ze){const nn=this._hosts.get(vt);nn?nn.disabled=ze:ze?vt.setAttribute(bt,""):vt.removeAttribute(bt)}_createRipple(vt){if(!this._document)return;const ze=this._hosts.get(vt);if(ze)return ze;vt.querySelector(".mat-ripple")?.remove();const nn=this._document.createElement("span");nn.classList.add("mat-ripple",vt.getAttribute(kt)),vt.append(nn);const Ye=new Oe(new r.aKT(nn),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ye._isInitialized=!0,Ye.trigger=vt,Ye.centered=vt.hasAttribute(Mt),Ye.disabled=vt.hasAttribute(bt),this.attachRipple(vt,Ye),Ye}attachRipple(vt,ze){vt.removeAttribute(St),this._hosts.set(vt,ze)}destroyRipple(vt){const ze=this._hosts.get(vt);ze&&(ze.ngOnDestroy(),this._hosts.delete(vt))}}return(Qe=Lt).\u0275fac=function(vt){return new(vt||Qe)},Qe.\u0275prov=r.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Lt})(),Yt=(()=>{var Qe;class Lt{}return(Qe=Lt).\u0275fac=function(vt){return new(vt||Qe)},Qe.\u0275cmp=r.VBU({type:Qe,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(vt,ze){2&vt&&r.AVh("mdc-form-field--align-end","before"===ze.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[r.aNF],attrs:U,ngContentSelectors:Z,decls:1,vars:0,template:function(vt,ze){1&vt&&(r.NAR(),r.SdG(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0}),Lt})()},34006:(ln,qe,w)=>{"use strict";w.d(qe,{BI:()=>yt,CP:()=>Ie,E7:()=>Ln,Vh:()=>Ze,Yi:()=>qt,bZ:()=>fe,hM:()=>Ve,tx:()=>Se});var r=w(47987),s=w(60177),v=w(54438),S=w(18617),M=w(82529),C=w(14085),d=w(76939),F=w(85052),P=w(76718),G=w(45946),N=w(14264),x=w(17365),m=w(35160),E=w(67336),L=w(86600);function U(b,R){}w(49969);class Z{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ne="mdc-dialog--open",q="mdc-dialog--opening",le="mdc-dialog--closing";let he=(()=>{var b;class R extends M.sU{constructor(V,j,h,I,xe,ie,D,K,se){super(V,j,h,I,xe,ie,D,se),this._animationMode=K,this._animationStateChanged=new v.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?k(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?k(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(we,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(q,ne)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ne),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ne),this._animationsEnabled?(this._hostElement.style.setProperty(we,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(le)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(V){this._actionSectionCount+=V,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(q,le)}_waitForAnimationToComplete(V,j){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(j,V)}_requestAnimationFrame(V){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(V):V()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(V){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:V})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(V){const j=super.attachComponentPortal(V);return j.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),j}}return(b=R).\u0275fac=function(V){return new(V||b)(v.rXU(v.aKT),v.rXU(S.GX),v.rXU(s.qQ,8),v.rXU(Z),v.rXU(S.Z7),v.rXU(v.SKi),v.rXU(r.yY),v.rXU(v.bc$,8),v.rXU(S.FN))},b.\u0275cmp=v.VBU({type:b,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(V,j){2&V&&(v.Mr5("id",j._config.id),v.BMQ("aria-modal",j._config.ariaModal)("role",j._config.role)("aria-labelledby",j._config.ariaLabel?null:j._ariaLabelledByQueue[0])("aria-label",j._config.ariaLabel)("aria-describedby",j._config.ariaDescribedBy||null),v.AVh("_mat-animation-noopable",!j._animationsEnabled)("mat-mdc-dialog-container-with-actions",j._actionSectionCount>0))},standalone:!0,features:[v.Vt3,v.aNF],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(V,j){1&V&&(v.j41(0,"div",0)(1,"div",1),v.DNE(2,U,0,0,"ng-template",2),v.k0s()())},dependencies:[d.I3],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),R})();const we="--mat-dialog-transition-duration";function k(b){return null==b?null:"number"==typeof b?b:b.endsWith("ms")?(0,C.OE)(b.substring(0,b.length-2)):b.endsWith("s")?1e3*(0,C.OE)(b.substring(0,b.length-1)):"0"===b?0:null}var ue=function(b){return b[b.OPEN=0]="OPEN",b[b.CLOSING=1]="CLOSING",b[b.CLOSED=2]="CLOSED",b}(ue||{});class Ie{constructor(R,T,V){this._ref=R,this._containerInstance=V,this._afterOpened=new F.B,this._beforeClosed=new F.B,this._state=ue.OPEN,this.disableClose=T.disableClose,this.id=R.id,R.addPanelClass("mat-mdc-dialog-panel"),V._animationStateChanged.pipe((0,N.p)(j=>"opened"===j.state),(0,x.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),V._animationStateChanged.pipe((0,N.p)(j=>"closed"===j.state),(0,x.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),R.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,P.h)(this.backdropClick(),this.keydownEvents().pipe((0,N.p)(j=>j.keyCode===E._f&&!this.disableClose&&!(0,E.rp)(j)))).subscribe(j=>{this.disableClose||(j.preventDefault(),ke(this,"keydown"===j.type?"keyboard":"mouse"))})}close(R){this._result=R,this._containerInstance._animationStateChanged.pipe((0,N.p)(T=>"closing"===T.state),(0,x.s)(1)).subscribe(T=>{this._beforeClosed.next(R),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),T.totalTime+100)}),this._state=ue.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(R){let T=this._ref.config.positionStrategy;return R&&(R.left||R.right)?R.left?T.left(R.left):T.right(R.right):T.centerHorizontally(),R&&(R.top||R.bottom)?R.top?T.top(R.top):T.bottom(R.bottom):T.centerVertically(),this._ref.updatePosition(),this}updateSize(R="",T=""){return this._ref.updateSize(R,T),this}addPanelClass(R){return this._ref.addPanelClass(R),this}removePanelClass(R){return this._ref.removePanelClass(R),this}getState(){return this._state}_finishDialogClose(){this._state=ue.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function ke(b,R,T){return b._closeInteractionType=R,b.close(T)}const Ze=new v.nKC("MatMdcDialogData"),Ce=new v.nKC("mat-mdc-dialog-default-options"),Nt=new v.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const b=(0,v.WQX)(r.hJ);return()=>b.scrollStrategies.block()}});let ee=0,fe=(()=>{var b;class R{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const V=this._parentDialog;return V?V._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(V,j,h,I,xe,ie,D,K){this._overlay=V,this._defaultOptions=I,this._scrollStrategy=xe,this._parentDialog=ie,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F.B,this._afterOpenedAtThisLevel=new F.B,this.dialogConfigClass=Z,this.afterAllClosed=(0,G.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,m.Z)(void 0))),this._dialog=j.get(M.lG),this._dialogRefConstructor=Ie,this._dialogContainerType=he,this._dialogDataToken=Ze}open(V,j){let h;(j={...this._defaultOptions||new Z,...j}).id=j.id||"mat-mdc-dialog-"+ee++,j.scrollStrategy=j.scrollStrategy||this._scrollStrategy();const I=this._dialog.open(V,{...j,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:j},{provide:M.Pe,useValue:j}]},templateContext:()=>({dialogRef:h}),providers:(xe,ie,D)=>(h=new this._dialogRefConstructor(xe,j,D),h.updatePosition(j?.position),[{provide:this._dialogContainerType,useValue:D},{provide:this._dialogDataToken,useValue:ie.data},{provide:this._dialogRefConstructor,useValue:h}])});return h.componentRef=I.componentRef,h.componentInstance=I.componentInstance,this.openDialogs.push(h),this.afterOpened.next(h),h.afterClosed().subscribe(()=>{const xe=this.openDialogs.indexOf(h);xe>-1&&(this.openDialogs.splice(xe,1),this.openDialogs.length||this._getAfterAllClosed().next())}),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(V){return this.openDialogs.find(j=>j.id===V)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(V){let j=V.length;for(;j--;)V[j].close()}}return(b=R).\u0275fac=function(V){return new(V||b)(v.KVO(r.hJ),v.KVO(v.zZn),v.KVO(s.aZ,8),v.KVO(Ce,8),v.KVO(Nt),v.KVO(b,12),v.KVO(r.Sf),v.KVO(v.bc$,8))},b.\u0275prov=v.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),R})(),ye=0,Se=(()=>{var b;class R{constructor(V,j,h){this.dialogRef=V,this._elementRef=j,this._dialog=h,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Tt(this._elementRef,this._dialog.openDialogs))}ngOnChanges(V){const j=V._matDialogClose||V._matDialogCloseResult;j&&(this.dialogResult=j.currentValue)}_onButtonClick(V){ke(this.dialogRef,0===V.screenX&&0===V.screenY?"keyboard":"mouse",this.dialogResult)}}return(b=R).\u0275fac=function(V){return new(V||b)(v.rXU(Ie,8),v.rXU(v.aKT),v.rXU(fe))},b.\u0275dir=v.FsC({type:b,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(V,j){1&V&&v.bIt("click",function(I){return j._onButtonClick(I)}),2&V&&v.BMQ("aria-label",j.ariaLabel||null)("type",j.type)},inputs:{ariaLabel:[v.Mj6.None,"aria-label","ariaLabel"],type:"type",dialogResult:[v.Mj6.None,"mat-dialog-close","dialogResult"],_matDialogClose:[v.Mj6.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[v.OA$]}),R})(),Be=(()=>{var b;class R{constructor(V,j,h){this._dialogRef=V,this._elementRef=j,this._dialog=h}ngOnInit(){this._dialogRef||(this._dialogRef=Tt(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}}return(b=R).\u0275fac=function(V){return new(V||b)(v.rXU(Ie,8),v.rXU(v.aKT),v.rXU(fe))},b.\u0275dir=v.FsC({type:b,standalone:!0}),R})(),yt=(()=>{var b;class R extends Be{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+ye++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}}return(b=R).\u0275fac=(()=>{let T;return function(j){return(T||(T=v.xGo(b)))(j||b)}})(),b.\u0275dir=v.FsC({type:b,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(V,j){2&V&&v.Mr5("id",j.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[v.Vt3]}),R})(),qt=(()=>{var b;class R{}return(b=R).\u0275fac=function(V){return new(V||b)},b.\u0275dir=v.FsC({type:b,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0}),R})(),Ln=(()=>{var b;class R extends Be{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}}return(b=R).\u0275fac=(()=>{let T;return function(j){return(T||(T=v.xGo(b)))(j||b)}})(),b.\u0275dir=v.FsC({type:b,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(V,j){2&V&&v.AVh("mat-mdc-dialog-actions-align-start","start"===j.align)("mat-mdc-dialog-actions-align-center","center"===j.align)("mat-mdc-dialog-actions-align-end","end"===j.align)},inputs:{align:"align"},standalone:!0,features:[v.Vt3]}),R})();function Tt(b,R){let T=b.nativeElement.parentElement;for(;T&&!T.classList.contains("mat-mdc-dialog-container");)T=T.parentElement;return T?R.find(V=>V.id===T.id):null}let Ve=(()=>{var b;class R{}return(b=R).\u0275fac=function(V){return new(V||b)},b.\u0275mod=v.$C({type:b}),b.\u0275inj=v.G2t({providers:[fe],imports:[M.Ph,r.z_,d.jc,L.yE,L.yE]}),R})()},71997:(ln,qe,w)=>{"use strict";w.d(qe,{q:()=>S,w:()=>M});var r=w(54438),s=w(14085),v=w(86600);let S=(()=>{var C;class d{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(P){this._vertical=(0,s.he)(P)}get inset(){return this._inset}set inset(P){this._inset=(0,s.he)(P)}}return(C=d).\u0275fac=function(P){return new(P||C)},C.\u0275cmp=r.VBU({type:C,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(P,G){2&P&&(r.BMQ("aria-orientation",G.vertical?"vertical":"horizontal"),r.AVh("mat-divider-vertical",G.vertical)("mat-divider-horizontal",!G.vertical)("mat-divider-inset",G.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[r.aNF],decls:0,vars:0,template:function(P,G){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),d})(),M=(()=>{var C;class d{}return(C=d).\u0275fac=function(P){return new(P||C)},C.\u0275mod=r.$C({type:C}),C.\u0275inj=r.G2t({imports:[v.yE,v.yE]}),d})()},53719:(ln,qe,w)=>{"use strict";w.d(qe,{RG:()=>ct,TL:()=>me});var r=w(54438),v=(w(49969),w(60177)),S=w(72318),M=w(86600);let Nt=0;const Kt=new r.nKC("MatError");let me=(()=>{var ut;class en{constructor(Pt,it){this.id="mat-mdc-error-"+Nt++,Pt||it.nativeElement.setAttribute("aria-live","polite")}}return(ut=en).\u0275fac=function(Pt){return new(Pt||ut)(r.kS0("aria-live"),r.rXU(r.aKT))},ut.\u0275dir=r.FsC({type:ut,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Pt,it){2&Pt&&r.Mr5("id",it.id)},inputs:{id:"id"},standalone:!0,features:[r.Jv_([{provide:Kt,useExisting:ut}])]}),en})(),ct=(()=>{var ut;class en{}return(ut=en).\u0275fac=function(Pt){return new(Pt||ut)},ut.\u0275mod=r.$C({type:ut}),ut.\u0275inj=r.G2t({imports:[M.yE,v.MD,S.w5,M.yE]}),en})()},59115:(ln,qe,w)=>{"use strict";w.d(qe,{Cn:()=>R,Cp:()=>b,fb:()=>Ze,kk:()=>Ln,z8:()=>ee});var r=w(54438),s=w(18617),v=w(67336),S=w(85052),M=w(76718),C=w(81027),d=w(15877),F=w(82755),P=w(35160),G=w(32914),N=w(17365),x=w(37925),m=w(14264),E=w(19833),L=w(60177),ae=w(86600),U=w(76939),Z=w(49969),ne=w(28203),q=w(47987),le=w(36860),z=w(65478);const J=["mat-menu-item",""],he=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],we=["mat-icon, [matMenuItemIcon]","*"];function k(T,V){1&T&&(r.qSk(),r.j41(0,"svg",2),r.nrm(1,"polygon",3),r.k0s())}const ue=["*"];function Ie(T,V){if(1&T){const j=r.RV6();r.j41(0,"div",0),r.bIt("keydown",function(I){r.eBV(j);const xe=r.XpG();return r.Njj(xe._handleKeydown(I))})("click",function(){r.eBV(j);const I=r.XpG();return r.Njj(I.closed.emit("click"))})("@transformMenu.start",function(I){r.eBV(j);const xe=r.XpG();return r.Njj(xe._onAnimationStart(I))})("@transformMenu.done",function(I){r.eBV(j);const xe=r.XpG();return r.Njj(xe._onAnimationDone(I))}),r.j41(1,"div",1),r.SdG(2),r.k0s()()}if(2&T){const j=r.XpG();r.HbH(j._classList),r.Y8G("id",j.panelId)("@transformMenu",j._panelAnimationState),r.BMQ("aria-label",j.ariaLabel||null)("aria-labelledby",j.ariaLabelledby||null)("aria-describedby",j.ariaDescribedby||null)}}const ke=new r.nKC("MAT_MENU_PANEL");let Ze=(()=>{var T;class V{constructor(h,I,xe,ie,D){this._elementRef=h,this._document=I,this._focusMonitor=xe,this._parentMenu=ie,this._changeDetectorRef=D,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new S.B,this._focused=new S.B,this._highlighted=!1,this._triggersSubmenu=!1,ie?.addItem?.(this)}focus(h,I){this._focusMonitor&&h?this._focusMonitor.focusVia(this._getHostElement(),h,I):this._getHostElement().focus(I),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(h){this.disabled&&(h.preventDefault(),h.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const h=this._elementRef.nativeElement.cloneNode(!0),I=h.querySelectorAll("mat-icon, .material-icons");for(let xe=0;xe<I.length;xe++)I[xe].remove();return h.textContent?.trim()||""}_setHighlighted(h){this._highlighted=h,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(h){this._triggersSubmenu=h,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return(T=V).\u0275fac=function(h){return new(h||T)(r.rXU(r.aKT),r.rXU(L.qQ),r.rXU(s.FN),r.rXU(ke,8),r.rXU(r.gRc))},T.\u0275cmp=r.VBU({type:T,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(h,I){1&h&&r.bIt("click",function(ie){return I._checkDisabled(ie)})("mouseenter",function(){return I._handleMouseEnter()}),2&h&&(r.BMQ("role",I.role)("tabindex",I._getTabIndex())("aria-disabled",I.disabled)("disabled",I.disabled||null),r.AVh("mat-mdc-menu-item-highlighted",I._highlighted)("mat-mdc-menu-item-submenu-trigger",I._triggersSubmenu))},inputs:{role:"role",disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],disableRipple:[r.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",r.L39]},exportAs:["matMenuItem"],standalone:!0,features:[r.GFd,r.aNF],attrs:J,ngContentSelectors:we,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(h,I){1&h&&(r.NAR(he),r.SdG(0),r.j41(1,"span",0),r.SdG(2,1),r.k0s(),r.nrm(3,"div",1),r.DNE(4,k,2,0,":svg:svg",2)),2&h&&(r.R7$(3),r.Y8G("matRippleDisabled",I.disableRipple||I.disabled)("matRippleTrigger",I._getHostElement()),r.R7$(),r.vxM(4,I._triggersSubmenu?4:-1))},dependencies:[ae.r6],encapsulation:2,changeDetection:0}),V})();const me=new r.nKC("MatMenuContent");let ee=(()=>{var T;class V{constructor(h,I,xe,ie,D,K,se){this._template=h,this._componentFactoryResolver=I,this._appRef=xe,this._injector=ie,this._viewContainerRef=D,this._document=K,this._changeDetectorRef=se,this._attached=new S.B}attach(h={}){this._portal||(this._portal=new U.VA(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new U.aI(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const I=this._template.elementRef.nativeElement;I.parentNode.insertBefore(this._outlet.outletElement,I),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,h),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return(T=V).\u0275fac=function(h){return new(h||T)(r.rXU(r.C4Q),r.rXU(r.OM3),r.rXU(r.o8S),r.rXU(r.zZn),r.rXU(r.c1b),r.rXU(L.qQ),r.rXU(r.gRc))},T.\u0275dir=r.FsC({type:T,selectors:[["ng-template","matMenuContent",""]],standalone:!0,features:[r.Jv_([{provide:me,useExisting:T}])]}),V})();const fe={transformMenu:(0,Z.hZ)("transformMenu",[(0,Z.wk)("void",(0,Z.iF)({opacity:0,transform:"scale(0.8)"})),(0,Z.kY)("void => enter",(0,Z.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Z.iF)({opacity:1,transform:"scale(1)"}))),(0,Z.kY)("* => void",(0,Z.i0)("100ms 25ms linear",(0,Z.iF)({opacity:0})))]),fadeInItems:(0,Z.hZ)("fadeInItems",[(0,Z.wk)("showing",(0,Z.iF)({opacity:1})),(0,Z.kY)("void => *",[(0,Z.iF)({opacity:0}),(0,Z.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Be=0;const yt=new r.nKC("mat-menu-default-options",{providedIn:"root",factory:function qt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ln=(()=>{var T;class V{get xPosition(){return this._xPosition}set xPosition(h){this._xPosition=h,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(h){this._yPosition=h,this.setPositionClasses()}set panelClass(h){const I=this._previousPanelClass,xe={...this._classList};I&&I.length&&I.split(" ").forEach(ie=>{xe[ie]=!1}),this._previousPanelClass=h,h&&h.length&&(h.split(" ").forEach(ie=>{xe[ie]=!0}),this._elementRef.nativeElement.className=""),this._classList=xe}get classList(){return this.panelClass}set classList(h){this.panelClass=h}constructor(h,I,xe,ie){this._elementRef=h,this._ngZone=I,this._changeDetectorRef=ie,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new r.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new S.B,this.closed=new r.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Be++,this.overlayPanelClass=xe.overlayPanelClass||"",this._xPosition=xe.xPosition,this._yPosition=xe.yPosition,this.backdropClass=xe.backdropClass,this.overlapTrigger=xe.overlapTrigger,this.hasBackdrop=xe.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new s.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,P.Z)(this._directDescendantItems),(0,G.n)(h=>(0,M.h)(...h.map(I=>I._focused)))).subscribe(h=>this._keyManager.updateActiveItem(h)),this._directDescendantItems.changes.subscribe(h=>{const I=this._keyManager;if("enter"===this._panelAnimationState&&I.activeItem?._hasFocus()){const xe=h.toArray(),ie=Math.max(0,Math.min(xe.length-1,I.activeItemIndex||0));xe[ie]&&!xe[ie].disabled?I.setActiveItem(ie):I.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,P.Z)(this._directDescendantItems),(0,G.n)(I=>(0,M.h)(...I.map(xe=>xe._hovered))))}addItem(h){}removeItem(h){}_handleKeydown(h){const I=h.keyCode,xe=this._keyManager;switch(I){case v._f:(0,v.rp)(h)||(h.preventDefault(),this.closed.emit("keydown"));break;case v.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case v.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(I===v.i7||I===v.n6)&&xe.setFocusOrigin("keyboard"),void xe.onKeydown(h)}h.stopPropagation()}focusFirstItem(h="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,N.s)(1)).subscribe(()=>{let I=null;if(this._directDescendantItems.length&&(I=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!I||!I.contains(document.activeElement)){const xe=this._keyManager;xe.setFocusOrigin(h).setFirstItemActive(),!xe.activeItem&&I&&I.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(h){const I=Math.min(this._baseElevation+h,24),xe=`${this._elevationPrefix}${I}`,ie=Object.keys(this._classList).find(D=>D.startsWith(this._elevationPrefix));if(!ie||ie===this._previousElevation){const D={...this._classList};this._previousElevation&&(D[this._previousElevation]=!1),D[xe]=!0,this._previousElevation=xe,this._classList=D}}setPositionClasses(h=this.xPosition,I=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===h,"mat-menu-after":"after"===h,"mat-menu-above":"above"===I,"mat-menu-below":"below"===I},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(h){this._animationDone.next(h),this._isAnimating=!1}_onAnimationStart(h){this._isAnimating=!0,"enter"===h.toState&&0===this._keyManager.activeItemIndex&&(h.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,P.Z)(this._allItems)).subscribe(h=>{this._directDescendantItems.reset(h.filter(I=>I._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return(T=V).\u0275fac=function(h){return new(h||T)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(yt),r.rXU(r.gRc))},T.\u0275cmp=r.VBU({type:T,selectors:[["mat-menu"]],contentQueries:function(h,I,xe){if(1&h&&(r.wni(xe,me,5),r.wni(xe,Ze,5),r.wni(xe,Ze,4)),2&h){let ie;r.mGM(ie=r.lsd())&&(I.lazyContent=ie.first),r.mGM(ie=r.lsd())&&(I._allItems=ie),r.mGM(ie=r.lsd())&&(I.items=ie)}},viewQuery:function(h,I){if(1&h&&r.GBs(r.C4Q,5),2&h){let xe;r.mGM(xe=r.lsd())&&(I.templateRef=xe.first)}},hostVars:3,hostBindings:function(h,I){2&h&&r.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[r.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[r.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[r.Mj6.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[r.Mj6.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",r.L39],hasBackdrop:[r.Mj6.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",j=>null==j?null:(0,r.L39)(j)],panelClass:[r.Mj6.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[r.Jv_([{provide:ke,useExisting:T}]),r.GFd,r.aNF],ngContentSelectors:ue,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(h,I){1&h&&(r.NAR(),r.DNE(0,Ie,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[fe.transformMenu,fe.fadeInItems]},changeDetection:0}),V})();const Tt=new r.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const T=(0,r.WQX)(q.hJ);return()=>T.scrollStrategies.reposition()}}),Ve={provide:Tt,deps:[q.hJ],useFactory:function We(T){return()=>T.scrollStrategies.reposition()}},wt=(0,le.BQ)({passive:!0});let b=(()=>{var T;class V{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(h){this.menu=h}get menu(){return this._menu}set menu(h){h!==this._menu&&(this._menu=h,this._menuCloseSubscription.unsubscribe(),h&&(this._menuCloseSubscription=h.close.subscribe(I=>{this._destroyMenu(I),("click"===I||"tab"===I)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(I)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(h,I,xe,ie,D,K,se,Le,ct){this._overlay=h,this._element=I,this._viewContainerRef=xe,this._menuItemInstance=K,this._dir=se,this._focusMonitor=Le,this._ngZone=ct,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=C.yU.EMPTY,this._hoverSubscription=C.yU.EMPTY,this._menuCloseSubscription=C.yU.EMPTY,this._changeDetectorRef=(0,r.WQX)(r.gRc),this._handleTouchStart=ut=>{(0,s.w6)(ut)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new r.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=ie,this._parentMaterialMenu=D instanceof Ln?D:void 0,I.nativeElement.addEventListener("touchstart",this._handleTouchStart,wt)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,wt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const h=this.menu;if(this._menuOpen||!h)return;const I=this._createOverlay(h),xe=I.getConfig(),ie=xe.positionStrategy;this._setPosition(h,ie),xe.hasBackdrop=null==h.hasBackdrop?!this.triggersSubmenu():h.hasBackdrop,I.attach(this._getPortal(h)),h.lazyContent&&h.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(h),h instanceof Ln&&(h._startAnimation(),h._directDescendantItems.changes.pipe((0,x.Q)(h.close)).subscribe(()=>{ie.withLockedPosition(!1).reapplyLastPosition(),ie.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(h,I){this._focusMonitor&&h?this._focusMonitor.focusVia(this._element,h,I):this._element.nativeElement.focus(I)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(h){if(!this._overlayRef||!this.menuOpen)return;const I=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===h||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,I instanceof Ln?(I._resetAnimation(),I.lazyContent?I._animationDone.pipe((0,m.p)(xe=>"void"===xe.toState),(0,N.s)(1),(0,x.Q)(I.lazyContent._attached)).subscribe({next:()=>I.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),I?.lazyContent?.detach())}_initMenu(h){h.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,h.direction=this.dir,this._setMenuElevation(h),h.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(h){if(h.setElevation){let I=0,xe=h.parentMenu;for(;xe;)I++,xe=xe.parentMenu;h.setElevation(I)}}_setIsMenuOpen(h){h!==this._menuOpen&&(this._menuOpen=h,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(h),this._changeDetectorRef.markForCheck())}_createOverlay(h){if(!this._overlayRef){const I=this._getOverlayConfig(h);this._subscribeToPositions(h,I.positionStrategy),this._overlayRef=this._overlay.create(I),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(h){return new q.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:h.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:h.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(h,I){h.setPositionClasses&&I.positionChanges.subscribe(xe=>{const ie="start"===xe.connectionPair.overlayX?"after":"before",D="top"===xe.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>h.setPositionClasses(ie,D)):h.setPositionClasses(ie,D)})}_setPosition(h,I){let[xe,ie]="before"===h.xPosition?["end","start"]:["start","end"],[D,K]="above"===h.yPosition?["bottom","top"]:["top","bottom"],[se,Le]=[D,K],[ct,ut]=[xe,ie],en=0;if(this.triggersSubmenu()){if(ut=xe="before"===h.xPosition?"start":"end",ie=ct="end"===xe?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Oe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Oe?Oe._getHostElement().offsetTop:0}en="bottom"===D?this._parentInnerPadding:-this._parentInnerPadding}}else h.overlapTrigger||(se="top"===D?"bottom":"top",Le="top"===K?"bottom":"top");I.withPositions([{originX:xe,originY:se,overlayX:ct,overlayY:D,offsetY:en},{originX:ie,originY:se,overlayX:ut,overlayY:D,offsetY:en},{originX:xe,originY:Le,overlayX:ct,overlayY:K,offsetY:-en},{originX:ie,originY:Le,overlayX:ut,overlayY:K,offsetY:-en}])}_menuClosingActions(){const h=this._overlayRef.backdropClick(),I=this._overlayRef.detachments(),xe=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,d.of)(),ie=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,m.p)(D=>D!==this._menuItemInstance),(0,m.p)(()=>this._menuOpen)):(0,d.of)();return(0,M.h)(h,xe,ie,I)}_handleMousedown(h){(0,s._G)(h)||(this._openedBy=0===h.button?"mouse":void 0,this.triggersSubmenu()&&h.preventDefault())}_handleKeydown(h){const I=h.keyCode;(I===v.Fm||I===v.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(I===v.LE&&"ltr"===this.dir||I===v.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(h){this.triggersSubmenu()?(h.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,m.p)(h=>h===this._menuItemInstance&&!h.disabled),(0,E.c)(0,F.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ln&&this.menu._isAnimating?this.menu._animationDone.pipe((0,N.s)(1),(0,E.c)(0,F.$),(0,x.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(h){return(!this._portal||this._portal.templateRef!==h.templateRef)&&(this._portal=new U.VA(h.templateRef,this._viewContainerRef)),this._portal}}return(T=V).\u0275fac=function(h){return new(h||T)(r.rXU(q.hJ),r.rXU(r.aKT),r.rXU(r.c1b),r.rXU(Tt),r.rXU(ke,8),r.rXU(Ze,10),r.rXU(ne.dS,8),r.rXU(s.FN),r.rXU(r.SKi))},T.\u0275dir=r.FsC({type:T,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(h,I){1&h&&r.bIt("click",function(ie){return I._handleClick(ie)})("mousedown",function(ie){return I._handleMousedown(ie)})("keydown",function(ie){return I._handleKeydown(ie)}),2&h&&r.BMQ("aria-haspopup",I.menu?"menu":null)("aria-expanded",I.menuOpen)("aria-controls",I.menuOpen?I.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[r.Mj6.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[r.Mj6.None,"matMenuTriggerFor","menu"],menuData:[r.Mj6.None,"matMenuTriggerData","menuData"],restoreFocus:[r.Mj6.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0}),V})(),R=(()=>{var T;class V{}return(T=V).\u0275fac=function(h){return new(h||T)},T.\u0275mod=r.$C({type:T}),T.\u0275inj=r.G2t({providers:[Ve],imports:[L.MD,ae.pZ,ae.yE,q.z_,z.Gj,ae.yE]}),V})()},67575:(ln,qe,w)=>{"use strict";w.d(qe,{HM:()=>F,PO:()=>G});var r=w(54438),v=(w(60177),w(86600));function S(N,x){1&N&&r.nrm(0,"div",2)}const M=new r.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let F=(()=>{var N;class x{constructor(E,L,ae,U,Z){this._elementRef=E,this._ngZone=L,this._changeDetectorRef=ae,this._animationMode=U,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new r.bkB,this._mode="determinate",this._transitionendHandler=ne=>{0===this.animationEnd.observers.length||!ne.target||!ne.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===U,Z&&(Z.color&&(this.color=this._defaultColor=Z.color),this.mode=Z.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(E){this._color=E}get value(){return this._value}set value(E){this._value=P(E||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(E){this._bufferValue=P(E||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(E){this._mode=E,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return(N=x).\u0275fac=function(E){return new(E||N)(r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(r.gRc),r.rXU(r.bc$,8),r.rXU(M,8))},N.\u0275cmp=r.VBU({type:N,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(E,L){2&E&&(r.BMQ("aria-valuenow",L._isIndeterminate()?null:L.value)("mode",L.mode),r.HbH("mat-"+L.color),r.AVh("_mat-animation-noopable",L._isNoopAnimation)("mdc-linear-progress--animation-ready",!L._isNoopAnimation)("mdc-linear-progress--indeterminate",L._isIndeterminate()))},inputs:{color:"color",value:[r.Mj6.HasDecoratorInputTransform,"value","value",r.Udg],bufferValue:[r.Mj6.HasDecoratorInputTransform,"bufferValue","bufferValue",r.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[r.GFd,r.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(E,L){1&E&&(r.j41(0,"div",0),r.nrm(1,"div",1),r.DNE(2,S,1,0,"div",2),r.k0s(),r.j41(3,"div",3),r.nrm(4,"span",4),r.k0s(),r.j41(5,"div",5),r.nrm(6,"span",4),r.k0s()),2&E&&(r.R7$(),r.xc7("flex-basis",L._getBufferBarFlexBasis()),r.R7$(),r.vxM(2,"buffer"===L.mode?2:-1),r.R7$(),r.xc7("transform",L._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),x})();function P(N,x=0,m=100){return Math.max(x,Math.min(m,N))}let G=(()=>{var N;class x{}return(N=x).\u0275fac=function(E){return new(E||N)},N.\u0275mod=r.$C({type:N}),N.\u0275inj=r.G2t({imports:[v.yE]}),x})()},5951:(ln,qe,w)=>{"use strict";w.d(qe,{VT:()=>ae,Wk:()=>Z,_g:()=>U});var r=w(54438),s=w(86600),v=w(18617),S=w(45024),M=w(89417),C=w(60177);const d=["input"],F=["formField"],P=["*"];let G=0;class N{constructor(q,le){this.source=q,this.value=le}}const x={provide:M.kq,useExisting:(0,r.Rfq)(()=>ae),multi:!0},m=new r.nKC("MatRadioGroup"),E=new r.nKC("mat-radio-default-options",{providedIn:"root",factory:function L(){return{color:"accent"}}});let ae=(()=>{var ne;class q{get name(){return this._name}set name(z){this._name=z,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(z){this._labelPosition="before"===z?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(z){this._value!==z&&(this._value=z,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(z){this._selected=z,this.value=z?z.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(z){this._disabled=z,this._markRadiosForCheck()}get required(){return this._required}set required(z){this._required=z,this._markRadiosForCheck()}constructor(z){this._changeDetector=z,this._value=null,this._name="mat-radio-group-"+G++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new r.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(z=>z===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(z=>{z.name=this.name,z._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(J=>{J.checked=this.value===J.value,J.checked&&(this._selected=J)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new N(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(z=>z._markForCheck())}writeValue(z){this.value=z,this._changeDetector.markForCheck()}registerOnChange(z){this._controlValueAccessorChangeFn=z}registerOnTouched(z){this.onTouched=z}setDisabledState(z){this.disabled=z,this._changeDetector.markForCheck()}}return(ne=q).\u0275fac=function(z){return new(z||ne)(r.rXU(r.gRc))},ne.\u0275dir=r.FsC({type:ne,selectors:[["mat-radio-group"]],contentQueries:function(z,J,he){if(1&z&&r.wni(he,U,5),2&z){let we;r.mGM(we=r.lsd())&&(J._radios=we)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],required:[r.Mj6.HasDecoratorInputTransform,"required","required",r.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[r.Jv_([x,{provide:m,useExisting:ne}]),r.GFd]}),q})(),U=(()=>{var ne;class q{get checked(){return this._checked}set checked(z){this._checked!==z&&(this._checked=z,z&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!z&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),z&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(z){this._value!==z&&(this._value=z,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===z),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(z){this._labelPosition=z}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(z){this._setDisabled(z)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(z){this._required=z}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(z){this._color=z}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(z,J,he,we,k,ue,Ie,ke){this._elementRef=J,this._changeDetector=he,this._focusMonitor=we,this._radioDispatcher=k,this._providerOverride=Ie,this._uniqueId="mat-radio-"+ ++G,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new r.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=z,this._noopAnimations="NoopAnimations"===ue,ke&&(this.tabIndex=(0,r.Udg)(ke,0))}focus(z,J){J?this._focusMonitor.focusVia(this._inputElement,J,z):this._inputElement.nativeElement.focus(z)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((z,J)=>{z!==this.id&&J===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(z=>{!z&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new N(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(z){z.stopPropagation()}_onInputInteraction(z){if(z.stopPropagation(),!this.checked&&!this.disabled){const J=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),J&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(z){this._onInputInteraction(z),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(z){this._disabled!==z&&(this._disabled=z,this._changeDetector.markForCheck())}_updateTabIndex(){const z=this.radioGroup;let J;if(J=z&&z.selected&&!this.disabled?z.selected===this?this.tabIndex:-1:this.tabIndex,J!==this._previousTabIndex){const he=this._inputElement?.nativeElement;he&&(he.setAttribute("tabindex",J+""),this._previousTabIndex=J)}}}return(ne=q).\u0275fac=function(z){return new(z||ne)(r.rXU(m,8),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(v.FN),r.rXU(S.zP),r.rXU(r.bc$,8),r.rXU(E,8),r.kS0("tabindex"))},ne.\u0275cmp=r.VBU({type:ne,selectors:[["mat-radio-button"]],viewQuery:function(z,J){if(1&z&&(r.GBs(d,5),r.GBs(F,7,r.aKT)),2&z){let he;r.mGM(he=r.lsd())&&(J._inputElement=he.first),r.mGM(he=r.lsd())&&(J._rippleTrigger=he.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(z,J){1&z&&r.bIt("focus",function(){return J._inputElement.nativeElement.focus()}),2&z&&(r.BMQ("id",J.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),r.AVh("mat-primary","primary"===J.color)("mat-accent","accent"===J.color)("mat-warn","warn"===J.color)("mat-mdc-radio-checked",J.checked)("_mat-animation-noopable",J._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[r.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[r.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[r.Mj6.None,"aria-describedby","ariaDescribedby"],disableRipple:[r.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",r.L39],tabIndex:[r.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",le=>null==le?0:(0,r.Udg)(le)],checked:[r.Mj6.HasDecoratorInputTransform,"checked","checked",r.L39],value:"value",labelPosition:"labelPosition",disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],required:[r.Mj6.HasDecoratorInputTransform,"required","required",r.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[r.GFd,r.aNF],ngContentSelectors:P,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(z,J){if(1&z){const he=r.RV6();r.NAR(),r.j41(0,"div",2,0)(2,"div",3)(3,"div",4),r.bIt("click",function(k){return r.eBV(he),r.Njj(J._onTouchTargetClick(k))}),r.k0s(),r.j41(4,"input",5,1),r.bIt("change",function(k){return r.eBV(he),r.Njj(J._onInputInteraction(k))}),r.k0s(),r.j41(6,"div",6),r.nrm(7,"div",7)(8,"div",8),r.k0s(),r.j41(9,"div",9),r.nrm(10,"div",10),r.k0s()(),r.j41(11,"label",11),r.SdG(12),r.k0s()()}2&z&&(r.Y8G("labelPosition",J.labelPosition),r.R7$(2),r.AVh("mdc-radio--disabled",J.disabled),r.R7$(2),r.Y8G("id",J.inputId)("checked",J.checked)("disabled",J.disabled)("required",J.required),r.BMQ("name",J.name)("value",J.value)("aria-label",J.ariaLabel)("aria-labelledby",J.ariaLabelledby)("aria-describedby",J.ariaDescribedby),r.R7$(5),r.Y8G("matRippleTrigger",J._rippleTrigger.nativeElement)("matRippleDisabled",J._isRippleDisabled())("matRippleCentered",!0),r.R7$(2),r.Y8G("for",J.inputId))},dependencies:[s.r6,s.tO],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),q})(),Z=(()=>{var ne;class q{}return(ne=q).\u0275fac=function(z){return new(z||ne)},ne.\u0275mod=r.$C({type:ne}),ne.\u0275inj=r.G2t({imports:[s.yE,C.MD,s.pZ,U,s.yE]}),q})()},82798:(ln,qe,w)=>{"use strict";w.d(qe,{Ve:()=>Ze});var r=w(47987),s=w(60177),v=w(54438),S=w(86600),M=w(53719),C=w(65478);w(49969);const we={provide:new v.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const Ce=(0,v.WQX)(r.hJ);return()=>Ce.scrollStrategies.reposition()}}),deps:[r.hJ],useFactory:function J(Ce){return()=>Ce.scrollStrategies.reposition()}};let Ze=(()=>{var Ce;class Nt{}return(Ce=Nt).\u0275fac=function(me){return new(me||Ce)},Ce.\u0275mod=v.$C({type:Ce}),Ce.\u0275inj=v.G2t({providers:[we],imports:[s.MD,r.z_,S.Sy,S.yE,C.Gj,M.RG,S.Sy,S.yE]}),Nt})()},90882:(ln,qe,w)=>{"use strict";w.d(qe,{El:()=>qt,LG:()=>Ln,US:()=>Tt,vg:()=>We});var r=w(65478),s=w(54438),v=w(86600),S=w(18617),M=w(28203),C=w(14085),d=w(67336),F=w(36860),P=w(60177),G=w(85052),N=w(35426),x=w(76718),m=w(14264),E=w(36110),L=w(99539),ae=w(37925),U=w(21082),Z=w(17365),ne=w(35160),q=w(87996),le=w(49969);const z=["*"],J=["content"],he=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],we=["mat-drawer","mat-drawer-content","*"];function k(Ve,wt){if(1&Ve){const Y=s.RV6();s.j41(0,"div",1),s.bIt("click",function(){s.eBV(Y);const R=s.XpG();return s.Njj(R._onBackdropClicked())}),s.k0s()}if(2&Ve){const Y=s.XpG();s.AVh("mat-drawer-shown",Y._isShowingBackdrop())}}function ue(Ve,wt){1&Ve&&(s.j41(0,"mat-drawer-content"),s.SdG(1,2),s.k0s())}const Ie=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],ke=["mat-sidenav","mat-sidenav-content","*"];function Ze(Ve,wt){if(1&Ve){const Y=s.RV6();s.j41(0,"div",1),s.bIt("click",function(){s.eBV(Y);const R=s.XpG();return s.Njj(R._onBackdropClicked())}),s.k0s()}if(2&Ve){const Y=s.XpG();s.AVh("mat-drawer-shown",Y._isShowingBackdrop())}}function Ce(Ve,wt){1&Ve&&(s.j41(0,"mat-sidenav-content"),s.SdG(1,2),s.k0s())}const Kt={transformDrawer:(0,le.hZ)("transform",[(0,le.wk)("open, open-instant",(0,le.iF)({transform:"none",visibility:"visible"})),(0,le.wk)("void",(0,le.iF)({"box-shadow":"none",visibility:"hidden"})),(0,le.kY)("void => open-instant",(0,le.i0)("0ms")),(0,le.kY)("void <=> open, open-instant => void",(0,le.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ee=new s.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ye(){return!1}}),fe=new s.nKC("MAT_DRAWER_CONTAINER");let Se=(()=>{var Ve;class wt extends r.uv{constructor(b,R,T,V,j){super(T,V,j),this._changeDetectorRef=b,this._container=R}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.rXU(s.gRc),s.rXU((0,s.Rfq)(()=>yt)),s.rXU(s.aKT),s.rXU(r.R),s.rXU(s.SKi))},Ve.\u0275cmp=s.VBU({type:Ve,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(b,R){2&b&&s.xc7("margin-left",R._container._contentMargins.left,"px")("margin-right",R._container._contentMargins.right,"px")},standalone:!0,features:[s.Jv_([{provide:r.uv,useExisting:Ve}]),s.Vt3,s.aNF],ngContentSelectors:z,decls:1,vars:0,template:function(b,R){1&b&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),wt})(),Be=(()=>{var Ve;class wt{get position(){return this._position}set position(b){(b="end"===b?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(b),this._position=b,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(b){this._mode=b,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(b){this._disableClose=(0,C.he)(b)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(b){("true"===b||"false"===b||null==b)&&(b=(0,C.he)(b)),this._autoFocus=b}get opened(){return this._opened}set opened(b){this.toggle((0,C.he)(b))}constructor(b,R,T,V,j,h,I,xe){this._elementRef=b,this._focusTrapFactory=R,this._focusMonitor=T,this._platform=V,this._ngZone=j,this._interactivityChecker=h,this._doc=I,this._container=xe,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new G.B,this._animationEnd=new G.B,this._animationState="void",this.openedChange=new s.bkB(!0),this._openedStream=this.openedChange.pipe((0,m.p)(ie=>ie),(0,E.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,m.p)(ie=>ie.fromState!==ie.toState&&0===ie.toState.indexOf("open")),(0,L.u)(void 0)),this._closedStream=this.openedChange.pipe((0,m.p)(ie=>!ie),(0,E.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,m.p)(ie=>ie.fromState!==ie.toState&&"void"===ie.toState),(0,L.u)(void 0)),this._destroyed=new G.B,this.onPositionChanged=new s.bkB,this._modeChanged=new G.B,this.openedChange.subscribe(ie=>{ie?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,N.R)(this._elementRef.nativeElement,"keydown").pipe((0,m.p)(ie=>ie.keyCode===d._f&&!this.disableClose&&!(0,d.rp)(ie)),(0,ae.Q)(this._destroyed)).subscribe(ie=>this._ngZone.run(()=>{this.close(),ie.stopPropagation(),ie.preventDefault()}))}),this._animationEnd.pipe((0,U.F)((ie,D)=>ie.fromState===D.fromState&&ie.toState===D.toState)).subscribe(ie=>{const{fromState:D,toState:K}=ie;(0===K.indexOf("open")&&"void"===D||"void"===K&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(b,R){this._interactivityChecker.isFocusable(b)||(b.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const T=()=>{b.removeEventListener("blur",T),b.removeEventListener("mousedown",T),b.removeAttribute("tabindex")};b.addEventListener("blur",T),b.addEventListener("mousedown",T)})),b.focus(R)}_focusByCssSelector(b,R){let T=this._elementRef.nativeElement.querySelector(b);T&&this._forceFocus(T,R)}_takeFocus(){if(!this._focusTrap)return;const b=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(R=>{!R&&"function"==typeof this._elementRef.nativeElement.focus&&b.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(b){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,b):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const b=this._doc.activeElement;return!!b&&this._elementRef.nativeElement.contains(b)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(b){return this.toggle(!0,b)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(b=!this.opened,R){b&&R&&(this._openedVia=R);const T=this._setOpen(b,!b&&this._isFocusWithinDrawer(),this._openedVia||"program");return b||(this._openedVia=null),T}_setOpen(b,R,T){return this._opened=b,b?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",R&&this._restoreFocus(T)),this._updateFocusTrapState(),new Promise(V=>{this.openedChange.pipe((0,Z.s)(1)).subscribe(j=>V(j?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(b){if(!this._platform.isBrowser)return;const R=this._elementRef.nativeElement,T=R.parentNode;"end"===b?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),T.insertBefore(this._anchor,R)),T.appendChild(R)):this._anchor&&this._anchor.parentNode.insertBefore(R,this._anchor)}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.rXU(s.aKT),s.rXU(S.GX),s.rXU(S.FN),s.rXU(F.OD),s.rXU(s.SKi),s.rXU(S.Z7),s.rXU(P.qQ,8),s.rXU(fe,8))},Ve.\u0275cmp=s.VBU({type:Ve,selectors:[["mat-drawer"]],viewQuery:function(b,R){if(1&b&&s.GBs(J,5),2&b){let T;s.mGM(T=s.lsd())&&(R._content=T.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(b,R){1&b&&s.Kam("@transform.start",function(V){return R._animationStarted.next(V)})("@transform.done",function(V){return R._animationEnd.next(V)}),2&b&&(s.zvX("@transform",R._animationState),s.BMQ("align",null),s.AVh("mat-drawer-end","end"===R.position)("mat-drawer-over","over"===R.mode)("mat-drawer-push","push"===R.mode)("mat-drawer-side","side"===R.mode)("mat-drawer-opened",R.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[s.aNF],ngContentSelectors:z,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(b,R){1&b&&(s.NAR(),s.j41(0,"div",1,0),s.SdG(2),s.k0s())},dependencies:[r.uv],encapsulation:2,data:{animation:[Kt.transformDrawer]},changeDetection:0}),wt})(),yt=(()=>{var Ve;class wt{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(b){this._autosize=(0,C.he)(b)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(b){this._backdropOverride=null==b?null:(0,C.he)(b)}get scrollable(){return this._userContent||this._content}constructor(b,R,T,V,j,h=!1,I){this._dir=b,this._element=R,this._ngZone=T,this._changeDetectorRef=V,this._animationMode=I,this._drawers=new s.rOR,this.backdropClick=new s.bkB,this._destroyed=new G.B,this._doCheckSubject=new G.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new G.B,b&&b.change.pipe((0,ae.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),j.change().pipe((0,ae.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ne.Z)(this._allDrawers),(0,ae.Q)(this._destroyed)).subscribe(b=>{this._drawers.reset(b.filter(R=>!R._container||R._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ne.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(b=>{this._watchDrawerToggle(b),this._watchDrawerPosition(b),this._watchDrawerMode(b)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,q.B)(10),(0,ae.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(b=>b.open())}close(){this._drawers.forEach(b=>b.close())}updateContentMargins(){let b=0,R=0;if(this._left&&this._left.opened)if("side"==this._left.mode)b+=this._left._getWidth();else if("push"==this._left.mode){const T=this._left._getWidth();b+=T,R-=T}if(this._right&&this._right.opened)if("side"==this._right.mode)R+=this._right._getWidth();else if("push"==this._right.mode){const T=this._right._getWidth();R+=T,b-=T}b=b||null,R=R||null,(b!==this._contentMargins.left||R!==this._contentMargins.right)&&(this._contentMargins={left:b,right:R},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(b){b._animationStarted.pipe((0,m.p)(R=>R.fromState!==R.toState),(0,ae.Q)(this._drawers.changes)).subscribe(R=>{"open-instant"!==R.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==b.mode&&b.openedChange.pipe((0,ae.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(b.opened))}_watchDrawerPosition(b){b&&b.onPositionChanged.pipe((0,ae.Q)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Z.s)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(b){b&&b._modeChanged.pipe((0,ae.Q)((0,x.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(b){const R=this._element.nativeElement.classList,T="mat-drawer-container-has-open";b?R.add(T):R.remove(T)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(b=>{"end"==b.position?this._end=b:this._start=b}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(b=>b&&!b.disableClose&&this._drawerHasBackdrop(b)).forEach(b=>b._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(b){return null!=b&&b.opened}_drawerHasBackdrop(b){return null==this._backdropOverride?!!b&&"side"!==b.mode:this._backdropOverride}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.rXU(M.dS,8),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(r.Xj),s.rXU(ee),s.rXU(s.bc$,8))},Ve.\u0275cmp=s.VBU({type:Ve,selectors:[["mat-drawer-container"]],contentQueries:function(b,R,T){if(1&b&&(s.wni(T,Se,5),s.wni(T,Be,5)),2&b){let V;s.mGM(V=s.lsd())&&(R._content=V.first),s.mGM(V=s.lsd())&&(R._allDrawers=V)}},viewQuery:function(b,R){if(1&b&&s.GBs(Se,5),2&b){let T;s.mGM(T=s.lsd())&&(R._userContent=T.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(b,R){2&b&&s.AVh("mat-drawer-container-explicit-backdrop",R._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[s.Jv_([{provide:fe,useExisting:Ve}]),s.aNF],ngContentSelectors:we,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(b,R){1&b&&(s.NAR(he),s.DNE(0,k,1,2,"div",0),s.SdG(1),s.SdG(2,1),s.DNE(3,ue,2,0,"mat-drawer-content")),2&b&&(s.vxM(0,R.hasBackdrop?0:-1),s.R7$(3),s.vxM(3,R._content?-1:3))},dependencies:[Se],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),wt})(),qt=(()=>{var Ve;class wt extends Se{constructor(b,R,T,V,j){super(b,R,T,V,j)}}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)(s.rXU(s.gRc),s.rXU((0,s.Rfq)(()=>Tt)),s.rXU(s.aKT),s.rXU(r.R),s.rXU(s.SKi))},Ve.\u0275cmp=s.VBU({type:Ve,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(b,R){2&b&&s.xc7("margin-left",R._container._contentMargins.left,"px")("margin-right",R._container._contentMargins.right,"px")},standalone:!0,features:[s.Jv_([{provide:r.uv,useExisting:Ve}]),s.Vt3,s.aNF],ngContentSelectors:z,decls:1,vars:0,template:function(b,R){1&b&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),wt})(),Ln=(()=>{var Ve;class wt extends Be{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(b){this._fixedInViewport=(0,C.he)(b)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(b){this._fixedTopGap=(0,C.OE)(b)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(b){this._fixedBottomGap=(0,C.OE)(b)}}return(Ve=wt).\u0275fac=(()=>{let Y;return function(R){return(Y||(Y=s.xGo(Ve)))(R||Ve)}})(),Ve.\u0275cmp=s.VBU({type:Ve,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(b,R){2&b&&(s.BMQ("align",null),s.xc7("top",R.fixedInViewport?R.fixedTopGap:null,"px")("bottom",R.fixedInViewport?R.fixedBottomGap:null,"px"),s.AVh("mat-drawer-end","end"===R.position)("mat-drawer-over","over"===R.mode)("mat-drawer-push","push"===R.mode)("mat-drawer-side","side"===R.mode)("mat-drawer-opened",R.opened)("mat-sidenav-fixed",R.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[s.Vt3,s.aNF],ngContentSelectors:z,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(b,R){1&b&&(s.NAR(),s.j41(0,"div",1,0),s.SdG(2),s.k0s())},dependencies:[r.uv],encapsulation:2,data:{animation:[Kt.transformDrawer]},changeDetection:0}),wt})(),Tt=(()=>{var Ve;class wt extends yt{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return(Ve=wt).\u0275fac=(()=>{let Y;return function(R){return(Y||(Y=s.xGo(Ve)))(R||Ve)}})(),Ve.\u0275cmp=s.VBU({type:Ve,selectors:[["mat-sidenav-container"]],contentQueries:function(b,R,T){if(1&b&&(s.wni(T,qt,5),s.wni(T,Ln,5)),2&b){let V;s.mGM(V=s.lsd())&&(R._content=V.first),s.mGM(V=s.lsd())&&(R._allDrawers=V)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(b,R){2&b&&s.AVh("mat-drawer-container-explicit-backdrop",R._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[s.Jv_([{provide:fe,useExisting:Ve}]),s.Vt3,s.aNF],ngContentSelectors:ke,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(b,R){1&b&&(s.NAR(Ie),s.DNE(0,Ze,1,2,"div",0),s.SdG(1),s.SdG(2,1),s.DNE(3,Ce,2,0,"mat-sidenav-content")),2&b&&(s.vxM(0,R.hasBackdrop?0:-1),s.R7$(3),s.vxM(3,R._content?-1:3))},dependencies:[qt],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),wt})(),We=(()=>{var Ve;class wt{}return(Ve=wt).\u0275fac=function(b){return new(b||Ve)},Ve.\u0275mod=s.$C({type:Ve}),Ve.\u0275inj=s.G2t({imports:[v.yE,r.Gj,r.Gj,v.yE]}),wt})()},30450:(ln,qe,w)=>{"use strict";w.d(qe,{mV:()=>ae});var r=w(54438),s=w(89417),v=w(18617),S=w(86600);const M=["switch"],C=["*"];function d(U,Z){1&U&&(r.j41(0,"div",10),r.qSk(),r.j41(1,"svg",12),r.nrm(2,"path",13),r.k0s(),r.j41(3,"svg",14),r.nrm(4,"path",15),r.k0s()())}const F=new r.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),P={provide:s.kq,useExisting:(0,r.Rfq)(()=>x),multi:!0};class G{constructor(Z,ne){this.source=Z,this.checked=ne}}let N=0,x=(()=>{var U;class Z{_createChangeEvent(q){return new G(this,q)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(q){this._checked=q,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(q,le,z,J,he,we){this._elementRef=q,this._focusMonitor=le,this._changeDetectorRef=z,this.defaults=he,this._onChange=k=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new r.bkB,this.toggleChange=new r.bkB,this.tabIndex=parseInt(J)||0,this.color=he.color||"accent",this._noopAnimations="NoopAnimations"===we,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++N,this.hideIcon=he.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(q=>{"keyboard"===q||"program"===q?(this._focused=!0,this._changeDetectorRef.markForCheck()):q||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(q){q.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(q){this.checked=!!q}registerOnChange(q){this._onChange=q}registerOnTouched(q){this._onTouched=q}validate(q){return this.required&&!0!==q.value?{required:!0}:null}registerOnValidatorChange(q){this._validatorOnChange=q}setDisabledState(q){this.disabled=q,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new G(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return(U=Z).\u0275fac=function(q){return new(q||U)(r.rXU(r.aKT),r.rXU(v.FN),r.rXU(r.gRc),r.kS0("tabindex"),r.rXU(F),r.rXU(r.bc$,8))},U.\u0275cmp=r.VBU({type:U,selectors:[["mat-slide-toggle"]],viewQuery:function(q,le){if(1&q&&r.GBs(M,5),2&q){let z;r.mGM(z=r.lsd())&&(le._switchElement=z.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(q,le){2&q&&(r.Mr5("id",le.id),r.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),r.HbH(le.color?"mat-"+le.color:""),r.AVh("mat-mdc-slide-toggle-focused",le._focused)("mat-mdc-slide-toggle-checked",le.checked)("_mat-animation-noopable",le._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[r.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[r.Mj6.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[r.Mj6.None,"aria-describedby","ariaDescribedby"],required:[r.Mj6.HasDecoratorInputTransform,"required","required",r.L39],color:"color",disabled:[r.Mj6.HasDecoratorInputTransform,"disabled","disabled",r.L39],disableRipple:[r.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",r.L39],tabIndex:[r.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",ne=>null==ne?0:(0,r.Udg)(ne)],checked:[r.Mj6.HasDecoratorInputTransform,"checked","checked",r.L39],hideIcon:[r.Mj6.HasDecoratorInputTransform,"hideIcon","hideIcon",r.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[r.Jv_([P,{provide:s.cz,useExisting:U,multi:!0}]),r.GFd,r.OA$,r.aNF],ngContentSelectors:C,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(q,le){if(1&q){const z=r.RV6();r.NAR(),r.j41(0,"div",1)(1,"button",2,0),r.bIt("click",function(){return r.eBV(z),r.Njj(le._handleClick())}),r.nrm(3,"div",3),r.j41(4,"div",4)(5,"div",5)(6,"div",6),r.nrm(7,"div",7),r.k0s(),r.j41(8,"div",8),r.nrm(9,"div",9),r.k0s(),r.DNE(10,d,5,0,"div",10),r.k0s()()(),r.j41(11,"label",11),r.bIt("click",function(he){return r.eBV(z),r.Njj(he.stopPropagation())}),r.SdG(12),r.k0s()()}if(2&q){const z=r.sdS(2);r.Y8G("labelPosition",le.labelPosition),r.R7$(),r.AVh("mdc-switch--selected",le.checked)("mdc-switch--unselected",!le.checked)("mdc-switch--checked",le.checked)("mdc-switch--disabled",le.disabled),r.Y8G("tabIndex",le.disabled?-1:le.tabIndex)("disabled",le.disabled),r.BMQ("id",le.buttonId)("name",le.name)("aria-label",le.ariaLabel)("aria-labelledby",le._getAriaLabelledBy())("aria-describedby",le.ariaDescribedby)("aria-required",le.required||null)("aria-checked",le.checked),r.R7$(8),r.Y8G("matRippleTrigger",z)("matRippleDisabled",le.disableRipple||le.disabled)("matRippleCentered",!0),r.R7$(),r.vxM(10,le.hideIcon?-1:10),r.R7$(),r.Y8G("for",le.buttonId),r.BMQ("id",le._labelId)}},dependencies:[S.r6,S.tO],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0}),Z})(),ae=(()=>{var U;class Z{}return(U=Z).\u0275fac=function(q){return new(q||U)},U.\u0275mod=r.$C({type:U}),U.\u0275inj=r.G2t({imports:[x,S.yE,S.yE]}),Z})()},95416:(ln,qe,w)=>{"use strict";w.d(qe,{UG:()=>ke,_T:()=>Ce,x6:()=>Ie});var r=w(54438),s=w(88834),v=w(85052),S=w(60177),M=w(49969),C=w(76939),d=w(36860),F=w(18617),P=w(99327),G=w(47987),N=w(37925),x=w(86600);function m(Nt,Kt){if(1&Nt){const me=r.RV6();r.j41(0,"div",1)(1,"button",2),r.bIt("click",function(){r.eBV(me);const fe=r.XpG();return r.Njj(fe.action())}),r.EFF(2),r.k0s()()}if(2&Nt){const me=r.XpG();r.R7$(2),r.SpI(" ",me.data.action," ")}}const E=["label"];function L(Nt,Kt){}const ae=Math.pow(2,31)-1;class U{constructor(Kt,me){this._overlayRef=me,this._afterDismissed=new v.B,this._afterOpened=new v.B,this._onAction=new v.B,this._dismissedByAction=!1,this.containerInstance=Kt,Kt._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Kt){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Kt,ae))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Z=new r.nKC("MatSnackBarData");class ne{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let q=(()=>{var Nt;class Kt{}return(Nt=Kt).\u0275fac=function(ee){return new(ee||Nt)},Nt.\u0275dir=r.FsC({type:Nt,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0}),Kt})(),le=(()=>{var Nt;class Kt{}return(Nt=Kt).\u0275fac=function(ee){return new(ee||Nt)},Nt.\u0275dir=r.FsC({type:Nt,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0}),Kt})(),z=(()=>{var Nt;class Kt{}return(Nt=Kt).\u0275fac=function(ee){return new(ee||Nt)},Nt.\u0275dir=r.FsC({type:Nt,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0}),Kt})(),J=(()=>{var Nt;class Kt{constructor(ee,fe){this.snackBarRef=ee,this.data=fe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(Nt=Kt).\u0275fac=function(ee){return new(ee||Nt)(r.rXU(U),r.rXU(Z))},Nt.\u0275cmp=r.VBU({type:Nt,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[r.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(ee,fe){1&ee&&(r.j41(0,"div",0),r.EFF(1),r.k0s(),r.DNE(2,m,3,1,"div",1)),2&ee&&(r.R7$(),r.SpI(" ",fe.data.message,"\n"),r.R7$(),r.vxM(2,fe.hasAction?2:-1))},dependencies:[s.$z,q,le,z],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),Kt})();const he={snackBarState:(0,M.hZ)("state",[(0,M.wk)("void, hidden",(0,M.iF)({transform:"scale(0.8)",opacity:0})),(0,M.wk)("visible",(0,M.iF)({transform:"scale(1)",opacity:1})),(0,M.kY)("* => visible",(0,M.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,M.kY)("* => void, * => hidden",(0,M.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,M.iF)({opacity:0})))])};let we=0,k=(()=>{var Nt;class Kt extends C.lb{constructor(ee,fe,ye,Se,Be){super(),this._ngZone=ee,this._elementRef=fe,this._changeDetectorRef=ye,this._platform=Se,this.snackBarConfig=Be,this._document=(0,r.WQX)(S.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new v.B,this._onExit=new v.B,this._onEnter=new v.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+we++,this.attachDomPortal=yt=>{this._assertNotAttached();const qt=this._portalOutlet.attachDomPortal(yt);return this._afterPortalAttached(),qt},this._live="assertive"!==Be.politeness||Be.announcementMessage?"off"===Be.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(ee){this._assertNotAttached();const fe=this._portalOutlet.attachComponentPortal(ee);return this._afterPortalAttached(),fe}attachTemplatePortal(ee){this._assertNotAttached();const fe=this._portalOutlet.attachTemplatePortal(ee);return this._afterPortalAttached(),fe}onAnimationEnd(ee){const{fromState:fe,toState:ye}=ee;if(("void"===ye&&"void"!==fe||"hidden"===ye)&&this._completeExit(),"visible"===ye){const Se=this._onEnter;this._ngZone.run(()=>{Se.next(),Se.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const ee=this._elementRef.nativeElement,fe=this.snackBarConfig.panelClass;fe&&(Array.isArray(fe)?fe.forEach(Be=>ee.classList.add(Be)):ee.classList.add(fe)),this._exposeToModals();const ye=this._label.nativeElement,Se="mdc-snackbar__label";ye.classList.toggle(Se,!ye.querySelector(`.${Se}`))}_exposeToModals(){const ee=this._liveElementId,fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ye=0;ye<fe.length;ye++){const Se=fe[ye],Be=Se.getAttribute("aria-owns");this._trackedModals.add(Se),Be?-1===Be.indexOf(ee)&&Se.setAttribute("aria-owns",Be+" "+ee):Se.setAttribute("aria-owns",ee)}}_clearFromModals(){this._trackedModals.forEach(ee=>{const fe=ee.getAttribute("aria-owns");if(fe){const ye=fe.replace(this._liveElementId,"").trim();ye.length>0?ee.setAttribute("aria-owns",ye):ee.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const ee=this._elementRef.nativeElement.querySelector("[aria-hidden]"),fe=this._elementRef.nativeElement.querySelector("[aria-live]");if(ee&&fe){let ye=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&ee.contains(document.activeElement)&&(ye=document.activeElement),ee.removeAttribute("aria-hidden"),fe.appendChild(ee),ye?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(Nt=Kt).\u0275fac=function(ee){return new(ee||Nt)(r.rXU(r.SKi),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(d.OD),r.rXU(ne))},Nt.\u0275cmp=r.VBU({type:Nt,selectors:[["mat-snack-bar-container"]],viewQuery:function(ee,fe){if(1&ee&&(r.GBs(C.I3,7),r.GBs(E,7)),2&ee){let ye;r.mGM(ye=r.lsd())&&(fe._portalOutlet=ye.first),r.mGM(ye=r.lsd())&&(fe._label=ye.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(ee,fe){1&ee&&r.Kam("@state.done",function(Se){return fe.onAnimationEnd(Se)}),2&ee&&r.zvX("@state",fe._animationState)},standalone:!0,features:[r.Vt3,r.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ee,fe){1&ee&&(r.j41(0,"div",1)(1,"div",2,0)(3,"div",3),r.DNE(4,L,0,0,"ng-template",4),r.k0s(),r.nrm(5,"div"),r.k0s()()),2&ee&&(r.R7$(5),r.BMQ("aria-live",fe._live)("role",fe._role)("id",fe._liveElementId))},dependencies:[C.I3],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[he.snackBarState]}}),Kt})();const Ie=new r.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function ue(){return new ne}});let ke=(()=>{var Nt;class Kt{get _openedSnackBarRef(){const ee=this._parentSnackBar;return ee?ee._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(ee){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=ee:this._snackBarRefAtThisLevel=ee}constructor(ee,fe,ye,Se,Be,yt){this._overlay=ee,this._live=fe,this._injector=ye,this._breakpointObserver=Se,this._parentSnackBar=Be,this._defaultConfig=yt,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=J,this.snackBarContainerComponent=k,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(ee,fe){return this._attach(ee,fe)}openFromTemplate(ee,fe){return this._attach(ee,fe)}open(ee,fe="",ye){const Se={...this._defaultConfig,...ye};return Se.data={message:ee,action:fe},Se.announcementMessage===ee&&(Se.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Se)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(ee,fe){const Se=r.zZn.create({parent:fe&&fe.viewContainerRef&&fe.viewContainerRef.injector||this._injector,providers:[{provide:ne,useValue:fe}]}),Be=new C.A8(this.snackBarContainerComponent,fe.viewContainerRef,Se),yt=ee.attach(Be);return yt.instance.snackBarConfig=fe,yt.instance}_attach(ee,fe){const ye={...new ne,...this._defaultConfig,...fe},Se=this._createOverlay(ye),Be=this._attachSnackBarContainer(Se,ye),yt=new U(Be,Se);if(ee instanceof r.C4Q){const qt=new C.VA(ee,null,{$implicit:ye.data,snackBarRef:yt});yt.instance=Be.attachTemplatePortal(qt)}else{const qt=this._createInjector(ye,yt),Ln=new C.A8(ee,void 0,qt),Tt=Be.attachComponentPortal(Ln);yt.instance=Tt.instance}return this._breakpointObserver.observe(P.Rp.HandsetPortrait).pipe((0,N.Q)(Se.detachments())).subscribe(qt=>{Se.overlayElement.classList.toggle(this.handsetCssClass,qt.matches)}),ye.announcementMessage&&Be._onAnnounce.subscribe(()=>{this._live.announce(ye.announcementMessage,ye.politeness)}),this._animateSnackBar(yt,ye),this._openedSnackBarRef=yt,this._openedSnackBarRef}_animateSnackBar(ee,fe){ee.afterDismissed().subscribe(()=>{this._openedSnackBarRef==ee&&(this._openedSnackBarRef=null),fe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{ee.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):ee.containerInstance.enter(),fe.duration&&fe.duration>0&&ee.afterOpened().subscribe(()=>ee._dismissAfter(fe.duration))}_createOverlay(ee){const fe=new G.rR;fe.direction=ee.direction;let ye=this._overlay.position().global();const Se="rtl"===ee.direction,Be="left"===ee.horizontalPosition||"start"===ee.horizontalPosition&&!Se||"end"===ee.horizontalPosition&&Se,yt=!Be&&"center"!==ee.horizontalPosition;return Be?ye.left("0"):yt?ye.right("0"):ye.centerHorizontally(),"top"===ee.verticalPosition?ye.top("0"):ye.bottom("0"),fe.positionStrategy=ye,this._overlay.create(fe)}_createInjector(ee,fe){return r.zZn.create({parent:ee&&ee.viewContainerRef&&ee.viewContainerRef.injector||this._injector,providers:[{provide:U,useValue:fe},{provide:Z,useValue:ee.data}]})}}return(Nt=Kt).\u0275fac=function(ee){return new(ee||Nt)(r.KVO(G.hJ),r.KVO(F.Ai),r.KVO(r.zZn),r.KVO(P.QP),r.KVO(Nt,12),r.KVO(Ie))},Nt.\u0275prov=r.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),Kt})(),Ce=(()=>{var Nt;class Kt{}return(Nt=Kt).\u0275fac=function(ee){return new(ee||Nt)},Nt.\u0275mod=r.$C({type:Nt}),Nt.\u0275inj=r.G2t({providers:[ke],imports:[G.z_,C.jc,s.Hl,x.yE,J,x.yE]}),Kt})()},55911:(ln,qe,w)=>{"use strict";w.d(qe,{s5:()=>F});var r=w(54438),s=w(86600);let F=(()=>{var P;class G{}return(P=G).\u0275fac=function(x){return new(x||P)},P.\u0275mod=r.$C({type:P}),P.\u0275inj=r.G2t({imports:[s.yE,s.yE]}),G})()},14823:(ln,qe,w)=>{"use strict";w.d(qe,{oV:()=>Ce,sM:()=>J,uc:()=>me,zi:()=>z});var r=w(37925),s=w(17365),v=w(14085),S=w(67336),M=w(54438),C=w(60177),d=w(36860),F=w(18617),P=w(28203),G=w(47987),N=w(65478),x=w(76939),m=w(85052),L=(w(49969),w(86600));const ae=["tooltip"],ne=new M.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const ee=(0,M.WQX)(G.hJ);return()=>ee.scrollStrategies.reposition({scrollThrottle:20})}}),le={provide:ne,deps:[G.hJ],useFactory:function q(ee){return()=>ee.scrollStrategies.reposition({scrollThrottle:20})}};function z(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}const J=new M.nKC("mat-tooltip-default-options",{providedIn:"root",factory:z}),we="tooltip-panel",k=(0,d.BQ)({passive:!0});let Ce=(()=>{var ee;class fe{get position(){return this._position}set position(Se){Se!==this._position&&(this._position=Se,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(Se){this._positionAtOrigin=(0,v.he)(Se),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(Se){this._disabled=(0,v.he)(Se),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Se){this._showDelay=(0,v.OE)(Se)}get hideDelay(){return this._hideDelay}set hideDelay(Se){this._hideDelay=(0,v.OE)(Se),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Se){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Se?String(Se).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Se){this._tooltipClass=Se,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(Se,Be,yt,qt,Ln,Tt,We,Ve,wt,Y,b,R){this._overlay=Se,this._elementRef=Be,this._scrollDispatcher=yt,this._viewContainerRef=qt,this._ngZone=Ln,this._platform=Tt,this._ariaDescriber=We,this._focusMonitor=Ve,this._dir=Y,this._defaultOptions=b,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Nt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new m.B,this._scrollStrategy=wt,this._document=R,b&&(this._showDelay=b.showDelay,this._hideDelay=b.hideDelay,b.position&&(this.position=b.position),b.positionAtOrigin&&(this.positionAtOrigin=b.positionAtOrigin),b.touchGestures&&(this.touchGestures=b.touchGestures)),Y.change.pipe((0,r.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,r.Q)(this._destroyed)).subscribe(Se=>{Se?"keyboard"===Se&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Se=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Be,yt])=>{Se.removeEventListener(Be,yt,k)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Se,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Se)}show(Se=this.showDelay,Be){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const yt=this._createOverlay(Be);this._detach(),this._portal=this._portal||new x.A8(this._tooltipComponent,this._viewContainerRef);const qt=this._tooltipInstance=yt.attach(this._portal).instance;qt._triggerElement=this._elementRef.nativeElement,qt._mouseLeaveHideDelay=this._hideDelay,qt.afterHidden().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),qt.show(Se)}hide(Se=this.hideDelay){const Be=this._tooltipInstance;Be&&(Be.isVisible()?Be.hide(Se):(Be._cancelPendingAnimations(),this._detach()))}toggle(Se){this._isTooltipVisible()?this.hide():this.show(void 0,Se)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(Se){if(this._overlayRef){const qt=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!Se)&&qt._origin instanceof M.aKT)return this._overlayRef;this._detach()}const Be=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),yt=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&Se||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Be);return yt.positionChanges.pipe((0,r.Q)(this._destroyed)).subscribe(qt=>{this._updateCurrentPositionClass(qt.connectionPair),this._tooltipInstance&&qt.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:yt,panelClass:`${this._cssClassPrefix}-${we}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,r.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,r.Q)(this._destroyed)).subscribe(qt=>{this._isTooltipVisible()&&qt.keyCode===S._f&&!(0,S.rp)(qt)&&(qt.preventDefault(),qt.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Se){const Be=Se.getConfig().positionStrategy,yt=this._getOrigin(),qt=this._getOverlayPosition();Be.withPositions([this._addOffset({...yt.main,...qt.main}),this._addOffset({...yt.fallback,...qt.fallback})])}_addOffset(Se){const yt=!this._dir||"ltr"==this._dir.value;return"top"===Se.originY?Se.offsetY=-8:"bottom"===Se.originY?Se.offsetY=8:"start"===Se.originX?Se.offsetX=yt?-8:8:"end"===Se.originX&&(Se.offsetX=yt?8:-8),Se}_getOrigin(){const Se=!this._dir||"ltr"==this._dir.value,Be=this.position;let yt;"above"==Be||"below"==Be?yt={originX:"center",originY:"above"==Be?"top":"bottom"}:"before"==Be||"left"==Be&&Se||"right"==Be&&!Se?yt={originX:"start",originY:"center"}:("after"==Be||"right"==Be&&Se||"left"==Be&&!Se)&&(yt={originX:"end",originY:"center"});const{x:qt,y:Ln}=this._invertPosition(yt.originX,yt.originY);return{main:yt,fallback:{originX:qt,originY:Ln}}}_getOverlayPosition(){const Se=!this._dir||"ltr"==this._dir.value,Be=this.position;let yt;"above"==Be?yt={overlayX:"center",overlayY:"bottom"}:"below"==Be?yt={overlayX:"center",overlayY:"top"}:"before"==Be||"left"==Be&&Se||"right"==Be&&!Se?yt={overlayX:"end",overlayY:"center"}:("after"==Be||"right"==Be&&Se||"left"==Be&&!Se)&&(yt={overlayX:"start",overlayY:"center"});const{x:qt,y:Ln}=this._invertPosition(yt.overlayX,yt.overlayY);return{main:yt,fallback:{overlayX:qt,overlayY:Ln}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,s.s)(1),(0,r.Q)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Se){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Se,this._tooltipInstance._markForCheck())}_invertPosition(Se,Be){return"above"===this.position||"below"===this.position?"top"===Be?Be="bottom":"bottom"===Be&&(Be="top"):"end"===Se?Se="start":"start"===Se&&(Se="end"),{x:Se,y:Be}}_updateCurrentPositionClass(Se){const{overlayY:Be,originX:yt,originY:qt}=Se;let Ln;if(Ln="center"===Be?this._dir&&"rtl"===this._dir.value?"end"===yt?"left":"right":"start"===yt?"left":"right":"bottom"===Be&&"top"===qt?"above":"below",Ln!==this._currentPosition){const Tt=this._overlayRef;if(Tt){const We=`${this._cssClassPrefix}-${we}-`;Tt.removePanelClass(We+this._currentPosition),Tt.addPanelClass(We+Ln)}this._currentPosition=Ln}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",Se=>{let Be;this._setupPointerExitEventsIfNeeded(),void 0!==Se.x&&void 0!==Se.y&&(Be=Se),this.show(void 0,Be)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",Se=>{const Be=Se.targetTouches?.[0],yt=Be?{x:Be.clientX,y:Be.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,yt),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Se=[];if(this._platformSupportsMouseEvents())Se.push(["mouseleave",Be=>{const yt=Be.relatedTarget;(!yt||!this._overlayRef?.overlayElement.contains(yt))&&this.hide()}],["wheel",Be=>this._wheelListener(Be)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Be=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Se.push(["touchend",Be],["touchcancel",Be])}this._addListeners(Se),this._passiveListeners.push(...Se)}_addListeners(Se){Se.forEach(([Be,yt])=>{this._elementRef.nativeElement.addEventListener(Be,yt,k)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Se){if(this._isTooltipVisible()){const Be=this._document.elementFromPoint(Se.clientX,Se.clientY),yt=this._elementRef.nativeElement;Be!==yt&&!yt.contains(Be)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Se=this.touchGestures;if("off"!==Se){const Be=this._elementRef.nativeElement,yt=Be.style;("on"===Se||"INPUT"!==Be.nodeName&&"TEXTAREA"!==Be.nodeName)&&(yt.userSelect=yt.msUserSelect=yt.webkitUserSelect=yt.MozUserSelect="none"),("on"===Se||!Be.draggable)&&(yt.webkitUserDrag="none"),yt.touchAction="none",yt.webkitTapHighlightColor="transparent"}}}return(ee=fe).\u0275fac=function(Se){return new(Se||ee)(M.rXU(G.hJ),M.rXU(M.aKT),M.rXU(N.R),M.rXU(M.c1b),M.rXU(M.SKi),M.rXU(d.OD),M.rXU(F.vr),M.rXU(F.FN),M.rXU(ne),M.rXU(P.dS),M.rXU(J,8),M.rXU(C.qQ))},ee.\u0275dir=M.FsC({type:ee,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Se,Be){2&Se&&M.AVh("mat-mdc-tooltip-disabled",Be.disabled)},inputs:{position:[M.Mj6.None,"matTooltipPosition","position"],positionAtOrigin:[M.Mj6.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[M.Mj6.None,"matTooltipDisabled","disabled"],showDelay:[M.Mj6.None,"matTooltipShowDelay","showDelay"],hideDelay:[M.Mj6.None,"matTooltipHideDelay","hideDelay"],touchGestures:[M.Mj6.None,"matTooltipTouchGestures","touchGestures"],message:[M.Mj6.None,"matTooltip","message"],tooltipClass:[M.Mj6.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0}),fe})(),Nt=(()=>{var ee;class fe{constructor(Se,Be,yt){this._changeDetectorRef=Se,this._elementRef=Be,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new m.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===yt}show(Se){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Se)}hide(Se){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Se)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Se}){(!Se||!this._triggerElement.contains(Se))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const Se=this._elementRef.nativeElement.getBoundingClientRect();return Se.height>24&&Se.width>=200}_handleAnimationEnd({animationName:Se}){(Se===this._showAnimation||Se===this._hideAnimation)&&this._finalizeAnimation(Se===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(Se){Se?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Se){const Be=this._tooltip.nativeElement,yt=this._showAnimation,qt=this._hideAnimation;if(Be.classList.remove(Se?qt:yt),Be.classList.add(Se?yt:qt),this._isVisible!==Se&&(this._isVisible=Se,this._changeDetectorRef.markForCheck()),Se&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ln=getComputedStyle(Be);("0s"===Ln.getPropertyValue("animation-duration")||"none"===Ln.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Se&&this._onShow(),this._animationsDisabled&&(Be.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Se))}}return(ee=fe).\u0275fac=function(Se){return new(Se||ee)(M.rXU(M.gRc),M.rXU(M.aKT),M.rXU(M.bc$,8))},ee.\u0275cmp=M.VBU({type:ee,selectors:[["mat-tooltip-component"]],viewQuery:function(Se,Be){if(1&Se&&M.GBs(ae,7),2&Se){let yt;M.mGM(yt=M.lsd())&&(Be._tooltip=yt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Se,Be){1&Se&&M.bIt("mouseleave",function(qt){return Be._handleMouseLeave(qt)}),2&Se&&M.xc7("zoom",Be.isVisible()?1:null)},standalone:!0,features:[M.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Se,Be){if(1&Se){const yt=M.RV6();M.j41(0,"div",1,0),M.bIt("animationend",function(Ln){return M.eBV(yt),M.Njj(Be._handleAnimationEnd(Ln))}),M.j41(2,"div",2),M.EFF(3),M.k0s()()}2&Se&&(M.AVh("mdc-tooltip--multiline",Be._isMultiline),M.Y8G("ngClass",Be.tooltipClass),M.R7$(3),M.JRh(Be.message))},dependencies:[C.YU],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),fe})(),me=(()=>{var ee;class fe{}return(ee=fe).\u0275fac=function(Se){return new(Se||ee)},ee.\u0275mod=M.$C({type:ee}),ee.\u0275inj=M.G2t({providers:[le],imports:[F.Pd,C.MD,G.z_,L.yE,L.yE,N.Gj]}),fe})()},728:(ln,qe,w)=>{"use strict";w.d(qe,{wb:()=>de});var r=w(54438),s=w(345),v=w(49969);function d(ht){return new r.wOt(3e3,!1)}function We(ht){switch(ht.length){case 0:return new v.sf;case 1:return ht[0];default:return new v.ui(ht)}}function Ve(ht,$,ge=new Map,He=new Map){const Vt=[],wn=[];let Wn=-1,fr=null;if($.forEach(Ur=>{const ni=Ur.get("offset"),ri=ni==Wn,Br=ri&&fr||new Map;Ur.forEach((hi,zi)=>{let Ii=zi,pe=hi;if("offset"!==zi)switch(Ii=ht.normalizePropertyName(Ii,Vt),pe){case v.FX:pe=ge.get(zi);break;case v.kp:pe=He.get(zi);break;default:pe=ht.normalizeStyleValue(zi,Ii,pe,Vt)}Br.set(Ii,pe)}),ri||wn.push(Br),fr=Br,Wn=ni}),Vt.length)throw function Ce(ht){return new r.wOt(3502,!1)}();return wn}function wt(ht,$,ge,He){switch($){case"start":ht.onStart(()=>He(ge&&Y(ge,"start",ht)));break;case"done":ht.onDone(()=>He(ge&&Y(ge,"done",ht)));break;case"destroy":ht.onDestroy(()=>He(ge&&Y(ge,"destroy",ht)))}}function Y(ht,$,ge){const wn=b(ht.element,ht.triggerName,ht.fromState,ht.toState,$||ht.phaseName,ge.totalTime??ht.totalTime,!!ge.disabled),Wn=ht._data;return null!=Wn&&(wn._data=Wn),wn}function b(ht,$,ge,He,Vt="",wn=0,Wn){return{element:ht,triggerName:$,fromState:ge,toState:He,phaseName:Vt,totalTime:wn,disabled:!!Wn}}function R(ht,$,ge){let He=ht.get($);return He||ht.set($,He=ge),He}function T(ht){const $=ht.indexOf(":");return[ht.substring(1,$),ht.slice($+1)]}const V=typeof document>"u"?null:document.documentElement;function j(ht){const $=ht.parentNode||ht.host||null;return $===V?null:$}let I=null,xe=!1;function se(ht,$){for(;$;){if($===ht)return!0;$=j($)}return!1}function Le(ht,$,ge){if(ge)return Array.from(ht.querySelectorAll($));const He=ht.querySelector($);return He?[He]:[]}let ut=(()=>{var ht;class ${validateStyleProperty(He){return function ie(ht){I||(I=function K(){return typeof document<"u"?document.body:null}()||{},xe=!!I.style&&"WebkitAppearance"in I.style);let $=!0;return I.style&&!function h(ht){return"ebkit"==ht.substring(1,6)}(ht)&&($=ht in I.style,!$&&xe&&($="Webkit"+ht.charAt(0).toUpperCase()+ht.slice(1)in I.style)),$}(He)}matchesElement(He,Vt){return!1}containsElement(He,Vt){return se(He,Vt)}getParentElement(He){return j(He)}query(He,Vt,wn){return Le(He,Vt,wn)}computeStyle(He,Vt,wn){return wn||""}animate(He,Vt,wn,Wn,fr,Ur=[],ni){return new v.sf(wn,Wn)}}return(ht=$).\u0275fac=function(He){return new(He||ht)},ht.\u0275prov=r.jDH({token:ht,factory:ht.\u0275fac}),$})();class en{}en.NOOP=new ut;class Oe{}const it=1e3,st="ng-enter",mt="ng-leave",Ut="ng-trigger",Ne=".ng-trigger",zt="ng-animating",Zt=".ng-animating";function Cn(ht){if("number"==typeof ht)return ht;const $=ht.match(/^(-?[\.\d]+)(m?s)/);return!$||$.length<2?0:Zn(parseFloat($[1]),$[2])}function Zn(ht,$){return"s"===$?ht*it:ht}function br(ht,$,ge){return ht.hasOwnProperty("duration")?ht:function Mr(ht,$,ge){let Vt,wn=0,Wn="";if("string"==typeof ht){const fr=ht.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===fr)return $.push(d()),{duration:0,delay:0,easing:""};Vt=Zn(parseFloat(fr[1]),fr[2]);const Ur=fr[3];null!=Ur&&(wn=Zn(parseFloat(Ur),fr[4]));const ni=fr[5];ni&&(Wn=ni)}else Vt=ht;if(!ge){let fr=!1,Ur=$.length;Vt<0&&($.push(function F(){return new r.wOt(3100,!1)}()),fr=!0),wn<0&&($.push(function P(){return new r.wOt(3101,!1)}()),fr=!0),fr&&$.splice(Ur,0,d())}return{duration:Vt,delay:wn,easing:Wn}}(ht,$,ge)}function kt(ht,$,ge){$.forEach((He,Vt)=>{const wn=vt(Vt);ge&&!ge.has(Vt)&&ge.set(Vt,ht.style[wn]),ht.style[wn]=He})}function Mt(ht,$){$.forEach((ge,He)=>{const Vt=vt(He);ht.style[Vt]=""})}function bt(ht){return Array.isArray(ht)?1==ht.length?ht[0]:(0,v.K2)(ht):ht}const Yt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qe(ht){let $=[];if("string"==typeof ht){let ge;for(;ge=Yt.exec(ht);)$.push(ge[1]);Yt.lastIndex=0}return $}function Lt(ht,$,ge){const He=`${ht}`,Vt=He.replace(Yt,(wn,Wn)=>{let fr=$[Wn];return null==fr&&(ge.push(function N(ht){return new r.wOt(3003,!1)}()),fr=""),fr.toString()});return Vt==He?ht:Vt}const Mn=/-+([a-z0-9])/g;function vt(ht){return ht.replace(Mn,(...$)=>$[1].toUpperCase())}function At(ht,$,ge){switch($.type){case v.If.Trigger:return ht.visitTrigger($,ge);case v.If.State:return ht.visitState($,ge);case v.If.Transition:return ht.visitTransition($,ge);case v.If.Sequence:return ht.visitSequence($,ge);case v.If.Group:return ht.visitGroup($,ge);case v.If.Animate:return ht.visitAnimate($,ge);case v.If.Keyframes:return ht.visitKeyframes($,ge);case v.If.Style:return ht.visitStyle($,ge);case v.If.Reference:return ht.visitReference($,ge);case v.If.AnimateChild:return ht.visitAnimateChild($,ge);case v.If.AnimateRef:return ht.visitAnimateRef($,ge);case v.If.Query:return ht.visitQuery($,ge);case v.If.Stagger:return ht.visitStagger($,ge);default:throw function x(ht){return new r.wOt(3004,!1)}()}}function Pn(ht,$){return window.getComputedStyle(ht)[$]}const Yn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gr extends Oe{normalizePropertyName($,ge){return vt($)}normalizeStyleValue($,ge,He,Vt){let wn="";const Wn=He.toString().trim();if(Yn.has(ge)&&0!==He&&"0"!==He)if("number"==typeof He)wn="px";else{const fr=He.match(/^[+-]?[\d\.]+([a-z]*)$/);fr&&0==fr[1].length&&Vt.push(function m(ht,$){return new r.wOt(3005,!1)}())}return Wn+wn}}const Uo="*";const Xo=new Set(["true","1"]),Io=new Set(["false","0"]);function Fe(ht,$){const ge=Xo.has(ht)||Io.has(ht),He=Xo.has($)||Io.has($);return(Vt,wn)=>{let Wn=ht==Uo||ht==Vt,fr=$==Uo||$==wn;return!Wn&&ge&&"boolean"==typeof Vt&&(Wn=Vt?Xo.has(ht):Io.has(ht)),!fr&&He&&"boolean"==typeof wn&&(fr=wn?Xo.has($):Io.has($)),Wn&&fr}}const bn=new RegExp("s*:selfs*,?","g");function xn(ht,$,ge,He){return new ir(ht).build($,ge,He)}class ir{constructor($){this._driver=$}build($,ge,He){const Vt=new $t(ge);return this._resetContextStyleTimingState(Vt),At(this,bt($),Vt)}_resetContextStyleTimingState($){$.currentQuerySelector="",$.collectedStyles=new Map,$.collectedStyles.set("",new Map),$.currentTime=0}visitTrigger($,ge){let He=ge.queryCount=0,Vt=ge.depCount=0;const wn=[],Wn=[];return"@"==$.name.charAt(0)&&ge.errors.push(function E(){return new r.wOt(3006,!1)}()),$.definitions.forEach(fr=>{if(this._resetContextStyleTimingState(ge),fr.type==v.If.State){const Ur=fr,ni=Ur.name;ni.toString().split(/\s*,\s*/).forEach(ri=>{Ur.name=ri,wn.push(this.visitState(Ur,ge))}),Ur.name=ni}else if(fr.type==v.If.Transition){const Ur=this.visitTransition(fr,ge);He+=Ur.queryCount,Vt+=Ur.depCount,Wn.push(Ur)}else ge.errors.push(function L(){return new r.wOt(3007,!1)}())}),{type:v.If.Trigger,name:$.name,states:wn,transitions:Wn,queryCount:He,depCount:Vt,options:null}}visitState($,ge){const He=this.visitStyle($.styles,ge),Vt=$.options&&$.options.params||null;if(He.containsDynamicStyles){const wn=new Set,Wn=Vt||{};He.styles.forEach(fr=>{fr instanceof Map&&fr.forEach(Ur=>{Qe(Ur).forEach(ni=>{Wn.hasOwnProperty(ni)||wn.add(ni)})})}),wn.size&&ge.errors.push(function ae(ht,$){return new r.wOt(3008,!1)}(0,wn.values()))}return{type:v.If.State,name:$.name,style:He,options:Vt?{params:Vt}:null}}visitTransition($,ge){ge.queryCount=0,ge.depCount=0;const He=At(this,bt($.animation),ge),Vt=function So(ht,$){const ge=[];return"string"==typeof ht?ht.split(/\s*,\s*/).forEach(He=>function yo(ht,$,ge){if(":"==ht[0]){const Ur=function ts(ht,$){switch(ht){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(ge,He)=>parseFloat(He)>parseFloat(ge);case":decrement":return(ge,He)=>parseFloat(He)<parseFloat(ge);default:return $.push(function ue(ht){return new r.wOt(3016,!1)}()),"* => *"}}(ht,ge);if("function"==typeof Ur)return void $.push(Ur);ht=Ur}const He=ht.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==He||He.length<4)return ge.push(function k(ht){return new r.wOt(3015,!1)}()),$;const Vt=He[1],wn=He[2],Wn=He[3];$.push(Fe(Vt,Wn)),"<"==wn[0]&&(Vt!=Uo||Wn!=Uo)&&$.push(Fe(Wn,Vt))}(He,ge,$)):ge.push(ht),ge}($.expr,ge.errors);return{type:v.If.Transition,matchers:Vt,animation:He,queryCount:ge.queryCount,depCount:ge.depCount,options:ei($.options)}}visitSequence($,ge){return{type:v.If.Sequence,steps:$.steps.map(He=>At(this,He,ge)),options:ei($.options)}}visitGroup($,ge){const He=ge.currentTime;let Vt=0;const wn=$.steps.map(Wn=>{ge.currentTime=He;const fr=At(this,Wn,ge);return Vt=Math.max(Vt,ge.currentTime),fr});return ge.currentTime=Vt,{type:v.If.Group,steps:wn,options:ei($.options)}}visitAnimate($,ge){const He=function Tr(ht,$){if(ht.hasOwnProperty("duration"))return ht;if("number"==typeof ht)return Si(br(ht,$).duration,0,"");const ge=ht;if(ge.split(/\s+/).some(wn=>"{"==wn.charAt(0)&&"{"==wn.charAt(1))){const wn=Si(0,0,"");return wn.dynamic=!0,wn.strValue=ge,wn}const Vt=br(ge,$);return Si(Vt.duration,Vt.delay,Vt.easing)}($.timings,ge.errors);ge.currentAnimateTimings=He;let Vt,wn=$.styles?$.styles:(0,v.iF)({});if(wn.type==v.If.Keyframes)Vt=this.visitKeyframes(wn,ge);else{let Wn=$.styles,fr=!1;if(!Wn){fr=!0;const ni={};He.easing&&(ni.easing=He.easing),Wn=(0,v.iF)(ni)}ge.currentTime+=He.duration+He.delay;const Ur=this.visitStyle(Wn,ge);Ur.isEmptyStep=fr,Vt=Ur}return ge.currentAnimateTimings=null,{type:v.If.Animate,timings:He,style:Vt,options:null}}visitStyle($,ge){const He=this._makeStyleAst($,ge);return this._validateStyleAst(He,ge),He}_makeStyleAst($,ge){const He=[],Vt=Array.isArray($.styles)?$.styles:[$.styles];for(let fr of Vt)"string"==typeof fr?fr===v.kp?He.push(fr):ge.errors.push(new r.wOt(3002,!1)):He.push(new Map(Object.entries(fr)));let wn=!1,Wn=null;return He.forEach(fr=>{if(fr instanceof Map&&(fr.has("easing")&&(Wn=fr.get("easing"),fr.delete("easing")),!wn))for(let Ur of fr.values())if(Ur.toString().indexOf("{{")>=0){wn=!0;break}}),{type:v.If.Style,styles:He,easing:Wn,offset:$.offset,containsDynamicStyles:wn,options:null}}_validateStyleAst($,ge){const He=ge.currentAnimateTimings;let Vt=ge.currentTime,wn=ge.currentTime;He&&wn>0&&(wn-=He.duration+He.delay),$.styles.forEach(Wn=>{"string"!=typeof Wn&&Wn.forEach((fr,Ur)=>{const ni=ge.collectedStyles.get(ge.currentQuerySelector),ri=ni.get(Ur);let Br=!0;ri&&(wn!=Vt&&wn>=ri.startTime&&Vt<=ri.endTime&&(ge.errors.push(function ne(ht,$,ge,He,Vt){return new r.wOt(3010,!1)}()),Br=!1),wn=ri.startTime),Br&&ni.set(Ur,{startTime:wn,endTime:Vt}),ge.options&&function sn(ht,$,ge){const He=$.params||{},Vt=Qe(ht);Vt.length&&Vt.forEach(wn=>{He.hasOwnProperty(wn)||ge.push(function G(ht){return new r.wOt(3001,!1)}())})}(fr,ge.options,ge.errors)})})}visitKeyframes($,ge){const He={type:v.If.Keyframes,styles:[],options:null};if(!ge.currentAnimateTimings)return ge.errors.push(function q(){return new r.wOt(3011,!1)}()),He;let wn=0;const Wn=[];let fr=!1,Ur=!1,ni=0;const ri=$.steps.map(Ue=>{const gt=this._makeStyleAst(Ue,ge);let Rt=null!=gt.offset?gt.offset:function Vn(ht){if("string"==typeof ht)return null;let $=null;if(Array.isArray(ht))ht.forEach(ge=>{if(ge instanceof Map&&ge.has("offset")){const He=ge;$=parseFloat(He.get("offset")),He.delete("offset")}});else if(ht instanceof Map&&ht.has("offset")){const ge=ht;$=parseFloat(ge.get("offset")),ge.delete("offset")}return $}(gt.styles),dn=0;return null!=Rt&&(wn++,dn=gt.offset=Rt),Ur=Ur||dn<0||dn>1,fr=fr||dn<ni,ni=dn,Wn.push(dn),gt});Ur&&ge.errors.push(function le(){return new r.wOt(3012,!1)}()),fr&&ge.errors.push(function z(){return new r.wOt(3200,!1)}());const Br=$.steps.length;let hi=0;wn>0&&wn<Br?ge.errors.push(function J(){return new r.wOt(3202,!1)}()):0==wn&&(hi=1/(Br-1));const zi=Br-1,Ii=ge.currentTime,pe=ge.currentAnimateTimings,oe=pe.duration;return ri.forEach((Ue,gt)=>{const Rt=hi>0?gt==zi?1:hi*gt:Wn[gt],dn=Rt*oe;ge.currentTime=Ii+pe.delay+dn,pe.duration=dn,this._validateStyleAst(Ue,ge),Ue.offset=Rt,He.styles.push(Ue)}),He}visitReference($,ge){return{type:v.If.Reference,animation:At(this,bt($.animation),ge),options:ei($.options)}}visitAnimateChild($,ge){return ge.depCount++,{type:v.If.AnimateChild,options:ei($.options)}}visitAnimateRef($,ge){return{type:v.If.AnimateRef,animation:this.visitReference($.animation,ge),options:ei($.options)}}visitQuery($,ge){const He=ge.currentQuerySelector,Vt=$.options||{};ge.queryCount++,ge.currentQuery=$;const[wn,Wn]=function Pr(ht){const $=!!ht.split(/\s*,\s*/).find(ge=>":self"==ge);return $&&(ht=ht.replace(bn,"")),ht=ht.replace(/@\*/g,Ne).replace(/@\w+/g,ge=>Ne+"-"+ge.slice(1)).replace(/:animating/g,Zt),[ht,$]}($.selector);ge.currentQuerySelector=He.length?He+" "+wn:wn,R(ge.collectedStyles,ge.currentQuerySelector,new Map);const fr=At(this,bt($.animation),ge);return ge.currentQuery=null,ge.currentQuerySelector=He,{type:v.If.Query,selector:wn,limit:Vt.limit||0,optional:!!Vt.optional,includeSelf:Wn,animation:fr,originalSelector:$.selector,options:ei($.options)}}visitStagger($,ge){ge.currentQuery||ge.errors.push(function he(){return new r.wOt(3013,!1)}());const He="full"===$.timings?{duration:0,delay:0,easing:"full"}:br($.timings,ge.errors,!0);return{type:v.If.Stagger,animation:At(this,bt($.animation),ge),timings:He,options:null}}}class $t{constructor($){this.errors=$,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ei(ht){return ht?(ht={...ht}).params&&(ht.params=function et(ht){return ht?{...ht}:null}(ht.params)):ht={},ht}function Si(ht,$,ge){return{duration:ht,delay:$,easing:ge}}function Ri(ht,$,ge,He,Vt,wn,Wn=null,fr=!1){return{type:1,element:ht,keyframes:$,preStyleProps:ge,postStyleProps:He,duration:Vt,delay:wn,totalTime:Vt+wn,easing:Wn,subTimeline:fr}}class io{constructor(){this._map=new Map}get($){return this._map.get($)||[]}append($,ge){let He=this._map.get($);He||this._map.set($,He=[]),He.push(...ge)}has($){return this._map.has($)}clear(){this._map.clear()}}const Yi=new RegExp(":enter","g"),Co=new RegExp(":leave","g");function qi(ht,$,ge,He,Vt,wn=new Map,Wn=new Map,fr,Ur,ni=[]){return(new jo).buildKeyframes(ht,$,ge,He,Vt,wn,Wn,fr,Ur,ni)}class jo{buildKeyframes($,ge,He,Vt,wn,Wn,fr,Ur,ni,ri=[]){ni=ni||new io;const Br=new un($,ge,ni,Vt,wn,ri,[]);Br.options=Ur;const hi=Ur.delay?Cn(Ur.delay):0;Br.currentTimeline.delayNextStep(hi),Br.currentTimeline.setStyles([Wn],null,Br.errors,Ur),At(this,He,Br);const zi=Br.timelines.filter(Ii=>Ii.containsAnimation());if(zi.length&&fr.size){let Ii;for(let pe=zi.length-1;pe>=0;pe--){const oe=zi[pe];if(oe.element===ge){Ii=oe;break}}Ii&&!Ii.allowOnlyTimelineStyles()&&Ii.setStyles([fr],null,Br.errors,Ur)}return zi.length?zi.map(Ii=>Ii.buildKeyframes()):[Ri(ge,[],[],[],0,hi,"",!1)]}visitTrigger($,ge){}visitState($,ge){}visitTransition($,ge){}visitAnimateChild($,ge){const He=ge.subInstructions.get(ge.element);if(He){const Vt=ge.createSubContext($.options),wn=ge.currentTimeline.currentTime,Wn=this._visitSubInstructions(He,Vt,Vt.options);wn!=Wn&&ge.transformIntoNewTimeline(Wn)}ge.previousNode=$}visitAnimateRef($,ge){const He=ge.createSubContext($.options);He.transformIntoNewTimeline(),this._applyAnimationRefDelays([$.options,$.animation.options],ge,He),this.visitReference($.animation,He),ge.transformIntoNewTimeline(He.currentTimeline.currentTime),ge.previousNode=$}_applyAnimationRefDelays($,ge,He){for(const Vt of $){const wn=Vt?.delay;if(wn){const Wn="number"==typeof wn?wn:Cn(Lt(wn,Vt?.params??{},ge.errors));He.delayNextStep(Wn)}}}_visitSubInstructions($,ge,He){let wn=ge.currentTimeline.currentTime;const Wn=null!=He.duration?Cn(He.duration):null,fr=null!=He.delay?Cn(He.delay):null;return 0!==Wn&&$.forEach(Ur=>{const ni=ge.appendInstructionToTimeline(Ur,Wn,fr);wn=Math.max(wn,ni.duration+ni.delay)}),wn}visitReference($,ge){ge.updateOptions($.options,!0),At(this,$.animation,ge),ge.previousNode=$}visitSequence($,ge){const He=ge.subContextCount;let Vt=ge;const wn=$.options;if(wn&&(wn.params||wn.delay)&&(Vt=ge.createSubContext(wn),Vt.transformIntoNewTimeline(),null!=wn.delay)){Vt.previousNode.type==v.If.Style&&(Vt.currentTimeline.snapshotCurrentStyles(),Vt.previousNode=$n);const Wn=Cn(wn.delay);Vt.delayNextStep(Wn)}$.steps.length&&($.steps.forEach(Wn=>At(this,Wn,Vt)),Vt.currentTimeline.applyStylesToKeyframe(),Vt.subContextCount>He&&Vt.transformIntoNewTimeline()),ge.previousNode=$}visitGroup($,ge){const He=[];let Vt=ge.currentTimeline.currentTime;const wn=$.options&&$.options.delay?Cn($.options.delay):0;$.steps.forEach(Wn=>{const fr=ge.createSubContext($.options);wn&&fr.delayNextStep(wn),At(this,Wn,fr),Vt=Math.max(Vt,fr.currentTimeline.currentTime),He.push(fr.currentTimeline)}),He.forEach(Wn=>ge.currentTimeline.mergeTimelineCollectedStyles(Wn)),ge.transformIntoNewTimeline(Vt),ge.previousNode=$}_visitTiming($,ge){if($.dynamic){const He=$.strValue;return br(ge.params?Lt(He,ge.params,ge.errors):He,ge.errors)}return{duration:$.duration,delay:$.delay,easing:$.easing}}visitAnimate($,ge){const He=ge.currentAnimateTimings=this._visitTiming($.timings,ge),Vt=ge.currentTimeline;He.delay&&(ge.incrementTime(He.delay),Vt.snapshotCurrentStyles());const wn=$.style;wn.type==v.If.Keyframes?this.visitKeyframes(wn,ge):(ge.incrementTime(He.duration),this.visitStyle(wn,ge),Vt.applyStylesToKeyframe()),ge.currentAnimateTimings=null,ge.previousNode=$}visitStyle($,ge){const He=ge.currentTimeline,Vt=ge.currentAnimateTimings;!Vt&&He.hasCurrentStyleProperties()&&He.forwardFrame();const wn=Vt&&Vt.easing||$.easing;$.isEmptyStep?He.applyEmptyStep(wn):He.setStyles($.styles,wn,ge.errors,ge.options),ge.previousNode=$}visitKeyframes($,ge){const He=ge.currentAnimateTimings,Vt=ge.currentTimeline.duration,wn=He.duration,fr=ge.createSubContext().currentTimeline;fr.easing=He.easing,$.styles.forEach(Ur=>{fr.forwardTime((Ur.offset||0)*wn),fr.setStyles(Ur.styles,Ur.easing,ge.errors,ge.options),fr.applyStylesToKeyframe()}),ge.currentTimeline.mergeTimelineCollectedStyles(fr),ge.transformIntoNewTimeline(Vt+wn),ge.previousNode=$}visitQuery($,ge){const He=ge.currentTimeline.currentTime,Vt=$.options||{},wn=Vt.delay?Cn(Vt.delay):0;wn&&(ge.previousNode.type===v.If.Style||0==He&&ge.currentTimeline.hasCurrentStyleProperties())&&(ge.currentTimeline.snapshotCurrentStyles(),ge.previousNode=$n);let Wn=He;const fr=ge.invokeQuery($.selector,$.originalSelector,$.limit,$.includeSelf,!!Vt.optional,ge.errors);ge.currentQueryTotal=fr.length;let Ur=null;fr.forEach((ni,ri)=>{ge.currentQueryIndex=ri;const Br=ge.createSubContext($.options,ni);wn&&Br.delayNextStep(wn),ni===ge.element&&(Ur=Br.currentTimeline),At(this,$.animation,Br),Br.currentTimeline.applyStylesToKeyframe(),Wn=Math.max(Wn,Br.currentTimeline.currentTime)}),ge.currentQueryIndex=0,ge.currentQueryTotal=0,ge.transformIntoNewTimeline(Wn),Ur&&(ge.currentTimeline.mergeTimelineCollectedStyles(Ur),ge.currentTimeline.snapshotCurrentStyles()),ge.previousNode=$}visitStagger($,ge){const He=ge.parentContext,Vt=ge.currentTimeline,wn=$.timings,Wn=Math.abs(wn.duration),fr=Wn*(ge.currentQueryTotal-1);let Ur=Wn*ge.currentQueryIndex;switch(wn.duration<0?"reverse":wn.easing){case"reverse":Ur=fr-Ur;break;case"full":Ur=He.currentStaggerTime}const ri=ge.currentTimeline;Ur&&ri.delayNextStep(Ur);const Br=ri.currentTime;At(this,$.animation,ge),ge.previousNode=$,He.currentStaggerTime=Vt.currentTime-Br+(Vt.startTime-He.currentTimeline.startTime)}}const $n={};class un{constructor($,ge,He,Vt,wn,Wn,fr,Ur){this._driver=$,this.element=ge,this.subInstructions=He,this._enterClassName=Vt,this._leaveClassName=wn,this.errors=Wn,this.timelines=fr,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$n,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ur||new Ge(this._driver,ge,0),fr.push(this.currentTimeline)}get params(){return this.options.params}updateOptions($,ge){if(!$)return;const He=$;let Vt=this.options;null!=He.duration&&(Vt.duration=Cn(He.duration)),null!=He.delay&&(Vt.delay=Cn(He.delay));const wn=He.params;if(wn){let Wn=Vt.params;Wn||(Wn=this.options.params={}),Object.keys(wn).forEach(fr=>{(!ge||!Wn.hasOwnProperty(fr))&&(Wn[fr]=Lt(wn[fr],Wn,this.errors))})}}_copyOptions(){const $={};if(this.options){const ge=this.options.params;if(ge){const He=$.params={};Object.keys(ge).forEach(Vt=>{He[Vt]=ge[Vt]})}}return $}createSubContext($=null,ge,He){const Vt=ge||this.element,wn=new un(this._driver,Vt,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Vt,He||0));return wn.previousNode=this.previousNode,wn.currentAnimateTimings=this.currentAnimateTimings,wn.options=this._copyOptions(),wn.updateOptions($),wn.currentQueryIndex=this.currentQueryIndex,wn.currentQueryTotal=this.currentQueryTotal,wn.parentContext=this,this.subContextCount++,wn}transformIntoNewTimeline($){return this.previousNode=$n,this.currentTimeline=this.currentTimeline.fork(this.element,$),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline($,ge,He){const Vt={duration:ge??$.duration,delay:this.currentTimeline.currentTime+(He??0)+$.delay,easing:""},wn=new xt(this._driver,$.element,$.keyframes,$.preStyleProps,$.postStyleProps,Vt,$.stretchStartingKeyframe);return this.timelines.push(wn),Vt}incrementTime($){this.currentTimeline.forwardTime(this.currentTimeline.duration+$)}delayNextStep($){$>0&&this.currentTimeline.delayNextStep($)}invokeQuery($,ge,He,Vt,wn,Wn){let fr=[];if(Vt&&fr.push(this.element),$.length>0){$=($=$.replace(Yi,"."+this._enterClassName)).replace(Co,"."+this._leaveClassName);let ni=this._driver.query(this.element,$,1!=He);0!==He&&(ni=He<0?ni.slice(ni.length+He,ni.length):ni.slice(0,He)),fr.push(...ni)}return!wn&&0==fr.length&&Wn.push(function we(ht){return new r.wOt(3014,!1)}()),fr}}class Ge{constructor($,ge,He,Vt){this._driver=$,this.element=ge,this.startTime=He,this._elementTimelineStylesLookup=Vt,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(ge),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(ge,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep($){const ge=1===this._keyframes.size&&this._pendingStyles.size;this.duration||ge?(this.forwardTime(this.currentTime+$),ge&&this.snapshotCurrentStyles()):this.startTime+=$}fork($,ge){return this.applyStylesToKeyframe(),new Ge(this._driver,$,ge||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime($){this.applyStylesToKeyframe(),this.duration=$,this._loadKeyframe()}_updateStyle($,ge){this._localTimelineStyles.set($,ge),this._globalTimelineStyles.set($,ge),this._styleSummary.set($,{time:this.currentTime,value:ge})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep($){$&&this._previousKeyframe.set("easing",$);for(let[ge,He]of this._globalTimelineStyles)this._backFill.set(ge,He||v.kp),this._currentKeyframe.set(ge,v.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles($,ge,He,Vt){ge&&this._previousKeyframe.set("easing",ge);const wn=Vt&&Vt.params||{},Wn=function Hn(ht,$){const ge=new Map;let He;return ht.forEach(Vt=>{if("*"===Vt){He??=$.keys();for(let wn of He)ge.set(wn,v.kp)}else for(let[wn,Wn]of Vt)ge.set(wn,Wn)}),ge}($,this._globalTimelineStyles);for(let[fr,Ur]of Wn){const ni=Lt(Ur,wn,He);this._pendingStyles.set(fr,ni),this._localTimelineStyles.has(fr)||this._backFill.set(fr,this._globalTimelineStyles.get(fr)??v.kp),this._updateStyle(fr,ni)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach(($,ge)=>{this._currentKeyframe.set(ge,$)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach(($,ge)=>{this._currentKeyframe.has(ge)||this._currentKeyframe.set(ge,$)}))}snapshotCurrentStyles(){for(let[$,ge]of this._localTimelineStyles)this._pendingStyles.set($,ge),this._updateStyle($,ge)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const $=[];for(let ge in this._currentKeyframe)$.push(ge);return $}mergeTimelineCollectedStyles($){$._styleSummary.forEach((ge,He)=>{const Vt=this._styleSummary.get(He);(!Vt||ge.time>Vt.time)&&this._updateStyle(He,ge.value)})}buildKeyframes(){this.applyStylesToKeyframe();const $=new Set,ge=new Set,He=1===this._keyframes.size&&0===this.duration;let Vt=[];this._keyframes.forEach((fr,Ur)=>{const ni=new Map([...this._backFill,...fr]);ni.forEach((ri,Br)=>{ri===v.FX?$.add(Br):ri===v.kp&&ge.add(Br)}),He||ni.set("offset",Ur/this.duration),Vt.push(ni)});const wn=[...$.values()],Wn=[...ge.values()];if(He){const fr=Vt[0],Ur=new Map(fr);fr.set("offset",0),Ur.set("offset",1),Vt=[fr,Ur]}return Ri(this.element,Vt,wn,Wn,this.duration,this.startTime,this.easing,!1)}}class xt extends Ge{constructor($,ge,He,Vt,wn,Wn,fr=!1){super($,ge,Wn.delay),this.keyframes=He,this.preStyleProps=Vt,this.postStyleProps=wn,this._stretchStartingKeyframe=fr,this.timings={duration:Wn.duration,delay:Wn.delay,easing:Wn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let $=this.keyframes,{delay:ge,duration:He,easing:Vt}=this.timings;if(this._stretchStartingKeyframe&&ge){const wn=[],Wn=He+ge,fr=ge/Wn,Ur=new Map($[0]);Ur.set("offset",0),wn.push(Ur);const ni=new Map($[0]);ni.set("offset",rn(fr)),wn.push(ni);const ri=$.length-1;for(let Br=1;Br<=ri;Br++){let hi=new Map($[Br]);const zi=hi.get("offset");hi.set("offset",rn((ge+zi*He)/Wn)),wn.push(hi)}He=Wn,ge=0,Vt="",$=wn}return Ri(this.element,$,this.preStyleProps,this.postStyleProps,He,ge,Vt,!0)}}function rn(ht,$=3){const ge=Math.pow(10,$-1);return Math.round(ht*ge)/ge}function Dr(ht,$,ge,He,Vt,wn,Wn,fr,Ur,ni,ri,Br,hi){return{type:0,element:ht,triggerName:$,isRemovalTransition:Vt,fromState:ge,fromStyles:wn,toState:He,toStyles:Wn,timelines:fr,queriedElements:Ur,preStyleProps:ni,postStyleProps:ri,totalTime:Br,errors:hi}}const Qr={};class Qi{constructor($,ge,He){this._triggerName=$,this.ast=ge,this._stateStyles=He}match($,ge,He,Vt){return function vo(ht,$,ge,He,Vt){return ht.some(wn=>wn($,ge,He,Vt))}(this.ast.matchers,$,ge,He,Vt)}buildStyles($,ge,He){let Vt=this._stateStyles.get("*");return void 0!==$&&(Vt=this._stateStyles.get($?.toString())||Vt),Vt?Vt.buildStyles(ge,He):new Map}build($,ge,He,Vt,wn,Wn,fr,Ur,ni,ri){const Br=[],hi=this.ast.options&&this.ast.options.params||Qr,Ii=this.buildStyles(He,fr&&fr.params||Qr,Br),pe=Ur&&Ur.params||Qr,oe=this.buildStyles(Vt,pe,Br),Ue=new Set,gt=new Map,Rt=new Map,dn="void"===Vt,Rn={params:Do(pe,hi),delay:this.ast.options?.delay},ar=ri?[]:qi($,ge,this.ast.animation,wn,Wn,Ii,oe,Rn,ni,Br);let or=0;return ar.forEach(Rr=>{or=Math.max(Rr.duration+Rr.delay,or)}),Br.length?Dr(ge,this._triggerName,He,Vt,dn,Ii,oe,[],[],gt,Rt,or,Br):(ar.forEach(Rr=>{const Cr=Rr.element,Gr=R(gt,Cr,new Set);Rr.preStyleProps.forEach(pi=>Gr.add(pi));const Nr=R(Rt,Cr,new Set);Rr.postStyleProps.forEach(pi=>Nr.add(pi)),Cr!==ge&&Ue.add(Cr)}),Dr(ge,this._triggerName,He,Vt,dn,Ii,oe,ar,[...Ue.values()],gt,Rt,or))}}function Do(ht,$){const ge={...$};return Object.entries(ht).forEach(([He,Vt])=>{null!=Vt&&(ge[He]=Vt)}),ge}class Ao{constructor($,ge,He){this.styles=$,this.defaultParams=ge,this.normalizer=He}buildStyles($,ge){const He=new Map,Vt=Do($,this.defaultParams);return this.styles.styles.forEach(wn=>{"string"!=typeof wn&&wn.forEach((Wn,fr)=>{Wn&&(Wn=Lt(Wn,Vt,ge));const Ur=this.normalizer.normalizePropertyName(fr,ge);Wn=this.normalizer.normalizeStyleValue(fr,Ur,Wn,ge),He.set(fr,Wn)})}),He}}class Ks{constructor($,ge,He){this.name=$,this.ast=ge,this._normalizer=He,this.transitionFactories=[],this.states=new Map,ge.states.forEach(Vt=>{this.states.set(Vt.name,new Ao(Vt.style,Vt.options&&Vt.options.params||{},He))}),Go(this.states,"true","1"),Go(this.states,"false","0"),ge.transitions.forEach(Vt=>{this.transitionFactories.push(new Qi($,Vt,this.states))}),this.fallbackTransition=function ms(ht,$,ge){return new Qi(ht,{type:v.If.Transition,animation:{type:v.If.Sequence,steps:[],options:null},matchers:[(Wn,fr)=>!0],options:null,queryCount:0,depCount:0},$)}($,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition($,ge,He,Vt){return this.transitionFactories.find(Wn=>Wn.match($,ge,He,Vt))||null}matchStyles($,ge,He){return this.fallbackTransition.buildStyles($,ge,He)}}function Go(ht,$,ge){ht.has($)?ht.has(ge)||ht.set(ge,ht.get($)):ht.has(ge)&&ht.set($,ht.get(ge))}const Qo=new io;class os{constructor($,ge,He){this.bodyNode=$,this._driver=ge,this._normalizer=He,this._animations=new Map,this._playersById=new Map,this.players=[]}register($,ge){const He=[],wn=xn(this._driver,ge,He,[]);if(He.length)throw function Nt(ht){return new r.wOt(3503,!1)}();this._animations.set($,wn)}_buildPlayer($,ge,He){const Vt=$.element,wn=Ve(this._normalizer,$.keyframes,ge,He);return this._driver.animate(Vt,wn,$.duration,$.delay,$.easing,[],!0)}create($,ge,He={}){const Vt=[],wn=this._animations.get($);let Wn;const fr=new Map;if(wn?(Wn=qi(this._driver,ge,wn,st,mt,new Map,new Map,He,Qo,Vt),Wn.forEach(ri=>{const Br=R(fr,ri.element,new Map);ri.postStyleProps.forEach(hi=>Br.set(hi,null))})):(Vt.push(function Kt(){return new r.wOt(3300,!1)}()),Wn=[]),Vt.length)throw function me(ht){return new r.wOt(3504,!1)}();fr.forEach((ri,Br)=>{ri.forEach((hi,zi)=>{ri.set(zi,this._driver.computeStyle(Br,zi,v.kp))})});const ni=We(Wn.map(ri=>{const Br=fr.get(ri.element);return this._buildPlayer(ri,new Map,Br)}));return this._playersById.set($,ni),ni.onDestroy(()=>this.destroy($)),this.players.push(ni),ni}destroy($){const ge=this._getPlayer($);ge.destroy(),this._playersById.delete($);const He=this.players.indexOf(ge);He>=0&&this.players.splice(He,1)}_getPlayer($){const ge=this._playersById.get($);if(!ge)throw function ee(ht){return new r.wOt(3301,!1)}();return ge}listen($,ge,He,Vt){const wn=b(ge,"","","");return wt(this._getPlayer($),He,wn,Vt),()=>{}}command($,ge,He,Vt){if("register"==He)return void this.register($,Vt[0]);if("create"==He)return void this.create($,ge,Vt[0]||{});const wn=this._getPlayer($);switch(He){case"play":wn.play();break;case"pause":wn.pause();break;case"reset":wn.reset();break;case"restart":wn.restart();break;case"finish":wn.finish();break;case"init":wn.init();break;case"setPosition":wn.setPosition(parseFloat(Vt[0]));break;case"destroy":this.destroy($)}}}const ns="ng-animate-queued",rr="ng-animate-disabled",Ei=[],Fi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class Bi{get params(){return this.options.params}constructor($,ge=""){this.namespaceId=ge;const He=$&&$.hasOwnProperty("value");if(this.value=function Hs(ht){return ht??null}(He?$.value:$),He){const{value:wn,...Wn}=$;this.options=Wn}else this.options={};this.options.params||(this.options.params={})}absorbOptions($){const ge=$.params;if(ge){const He=this.options.params;Object.keys(ge).forEach(Vt=>{null==He[Vt]&&(He[Vt]=ge[Vt])})}}}const ko="void",ls=new Bi(ko);class Ls{constructor($,ge,He){this.id=$,this.hostElement=ge,this._engine=He,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+$,Ts(ge,this._hostClassName)}listen($,ge,He,Vt){if(!this._triggers.has(ge))throw function fe(ht,$){return new r.wOt(3302,!1)}();if(null==He||0==He.length)throw function ye(ht){return new r.wOt(3303,!1)}();if(!function pa(ht){return"start"==ht||"done"==ht}(He))throw function Se(ht,$){return new r.wOt(3400,!1)}();const wn=R(this._elementListeners,$,[]),Wn={name:ge,phase:He,callback:Vt};wn.push(Wn);const fr=R(this._engine.statesByElement,$,new Map);return fr.has(ge)||(Ts($,Ut),Ts($,Ut+"-"+ge),fr.set(ge,ls)),()=>{this._engine.afterFlush(()=>{const Ur=wn.indexOf(Wn);Ur>=0&&wn.splice(Ur,1),this._triggers.has(ge)||fr.delete(ge)})}}register($,ge){return!this._triggers.has($)&&(this._triggers.set($,ge),!0)}_getTrigger($){const ge=this._triggers.get($);if(!ge)throw function Be(ht){return new r.wOt(3401,!1)}();return ge}trigger($,ge,He,Vt=!0){const wn=this._getTrigger(ge),Wn=new Os(this.id,ge,$);let fr=this._engine.statesByElement.get($);fr||(Ts($,Ut),Ts($,Ut+"-"+ge),this._engine.statesByElement.set($,fr=new Map));let Ur=fr.get(ge);const ni=new Bi(He,this.id);if(!(He&&He.hasOwnProperty("value"))&&Ur&&ni.absorbOptions(Ur.options),fr.set(ge,ni),Ur||(Ur=ls),ni.value!==ko&&Ur.value===ni.value){if(!function mr(ht,$){const ge=Object.keys(ht),He=Object.keys($);if(ge.length!=He.length)return!1;for(let Vt=0;Vt<ge.length;Vt++){const wn=ge[Vt];if(!$.hasOwnProperty(wn)||ht[wn]!==$[wn])return!1}return!0}(Ur.params,ni.params)){const pe=[],oe=wn.matchStyles(Ur.value,Ur.params,pe),Ue=wn.matchStyles(ni.value,ni.params,pe);pe.length?this._engine.reportError(pe):this._engine.afterFlush(()=>{Mt($,oe),kt($,Ue)})}return}const hi=R(this._engine.playersByElement,$,[]);hi.forEach(pe=>{pe.namespaceId==this.id&&pe.triggerName==ge&&pe.queued&&pe.destroy()});let zi=wn.matchTransition(Ur.value,ni.value,$,ni.params),Ii=!1;if(!zi){if(!Vt)return;zi=wn.fallbackTransition,Ii=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:$,triggerName:ge,transition:zi,fromState:Ur,toState:ni,player:Wn,isFallbackTransition:Ii}),Ii||(Ts($,ns),Wn.onStart(()=>{cs($,ns)})),Wn.onDone(()=>{let pe=this.players.indexOf(Wn);pe>=0&&this.players.splice(pe,1);const oe=this._engine.playersByElement.get($);if(oe){let Ue=oe.indexOf(Wn);Ue>=0&&oe.splice(Ue,1)}}),this.players.push(Wn),hi.push(Wn),Wn}deregister($){this._triggers.delete($),this._engine.statesByElement.forEach(ge=>ge.delete($)),this._elementListeners.forEach((ge,He)=>{this._elementListeners.set(He,ge.filter(Vt=>Vt.name!=$))})}clearElementCache($){this._engine.statesByElement.delete($),this._elementListeners.delete($);const ge=this._engine.playersByElement.get($);ge&&(ge.forEach(He=>He.destroy()),this._engine.playersByElement.delete($))}_signalRemovalForInnerTriggers($,ge){const He=this._engine.driver.query($,Ne,!0);He.forEach(Vt=>{if(Vt[ho])return;const wn=this._engine.fetchNamespacesByElement(Vt);wn.size?wn.forEach(Wn=>Wn.triggerLeaveAnimation(Vt,ge,!1,!0)):this.clearElementCache(Vt)}),this._engine.afterFlushAnimationsDone(()=>He.forEach(Vt=>this.clearElementCache(Vt)))}triggerLeaveAnimation($,ge,He,Vt){const wn=this._engine.statesByElement.get($),Wn=new Map;if(wn){const fr=[];if(wn.forEach((Ur,ni)=>{if(Wn.set(ni,Ur.value),this._triggers.has(ni)){const ri=this.trigger($,ni,ko,Vt);ri&&fr.push(ri)}}),fr.length)return this._engine.markElementAsRemoved(this.id,$,!0,ge,Wn),He&&We(fr).onDone(()=>this._engine.processLeaveNode($)),!0}return!1}prepareLeaveAnimationListeners($){const ge=this._elementListeners.get($),He=this._engine.statesByElement.get($);if(ge&&He){const Vt=new Set;ge.forEach(wn=>{const Wn=wn.name;if(Vt.has(Wn))return;Vt.add(Wn);const Ur=this._triggers.get(Wn).fallbackTransition,ni=He.get(Wn)||ls,ri=new Bi(ko),Br=new Os(this.id,Wn,$);this._engine.totalQueuedPlayers++,this._queue.push({element:$,triggerName:Wn,transition:Ur,fromState:ni,toState:ri,player:Br,isFallbackTransition:!0})})}}removeNode($,ge){const He=this._engine;if($.childElementCount&&this._signalRemovalForInnerTriggers($,ge),this.triggerLeaveAnimation($,ge,!0))return;let Vt=!1;if(He.totalAnimations){const wn=He.players.length?He.playersByQueriedElement.get($):[];if(wn&&wn.length)Vt=!0;else{let Wn=$;for(;Wn=Wn.parentNode;)if(He.statesByElement.get(Wn)){Vt=!0;break}}}if(this.prepareLeaveAnimationListeners($),Vt)He.markElementAsRemoved(this.id,$,!1,ge);else{const wn=$[ho];(!wn||wn===Fi)&&(He.afterFlush(()=>this.clearElementCache($)),He.destroyInnerAnimations($),He._onRemovalComplete($,ge))}}insertNode($,ge){Ts($,this._hostClassName)}drainQueuedTransitions($){const ge=[];return this._queue.forEach(He=>{const Vt=He.player;if(Vt.destroyed)return;const wn=He.element,Wn=this._elementListeners.get(wn);Wn&&Wn.forEach(fr=>{if(fr.name==He.triggerName){const Ur=b(wn,He.triggerName,He.fromState.value,He.toState.value);Ur._data=$,wt(He.player,fr.phase,Ur,fr.callback)}}),Vt.markedForDestroy?this._engine.afterFlush(()=>{Vt.destroy()}):ge.push(He)}),this._queue=[],ge.sort((He,Vt)=>{const wn=He.transition.ast.depCount,Wn=Vt.transition.ast.depCount;return 0==wn||0==Wn?wn-Wn:this._engine.driver.containsElement(He.element,Vt.element)?1:-1})}destroy($){this.players.forEach(ge=>ge.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,$)}}class ys{_onRemovalComplete($,ge){this.onRemovalComplete($,ge)}constructor($,ge,He,Vt){this.bodyNode=$,this.driver=ge,this._normalizer=He,this.scheduler=Vt,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(wn,Wn)=>{}}get queuedPlayers(){const $=[];return this._namespaceList.forEach(ge=>{ge.players.forEach(He=>{He.queued&&$.push(He)})}),$}createNamespace($,ge){const He=new Ls($,ge,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,ge)?this._balanceNamespaceList(He,ge):(this.newHostElements.set(ge,He),this.collectEnterElement(ge)),this._namespaceLookup[$]=He}_balanceNamespaceList($,ge){const He=this._namespaceList,Vt=this.namespacesByHostElement;if(He.length-1>=0){let Wn=!1,fr=this.driver.getParentElement(ge);for(;fr;){const Ur=Vt.get(fr);if(Ur){const ni=He.indexOf(Ur);He.splice(ni+1,0,$),Wn=!0;break}fr=this.driver.getParentElement(fr)}Wn||He.unshift($)}else He.push($);return Vt.set(ge,$),$}register($,ge){let He=this._namespaceLookup[$];return He||(He=this.createNamespace($,ge)),He}registerTrigger($,ge,He){let Vt=this._namespaceLookup[$];Vt&&Vt.register(ge,He)&&this.totalAnimations++}destroy($,ge){$&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const He=this._fetchNamespace($);this.namespacesByHostElement.delete(He.hostElement);const Vt=this._namespaceList.indexOf(He);Vt>=0&&this._namespaceList.splice(Vt,1),He.destroy(ge),delete this._namespaceLookup[$]}))}_fetchNamespace($){return this._namespaceLookup[$]}fetchNamespacesByElement($){const ge=new Set,He=this.statesByElement.get($);if(He)for(let Vt of He.values())if(Vt.namespaceId){const wn=this._fetchNamespace(Vt.namespaceId);wn&&ge.add(wn)}return ge}trigger($,ge,He,Vt){if(Fo(ge)){const wn=this._fetchNamespace($);if(wn)return wn.trigger(ge,He,Vt),!0}return!1}insertNode($,ge,He,Vt){if(!Fo(ge))return;const wn=ge[ho];if(wn&&wn.setForRemoval){wn.setForRemoval=!1,wn.setForMove=!0;const Wn=this.collectedLeaveElements.indexOf(ge);Wn>=0&&this.collectedLeaveElements.splice(Wn,1)}if($){const Wn=this._fetchNamespace($);Wn&&Wn.insertNode(ge,He)}Vt&&this.collectEnterElement(ge)}collectEnterElement($){this.collectedEnterElements.push($)}markElementAsDisabled($,ge){ge?this.disabledNodes.has($)||(this.disabledNodes.add($),Ts($,rr)):this.disabledNodes.has($)&&(this.disabledNodes.delete($),cs($,rr))}removeNode($,ge,He){if(Fo(ge)){this.scheduler?.notify();const Vt=$?this._fetchNamespace($):null;Vt?Vt.removeNode(ge,He):this.markElementAsRemoved($,ge,!1,He);const wn=this.namespacesByHostElement.get(ge);wn&&wn.id!==$&&wn.removeNode(ge,He)}else this._onRemovalComplete(ge,He)}markElementAsRemoved($,ge,He,Vt,wn){this.collectedLeaveElements.push(ge),ge[ho]={namespaceId:$,setForRemoval:Vt,hasAnimation:He,removedBeforeQueried:!1,previousTriggersValues:wn}}listen($,ge,He,Vt,wn){return Fo(ge)?this._fetchNamespace($).listen(ge,He,Vt,wn):()=>{}}_buildInstruction($,ge,He,Vt,wn){return $.transition.build(this.driver,$.element,$.fromState.value,$.toState.value,He,Vt,$.fromState.options,$.toState.options,ge,wn)}destroyInnerAnimations($){let ge=this.driver.query($,Ne,!0);ge.forEach(He=>this.destroyActiveAnimationsForElement(He)),0!=this.playersByQueriedElement.size&&(ge=this.driver.query($,Zt,!0),ge.forEach(He=>this.finishActiveQueriedAnimationOnElement(He)))}destroyActiveAnimationsForElement($){const ge=this.playersByElement.get($);ge&&ge.forEach(He=>{He.queued?He.markedForDestroy=!0:He.destroy()})}finishActiveQueriedAnimationOnElement($){const ge=this.playersByQueriedElement.get($);ge&&ge.forEach(He=>He.finish())}whenRenderingDone(){return new Promise($=>{if(this.players.length)return We(this.players).onDone(()=>$());$()})}processLeaveNode($){const ge=$[ho];if(ge&&ge.setForRemoval){if($[ho]=Fi,ge.namespaceId){this.destroyInnerAnimations($);const He=this._fetchNamespace(ge.namespaceId);He&&He.clearElementCache($)}this._onRemovalComplete($,ge.setForRemoval)}$.classList?.contains(rr)&&this.markElementAsDisabled($,!1),this.driver.query($,".ng-animate-disabled",!0).forEach(He=>{this.markElementAsDisabled(He,!1)})}flush($=-1){let ge=[];if(this.newHostElements.size&&(this.newHostElements.forEach((He,Vt)=>this._balanceNamespaceList(He,Vt)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let He=0;He<this.collectedEnterElements.length;He++)Ts(this.collectedEnterElements[He],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const He=[];try{ge=this._flushAnimations(He,$)}finally{for(let Vt=0;Vt<He.length;Vt++)He[Vt]()}}else for(let He=0;He<this.collectedLeaveElements.length;He++)this.processLeaveNode(this.collectedLeaveElements[He]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(He=>He()),this._flushFns=[],this._whenQuietFns.length){const He=this._whenQuietFns;this._whenQuietFns=[],ge.length?We(ge).onDone(()=>{He.forEach(Vt=>Vt())}):He.forEach(Vt=>Vt())}}reportError($){throw function yt(ht){return new r.wOt(3402,!1)}()}_flushAnimations($,ge){const He=new io,Vt=[],wn=new Map,Wn=[],fr=new Map,Ur=new Map,ni=new Map,ri=new Set;this.disabledNodes.forEach(Sn=>{ri.add(Sn);const er=this.driver.query(Sn,".ng-animate-queued",!0);for(let zr=0;zr<er.length;zr++)ri.add(er[zr])});const Br=this.bodyNode,hi=Array.from(this.statesByElement.keys()),zi=zs(hi,this.collectedEnterElements),Ii=new Map;let pe=0;zi.forEach((Sn,er)=>{const zr=st+pe++;Ii.set(er,zr),Sn.forEach(si=>Ts(si,zr))});const oe=[],Ue=new Set,gt=new Set;for(let Sn=0;Sn<this.collectedLeaveElements.length;Sn++){const er=this.collectedLeaveElements[Sn],zr=er[ho];zr&&zr.setForRemoval&&(oe.push(er),Ue.add(er),zr.hasAnimation?this.driver.query(er,".ng-star-inserted",!0).forEach(si=>Ue.add(si)):gt.add(er))}const Rt=new Map,dn=zs(hi,Array.from(Ue));dn.forEach((Sn,er)=>{const zr=mt+pe++;Rt.set(er,zr),Sn.forEach(si=>Ts(si,zr))}),$.push(()=>{zi.forEach((Sn,er)=>{const zr=Ii.get(er);Sn.forEach(si=>cs(si,zr))}),dn.forEach((Sn,er)=>{const zr=Rt.get(er);Sn.forEach(si=>cs(si,zr))}),oe.forEach(Sn=>{this.processLeaveNode(Sn)})});const Rn=[],ar=[];for(let Sn=this._namespaceList.length-1;Sn>=0;Sn--)this._namespaceList[Sn].drainQueuedTransitions(ge).forEach(zr=>{const si=zr.player,Vi=zr.element;if(Rn.push(si),this.collectedEnterElements.length){const Jo=Vi[ho];if(Jo&&Jo.setForMove){if(Jo.previousTriggersValues&&Jo.previousTriggersValues.has(zr.triggerName)){const Cs=Jo.previousTriggersValues.get(zr.triggerName),rs=this.statesByElement.get(zr.element);if(rs&&rs.has(zr.triggerName)){const Gt=rs.get(zr.triggerName);Gt.value=Cs,rs.set(zr.triggerName,Gt)}}return void si.destroy()}}const ki=!Br||!this.driver.containsElement(Br,Vi),Oi=Rt.get(Vi),Ko=Ii.get(Vi),Ti=this._buildInstruction(zr,He,Ko,Oi,ki);if(Ti.errors&&Ti.errors.length)return void ar.push(Ti);if(ki)return si.onStart(()=>Mt(Vi,Ti.fromStyles)),si.onDestroy(()=>kt(Vi,Ti.toStyles)),void Vt.push(si);if(zr.isFallbackTransition)return si.onStart(()=>Mt(Vi,Ti.fromStyles)),si.onDestroy(()=>kt(Vi,Ti.toStyles)),void Vt.push(si);const $s=[];Ti.timelines.forEach(Jo=>{Jo.stretchStartingKeyframe=!0,this.disabledNodes.has(Jo.element)||$s.push(Jo)}),Ti.timelines=$s,He.append(Vi,Ti.timelines),Wn.push({instruction:Ti,player:si,element:Vi}),Ti.queriedElements.forEach(Jo=>R(fr,Jo,[]).push(si)),Ti.preStyleProps.forEach((Jo,Cs)=>{if(Jo.size){let rs=Ur.get(Cs);rs||Ur.set(Cs,rs=new Set),Jo.forEach((Gt,Ae)=>rs.add(Ae))}}),Ti.postStyleProps.forEach((Jo,Cs)=>{let rs=ni.get(Cs);rs||ni.set(Cs,rs=new Set),Jo.forEach((Gt,Ae)=>rs.add(Ae))})});if(ar.length){const Sn=[];ar.forEach(er=>{Sn.push(function Ln(ht,$){return new r.wOt(3505,!1)}())}),Rn.forEach(er=>er.destroy()),this.reportError(Sn)}const or=new Map,Rr=new Map;Wn.forEach(Sn=>{const er=Sn.element;He.has(er)&&(Rr.set(er,er),this._beforeAnimationBuild(Sn.player.namespaceId,Sn.instruction,or))}),Vt.forEach(Sn=>{const er=Sn.element;this._getPreviousPlayers(er,!1,Sn.namespaceId,Sn.triggerName,null).forEach(si=>{R(or,er,[]).push(si),si.destroy()})});const Cr=oe.filter(Sn=>Ir(Sn,Ur,ni)),Gr=new Map;Ds(Gr,this.driver,gt,ni,v.kp).forEach(Sn=>{Ir(Sn,Ur,ni)&&Cr.push(Sn)});const pi=new Map;zi.forEach((Sn,er)=>{Ds(pi,this.driver,new Set(Sn),Ur,v.FX)}),Cr.forEach(Sn=>{const er=Gr.get(Sn),zr=pi.get(Sn);Gr.set(Sn,new Map([...er?.entries()??[],...zr?.entries()??[]]))});const Ni=[],Un=[],pr={};Wn.forEach(Sn=>{const{element:er,player:zr,instruction:si}=Sn;if(He.has(er)){if(ri.has(er))return zr.onDestroy(()=>kt(er,si.toStyles)),zr.disabled=!0,zr.overrideTotalTime(si.totalTime),void Vt.push(zr);let Vi=pr;if(Rr.size>1){let Oi=er;const Ko=[];for(;Oi=Oi.parentNode;){const Ti=Rr.get(Oi);if(Ti){Vi=Ti;break}Ko.push(Oi)}Ko.forEach(Ti=>Rr.set(Ti,Vi))}const ki=this._buildAnimation(zr.namespaceId,si,or,wn,pi,Gr);if(zr.setRealPlayer(ki),Vi===pr)Ni.push(zr);else{const Oi=this.playersByElement.get(Vi);Oi&&Oi.length&&(zr.parentPlayer=We(Oi)),Vt.push(zr)}}else Mt(er,si.fromStyles),zr.onDestroy(()=>kt(er,si.toStyles)),Un.push(zr),ri.has(er)&&Vt.push(zr)}),Un.forEach(Sn=>{const er=wn.get(Sn.element);if(er&&er.length){const zr=We(er);Sn.setRealPlayer(zr)}}),Vt.forEach(Sn=>{Sn.parentPlayer?Sn.syncPlayerEvents(Sn.parentPlayer):Sn.destroy()});for(let Sn=0;Sn<oe.length;Sn++){const er=oe[Sn],zr=er[ho];if(cs(er,mt),zr&&zr.hasAnimation)continue;let si=[];if(fr.size){let ki=fr.get(er);ki&&ki.length&&si.push(...ki);let Oi=this.driver.query(er,Zt,!0);for(let Ko=0;Ko<Oi.length;Ko++){let Ti=fr.get(Oi[Ko]);Ti&&Ti.length&&si.push(...Ti)}}const Vi=si.filter(ki=>!ki.destroyed);Vi.length?ua(this,er,Vi):this.processLeaveNode(er)}return oe.length=0,Ni.forEach(Sn=>{this.players.push(Sn),Sn.onDone(()=>{Sn.destroy();const er=this.players.indexOf(Sn);this.players.splice(er,1)}),Sn.play()}),Ni}afterFlush($){this._flushFns.push($)}afterFlushAnimationsDone($){this._whenQuietFns.push($)}_getPreviousPlayers($,ge,He,Vt,wn){let Wn=[];if(ge){const fr=this.playersByQueriedElement.get($);fr&&(Wn=fr)}else{const fr=this.playersByElement.get($);if(fr){const Ur=!wn||wn==ko;fr.forEach(ni=>{ni.queued||!Ur&&ni.triggerName!=Vt||Wn.push(ni)})}}return(He||Vt)&&(Wn=Wn.filter(fr=>!(He&&He!=fr.namespaceId||Vt&&Vt!=fr.triggerName))),Wn}_beforeAnimationBuild($,ge,He){const wn=ge.element,Wn=ge.isRemovalTransition?void 0:$,fr=ge.isRemovalTransition?void 0:ge.triggerName;for(const Ur of ge.timelines){const ni=Ur.element,ri=ni!==wn,Br=R(He,ni,[]);this._getPreviousPlayers(ni,ri,Wn,fr,ge.toState).forEach(zi=>{const Ii=zi.getRealPlayer();Ii.beforeDestroy&&Ii.beforeDestroy(),zi.destroy(),Br.push(zi)})}Mt(wn,ge.fromStyles)}_buildAnimation($,ge,He,Vt,wn,Wn){const fr=ge.triggerName,Ur=ge.element,ni=[],ri=new Set,Br=new Set,hi=ge.timelines.map(Ii=>{const pe=Ii.element;ri.add(pe);const oe=pe[ho];if(oe&&oe.removedBeforeQueried)return new v.sf(Ii.duration,Ii.delay);const Ue=pe!==Ur,gt=function Jn(ht){const $=[];return lr(ht,$),$}((He.get(pe)||Ei).map(or=>or.getRealPlayer())).filter(or=>!!or.element&&or.element===pe),Rt=wn.get(pe),dn=Wn.get(pe),Rn=Ve(this._normalizer,Ii.keyframes,Rt,dn),ar=this._buildPlayer(Ii,Rn,gt);if(Ii.subTimeline&&Vt&&Br.add(pe),Ue){const or=new Os($,fr,pe);or.setRealPlayer(ar),ni.push(or)}return ar});ni.forEach(Ii=>{R(this.playersByQueriedElement,Ii.element,[]).push(Ii),Ii.onDone(()=>function qo(ht,$,ge){let He=ht.get($);if(He){if(He.length){const Vt=He.indexOf(ge);He.splice(Vt,1)}0==He.length&&ht.delete($)}return He}(this.playersByQueriedElement,Ii.element,Ii))}),ri.forEach(Ii=>Ts(Ii,zt));const zi=We(hi);return zi.onDestroy(()=>{ri.forEach(Ii=>cs(Ii,zt)),kt(Ur,ge.toStyles)}),Br.forEach(Ii=>{R(Vt,Ii,[]).push(zi)}),zi}_buildPlayer($,ge,He){return ge.length>0?this.driver.animate($.element,ge,$.duration,$.delay,$.easing,He):new v.sf($.duration,$.delay)}}class Os{constructor($,ge,He){this.namespaceId=$,this.triggerName=ge,this.element=He,this._player=new v.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer($){this._containsRealPlayer||(this._player=$,this._queuedCallbacks.forEach((ge,He)=>{ge.forEach(Vt=>wt($,He,void 0,Vt))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime($.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime($){this.totalTime=$}syncPlayerEvents($){const ge=this._player;ge.triggerCallback&&$.onStart(()=>ge.triggerCallback("start")),$.onDone(()=>this.finish()),$.onDestroy(()=>this.destroy())}_queueEvent($,ge){R(this._queuedCallbacks,$,[]).push(ge)}onDone($){this.queued&&this._queueEvent("done",$),this._player.onDone($)}onStart($){this.queued&&this._queueEvent("start",$),this._player.onStart($)}onDestroy($){this.queued&&this._queueEvent("destroy",$),this._player.onDestroy($)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition($){this.queued||this._player.setPosition($)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback($){const ge=this._player;ge.triggerCallback&&ge.triggerCallback($)}}function Fo(ht){return ht&&1===ht.nodeType}function oa(ht,$){const ge=ht.style.display;return ht.style.display=$??"none",ge}function Ds(ht,$,ge,He,Vt){const wn=[];ge.forEach(Ur=>wn.push(oa(Ur)));const Wn=[];He.forEach((Ur,ni)=>{const ri=new Map;Ur.forEach(Br=>{const hi=$.computeStyle(ni,Br,Vt);ri.set(Br,hi),(!hi||0==hi.length)&&(ni[ho]=Wi,Wn.push(ni))}),ht.set(ni,ri)});let fr=0;return ge.forEach(Ur=>oa(Ur,wn[fr++])),Wn}function zs(ht,$){const ge=new Map;if(ht.forEach(fr=>ge.set(fr,[])),0==$.length)return ge;const Vt=new Set($),wn=new Map;function Wn(fr){if(!fr)return 1;let Ur=wn.get(fr);if(Ur)return Ur;const ni=fr.parentNode;return Ur=ge.has(ni)?ni:Vt.has(ni)?1:Wn(ni),wn.set(fr,Ur),Ur}return $.forEach(fr=>{const Ur=Wn(fr);1!==Ur&&ge.get(Ur).push(fr)}),ge}function Ts(ht,$){ht.classList?.add($)}function cs(ht,$){ht.classList?.remove($)}function ua(ht,$,ge){We(ge).onDone(()=>ht.processLeaveNode($))}function lr(ht,$){for(let ge=0;ge<ht.length;ge++){const He=ht[ge];He instanceof v.ui?lr(He.players,$):$.push(He)}}function Ir(ht,$,ge){const He=ge.get(ht);if(!He)return!1;let Vt=$.get(ht);return Vt?He.forEach(wn=>Vt.add(wn)):$.set(ht,He),ge.delete(ht),!0}class Ai{constructor($,ge,He,Vt){this._driver=ge,this._normalizer=He,this._triggerCache={},this.onRemovalComplete=(wn,Wn)=>{},this._transitionEngine=new ys($.body,ge,He,Vt),this._timelineEngine=new os($.body,ge,He),this._transitionEngine.onRemovalComplete=(wn,Wn)=>this.onRemovalComplete(wn,Wn)}registerTrigger($,ge,He,Vt,wn){const Wn=$+"-"+Vt;let fr=this._triggerCache[Wn];if(!fr){const Ur=[],ri=xn(this._driver,wn,Ur,[]);if(Ur.length)throw function Ze(ht,$){return new r.wOt(3404,!1)}();fr=function Ms(ht,$,ge){return new Ks(ht,$,ge)}(Vt,ri,this._normalizer),this._triggerCache[Wn]=fr}this._transitionEngine.registerTrigger(ge,Vt,fr)}register($,ge){this._transitionEngine.register($,ge)}destroy($,ge){this._transitionEngine.destroy($,ge)}onInsert($,ge,He,Vt){this._transitionEngine.insertNode($,ge,He,Vt)}onRemove($,ge,He){this._transitionEngine.removeNode($,ge,He)}disableAnimations($,ge){this._transitionEngine.markElementAsDisabled($,ge)}process($,ge,He,Vt){if("@"==He.charAt(0)){const[wn,Wn]=T(He);this._timelineEngine.command(wn,ge,Wn,Vt)}else this._transitionEngine.trigger($,ge,He,Vt)}listen($,ge,He,Vt,wn){if("@"==He.charAt(0)){const[Wn,fr]=T(He);return this._timelineEngine.listen(Wn,ge,fr,wn)}return this._transitionEngine.listen($,ge,He,Vt,wn)}flush($=-1){this._transitionEngine.flush($)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone($){this._transitionEngine.afterFlushAnimationsDone($)}}class gn{constructor($,ge,He){this._element=$,this._startStyles=ge,this._endStyles=He,this._state=0;let Vt=gn.initialStylesByElement.get($);Vt||gn.initialStylesByElement.set($,Vt=new Map),this._initialStyles=Vt}start(){this._state<1&&(this._startStyles&&kt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kt(this._element,this._initialStyles),this._endStyles&&(kt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(gn.initialStylesByElement.delete(this._element),this._startStyles&&(Mt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mt(this._element,this._endStyles),this._endStyles=null),kt(this._element,this._initialStyles),this._state=3)}}function jt(ht){let $=null;return ht.forEach((ge,He)=>{(function cn(ht){return"display"===ht||"position"===ht})(He)&&($=$||new Map,$.set(He,ge))}),$}gn.initialStylesByElement=new WeakMap;class je{constructor($,ge,He,Vt){this.element=$,this.keyframes=ge,this.options=He,this._specialStyles=Vt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=He.duration,this._delay=He.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach($=>$()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const $=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,$,this.options),this._finalKeyframe=$.length?$[$.length-1]:new Map;const ge=()=>this._onFinish();this.domPlayer.addEventListener("finish",ge),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",ge)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject($){const ge=[];return $.forEach(He=>{ge.push(Object.fromEntries(He))}),ge}_triggerWebAnimation($,ge,He){return $.animate(this._convertKeyframesToObject(ge),He)}onStart($){this._originalOnStartFns.push($),this._onStartFns.push($)}onDone($){this._originalOnDoneFns.push($),this._onDoneFns.push($)}onDestroy($){this._onDestroyFns.push($)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach($=>$()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach($=>$()),this._onDestroyFns=[])}setPosition($){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=$*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const $=new Map;this.hasStarted()&&this._finalKeyframe.forEach((He,Vt)=>{"offset"!==Vt&&$.set(Vt,this._finished?He:Pn(this.element,Vt))}),this.currentSnapshot=$}triggerCallback($){const ge="start"===$?this._onStartFns:this._onDoneFns;ge.forEach(He=>He()),ge.length=0}}class It{validateStyleProperty($){return!0}validateAnimatableStyleProperty($){return!0}matchesElement($,ge){return!1}containsElement($,ge){return se($,ge)}getParentElement($){return j($)}query($,ge,He){return Le($,ge,He)}computeStyle($,ge,He){return Pn($,ge)}animate($,ge,He,Vt,wn,Wn=[]){const Ur={duration:He,delay:Vt,fill:0==Vt?"both":"forwards"};wn&&(Ur.easing=wn);const ni=new Map,ri=Wn.filter(zi=>zi instanceof je);(function nn(ht,$){return 0===ht||0===$})(He,Vt)&&ri.forEach(zi=>{zi.currentSnapshot.forEach((Ii,pe)=>ni.set(pe,Ii))});let Br=function yn(ht){return ht.length?ht[0]instanceof Map?ht:ht.map($=>new Map(Object.entries($))):[]}(ge).map(zi=>new Map(zi));Br=function Ye(ht,$,ge){if(ge.size&&$.length){let He=$[0],Vt=[];if(ge.forEach((wn,Wn)=>{He.has(Wn)||Vt.push(Wn),He.set(Wn,wn)}),Vt.length)for(let wn=1;wn<$.length;wn++){let Wn=$[wn];Vt.forEach(fr=>Wn.set(fr,Pn(ht,fr)))}}return $}($,Br,ni);const hi=function tt(ht,$){let ge=null,He=null;return Array.isArray($)&&$.length?(ge=jt($[0]),$.length>1&&(He=jt($[$.length-1]))):$ instanceof Map&&(ge=jt($)),ge||He?new gn(ht,ge,He):null}($,Br);return new je($,Br,Ur,hi)}}const yr="@.disabled";class Hr{constructor($,ge,He,Vt){this.namespaceId=$,this.delegate=ge,this.engine=He,this._onDestroy=Vt,this.\u0275type=0}get data(){return this.delegate.data}destroyNode($){this.delegate.destroyNode?.($)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement($,ge){return this.delegate.createElement($,ge)}createComment($){return this.delegate.createComment($)}createText($){return this.delegate.createText($)}appendChild($,ge){this.delegate.appendChild($,ge),this.engine.onInsert(this.namespaceId,ge,$,!1)}insertBefore($,ge,He,Vt=!0){this.delegate.insertBefore($,ge,He),this.engine.onInsert(this.namespaceId,ge,$,Vt)}removeChild($,ge,He){this.engine.onRemove(this.namespaceId,ge,this.delegate)}selectRootElement($,ge){return this.delegate.selectRootElement($,ge)}parentNode($){return this.delegate.parentNode($)}nextSibling($){return this.delegate.nextSibling($)}setAttribute($,ge,He,Vt){this.delegate.setAttribute($,ge,He,Vt)}removeAttribute($,ge,He){this.delegate.removeAttribute($,ge,He)}addClass($,ge){this.delegate.addClass($,ge)}removeClass($,ge){this.delegate.removeClass($,ge)}setStyle($,ge,He,Vt){this.delegate.setStyle($,ge,He,Vt)}removeStyle($,ge,He){this.delegate.removeStyle($,ge,He)}setProperty($,ge,He){"@"==ge.charAt(0)&&ge==yr?this.disableAnimations($,!!He):this.delegate.setProperty($,ge,He)}setValue($,ge){this.delegate.setValue($,ge)}listen($,ge,He){return this.delegate.listen($,ge,He)}disableAnimations($,ge){this.engine.disableAnimations($,ge)}}class jr extends Hr{constructor($,ge,He,Vt,wn){super(ge,He,Vt,wn),this.factory=$,this.namespaceId=ge}setProperty($,ge,He){"@"==ge.charAt(0)?"."==ge.charAt(1)&&ge==yr?this.disableAnimations($,He=void 0===He||!!He):this.engine.process(this.namespaceId,$,ge.slice(1),He):this.delegate.setProperty($,ge,He)}listen($,ge,He){if("@"==ge.charAt(0)){const Vt=function oi(ht){switch(ht){case"body":return document.body;case"document":return document;case"window":return window;default:return ht}}($);let wn=ge.slice(1),Wn="";return"@"!=wn.charAt(0)&&([wn,Wn]=function qr(ht){const $=ht.indexOf(".");return[ht.substring(0,$),ht.slice($+1)]}(wn)),this.engine.listen(this.namespaceId,Vt,wn,Wn,fr=>{this.factory.scheduleListenerCallback(fr._data||-1,He,fr)})}return this.delegate.listen($,ge,He)}}class Ui{constructor($,ge,He){this.delegate=$,this.engine=ge,this._zone=He,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,ge.onRemovalComplete=(Vt,wn)=>{const Wn=wn?.parentNode(Vt);Wn&&wn.removeChild(Wn,Vt)}}createRenderer($,ge){const Vt=this.delegate.createRenderer($,ge);if(!$||!ge?.data?.animation){const ni=this._rendererCache;let ri=ni.get(Vt);return ri||(ri=new Hr("",Vt,this.engine,()=>ni.delete(Vt)),ni.set(Vt,ri)),ri}const wn=ge.id,Wn=ge.id+"-"+this._currentId;this._currentId++,this.engine.register(Wn,$);const fr=ni=>{Array.isArray(ni)?ni.forEach(fr):this.engine.registerTrigger(wn,Wn,$,ni.name,ni)};return ge.data.animation.forEach(fr),new jr(this,Wn,Vt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback($,ge,He){if($>=0&&$<this._microtaskId)return void this._zone.run(()=>ge(He));const Vt=this._animationCallbacksBuffer;0==Vt.length&&queueMicrotask(()=>{this._zone.run(()=>{Vt.forEach(wn=>{const[Wn,fr]=wn;Wn(fr)}),this._animationCallbacksBuffer=[]})}),Vt.push([ge,He])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var co=w(60177);const $e=[{provide:Oe,useFactory:function mo(){return new gr}},{provide:Ai,useClass:(()=>{var ht;class $ extends Ai{constructor(He,Vt,wn){super(He,Vt,wn,(0,r.WQX)(r.An2,{optional:!0}))}ngOnDestroy(){this.flush()}}return(ht=$).\u0275fac=function(He){return new(He||ht)(r.KVO(co.qQ),r.KVO(en),r.KVO(Oe))},ht.\u0275prov=r.jDH({token:ht,factory:ht.\u0275fac}),$})()},{provide:r._9s,useFactory:function nt(ht,$,ge){return new Ui(ht,$,ge)},deps:[s.B7,Ai,r.SKi]}],an=[{provide:en,useFactory:()=>new It},{provide:r.bc$,useValue:"BrowserAnimations"},...$e],at=[{provide:en,useClass:ut},{provide:r.bc$,useValue:"NoopAnimations"},...$e];let de=(()=>{var ht;class ${static withConfig(He){return{ngModule:$,providers:He.disableAnimations?at:an}}}return(ht=$).\u0275fac=function(He){return new(He||ht)},ht.\u0275mod=r.$C({type:ht}),ht.\u0275inj=r.G2t({providers:an,imports:[s.Bb]}),$})()},345:(ln,qe,w)=>{"use strict";w.d(qe,{B7:()=>we,Bb:()=>T,hE:()=>h,sG:()=>wt,up:()=>pn});var r=w(54438),s=w(60177);class v extends s.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class S extends v{static makeCurrent(){(0,s.ZD)(new S)}onAndCancel(St,kt,Mt){return St.addEventListener(kt,Mt),()=>{St.removeEventListener(kt,Mt)}}dispatchEvent(St,kt){St.dispatchEvent(kt)}remove(St){St.parentNode&&St.parentNode.removeChild(St)}createElement(St,kt){return(kt=kt||this.getDefaultDocument()).createElement(St)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(St){return St.nodeType===Node.ELEMENT_NODE}isShadowRoot(St){return St instanceof DocumentFragment}getGlobalEventTarget(St,kt){return"window"===kt?window:"document"===kt?St:"body"===kt?St.body:null}getBaseHref(St){const kt=function C(){return M=M||document.querySelector("base"),M?M.getAttribute("href"):null}();return null==kt?null:function d(yn){return new URL(yn,document.baseURI).pathname}(kt)}resetBaseElement(){M=null}getUserAgent(){return window.navigator.userAgent}getCookie(St){return(0,s._b)(document.cookie,St)}}let M=null,P=(()=>{var yn;class St{build(){return new XMLHttpRequest}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)},yn.\u0275prov=r.jDH({token:yn,factory:yn.\u0275fac}),St})();const G=new r.nKC("");let N=(()=>{var yn;class St{constructor(Mt,bt){this._zone=bt,this._eventNameToPlugin=new Map,Mt.forEach(sn=>{sn.manager=this}),this._plugins=Mt.slice().reverse()}addEventListener(Mt,bt,sn){return this._findPluginFor(bt).addEventListener(Mt,bt,sn)}getZone(){return this._zone}_findPluginFor(Mt){let bt=this._eventNameToPlugin.get(Mt);if(bt)return bt;if(bt=this._plugins.find(Yt=>Yt.supports(Mt)),!bt)throw new r.wOt(5101,!1);return this._eventNameToPlugin.set(Mt,bt),bt}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)(r.KVO(G),r.KVO(r.SKi))},yn.\u0275prov=r.jDH({token:yn,factory:yn.\u0275fac}),St})();class x{constructor(St){this._doc=St}}const m="ng-app-id";let E=(()=>{var yn;class St{constructor(Mt,bt,sn,Yt={}){this.doc=Mt,this.appId=bt,this.nonce=sn,this.platformId=Yt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,s.Vy)(Yt),this.resetHostNodes()}addStyles(Mt){for(const bt of Mt)1===this.changeUsageCount(bt,1)&&this.onStyleAdded(bt)}removeStyles(Mt){for(const bt of Mt)this.changeUsageCount(bt,-1)<=0&&this.onStyleRemoved(bt)}ngOnDestroy(){const Mt=this.styleNodesInDOM;Mt&&(Mt.forEach(bt=>bt.remove()),Mt.clear());for(const bt of this.getAllStyles())this.onStyleRemoved(bt);this.resetHostNodes()}addHost(Mt){this.hostNodes.add(Mt);for(const bt of this.getAllStyles())this.addStyleToHost(Mt,bt)}removeHost(Mt){this.hostNodes.delete(Mt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Mt){for(const bt of this.hostNodes)this.addStyleToHost(bt,Mt)}onStyleRemoved(Mt){const bt=this.styleRef;bt.get(Mt)?.elements?.forEach(sn=>sn.remove()),bt.delete(Mt)}collectServerRenderedStyles(){const Mt=this.doc.head?.querySelectorAll(`style[${m}="${this.appId}"]`);if(Mt?.length){const bt=new Map;return Mt.forEach(sn=>{null!=sn.textContent&&bt.set(sn.textContent,sn)}),bt}return null}changeUsageCount(Mt,bt){const sn=this.styleRef;if(sn.has(Mt)){const Yt=sn.get(Mt);return Yt.usage+=bt,Yt.usage}return sn.set(Mt,{usage:bt,elements:[]}),bt}getStyleElement(Mt,bt){const sn=this.styleNodesInDOM,Yt=sn?.get(bt);if(Yt?.parentNode===Mt)return sn.delete(bt),Yt.removeAttribute(m),Yt;{const Qe=this.doc.createElement("style");return this.nonce&&Qe.setAttribute("nonce",this.nonce),Qe.textContent=bt,this.platformIsServer&&Qe.setAttribute(m,this.appId),Mt.appendChild(Qe),Qe}}addStyleToHost(Mt,bt){const sn=this.getStyleElement(Mt,bt),Yt=this.styleRef,Qe=Yt.get(bt)?.elements;Qe?Qe.push(sn):Yt.set(bt,{elements:[sn],usage:1})}resetHostNodes(){const Mt=this.hostNodes;Mt.clear(),Mt.add(this.doc.head)}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)(r.KVO(s.qQ),r.KVO(r.sZ2),r.KVO(r.BIS,8),r.KVO(r.Agw))},yn.\u0275prov=r.jDH({token:yn,factory:yn.\u0275fac}),St})();const L={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ae=/%COMP%/g,U="%COMP%",Z=`_nghost-${U}`,ne=`_ngcontent-${U}`,le=new r.nKC("",{providedIn:"root",factory:()=>!0});function he(yn,St){return St.map(kt=>kt.replace(ae,yn))}let we=(()=>{var yn;class St{constructor(Mt,bt,sn,Yt,Qe,Lt,Mn,vt=null){this.eventManager=Mt,this.sharedStylesHost=bt,this.appId=sn,this.removeStylesOnCompDestroy=Yt,this.doc=Qe,this.platformId=Lt,this.ngZone=Mn,this.nonce=vt,this.rendererByCompId=new Map,this.platformIsServer=(0,s.Vy)(Lt),this.defaultRenderer=new k(Mt,Qe,Mn,this.platformIsServer)}createRenderer(Mt,bt){if(!Mt||!bt)return this.defaultRenderer;this.platformIsServer&&bt.encapsulation===r.gXe.ShadowDom&&(bt={...bt,encapsulation:r.gXe.Emulated});const sn=this.getOrCreateRenderer(Mt,bt);return sn instanceof Nt?sn.applyToHost(Mt):sn instanceof Ce&&sn.applyStyles(),sn}getOrCreateRenderer(Mt,bt){const sn=this.rendererByCompId;let Yt=sn.get(bt.id);if(!Yt){const Qe=this.doc,Lt=this.ngZone,Mn=this.eventManager,vt=this.sharedStylesHost,ze=this.removeStylesOnCompDestroy,nn=this.platformIsServer;switch(bt.encapsulation){case r.gXe.Emulated:Yt=new Nt(Mn,vt,bt,this.appId,ze,Qe,Lt,nn);break;case r.gXe.ShadowDom:return new Ze(Mn,vt,Mt,bt,Qe,Lt,this.nonce,nn);default:Yt=new Ce(Mn,vt,bt,ze,Qe,Lt,nn)}sn.set(bt.id,Yt)}return Yt}ngOnDestroy(){this.rendererByCompId.clear()}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)(r.KVO(N),r.KVO(E),r.KVO(r.sZ2),r.KVO(le),r.KVO(s.qQ),r.KVO(r.Agw),r.KVO(r.SKi),r.KVO(r.BIS))},yn.\u0275prov=r.jDH({token:yn,factory:yn.\u0275fac}),St})();class k{constructor(St,kt,Mt,bt){this.eventManager=St,this.doc=kt,this.ngZone=Mt,this.platformIsServer=bt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(St,kt){return kt?this.doc.createElementNS(L[kt]||kt,St):this.doc.createElement(St)}createComment(St){return this.doc.createComment(St)}createText(St){return this.doc.createTextNode(St)}appendChild(St,kt){(ke(St)?St.content:St).appendChild(kt)}insertBefore(St,kt,Mt){St&&(ke(St)?St.content:St).insertBefore(kt,Mt)}removeChild(St,kt){St&&St.removeChild(kt)}selectRootElement(St,kt){let Mt="string"==typeof St?this.doc.querySelector(St):St;if(!Mt)throw new r.wOt(-5104,!1);return kt||(Mt.textContent=""),Mt}parentNode(St){return St.parentNode}nextSibling(St){return St.nextSibling}setAttribute(St,kt,Mt,bt){if(bt){kt=bt+":"+kt;const sn=L[bt];sn?St.setAttributeNS(sn,kt,Mt):St.setAttribute(kt,Mt)}else St.setAttribute(kt,Mt)}removeAttribute(St,kt,Mt){if(Mt){const bt=L[Mt];bt?St.removeAttributeNS(bt,kt):St.removeAttribute(`${Mt}:${kt}`)}else St.removeAttribute(kt)}addClass(St,kt){St.classList.add(kt)}removeClass(St,kt){St.classList.remove(kt)}setStyle(St,kt,Mt,bt){bt&(r.czy.DashCase|r.czy.Important)?St.style.setProperty(kt,Mt,bt&r.czy.Important?"important":""):St.style[kt]=Mt}removeStyle(St,kt,Mt){Mt&r.czy.DashCase?St.style.removeProperty(kt):St.style[kt]=""}setProperty(St,kt,Mt){null!=St&&(St[kt]=Mt)}setValue(St,kt){St.nodeValue=kt}listen(St,kt,Mt){if("string"==typeof St&&!(St=(0,s.QT)().getGlobalEventTarget(this.doc,St)))throw new Error(`Unsupported event target ${St} for event ${kt}`);return this.eventManager.addEventListener(St,kt,this.decoratePreventDefault(Mt))}decoratePreventDefault(St){return kt=>{if("__ngUnwrap__"===kt)return St;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>St(kt)):St(kt))&&kt.preventDefault()}}}function ke(yn){return"TEMPLATE"===yn.tagName&&void 0!==yn.content}class Ze extends k{constructor(St,kt,Mt,bt,sn,Yt,Qe,Lt){super(St,sn,Yt,Lt),this.sharedStylesHost=kt,this.hostEl=Mt,this.shadowRoot=Mt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mn=he(bt.id,bt.styles);for(const vt of Mn){const ze=document.createElement("style");Qe&&ze.setAttribute("nonce",Qe),ze.textContent=vt,this.shadowRoot.appendChild(ze)}}nodeOrShadowRoot(St){return St===this.hostEl?this.shadowRoot:St}appendChild(St,kt){return super.appendChild(this.nodeOrShadowRoot(St),kt)}insertBefore(St,kt,Mt){return super.insertBefore(this.nodeOrShadowRoot(St),kt,Mt)}removeChild(St,kt){return super.removeChild(this.nodeOrShadowRoot(St),kt)}parentNode(St){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(St)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ce extends k{constructor(St,kt,Mt,bt,sn,Yt,Qe,Lt){super(St,sn,Yt,Qe),this.sharedStylesHost=kt,this.removeStylesOnCompDestroy=bt,this.styles=Lt?he(Lt,Mt.styles):Mt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Nt extends Ce{constructor(St,kt,Mt,bt,sn,Yt,Qe,Lt){const Mn=bt+"-"+Mt.id;super(St,kt,Mt,sn,Yt,Qe,Lt,Mn),this.contentAttr=function z(yn){return ne.replace(ae,yn)}(Mn),this.hostAttr=function J(yn){return Z.replace(ae,yn)}(Mn)}applyToHost(St){this.applyStyles(),this.setAttribute(St,this.hostAttr,"")}createElement(St,kt){const Mt=super.createElement(St,kt);return super.setAttribute(Mt,this.contentAttr,""),Mt}}let Kt=(()=>{var yn;class St extends x{constructor(Mt){super(Mt)}supports(Mt){return!0}addEventListener(Mt,bt,sn){return Mt.addEventListener(bt,sn,!1),()=>this.removeEventListener(Mt,bt,sn)}removeEventListener(Mt,bt,sn){return Mt.removeEventListener(bt,sn)}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)(r.KVO(s.qQ))},yn.\u0275prov=r.jDH({token:yn,factory:yn.\u0275fac}),St})();const me=["alt","control","meta","shift"],ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:yn=>yn.altKey,control:yn=>yn.ctrlKey,meta:yn=>yn.metaKey,shift:yn=>yn.shiftKey};let ye=(()=>{var yn;class St extends x{constructor(Mt){super(Mt)}supports(Mt){return null!=St.parseEventName(Mt)}addEventListener(Mt,bt,sn){const Yt=St.parseEventName(bt),Qe=St.eventCallback(Yt.fullKey,sn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,s.QT)().onAndCancel(Mt,Yt.domEventName,Qe))}static parseEventName(Mt){const bt=Mt.toLowerCase().split("."),sn=bt.shift();if(0===bt.length||"keydown"!==sn&&"keyup"!==sn)return null;const Yt=St._normalizeKey(bt.pop());let Qe="",Lt=bt.indexOf("code");if(Lt>-1&&(bt.splice(Lt,1),Qe="code."),me.forEach(vt=>{const ze=bt.indexOf(vt);ze>-1&&(bt.splice(ze,1),Qe+=vt+".")}),Qe+=Yt,0!=bt.length||0===Yt.length)return null;const Mn={};return Mn.domEventName=sn,Mn.fullKey=Qe,Mn}static matchEventFullKeyCode(Mt,bt){let sn=ee[Mt.key]||Mt.key,Yt="";return bt.indexOf("code.")>-1&&(sn=Mt.code,Yt="code."),!(null==sn||!sn)&&(sn=sn.toLowerCase()," "===sn?sn="space":"."===sn&&(sn="dot"),me.forEach(Qe=>{Qe!==sn&&(0,fe[Qe])(Mt)&&(Yt+=Qe+".")}),Yt+=sn,Yt===bt)}static eventCallback(Mt,bt,sn){return Yt=>{St.matchEventFullKeyCode(Yt,Mt)&&sn.runGuarded(()=>bt(Yt))}}static _normalizeKey(Mt){return"esc"===Mt?"escape":Mt}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)(r.KVO(s.qQ))},yn.\u0275prov=r.jDH({token:yn,factory:yn.\u0275fac}),St})();const wt=(0,r.oH4)(r.fpN,"browser",[{provide:r.Agw,useValue:s.AJ},{provide:r.PLl,useValue:function Ln(){S.makeCurrent()},multi:!0},{provide:s.qQ,useFactory:function We(){return(0,r.TL$)(document),document},deps:[]}]),Y=new r.nKC(""),b=[{provide:r.e01,useClass:class F{addToWindow(St){r.JZv.getAngularTestability=(Mt,bt=!0)=>{const sn=St.findTestabilityInTree(Mt,bt);if(null==sn)throw new r.wOt(5103,!1);return sn},r.JZv.getAllAngularTestabilities=()=>St.getAllTestabilities(),r.JZv.getAllAngularRootElements=()=>St.getAllRootElements(),r.JZv.frameworkStabilizers||(r.JZv.frameworkStabilizers=[]),r.JZv.frameworkStabilizers.push(Mt=>{const bt=r.JZv.getAllAngularTestabilities();let sn=bt.length;const Yt=function(){sn--,0==sn&&Mt()};bt.forEach(Qe=>{Qe.whenStable(Yt)})})}findTestabilityInTree(St,kt,Mt){return null==kt?null:St.getTestability(kt)??(Mt?(0,s.QT)().isShadowRoot(kt)?this.findTestabilityInTree(St,kt.host,!0):this.findTestabilityInTree(St,kt.parentElement,!0):null)}},deps:[]},{provide:r.WHO,useClass:r.NYb,deps:[r.SKi,r.giA,r.e01]},{provide:r.NYb,useClass:r.NYb,deps:[r.SKi,r.giA,r.e01]}],R=[{provide:r.H8p,useValue:"root"},{provide:r.zcH,useFactory:function Tt(){return new r.zcH},deps:[]},{provide:G,useClass:Kt,multi:!0,deps:[s.qQ,r.SKi,r.Agw]},{provide:G,useClass:ye,multi:!0,deps:[s.qQ]},we,E,N,{provide:r._9s,useExisting:we},{provide:s.N0,useClass:P,deps:[]},[]];let T=(()=>{var yn;class St{constructor(Mt){}static withServerTransition(Mt){return{ngModule:St,providers:[{provide:r.sZ2,useValue:Mt.appId}]}}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)(r.KVO(Y,12))},yn.\u0275mod=r.$C({type:yn}),yn.\u0275inj=r.G2t({providers:[...R,...b],imports:[s.MD,r.Hbi]}),St})(),h=(()=>{var yn;class St{constructor(Mt){this._doc=Mt}getTitle(){return this._doc.title}setTitle(Mt){this._doc.title=Mt||""}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)(r.KVO(s.qQ))},yn.\u0275prov=r.jDH({token:yn,factory:yn.\u0275fac,providedIn:"root"}),St})(),pn=(()=>{var yn;class St{}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)},yn.\u0275prov=r.jDH({token:yn,factory:function(Mt){let bt=null;return bt=Mt?new(Mt||yn):r.KVO(st),bt},providedIn:"root"}),St})(),st=(()=>{var yn;class St extends pn{constructor(Mt){super(),this._doc=Mt}sanitize(Mt,bt){if(null==bt)return null;switch(Mt){case r.WPN.NONE:return bt;case r.WPN.HTML:return(0,r.ZF7)(bt,"HTML")?(0,r.rcV)(bt):(0,r.h9k)(this._doc,String(bt)).toString();case r.WPN.STYLE:return(0,r.ZF7)(bt,"Style")?(0,r.rcV)(bt):bt;case r.WPN.SCRIPT:if((0,r.ZF7)(bt,"Script"))return(0,r.rcV)(bt);throw new r.wOt(5200,!1);case r.WPN.URL:return(0,r.ZF7)(bt,"URL")?(0,r.rcV)(bt):(0,r.$MX)(String(bt));case r.WPN.RESOURCE_URL:if((0,r.ZF7)(bt,"ResourceURL"))return(0,r.rcV)(bt);throw new r.wOt(5201,!1);default:throw new r.wOt(5202,!1)}}bypassSecurityTrustHtml(Mt){return(0,r.Kcf)(Mt)}bypassSecurityTrustStyle(Mt){return(0,r.cWb)(Mt)}bypassSecurityTrustScript(Mt){return(0,r.UyX)(Mt)}bypassSecurityTrustUrl(Mt){return(0,r.osQ)(Mt)}bypassSecurityTrustResourceUrl(Mt){return(0,r.e5t)(Mt)}}return(yn=St).\u0275fac=function(Mt){return new(Mt||yn)(r.KVO(s.qQ))},yn.\u0275prov=r.jDH({token:yn,factory:yn.\u0275fac,providedIn:"root"}),St})()},38645:(ln,qe,w)=>{"use strict";w.d(qe,{nX:()=>Rs,nU:()=>mt,wF:()=>ei,Z:()=>Tr,Ix:()=>Lo,Wk:()=>bo,wQ:()=>Ps,iI:()=>Dl,n3:()=>Bi,Sd:()=>st});var r=w(28407),s=w(54438),v=w(28454),S=w(21472),M=w(15877),C=w(29160),d=w(82656),F=w(50330),P=w(35892),G=w(45946),N=w(37479),x=w(45326),m=w(2515),E=w(7221),L=w(85052),ae=w(81027),U=w(60177),Z=w(36110),ne=w(32914),q=w(17365),le=w(35160),z=w(14264),J=w(11756),he=w(60830),we=w(26758),k=w(39705),ue=w(28577),Ie=w(15210),ke=w(95773),Ce=w(47369),Nt=w(66196);function Kt(ce){return ce<=0?()=>m.w:(0,Ie.N)((Te,Xe)=>{let De=[];Te.subscribe((0,Nt._)(Xe,ft=>{De.push(ft),ce<De.length&&De.shift()},()=>{for(const ft of De)Xe.next(ft);Xe.complete()},void 0,()=>{De=null}))})}var me=w(67074),ee=w(19577),ye=w(99539),Se=w(15152),Be=w(44710),yt=w(37925),qt=w(98297),Ln=w(345);const Tt="primary",We=Symbol("RouteTitle");class Ve{constructor(Te){this.params=Te||{}}has(Te){return Object.prototype.hasOwnProperty.call(this.params,Te)}get(Te){if(this.has(Te)){const Xe=this.params[Te];return Array.isArray(Xe)?Xe[0]:Xe}return null}getAll(Te){if(this.has(Te)){const Xe=this.params[Te];return Array.isArray(Xe)?Xe:[Xe]}return[]}get keys(){return Object.keys(this.params)}}function wt(ce){return new Ve(ce)}function Y(ce,Te,Xe){const De=Xe.path.split("/");if(De.length>ce.length||"full"===Xe.pathMatch&&(Te.hasChildren()||De.length<ce.length))return null;const ft={};for(let mn=0;mn<De.length;mn++){const Nn=De[mn],Kr=ce[mn];if(Nn.startsWith(":"))ft[Nn.substring(1)]=Kr;else if(Nn!==Kr.path)return null}return{consumed:ce.slice(0,De.length),posParams:ft}}function R(ce,Te){const Xe=ce?T(ce):void 0,De=Te?T(Te):void 0;if(!Xe||!De||Xe.length!=De.length)return!1;let ft;for(let mn=0;mn<Xe.length;mn++)if(ft=Xe[mn],!V(ce[ft],Te[ft]))return!1;return!0}function T(ce){return[...Object.keys(ce),...Object.getOwnPropertySymbols(ce)]}function V(ce,Te){if(Array.isArray(ce)&&Array.isArray(Te)){if(ce.length!==Te.length)return!1;const Xe=[...ce].sort(),De=[...Te].sort();return Xe.every((ft,mn)=>De[mn]===ft)}return ce===Te}function j(ce){return ce.length>0?ce[ce.length-1]:null}function h(ce){return(0,v.A)(ce)?ce:(0,s.jNT)(ce)?(0,S.H)(Promise.resolve(ce)):(0,M.of)(ce)}const I={exact:function K(ce,Te,Xe){if(!Bt(ce.segments,Te.segments)||!ut(ce.segments,Te.segments,Xe)||ce.numberOfChildren!==Te.numberOfChildren)return!1;for(const De in Te.children)if(!ce.children[De]||!K(ce.children[De],Te.children[De],Xe))return!1;return!0},subset:Le},xe={exact:function D(ce,Te){return R(ce,Te)},subset:function se(ce,Te){return Object.keys(Te).length<=Object.keys(ce).length&&Object.keys(Te).every(Xe=>V(ce[Xe],Te[Xe]))},ignored:()=>!0};function ie(ce,Te,Xe){return I[Xe.paths](ce.root,Te.root,Xe.matrixParams)&&xe[Xe.queryParams](ce.queryParams,Te.queryParams)&&!("exact"===Xe.fragment&&ce.fragment!==Te.fragment)}function Le(ce,Te,Xe){return ct(ce,Te,Te.segments,Xe)}function ct(ce,Te,Xe,De){if(ce.segments.length>Xe.length){const ft=ce.segments.slice(0,Xe.length);return!(!Bt(ft,Xe)||Te.hasChildren()||!ut(ft,Xe,De))}if(ce.segments.length===Xe.length){if(!Bt(ce.segments,Xe)||!ut(ce.segments,Xe,De))return!1;for(const ft in Te.children)if(!ce.children[ft]||!Le(ce.children[ft],Te.children[ft],De))return!1;return!0}{const ft=Xe.slice(0,ce.segments.length),mn=Xe.slice(ce.segments.length);return!!(Bt(ce.segments,ft)&&ut(ce.segments,ft,De)&&ce.children[Tt])&&ct(ce.children[Tt],Te,mn,De)}}function ut(ce,Te,Xe){return Te.every((De,ft)=>xe[Xe](ce[ft].parameters,De.parameters))}class en{constructor(Te=new Oe([],{}),Xe={},De=null){this.root=Te,this.queryParams=Xe,this.fragment=De}get queryParamMap(){return this._queryParamMap??=wt(this.queryParams),this._queryParamMap}toString(){return Ut.serialize(this)}}class Oe{constructor(Te,Xe){this.segments=Te,this.children=Xe,this.parent=null,Object.values(Xe).forEach(De=>De.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ne(this)}}class Pt{constructor(Te,Xe){this.path=Te,this.parameters=Xe}get parameterMap(){return this._parameterMap??=wt(this.parameters),this._parameterMap}toString(){return St(this)}}function Bt(ce,Te){return ce.length===Te.length&&ce.every((Xe,De)=>Xe.path===Te[De].path)}let st=(()=>{var ce;class Te{}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:()=>new mt,providedIn:"root"}),Te})();class mt{parse(Te){const Xe=new nn(Te);return new en(Xe.parseRootSegment(),Xe.parseQueryParams(),Xe.parseFragment())}serialize(Te){const Xe=`/${zt(Te.root,!0)}`,De=function Mt(ce){const Te=Object.entries(ce).map(([Xe,De])=>Array.isArray(De)?De.map(ft=>`${Cn(Xe)}=${Cn(ft)}`).join("&"):`${Cn(Xe)}=${Cn(De)}`).filter(Xe=>Xe);return Te.length?`?${Te.join("&")}`:""}(Te.queryParams);return`${Xe}${De}${"string"==typeof Te.fragment?`#${function Zn(ce){return encodeURI(ce)}(Te.fragment)}`:""}`}}const Ut=new mt;function Ne(ce){return ce.segments.map(Te=>St(Te)).join("/")}function zt(ce,Te){if(!ce.hasChildren())return Ne(ce);if(Te){const Xe=ce.children[Tt]?zt(ce.children[Tt],!1):"",De=[];return Object.entries(ce.children).forEach(([ft,mn])=>{ft!==Tt&&De.push(`${ft}:${zt(mn,!1)}`)}),De.length>0?`${Xe}(${De.join("//")})`:Xe}{const Xe=function pn(ce,Te){let Xe=[];return Object.entries(ce.children).forEach(([De,ft])=>{De===Tt&&(Xe=Xe.concat(Te(ft,De)))}),Object.entries(ce.children).forEach(([De,ft])=>{De!==Tt&&(Xe=Xe.concat(Te(ft,De)))}),Xe}(ce,(De,ft)=>ft===Tt?[zt(ce.children[Tt],!1)]:[`${ft}:${zt(De,!1)}`]);return 1===Object.keys(ce.children).length&&null!=ce.children[Tt]?`${Ne(ce)}/${Xe[0]}`:`${Ne(ce)}/(${Xe.join("//")})`}}function Zt(ce){return encodeURIComponent(ce).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cn(ce){return Zt(ce).replace(/%3B/gi,";")}function br(ce){return Zt(ce).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mr(ce){return decodeURIComponent(ce)}function yn(ce){return Mr(ce.replace(/\+/g,"%20"))}function St(ce){return`${br(ce.path)}${function kt(ce){return Object.entries(ce).map(([Te,Xe])=>`;${br(Te)}=${br(Xe)}`).join("")}(ce.parameters)}`}const bt=/^[^\/()?;#]+/;function sn(ce){const Te=ce.match(bt);return Te?Te[0]:""}const Yt=/^[^\/()?;=#]+/,Lt=/^[^=?&#]+/,vt=/^[^&#]+/;class nn{constructor(Te){this.url=Te,this.remaining=Te}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){const Te={};if(this.consumeOptional("?"))do{this.parseQueryParam(Te)}while(this.consumeOptional("&"));return Te}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Te=[];for(this.peekStartsWith("(")||Te.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Te.push(this.parseSegment());let Xe={};this.peekStartsWith("/(")&&(this.capture("/"),Xe=this.parseParens(!0));let De={};return this.peekStartsWith("(")&&(De=this.parseParens(!1)),(Te.length>0||Object.keys(Xe).length>0)&&(De[Tt]=new Oe(Te,Xe)),De}parseSegment(){const Te=sn(this.remaining);if(""===Te&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(Te),new Pt(Mr(Te),this.parseMatrixParams())}parseMatrixParams(){const Te={};for(;this.consumeOptional(";");)this.parseParam(Te);return Te}parseParam(Te){const Xe=function Qe(ce){const Te=ce.match(Yt);return Te?Te[0]:""}(this.remaining);if(!Xe)return;this.capture(Xe);let De="";if(this.consumeOptional("=")){const ft=sn(this.remaining);ft&&(De=ft,this.capture(De))}Te[Mr(Xe)]=Mr(De)}parseQueryParam(Te){const Xe=function Mn(ce){const Te=ce.match(Lt);return Te?Te[0]:""}(this.remaining);if(!Xe)return;this.capture(Xe);let De="";if(this.consumeOptional("=")){const Nn=function ze(ce){const Te=ce.match(vt);return Te?Te[0]:""}(this.remaining);Nn&&(De=Nn,this.capture(De))}const ft=yn(Xe),mn=yn(De);if(Te.hasOwnProperty(ft)){let Nn=Te[ft];Array.isArray(Nn)||(Nn=[Nn],Te[ft]=Nn),Nn.push(mn)}else Te[ft]=mn}parseParens(Te){const Xe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const De=sn(this.remaining),ft=this.remaining[De.length];if("/"!==ft&&")"!==ft&&";"!==ft)throw new s.wOt(4010,!1);let mn;De.indexOf(":")>-1?(mn=De.slice(0,De.indexOf(":")),this.capture(mn),this.capture(":")):Te&&(mn=Tt);const Nn=this.parseChildren();Xe[mn]=1===Object.keys(Nn).length?Nn[Tt]:new Oe([],Nn),this.consumeOptional("//")}return Xe}peekStartsWith(Te){return this.remaining.startsWith(Te)}consumeOptional(Te){return!!this.peekStartsWith(Te)&&(this.remaining=this.remaining.substring(Te.length),!0)}capture(Te){if(!this.consumeOptional(Te))throw new s.wOt(4011,!1)}}function Ye(ce){return ce.segments.length>0?new Oe([],{[Tt]:ce}):ce}function At(ce){const Te={};for(const[De,ft]of Object.entries(ce.children)){const mn=At(ft);if(De===Tt&&0===mn.segments.length&&mn.hasChildren())for(const[Nn,Kr]of Object.entries(mn.children))Te[Nn]=Kr;else(mn.segments.length>0||mn.hasChildren())&&(Te[De]=mn)}return function Pn(ce){if(1===ce.numberOfChildren&&ce.children[Tt]){const Te=ce.children[Tt];return new Oe(ce.segments.concat(Te.segments),Te.children)}return ce}(new Oe(ce.segments,Te))}function Yn(ce){return ce instanceof en}function vr(ce){let Te;const ft=Ye(function Xe(mn){const Nn={};for(const $i of mn.children){const _i=Xe($i);Nn[$i.outlet]=_i}const Kr=new Oe(mn.url,Nn);return mn===ce&&(Te=Kr),Kr}(ce.root));return Te??ft}function vi(ce,Te,Xe,De){let ft=ce;for(;ft.parent;)ft=ft.parent;if(0===Te.length)return wi(ft,ft,ft,Xe,De);const mn=function So(ce){if("string"==typeof ce[0]&&1===ce.length&&"/"===ce[0])return new Uo(!0,0,ce);let Te=0,Xe=!1;const De=ce.reduce((ft,mn,Nn)=>{if("object"==typeof mn&&null!=mn){if(mn.outlets){const Kr={};return Object.entries(mn.outlets).forEach(([$i,_i])=>{Kr[$i]="string"==typeof _i?_i.split("/"):_i}),[...ft,{outlets:Kr}]}if(mn.segmentPath)return[...ft,mn.segmentPath]}return"string"!=typeof mn?[...ft,mn]:0===Nn?(mn.split("/").forEach((Kr,$i)=>{0==$i&&"."===Kr||(0==$i&&""===Kr?Xe=!0:".."===Kr?Te++:""!=Kr&&ft.push(Kr))}),ft):[...ft,mn]},[]);return new Uo(Xe,Te,De)}(Te);if(mn.toRoot())return wi(ft,ft,new Oe([],{}),Xe,De);const Nn=function ts(ce,Te,Xe){if(ce.isAbsolute)return new yo(Te,!0,0);if(!Xe)return new yo(Te,!1,NaN);if(null===Xe.parent)return new yo(Xe,!0,0);const De=to(ce.commands[0])?0:1;return function Xo(ce,Te,Xe){let De=ce,ft=Te,mn=Xe;for(;mn>ft;){if(mn-=ft,De=De.parent,!De)throw new s.wOt(4005,!1);ft=De.segments.length}return new yo(De,!1,ft-mn)}(Xe,Xe.segments.length-1+De,ce.numberOfDoubleDots)}(mn,ft,ce),Kr=Nn.processChildren?_t(Nn.segmentGroup,Nn.index,mn.commands):Fe(Nn.segmentGroup,Nn.index,mn.commands);return wi(ft,Nn.segmentGroup,Kr,Xe,De)}function to(ce){return"object"==typeof ce&&null!=ce&&!ce.outlets&&!ce.segmentPath}function ro(ce){return"object"==typeof ce&&null!=ce&&ce.outlets}function wi(ce,Te,Xe,De,ft){let Nn,mn={};De&&Object.entries(De).forEach(([$i,_i])=>{mn[$i]=Array.isArray(_i)?_i.map(zo=>`${zo}`):`${_i}`}),Nn=ce===Te?Xe:_o(ce,Te,Xe);const Kr=Ye(At(Nn));return new en(Kr,mn,ft)}function _o(ce,Te,Xe){const De={};return Object.entries(ce.children).forEach(([ft,mn])=>{De[ft]=mn===Te?Xe:_o(mn,Te,Xe)}),new Oe(ce.segments,De)}class Uo{constructor(Te,Xe,De){if(this.isAbsolute=Te,this.numberOfDoubleDots=Xe,this.commands=De,Te&&De.length>0&&to(De[0]))throw new s.wOt(4003,!1);const ft=De.find(ro);if(ft&&ft!==j(De))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yo{constructor(Te,Xe,De){this.segmentGroup=Te,this.processChildren=Xe,this.index=De}}function Fe(ce,Te,Xe){if(ce??=new Oe([],{}),0===ce.segments.length&&ce.hasChildren())return _t(ce,Te,Xe);const De=function bn(ce,Te,Xe){let De=0,ft=Te;const mn={match:!1,pathIndex:0,commandIndex:0};for(;ft<ce.segments.length;){if(De>=Xe.length)return mn;const Nn=ce.segments[ft],Kr=Xe[De];if(ro(Kr))break;const $i=`${Kr}`,_i=De<Xe.length-1?Xe[De+1]:null;if(ft>0&&void 0===$i)break;if($i&&_i&&"object"==typeof _i&&void 0===_i.outlets){if(!Pr($i,_i,Nn))return mn;De+=2}else{if(!Pr($i,{},Nn))return mn;De++}ft++}return{match:!0,pathIndex:ft,commandIndex:De}}(ce,Te,Xe),ft=Xe.slice(De.commandIndex);if(De.match&&De.pathIndex<ce.segments.length){const mn=new Oe(ce.segments.slice(0,De.pathIndex),{});return mn.children[Tt]=new Oe(ce.segments.slice(De.pathIndex),ce.children),_t(mn,0,ft)}return De.match&&0===ft.length?new Oe(ce.segments,{}):De.match&&!ce.hasChildren()?xn(ce,Te,Xe):De.match?_t(ce,0,ft):xn(ce,Te,Xe)}function _t(ce,Te,Xe){if(0===Xe.length)return new Oe(ce.segments,{});{const De=function Io(ce){return ro(ce[0])?ce[0].outlets:{[Tt]:ce}}(Xe),ft={};if(Object.keys(De).some(mn=>mn!==Tt)&&ce.children[Tt]&&1===ce.numberOfChildren&&0===ce.children[Tt].segments.length){const mn=_t(ce.children[Tt],Te,Xe);return new Oe(ce.segments,mn.children)}return Object.entries(De).forEach(([mn,Nn])=>{"string"==typeof Nn&&(Nn=[Nn]),null!==Nn&&(ft[mn]=Fe(ce.children[mn],Te,Nn))}),Object.entries(ce.children).forEach(([mn,Nn])=>{void 0===De[mn]&&(ft[mn]=Nn)}),new Oe(ce.segments,ft)}}function xn(ce,Te,Xe){const De=ce.segments.slice(0,Te);let ft=0;for(;ft<Xe.length;){const mn=Xe[ft];if(ro(mn)){const $i=zn(mn.outlets);return new Oe(De,$i)}if(0===ft&&to(Xe[0])){De.push(new Pt(ce.segments[Te].path,ir(Xe[0]))),ft++;continue}const Nn=ro(mn)?mn.outlets[Tt]:`${mn}`,Kr=ft<Xe.length-1?Xe[ft+1]:null;Nn&&Kr&&to(Kr)?(De.push(new Pt(Nn,ir(Kr))),ft+=2):(De.push(new Pt(Nn,{})),ft++)}return new Oe(De,{})}function zn(ce){const Te={};return Object.entries(ce).forEach(([Xe,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(Te[Xe]=xn(new Oe([],{}),0,De))}),Te}function ir(ce){const Te={};return Object.entries(ce).forEach(([Xe,De])=>Te[Xe]=`${De}`),Te}function Pr(ce,Te,Xe){return ce==Xe.path&&R(Te,Xe.parameters)}const et="imperative";var $t=function(ce){return ce[ce.NavigationStart=0]="NavigationStart",ce[ce.NavigationEnd=1]="NavigationEnd",ce[ce.NavigationCancel=2]="NavigationCancel",ce[ce.NavigationError=3]="NavigationError",ce[ce.RoutesRecognized=4]="RoutesRecognized",ce[ce.ResolveStart=5]="ResolveStart",ce[ce.ResolveEnd=6]="ResolveEnd",ce[ce.GuardsCheckStart=7]="GuardsCheckStart",ce[ce.GuardsCheckEnd=8]="GuardsCheckEnd",ce[ce.RouteConfigLoadStart=9]="RouteConfigLoadStart",ce[ce.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ce[ce.ChildActivationStart=11]="ChildActivationStart",ce[ce.ChildActivationEnd=12]="ChildActivationEnd",ce[ce.ActivationStart=13]="ActivationStart",ce[ce.ActivationEnd=14]="ActivationEnd",ce[ce.Scroll=15]="Scroll",ce[ce.NavigationSkipped=16]="NavigationSkipped",ce}($t||{});class Vn{constructor(Te,Xe){this.id=Te,this.url=Xe}}class Tr extends Vn{constructor(Te,Xe,De="imperative",ft=null){super(Te,Xe),this.type=$t.NavigationStart,this.navigationTrigger=De,this.restoredState=ft}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ei extends Vn{constructor(Te,Xe,De){super(Te,Xe),this.urlAfterRedirects=De,this.type=$t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Si=function(ce){return ce[ce.Redirect=0]="Redirect",ce[ce.SupersededByNewNavigation=1]="SupersededByNewNavigation",ce[ce.NoDataFromResolver=2]="NoDataFromResolver",ce[ce.GuardRejected=3]="GuardRejected",ce}(Si||{}),Ri=function(ce){return ce[ce.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ce[ce.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ce}(Ri||{});class io extends Vn{constructor(Te,Xe,De,ft){super(Te,Xe),this.reason=De,this.code=ft,this.type=$t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ci extends Vn{constructor(Te,Xe,De,ft){super(Te,Xe),this.reason=De,this.code=ft,this.type=$t.NavigationSkipped}}class yi extends Vn{constructor(Te,Xe,De,ft){super(Te,Xe),this.error=De,this.target=ft,this.type=$t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yi extends Vn{constructor(Te,Xe,De,ft){super(Te,Xe),this.urlAfterRedirects=De,this.state=ft,this.type=$t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so extends Vn{constructor(Te,Xe,De,ft){super(Te,Xe),this.urlAfterRedirects=De,this.state=ft,this.type=$t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends Vn{constructor(Te,Xe,De,ft,mn){super(Te,Xe),this.urlAfterRedirects=De,this.state=ft,this.shouldActivate=mn,this.type=$t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qi extends Vn{constructor(Te,Xe,De,ft){super(Te,Xe),this.urlAfterRedirects=De,this.state=ft,this.type=$t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo extends Vn{constructor(Te,Xe,De,ft){super(Te,Xe),this.urlAfterRedirects=De,this.state=ft,this.type=$t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n{constructor(Te){this.route=Te,this.type=$t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class un{constructor(Te){this.route=Te,this.type=$t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ge{constructor(Te){this.snapshot=Te,this.type=$t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xt{constructor(Te){this.snapshot=Te,this.type=$t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(Te){this.snapshot=Te,this.type=$t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(Te){this.snapshot=Te,this.type=$t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(Te,Xe,De){this.routerEvent=Te,this.position=Xe,this.anchor=De,this.type=$t.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qr{}class Qi{constructor(Te){this.url=Te}}class vo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Do,this.attachRef=null}}let Do=(()=>{var ce;class Te{constructor(){this.contexts=new Map}onChildOutletCreated(De,ft){const mn=this.getOrCreateContext(De);mn.outlet=ft,this.contexts.set(De,mn)}onChildOutletDestroyed(De){const ft=this.getContext(De);ft&&(ft.outlet=null,ft.attachRef=null)}onOutletDeactivated(){const De=this.contexts;return this.contexts=new Map,De}onOutletReAttached(De){this.contexts=De}getOrCreateContext(De){let ft=this.getContext(De);return ft||(ft=new vo,this.contexts.set(De,ft)),ft}getContext(De){return this.contexts.get(De)||null}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})();class Ao{constructor(Te){this._root=Te}get root(){return this._root.value}parent(Te){const Xe=this.pathFromRoot(Te);return Xe.length>1?Xe[Xe.length-2]:null}children(Te){const Xe=Ms(Te,this._root);return Xe?Xe.children.map(De=>De.value):[]}firstChild(Te){const Xe=Ms(Te,this._root);return Xe&&Xe.children.length>0?Xe.children[0].value:null}siblings(Te){const Xe=Ks(Te,this._root);return Xe.length<2?[]:Xe[Xe.length-2].children.map(ft=>ft.value).filter(ft=>ft!==Te)}pathFromRoot(Te){return Ks(Te,this._root).map(Xe=>Xe.value)}}function Ms(ce,Te){if(ce===Te.value)return Te;for(const Xe of Te.children){const De=Ms(ce,Xe);if(De)return De}return null}function Ks(ce,Te){if(ce===Te.value)return[Te];for(const Xe of Te.children){const De=Ks(ce,Xe);if(De.length)return De.unshift(Te),De}return[]}class ms{constructor(Te,Xe){this.value=Te,this.children=Xe}toString(){return`TreeNode(${this.value})`}}function Go(ce){const Te={};return ce&&ce.children.forEach(Xe=>Te[Xe.value.outlet]=Xe),Te}class Qo extends Ao{constructor(Te,Xe){super(Te),this.snapshot=Xe,gi(this,Te)}toString(){return this.snapshot.toString()}}function os(ce){const Te=function ns(ce){const mn=new sr([],{},{},"",{},Tt,ce,null,{});return new Lr("",new ms(mn,[]))}(ce),Xe=new C.t([new Pt("",{})]),De=new C.t({}),ft=new C.t({}),mn=new C.t({}),Nn=new C.t(""),Kr=new Rs(Xe,De,mn,Nn,ft,Tt,ce,Te.root);return Kr.snapshot=Te.root,new Qo(new ms(Kr,[]),Te)}class Rs{constructor(Te,Xe,De,ft,mn,Nn,Kr,$i){this.urlSubject=Te,this.paramsSubject=Xe,this.queryParamsSubject=De,this.fragmentSubject=ft,this.dataSubject=mn,this.outlet=Nn,this.component=Kr,this._futureSnapshot=$i,this.title=this.dataSubject?.pipe((0,Z.T)(_i=>_i[We]))??(0,M.of)(void 0),this.url=Te,this.params=Xe,this.queryParams=De,this.fragment=ft,this.data=mn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Z.T)(Te=>wt(Te))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Z.T)(Te=>wt(Te))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rr(ce,Te,Xe="emptyOnly"){let De;const{routeConfig:ft}=ce;return De=null===Te||"always"!==Xe&&""!==ft?.path&&(Te.component||Te.routeConfig?.loadComponent)?{params:{...ce.params},data:{...ce.data},resolve:{...ce.data,...ce._resolvedData??{}}}:{params:{...Te.params,...ce.params},data:{...Te.data,...ce.data},resolve:{...ce.data,...Te.data,...ft?.data,...ce._resolvedData}},ft&&ho(ft)&&(De.resolve[We]=ft.title),De}class sr{get title(){return this.data?.[We]}constructor(Te,Xe,De,ft,mn,Nn,Kr,$i,_i){this.url=Te,this.params=Xe,this.queryParams=De,this.fragment=ft,this.data=mn,this.outlet=Nn,this.component=Kr,this.routeConfig=$i,this._resolve=_i}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(De=>De.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lr extends Ao{constructor(Te,Xe){super(Xe),this.url=Te,gi(this,Xe)}toString(){return Ei(this._root)}}function gi(ce,Te){Te.value._routerState=ce,Te.children.forEach(Xe=>gi(ce,Xe))}function Ei(ce){const Te=ce.children.length>0?` { ${ce.children.map(Ei).join(", ")} } `:"";return`${ce.value}${Te}`}function Fi(ce){if(ce.snapshot){const Te=ce.snapshot,Xe=ce._futureSnapshot;ce.snapshot=Xe,R(Te.queryParams,Xe.queryParams)||ce.queryParamsSubject.next(Xe.queryParams),Te.fragment!==Xe.fragment&&ce.fragmentSubject.next(Xe.fragment),R(Te.params,Xe.params)||ce.paramsSubject.next(Xe.params),function b(ce,Te){if(ce.length!==Te.length)return!1;for(let Xe=0;Xe<ce.length;++Xe)if(!R(ce[Xe],Te[Xe]))return!1;return!0}(Te.url,Xe.url)||ce.urlSubject.next(Xe.url),R(Te.data,Xe.data)||ce.dataSubject.next(Xe.data)}else ce.snapshot=ce._futureSnapshot,ce.dataSubject.next(ce._futureSnapshot.data)}function Wi(ce,Te){const Xe=R(ce.params,Te.params)&&function it(ce,Te){return Bt(ce,Te)&&ce.every((Xe,De)=>R(Xe.parameters,Te[De].parameters))}(ce.url,Te.url);return Xe&&!(!ce.parent!=!Te.parent)&&(!ce.parent||Wi(ce.parent,Te.parent))}function ho(ce){return"string"==typeof ce.title||null===ce.title}let Bi=(()=>{var ce;class Te{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tt,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.attachEvents=new s.bkB,this.detachEvents=new s.bkB,this.parentContexts=(0,s.WQX)(Do),this.location=(0,s.WQX)(s.c1b),this.changeDetector=(0,s.WQX)(s.gRc),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(ls,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(De){if(De.name){const{firstChange:ft,previousValue:mn}=De.name;if(ft)return;this.isTrackedInParentContexts(mn)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(mn)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(De){return this.parentContexts.getContext(De)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const De=this.parentContexts.getContext(this.name);De?.route&&(De.attachRef?this.attach(De.attachRef,De.route):this.activateWith(De.route,De.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const De=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(De.instance),De}attach(De,ft){this.activated=De,this._activatedRoute=ft,this.location.insert(De.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(De.instance)}deactivate(){if(this.activated){const De=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(De)}}activateWith(De,ft){if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=De;const mn=this.location,Kr=De.snapshot.component,$i=this.parentContexts.getOrCreateContext(this.name).children,_i=new ko(De,$i,mn.injector);this.activated=mn.createComponent(Kr,{index:mn.length,injector:_i,environmentInjector:ft??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275dir=s.FsC({type:ce,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.OA$]}),Te})();class ko{__ngOutletInjector(Te){return new ko(this.route,this.childContexts,Te)}constructor(Te,Xe,De){this.route=Te,this.childContexts=Xe,this.parent=De}get(Te,Xe){return Te===Rs?this.route:Te===Do?this.childContexts:this.parent.get(Te,Xe)}}const ls=new s.nKC("");let Ls=(()=>{var ce;class Te{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(De){this.unsubscribeFromRouteData(De),this.subscribeToRouteData(De)}unsubscribeFromRouteData(De){this.outletDataSubscriptions.get(De)?.unsubscribe(),this.outletDataSubscriptions.delete(De)}subscribeToRouteData(De){const{activatedRoute:ft}=De,mn=(0,d.z)([ft.queryParams,ft.params,ft.data]).pipe((0,ne.n)(([Nn,Kr,$i],_i)=>($i={...Nn,...Kr,...$i},0===_i?(0,M.of)($i):Promise.resolve($i)))).subscribe(Nn=>{if(!De.isActivated||!De.activatedComponentRef||De.activatedRoute!==ft||null===ft.component)return void this.unsubscribeFromRouteData(De);const Kr=(0,s.HJs)(ft.component);if(Kr)for(const{templateName:$i}of Kr.inputs)De.activatedComponentRef.setInput($i,Nn[$i]);else this.unsubscribeFromRouteData(De)});this.outletDataSubscriptions.set(De,mn)}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac}),Te})();function Os(ce,Te,Xe){if(Xe&&ce.shouldReuseRoute(Te.value,Xe.value.snapshot)){const De=Xe.value;De._futureSnapshot=Te.value;const ft=function qo(ce,Te,Xe){return Te.children.map(De=>{for(const ft of Xe.children)if(ce.shouldReuseRoute(De.value,ft.value.snapshot))return Os(ce,De,ft);return Os(ce,De)})}(ce,Te,Xe);return new ms(De,ft)}{if(ce.shouldAttach(Te.value)){const mn=ce.retrieve(Te.value);if(null!==mn){const Nn=mn.route;return Nn.value._futureSnapshot=Te.value,Nn.children=Te.children.map(Kr=>Os(ce,Kr)),Nn}}const De=function Hs(ce){return new Rs(new C.t(ce.url),new C.t(ce.params),new C.t(ce.queryParams),new C.t(ce.fragment),new C.t(ce.data),ce.outlet,ce.component,ce)}(Te.value),ft=Te.children.map(mn=>Os(ce,mn));return new ms(De,ft)}}const Fo="ngNavigationCancelingError";function pa(ce,Te){const{redirectTo:Xe,navigationBehaviorOptions:De}=Yn(Te)?{redirectTo:Te,navigationBehaviorOptions:void 0}:Te,ft=oa(!1,Si.Redirect);return ft.url=Xe,ft.navigationBehaviorOptions=De,ft}function oa(ce,Te){const Xe=new Error(`NavigationCancelingError: ${ce||""}`);return Xe[Fo]=!0,Xe.cancellationCode=Te,Xe}function zs(ce){return!!ce&&ce[Fo]}let Ts=(()=>{var ce;class Te{}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275cmp=s.VBU({type:ce,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:1,vars:0,template:function(De,ft){1&De&&s.nrm(0,"router-outlet")},dependencies:[Bi],encapsulation:2}),Te})();function jt(ce){const Te=ce.children&&ce.children.map(jt),Xe=Te?{...ce,children:Te}:{...ce};return!Xe.component&&!Xe.loadComponent&&(Te||Xe.loadChildren)&&Xe.outlet&&Xe.outlet!==Tt&&(Xe.component=Ts),Xe}function cn(ce){return ce.outlet||Tt}function It(ce){if(!ce)return null;if(ce.routeConfig?._injector)return ce.routeConfig._injector;for(let Te=ce.parent;Te;Te=Te.parent){const Xe=Te.routeConfig;if(Xe?._loadedInjector)return Xe._loadedInjector;if(Xe?._injector)return Xe._injector}return null}class hr{constructor(Te,Xe,De,ft,mn){this.routeReuseStrategy=Te,this.futureState=Xe,this.currState=De,this.forwardEvent=ft,this.inputBindingEnabled=mn}activate(Te){const Xe=this.futureState._root,De=this.currState?this.currState._root:null;this.deactivateChildRoutes(Xe,De,Te),Fi(this.futureState.root),this.activateChildRoutes(Xe,De,Te)}deactivateChildRoutes(Te,Xe,De){const ft=Go(Xe);Te.children.forEach(mn=>{const Nn=mn.value.outlet;this.deactivateRoutes(mn,ft[Nn],De),delete ft[Nn]}),Object.values(ft).forEach(mn=>{this.deactivateRouteAndItsChildren(mn,De)})}deactivateRoutes(Te,Xe,De){const ft=Te.value,mn=Xe?Xe.value:null;if(ft===mn)if(ft.component){const Nn=De.getContext(ft.outlet);Nn&&this.deactivateChildRoutes(Te,Xe,Nn.children)}else this.deactivateChildRoutes(Te,Xe,De);else mn&&this.deactivateRouteAndItsChildren(Xe,De)}deactivateRouteAndItsChildren(Te,Xe){Te.value.component&&this.routeReuseStrategy.shouldDetach(Te.value.snapshot)?this.detachAndStoreRouteSubtree(Te,Xe):this.deactivateRouteAndOutlet(Te,Xe)}detachAndStoreRouteSubtree(Te,Xe){const De=Xe.getContext(Te.value.outlet),ft=De&&Te.value.component?De.children:Xe,mn=Go(Te);for(const Nn of Object.values(mn))this.deactivateRouteAndItsChildren(Nn,ft);if(De&&De.outlet){const Nn=De.outlet.detach(),Kr=De.children.onOutletDeactivated();this.routeReuseStrategy.store(Te.value.snapshot,{componentRef:Nn,route:Te,contexts:Kr})}}deactivateRouteAndOutlet(Te,Xe){const De=Xe.getContext(Te.value.outlet),ft=De&&Te.value.component?De.children:Xe,mn=Go(Te);for(const Nn of Object.values(mn))this.deactivateRouteAndItsChildren(Nn,ft);De&&(De.outlet&&(De.outlet.deactivate(),De.children.onOutletDeactivated()),De.attachRef=null,De.route=null)}activateChildRoutes(Te,Xe,De){const ft=Go(Xe);Te.children.forEach(mn=>{this.activateRoutes(mn,ft[mn.value.outlet],De),this.forwardEvent(new Hn(mn.value.snapshot))}),Te.children.length&&this.forwardEvent(new xt(Te.value.snapshot))}activateRoutes(Te,Xe,De){const ft=Te.value,mn=Xe?Xe.value:null;if(Fi(ft),ft===mn)if(ft.component){const Nn=De.getOrCreateContext(ft.outlet);this.activateChildRoutes(Te,Xe,Nn.children)}else this.activateChildRoutes(Te,Xe,De);else if(ft.component){const Nn=De.getOrCreateContext(ft.outlet);if(this.routeReuseStrategy.shouldAttach(ft.snapshot)){const Kr=this.routeReuseStrategy.retrieve(ft.snapshot);this.routeReuseStrategy.store(ft.snapshot,null),Nn.children.onOutletReAttached(Kr.contexts),Nn.attachRef=Kr.componentRef,Nn.route=Kr.route.value,Nn.outlet&&Nn.outlet.attach(Kr.componentRef,Kr.route.value),Fi(Kr.route.value),this.activateChildRoutes(Te,null,Nn.children)}else{const Kr=It(ft.snapshot);Nn.attachRef=null,Nn.route=ft,Nn.injector=Kr,Nn.outlet&&Nn.outlet.activateWith(ft,Nn.injector),this.activateChildRoutes(Te,null,Nn.children)}}else this.activateChildRoutes(Te,null,De)}}class yr{constructor(Te){this.path=Te,this.route=this.path[this.path.length-1]}}class Hr{constructor(Te,Xe){this.component=Te,this.route=Xe}}function jr(ce,Te,Xe){const De=ce._root;return Ui(De,Te?Te._root:null,Xe,[De.value])}function qr(ce,Te){const Xe=Symbol(),De=Te.get(ce,Xe);return De===Xe?"function"!=typeof ce||(0,s.LfX)(ce)?Te.get(ce):ce:De}function Ui(ce,Te,Xe,De,ft={canDeactivateChecks:[],canActivateChecks:[]}){const mn=Go(Te);return ce.children.forEach(Nn=>{(function co(ce,Te,Xe,De,ft={canDeactivateChecks:[],canActivateChecks:[]}){const mn=ce.value,Nn=Te?Te.value:null,Kr=Xe?Xe.getContext(ce.value.outlet):null;if(Nn&&mn.routeConfig===Nn.routeConfig){const $i=function Ro(ce,Te,Xe){if("function"==typeof Xe)return Xe(ce,Te);switch(Xe){case"pathParamsChange":return!Bt(ce.url,Te.url);case"pathParamsOrQueryParamsChange":return!Bt(ce.url,Te.url)||!R(ce.queryParams,Te.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wi(ce,Te)||!R(ce.queryParams,Te.queryParams);default:return!Wi(ce,Te)}}(Nn,mn,mn.routeConfig.runGuardsAndResolvers);$i?ft.canActivateChecks.push(new yr(De)):(mn.data=Nn.data,mn._resolvedData=Nn._resolvedData),Ui(ce,Te,mn.component?Kr?Kr.children:null:Xe,De,ft),$i&&Kr&&Kr.outlet&&Kr.outlet.isActivated&&ft.canDeactivateChecks.push(new Hr(Kr.outlet.component,Nn))}else Nn&&mo(Te,Kr,ft),ft.canActivateChecks.push(new yr(De)),Ui(ce,null,mn.component?Kr?Kr.children:null:Xe,De,ft)})(Nn,mn[Nn.value.outlet],Xe,De.concat([Nn.value]),ft),delete mn[Nn.value.outlet]}),Object.entries(mn).forEach(([Nn,Kr])=>mo(Kr,Xe.getContext(Nn),ft)),ft}function mo(ce,Te,Xe){const De=Go(ce),ft=ce.value;Object.entries(De).forEach(([mn,Nn])=>{mo(Nn,ft.component?Te?Te.children.getContext(mn):null:Te,Xe)}),Xe.canDeactivateChecks.push(new Hr(ft.component&&Te&&Te.outlet&&Te.outlet.isActivated?Te.outlet.component:null,ft))}function nt(ce){return"function"==typeof ce}function Kn(ce){return ce instanceof F.G||"EmptyError"===ce?.name}const ht=Symbol("INITIAL_VALUE");function $(){return(0,ne.n)(ce=>(0,d.z)(ce.map(Te=>Te.pipe((0,q.s)(1),(0,le.Z)(ht)))).pipe((0,Z.T)(Te=>{for(const Xe of Te)if(!0!==Xe){if(Xe===ht)return ht;if(!1===Xe||Xe instanceof en)return Xe}return!0}),(0,z.p)(Te=>Te!==ht),(0,q.s)(1)))}function Br(ce){return(0,N.F)((0,k.M)(Te=>{if(Yn(Te))throw pa(0,Te)}),(0,Z.T)(Te=>!0===Te))}class zi{constructor(Te){this.segmentGroup=Te||null}}class Ii extends Error{constructor(Te){super(),this.urlTree=Te}}function pe(ce){return(0,x.$)(new zi(ce))}class Rt{constructor(Te,Xe){this.urlSerializer=Te,this.urlTree=Xe}lineralizeSegments(Te,Xe){let De=[],ft=Xe.root;for(;;){if(De=De.concat(ft.segments),0===ft.numberOfChildren)return(0,M.of)(De);if(ft.numberOfChildren>1||!ft.children[Tt])return(0,x.$)(new s.wOt(4e3,!1));ft=ft.children[Tt]}}applyRedirectCommands(Te,Xe,De){const ft=this.applyRedirectCreateUrlTree(Xe,this.urlSerializer.parse(Xe),Te,De);if(Xe.startsWith("/"))throw new Ii(ft);return ft}applyRedirectCreateUrlTree(Te,Xe,De,ft){const mn=this.createSegmentGroup(Te,Xe.root,De,ft);return new en(mn,this.createQueryParams(Xe.queryParams,this.urlTree.queryParams),Xe.fragment)}createQueryParams(Te,Xe){const De={};return Object.entries(Te).forEach(([ft,mn])=>{if("string"==typeof mn&&mn.startsWith(":")){const Kr=mn.substring(1);De[ft]=Xe[Kr]}else De[ft]=mn}),De}createSegmentGroup(Te,Xe,De,ft){const mn=this.createSegments(Te,Xe.segments,De,ft);let Nn={};return Object.entries(Xe.children).forEach(([Kr,$i])=>{Nn[Kr]=this.createSegmentGroup(Te,$i,De,ft)}),new Oe(mn,Nn)}createSegments(Te,Xe,De,ft){return Xe.map(mn=>mn.path.startsWith(":")?this.findPosParam(Te,mn,ft):this.findOrReturn(mn,De))}findPosParam(Te,Xe,De){const ft=De[Xe.path.substring(1)];if(!ft)throw new s.wOt(4001,!1);return ft}findOrReturn(Te,Xe){let De=0;for(const ft of Xe){if(ft.path===Te.path)return Xe.splice(De),ft;De++}return Te}}const dn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rn(ce,Te,Xe,De,ft){const mn=ar(ce,Te,Xe);return mn.matched?(De=function cs(ce,Te){return ce.providers&&!ce._injector&&(ce._injector=(0,s.Ol2)(ce.providers,Te,`Route: ${ce.path}`)),ce._injector??Te}(Te,De),function hi(ce,Te,Xe,De){const ft=Te.canMatch;if(!ft||0===ft.length)return(0,M.of)(!0);const mn=ft.map(Nn=>{const Kr=qr(Nn,ce);return h(function on(ce){return ce&&nt(ce.canMatch)}(Kr)?Kr.canMatch(Te,Xe):(0,s.N4e)(ce,()=>Kr(Te,Xe)))});return(0,M.of)(mn).pipe($(),Br())}(De,Te,Xe).pipe((0,Z.T)(Nn=>!0===Nn?mn:{...dn}))):(0,M.of)(mn)}function ar(ce,Te,Xe){if("**"===Te.path)return function or(ce){return{matched:!0,parameters:ce.length>0?j(ce).parameters:{},consumedSegments:ce,remainingSegments:[],positionalParamSegments:{}}}(Xe);if(""===Te.path)return"full"===Te.pathMatch&&(ce.hasChildren()||Xe.length>0)?{...dn}:{matched:!0,consumedSegments:[],remainingSegments:Xe,parameters:{},positionalParamSegments:{}};const ft=(Te.matcher||Y)(Xe,ce,Te);if(!ft)return{...dn};const mn={};Object.entries(ft.posParams??{}).forEach(([Kr,$i])=>{mn[Kr]=$i.path});const Nn=ft.consumed.length>0?{...mn,...ft.consumed[ft.consumed.length-1].parameters}:mn;return{matched:!0,consumedSegments:ft.consumed,remainingSegments:Xe.slice(ft.consumed.length),parameters:Nn,positionalParamSegments:ft.posParams??{}}}function Rr(ce,Te,Xe,De){return Xe.length>0&&function Nr(ce,Te,Xe){return Xe.some(De=>Ni(ce,Te,De)&&cn(De)!==Tt)}(ce,Xe,De)?{segmentGroup:new Oe(Te,Gr(De,new Oe(Xe,ce.children))),slicedSegments:[]}:0===Xe.length&&function pi(ce,Te,Xe){return Xe.some(De=>Ni(ce,Te,De))}(ce,Xe,De)?{segmentGroup:new Oe(ce.segments,Cr(ce,Xe,De,ce.children)),slicedSegments:Xe}:{segmentGroup:new Oe(ce.segments,ce.children),slicedSegments:Xe}}function Cr(ce,Te,Xe,De){const ft={};for(const mn of Xe)if(Ni(ce,Te,mn)&&!De[cn(mn)]){const Nn=new Oe([],{});ft[cn(mn)]=Nn}return{...De,...ft}}function Gr(ce,Te){const Xe={};Xe[Tt]=Te;for(const De of ce)if(""===De.path&&cn(De)!==Tt){const ft=new Oe([],{});Xe[cn(De)]=ft}return Xe}function Ni(ce,Te,Xe){return(!(ce.hasChildren()||Te.length>0)||"full"!==Xe.pathMatch)&&""===Xe.path}class Sn{}class si{constructor(Te,Xe,De,ft,mn,Nn,Kr){this.injector=Te,this.configLoader=Xe,this.rootComponentType=De,this.config=ft,this.urlTree=mn,this.paramsInheritanceStrategy=Nn,this.urlSerializer=Kr,this.applyRedirects=new Rt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Te){return new s.wOt(4002,`'${Te.segmentGroup}'`)}recognize(){const Te=Rr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Te).pipe((0,Z.T)(Xe=>{const De=new sr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tt,this.rootComponentType,null,{}),ft=new ms(De,Xe),mn=new Lr("",ft),Nn=function gr(ce,Te,Xe=null,De=null){return vi(vr(ce),Te,Xe,De)}(De,[],this.urlTree.queryParams,this.urlTree.fragment);return Nn.queryParams=this.urlTree.queryParams,mn.url=this.urlSerializer.serialize(Nn),this.inheritParamsAndData(mn._root,null),{state:mn,tree:Nn}}))}match(Te){return this.processSegmentGroup(this.injector,this.config,Te,Tt).pipe((0,ue.W)(De=>{if(De instanceof Ii)return this.urlTree=De.urlTree,this.match(De.urlTree.root);throw De instanceof zi?this.noMatchError(De):De}))}inheritParamsAndData(Te,Xe){const De=Te.value,ft=rr(De,Xe,this.paramsInheritanceStrategy);De.params=Object.freeze(ft.params),De.data=Object.freeze(ft.data),Te.children.forEach(mn=>this.inheritParamsAndData(mn,De))}processSegmentGroup(Te,Xe,De,ft){return 0===De.segments.length&&De.hasChildren()?this.processChildren(Te,Xe,De):this.processSegment(Te,Xe,De,De.segments,ft,!0).pipe((0,Z.T)(mn=>mn instanceof ms?[mn]:[]))}processChildren(Te,Xe,De){const ft=[];for(const mn of Object.keys(De.children))"primary"===mn?ft.unshift(mn):ft.push(mn);return(0,S.H)(ft).pipe((0,we.H)(mn=>{const Nn=De.children[mn],Kr=function je(ce,Te){const Xe=ce.filter(De=>cn(De)===Te);return Xe.push(...ce.filter(De=>cn(De)!==Te)),Xe}(Xe,mn);return this.processSegmentGroup(Te,Kr,Nn,mn)}),function Ze(ce,Te){return(0,Ie.N)((0,ke.S)(ce,Te,arguments.length>=2,!0))}((mn,Nn)=>(mn.push(...Nn),mn)),(0,Ce.U)(null),function fe(ce,Te){const Xe=arguments.length>=2;return De=>De.pipe(ce?(0,z.p)((ft,mn)=>ce(ft,mn,De)):ee.D,Kt(1),Xe?(0,Ce.U)(Te):(0,me.v)(()=>new F.G))}(),(0,J.Z)(mn=>{if(null===mn)return pe(De);const Nn=Oi(mn);return function Vi(ce){ce.sort((Te,Xe)=>Te.value.outlet===Tt?-1:Xe.value.outlet===Tt?1:Te.value.outlet.localeCompare(Xe.value.outlet))}(Nn),(0,M.of)(Nn)}))}processSegment(Te,Xe,De,ft,mn,Nn){return(0,S.H)(Xe).pipe((0,we.H)(Kr=>this.processSegmentAgainstRoute(Kr._injector??Te,Xe,Kr,De,ft,mn,Nn).pipe((0,ue.W)($i=>{if($i instanceof zi)return(0,M.of)(null);throw $i}))),(0,he.$)(Kr=>!!Kr),(0,ue.W)(Kr=>{if(Kn(Kr))return function pr(ce,Te,Xe){return 0===Te.length&&!ce.children[Xe]}(De,ft,mn)?(0,M.of)(new Sn):pe(De);throw Kr}))}processSegmentAgainstRoute(Te,Xe,De,ft,mn,Nn,Kr){return function Un(ce,Te,Xe,De){return!!(cn(ce)===De||De!==Tt&&Ni(Te,Xe,ce))&&ar(Te,ce,Xe).matched}(De,ft,mn,Nn)?void 0===De.redirectTo?this.matchSegmentAgainstRoute(Te,ft,De,mn,Nn):this.allowRedirects&&Kr?this.expandSegmentAgainstRouteUsingRedirect(Te,ft,Xe,De,mn,Nn):pe(ft):pe(ft)}expandSegmentAgainstRouteUsingRedirect(Te,Xe,De,ft,mn,Nn){const{matched:Kr,consumedSegments:$i,positionalParamSegments:_i,remainingSegments:zo}=ar(Xe,ft,mn);if(!Kr)return pe(Xe);ft.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ws=this.applyRedirects.applyRedirectCommands($i,ft.redirectTo,_i);return this.applyRedirects.lineralizeSegments(ft,Ws).pipe((0,J.Z)(xs=>this.processSegment(Te,De,Xe,xs.concat(zo),Nn,!1)))}matchSegmentAgainstRoute(Te,Xe,De,ft,mn){const Nn=Rn(Xe,De,ft,Te);return"**"===De.path&&(Xe.children={}),Nn.pipe((0,ne.n)(Kr=>Kr.matched?this.getChildConfig(Te=De._injector??Te,De,ft).pipe((0,ne.n)(({routes:$i})=>{const _i=De._loadedInjector??Te,{consumedSegments:zo,remainingSegments:Ws,parameters:xs}=Kr,ia=new sr(zo,xs,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Ti(ce){return ce.data||{}}(De),cn(De),De.component??De._loadedComponent??null,De,function $s(ce){return ce.resolve||{}}(De)),{segmentGroup:ea,slicedSegments:ma}=Rr(Xe,zo,Ws,$i);if(0===ma.length&&ea.hasChildren())return this.processChildren(_i,$i,ea).pipe((0,Z.T)(Ka=>null===Ka?null:new ms(ia,Ka)));if(0===$i.length&&0===ma.length)return(0,M.of)(new ms(ia,[]));const dc=cn(De)===mn;return this.processSegment(_i,$i,ea,ma,dc?Tt:mn,!0).pipe((0,Z.T)(Ka=>new ms(ia,Ka instanceof ms?[Ka]:[])))})):pe(Xe)))}getChildConfig(Te,Xe,De){return Xe.children?(0,M.of)({routes:Xe.children,injector:Te}):Xe.loadChildren?void 0!==Xe._loadedRoutes?(0,M.of)({routes:Xe._loadedRoutes,injector:Xe._loadedInjector}):function ri(ce,Te,Xe,De){const ft=Te.canLoad;if(void 0===ft||0===ft.length)return(0,M.of)(!0);const mn=ft.map(Nn=>{const Kr=qr(Nn,ce);return h(function an(ce){return ce&&nt(ce.canLoad)}(Kr)?Kr.canLoad(Te,Xe):(0,s.N4e)(ce,()=>Kr(Te,Xe)))});return(0,M.of)(mn).pipe($(),Br())}(Te,Xe,De).pipe((0,J.Z)(ft=>ft?this.configLoader.loadChildren(Te,Xe).pipe((0,k.M)(mn=>{Xe._loadedRoutes=mn.routes,Xe._loadedInjector=mn.injector})):function gt(ce){return(0,x.$)(oa(!1,Si.GuardRejected))}())):(0,M.of)({routes:[],injector:Te})}}function ki(ce){const Te=ce.value.routeConfig;return Te&&""===Te.path}function Oi(ce){const Te=[],Xe=new Set;for(const De of ce){if(!ki(De)){Te.push(De);continue}const ft=Te.find(mn=>De.value.routeConfig===mn.value.routeConfig);void 0!==ft?(ft.children.push(...De.children),Xe.add(ft)):Te.push(De)}for(const De of Xe){const ft=Oi(De.children);Te.push(new ms(De.value,ft))}return Te.filter(De=>!Xe.has(De))}function Cs(ce){const Te=ce.children.map(Xe=>Cs(Xe)).flat();return[ce,...Te]}function ot(ce){return(0,ne.n)(Te=>{const Xe=ce(Te);return Xe?(0,S.H)(Xe).pipe((0,Z.T)(()=>Te)):(0,M.of)(Te)})}let Ct=(()=>{var ce;class Te{buildTitle(De){let ft,mn=De.root;for(;void 0!==mn;)ft=this.getResolvedTitleForRoute(mn)??ft,mn=mn.children.find(Nn=>Nn.outlet===Tt);return ft}getResolvedTitleForRoute(De){return De.data[We]}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:()=>(0,s.WQX)(fn),providedIn:"root"}),Te})(),fn=(()=>{var ce;class Te extends Ct{constructor(De){super(),this.title=De}updateTitle(De){const ft=this.buildTitle(De);void 0!==ft&&this.title.setTitle(ft)}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(s.KVO(Ln.hE))},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})();const jn=new s.nKC("",{providedIn:"root",factory:()=>({})}),tr=new s.nKC("");let ti=(()=>{var ce;class Te{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.WQX)(s.Ql9)}loadComponent(De){if(this.componentLoaders.get(De))return this.componentLoaders.get(De);if(De._loadedComponent)return(0,M.of)(De._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(De);const ft=h(De.loadComponent()).pipe((0,Z.T)(lo),(0,k.M)(Nn=>{this.onLoadEndListener&&this.onLoadEndListener(De),De._loadedComponent=Nn}),(0,Se.j)(()=>{this.componentLoaders.delete(De)})),mn=new E.G(ft,()=>new L.B).pipe((0,Be.B)());return this.componentLoaders.set(De,mn),mn}loadChildren(De,ft){if(this.childrenLoaders.get(ft))return this.childrenLoaders.get(ft);if(ft._loadedRoutes)return(0,M.of)({routes:ft._loadedRoutes,injector:ft._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(ft);const Nn=function Pi(ce,Te,Xe,De){return h(ce.loadChildren()).pipe((0,Z.T)(lo),(0,J.Z)(ft=>ft instanceof s.Co$||Array.isArray(ft)?(0,M.of)(ft):(0,S.H)(Te.compileModuleAsync(ft))),(0,Z.T)(ft=>{De&&De(ce);let mn,Nn,Kr=!1;return Array.isArray(ft)?(Nn=ft,!0):(mn=ft.create(Xe).injector,Nn=mn.get(tr,[],{optional:!0,self:!0}).flat()),{routes:Nn.map(jt),injector:mn}}))}(ft,this.compiler,De,this.onLoadEndListener).pipe((0,Se.j)(()=>{this.childrenLoaders.delete(ft)})),Kr=new E.G(Nn,()=>new L.B).pipe((0,Be.B)());return this.childrenLoaders.set(ft,Kr),Kr}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})();function lo(ce){return function eo(ce){return ce&&"object"==typeof ce&&"default"in ce}(ce)?ce.default:ce}let Oo=(()=>{var ce;class Te{}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:()=>(0,s.WQX)(ss),providedIn:"root"}),Te})(),ss=(()=>{var ce;class Te{shouldProcessUrl(De){return!0}extract(De){return De}merge(De,ft){return De}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})();const sa=new s.nKC(""),Ca=new s.nKC("");function _e(ce,Te,Xe){const De=ce.get(Ca),ft=ce.get(U.qQ);return ce.get(s.SKi).runOutsideAngular(()=>{if(!ft.startViewTransition||De.skipNextTransition)return De.skipNextTransition=!1,new Promise(_i=>setTimeout(_i));let mn;const Nn=new Promise(_i=>{mn=_i}),Kr=ft.startViewTransition(()=>(mn(),function dt(ce){return new Promise(Te=>{(0,s.mal)(Te,{injector:ce})})}(ce))),{onViewTransitionCreated:$i}=De;return $i&&(0,s.N4e)(ce,()=>$i({transition:Kr,from:Te,to:Xe})),Nn})}let On=(()=>{var ce;class Te{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new L.B,this.transitionAbortSubject=new L.B,this.configLoader=(0,s.WQX)(ti),this.environmentInjector=(0,s.WQX)(s.uvJ),this.urlSerializer=(0,s.WQX)(st),this.rootContexts=(0,s.WQX)(Do),this.location=(0,s.WQX)(U.aZ),this.inputBindingEnabled=null!==(0,s.WQX)(ls,{optional:!0}),this.titleStrategy=(0,s.WQX)(Ct),this.options=(0,s.WQX)(jn,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,s.WQX)(Oo),this.createViewTransition=(0,s.WQX)(sa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,M.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=mn=>this.events.next(new un(mn)),this.configLoader.onLoadStartListener=mn=>this.events.next(new $n(mn))}complete(){this.transitions?.complete()}handleNavigationRequest(De){const ft=++this.navigationId;this.transitions?.next({...this.transitions.value,...De,id:ft})}setupNavigations(De,ft,mn){return this.transitions=new C.t({id:0,currentUrlTree:ft,currentRawUrl:ft,extractedUrl:this.urlHandlingStrategy.extract(ft),urlAfterRedirects:this.urlHandlingStrategy.extract(ft),rawUrl:ft,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:et,restoredState:null,currentSnapshot:mn.snapshot,targetSnapshot:null,currentRouterState:mn,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,z.p)(Nn=>0!==Nn.id),(0,Z.T)(Nn=>({...Nn,extractedUrl:this.urlHandlingStrategy.extract(Nn.rawUrl)})),(0,ne.n)(Nn=>{let Kr=!1,$i=!1;return(0,M.of)(Nn).pipe((0,ne.n)(_i=>{if(this.navigationId>Nn.id)return this.cancelNavigationTransition(Nn,"",Si.SupersededByNewNavigation),m.w;this.currentTransition=Nn,this.currentNavigation={id:_i.id,initialUrl:_i.rawUrl,extractedUrl:_i.extractedUrl,trigger:_i.source,extras:_i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const zo=!De.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!zo&&"reload"!==(_i.extras.onSameUrlNavigation??De.onSameUrlNavigation)){const xs="";return this.events.next(new Ci(_i.id,this.urlSerializer.serialize(_i.rawUrl),xs,Ri.IgnoredSameUrlNavigation)),_i.resolve(null),m.w}if(this.urlHandlingStrategy.shouldProcessUrl(_i.rawUrl))return(0,M.of)(_i).pipe((0,ne.n)(xs=>{const ia=this.transitions?.getValue();return this.events.next(new Tr(xs.id,this.urlSerializer.serialize(xs.extractedUrl),xs.source,xs.restoredState)),ia!==this.transitions?.getValue()?m.w:Promise.resolve(xs)}),function ws(ce,Te,Xe,De,ft,mn){return(0,J.Z)(Nn=>function er(ce,Te,Xe,De,ft,mn,Nn="emptyOnly"){return new si(ce,Te,Xe,De,ft,Nn,mn).recognize()}(ce,Te,Xe,De,Nn.extractedUrl,ft,mn).pipe((0,Z.T)(({state:Kr,tree:$i})=>({...Nn,targetSnapshot:Kr,urlAfterRedirects:$i}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,De.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,k.M)(xs=>{Nn.targetSnapshot=xs.targetSnapshot,Nn.urlAfterRedirects=xs.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xs.urlAfterRedirects};const ia=new Yi(xs.id,this.urlSerializer.serialize(xs.extractedUrl),this.urlSerializer.serialize(xs.urlAfterRedirects),xs.targetSnapshot);this.events.next(ia)}));if(zo&&this.urlHandlingStrategy.shouldProcessUrl(_i.currentRawUrl)){const{id:xs,extractedUrl:ia,source:ea,restoredState:ma,extras:dc}=_i,Ka=new Tr(xs,this.urlSerializer.serialize(ia),ea,ma);this.events.next(Ka);const dl=os(this.rootComponentType).snapshot;return this.currentTransition=Nn={..._i,targetSnapshot:dl,urlAfterRedirects:ia,extras:{...dc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ia,(0,M.of)(Nn)}{const xs="";return this.events.next(new Ci(_i.id,this.urlSerializer.serialize(_i.extractedUrl),xs,Ri.IgnoredByUrlHandlingStrategy)),_i.resolve(null),m.w}}),(0,k.M)(_i=>{const zo=new so(_i.id,this.urlSerializer.serialize(_i.extractedUrl),this.urlSerializer.serialize(_i.urlAfterRedirects),_i.targetSnapshot);this.events.next(zo)}),(0,Z.T)(_i=>(this.currentTransition=Nn={..._i,guards:jr(_i.targetSnapshot,_i.currentSnapshot,this.rootContexts)},Nn)),function ge(ce,Te){return(0,J.Z)(Xe=>{const{targetSnapshot:De,currentSnapshot:ft,guards:{canActivateChecks:mn,canDeactivateChecks:Nn}}=Xe;return 0===Nn.length&&0===mn.length?(0,M.of)({...Xe,guardsResult:!0}):function He(ce,Te,Xe,De){return(0,S.H)(ce).pipe((0,J.Z)(ft=>function ni(ce,Te,Xe,De,ft){const mn=Te&&Te.routeConfig?Te.routeConfig.canDeactivate:null;if(!mn||0===mn.length)return(0,M.of)(!0);const Nn=mn.map(Kr=>{const $i=It(Te)??ft,_i=qr(Kr,$i);return h(function Et(ce){return ce&&nt(ce.canDeactivate)}(_i)?_i.canDeactivate(ce,Te,Xe,De):(0,s.N4e)($i,()=>_i(ce,Te,Xe,De))).pipe((0,he.$)())});return(0,M.of)(Nn).pipe($())}(ft.component,ft.route,Xe,Te,De)),(0,he.$)(ft=>!0!==ft,!0))}(Nn,De,ft,ce).pipe((0,J.Z)(Kr=>Kr&&function $e(ce){return"boolean"==typeof ce}(Kr)?function Vt(ce,Te,Xe,De){return(0,S.H)(Te).pipe((0,we.H)(ft=>(0,P.x)(function Wn(ce,Te){return null!==ce&&Te&&Te(new Ge(ce)),(0,M.of)(!0)}(ft.route.parent,De),function wn(ce,Te){return null!==ce&&Te&&Te(new rn(ce)),(0,M.of)(!0)}(ft.route,De),function Ur(ce,Te,Xe){const De=Te[Te.length-1],mn=Te.slice(0,Te.length-1).reverse().map(Nn=>function oi(ce){const Te=ce.routeConfig?ce.routeConfig.canActivateChild:null;return Te&&0!==Te.length?{node:ce,guards:Te}:null}(Nn)).filter(Nn=>null!==Nn).map(Nn=>(0,G.v)(()=>{const Kr=Nn.guards.map($i=>{const _i=It(Nn.node)??Xe,zo=qr($i,_i);return h(function de(ce){return ce&&nt(ce.canActivateChild)}(zo)?zo.canActivateChild(De,ce):(0,s.N4e)(_i,()=>zo(De,ce))).pipe((0,he.$)())});return(0,M.of)(Kr).pipe($())}));return(0,M.of)(mn).pipe($())}(ce,ft.path,Xe),function fr(ce,Te,Xe){const De=Te.routeConfig?Te.routeConfig.canActivate:null;if(!De||0===De.length)return(0,M.of)(!0);const ft=De.map(mn=>(0,G.v)(()=>{const Nn=It(Te)??Xe,Kr=qr(mn,Nn);return h(function at(ce){return ce&&nt(ce.canActivate)}(Kr)?Kr.canActivate(Te,ce):(0,s.N4e)(Nn,()=>Kr(Te,ce))).pipe((0,he.$)())}));return(0,M.of)(ft).pipe($())}(ce,ft.route,Xe))),(0,he.$)(ft=>!0!==ft,!0))}(De,mn,ce,Te):(0,M.of)(Kr)),(0,Z.T)(Kr=>({...Xe,guardsResult:Kr})))})}(this.environmentInjector,_i=>this.events.next(_i)),(0,k.M)(_i=>{if(Nn.guardsResult=_i.guardsResult,Yn(_i.guardsResult))throw pa(0,_i.guardsResult);const zo=new Co(_i.id,this.urlSerializer.serialize(_i.extractedUrl),this.urlSerializer.serialize(_i.urlAfterRedirects),_i.targetSnapshot,!!_i.guardsResult);this.events.next(zo)}),(0,z.p)(_i=>!!_i.guardsResult||(this.cancelNavigationTransition(_i,"",Si.GuardRejected),!1)),ot(_i=>{if(_i.guards.canActivateChecks.length)return(0,M.of)(_i).pipe((0,k.M)(zo=>{const Ws=new qi(zo.id,this.urlSerializer.serialize(zo.extractedUrl),this.urlSerializer.serialize(zo.urlAfterRedirects),zo.targetSnapshot);this.events.next(Ws)}),(0,ne.n)(zo=>{let Ws=!1;return(0,M.of)(zo).pipe(function Jo(ce,Te){return(0,J.Z)(Xe=>{const{targetSnapshot:De,guards:{canActivateChecks:ft}}=Xe;if(!ft.length)return(0,M.of)(Xe);const mn=new Set(ft.map($i=>$i.route)),Nn=new Set;for(const $i of mn)if(!Nn.has($i))for(const _i of Cs($i))Nn.add(_i);let Kr=0;return(0,S.H)(Nn).pipe((0,we.H)($i=>mn.has($i)?function rs(ce,Te,Xe,De){const ft=ce.routeConfig,mn=ce._resolve;return void 0!==ft?.title&&!ho(ft)&&(mn[We]=ft.title),function Gt(ce,Te,Xe,De){const ft=T(ce);if(0===ft.length)return(0,M.of)({});const mn={};return(0,S.H)(ft).pipe((0,J.Z)(Nn=>function Ae(ce,Te,Xe,De){const ft=It(Te)??De,mn=qr(ce,ft);return h(mn.resolve?mn.resolve(Te,Xe):(0,s.N4e)(ft,()=>mn(Te,Xe)))}(ce[Nn],Te,Xe,De).pipe((0,he.$)(),(0,k.M)(Kr=>{mn[Nn]=Kr}))),Kt(1),(0,ye.u)(mn),(0,ue.W)(Nn=>Kn(Nn)?m.w:(0,x.$)(Nn)))}(mn,ce,Te,De).pipe((0,Z.T)(Nn=>(ce._resolvedData=Nn,ce.data=rr(ce,ce.parent,Xe).resolve,null)))}($i,De,ce,Te):($i.data=rr($i,$i.parent,ce).resolve,(0,M.of)(void 0))),(0,k.M)(()=>Kr++),Kt(1),(0,J.Z)($i=>Kr===Nn.size?(0,M.of)(Xe):m.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,k.M)({next:()=>Ws=!0,complete:()=>{Ws||this.cancelNavigationTransition(zo,"",Si.NoDataFromResolver)}}))}),(0,k.M)(zo=>{const Ws=new jo(zo.id,this.urlSerializer.serialize(zo.extractedUrl),this.urlSerializer.serialize(zo.urlAfterRedirects),zo.targetSnapshot);this.events.next(Ws)}))}),ot(_i=>{const zo=Ws=>{const xs=[];Ws.routeConfig?.loadComponent&&!Ws.routeConfig._loadedComponent&&xs.push(this.configLoader.loadComponent(Ws.routeConfig).pipe((0,k.M)(ia=>{Ws.component=ia}),(0,Z.T)(()=>{})));for(const ia of Ws.children)xs.push(...zo(ia));return xs};return(0,d.z)(zo(_i.targetSnapshot.root)).pipe((0,Ce.U)(null),(0,q.s)(1))}),ot(()=>this.afterPreactivation()),(0,ne.n)(()=>{const{currentSnapshot:_i,targetSnapshot:zo}=Nn,Ws=this.createViewTransition?.(this.environmentInjector,_i.root,zo.root);return Ws?(0,S.H)(Ws).pipe((0,Z.T)(()=>Nn)):(0,M.of)(Nn)}),(0,Z.T)(_i=>{const zo=function ys(ce,Te,Xe){const De=Os(ce,Te._root,Xe?Xe._root:void 0);return new Qo(De,Te)}(De.routeReuseStrategy,_i.targetSnapshot,_i.currentRouterState);return this.currentTransition=Nn={..._i,targetRouterState:zo},this.currentNavigation.targetRouterState=zo,Nn}),(0,k.M)(()=>{this.events.next(new Qr)}),((ce,Te,Xe,De)=>(0,Z.T)(ft=>(new hr(Te,ft.targetRouterState,ft.currentRouterState,Xe,De).activate(ce),ft)))(this.rootContexts,De.routeReuseStrategy,_i=>this.events.next(_i),this.inputBindingEnabled),(0,q.s)(1),(0,k.M)({next:_i=>{Kr=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ei(_i.id,this.urlSerializer.serialize(_i.extractedUrl),this.urlSerializer.serialize(_i.urlAfterRedirects))),this.titleStrategy?.updateTitle(_i.targetRouterState.snapshot),_i.resolve(!0)},complete:()=>{Kr=!0}}),(0,yt.Q)(this.transitionAbortSubject.pipe((0,k.M)(_i=>{throw _i}))),(0,Se.j)(()=>{!Kr&&!$i&&this.cancelNavigationTransition(Nn,"",Si.SupersededByNewNavigation),this.currentTransition?.id===Nn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,ue.W)(_i=>{if($i=!0,zs(_i))this.events.next(new io(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),_i.message,_i.cancellationCode)),function Ds(ce){return zs(ce)&&Yn(ce.url)}(_i)?this.events.next(new Qi(_i.url)):Nn.resolve(!1);else{this.events.next(new yi(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),_i,Nn.targetSnapshot??void 0));try{Nn.resolve(De.errorHandler(_i))}catch(zo){this.options.resolveNavigationPromiseOnError?Nn.resolve(!1):Nn.reject(zo)}}return m.w}))}))}cancelNavigationTransition(De,ft,mn){const Nn=new io(De.id,this.urlSerializer.serialize(De.extractedUrl),ft,mn);this.events.next(Nn),De.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})();function Ke(ce){return ce!==et}let En=(()=>{var ce;class Te{}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:()=>(0,s.WQX)(li),providedIn:"root"}),Te})();class dr{shouldDetach(Te){return!1}store(Te,Xe){}shouldAttach(Te){return!1}retrieve(Te){return null}shouldReuseRoute(Te,Xe){return Te.routeConfig===Xe.routeConfig}}let li=(()=>{var ce;class Te extends dr{}return(ce=Te).\u0275fac=(()=>{let Xe;return function(ft){return(Xe||(Xe=s.xGo(ce)))(ft||ce)}})(),ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})(),Ji=(()=>{var ce;class Te{}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:()=>(0,s.WQX)(gs),providedIn:"root"}),Te})(),gs=(()=>{var ce;class Te extends Ji{constructor(){super(...arguments),this.location=(0,s.WQX)(U.aZ),this.urlSerializer=(0,s.WQX)(st),this.options=(0,s.WQX)(jn,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,s.WQX)(Oo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new en,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=os(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(De){return this.location.subscribe(ft=>{"popstate"===ft.type&&De(ft.url,ft.state)})}handleRouterEvent(De,ft){if(De instanceof Tr)this.stateMemento=this.createStateMemento();else if(De instanceof Ci)this.rawUrlTree=ft.initialUrl;else if(De instanceof Yi){if("eager"===this.urlUpdateStrategy&&!ft.extras.skipLocationChange){const mn=this.urlHandlingStrategy.merge(ft.finalUrl,ft.initialUrl);this.setBrowserUrl(mn,ft)}}else De instanceof Qr?(this.currentUrlTree=ft.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(ft.finalUrl,ft.initialUrl),this.routerState=ft.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ft.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ft))):De instanceof io&&(De.code===Si.GuardRejected||De.code===Si.NoDataFromResolver)?this.restoreHistory(ft):De instanceof yi?this.restoreHistory(ft,!0):De instanceof ei&&(this.lastSuccessfulId=De.id,this.currentPageId=this.browserPageId)}setBrowserUrl(De,ft){const mn=this.urlSerializer.serialize(De);if(this.location.isCurrentPathEqualTo(mn)||ft.extras.replaceUrl){const Kr={...ft.extras.state,...this.generateNgRouterState(ft.id,this.browserPageId)};this.location.replaceState(mn,"",Kr)}else{const Nn={...ft.extras.state,...this.generateNgRouterState(ft.id,this.browserPageId+1)};this.location.go(mn,"",Nn)}}restoreHistory(De,ft=!1){if("computed"===this.canceledNavigationResolution){const Nn=this.currentPageId-this.browserPageId;0!==Nn?this.location.historyGo(Nn):this.currentUrlTree===De.finalUrl&&0===Nn&&(this.resetState(De),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(ft&&this.resetState(De),this.resetUrlToCurrentUrlTree())}resetState(De){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,De.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(De,ft){return"computed"===this.canceledNavigationResolution?{navigationId:De,\u0275routerPageId:ft}:{navigationId:De}}}return(ce=Te).\u0275fac=(()=>{let Xe;return function(ft){return(Xe||(Xe=s.xGo(ce)))(ft||ce)}})(),ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})();var us=function(ce){return ce[ce.COMPLETE=0]="COMPLETE",ce[ce.FAILED=1]="FAILED",ce[ce.REDIRECTING=2]="REDIRECTING",ce}(us||{});function ds(ce,Te){ce.events.pipe((0,z.p)(Xe=>Xe instanceof ei||Xe instanceof io||Xe instanceof yi||Xe instanceof Ci),(0,Z.T)(Xe=>Xe instanceof ei||Xe instanceof Ci?us.COMPLETE:Xe instanceof io&&(Xe.code===Si.Redirect||Xe.code===Si.SupersededByNewNavigation)?us.REDIRECTING:us.FAILED),(0,z.p)(Xe=>Xe!==us.REDIRECTING),(0,q.s)(1)).subscribe(()=>{Te()})}function fs(ce){throw ce}const na={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lo=(()=>{var ce;class Te{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,s.WQX)(s.H3F),this.stateManager=(0,s.WQX)(Ji),this.options=(0,s.WQX)(jn,{optional:!0})||{},this.pendingTasks=(0,s.WQX)(s.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,s.WQX)(On),this.urlSerializer=(0,s.WQX)(st),this.location=(0,s.WQX)(U.aZ),this.urlHandlingStrategy=(0,s.WQX)(Oo),this._events=new L.B,this.errorHandler=this.options.errorHandler||fs,this.navigated=!1,this.routeReuseStrategy=(0,s.WQX)(En),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,s.WQX)(tr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,s.WQX)(ls,{optional:!0}),this.eventsSubscription=new ae.yU,this.isNgZoneEnabled=(0,s.WQX)(s.SKi)instanceof s.SKi&&s.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:De=>{this.console.warn(De)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const De=this.navigationTransitions.events.subscribe(ft=>{try{const mn=this.navigationTransitions.currentTransition,Nn=this.navigationTransitions.currentNavigation;if(null!==mn&&null!==Nn)if(this.stateManager.handleRouterEvent(ft,Nn),ft instanceof io&&ft.code!==Si.Redirect&&ft.code!==Si.SupersededByNewNavigation)this.navigated=!0;else if(ft instanceof ei)this.navigated=!0;else if(ft instanceof Qi){const Kr=this.urlHandlingStrategy.merge(ft.url,mn.currentRawUrl),$i={info:mn.extras.info,skipLocationChange:mn.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ke(mn.source)};this.scheduleNavigation(Kr,et,null,$i,{resolve:mn.resolve,reject:mn.reject,promise:mn.promise})}(function Ki(ce){return!(ce instanceof Qr||ce instanceof Qi)})(ft)&&this._events.next(ft)}catch(mn){this.navigationTransitions.transitionAbortSubject.next(mn)}});this.eventsSubscription.add(De)}resetRootComponentType(De){this.routerState.root.component=De,this.navigationTransitions.rootComponentType=De}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),et,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((De,ft)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(De,"popstate",ft)},0)})}navigateToSyncWithBrowser(De,ft,mn){const Nn={replaceUrl:!0},Kr=mn?.navigationId?mn:null;if(mn){const _i={...mn};delete _i.navigationId,delete _i.\u0275routerPageId,0!==Object.keys(_i).length&&(Nn.state=_i)}const $i=this.parseUrl(De);this.scheduleNavigation($i,ft,Kr,Nn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(De){this.config=De.map(jt),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(De,ft={}){const{relativeTo:mn,queryParams:Nn,fragment:Kr,queryParamsHandling:$i,preserveFragment:_i}=ft,zo=_i?this.currentUrlTree.fragment:Kr;let xs,Ws=null;switch($i){case"merge":Ws={...this.currentUrlTree.queryParams,...Nn};break;case"preserve":Ws=this.currentUrlTree.queryParams;break;default:Ws=Nn||null}null!==Ws&&(Ws=this.removeEmptyProps(Ws));try{xs=vr(mn?mn.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof De[0]||!De[0].startsWith("/"))&&(De=[]),xs=this.currentUrlTree.root}return vi(xs,De,Ws,zo??null)}navigateByUrl(De,ft={skipLocationChange:!1}){const mn=Yn(De)?De:this.parseUrl(De),Nn=this.urlHandlingStrategy.merge(mn,this.rawUrlTree);return this.scheduleNavigation(Nn,et,null,ft)}navigate(De,ft={skipLocationChange:!1}){return function Ho(ce){for(let Te=0;Te<ce.length;Te++)if(null==ce[Te])throw new s.wOt(4008,!1)}(De),this.navigateByUrl(this.createUrlTree(De,ft),ft)}serializeUrl(De){return this.urlSerializer.serialize(De)}parseUrl(De){try{return this.urlSerializer.parse(De)}catch{return this.urlSerializer.parse("/")}}isActive(De,ft){let mn;if(mn=!0===ft?{...na}:!1===ft?{...bs}:ft,Yn(De))return ie(this.currentUrlTree,De,mn);const Nn=this.parseUrl(De);return ie(this.currentUrlTree,Nn,mn)}removeEmptyProps(De){return Object.entries(De).reduce((ft,[mn,Nn])=>(null!=Nn&&(ft[mn]=Nn),ft),{})}scheduleNavigation(De,ft,mn,Nn,Kr){if(this.disposed)return Promise.resolve(!1);let $i,_i,zo;Kr?($i=Kr.resolve,_i=Kr.reject,zo=Kr.promise):zo=new Promise((xs,ia)=>{$i=xs,_i=ia});const Ws=this.pendingTasks.add();return ds(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ws))}),this.navigationTransitions.handleNavigationRequest({source:ft,restoredState:mn,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:De,extras:Nn,resolve:$i,reject:_i,promise:zo,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zo.catch(xs=>Promise.reject(xs))}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})(),bo=(()=>{var ce;class Te{constructor(De,ft,mn,Nn,Kr,$i){this.router=De,this.route=ft,this.tabIndexAttribute=mn,this.renderer=Nn,this.el=Kr,this.locationStrategy=$i,this.href=null,this.commands=null,this.onChanges=new L.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _i=Kr.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_i||"area"===_i,this.isAnchorElement?this.subscription=De.events.subscribe(zo=>{zo instanceof ei&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(De){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",De)}ngOnChanges(De){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(De){null!=De?(this.commands=Array.isArray(De)?De:[De],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(De,ft,mn,Nn,Kr){const $i=this.urlTree;return!!(null===$i||this.isAnchorElement&&(0!==De||ft||mn||Nn||Kr||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl($i,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const De=this.urlTree;this.href=null!==De&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(De)):null;const ft=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ft)}applyAttributeValue(De,ft){const mn=this.renderer,Nn=this.el.nativeElement;null!==ft?mn.setAttribute(Nn,De,ft):mn.removeAttribute(Nn,De)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(s.rXU(Lo),s.rXU(Rs),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(U.hb))},ce.\u0275dir=s.FsC({type:ce,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(De,ft){1&De&&s.bIt("click",function(Nn){return ft.onClick(Nn.button,Nn.ctrlKey,Nn.shiftKey,Nn.altKey,Nn.metaKey)}),2&De&&s.BMQ("target",ft.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[s.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",s.L39],skipLocationChange:[s.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",s.L39],replaceUrl:[s.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},standalone:!0,features:[s.GFd,s.OA$]}),Te})(),Ps=(()=>{var ce;class Te{get isActive(){return this._isActive}constructor(De,ft,mn,Nn,Kr){this.router=De,this.element=ft,this.renderer=mn,this.cdr=Nn,this.link=Kr,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.bkB,this.routerEventsSubscription=De.events.subscribe($i=>{$i instanceof ei&&this.update()})}ngAfterContentInit(){(0,M.of)(this.links.changes,(0,M.of)(null)).pipe((0,qt.U)()).subscribe(De=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const De=[...this.links.toArray(),this.link].filter(ft=>!!ft).map(ft=>ft.onChanges);this.linkInputChangesSubscription=(0,S.H)(De).pipe((0,qt.U)()).subscribe(ft=>{this._isActive!==this.isLinkActive(this.router)(ft)&&this.update()})}set routerLinkActive(De){const ft=Array.isArray(De)?De:De.split(" ");this.classes=ft.filter(mn=>!!mn)}ngOnChanges(De){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const De=this.hasActiveLinks();this.classes.forEach(ft=>{De?this.renderer.addClass(this.element.nativeElement,ft):this.renderer.removeClass(this.element.nativeElement,ft)}),De&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==De&&(this._isActive=De,this.cdr.markForCheck(),this.isActiveChange.emit(De))})}isLinkActive(De){const ft=function va(ce){return!!ce.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return mn=>{const Nn=mn.urlTree;return!!Nn&&De.isActive(Nn,ft)}}hasActiveLinks(){const De=this.isLinkActive(this.router);return this.link&&De(this.link)||this.links.some(De)}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(s.rXU(Lo),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(bo,8))},ce.\u0275dir=s.FsC({type:ce,selectors:[["","routerLinkActive",""]],contentQueries:function(De,ft,mn){if(1&De&&s.wni(mn,bo,5),2&De){let Nn;s.mGM(Nn=s.lsd())&&(ft.links=Nn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.OA$]}),Te})();class Qs{}let ks=(()=>{var ce;class Te{constructor(De,ft,mn,Nn,Kr){this.router=De,this.injector=mn,this.preloadingStrategy=Nn,this.loader=Kr}setUpPreloading(){this.subscription=this.router.events.pipe((0,z.p)(De=>De instanceof ei),(0,we.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(De,ft){const mn=[];for(const Nn of ft){Nn.providers&&!Nn._injector&&(Nn._injector=(0,s.Ol2)(Nn.providers,De,`Route: ${Nn.path}`));const Kr=Nn._injector??De,$i=Nn._loadedInjector??Kr;(Nn.loadChildren&&!Nn._loadedRoutes&&void 0===Nn.canLoad||Nn.loadComponent&&!Nn._loadedComponent)&&mn.push(this.preloadConfig(Kr,Nn)),(Nn.children||Nn._loadedRoutes)&&mn.push(this.processRoutes($i,Nn.children??Nn._loadedRoutes))}return(0,S.H)(mn).pipe((0,qt.U)())}preloadConfig(De,ft){return this.preloadingStrategy.preload(ft,()=>{let mn;mn=ft.loadChildren&&void 0===ft.canLoad?this.loader.loadChildren(De,ft):(0,M.of)(null);const Nn=mn.pipe((0,J.Z)(Kr=>null===Kr?(0,M.of)(void 0):(ft._loadedRoutes=Kr.routes,ft._loadedInjector=Kr.injector,this.processRoutes(Kr.injector??De,Kr.routes))));if(ft.loadComponent&&!ft._loadedComponent){const Kr=this.loader.loadComponent(ft);return(0,S.H)([Nn,Kr]).pipe((0,qt.U)())}return Nn})}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(s.KVO(Lo),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO(Qs),s.KVO(ti))},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})();const ha=new s.nKC("");let xa=(()=>{var ce;class Te{constructor(De,ft,mn,Nn,Kr={}){this.urlSerializer=De,this.transitions=ft,this.viewportScroller=mn,this.zone=Nn,this.options=Kr,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,s.WQX)(s.uvJ),Kr.scrollPositionRestoration||="disabled",Kr.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(De=>{De instanceof Tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=De.navigationTrigger,this.restoredId=De.restoredState?De.restoredState.navigationId:0):De instanceof ei?(this.lastId=De.id,this.scheduleScrollEvent(De,this.urlSerializer.parse(De.urlAfterRedirects).fragment)):De instanceof Ci&&De.code===Ri.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(De,this.urlSerializer.parse(De.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(De=>{De instanceof Dr&&(De.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(De.position):De.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(De.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(De,ft){var mn=this;this.zone.runOutsideAngular((0,r.A)(function*(){yield new Promise(Nn=>{setTimeout(()=>{Nn()}),(0,s.mal)(()=>{Nn()},{injector:mn.environmentInjector})}),mn.zone.run(()=>{mn.transitions.events.next(new Dr(De,"popstate"===mn.lastSource?mn.store[mn.restoredId]:null,ft))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(ce=Te).\u0275fac=function(De){s.QTQ()},ce.\u0275prov=s.jDH({token:ce,factory:ce.\u0275fac}),Te})();function Al(ce,Te){return{\u0275kind:ce,\u0275providers:Te}}function Wa(){const ce=(0,s.WQX)(s.zZn);return Te=>{const Xe=ce.get(s.o8S);if(Te!==Xe.components[0])return;const De=ce.get(Lo),ft=ce.get(Ml);1===ce.get(uc)&&De.initialNavigation(),ce.get(No,null,s.$GK.Optional)?.setUpPreloading(),ce.get(ha,null,s.$GK.Optional)?.init(),De.resetRootComponentType(Xe.componentTypes[0]),ft.closed||(ft.next(),ft.complete(),ft.unsubscribe())}}const Ml=new s.nKC("",{factory:()=>new L.B}),uc=new s.nKC("",{providedIn:"root",factory:()=>1}),No=new s.nKC("");function Fs(ce){return Al(0,[{provide:No,useExisting:ks},{provide:Qs,useExisting:ce}])}function Da(ce){return Al(9,[{provide:sa,useValue:_e},{provide:Ca,useValue:{skipNextTransition:!!ce?.skipInitialTransition,...ce}}])}const Ba=new s.nKC("ROUTER_FORROOT_GUARD"),Oa=[U.aZ,{provide:st,useClass:mt},Lo,Do,{provide:Rs,useFactory:function tl(ce){return ce.routerState.root},deps:[Lo]},ti,[]];let Dl=(()=>{var ce;class Te{constructor(De){}static forRoot(De,ft){return{ngModule:Te,providers:[Oa,[],{provide:tr,multi:!0,useValue:De},{provide:Ba,useFactory:Kc,deps:[[Lo,new s.Xx1,new s.kdw]]},{provide:jn,useValue:ft||{}},ft?.useHash?{provide:U.hb,useClass:U.fw}:{provide:U.hb,useClass:U.Sm},{provide:ha,useFactory:()=>{const ce=(0,s.WQX)(U.Xr),Te=(0,s.WQX)(s.SKi),Xe=(0,s.WQX)(jn),De=(0,s.WQX)(On),ft=(0,s.WQX)(st);return Xe.scrollOffset&&ce.setOffset(Xe.scrollOffset),new xa(ft,De,ce,Te,Xe)}},ft?.preloadingStrategy?Fs(ft.preloadingStrategy).\u0275providers:[],ft?.initialNavigation?_l(ft):[],ft?.bindToComponentInputs?Al(8,[Ls,{provide:ls,useExisting:Ls}]).\u0275providers:[],ft?.enableViewTransitions?Da().\u0275providers:[],[{provide:Xc,useFactory:Wa},{provide:s.iLQ,multi:!0,useExisting:Xc}]]}}static forChild(De){return{ngModule:Te,providers:[{provide:tr,multi:!0,useValue:De}]}}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(s.KVO(Ba,8))},ce.\u0275mod=s.$C({type:ce}),ce.\u0275inj=s.G2t({}),Te})();function Kc(ce){return"guarded"}function _l(ce){return["disabled"===ce.initialNavigation?Al(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const Te=(0,s.WQX)(Lo);return()=>{Te.setUpLocationChangeListener()}}},{provide:uc,useValue:2}]).\u0275providers:[],"enabledBlocking"===ce.initialNavigation?Al(2,[{provide:uc,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:Te=>{const Xe=Te.get(U.hj,Promise.resolve());return()=>Xe.then(()=>new Promise(De=>{const ft=Te.get(Lo),mn=Te.get(Ml);ds(ft,()=>{De(!0)}),Te.get(On).afterPreactivation=()=>(De(!0),mn.closed?(0,M.of)(void 0):mn),ft.initialNavigation()}))}}]).\u0275providers:[]]}const Xc=new s.nKC("")},9989:(ln,qe,w)=>{"use strict";w.d(qe,{Ay:()=>Wn});const r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,s=Object.keys,v=Array.isArray;function S(pe,oe){return"object"!=typeof oe||s(oe).forEach(function(Ue){pe[Ue]=oe[Ue]}),pe}typeof Promise>"u"||r.Promise||(r.Promise=Promise);const M=Object.getPrototypeOf,C={}.hasOwnProperty;function d(pe,oe){return C.call(pe,oe)}function F(pe,oe){"function"==typeof oe&&(oe=oe(M(pe))),(typeof Reflect>"u"?s:Reflect.ownKeys)(oe).forEach(Ue=>{G(pe,Ue,oe[Ue])})}const P=Object.defineProperty;function G(pe,oe,Ue,gt){P(pe,oe,S(Ue&&d(Ue,"get")&&"function"==typeof Ue.get?{get:Ue.get,set:Ue.set,configurable:!0}:{value:Ue,configurable:!0,writable:!0},gt))}function N(pe){return{from:function(oe){return pe.prototype=Object.create(oe.prototype),G(pe.prototype,"constructor",pe),{extend:F.bind(null,pe.prototype)}}}}const x=Object.getOwnPropertyDescriptor;function m(pe,oe){let Ue;return x(pe,oe)||(Ue=M(pe))&&m(Ue,oe)}const E=[].slice;function L(pe,oe,Ue){return E.call(pe,oe,Ue)}function ae(pe,oe){return oe(pe)}function U(pe){if(!pe)throw new Error("Assertion Failed")}function Z(pe){r.setImmediate?setImmediate(pe):setTimeout(pe,0)}function ne(pe,oe){return pe.reduce((Ue,gt,Rt)=>{var dn=oe(gt,Rt);return dn&&(Ue[dn[0]]=dn[1]),Ue},{})}function q(pe,oe){if("string"==typeof oe&&d(pe,oe))return pe[oe];if(!oe)return pe;if("string"!=typeof oe){for(var Ue=[],gt=0,Rt=oe.length;gt<Rt;++gt){var dn=q(pe,oe[gt]);Ue.push(dn)}return Ue}var Rn=oe.indexOf(".");if(-1!==Rn){var ar=pe[oe.substr(0,Rn)];return null==ar?void 0:q(ar,oe.substr(Rn+1))}}function le(pe,oe,Ue){if(pe&&void 0!==oe&&(!("isFrozen"in Object)||!Object.isFrozen(pe)))if("string"!=typeof oe&&"length"in oe){U("string"!=typeof Ue&&"length"in Ue);for(var gt=0,Rt=oe.length;gt<Rt;++gt)le(pe,oe[gt],Ue[gt])}else{var dn=oe.indexOf(".");if(-1!==dn){var Rn=oe.substr(0,dn),ar=oe.substr(dn+1);if(""===ar)void 0===Ue?v(pe)&&!isNaN(parseInt(Rn))?pe.splice(Rn,1):delete pe[Rn]:pe[Rn]=Ue;else{var or=pe[Rn];or&&d(pe,Rn)||(or=pe[Rn]={}),le(or,ar,Ue)}}else void 0===Ue?v(pe)&&!isNaN(parseInt(oe))?pe.splice(oe,1):delete pe[oe]:pe[oe]=Ue}}function z(pe){var oe={};for(var Ue in pe)d(pe,Ue)&&(oe[Ue]=pe[Ue]);return oe}const J=[].concat;function he(pe){return J.apply([],pe)}const we="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map(pe=>["Int","Uint","Float"].map(oe=>oe+pe+"Array")))).filter(pe=>r[pe]),k=we.map(pe=>r[pe]);ne(we,pe=>[pe,!0]);let ue=null;function Ie(pe){ue=typeof WeakMap<"u"&&new WeakMap;const oe=ke(pe);return ue=null,oe}function ke(pe){if(!pe||"object"!=typeof pe)return pe;let oe=ue&&ue.get(pe);if(oe)return oe;if(v(pe)){oe=[],ue&&ue.set(pe,oe);for(var Ue=0,gt=pe.length;Ue<gt;++Ue)oe.push(ke(pe[Ue]))}else if(k.indexOf(pe.constructor)>=0)oe=pe;else{const dn=M(pe);for(var Rt in oe=dn===Object.prototype?{}:Object.create(dn),ue&&ue.set(pe,oe),pe)d(pe,Rt)&&(oe[Rt]=ke(pe[Rt]))}return oe}const{toString:Ze}={};function Ce(pe){return Ze.call(pe).slice(8,-1)}const Nt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Kt="symbol"==typeof Nt?function(pe){var oe;return null!=pe&&(oe=pe[Nt])&&oe.apply(pe)}:function(){return null},me={};function ee(pe){var oe,Ue,gt,Rt;if(1===arguments.length){if(v(pe))return pe.slice();if(this===me&&"string"==typeof pe)return[pe];if(Rt=Kt(pe)){for(Ue=[];!(gt=Rt.next()).done;)Ue.push(gt.value);return Ue}if(null==pe)return[pe];if("number"==typeof(oe=pe.length)){for(Ue=new Array(oe);oe--;)Ue[oe]=pe[oe];return Ue}return[pe]}for(oe=arguments.length,Ue=new Array(oe);oe--;)Ue[oe]=arguments[oe];return Ue}const fe=typeof Symbol<"u"?pe=>"AsyncFunction"===pe[Symbol.toStringTag]:()=>!1;var ye=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Se(pe,oe){ye=pe,Be=oe}var Be=()=>!0;const yt=!new Error("").stack;function qt(){if(yt)try{throw new Error}catch(pe){return pe}return new Error}function Ln(pe,oe){var Ue=pe.stack;return Ue?(oe=oe||0,0===Ue.indexOf(pe.name)&&(oe+=(pe.name+pe.message).split("\n").length),Ue.split("\n").slice(oe).filter(Be).map(gt=>"\n"+gt).join("")):""}var Tt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],We=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Tt),Ve={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function wt(pe,oe){this._e=qt(),this.name=pe,this.message=oe}function Y(pe,oe){return pe+". Errors: "+Object.keys(oe).map(Ue=>oe[Ue].toString()).filter((Ue,gt,Rt)=>Rt.indexOf(Ue)===gt).join("\n")}function b(pe,oe,Ue,gt){this._e=qt(),this.failures=oe,this.failedKeys=gt,this.successCount=Ue,this.message=Y(pe,oe)}function R(pe,oe){this._e=qt(),this.name="BulkError",this.failures=Object.keys(oe).map(Ue=>oe[Ue]),this.failuresByPos=oe,this.message=Y(pe,oe)}N(wt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ln(this._e,2))}},toString:function(){return this.name+": "+this.message}}),N(b).from(wt),N(R).from(wt);var T=We.reduce((pe,oe)=>(pe[oe]=oe+"Error",pe),{});const V=wt;var j=We.reduce((pe,oe)=>{var Ue=oe+"Error";function gt(Rt,dn){this._e=qt(),this.name=Ue,Rt?"string"==typeof Rt?(this.message=`${Rt}${dn?"\n "+dn:""}`,this.inner=dn||null):"object"==typeof Rt&&(this.message=`${Rt.name} ${Rt.message}`,this.inner=Rt):(this.message=Ve[oe]||Ue,this.inner=null)}return N(gt).from(V),pe[oe]=gt,pe},{});j.Syntax=SyntaxError,j.Type=TypeError,j.Range=RangeError;var h=Tt.reduce((pe,oe)=>(pe[oe+"Error"]=j[oe],pe),{}),I=We.reduce((pe,oe)=>(-1===["Syntax","Type","Range"].indexOf(oe)&&(pe[oe+"Error"]=j[oe]),pe),{});function xe(){}function ie(pe){return pe}function D(pe,oe){return null==pe||pe===ie?oe:function(Ue){return oe(pe(Ue))}}function K(pe,oe){return function(){pe.apply(this,arguments),oe.apply(this,arguments)}}function se(pe,oe){return pe===xe?oe:function(){var Ue=pe.apply(this,arguments);void 0!==Ue&&(arguments[0]=Ue);var gt=this.onsuccess,Rt=this.onerror;this.onsuccess=null,this.onerror=null;var dn=oe.apply(this,arguments);return gt&&(this.onsuccess=this.onsuccess?K(gt,this.onsuccess):gt),Rt&&(this.onerror=this.onerror?K(Rt,this.onerror):Rt),void 0!==dn?dn:Ue}}function Le(pe,oe){return pe===xe?oe:function(){pe.apply(this,arguments);var Ue=this.onsuccess,gt=this.onerror;this.onsuccess=this.onerror=null,oe.apply(this,arguments),Ue&&(this.onsuccess=this.onsuccess?K(Ue,this.onsuccess):Ue),gt&&(this.onerror=this.onerror?K(gt,this.onerror):gt)}}function ct(pe,oe){return pe===xe?oe:function(Ue){var gt=pe.apply(this,arguments);S(Ue,gt);var Rt=this.onsuccess,dn=this.onerror;this.onsuccess=null,this.onerror=null;var Rn=oe.apply(this,arguments);return Rt&&(this.onsuccess=this.onsuccess?K(Rt,this.onsuccess):Rt),dn&&(this.onerror=this.onerror?K(dn,this.onerror):dn),void 0===gt?void 0===Rn?void 0:Rn:S(gt,Rn)}}function ut(pe,oe){return pe===xe?oe:function(){return!1!==oe.apply(this,arguments)&&pe.apply(this,arguments)}}function en(pe,oe){return pe===xe?oe:function(){var Ue=pe.apply(this,arguments);if(Ue&&"function"==typeof Ue.then){for(var gt=this,Rt=arguments.length,dn=new Array(Rt);Rt--;)dn[Rt]=arguments[Rt];return Ue.then(function(){return oe.apply(gt,dn)})}return oe.apply(this,arguments)}}I.ModifyError=b,I.DexieError=wt,I.BulkError=R;var Oe={};const Pt=100,[it,Bt,pn]=typeof Promise>"u"?[]:(()=>{let pe=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[pe,M(pe),pe];const oe=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[oe,M(oe),pe]})(),st=Bt&&Bt.then,mt=it&&it.constructor,Ut=!!pn;var Ne=!1,zt=pn?()=>{pn.then(gr)}:r.setImmediate?setImmediate.bind(null,gr):r.MutationObserver?()=>{var pe=document.createElement("div");new MutationObserver(()=>{gr(),pe=null}).observe(pe,{attributes:!0}),pe.setAttribute("i","1")}:()=>{setTimeout(gr,0)},Zt=function(pe,oe){bt.push([pe,oe]),Zn&&(zt(),Zn=!1)},Cn=!0,Zn=!0,br=[],Mr=[],yn=null,St=ie,kt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Si,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(pe=>{try{Si(pe[0],pe[1])}catch{}})}},Mt=kt,bt=[],sn=0,Yt=[];function Qe(pe){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=xe,this._lib=!1;var oe=this._PSD=Mt;if(ye&&(this._stackHolder=qt(),this._prev=null,this._numPrev=0),"function"!=typeof pe){if(pe!==Oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ze(this,this._value))}this._state=null,this._value=null,++oe.ref,vt(this,pe)}const Lt={get:function(){var pe=Mt,oe=ts;function Ue(gt,Rt){var dn=!pe.global&&(pe!==Mt||oe!==ts);const Rn=dn&&!_t();var ar=new Qe((or,Rr)=>{Ye(this,new Mn(Vn(gt,pe,dn,Rn),Vn(Rt,pe,dn,Rn),or,Rr,pe))});return ye&&Yn(ar,this),ar}return Ue.prototype=Oe,Ue},set:function(pe){G(this,"then",pe&&pe.prototype===Oe?Lt:{get:function(){return pe},set:Lt.set})}};function Mn(pe,oe,Ue,gt,Rt){this.onFulfilled="function"==typeof pe?pe:null,this.onRejected="function"==typeof oe?oe:null,this.resolve=Ue,this.reject=gt,this.psd=Rt}function vt(pe,oe){try{oe(Ue=>{if(null===pe._state){if(Ue===pe)throw new TypeError("A promise cannot be resolved with itself.");var gt=pe._lib&&vr();Ue&&"function"==typeof Ue.then?vt(pe,(Rt,dn)=>{Ue instanceof Qe?Ue._then(Rt,dn):Ue.then(Rt,dn)}):(pe._state=!0,pe._value=Ue,nn(pe)),gt&&vi()}},ze.bind(null,pe))}catch(Ue){ze(pe,Ue)}}function ze(pe,oe){if(Mr.push(oe),null===pe._state){var Ue=pe._lib&&vr();oe=St(oe),pe._state=!1,pe._value=oe,ye&&null!==oe&&"object"==typeof oe&&!oe._promise&&function(gt,Rt,dn){try{(()=>{var gt=m(oe,"stack");oe._promise=pe,G(oe,"stack",{get:()=>Ne?gt&&(gt.get?gt.get.apply(oe):gt.value):pe.stack})}).apply(null,void 0)}catch(Rn){}}(),gt=pe,br.some(Rt=>Rt._value===gt._value)||br.push(gt),nn(pe),Ue&&vi()}var gt}function nn(pe){var oe=pe._listeners;pe._listeners=[];for(var Ue=0,gt=oe.length;Ue<gt;++Ue)Ye(pe,oe[Ue]);var Rt=pe._PSD;--Rt.ref||Rt.finalize(),0===sn&&(++sn,Zt(()=>{0==--sn&&to()},[]))}function Ye(pe,oe){if(null!==pe._state){var Ue=pe._state?oe.onFulfilled:oe.onRejected;if(null===Ue)return(pe._state?oe.resolve:oe.reject)(pe._value);++oe.psd.ref,++sn,Zt(At,[Ue,pe,oe])}else pe._listeners.push(oe)}function At(pe,oe,Ue){try{yn=oe;var gt,Rt=oe._value;oe._state?gt=pe(Rt):(Mr.length&&(Mr=[]),gt=pe(Rt),-1===Mr.indexOf(Rt)&&function(dn){for(var Rn=br.length;Rn;)if(br[--Rn]._value===dn._value)return void br.splice(Rn,1)}(oe)),Ue.resolve(gt)}catch(dn){Ue.reject(dn)}finally{yn=null,0==--sn&&to(),--Ue.psd.ref||Ue.psd.finalize()}}function Pn(pe,oe,Ue){if(oe.length===Ue)return oe;var gt="";if(!1===pe._state){var Rt,dn,Rn=pe._value;null!=Rn?(Rt=Rn.name||"Error",dn=Rn.message||Rn,gt=Ln(Rn,0)):(Rt=Rn,dn=""),oe.push(Rt+(dn?": "+dn:"")+gt)}return ye&&((gt=Ln(pe._stackHolder,2))&&-1===oe.indexOf(gt)&&oe.push(gt),pe._prev&&Pn(pe._prev,oe,Ue)),oe}function Yn(pe,oe){var Ue=oe?oe._numPrev+1:0;Ue<100&&(pe._prev=oe,pe._numPrev=Ue)}function gr(){vr()&&vi()}function vr(){var pe=Cn;return Cn=!1,Zn=!1,pe}function vi(){var pe,oe,Ue;do{for(;bt.length>0;)for(pe=bt,bt=[],Ue=pe.length,oe=0;oe<Ue;++oe){var gt=pe[oe];gt[0].apply(null,gt[1])}}while(bt.length>0);Cn=!0,Zn=!0}function to(){var pe=br;br=[],pe.forEach(gt=>{gt._PSD.onunhandled.call(null,gt._value,gt)});for(var oe=Yt.slice(0),Ue=oe.length;Ue;)oe[--Ue]()}function ro(pe){return new Qe(Oe,!1,pe)}function wi(pe,oe){var Ue=Mt;return function(){var gt=vr(),Rt=Mt;try{return ir(Ue,!0),pe.apply(this,arguments)}catch(dn){oe&&oe(dn)}finally{ir(Rt,!1),gt&&vi()}}}F(Qe.prototype,{then:Lt,_then:function(pe,oe){Ye(this,new Mn(null,null,pe,oe,Mt))},catch:function(pe){if(1===arguments.length)return this.then(null,pe);var oe=arguments[0],Ue=arguments[1];return this.then(null,"function"==typeof oe?gt=>gt instanceof oe?Ue(gt):ro(gt):gt=>gt&&gt.name===oe?Ue(gt):ro(gt))},finally:function(pe){return this.then(oe=>(pe(),oe),oe=>(pe(),ro(oe)))},stack:{get:function(){if(this._stack)return this._stack;try{Ne=!0;var pe=Pn(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=pe),pe}finally{Ne=!1}}},timeout:function(pe,oe){return pe<1/0?new Qe((Ue,gt)=>{var Rt=setTimeout(()=>gt(new j.Timeout(oe)),pe);this.then(Ue,gt).finally(clearTimeout.bind(null,Rt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&G(Qe.prototype,Symbol.toStringTag,"Dexie.Promise"),kt.env=Pr(),F(Qe,{all:function(){var pe=ee.apply(null,arguments).map(bn);return new Qe(function(oe,Ue){0===pe.length&&oe([]);var gt=pe.length;pe.forEach((Rt,dn)=>Qe.resolve(Rt).then(Rn=>{pe[dn]=Rn,--gt||oe(pe)},Ue))})},resolve:pe=>{if(pe instanceof Qe)return pe;if(pe&&"function"==typeof pe.then)return new Qe((Ue,gt)=>{pe.then(Ue,gt)});var oe=new Qe(Oe,!0,pe);return Yn(oe,yn),oe},reject:ro,race:function(){var pe=ee.apply(null,arguments).map(bn);return new Qe((oe,Ue)=>{pe.map(gt=>Qe.resolve(gt).then(oe,Ue))})},PSD:{get:()=>Mt,set:pe=>Mt=pe},totalEchoes:{get:()=>ts},newPSD:Io,usePSD:et,scheduler:{get:()=>Zt,set:pe=>{Zt=pe}},rejectionMapper:{get:()=>St,set:pe=>{St=pe}},follow:(pe,oe)=>new Qe((Ue,gt)=>Io((Rt,dn)=>{var Rn=Mt;Rn.unhandleds=[],Rn.onunhandled=dn,Rn.finalize=K(function(){var ar;ar=()=>{0===this.unhandleds.length?Rt():dn(this.unhandleds[0])},Yt.push(function or(){ar(),Yt.splice(Yt.indexOf(or),1)}),++sn,Zt(()=>{0==--sn&&to()},[])},Rn.finalize),pe()},oe,Ue,gt))}),mt&&(mt.allSettled&&G(Qe,"allSettled",function(){const pe=ee.apply(null,arguments).map(bn);return new Qe(oe=>{0===pe.length&&oe([]);let Ue=pe.length;const gt=new Array(Ue);pe.forEach((Rt,dn)=>Qe.resolve(Rt).then(Rn=>gt[dn]={status:"fulfilled",value:Rn},Rn=>gt[dn]={status:"rejected",reason:Rn}).then(()=>--Ue||oe(gt)))})}),mt.any&&typeof AggregateError<"u"&&G(Qe,"any",function(){const pe=ee.apply(null,arguments).map(bn);return new Qe((oe,Ue)=>{0===pe.length&&Ue(new AggregateError([]));let gt=pe.length;const Rt=new Array(gt);pe.forEach((dn,Rn)=>Qe.resolve(dn).then(ar=>oe(ar),ar=>{Rt[Rn]=ar,--gt||Ue(new AggregateError(Rt))}))})}));const _o={awaits:0,echoes:0,id:0};var Uo=0,So=[],yo=0,ts=0,Xo=0;function Io(pe,oe,Ue,gt){var Rt=Mt,dn=Object.create(Rt);dn.parent=Rt,dn.ref=0,dn.global=!1,dn.id=++Xo;var Rn=kt.env;dn.env=Ut?{Promise:Qe,PromiseProp:{value:Qe,configurable:!0,writable:!0},all:Qe.all,race:Qe.race,allSettled:Qe.allSettled,any:Qe.any,resolve:Qe.resolve,reject:Qe.reject,nthen:Tr(Rn.nthen,dn),gthen:Tr(Rn.gthen,dn)}:{},oe&&S(dn,oe),++Rt.ref,dn.finalize=function(){--this.parent.ref||this.parent.finalize()};var ar=et(dn,pe,Ue,gt);return 0===dn.ref&&dn.finalize(),ar}function Fe(){return _o.id||(_o.id=++Uo),++_o.awaits,_o.echoes+=Pt,_o.id}function _t(){return!!_o.awaits&&(0==--_o.awaits&&(_o.id=0),_o.echoes=_o.awaits*Pt,!0)}function bn(pe){return _o.echoes&&pe&&pe.constructor===mt?(Fe(),pe.then(oe=>(_t(),oe),oe=>(_t(),Ri(oe)))):pe}function xn(pe){++ts,_o.echoes&&0!=--_o.echoes||(_o.echoes=_o.id=0),So.push(Mt),ir(pe,!0)}function zn(){var pe=So[So.length-1];So.pop(),ir(pe,!1)}function ir(pe,oe){var Ue=Mt;if((oe?!_o.echoes||yo++&&pe===Mt:!yo||--yo&&pe===Mt)||$t(oe?xn.bind(null,pe):zn),pe!==Mt&&(Mt=pe,Ue===kt&&(kt.env=Pr()),Ut)){var gt=kt.env.Promise,Rt=pe.env;Bt.then=Rt.nthen,gt.prototype.then=Rt.gthen,(Ue.global||pe.global)&&(Object.defineProperty(r,"Promise",Rt.PromiseProp),gt.all=Rt.all,gt.race=Rt.race,gt.resolve=Rt.resolve,gt.reject=Rt.reject,Rt.allSettled&&(gt.allSettled=Rt.allSettled),Rt.any&&(gt.any=Rt.any))}}function Pr(){var pe=r.Promise;return Ut?{Promise:pe,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:pe.all,race:pe.race,allSettled:pe.allSettled,any:pe.any,resolve:pe.resolve,reject:pe.reject,nthen:Bt.then,gthen:pe.prototype.then}:{}}function et(pe,oe,Ue,gt,Rt){var dn=Mt;try{return ir(pe,!0),oe(Ue,gt,Rt)}finally{ir(dn,!1)}}function $t(pe){st.call(it,pe)}function Vn(pe,oe,Ue,gt){return"function"!=typeof pe?pe:function(){var Rt=Mt;Ue&&Fe(),ir(oe,!0);try{return pe.apply(this,arguments)}finally{ir(Rt,!1),gt&&$t(_t)}}}function Tr(pe,oe){return function(Ue,gt){return pe.call(this,Vn(Ue,oe),Vn(gt,oe))}}-1===(""+st).indexOf("[native code]")&&(Fe=_t=xe);const ei="unhandledrejection";function Si(pe,oe){var Ue;try{Ue=oe.onuncatched(pe)}catch{}if(!1!==Ue)try{var gt,Rt={promise:oe,reason:pe};if(r.document&&document.createEvent?((gt=document.createEvent("Event")).initEvent(ei,!0,!0),S(gt,Rt)):r.CustomEvent&&S(gt=new CustomEvent(ei,{detail:Rt}),Rt),gt&&r.dispatchEvent&&(dispatchEvent(gt),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(gt)}catch{}ye&&gt&&!gt.defaultPrevented&&console.warn(`Unhandled rejection: ${pe.stack||pe}`)}catch{}}var Ri=Qe.reject;function io(pe,oe,Ue,gt){if(pe.idbdb&&(pe._state.openComplete||Mt.letThrough||pe._vip)){var Rt=pe._createTransaction(oe,Ue,pe._dbSchema);try{Rt.create(),pe._state.PR1398_maxLoop=3}catch(dn){return dn.name===T.InvalidState&&pe.isOpen()&&--pe._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),pe._close(),pe.open().then(()=>io(pe,oe,Ue,gt))):Ri(dn)}return Rt._promise(oe,(dn,Rn)=>Io(()=>(Mt.trans=Rt,gt(dn,Rn,Rt)))).then(dn=>Rt._completion.then(()=>dn))}if(pe._state.openComplete)return Ri(new j.DatabaseClosed(pe._state.dbOpenError));if(!pe._state.isBeingOpened){if(!pe._options.autoOpen)return Ri(new j.DatabaseClosed);pe.open().catch(xe)}return pe._state.dbReadyPromise.then(()=>io(pe,oe,Ue,gt))}const Yi=-1/0,so="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Co="String expected.",qi=[],jo=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),$n=jo,un=jo,Ge=pe=>!/(dexie\.js|dexie\.min\.js)/.test(pe),xt="__dbnames",rn="readonly",Hn="readwrite";function Dr(pe,oe){return pe?oe?function(){return pe.apply(this,arguments)&&oe.apply(this,arguments)}:pe:oe}const Qr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Qi(pe){return"string"!=typeof pe||/\./.test(pe)?oe=>oe:oe=>(void 0===oe[pe]&&pe in oe&&delete(oe=Ie(oe))[pe],oe)}class Gi{_trans(oe,Ue,gt){const Rt=this._tx||Mt.trans,dn=this.name;function Rn(or,Rr,Cr){if(!Cr.schema[dn])throw new j.NotFound("Table "+dn+" not part of transaction");return Ue(Cr.idbtrans,Cr)}const ar=vr();try{return Rt&&Rt.db===this.db?Rt===Mt.trans?Rt._promise(oe,Rn,gt):Io(()=>Rt._promise(oe,Rn,gt),{trans:Rt,transless:Mt.transless||Mt}):io(this.db,oe,[this.name],Rn)}finally{ar&&vi()}}get(oe,Ue){return oe&&oe.constructor===Object?this.where(oe).first(Ue):this._trans("readonly",gt=>this.core.get({trans:gt,key:oe}).then(Rt=>this.hook.reading.fire(Rt))).then(Ue)}where(oe){if("string"==typeof oe)return new this.db.WhereClause(this,oe);if(v(oe))return new this.db.WhereClause(this,`[${oe.join("+")}]`);const Ue=s(oe);if(1===Ue.length)return this.where(Ue[0]).equals(oe[Ue[0]]);const gt=this.schema.indexes.concat(this.schema.primKey).filter(Rr=>{if(Rr.compound&&Ue.every(Cr=>Rr.keyPath.indexOf(Cr)>=0)){for(let Cr=0;Cr<Ue.length;++Cr)if(-1===Ue.indexOf(Rr.keyPath[Cr]))return!1;return!0}return!1}).sort((Rr,Cr)=>Rr.keyPath.length-Cr.keyPath.length)[0];if(gt&&"\uffff"!==this.db._maxKey){const Rr=gt.keyPath.slice(0,Ue.length);return this.where(Rr).equals(Rr.map(Cr=>oe[Cr]))}!gt&&ye&&console.warn(`The query ${JSON.stringify(oe)} on ${this.name} would benefit of a compound index [${Ue.join("+")}]`);const{idxByName:Rt}=this.schema,dn=this.db._deps.indexedDB;function Rn(Rr,Cr){try{return 0===dn.cmp(Rr,Cr)}catch{return!1}}const[ar,or]=Ue.reduce(([Rr,Cr],Gr)=>{const Nr=Rt[Gr],pi=oe[Gr];return[Rr||Nr,Rr||!Nr?Dr(Cr,Nr&&Nr.multi?Ni=>{const Un=q(Ni,Gr);return v(Un)&&Un.some(pr=>Rn(pi,pr))}:Ni=>Rn(pi,q(Ni,Gr))):Cr]},[null,null]);return ar?this.where(ar.name).equals(oe[ar.keyPath]).filter(or):gt?this.filter(or):this.where(Ue).equals("")}filter(oe){return this.toCollection().and(oe)}count(oe){return this.toCollection().count(oe)}offset(oe){return this.toCollection().offset(oe)}limit(oe){return this.toCollection().limit(oe)}each(oe){return this.toCollection().each(oe)}toArray(oe){return this.toCollection().toArray(oe)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(oe){return new this.db.Collection(new this.db.WhereClause(this,v(oe)?`[${oe.join("+")}]`:oe))}reverse(){return this.toCollection().reverse()}mapToClass(oe){this.schema.mappedClass=oe;const Ue=gt=>{if(!gt)return gt;const Rt=Object.create(oe.prototype);for(var dn in gt)if(d(gt,dn))try{Rt[dn]=gt[dn]}catch{}return Rt};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ue,this.hook("reading",Ue),oe}defineClass(){return this.mapToClass(function(oe){S(this,oe)})}add(oe,Ue){const{auto:gt,keyPath:Rt}=this.schema.primKey;let dn=oe;return Rt&&gt&&(dn=Qi(Rt)(oe)),this._trans("readwrite",Rn=>this.core.mutate({trans:Rn,type:"add",keys:null!=Ue?[Ue]:null,values:[dn]})).then(Rn=>Rn.numFailures?Qe.reject(Rn.failures[0]):Rn.lastResult).then(Rn=>{if(Rt)try{le(oe,Rt,Rn)}catch{}return Rn})}update(oe,Ue){if("object"!=typeof oe||v(oe))return this.where(":id").equals(oe).modify(Ue);{const gt=q(oe,this.schema.primKey.keyPath);if(void 0===gt)return Ri(new j.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof Ue?s(Ue).forEach(Rt=>{le(oe,Rt,Ue[Rt])}):Ue(oe,{value:oe,primKey:gt})}catch{}return this.where(":id").equals(gt).modify(Ue)}}put(oe,Ue){const{auto:gt,keyPath:Rt}=this.schema.primKey;let dn=oe;return Rt&&gt&&(dn=Qi(Rt)(oe)),this._trans("readwrite",Rn=>this.core.mutate({trans:Rn,type:"put",values:[dn],keys:null!=Ue?[Ue]:null})).then(Rn=>Rn.numFailures?Qe.reject(Rn.failures[0]):Rn.lastResult).then(Rn=>{if(Rt)try{le(oe,Rt,Rn)}catch{}return Rn})}delete(oe){return this._trans("readwrite",Ue=>this.core.mutate({trans:Ue,type:"delete",keys:[oe]})).then(Ue=>Ue.numFailures?Qe.reject(Ue.failures[0]):void 0)}clear(){return this._trans("readwrite",oe=>this.core.mutate({trans:oe,type:"deleteRange",range:Qr})).then(oe=>oe.numFailures?Qe.reject(oe.failures[0]):void 0)}bulkGet(oe){return this._trans("readonly",Ue=>this.core.getMany({keys:oe,trans:Ue}).then(gt=>gt.map(Rt=>this.hook.reading.fire(Rt))))}bulkAdd(oe,Ue,gt){const Rt=Array.isArray(Ue)?Ue:void 0,dn=(gt=gt||(Rt?void 0:Ue))?gt.allKeys:void 0;return this._trans("readwrite",Rn=>{const{auto:ar,keyPath:or}=this.schema.primKey;if(or&&Rt)throw new j.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Rt&&Rt.length!==oe.length)throw new j.InvalidArgument("Arguments objects and keys must have the same length");const Rr=oe.length;let Cr=or&&ar?oe.map(Qi(or)):oe;return this.core.mutate({trans:Rn,type:"add",keys:Rt,values:Cr,wantResults:dn}).then(({numFailures:Gr,results:Nr,lastResult:pi,failures:Ni})=>{if(0===Gr)return dn?Nr:pi;throw new R(`${this.name}.bulkAdd(): ${Gr} of ${Rr} operations failed`,Ni)})})}bulkPut(oe,Ue,gt){const Rt=Array.isArray(Ue)?Ue:void 0,dn=(gt=gt||(Rt?void 0:Ue))?gt.allKeys:void 0;return this._trans("readwrite",Rn=>{const{auto:ar,keyPath:or}=this.schema.primKey;if(or&&Rt)throw new j.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Rt&&Rt.length!==oe.length)throw new j.InvalidArgument("Arguments objects and keys must have the same length");const Rr=oe.length;let Cr=or&&ar?oe.map(Qi(or)):oe;return this.core.mutate({trans:Rn,type:"put",keys:Rt,values:Cr,wantResults:dn}).then(({numFailures:Gr,results:Nr,lastResult:pi,failures:Ni})=>{if(0===Gr)return dn?Nr:pi;throw new R(`${this.name}.bulkPut(): ${Gr} of ${Rr} operations failed`,Ni)})})}bulkDelete(oe){const Ue=oe.length;return this._trans("readwrite",gt=>this.core.mutate({trans:gt,type:"delete",keys:oe})).then(({numFailures:gt,lastResult:Rt,failures:dn})=>{if(0===gt)return Rt;throw new R(`${this.name}.bulkDelete(): ${gt} of ${Ue} operations failed`,dn)})}}function vo(pe){var oe={},Ue=function(Rn,ar){if(ar){for(var or=arguments.length,Rr=new Array(or-1);--or;)Rr[or-1]=arguments[or];return oe[Rn].subscribe.apply(null,Rr),pe}if("string"==typeof Rn)return oe[Rn]};Ue.addEventType=dn;for(var gt=1,Rt=arguments.length;gt<Rt;++gt)dn(arguments[gt]);return Ue;function dn(Rn,ar,or){if("object"!=typeof Rn){var Rr;ar||(ar=ut),or||(or=xe);var Cr={subscribers:[],fire:or,subscribe:function(Gr){-1===Cr.subscribers.indexOf(Gr)&&(Cr.subscribers.push(Gr),Cr.fire=ar(Cr.fire,Gr))},unsubscribe:function(Gr){Cr.subscribers=Cr.subscribers.filter(function(Nr){return Nr!==Gr}),Cr.fire=Cr.subscribers.reduce(ar,or)}};return oe[Rn]=Ue[Rn]=Cr,Cr}s(Rr=Rn).forEach(function(Gr){var Nr=Rr[Gr];if(v(Nr))dn(Gr,Rr[Gr][0],Rr[Gr][1]);else{if("asap"!==Nr)throw new j.InvalidArgument("Invalid event config");var pi=dn(Gr,ie,function(){for(var Ni=arguments.length,Un=new Array(Ni);Ni--;)Un[Ni]=arguments[Ni];pi.subscribers.forEach(function(pr){Z(function(){pr.apply(null,Un)})})})}})}}function Do(pe,oe){return N(oe).from({prototype:pe}),oe}function Ao(pe,oe){return!(pe.filter||pe.algorithm||pe.or)&&(oe?pe.justLimit:!pe.replayFilter)}function Ms(pe,oe){pe.filter=Dr(pe.filter,oe)}function Ks(pe,oe,Ue){var gt=pe.replayFilter;pe.replayFilter=gt?()=>Dr(gt(),oe()):oe,pe.justLimit=Ue&&!gt}function ms(pe,oe){if(pe.isPrimKey)return oe.primaryKey;const Ue=oe.getIndexByKeyPath(pe.index);if(!Ue)throw new j.Schema("KeyPath "+pe.index+" on object store "+oe.name+" is not indexed");return Ue}function Go(pe,oe,Ue){const gt=ms(pe,oe.schema);return oe.openCursor({trans:Ue,values:!pe.keysOnly,reverse:"prev"===pe.dir,unique:!!pe.unique,query:{index:gt,range:pe.range}})}function Qo(pe,oe,Ue,gt){const Rt=pe.replayFilter?Dr(pe.filter,pe.replayFilter()):pe.filter;if(pe.or){const dn={},Rn=(ar,or,Rr)=>{if(!Rt||Rt(or,Rr,Nr=>or.stop(Nr),Nr=>or.fail(Nr))){var Cr=or.primaryKey,Gr=""+Cr;"[object ArrayBuffer]"===Gr&&(Gr=""+new Uint8Array(Cr)),d(dn,Gr)||(dn[Gr]=!0,oe(ar,or,Rr))}};return Promise.all([pe.or._iterate(Rn,Ue),os(Go(pe,gt,Ue),pe.algorithm,Rn,!pe.keysOnly&&pe.valueMapper)])}return os(Go(pe,gt,Ue),Dr(pe.algorithm,Rt),oe,!pe.keysOnly&&pe.valueMapper)}function os(pe,oe,Ue,gt){var Rt=wi(gt?(dn,Rn,ar)=>Ue(gt(dn),Rn,ar):Ue);return pe.then(dn=>{if(dn)return dn.start(()=>{var Rn=()=>dn.continue();oe&&!oe(dn,ar=>Rn=ar,ar=>{dn.stop(ar),Rn=xe},ar=>{dn.fail(ar),Rn=xe})||Rt(dn.value,dn,ar=>Rn=ar),Rn()})})}function ns(pe,oe){try{const Ue=Rs(pe),gt=Rs(oe);if(Ue!==gt)return"Array"===Ue?1:"Array"===gt?-1:"binary"===Ue?1:"binary"===gt?-1:"string"===Ue?1:"string"===gt?-1:"Date"===Ue?1:"Date"!==gt?NaN:-1;switch(Ue){case"number":case"Date":case"string":return pe>oe?1:pe<oe?-1:0;case"binary":return function(Rt,dn){const Rn=Rt.length,ar=dn.length,or=Rn<ar?Rn:ar;for(let Rr=0;Rr<or;++Rr)if(Rt[Rr]!==dn[Rr])return Rt[Rr]<dn[Rr]?-1:1;return Rn===ar?0:Rn<ar?-1:1}(rr(pe),rr(oe));case"Array":return function(Rt,dn){const Rn=Rt.length,ar=dn.length,or=Rn<ar?Rn:ar;for(let Rr=0;Rr<or;++Rr){const Cr=ns(Rt[Rr],dn[Rr]);if(0!==Cr)return Cr}return Rn===ar?0:Rn<ar?-1:1}(pe,oe)}}catch{}return NaN}function Rs(pe){const oe=typeof pe;if("object"!==oe)return oe;if(ArrayBuffer.isView(pe))return"binary";const Ue=Ce(pe);return"ArrayBuffer"===Ue?"binary":Ue}function rr(pe){return pe instanceof Uint8Array?pe:ArrayBuffer.isView(pe)?new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength):new Uint8Array(pe)}class sr{_read(oe,Ue){var gt=this._ctx;return gt.error?gt.table._trans(null,Ri.bind(null,gt.error)):gt.table._trans("readonly",oe).then(Ue)}_write(oe){var Ue=this._ctx;return Ue.error?Ue.table._trans(null,Ri.bind(null,Ue.error)):Ue.table._trans("readwrite",oe,"locked")}_addAlgorithm(oe){var Ue=this._ctx;Ue.algorithm=Dr(Ue.algorithm,oe)}_iterate(oe,Ue){return Qo(this._ctx,oe,Ue,this._ctx.table.core)}clone(oe){var Ue=Object.create(this.constructor.prototype),gt=Object.create(this._ctx);return oe&&S(gt,oe),Ue._ctx=gt,Ue}raw(){return this._ctx.valueMapper=null,this}each(oe){var Ue=this._ctx;return this._read(gt=>Qo(Ue,oe,gt,Ue.table.core))}count(oe){return this._read(Ue=>{const gt=this._ctx,Rt=gt.table.core;if(Ao(gt,!0))return Rt.count({trans:Ue,query:{index:ms(gt,Rt.schema),range:gt.range}}).then(Rn=>Math.min(Rn,gt.limit));var dn=0;return Qo(gt,()=>(++dn,!1),Ue,Rt).then(()=>dn)}).then(oe)}sortBy(oe,Ue){const gt=oe.split(".").reverse(),Rt=gt[0],dn=gt.length-1;function Rn(Rr,Cr){return Cr?Rn(Rr[gt[Cr]],Cr-1):Rr[Rt]}var ar="next"===this._ctx.dir?1:-1;function or(Rr,Cr){var Gr=Rn(Rr,dn),Nr=Rn(Cr,dn);return Gr<Nr?-ar:Gr>Nr?ar:0}return this.toArray(function(Rr){return Rr.sort(or)}).then(Ue)}toArray(oe){return this._read(Ue=>{var gt=this._ctx;if("next"===gt.dir&&Ao(gt,!0)&&gt.limit>0){const{valueMapper:Rt}=gt,dn=ms(gt,gt.table.core.schema);return gt.table.core.query({trans:Ue,limit:gt.limit,values:!0,query:{index:dn,range:gt.range}}).then(({result:Rn})=>Rt?Rn.map(Rt):Rn)}{const Rt=[];return Qo(gt,dn=>Rt.push(dn),Ue,gt.table.core).then(()=>Rt)}},oe)}offset(oe){var Ue=this._ctx;return oe<=0||(Ue.offset+=oe,Ao(Ue)?Ks(Ue,()=>{var gt=oe;return(Rt,dn)=>0===gt||(1===gt?(--gt,!1):(dn(()=>{Rt.advance(gt),gt=0}),!1))}):Ks(Ue,()=>{var gt=oe;return()=>--gt<0})),this}limit(oe){return this._ctx.limit=Math.min(this._ctx.limit,oe),Ks(this._ctx,()=>{var Ue=oe;return function(gt,Rt,dn){return--Ue<=0&&Rt(dn),Ue>=0}},!0),this}until(oe,Ue){return Ms(this._ctx,function(gt,Rt,dn){return!oe(gt.value)||(Rt(dn),Ue)}),this}first(oe){return this.limit(1).toArray(function(Ue){return Ue[0]}).then(oe)}last(oe){return this.reverse().first(oe)}filter(oe){var Ue;return Ms(this._ctx,function(Rt){return oe(Rt.value)}),(Ue=this._ctx).isMatch=Dr(Ue.isMatch,oe),this}and(oe){return this.filter(oe)}or(oe){return new this.db.WhereClause(this._ctx.table,oe,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(oe){var Ue=this._ctx;return Ue.keysOnly=!Ue.isMatch,this.each(function(gt,Rt){oe(Rt.key,Rt)})}eachUniqueKey(oe){return this._ctx.unique="unique",this.eachKey(oe)}eachPrimaryKey(oe){var Ue=this._ctx;return Ue.keysOnly=!Ue.isMatch,this.each(function(gt,Rt){oe(Rt.primaryKey,Rt)})}keys(oe){var Ue=this._ctx;Ue.keysOnly=!Ue.isMatch;var gt=[];return this.each(function(Rt,dn){gt.push(dn.key)}).then(function(){return gt}).then(oe)}primaryKeys(oe){var Ue=this._ctx;if("next"===Ue.dir&&Ao(Ue,!0)&&Ue.limit>0)return this._read(Rt=>{var dn=ms(Ue,Ue.table.core.schema);return Ue.table.core.query({trans:Rt,values:!1,limit:Ue.limit,query:{index:dn,range:Ue.range}})}).then(({result:Rt})=>Rt).then(oe);Ue.keysOnly=!Ue.isMatch;var gt=[];return this.each(function(Rt,dn){gt.push(dn.primaryKey)}).then(function(){return gt}).then(oe)}uniqueKeys(oe){return this._ctx.unique="unique",this.keys(oe)}firstKey(oe){return this.limit(1).keys(function(Ue){return Ue[0]}).then(oe)}lastKey(oe){return this.reverse().firstKey(oe)}distinct(){var oe=this._ctx,Ue=oe.index&&oe.table.schema.idxByName[oe.index];if(!Ue||!Ue.multi)return this;var gt={};return Ms(this._ctx,function(Rt){var dn=Rt.primaryKey.toString(),Rn=d(gt,dn);return gt[dn]=!0,!Rn}),this}modify(oe){var Ue=this._ctx;return this._write(gt=>{var Rt;if("function"==typeof oe)Rt=oe;else{var dn=s(oe),Rn=dn.length;Rt=function(Un){for(var pr=!1,Sn=0;Sn<Rn;++Sn){var er=dn[Sn],zr=oe[er];q(Un,er)!==zr&&(le(Un,er,zr),pr=!0)}return pr}}const ar=Ue.table.core,{outbound:or,extractKey:Rr}=ar.schema.primaryKey,Cr=this.db._options.modifyChunkSize||200,Gr=[];let Nr=0;const pi=[],Ni=(Un,pr)=>{const{failures:Sn,numFailures:er}=pr;Nr+=Un-er;for(let zr of s(Sn))Gr.push(Sn[zr])};return this.clone().primaryKeys().then(Un=>{const pr=Sn=>{const er=Math.min(Cr,Un.length-Sn);return ar.getMany({trans:gt,keys:Un.slice(Sn,Sn+er),cache:"immutable"}).then(zr=>{const si=[],Vi=[],ki=or?[]:null,Oi=[];for(let Ti=0;Ti<er;++Ti){const $s=zr[Ti],ws={value:Ie($s),primKey:Un[Sn+Ti]};!1!==Rt.call(ws,ws.value,ws)&&(null==ws.value?Oi.push(Un[Sn+Ti]):or||0===ns(Rr($s),Rr(ws.value))?(Vi.push(ws.value),or&&ki.push(Un[Sn+Ti])):(Oi.push(Un[Sn+Ti]),si.push(ws.value)))}const Ko=Ao(Ue)&&Ue.limit===1/0&&("function"!=typeof oe||oe===Lr)&&{index:Ue.index,range:Ue.range};return Promise.resolve(si.length>0&&ar.mutate({trans:gt,type:"add",values:si}).then(Ti=>{for(let $s in Ti.failures)Oi.splice(parseInt($s),1);Ni(si.length,Ti)})).then(()=>(Vi.length>0||Ko&&"object"==typeof oe)&&ar.mutate({trans:gt,type:"put",keys:ki,values:Vi,criteria:Ko,changeSpec:"function"!=typeof oe&&oe}).then(Ti=>Ni(Vi.length,Ti))).then(()=>(Oi.length>0||Ko&&oe===Lr)&&ar.mutate({trans:gt,type:"delete",keys:Oi,criteria:Ko}).then(Ti=>Ni(Oi.length,Ti))).then(()=>Un.length>Sn+er&&pr(Sn+Cr))})};return pr(0).then(()=>{if(Gr.length>0)throw new b("Error modifying one or more objects",Gr,Nr,pi);return Un.length})})})}delete(){var oe=this._ctx,Ue=oe.range;return Ao(oe)&&(oe.isPrimKey&&!un||3===Ue.type)?this._write(gt=>{const{primaryKey:Rt}=oe.table.core.schema,dn=Ue;return oe.table.core.count({trans:gt,query:{index:Rt,range:dn}}).then(Rn=>oe.table.core.mutate({trans:gt,type:"deleteRange",range:dn}).then(({failures:ar,numFailures:Cr})=>{if(Cr)throw new b("Could not delete some values",Object.keys(ar).map(Gr=>ar[Gr]),Rn-Cr);return Rn-Cr}))}):this.modify(Lr)}}const Lr=(pe,oe)=>oe.value=null;function gi(pe,oe){return pe<oe?-1:pe===oe?0:1}function Ei(pe,oe){return pe>oe?-1:pe===oe?0:1}function Fi(pe,oe,Ue){var gt=pe instanceof Ls?new pe.Collection(pe):pe;return gt._ctx.error=Ue?new Ue(oe):new TypeError(oe),gt}function Wi(pe){return new pe.Collection(pe,()=>ls("")).limit(0)}function ho(pe,oe,Ue,gt,Rt,dn){for(var Rn=Math.min(pe.length,gt.length),ar=-1,or=0;or<Rn;++or){var Rr=oe[or];if(Rr!==gt[or])return Rt(pe[or],Ue[or])<0?pe.substr(0,or)+Ue[or]+Ue.substr(or+1):Rt(pe[or],gt[or])<0?pe.substr(0,or)+gt[or]+Ue.substr(or+1):ar>=0?pe.substr(0,ar)+oe[ar]+Ue.substr(ar+1):null;Rt(pe[or],Rr)<0&&(ar=or)}return Rn<gt.length&&"next"===dn?pe+Ue.substr(pe.length):Rn<pe.length&&"prev"===dn?pe.substr(0,Ue.length):ar<0?null:pe.substr(0,ar)+gt[ar]+Ue.substr(ar+1)}function Bi(pe,oe,Ue,gt){var Rt,dn,Rn,ar,or,Rr,Cr,Gr=Ue.length;if(!Ue.every(Un=>"string"==typeof Un))return Fi(pe,Co);function Nr(Un){Rt=function(Sn){return"next"===Sn?er=>er.toUpperCase():er=>er.toLowerCase()}(Un),dn=function(Sn){return"next"===Sn?er=>er.toLowerCase():er=>er.toUpperCase()}(Un),Rn="next"===Un?gi:Ei;var pr=Ue.map(function(Sn){return{lower:dn(Sn),upper:Rt(Sn)}}).sort(function(Sn,er){return Rn(Sn.lower,er.lower)});ar=pr.map(function(Sn){return Sn.upper}),or=pr.map(function(Sn){return Sn.lower}),Rr=Un,Cr="next"===Un?"":gt}Nr("next");var pi=new pe.Collection(pe,()=>ko(ar[0],or[Gr-1]+gt));pi._ondirectionchange=function(Un){Nr(Un)};var Ni=0;return pi._addAlgorithm(function(Un,pr,Sn){var er=Un.key;if("string"!=typeof er)return!1;var zr=dn(er);if(oe(zr,or,Ni))return!0;for(var si=null,Vi=Ni;Vi<Gr;++Vi){var ki=ho(er,zr,ar[Vi],or[Vi],Rn,Rr);null===ki&&null===si?Ni=Vi+1:(null===si||Rn(si,ki)>0)&&(si=ki)}return pr(null!==si?function(){Un.continue(si+Cr)}:Sn),!1}),pi}function ko(pe,oe,Ue,gt){return{type:2,lower:pe,upper:oe,lowerOpen:Ue,upperOpen:gt}}function ls(pe){return{type:1,lower:pe,upper:pe}}class Ls{get Collection(){return this._ctx.table.db.Collection}between(oe,Ue,gt,Rt){gt=!1!==gt,Rt=!0===Rt;try{return this._cmp(oe,Ue)>0||0===this._cmp(oe,Ue)&&(gt||Rt)&&(!gt||!Rt)?Wi(this):new this.Collection(this,()=>ko(oe,Ue,!gt,!Rt))}catch{return Fi(this,so)}}equals(oe){return null==oe?Fi(this,so):new this.Collection(this,()=>ls(oe))}above(oe){return null==oe?Fi(this,so):new this.Collection(this,()=>ko(oe,void 0,!0))}aboveOrEqual(oe){return null==oe?Fi(this,so):new this.Collection(this,()=>ko(oe,void 0,!1))}below(oe){return null==oe?Fi(this,so):new this.Collection(this,()=>ko(void 0,oe,!1,!0))}belowOrEqual(oe){return null==oe?Fi(this,so):new this.Collection(this,()=>ko(void 0,oe))}startsWith(oe){return"string"!=typeof oe?Fi(this,Co):this.between(oe,oe+"\uffff",!0,!0)}startsWithIgnoreCase(oe){return""===oe?this.startsWith(oe):Bi(this,(Ue,gt)=>0===Ue.indexOf(gt[0]),[oe],"\uffff")}equalsIgnoreCase(oe){return Bi(this,(Ue,gt)=>Ue===gt[0],[oe],"")}anyOfIgnoreCase(){var oe=ee.apply(me,arguments);return 0===oe.length?Wi(this):Bi(this,(Ue,gt)=>-1!==gt.indexOf(Ue),oe,"")}startsWithAnyOfIgnoreCase(){var oe=ee.apply(me,arguments);return 0===oe.length?Wi(this):Bi(this,(Ue,gt)=>gt.some(Rt=>0===Ue.indexOf(Rt)),oe,"\uffff")}anyOf(){const oe=ee.apply(me,arguments);let Ue=this._cmp;try{oe.sort(Ue)}catch{return Fi(this,so)}if(0===oe.length)return Wi(this);const gt=new this.Collection(this,()=>ko(oe[0],oe[oe.length-1]));gt._ondirectionchange=dn=>{Ue="next"===dn?this._ascending:this._descending,oe.sort(Ue)};let Rt=0;return gt._addAlgorithm((dn,Rn,ar)=>{const or=dn.key;for(;Ue(or,oe[Rt])>0;)if(++Rt,Rt===oe.length)return Rn(ar),!1;return 0===Ue(or,oe[Rt])||(Rn(()=>{dn.continue(oe[Rt])}),!1)}),gt}notEqual(oe){return this.inAnyRange([[Yi,oe],[oe,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const oe=ee.apply(me,arguments);if(0===oe.length)return new this.Collection(this);try{oe.sort(this._ascending)}catch{return Fi(this,so)}const Ue=oe.reduce((gt,Rt)=>gt?gt.concat([[gt[gt.length-1][1],Rt]]):[[Yi,Rt]],null);return Ue.push([oe[oe.length-1],this.db._maxKey]),this.inAnyRange(Ue,{includeLowers:!1,includeUppers:!1})}inAnyRange(oe,Ue){const gt=this._cmp,Rt=this._ascending,dn=this._descending,Rn=this._min,ar=this._max;if(0===oe.length)return Wi(this);if(!oe.every(er=>void 0!==er[0]&&void 0!==er[1]&&Rt(er[0],er[1])<=0))return Fi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",j.InvalidArgument);const or=!Ue||!1!==Ue.includeLowers,Rr=Ue&&!0===Ue.includeUppers;let Cr,Gr=Rt;function Nr(er,zr){return Gr(er[0],zr[0])}try{Cr=oe.reduce(function(er,zr){let si=0,Vi=er.length;for(;si<Vi;++si){const ki=er[si];if(gt(zr[0],ki[1])<0&&gt(zr[1],ki[0])>0){ki[0]=Rn(ki[0],zr[0]),ki[1]=ar(ki[1],zr[1]);break}}return si===Vi&&er.push(zr),er},[]),Cr.sort(Nr)}catch{return Fi(this,so)}let pi=0;const Ni=Rr?er=>Rt(er,Cr[pi][1])>0:er=>Rt(er,Cr[pi][1])>=0,Un=or?er=>dn(er,Cr[pi][0])>0:er=>dn(er,Cr[pi][0])>=0;let pr=Ni;const Sn=new this.Collection(this,()=>ko(Cr[0][0],Cr[Cr.length-1][1],!or,!Rr));return Sn._ondirectionchange=er=>{"next"===er?(pr=Ni,Gr=Rt):(pr=Un,Gr=dn),Cr.sort(Nr)},Sn._addAlgorithm((er,zr,si)=>{for(var Vi=er.key;pr(Vi);)if(++pi,pi===Cr.length)return zr(si),!1;return!((Ni(ki=Vi)||Un(ki))&&(0===this._cmp(Vi,Cr[pi][1])||0===this._cmp(Vi,Cr[pi][0])||zr(()=>{er.continue(Gr===Rt?Cr[pi][0]:Cr[pi][1])}),1));var ki}),Sn}startsWithAnyOf(){const oe=ee.apply(me,arguments);return oe.every(Ue=>"string"==typeof Ue)?0===oe.length?Wi(this):this.inAnyRange(oe.map(Ue=>[Ue,Ue+"\uffff"])):Fi(this,"startsWithAnyOf() only works with strings")}}function ys(pe){return wi(function(oe){return Os(oe),pe(oe.target.error),!1})}function Os(pe){pe.stopPropagation&&pe.stopPropagation(),pe.preventDefault&&pe.preventDefault()}const qo="storagemutated",Hs="x-storagemutated-1",Fo=vo(null,qo);class pa{_lock(){return U(!Mt.global),++this._reculock,1!==this._reculock||Mt.global||(Mt.lockOwnerFor=this),this}_unlock(){if(U(!Mt.global),0==--this._reculock)for(Mt.global||(Mt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var oe=this._blockedFuncs.shift();try{et(oe[1],oe[0])}catch{}}return this}_locked(){return this._reculock&&Mt.lockOwnerFor!==this}create(oe){if(!this.mode)return this;const Ue=this.db.idbdb,gt=this.db._state.dbOpenError;if(U(!this.idbtrans),!oe&&!Ue)switch(gt&&gt.name){case"DatabaseClosedError":throw new j.DatabaseClosed(gt);case"MissingAPIError":throw new j.MissingAPI(gt.message,gt);default:throw new j.OpenFailed(gt)}if(!this.active)throw new j.TransactionInactive;return U(null===this._completion._state),(oe=this.idbtrans=oe||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):Ue.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=wi(Rt=>{Os(Rt),this._reject(oe.error)}),oe.onabort=wi(Rt=>{Os(Rt),this.active&&this._reject(new j.Abort(oe.error)),this.active=!1,this.on("abort").fire(Rt)}),oe.oncomplete=wi(()=>{this.active=!1,this._resolve(),"mutatedParts"in oe&&Fo.storagemutated.fire(oe.mutatedParts)}),this}_promise(oe,Ue,gt){if("readwrite"===oe&&"readwrite"!==this.mode)return Ri(new j.ReadOnly("Transaction is readonly"));if(!this.active)return Ri(new j.TransactionInactive);if(this._locked())return new Qe((dn,Rn)=>{this._blockedFuncs.push([()=>{this._promise(oe,Ue,gt).then(dn,Rn)},Mt])});if(gt)return Io(()=>{var dn=new Qe((Rn,ar)=>{this._lock();const or=Ue(Rn,ar,this);or&&or.then&&or.then(Rn,ar)});return dn.finally(()=>this._unlock()),dn._lib=!0,dn});var Rt=new Qe((dn,Rn)=>{var ar=Ue(dn,Rn,this);ar&&ar.then&&ar.then(dn,Rn)});return Rt._lib=!0,Rt}_root(){return this.parent?this.parent._root():this}waitFor(oe){var Ue=this._root();const gt=Qe.resolve(oe);if(Ue._waitingFor)Ue._waitingFor=Ue._waitingFor.then(()=>gt);else{Ue._waitingFor=gt,Ue._waitingQueue=[];var Rt=Ue.idbtrans.objectStore(Ue.storeNames[0]);!function Rn(){for(++Ue._spinCount;Ue._waitingQueue.length;)Ue._waitingQueue.shift()();Ue._waitingFor&&(Rt.get(-1/0).onsuccess=Rn)}()}var dn=Ue._waitingFor;return new Qe((Rn,ar)=>{gt.then(or=>Ue._waitingQueue.push(wi(Rn.bind(null,or))),or=>Ue._waitingQueue.push(wi(ar.bind(null,or)))).finally(()=>{Ue._waitingFor===dn&&(Ue._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new j.Abort))}table(oe){const Ue=this._memoizedTables||(this._memoizedTables={});if(d(Ue,oe))return Ue[oe];const gt=this.schema[oe];if(!gt)throw new j.NotFound("Table "+oe+" not part of transaction");const Rt=new this.db.Table(oe,gt,this);return Rt.core=this.db.core.table(oe),Ue[oe]=Rt,Rt}}function oa(pe,oe,Ue,gt,Rt,dn,Rn){return{name:pe,keyPath:oe,unique:Ue,multi:gt,auto:Rt,compound:dn,src:(Ue&&!Rn?"&":"")+(gt?"*":"")+(Rt?"++":"")+Ds(oe)}}function Ds(pe){return"string"==typeof pe?pe:pe?"["+[].join.call(pe,"+")+"]":""}function zs(pe,oe,Ue){return{name:pe,primKey:oe,indexes:Ue,mappedClass:null,idxByName:ne(Ue,gt=>[gt.name,gt])}}let Ts=pe=>{try{return pe.only([[]]),Ts=()=>[[]],[[]]}catch{return Ts=()=>"\uffff","\uffff"}};function cs(pe){return null==pe?()=>{}:"string"==typeof pe?1===(oe=pe).split(".").length?gt=>gt[oe]:gt=>q(gt,oe):oe=>q(oe,pe);var oe}function ua(pe){return[].slice.call(pe)}let Jn=0;function lr(pe){return null==pe?":id":"string"==typeof pe?pe:`[${pe.join("+")}]`}function mr(pe,oe,Ue){function gt(or){if(3===or.type)return null;if(4===or.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:Rr,upper:Cr,lowerOpen:Gr,upperOpen:Nr}=or;return void 0===Rr?void 0===Cr?null:oe.upperBound(Cr,!!Nr):void 0===Cr?oe.lowerBound(Rr,!!Gr):oe.bound(Rr,Cr,!!Gr,!!Nr)}const{schema:Rt,hasGetAll:dn}=function(or,Rr){const Cr=ua(or.objectStoreNames);return{schema:{name:or.name,tables:Cr.map(Gr=>Rr.objectStore(Gr)).map(Gr=>{const{keyPath:Nr,autoIncrement:pi}=Gr,Ni=v(Nr),pr={},Sn={name:Gr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Nr,compound:Ni,keyPath:Nr,autoIncrement:pi,unique:!0,extractKey:cs(Nr)},indexes:ua(Gr.indexNames).map(er=>Gr.index(er)).map(er=>{const{name:zr,unique:si,multiEntry:Vi,keyPath:ki}=er,Oi={name:zr,compound:v(ki),keyPath:ki,unique:si,multiEntry:Vi,extractKey:cs(ki)};return pr[lr(ki)]=Oi,Oi}),getIndexByKeyPath:er=>pr[lr(er)]};return pr[":id"]=Sn.primaryKey,null!=Nr&&(pr[lr(Nr)]=Sn.primaryKey),Sn})},hasGetAll:Cr.length>0&&"getAll"in Rr.objectStore(Cr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(pe,Ue),Rn=Rt.tables.map(or=>function(Rr){const Cr=Rr.name;return{name:Cr,schema:Rr,mutate:function({trans:Gr,type:Nr,keys:pi,values:Ni,range:Un}){return new Promise((pr,Sn)=>{pr=wi(pr);const er=Gr.objectStore(Cr),zr=null==er.keyPath,si="put"===Nr||"add"===Nr;if(!si&&"delete"!==Nr&&"deleteRange"!==Nr)throw new Error("Invalid operation type: "+Nr);const{length:Vi}=pi||Ni||{length:1};if(pi&&Ni&&pi.length!==Ni.length)throw new Error("Given keys array must have same length as given values array.");if(0===Vi)return pr({numFailures:0,failures:{},results:[],lastResult:void 0});let ki;const Oi=[],Ko=[];let Ti=0;const $s=Jo=>{++Ti,Os(Jo)};if("deleteRange"===Nr){if(4===Un.type)return pr({numFailures:Ti,failures:Ko,results:[],lastResult:void 0});Oi.push(ki=3===Un.type?er.clear():er.delete(gt(Un)))}else{const[Jo,Cs]=si?zr?[Ni,pi]:[Ni,null]:[pi,null];if(si)for(let rs=0;rs<Vi;++rs)Oi.push(ki=Cs&&void 0!==Cs[rs]?er[Nr](Jo[rs],Cs[rs]):er[Nr](Jo[rs])),ki.onerror=$s;else for(let rs=0;rs<Vi;++rs)Oi.push(ki=er[Nr](Jo[rs])),ki.onerror=$s}const ws=Jo=>{const Cs=Jo.target.result;Oi.forEach((rs,Gt)=>null!=rs.error&&(Ko[Gt]=rs.error)),pr({numFailures:Ti,failures:Ko,results:"delete"===Nr?pi:Oi.map(rs=>rs.result),lastResult:Cs})};ki.onerror=Jo=>{$s(Jo),ws(Jo)},ki.onsuccess=ws})},getMany:({trans:Gr,keys:Nr})=>new Promise((pi,Ni)=>{pi=wi(pi);const Un=Gr.objectStore(Cr),pr=Nr.length,Sn=new Array(pr);let er,zr=0,si=0;const Vi=Oi=>{const Ko=Oi.target;Sn[Ko._pos]=Ko.result,++si===zr&&pi(Sn)},ki=ys(Ni);for(let Oi=0;Oi<pr;++Oi)null!=Nr[Oi]&&(er=Un.get(Nr[Oi]),er._pos=Oi,er.onsuccess=Vi,er.onerror=ki,++zr);0===zr&&pi(Sn)}),get:({trans:Gr,key:Nr})=>new Promise((pi,Ni)=>{pi=wi(pi);const Un=Gr.objectStore(Cr).get(Nr);Un.onsuccess=pr=>pi(pr.target.result),Un.onerror=ys(Ni)}),query:function(Gr){return Nr=>new Promise((pi,Ni)=>{pi=wi(pi);const{trans:Un,values:pr,limit:Sn,query:er}=Nr,zr=Sn===1/0?void 0:Sn,{index:si,range:Vi}=er,ki=Un.objectStore(Cr),Oi=si.isPrimaryKey?ki:ki.index(si.name),Ko=gt(Vi);if(0===Sn)return pi({result:[]});if(Gr){const Ti=pr?Oi.getAll(Ko,zr):Oi.getAllKeys(Ko,zr);Ti.onsuccess=$s=>pi({result:$s.target.result}),Ti.onerror=ys(Ni)}else{let Ti=0;const $s=pr||!("openKeyCursor"in Oi)?Oi.openCursor(Ko):Oi.openKeyCursor(Ko),ws=[];$s.onsuccess=Jo=>{const Cs=$s.result;return Cs?(ws.push(pr?Cs.value:Cs.primaryKey),++Ti===Sn?pi({result:ws}):void Cs.continue()):pi({result:ws})},$s.onerror=ys(Ni)}})}(dn),openCursor:function({trans:Gr,values:Nr,query:pi,reverse:Ni,unique:Un}){return new Promise((pr,Sn)=>{pr=wi(pr);const{index:er,range:zr}=pi,si=Gr.objectStore(Cr),Vi=er.isPrimaryKey?si:si.index(er.name),ki=Ni?Un?"prevunique":"prev":Un?"nextunique":"next",Oi=Nr||!("openKeyCursor"in Vi)?Vi.openCursor(gt(zr),ki):Vi.openKeyCursor(gt(zr),ki);Oi.onerror=ys(Sn),Oi.onsuccess=wi(Ko=>{const Ti=Oi.result;if(!Ti)return void pr(null);Ti.___id=++Jn,Ti.done=!1;const $s=Ti.continue.bind(Ti);let ws=Ti.continuePrimaryKey;ws&&(ws=ws.bind(Ti));const Jo=Ti.advance.bind(Ti),Cs=()=>{throw new Error("Cursor not stopped")};Ti.trans=Gr,Ti.stop=Ti.continue=Ti.continuePrimaryKey=Ti.advance=()=>{throw new Error("Cursor not started")},Ti.fail=wi(Sn),Ti.next=function(){let rs=1;return this.start(()=>rs--?this.continue():this.stop()).then(()=>this)},Ti.start=rs=>{const Gt=new Promise((ot,Ct)=>{ot=wi(ot),Oi.onerror=ys(Ct),Ti.fail=Ct,Ti.stop=fn=>{Ti.stop=Ti.continue=Ti.continuePrimaryKey=Ti.advance=Cs,ot(fn)}}),Ae=()=>{if(Oi.result)try{rs()}catch(ot){Ti.fail(ot)}else Ti.done=!0,Ti.start=()=>{throw new Error("Cursor behind last entry")},Ti.stop()};return Oi.onsuccess=wi(ot=>{Oi.onsuccess=Ae,Ae()}),Ti.continue=$s,Ti.continuePrimaryKey=ws,Ti.advance=Jo,Ae(),Gt},pr(Ti)},Sn)})},count({query:Gr,trans:Nr}){const{index:pi,range:Ni}=Gr;return new Promise((Un,pr)=>{const Sn=Nr.objectStore(Cr),er=pi.isPrimaryKey?Sn:Sn.index(pi.name),zr=gt(Ni),si=zr?er.count(zr):er.count();si.onsuccess=wi(Vi=>Un(Vi.target.result)),si.onerror=ys(pr)})}}}(or)),ar={};return Rn.forEach(or=>ar[or.name]=or),{stack:"dbcore",transaction:pe.transaction.bind(pe),table(or){if(!ar[or])throw new Error(`Table '${or}' not found`);return ar[or]},MIN_KEY:-1/0,MAX_KEY:Ts(oe),schema:Rt}}function Ir({_novip:pe},oe){const gt=function(Rt,dn,{IDBKeyRange:Rn},or){return{dbcore:(Cr=mr(dn,Rn,or),Gr=Rt.dbcore,Gr.reduce((Nr,{create:pi})=>({...Nr,...pi(Nr)}),Cr))};var Cr,Gr}(pe._middlewares,oe.db,pe._deps,oe);pe.core=gt.dbcore,pe.tables.forEach(Rt=>{const dn=Rt.name;pe.core.schema.tables.some(Rn=>Rn.name===dn)&&(Rt.core=pe.core.table(dn),pe[dn]instanceof pe.Table&&(pe[dn].core=Rt.core))})}function Ai({_novip:pe},oe,Ue,gt){Ue.forEach(Rt=>{const dn=gt[Rt];oe.forEach(Rn=>{const ar=m(Rn,Rt);(!ar||"value"in ar&&void 0===ar.value)&&(Rn===pe.Transaction.prototype||Rn instanceof pe.Transaction?G(Rn,Rt,{get(){return this.table(Rt)},set(or){P(this,Rt,{value:or,writable:!0,configurable:!0,enumerable:!0})}}):Rn[Rt]=new pe.Table(Rt,dn))})})}function tt({_novip:pe},oe){oe.forEach(Ue=>{for(let gt in Ue)Ue[gt]instanceof pe.Table&&delete Ue[gt]})}function gn(pe,oe){return pe._cfg.version-oe._cfg.version}function cn(pe,oe){const Ue={del:[],add:[],change:[]};let gt;for(gt in pe)oe[gt]||Ue.del.push(gt);for(gt in oe){const Rt=pe[gt],dn=oe[gt];if(Rt){const Rn={name:gt,def:dn,recreate:!1,del:[],add:[],change:[]};if(""+(Rt.primKey.keyPath||"")!=""+(dn.primKey.keyPath||"")||Rt.primKey.auto!==dn.primKey.auto&&!jo)Rn.recreate=!0,Ue.change.push(Rn);else{const ar=Rt.idxByName,or=dn.idxByName;let Rr;for(Rr in ar)or[Rr]||Rn.del.push(Rr);for(Rr in or){const Cr=ar[Rr],Gr=or[Rr];Cr?Cr.src!==Gr.src&&Rn.change.push(Gr):Rn.add.push(Gr)}(Rn.del.length>0||Rn.add.length>0||Rn.change.length>0)&&Ue.change.push(Rn)}}else Ue.add.push([gt,dn])}return Ue}function je(pe,oe,Ue,gt){const Rt=pe.db.createObjectStore(oe,Ue.keyPath?{keyPath:Ue.keyPath,autoIncrement:Ue.auto}:{autoIncrement:Ue.auto});return gt.forEach(dn=>It(Rt,dn)),Rt}function It(pe,oe){pe.createIndex(oe.name,oe.keyPath,{unique:oe.unique,multiEntry:oe.multi})}function Qt(pe,oe,Ue){const gt={};return L(oe.objectStoreNames,0).forEach(Rt=>{const dn=Ue.objectStore(Rt);let Rn=dn.keyPath;const ar=oa(Ds(Rn),Rn||"",!1,!1,!!dn.autoIncrement,Rn&&"string"!=typeof Rn,!0),or=[];for(let Cr=0;Cr<dn.indexNames.length;++Cr){const Gr=dn.index(dn.indexNames[Cr]);Rn=Gr.keyPath;var Rr=oa(Gr.name,Rn,!!Gr.unique,!!Gr.multiEntry,!1,Rn&&"string"!=typeof Rn,!1);or.push(Rr)}gt[Rt]=zs(Rt,ar,or)}),gt}function qn({_novip:pe},oe,Ue){const gt=Ue.db.objectStoreNames;for(let Rt=0;Rt<gt.length;++Rt){const dn=gt[Rt],Rn=Ue.objectStore(dn);pe._hasGetAll="getAll"in Rn;for(let ar=0;ar<Rn.indexNames.length;++ar){const or=Rn.indexNames[ar],Rr=Rn.index(or).keyPath,Cr="string"==typeof Rr?Rr:"["+L(Rr).join("+")+"]";if(oe[dn]){const Gr=oe[dn].idxByName[Cr];Gr&&(Gr.name=or,delete oe[dn].idxByName[Cr],oe[dn].idxByName[or]=Gr)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(pe._hasGetAll=!1)}class hr{_parseStoresSpec(oe,Ue){s(oe).forEach(gt=>{if(null!==oe[gt]){var Rt=oe[gt].split(",").map((Rn,ar)=>{const or=(Rn=Rn.trim()).replace(/([&*]|\+\+)/g,""),Rr=/^\[/.test(or)?or.match(/^\[(.*)\]$/)[1].split("+"):or;return oa(or,Rr||null,/\&/.test(Rn),/\*/.test(Rn),/\+\+/.test(Rn),v(Rr),0===ar)}),dn=Rt.shift();if(dn.multi)throw new j.Schema("Primary key cannot be multi-valued");Rt.forEach(Rn=>{if(Rn.auto)throw new j.Schema("Only primary key can be marked as autoIncrement (++)");if(!Rn.keyPath)throw new j.Schema("Index must have a name and cannot be an empty string")}),Ue[gt]=zs(gt,dn,Rt)}})}stores(oe){const Ue=this.db;this._cfg.storesSource=this._cfg.storesSource?S(this._cfg.storesSource,oe):oe;const Rt={};let dn={};return Ue._versions.forEach(Rn=>{S(Rt,Rn._cfg.storesSource),dn=Rn._cfg.dbschema={},Rn._parseStoresSpec(Rt,dn)}),Ue._dbSchema=dn,tt(Ue,[Ue._allTables,Ue,Ue.Transaction.prototype]),Ai(Ue,[Ue._allTables,Ue,Ue.Transaction.prototype,this._cfg.tables],s(dn),dn),Ue._storeNames=s(dn),this}upgrade(oe){return this._cfg.contentUpgrade=en(this._cfg.contentUpgrade||xe,oe),this}}function yr(pe,oe){let Ue=pe._dbNamesDB;return Ue||(Ue=pe._dbNamesDB=new Wn(xt,{addons:[],indexedDB:pe,IDBKeyRange:oe}),Ue.version(1).stores({dbnames:"name"})),Ue.table("dbnames")}function Hr(pe){return pe&&"function"==typeof pe.databases}function jr(pe){return Io(function(){return Mt.letThrough=!0,pe()})}function oi(){var pe;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(oe){var Ue=function(){return indexedDB.databases().finally(oe)};pe=setInterval(Ue,100),Ue()}).finally(function(){return clearInterval(pe)}):Promise.resolve()}function Ui(pe){var oe=dn=>pe.next(dn),Ue=Rt(oe),gt=Rt(dn=>pe.throw(dn));function Rt(dn){return Rn=>{var ar=dn(Rn),or=ar.value;return ar.done?or:or&&"function"==typeof or.then?or.then(Ue,gt):v(or)?Promise.all(or).then(Ue,gt):Ue(or)}}return Rt(oe)()}function co(pe,oe,Ue){var gt=arguments.length;if(gt<2)throw new j.InvalidArgument("Too few arguments");for(var Rt=new Array(gt-1);--gt;)Rt[gt-1]=arguments[gt];return Ue=Rt.pop(),[pe,he(Rt),Ue]}function Ro(pe,oe,Ue,gt,Rt){return Qe.resolve().then(()=>{const dn=Mt.transless||Mt,Rn=pe._createTransaction(oe,Ue,pe._dbSchema,gt),ar={trans:Rn,transless:dn};if(gt)Rn.idbtrans=gt.idbtrans;else try{Rn.create(),pe._state.PR1398_maxLoop=3}catch(Gr){return Gr.name===T.InvalidState&&pe.isOpen()&&--pe._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),pe._close(),pe.open().then(()=>Ro(pe,oe,Ue,null,Rt))):Ri(Gr)}const or=fe(Rt);let Rr;or&&Fe();const Cr=Qe.follow(()=>{if(Rr=Rt.call(Rn,Rn),Rr)if(or){var Gr=_t.bind(null,null);Rr.then(Gr,Gr)}else"function"==typeof Rr.next&&"function"==typeof Rr.throw&&(Rr=Ui(Rr))},ar);return(Rr&&"function"==typeof Rr.then?Qe.resolve(Rr).then(Gr=>Rn.active?Gr:Ri(new j.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):Cr.then(()=>Rr)).then(Gr=>(gt&&Rn._resolve(),Rn._completion.then(()=>Gr))).catch(Gr=>(Rn._reject(Gr),Ri(Gr)))})}function mo(pe,oe,Ue){const gt=v(pe)?pe.slice():[pe];for(let Rt=0;Rt<Ue;++Rt)gt.push(oe);return gt}const nt={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(pe){return{...pe,table(oe){const Ue=pe.table(oe),{schema:gt}=Ue,Rt={},dn=[];function Rn(Cr,Gr,Nr){const pi=lr(Cr),Ni=Rt[pi]=Rt[pi]||[],Un=null==Cr?0:"string"==typeof Cr?1:Cr.length,pr=Gr>0,Sn={...Nr,isVirtual:pr,keyTail:Gr,keyLength:Un,extractKey:cs(Cr),unique:!pr&&Nr.unique};return Ni.push(Sn),Sn.isPrimaryKey||dn.push(Sn),Un>1&&Rn(2===Un?Cr[0]:Cr.slice(0,Un-1),Gr+1,Nr),Ni.sort((er,zr)=>er.keyTail-zr.keyTail),Sn}const ar=Rn(gt.primaryKey.keyPath,0,gt.primaryKey);Rt[":id"]=[ar];for(const Cr of gt.indexes)Rn(Cr.keyPath,0,Cr);function or(Cr){const Gr=Cr.query.index;return Gr.isVirtual?{...Cr,query:{index:Gr,range:(Nr=Cr.query.range,pi=Gr.keyTail,{type:1===Nr.type?2:Nr.type,lower:mo(Nr.lower,Nr.lowerOpen?pe.MAX_KEY:pe.MIN_KEY,pi),lowerOpen:!0,upper:mo(Nr.upper,Nr.upperOpen?pe.MIN_KEY:pe.MAX_KEY,pi),upperOpen:!0})}}:Cr;var Nr,pi}return{...Ue,schema:{...gt,primaryKey:ar,indexes:dn,getIndexByKeyPath:function(Cr){const Gr=Rt[lr(Cr)];return Gr&&Gr[0]}},count:Cr=>Ue.count(or(Cr)),query:Cr=>Ue.query(or(Cr)),openCursor(Cr){const{keyTail:Gr,isVirtual:Nr,keyLength:pi}=Cr.query.index;return Nr?Ue.openCursor(or(Cr)).then(Ni=>{return Ni&&(Un=Ni,Object.create(Un,{continue:{value:function(Sn){null!=Sn?Un.continue(mo(Sn,Cr.reverse?pe.MAX_KEY:pe.MIN_KEY,Gr)):Cr.unique?Un.continue(Un.key.slice(0,pi).concat(Cr.reverse?pe.MIN_KEY:pe.MAX_KEY,Gr)):Un.continue()}},continuePrimaryKey:{value(Sn,er){Un.continuePrimaryKey(mo(Sn,pe.MAX_KEY,Gr),er)}},primaryKey:{get:()=>Un.primaryKey},key:{get(){const Sn=Un.key;return 1===pi?Sn[0]:Sn.slice(0,pi)}},value:{get:()=>Un.value}}));var Un}):Ue.openCursor(Cr)}}}}}};function $e(pe,oe,Ue,gt){return Ue=Ue||{},gt=gt||"",s(pe).forEach(Rt=>{if(d(oe,Rt)){var dn=pe[Rt],Rn=oe[Rt];if("object"==typeof dn&&"object"==typeof Rn&&dn&&Rn){const ar=Ce(dn);ar!==Ce(Rn)?Ue[gt+Rt]=oe[Rt]:"Object"===ar?$e(dn,Rn,Ue,gt+Rt+"."):dn!==Rn&&(Ue[gt+Rt]=oe[Rt])}else dn!==Rn&&(Ue[gt+Rt]=oe[Rt])}else Ue[gt+Rt]=void 0}),s(oe).forEach(Rt=>{d(pe,Rt)||(Ue[gt+Rt]=oe[Rt])}),Ue}const an={stack:"dbcore",name:"HooksMiddleware",level:2,create:pe=>({...pe,table(oe){const Ue=pe.table(oe),{primaryKey:gt}=Ue.schema;return{...Ue,mutate(dn){const Rn=Mt.trans,{deleting:ar,creating:or,updating:Rr}=Rn.table(oe).hook;switch(dn.type){case"add":if(or.fire===xe)break;return Rn._promise("readwrite",()=>Cr(dn),!0);case"put":if(or.fire===xe&&Rr.fire===xe)break;return Rn._promise("readwrite",()=>Cr(dn),!0);case"delete":if(ar.fire===xe)break;return Rn._promise("readwrite",()=>Cr(dn),!0);case"deleteRange":if(ar.fire===xe)break;return Rn._promise("readwrite",()=>{return Gr((Nr=dn).trans,Nr.range,1e4);var Nr},!0)}return Ue.mutate(dn);function Cr(Nr){const pi=Mt.trans,Ni=Nr.keys||("delete"===(pr=Nr).type?pr.keys:pr.keys||pr.values.map(gt.extractKey));var pr;if(!Ni)throw new Error("Keys missing");return"delete"!==(Nr="add"===Nr.type||"put"===Nr.type?{...Nr,keys:Ni}:{...Nr}).type&&(Nr.values=[...Nr.values]),Nr.keys&&(Nr.keys=[...Nr.keys]),function(Un,pr,Sn){return"add"===pr.type?Promise.resolve([]):Un.getMany({trans:pr.trans,keys:Sn,cache:"immutable"})}(Ue,Nr,Ni).then(Un=>{const pr=Ni.map((Sn,er)=>{const zr=Un[er],si={onerror:null,onsuccess:null};if("delete"===Nr.type)ar.fire.call(si,Sn,zr,pi);else if("add"===Nr.type||void 0===zr){const Vi=or.fire.call(si,Sn,Nr.values[er],pi);null==Sn&&null!=Vi&&(Nr.keys[er]=Sn=Vi,gt.outbound||le(Nr.values[er],gt.keyPath,Sn))}else{const Vi=$e(zr,Nr.values[er]),ki=Rr.fire.call(si,Vi,Sn,zr,pi);if(ki){const Oi=Nr.values[er];Object.keys(ki).forEach(Ko=>{d(Oi,Ko)?Oi[Ko]=ki[Ko]:le(Oi,Ko,ki[Ko])})}}return si});return Ue.mutate(Nr).then(({failures:Sn,results:er,numFailures:zr,lastResult:si})=>{for(let Vi=0;Vi<Ni.length;++Vi){const ki=er?er[Vi]:Ni[Vi],Oi=pr[Vi];null==ki?Oi.onerror&&Oi.onerror(Sn[Vi]):Oi.onsuccess&&Oi.onsuccess("put"===Nr.type&&Un[Vi]?Nr.values[Vi]:ki)}return{failures:Sn,results:er,numFailures:zr,lastResult:si}}).catch(Sn=>(pr.forEach(er=>er.onerror&&er.onerror(Sn)),Promise.reject(Sn)))})}function Gr(Nr,pi,Ni){return Ue.query({trans:Nr,values:!1,query:{index:gt,range:pi},limit:Ni}).then(({result:Un})=>Cr({type:"delete",keys:Un,trans:Nr}).then(pr=>pr.numFailures>0?Promise.reject(pr.failures[0]):Un.length<Ni?{failures:[],numFailures:0,lastResult:void 0}:Gr(Nr,{...pi,lower:Un[Un.length-1],lowerOpen:!0},Ni)))}}}}})};function at(pe,oe,Ue){try{if(!oe||oe.keys.length<pe.length)return null;const gt=[];for(let Rt=0,dn=0;Rt<oe.keys.length&&dn<pe.length;++Rt)0===ns(oe.keys[Rt],pe[dn])&&(gt.push(Ue?Ie(oe.values[Rt]):oe.values[Rt]),++dn);return gt.length===pe.length?gt:null}catch{return null}}const de={stack:"dbcore",level:-1,create:pe=>({table:oe=>{const Ue=pe.table(oe);return{...Ue,getMany:gt=>{if(!gt.cache)return Ue.getMany(gt);const Rt=at(gt.keys,gt.trans._cache,"clone"===gt.cache);return Rt?Qe.resolve(Rt):Ue.getMany(gt).then(dn=>(gt.trans._cache={keys:gt.keys,values:"clone"===gt.cache?Ie(dn):dn},dn))},mutate:gt=>("add"!==gt.type&&(gt.trans._cache=null),Ue.mutate(gt))}}})};function Et(pe){return!("from"in pe)}const on=function(pe,oe){if(!this){const Ue=new on;return pe&&"d"in pe&&S(Ue,pe),Ue}S(this,arguments.length?{d:1,from:pe,to:arguments.length>1?oe:pe}:{d:0})};function Kn(pe,oe,Ue){const gt=ns(oe,Ue);if(isNaN(gt))return;if(gt>0)throw RangeError();if(Et(pe))return S(pe,{from:oe,to:Ue,d:1});const Rt=pe.l,dn=pe.r;if(ns(Ue,pe.from)<0)return Rt?Kn(Rt,oe,Ue):pe.l={from:oe,to:Ue,d:1,l:null,r:null},He(pe);if(ns(oe,pe.to)>0)return dn?Kn(dn,oe,Ue):pe.r={from:oe,to:Ue,d:1,l:null,r:null},He(pe);ns(oe,pe.from)<0&&(pe.from=oe,pe.l=null,pe.d=dn?dn.d+1:1),ns(Ue,pe.to)>0&&(pe.to=Ue,pe.r=null,pe.d=pe.l?pe.l.d+1:1);const Rn=!pe.r;Rt&&!pe.l&&ht(pe,Rt),dn&&Rn&&ht(pe,dn)}function ht(pe,oe){Et(oe)||function Ue(gt,{from:Rt,to:dn,l:Rn,r:ar}){Kn(gt,Rt,dn),Rn&&Ue(gt,Rn),ar&&Ue(gt,ar)}(pe,oe)}function ge(pe){let oe=Et(pe)?null:{s:0,n:pe};return{next(Ue){const gt=arguments.length>0;for(;oe;)switch(oe.s){case 0:if(oe.s=1,gt)for(;oe.n.l&&ns(Ue,oe.n.from)<0;)oe={up:oe,n:oe.n.l,s:1};else for(;oe.n.l;)oe={up:oe,n:oe.n.l,s:1};case 1:if(oe.s=2,!gt||ns(Ue,oe.n.to)<=0)return{value:oe.n,done:!1};case 2:if(oe.n.r){oe.s=3,oe={up:oe,n:oe.n.r,s:0};continue}case 3:oe=oe.up}return{done:!0}}}}function He(pe){var oe,Ue;const gt=((null===(oe=pe.r)||void 0===oe?void 0:oe.d)||0)-((null===(Ue=pe.l)||void 0===Ue?void 0:Ue.d)||0),Rt=gt>1?"r":gt<-1?"l":"";if(Rt){const dn="r"===Rt?"l":"r",Rn={...pe},ar=pe[Rt];pe.from=ar.from,pe.to=ar.to,pe[Rt]=ar[Rt],Rn[Rt]=ar[dn],pe[dn]=Rn,Rn.d=Vt(Rn)}pe.d=Vt(pe)}function Vt({r:pe,l:oe}){return(pe?oe?Math.max(pe.d,oe.d):pe.d:oe?oe.d:0)+1}F(on.prototype,{add(pe){return ht(this,pe),this},addKey(pe){return Kn(this,pe,pe),this},addKeys(pe){return pe.forEach(oe=>Kn(this,oe,oe)),this},[Nt](){return ge(this)}});const wn={stack:"dbcore",level:0,create:pe=>{const oe=pe.schema.name,Ue=new on(pe.MIN_KEY,pe.MAX_KEY);return{...pe,table:gt=>{const Rt=pe.table(gt),{schema:dn}=Rt,{primaryKey:Rn}=dn,{extractKey:ar,outbound:or}=Rn,Rr={...Rt,mutate:Nr=>{const pi=Nr.trans,Ni=pi.mutatedParts||(pi.mutatedParts={}),Un=ki=>{const Oi=`idb://${oe}/${gt}/${ki}`;return Ni[Oi]||(Ni[Oi]=new on)},pr=Un(""),Sn=Un(":dels"),{type:er}=Nr;let[zr,si]="deleteRange"===Nr.type?[Nr.range]:"delete"===Nr.type?[Nr.keys]:Nr.values.length<50?[[],Nr.values]:[];const Vi=Nr.trans._cache;return Rt.mutate(Nr).then(ki=>{if(v(zr)){"delete"!==er&&(zr=ki.results),pr.addKeys(zr);const Oi=at(zr,Vi);Oi||"add"===er||Sn.addKeys(zr),(Oi||si)&&(Ko=Un,$s=Oi,ws=si,dn.indexes.forEach(function Jo(Cs){const rs=Ko(Cs.name||"");function Gt(ot){return null!=ot?Cs.extractKey(ot):null}const Ae=ot=>Cs.multiEntry&&v(ot)?ot.forEach(Ct=>rs.addKey(Ct)):rs.addKey(ot);($s||ws).forEach((ot,Ct)=>{const fn=$s&&Gt($s[Ct]),jn=ws&&Gt(ws[Ct]);0!==ns(fn,jn)&&(null!=fn&&Ae(fn),null!=jn&&Ae(jn))})}))}else if(zr){const Oi={from:zr.lower,to:zr.upper};Sn.add(Oi),pr.add(Oi)}else pr.add(Ue),Sn.add(Ue),dn.indexes.forEach(Oi=>Un(Oi.name).add(Ue));var Ko,$s,ws;return ki})}},Cr=({query:{index:Nr,range:pi}})=>{var Ni,Un;return[Nr,new on(null!==(Ni=pi.lower)&&void 0!==Ni?Ni:pe.MIN_KEY,null!==(Un=pi.upper)&&void 0!==Un?Un:pe.MAX_KEY)]},Gr={get:Nr=>[Rn,new on(Nr.key)],getMany:Nr=>[Rn,(new on).addKeys(Nr.keys)],count:Cr,query:Cr,openCursor:Cr};return s(Gr).forEach(Nr=>{Rr[Nr]=function(pi){const{subscr:Ni}=Mt;if(Ni){const Un=si=>{const Vi=`idb://${oe}/${gt}/${si}`;return Ni[Vi]||(Ni[Vi]=new on)},pr=Un(""),Sn=Un(":dels"),[er,zr]=Gr[Nr](pi);if(Un(er.name||"").add(zr),!er.isPrimaryKey){if("count"!==Nr){const si="query"===Nr&&or&&pi.values&&Rt.query({...pi,values:!1});return Rt[Nr].apply(this,arguments).then(Vi=>{if("query"===Nr){if(or&&pi.values)return si.then(({result:Oi})=>(pr.addKeys(Oi),Vi));const ki=pi.values?Vi.result.map(ar):Vi.result;pi.values?pr.addKeys(ki):Sn.addKeys(ki)}else if("openCursor"===Nr){const ki=Vi,Oi=pi.values;return ki&&Object.create(ki,{key:{get:()=>(Sn.addKey(ki.primaryKey),ki.key)},primaryKey:{get(){const Ko=ki.primaryKey;return Sn.addKey(Ko),Ko}},value:{get:()=>(Oi&&pr.addKey(ki.primaryKey),ki.value)}})}return Vi})}Sn.add(Ue)}}return Rt[Nr].apply(this,arguments)}}),Rr}}}};class Wn{constructor(oe,Ue){this._middlewares={},this.verno=0;const gt=Wn.dependencies;this._options=Ue={addons:Wn.addons,autoOpen:!0,indexedDB:gt.indexedDB,IDBKeyRange:gt.IDBKeyRange,...Ue},this._deps={indexedDB:Ue.indexedDB,IDBKeyRange:Ue.IDBKeyRange};const{addons:Rt}=Ue;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const dn={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var Rn,ar;dn.dbReadyPromise=new Qe(ar=>{dn.dbReadyResolve=ar}),dn.openCanceller=new Qe((ar,or)=>{dn.cancelOpen=or}),this._state=dn,this.name=oe,this.on=vo(this,"populate","blocked","versionchange","close",{ready:[en,xe]}),this.on.ready.subscribe=ae(this.on.ready.subscribe,ar=>(or,Rr)=>{Wn.vip(()=>{const Cr=this._state;if(Cr.openComplete)Cr.dbOpenError||Qe.resolve().then(or),Rr&&ar(or);else if(Cr.onReadyBeingFired)Cr.onReadyBeingFired.push(or),Rr&&ar(or);else{ar(or);const Gr=this;Rr||ar(function Nr(){Gr.on.ready.unsubscribe(or),Gr.on.ready.unsubscribe(Nr)})}})}),this.Collection=(Rn=this,Do(sr.prototype,function(ar,or){this.db=Rn;let Rr=Qr,Cr=null;if(or)try{Rr=or()}catch(Ni){Cr=Ni}const Gr=ar._ctx,Nr=Gr.table,pi=Nr.hook.reading.fire;this._ctx={table:Nr,index:Gr.index,isPrimKey:!Gr.index||Nr.schema.primKey.keyPath&&Gr.index===Nr.schema.primKey.name,range:Rr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Cr,or:Gr.or,valueMapper:pi!==ie?pi:null}})),this.Table=(ar=this,Do(Gi.prototype,function(or,Rr,Cr){this.db=ar,this._tx=Cr,this.name=or,this.schema=Rr,this.hook=ar._allTables[or]?ar._allTables[or].hook:vo(null,{creating:[se,xe],reading:[D,ie],updating:[ct,xe],deleting:[Le,xe]})})),this.Transaction=function(ar){return Do(pa.prototype,function(or,Rr,Cr,Gr,Nr){this.db=ar,this.mode=or,this.storeNames=Rr,this.schema=Cr,this.chromeTransactionDurability=Gr,this.idbtrans=null,this.on=vo(this,"complete","error","abort"),this.parent=Nr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Qe((pi,Ni)=>{this._resolve=pi,this._reject=Ni}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},pi=>{var Ni=this.active;return this.active=!1,this.on.error.fire(pi),this.parent?this.parent._reject(pi):Ni&&this.idbtrans&&this.idbtrans.abort(),Ri(pi)})})}(this),this.Version=function(ar){return Do(hr.prototype,function(or){this.db=ar,this._cfg={version:or,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(ar){return Do(Ls.prototype,function(or,Rr,Cr){this.db=ar,this._ctx={table:or,index:":id"===Rr?null:Rr,or:Cr};const Gr=ar._deps.indexedDB;if(!Gr)throw new j.MissingAPI;this._cmp=this._ascending=Gr.cmp.bind(Gr),this._descending=(Nr,pi)=>Gr.cmp(pi,Nr),this._max=(Nr,pi)=>Gr.cmp(Nr,pi)>0?Nr:pi,this._min=(Nr,pi)=>Gr.cmp(Nr,pi)<0?Nr:pi,this._IDBKeyRange=ar._deps.IDBKeyRange})}(this),this.on("versionchange",ar=>{ar.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",ar=>{!ar.newVersion||ar.newVersion<ar.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${ar.oldVersion/10}`)}),this._maxKey=Ts(Ue.IDBKeyRange),this._createTransaction=(ar,or,Rr,Cr)=>new this.Transaction(ar,or,Rr,this._options.chromeTransactionDurability,Cr),this._fireOnBlocked=ar=>{this.on("blocked").fire(ar),qi.filter(or=>or.name===this.name&&or!==this&&!or._state.vcFired).map(or=>or.on("versionchange").fire(ar))},this.use(nt),this.use(an),this.use(wn),this.use(de),this.vip=Object.create(this,{_vip:{value:!0}}),Rt.forEach(ar=>ar(this))}version(oe){if(isNaN(oe)||oe<.1)throw new j.Type("Given version is not a positive number");if(oe=Math.round(10*oe)/10,this.idbdb||this._state.isBeingOpened)throw new j.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,oe);const Ue=this._versions;var gt=Ue.filter(Rt=>Rt._cfg.version===oe)[0];return gt||(gt=new this.Version(oe),Ue.push(gt),Ue.sort(gn),gt.stores({}),this._state.autoSchema=!1,gt)}_whenReady(oe){return this.idbdb&&(this._state.openComplete||Mt.letThrough||this._vip)?oe():new Qe((Ue,gt)=>{if(this._state.openComplete)return gt(new j.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void gt(new j.DatabaseClosed);this.open().catch(xe)}this._state.dbReadyPromise.then(Ue,gt)}).then(oe)}use({stack:oe,create:Ue,level:gt,name:Rt}){Rt&&this.unuse({stack:oe,name:Rt});const dn=this._middlewares[oe]||(this._middlewares[oe]=[]);return dn.push({stack:oe,create:Ue,level:gt??10,name:Rt}),dn.sort((Rn,ar)=>Rn.level-ar.level),this}unuse({stack:oe,name:Ue,create:gt}){return oe&&this._middlewares[oe]&&(this._middlewares[oe]=this._middlewares[oe].filter(Rt=>gt?Rt.create!==gt:!!Ue&&Rt.name!==Ue)),this}open(){return function qr(pe){const oe=pe._state,{indexedDB:Ue}=pe._deps;if(oe.isBeingOpened||pe.idbdb)return oe.dbReadyPromise.then(()=>oe.dbOpenError?Ri(oe.dbOpenError):pe);ye&&(oe.openCanceller._stackHolder=qt()),oe.isBeingOpened=!0,oe.dbOpenError=null,oe.openComplete=!1;const gt=oe.openCanceller;function Rt(){if(oe.openCanceller!==gt)throw new j.DatabaseClosed("db.open() was cancelled")}let dn=oe.dbReadyResolve,Rn=null,ar=!1;const or=()=>new Qe((Rr,Cr)=>{if(Rt(),!Ue)throw new j.MissingAPI;const Gr=pe.name,Nr=oe.autoSchema?Ue.open(Gr):Ue.open(Gr,Math.round(10*pe.verno));if(!Nr)throw new j.MissingAPI;Nr.onerror=ys(Cr),Nr.onblocked=wi(pe._fireOnBlocked),Nr.onupgradeneeded=wi(pi=>{if(Rn=Nr.transaction,oe.autoSchema&&!pe._options.allowEmptyDB){Nr.onerror=Os,Rn.abort(),Nr.result.close();const Un=Ue.deleteDatabase(Gr);Un.onsuccess=Un.onerror=wi(()=>{Cr(new j.NoSuchDatabase(`Database ${Gr} doesnt exist`))})}else{Rn.onerror=ys(Cr);var Ni=pi.oldVersion>Math.pow(2,62)?0:pi.oldVersion;ar=Ni<1,pe._novip.idbdb=Nr.result,function jt(pe,oe,Ue,gt){const Rt=pe._dbSchema,dn=pe._createTransaction("readwrite",pe._storeNames,Rt);dn.create(Ue),dn._completion.catch(gt);const Rn=dn._reject.bind(dn),ar=Mt.transless||Mt;Io(()=>{Mt.trans=dn,Mt.transless=ar,0===oe?(s(Rt).forEach(or=>{je(Ue,or,Rt[or].primKey,Rt[or].indexes)}),Ir(pe,Ue),Qe.follow(()=>pe.on.populate.fire(dn)).catch(Rn)):function({_novip:or},Rr,Cr,Gr){const Nr=[],pi=or._versions;let Ni=or._dbSchema=Qt(0,or.idbdb,Gr),Un=!1;return pi.filter(er=>er._cfg.version>=Rr).forEach(er=>{Nr.push(()=>{const zr=Ni,si=er._cfg.dbschema;qn(or,zr,Gr),qn(or,si,Gr),Ni=or._dbSchema=si;const Vi=cn(zr,si);Vi.add.forEach(Oi=>{je(Gr,Oi[0],Oi[1].primKey,Oi[1].indexes)}),Vi.change.forEach(Oi=>{if(Oi.recreate)throw new j.Upgrade("Not yet support for changing primary key");{const Ko=Gr.objectStore(Oi.name);Oi.add.forEach(Ti=>It(Ko,Ti)),Oi.change.forEach(Ti=>{Ko.deleteIndex(Ti.name),It(Ko,Ti)}),Oi.del.forEach(Ti=>Ko.deleteIndex(Ti))}});const ki=er._cfg.contentUpgrade;if(ki&&er._cfg.version>Rr){Ir(or,Gr),Cr._memoizedTables={},Un=!0;let Oi=z(si);Vi.del.forEach(ws=>{Oi[ws]=zr[ws]}),tt(or,[or.Transaction.prototype]),Ai(or,[or.Transaction.prototype],s(Oi),Oi),Cr.schema=Oi;const Ko=fe(ki);let Ti;Ko&&Fe();const $s=Qe.follow(()=>{if(Ti=ki(Cr),Ti&&Ko){var ws=_t.bind(null,null);Ti.then(ws,ws)}});return Ti&&"function"==typeof Ti.then?Qe.resolve(Ti):$s.then(()=>Ti)}}),Nr.push(zr=>{var si,Vi;(!Un||!$n)&&(si=er._cfg.dbschema,[].slice.call((Vi=zr).db.objectStoreNames).forEach(ki=>null==si[ki]&&Vi.db.deleteObjectStore(ki))),tt(or,[or.Transaction.prototype]),Ai(or,[or.Transaction.prototype],or._storeNames,or._dbSchema),Cr.schema=or._dbSchema})}),function Sn(){return Nr.length?Qe.resolve(Nr.shift()(Cr.idbtrans)).then(Sn):Qe.resolve()}().then(()=>{var er,zr;zr=Gr,s(er=Ni).forEach(si=>{zr.db.objectStoreNames.contains(si)||je(zr,si,er[si].primKey,er[si].indexes)})})}(pe,oe,dn,Ue).catch(Rn)})}(pe,Ni/10,Rn,Cr)}},Cr),Nr.onsuccess=wi(()=>{Rn=null;const pi=pe._novip.idbdb=Nr.result,Ni=L(pi.objectStoreNames);if(Ni.length>0)try{const pr=pi.transaction(1===(Un=Ni).length?Un[0]:Un,"readonly");oe.autoSchema?function({_novip:Sn},er,zr){Sn.verno=er.version/10;const si=Sn._dbSchema=Qt(0,er,zr);Sn._storeNames=L(er.objectStoreNames,0),Ai(Sn,[Sn._allTables],s(si),si)}(pe,pi,pr):(qn(pe,pe._dbSchema,pr),function(Sn,er){const zr=cn(Qt(0,Sn.idbdb,er),Sn._dbSchema);return!(zr.add.length||zr.change.some(si=>si.add.length||si.change.length))}(pe,pr)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ir(pe,pr)}catch{}var Un;qi.push(pe),pi.onversionchange=wi(pr=>{oe.vcFired=!0,pe.on("versionchange").fire(pr)}),pi.onclose=wi(pr=>{pe.on("close").fire(pr)}),ar&&function({indexedDB:pr,IDBKeyRange:Sn},er){!Hr(pr)&&er!==xt&&yr(pr,Sn).put({name:er}).catch(xe)}(pe._deps,Gr),Rr()},Cr)}).catch(Rr=>Rr&&"UnknownError"===Rr.name&&oe.PR1398_maxLoop>0?(oe.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),or()):Qe.reject(Rr));return Qe.race([gt,(typeof navigator>"u"?Qe.resolve():oi()).then(or)]).then(()=>(Rt(),oe.onReadyBeingFired=[],Qe.resolve(jr(()=>pe.on.ready.fire(pe.vip))).then(function Rr(){if(oe.onReadyBeingFired.length>0){let Cr=oe.onReadyBeingFired.reduce(en,xe);return oe.onReadyBeingFired=[],Qe.resolve(jr(()=>Cr(pe.vip))).then(Rr)}}))).finally(()=>{oe.onReadyBeingFired=null,oe.isBeingOpened=!1}).then(()=>pe).catch(Rr=>{oe.dbOpenError=Rr;try{Rn&&Rn.abort()}catch{}return gt===oe.openCanceller&&pe._close(),Ri(Rr)}).finally(()=>{oe.openComplete=!0,dn()})}(this)}_close(){const oe=this._state,Ue=qi.indexOf(this);if(Ue>=0&&qi.splice(Ue,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}oe.dbReadyPromise=new Qe(gt=>{oe.dbReadyResolve=gt}),oe.openCanceller=new Qe((gt,Rt)=>{oe.cancelOpen=Rt})}close(){this._close();const oe=this._state;this._options.autoOpen=!1,oe.dbOpenError=new j.DatabaseClosed,oe.isBeingOpened&&oe.cancelOpen(oe.dbOpenError)}delete(){const oe=arguments.length>0,Ue=this._state;return new Qe((gt,Rt)=>{const dn=()=>{this.close();var Rn=this._deps.indexedDB.deleteDatabase(this.name);Rn.onsuccess=wi(()=>{(function({indexedDB:ar,IDBKeyRange:or},Rr){!Hr(ar)&&Rr!==xt&&yr(ar,or).delete(Rr).catch(xe)})(this._deps,this.name),gt()}),Rn.onerror=ys(Rt),Rn.onblocked=this._fireOnBlocked};if(oe)throw new j.InvalidArgument("Arguments not allowed in db.delete()");Ue.isBeingOpened?Ue.dbReadyPromise.then(dn):dn()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const oe=this._state.dbOpenError;return oe&&"DatabaseClosed"===oe.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return s(this._allTables).map(oe=>this._allTables[oe])}transaction(){const oe=co.apply(this,arguments);return this._transaction.apply(this,oe)}_transaction(oe,Ue,gt){let Rt=Mt.trans;Rt&&Rt.db===this&&-1===oe.indexOf("!")||(Rt=null);const dn=-1!==oe.indexOf("?");let Rn,ar;oe=oe.replace("!","").replace("?","");try{if(ar=Ue.map(Rr=>{var Cr=Rr instanceof this.Table?Rr.name:Rr;if("string"!=typeof Cr)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Cr}),"r"==oe||oe===rn)Rn=rn;else{if("rw"!=oe&&oe!=Hn)throw new j.InvalidArgument("Invalid transaction mode: "+oe);Rn=Hn}if(Rt){if(Rt.mode===rn&&Rn===Hn){if(!dn)throw new j.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Rt=null}Rt&&ar.forEach(Rr=>{if(Rt&&-1===Rt.storeNames.indexOf(Rr)){if(!dn)throw new j.SubTransaction("Table "+Rr+" not included in parent transaction.");Rt=null}}),dn&&Rt&&!Rt.active&&(Rt=null)}}catch(Rr){return Rt?Rt._promise(null,(Cr,Gr)=>{Gr(Rr)}):Ri(Rr)}const or=Ro.bind(null,this,Rn,ar,Rt,gt);return Rt?Rt._promise(Rn,or,"lock"):Mt.trans?et(Mt.transless,()=>this._whenReady(or)):this._whenReady(or)}table(oe){if(!d(this._allTables,oe))throw new j.InvalidTable(`Table ${oe} does not exist`);return this._allTables[oe]}}const fr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Ur{constructor(oe){this._subscribe=oe}subscribe(oe,Ue,gt){return this._subscribe(oe&&"function"!=typeof oe?oe:{next:oe,error:Ue,complete:gt})}[fr](){return this}}function ni(pe,oe){return s(oe).forEach(Ue=>{ht(pe[Ue]||(pe[Ue]=new on),oe[Ue])}),pe}let Br;try{Br={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{Br={indexedDB:null,IDBKeyRange:null}}const hi=Wn;function zi(pe){let oe=Ii;try{Ii=!0,Fo.storagemutated.fire(pe)}finally{Ii=oe}}F(hi,{...I,delete:pe=>new hi(pe,{addons:[]}).delete(),exists:pe=>new hi(pe,{addons:[]}).open().then(oe=>(oe.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(pe){try{return function({indexedDB:oe,IDBKeyRange:Ue}){return Hr(oe)?Promise.resolve(oe.databases()).then(gt=>gt.map(Rt=>Rt.name).filter(Rt=>Rt!==xt)):yr(oe,Ue).toCollection().primaryKeys()}(hi.dependencies).then(pe)}catch{return Ri(new j.MissingAPI)}},defineClass:()=>function(pe){S(this,pe)},ignoreTransaction:pe=>Mt.trans?et(Mt.transless,pe):pe(),vip:jr,async:function(pe){return function(){try{var oe=Ui(pe.apply(this,arguments));return oe&&"function"==typeof oe.then?oe:Qe.resolve(oe)}catch(Ue){return Ri(Ue)}}},spawn:function(pe,oe,Ue){try{var gt=Ui(pe.apply(Ue,oe||[]));return gt&&"function"==typeof gt.then?gt:Qe.resolve(gt)}catch(Rt){return Ri(Rt)}},currentTransaction:{get:()=>Mt.trans||null},waitFor:function(pe,oe){const Ue=Qe.resolve("function"==typeof pe?hi.ignoreTransaction(pe):pe).timeout(oe||6e4);return Mt.trans?Mt.trans.waitFor(Ue):Ue},Promise:Qe,debug:{get:()=>ye,set:pe=>{Se(pe,"dexie"===pe?()=>!0:Ge)}},derive:N,extend:S,props:F,override:ae,Events:vo,on:Fo,liveQuery:function ri(pe){let oe,Ue=!1;const gt=new Ur(Rt=>{const dn=fe(pe);let Rn=!1,ar={},or={};const Rr={get closed(){return Rn},unsubscribe:()=>{Rn=!0,Fo.storagemutated.unsubscribe(pi)}};Rt.start&&Rt.start(Rr);let Cr=!1,Gr=!1;function Nr(){return s(or).some(Un=>ar[Un]&&function $(pe,oe){const Ue=ge(oe);let gt=Ue.next();if(gt.done)return!1;let Rt=gt.value;const dn=ge(pe);let Rn=dn.next(Rt.from),ar=Rn.value;for(;!gt.done&&!Rn.done;){if(ns(ar.from,Rt.to)<=0&&ns(ar.to,Rt.from)>=0)return!0;ns(Rt.from,ar.from)<0?Rt=(gt=Ue.next(ar.from)).value:ar=(Rn=dn.next(Rt.from)).value}return!1}(ar[Un],or[Un]))}const pi=Un=>{ni(ar,Un),Nr()&&Ni()},Ni=()=>{if(Cr||Rn)return;ar={};const Un={},pr=function(Sn){dn&&Fe();const er=()=>Io(pe,{subscr:Sn,trans:null}),zr=Mt.trans?et(Mt.transless,er):er();return dn&&zr.then(_t,_t),zr}(Un);Gr||(Fo(qo,pi),Gr=!0),Cr=!0,Promise.resolve(pr).then(Sn=>{Ue=!0,oe=Sn,Cr=!1,Rn||(Nr()?Ni():(ar={},or=Un,Rt.next&&Rt.next(Sn)))},Sn=>{Cr=!1,Ue=!1,Rt.error&&Rt.error(Sn),Rr.unsubscribe()})};return Ni(),Rr});return gt.hasValue=()=>Ue,gt.getValue=()=>oe,gt},extendObservabilitySet:ni,getByKeyPath:q,setByKeyPath:le,delByKeyPath:function(pe,oe){"string"==typeof oe?le(pe,oe,void 0):"length"in oe&&[].map.call(oe,function(Ue){le(pe,Ue,void 0)})},shallowClone:z,deepClone:Ie,getObjectDiff:$e,cmp:ns,asap:Z,minKey:Yi,addons:[],connections:qi,errnames:T,dependencies:Br,semVer:"3.2.7",version:"3.2.7".split(".").map(pe=>parseInt(pe)).reduce((pe,oe,Ue)=>pe+oe/Math.pow(10,2*Ue))}),hi.maxKey=Ts(hi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Fo(qo,pe=>{if(!Ii){let oe;jo?(oe=document.createEvent("CustomEvent"),oe.initCustomEvent(Hs,!0,!0,pe)):oe=new CustomEvent(Hs,{detail:pe}),Ii=!0,dispatchEvent(oe),Ii=!1}}),addEventListener(Hs,({detail:pe})=>{Ii||zi(pe)}));let Ii=!1;if(typeof BroadcastChannel<"u"){const pe=new BroadcastChannel(Hs);"function"==typeof pe.unref&&pe.unref(),Fo(qo,oe=>{Ii||pe.postMessage(oe)}),pe.onmessage=oe=>{oe.data&&zi(oe.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Fo(qo,oe=>{try{Ii||(typeof localStorage<"u"&&localStorage.setItem(Hs,JSON.stringify({trig:Math.random(),changedParts:oe})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(Ue=>Ue.postMessage({type:Hs,changedParts:oe})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",oe=>{if(oe.key===Hs){const Ue=JSON.parse(oe.newValue);Ue&&zi(Ue.changedParts)}});const pe=self.document&&navigator.serviceWorker;pe&&pe.addEventListener("message",function({data:oe}){oe&&oe.type===Hs&&zi(oe.changedParts)})}Qe.rejectionMapper=function(pe,oe){if(!pe||pe instanceof wt||pe instanceof TypeError||pe instanceof SyntaxError||!pe.name||!h[pe.name])return pe;var Ue=new h[pe.name](oe||pe.message,pe);return"stack"in pe&&G(Ue,"stack",{get:function(){return this.inner.stack}}),Ue},Se(ye,Ge)},81025:(ln,qe,w)=>{"use strict";w.d(qe,{$i:()=>se,IP:()=>h,YT:()=>j,ht:()=>D,jM:()=>xe,lE:()=>s,vI:()=>ie});var r=Symbol.for("immer-nothing"),s=Symbol.for("immer-draftable"),v=Symbol.for("immer-state");function M(Oe,...Pt){throw new Error(`[Immer] minified error nr: ${Oe}. Full error at: https://bit.ly/3cXEKWf`)}var C=Object.getPrototypeOf;function d(Oe){return!!Oe&&!!Oe[v]}function F(Oe){return!!Oe&&(G(Oe)||Array.isArray(Oe)||!!Oe[s]||!!Oe.constructor?.[s]||Z(Oe)||ne(Oe))}var P=Object.prototype.constructor.toString();function G(Oe){if(!Oe||"object"!=typeof Oe)return!1;const Pt=C(Oe);if(null===Pt)return!0;const it=Object.hasOwnProperty.call(Pt,"constructor")&&Pt.constructor;return it===Object||"function"==typeof it&&Function.toString.call(it)===P}function x(Oe,Pt){0===m(Oe)?Reflect.ownKeys(Oe).forEach(it=>{Pt(it,Oe[it],Oe)}):Oe.forEach((it,Bt)=>Pt(Bt,it,Oe))}function m(Oe){const Pt=Oe[v];return Pt?Pt.type_:Array.isArray(Oe)?1:Z(Oe)?2:ne(Oe)?3:0}function E(Oe,Pt){return 2===m(Oe)?Oe.has(Pt):Object.prototype.hasOwnProperty.call(Oe,Pt)}function L(Oe,Pt){return 2===m(Oe)?Oe.get(Pt):Oe[Pt]}function ae(Oe,Pt,it){const Bt=m(Oe);2===Bt?Oe.set(Pt,it):3===Bt?Oe.add(it):Oe[Pt]=it}function Z(Oe){return Oe instanceof Map}function ne(Oe){return Oe instanceof Set}function q(Oe){return Oe.copy_||Oe.base_}function le(Oe,Pt){if(Z(Oe))return new Map(Oe);if(ne(Oe))return new Set(Oe);if(Array.isArray(Oe))return Array.prototype.slice.call(Oe);const it=G(Oe);if(!0===Pt||"class_only"===Pt&&!it){const Bt=Object.getOwnPropertyDescriptors(Oe);delete Bt[v];let pn=Reflect.ownKeys(Bt);for(let st=0;st<pn.length;st++){const mt=pn[st],Ut=Bt[mt];!1===Ut.writable&&(Ut.writable=!0,Ut.configurable=!0),(Ut.get||Ut.set)&&(Bt[mt]={configurable:!0,writable:!0,enumerable:Ut.enumerable,value:Oe[mt]})}return Object.create(C(Oe),Bt)}{const Bt=C(Oe);if(null!==Bt&&it)return{...Oe};const pn=Object.create(Bt);return Object.assign(pn,Oe)}}function z(Oe,Pt=!1){return he(Oe)||d(Oe)||!F(Oe)||(m(Oe)>1&&(Oe.set=Oe.add=Oe.clear=Oe.delete=J),Object.freeze(Oe),Pt&&Object.entries(Oe).forEach(([it,Bt])=>z(Bt,!0))),Oe}function J(){M(2)}function he(Oe){return Object.isFrozen(Oe)}var Ie,we={};function k(Oe){const Pt=we[Oe];return Pt||M(0),Pt}function ue(Oe,Pt){we[Oe]||(we[Oe]=Pt)}function ke(){return Ie}function Ce(Oe,Pt){Pt&&(k("Patches"),Oe.patches_=[],Oe.inversePatches_=[],Oe.patchListener_=Pt)}function Nt(Oe){Kt(Oe),Oe.drafts_.forEach(ee),Oe.drafts_=null}function Kt(Oe){Oe===Ie&&(Ie=Oe.parent_)}function me(Oe){return Ie=function Ze(Oe,Pt){return{drafts_:[],parent_:Oe,immer_:Pt,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(Ie,Oe)}function ee(Oe){const Pt=Oe[v];0===Pt.type_||1===Pt.type_?Pt.revoke_():Pt.revoked_=!0}function fe(Oe,Pt){Pt.unfinalizedDrafts_=Pt.drafts_.length;const it=Pt.drafts_[0];return void 0!==Oe&&Oe!==it?(it[v].modified_&&(Nt(Pt),M(4)),F(Oe)&&(Oe=ye(Pt,Oe),Pt.parent_||Be(Pt,Oe)),Pt.patches_&&k("Patches").generateReplacementPatches_(it[v].base_,Oe,Pt.patches_,Pt.inversePatches_)):Oe=ye(Pt,it,[]),Nt(Pt),Pt.patches_&&Pt.patchListener_(Pt.patches_,Pt.inversePatches_),Oe!==r?Oe:void 0}function ye(Oe,Pt,it){if(he(Pt))return Pt;const Bt=Pt[v];if(!Bt)return x(Pt,(pn,st)=>Se(Oe,Bt,Pt,pn,st,it)),Pt;if(Bt.scope_!==Oe)return Pt;if(!Bt.modified_)return Be(Oe,Bt.base_,!0),Bt.base_;if(!Bt.finalized_){Bt.finalized_=!0,Bt.scope_.unfinalizedDrafts_--;const pn=Bt.copy_;let st=pn,mt=!1;3===Bt.type_&&(st=new Set(pn),pn.clear(),mt=!0),x(st,(Ut,Ne)=>Se(Oe,Bt,pn,Ut,Ne,it,mt)),Be(Oe,pn,!1),it&&Oe.patches_&&k("Patches").generatePatches_(Bt,it,Oe.patches_,Oe.inversePatches_)}return Bt.copy_}function Se(Oe,Pt,it,Bt,pn,st,mt){if(d(pn)){const Ne=ye(Oe,pn,st&&Pt&&3!==Pt.type_&&!E(Pt.assigned_,Bt)?st.concat(Bt):void 0);if(ae(it,Bt,Ne),!d(Ne))return;Oe.canAutoFreeze_=!1}else mt&&it.add(pn);if(F(pn)&&!he(pn)){if(!Oe.immer_.autoFreeze_&&Oe.unfinalizedDrafts_<1)return;ye(Oe,pn),(!Pt||!Pt.scope_.parent_)&&"symbol"!=typeof Bt&&Object.prototype.propertyIsEnumerable.call(it,Bt)&&Be(Oe,pn)}}function Be(Oe,Pt,it=!1){!Oe.parent_&&Oe.immer_.autoFreeze_&&Oe.canAutoFreeze_&&z(Pt,it)}var qt={get(Oe,Pt){if(Pt===v)return Oe;const it=q(Oe);if(!E(it,Pt))return function We(Oe,Pt,it){const Bt=Ve(Pt,it);return Bt?"value"in Bt?Bt.value:Bt.get?.call(Oe.draft_):void 0}(Oe,it,Pt);const Bt=it[Pt];return Oe.finalized_||!F(Bt)?Bt:Bt===Tt(Oe.base_,Pt)?(Y(Oe),Oe.copy_[Pt]=R(Bt,Oe)):Bt},has:(Oe,Pt)=>Pt in q(Oe),ownKeys:Oe=>Reflect.ownKeys(q(Oe)),set(Oe,Pt,it){const Bt=Ve(q(Oe),Pt);if(Bt?.set)return Bt.set.call(Oe.draft_,it),!0;if(!Oe.modified_){const pn=Tt(q(Oe),Pt),st=pn?.[v];if(st&&st.base_===it)return Oe.copy_[Pt]=it,Oe.assigned_[Pt]=!1,!0;if(function U(Oe,Pt){return Oe===Pt?0!==Oe||1/Oe==1/Pt:Oe!=Oe&&Pt!=Pt}(it,pn)&&(void 0!==it||E(Oe.base_,Pt)))return!0;Y(Oe),wt(Oe)}return Oe.copy_[Pt]===it&&(void 0!==it||Pt in Oe.copy_)||Number.isNaN(it)&&Number.isNaN(Oe.copy_[Pt])||(Oe.copy_[Pt]=it,Oe.assigned_[Pt]=!0),!0},deleteProperty:(Oe,Pt)=>(void 0!==Tt(Oe.base_,Pt)||Pt in Oe.base_?(Oe.assigned_[Pt]=!1,Y(Oe),wt(Oe)):delete Oe.assigned_[Pt],Oe.copy_&&delete Oe.copy_[Pt],!0),getOwnPropertyDescriptor(Oe,Pt){const it=q(Oe),Bt=Reflect.getOwnPropertyDescriptor(it,Pt);return Bt&&{writable:!0,configurable:1!==Oe.type_||"length"!==Pt,enumerable:Bt.enumerable,value:it[Pt]}},defineProperty(){M(11)},getPrototypeOf:Oe=>C(Oe.base_),setPrototypeOf(){M(12)}},Ln={};function Tt(Oe,Pt){const it=Oe[v];return(it?q(it):Oe)[Pt]}function Ve(Oe,Pt){if(!(Pt in Oe))return;let it=C(Oe);for(;it;){const Bt=Object.getOwnPropertyDescriptor(it,Pt);if(Bt)return Bt;it=C(it)}}function wt(Oe){Oe.modified_||(Oe.modified_=!0,Oe.parent_&&wt(Oe.parent_))}function Y(Oe){Oe.copy_||(Oe.copy_=le(Oe.base_,Oe.scope_.immer_.useStrictShallowCopy_))}function R(Oe,Pt){const it=Z(Oe)?k("MapSet").proxyMap_(Oe,Pt):ne(Oe)?k("MapSet").proxySet_(Oe,Pt):function yt(Oe,Pt){const it=Array.isArray(Oe),Bt={type_:it?1:0,scope_:Pt?Pt.scope_:ke(),modified_:!1,finalized_:!1,assigned_:{},parent_:Pt,base_:Oe,draft_:null,copy_:null,revoke_:null,isManual_:!1};let pn=Bt,st=qt;it&&(pn=[Bt],st=Ln);const{revoke:mt,proxy:Ut}=Proxy.revocable(pn,st);return Bt.draft_=Ut,Bt.revoke_=mt,Ut}(Oe,Pt);return(Pt?Pt.scope_:ke()).drafts_.push(it),it}function V(Oe){if(!F(Oe)||he(Oe))return Oe;const Pt=Oe[v];let it;if(Pt){if(!Pt.modified_)return Pt.base_;Pt.finalized_=!0,it=le(Oe,Pt.scope_.immer_.useStrictShallowCopy_)}else it=le(Oe,!0);return x(it,(Bt,pn)=>{ae(it,Bt,V(pn))}),Pt&&(Pt.finalized_=!1),it}function j(){const Pt="replace",it="add",Bt="remove";function Zt(Zn){if(!F(Zn))return Zn;if(Array.isArray(Zn))return Zn.map(Zt);if(Z(Zn))return new Map(Array.from(Zn.entries()).map(([Mr,yn])=>[Mr,Zt(yn)]));if(ne(Zn))return new Set(Array.from(Zn).map(Zt));const br=Object.create(C(Zn));for(const Mr in Zn)br[Mr]=Zt(Zn[Mr]);return E(Zn,s)&&(br[s]=Zn[s]),br}function Cn(Zn){return d(Zn)?Zt(Zn):Zn}ue("Patches",{applyPatches_:function zt(Zn,br){return br.forEach(Mr=>{const{path:yn,op:St}=Mr;let kt=Zn;for(let Yt=0;Yt<yn.length-1;Yt++){const Qe=m(kt);let Lt=yn[Yt];"string"!=typeof Lt&&"number"!=typeof Lt&&(Lt=""+Lt),(0===Qe||1===Qe)&&("__proto__"===Lt||"constructor"===Lt)&&M(19),"function"==typeof kt&&"prototype"===Lt&&M(19),kt=L(kt,Lt),"object"!=typeof kt&&M(18,yn.join("/"))}const Mt=m(kt),bt=Zt(Mr.value),sn=yn[yn.length-1];switch(St){case Pt:switch(Mt){case 2:return kt.set(sn,bt);case 3:M(16);default:return kt[sn]=bt}case it:switch(Mt){case 1:return"-"===sn?kt.push(bt):kt.splice(sn,0,bt);case 2:return kt.set(sn,bt);case 3:return kt.add(bt);default:return kt[sn]=bt}case Bt:switch(Mt){case 1:return kt.splice(sn,1);case 2:return kt.delete(sn);case 3:return kt.delete(Mr.value);default:return delete kt[sn]}default:M(17)}}),Zn},generatePatches_:function pn(Zn,br,Mr,yn){switch(Zn.type_){case 0:case 2:return function mt(Zn,br,Mr,yn){const{base_:St,copy_:kt}=Zn;x(Zn.assigned_,(Mt,bt)=>{const sn=L(St,Mt),Yt=L(kt,Mt),Qe=bt?E(St,Mt)?Pt:it:Bt;if(sn===Yt&&Qe===Pt)return;const Lt=br.concat(Mt);Mr.push(Qe===Bt?{op:Qe,path:Lt}:{op:Qe,path:Lt,value:Yt}),yn.push(Qe===it?{op:Bt,path:Lt}:Qe===Bt?{op:it,path:Lt,value:Cn(sn)}:{op:Pt,path:Lt,value:Cn(sn)})})}(Zn,br,Mr,yn);case 1:return function st(Zn,br,Mr,yn){let{base_:St,assigned_:kt}=Zn,Mt=Zn.copy_;Mt.length<St.length&&([St,Mt]=[Mt,St],[Mr,yn]=[yn,Mr]);for(let bt=0;bt<St.length;bt++)if(kt[bt]&&Mt[bt]!==St[bt]){const sn=br.concat([bt]);Mr.push({op:Pt,path:sn,value:Cn(Mt[bt])}),yn.push({op:Pt,path:sn,value:Cn(St[bt])})}for(let bt=St.length;bt<Mt.length;bt++){const sn=br.concat([bt]);Mr.push({op:it,path:sn,value:Cn(Mt[bt])})}for(let bt=Mt.length-1;St.length<=bt;--bt){const sn=br.concat([bt]);yn.push({op:Bt,path:sn})}}(Zn,br,Mr,yn);case 3:return function Ut(Zn,br,Mr,yn){let{base_:St,copy_:kt}=Zn,Mt=0;St.forEach(bt=>{if(!kt.has(bt)){const sn=br.concat([Mt]);Mr.push({op:Bt,path:sn,value:bt}),yn.unshift({op:it,path:sn,value:bt})}Mt++}),Mt=0,kt.forEach(bt=>{if(!St.has(bt)){const sn=br.concat([Mt]);Mr.push({op:it,path:sn,value:bt}),yn.unshift({op:Bt,path:sn,value:bt})}Mt++})}(Zn,br,Mr,yn)}},generateReplacementPatches_:function Ne(Zn,br,Mr,yn){Mr.push({op:Pt,path:[],value:br===r?void 0:br}),yn.push({op:Pt,path:[],value:Zn})}})}function h(){class Oe extends Map{constructor(Ne,zt){super(),this[v]={type_:2,parent_:zt,scope_:zt?zt.scope_:ke(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:Ne,draft_:this,isManual_:!1,revoked_:!1}}get size(){return q(this[v]).size}has(Ne){return q(this[v]).has(Ne)}set(Ne,zt){const Zt=this[v];return mt(Zt),(!q(Zt).has(Ne)||q(Zt).get(Ne)!==zt)&&(it(Zt),wt(Zt),Zt.assigned_.set(Ne,!0),Zt.copy_.set(Ne,zt),Zt.assigned_.set(Ne,!0)),this}delete(Ne){if(!this.has(Ne))return!1;const zt=this[v];return mt(zt),it(zt),wt(zt),zt.base_.has(Ne)?zt.assigned_.set(Ne,!1):zt.assigned_.delete(Ne),zt.copy_.delete(Ne),!0}clear(){const Ne=this[v];mt(Ne),q(Ne).size&&(it(Ne),wt(Ne),Ne.assigned_=new Map,x(Ne.base_,zt=>{Ne.assigned_.set(zt,!1)}),Ne.copy_.clear())}forEach(Ne,zt){q(this[v]).forEach((Cn,Zn,br)=>{Ne.call(zt,this.get(Zn),Zn,this)})}get(Ne){const zt=this[v];mt(zt);const Zt=q(zt).get(Ne);if(zt.finalized_||!F(Zt)||Zt!==zt.base_.get(Ne))return Zt;const Cn=R(Zt,zt);return it(zt),zt.copy_.set(Ne,Cn),Cn}keys(){return q(this[v]).keys()}values(){const Ne=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const zt=Ne.next();return zt.done?zt:{done:!1,value:this.get(zt.value)}}}}entries(){const Ne=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const zt=Ne.next();if(zt.done)return zt;const Zt=this.get(zt.value);return{done:!1,value:[zt.value,Zt]}}}}[Symbol.iterator](){return this.entries()}}function it(Ut){Ut.copy_||(Ut.assigned_=new Map,Ut.copy_=new Map(Ut.base_))}class Bt extends Set{constructor(Ne,zt){super(),this[v]={type_:3,parent_:zt,scope_:zt?zt.scope_:ke(),modified_:!1,finalized_:!1,copy_:void 0,base_:Ne,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return q(this[v]).size}has(Ne){const zt=this[v];return mt(zt),zt.copy_?!!(zt.copy_.has(Ne)||zt.drafts_.has(Ne)&&zt.copy_.has(zt.drafts_.get(Ne))):zt.base_.has(Ne)}add(Ne){const zt=this[v];return mt(zt),this.has(Ne)||(st(zt),wt(zt),zt.copy_.add(Ne)),this}delete(Ne){if(!this.has(Ne))return!1;const zt=this[v];return mt(zt),st(zt),wt(zt),zt.copy_.delete(Ne)||!!zt.drafts_.has(Ne)&&zt.copy_.delete(zt.drafts_.get(Ne))}clear(){const Ne=this[v];mt(Ne),q(Ne).size&&(st(Ne),wt(Ne),Ne.copy_.clear())}values(){const Ne=this[v];return mt(Ne),st(Ne),Ne.copy_.values()}entries(){const Ne=this[v];return mt(Ne),st(Ne),Ne.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(Ne,zt){const Zt=this.values();let Cn=Zt.next();for(;!Cn.done;)Ne.call(zt,Cn.value,Cn.value,this),Cn=Zt.next()}}function st(Ut){Ut.copy_||(Ut.copy_=new Set,Ut.base_.forEach(Ne=>{if(F(Ne)){const zt=R(Ne,Ut);Ut.drafts_.set(Ne,zt),Ut.copy_.add(zt)}else Ut.copy_.add(Ne)}))}function mt(Ut){Ut.revoked_&&M(3,JSON.stringify(q(Ut)))}ue("MapSet",{proxyMap_:function Pt(Ut,Ne){return new Oe(Ut,Ne)},proxySet_:function pn(Ut,Ne){return new Bt(Ut,Ne)}})}x(qt,(Oe,Pt)=>{Ln[Oe]=function(){return arguments[0]=arguments[0][0],Pt.apply(this,arguments)}}),Ln.deleteProperty=function(Oe,Pt){return Ln.set.call(this,Oe,Pt,void 0)},Ln.set=function(Oe,Pt,it){return qt.set.call(this,Oe[0],Pt,it,Oe[0])};var I=new class{constructor(Oe){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(Pt,it,Bt)=>{if("function"==typeof Pt&&"function"!=typeof it){const st=it;it=Pt;const mt=this;return function(Ne=st,...zt){return mt.produce(Ne,Zt=>it.call(this,Zt,...zt))}}let pn;if("function"!=typeof it&&M(6),void 0!==Bt&&"function"!=typeof Bt&&M(7),F(Pt)){const st=me(this),mt=R(Pt,void 0);let Ut=!0;try{pn=it(mt),Ut=!1}finally{Ut?Nt(st):Kt(st)}return Ce(st,Bt),fe(pn,st)}if(!Pt||"object"!=typeof Pt){if(pn=it(Pt),void 0===pn&&(pn=Pt),pn===r&&(pn=void 0),this.autoFreeze_&&z(pn,!0),Bt){const st=[],mt=[];k("Patches").generateReplacementPatches_(Pt,pn,st,mt),Bt(st,mt)}return pn}M(1)},this.produceWithPatches=(Pt,it)=>{if("function"==typeof Pt)return(mt,...Ut)=>this.produceWithPatches(mt,Ne=>Pt(Ne,...Ut));let Bt,pn;return[this.produce(Pt,it,(mt,Ut)=>{Bt=mt,pn=Ut}),Bt,pn]},"boolean"==typeof Oe?.autoFreeze&&this.setAutoFreeze(Oe.autoFreeze),"boolean"==typeof Oe?.useStrictShallowCopy&&this.setUseStrictShallowCopy(Oe.useStrictShallowCopy)}createDraft(Oe){F(Oe)||M(8),d(Oe)&&(Oe=function T(Oe){return d(Oe)||M(10),V(Oe)}(Oe));const Pt=me(this),it=R(Oe,void 0);return it[v].isManual_=!0,Kt(Pt),it}finishDraft(Oe,Pt){const it=Oe&&Oe[v];(!it||!it.isManual_)&&M(9);const{scope_:Bt}=it;return Ce(Bt,Pt),fe(void 0,Bt)}setAutoFreeze(Oe){this.autoFreeze_=Oe}setUseStrictShallowCopy(Oe){this.useStrictShallowCopy_=Oe}applyPatches(Oe,Pt){let it;for(it=Pt.length-1;it>=0;it--){const pn=Pt[it];if(0===pn.path.length&&"replace"===pn.op){Oe=pn.value;break}}it>-1&&(Pt=Pt.slice(it+1));const Bt=k("Patches").applyPatches_;return d(Oe)?Bt(Oe,Pt):this.produce(Oe,pn=>Bt(pn,Pt))}},xe=I.produce,ie=I.produceWithPatches.bind(I),D=I.setAutoFreeze.bind(I),se=(I.setUseStrictShallowCopy.bind(I),I.applyPatches.bind(I));I.createDraft.bind(I),I.finishDraft.bind(I)},17225:(ln,qe,w)=>{"use strict";function r(s){return{all:s=s||new Map,on:function(v,S){var M=s.get(v);M?M.push(S):s.set(v,[S])},off:function(v,S){var M=s.get(v);M&&(S?M.splice(M.indexOf(S)>>>0,1):s.set(v,[]))},emit:function(v,S){var M=s.get(v);M&&M.slice().map(function(C){C(S)}),(M=s.get("*"))&&M.slice().map(function(C){C(v,S)})}}}w.r(qe),w.d(qe,{default:()=>r})},73845:(ln,qe,w)=>{"use strict";w.d(qe,{Je:()=>Y,Un:()=>b});var r=w(85052),s=w(15877),v=w(2573),S=w(60391),M=w(19827);const C=new v.c(M.l);w(2515);var P=w(14264),G=w(39705),N=w(17365),x=w(11756),m=w(36110),E=w(28577),L=w(32914);w(35160),w(8360),w(15210),w(66196),w(96513),w(20075);var he=w(60177),we=w(54438);function ue(V){return!(!V.parentElement||"picture"!==V.parentElement.nodeName.toLowerCase())}function Ie(V){return"img"===V.nodeName.toLowerCase()}function ke(V,j,h){return Ie(V)?h&&"srcset"in V?V.srcset=j:V.src=j:V.style.backgroundImage=`url('${j}')`,V}function Ze(V){return j=>{const h=j.parentElement.getElementsByTagName("source");for(let I=0;I<h.length;I++){const xe=h[I].getAttribute(V);xe&&("srcset"in h[I]?h[I].srcset=xe:h[I].src=xe)}}}const Ce=Ze("defaultImage"),Nt=Ze("lazyLoad"),Kt=Ze("errorImage");function me(V){return(j,h,I)=>{Ie(j)&&ue(j)&&V(j),h&&ke(j,h,I)}}const ee=me(Ce),fe=me(Nt),ye=me(Kt);class Se{constructor(){this.navigator=function k(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(j){this.platformId=j}onDestroy(j){}onAttributeChange(j){}}function yt(V,j){V.className=V.className.replace(j,"")}function qt(V,j){V.className.includes(j)||(V.className+=` ${j}`)}class Tt extends Se{setup(j){ee(j.element,j.defaultImagePath,j.useSrcset),j.imagePath&&qt(j.element,"ng-lazyloading"),function Ln(V,j){return V.className&&V.className.includes(j)}(j.element,"ng-lazyloaded")&&yt(j.element,"ng-lazyloaded")}finally(j){qt(j.element,"ng-lazyloaded"),yt(j.element,"ng-lazyloading")}loadImage(j){if(this.skipLazyLoading(j))return[j.imagePath];const{element:h,useSrcset:I,imagePath:xe,decode:ie}=j;let D;return Ie(h)&&ue(h)?(D=h.parentNode.cloneNode(!0).getElementsByTagName("img")[0],Nt(D),ke(D,xe,I)):(D=new Image,Ie(h)&&h.referrerPolicy&&(D.referrerPolicy=h.referrerPolicy),Ie(h)&&h.sizes&&(D.sizes=h.sizes),I&&"srcset"in D?D.srcset=xe:D.src=xe),ie&&D.decode?D.decode().then(()=>xe):new Promise((K,se)=>{D.onload=()=>K(xe),D.onerror=()=>se(null)})}setErrorImage(j,h){const{element:I,useSrcset:xe,errorImagePath:ie}=h;ye(I,ie,xe),qt(I,"ng-failed-lazyloaded")}setLoadedImage(j,h){const{element:I,useSrcset:xe}=h;fe(I,j,xe)}isDisabled(){return(0,he.Vy)(this.platformId)&&!this.isBot()}skipLazyLoading(j){return this.isBot(j)}isBot(j){return!!this.navigator?.userAgent&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}class We extends Tt{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new r.B,this.uniqKey={}}getObservable(j){if(this.skipLazyLoading(j))return(0,s.of)({isIntersecting:!0});if(j.customObservable)return j.customObservable;const h=j.scrollContainer||this.uniqKey,I={root:j.scrollContainer||null};j.offset&&(I.rootMargin=`${j.offset}px`);let xe=this.observers.get(h);return xe||(xe=new IntersectionObserver(ie=>this.loadingCallback(ie),I),this.observers.set(h,xe)),xe.observe(j.element),v.c.create(ie=>{const D=this.intersectionSubject.pipe((0,P.p)(K=>K.target===j.element)).subscribe(ie);return()=>{D.unsubscribe(),xe.unobserve(j.element)}})}isVisible(j){return j.isIntersecting}loadingCallback(j){j.forEach(h=>this.intersectionSubject.next(h))}}const wt=new we.nKC("LazyLoadImageHooks");let Y=(()=>{class V{constructor(h,I,xe,ie){this.onStateChange=new we.bkB,this.elementRef=h,this.ngZone=I,this.propertyChanges$=new S.m,this.hooks=ie,this.hooks.setPlatformId(xe),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(h=>console.log(h))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,G.M)(h=>this.hooks.onAttributeChange(h)),(0,G.M)(h=>h.onStateChange.emit({reason:"setup"})),(0,G.M)(h=>this.hooks.setup(h)),(0,L.n)(h=>h.imagePath?this.hooks.getObservable(h).pipe(function Ve(V,j){return h=>h.pipe((0,G.M)(I=>j.onStateChange.emit({reason:"observer-emit",data:I})),(0,P.p)(I=>V.isVisible(I,j)),(0,N.s)(1),(0,G.M)(()=>j.onStateChange.emit({reason:"start-loading"})),(0,x.Z)(()=>V.loadImage(j)),(0,G.M)(()=>j.onStateChange.emit({reason:"mount-image"})),(0,G.M)(I=>V.setLoadedImage(I,j)),(0,G.M)(()=>j.onStateChange.emit({reason:"loading-succeeded"})),(0,m.T)(()=>!0),(0,E.W)(I=>(j.onStateChange.emit({reason:"loading-failed",data:I}),V.setErrorImage(I,j),(0,s.of)(!1))),(0,G.M)(()=>{j.onStateChange.emit({reason:"finally"}),V.finally(j)}))}(this.hooks,h)):function d(){return C}())).subscribe({next:()=>null})})}ngOnDestroy(){this.propertyChanges$.pipe((0,N.s)(1)).subscribe({next:h=>this.hooks.onDestroy(h)}).unsubscribe(),this.loadSubscription?.unsubscribe(),this.debugSubscription?.unsubscribe()}}return V.\u0275fac=function(h){return new(h||V)(we.rXU(we.aKT),we.rXU(we.SKi),we.rXU(we.Agw),we.rXU(wt))},V.\u0275dir=we.FsC({type:V,selectors:[["","lazyLoad",""]],inputs:{lazyImage:[we.Mj6.None,"lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[we.OA$]}),V})(),b=(()=>{class V{}return V.\u0275fac=function(h){return new(h||V)},V.\u0275mod=we.$C({type:V}),V.\u0275inj=we.G2t({providers:[{provide:wt,useClass:We}]}),V})();class R{constructor(j,h,I,xe){this.left=j,this.top=h,this.right=I,this.bottom=xe}static fromElement(j){const{left:h,top:I,right:xe,bottom:ie}=j.getBoundingClientRect();return 0===h&&0===I&&0===xe&&0===ie?R.empty:new R(h,I,xe,ie)}static fromWindow(j){return new R(0,0,j.innerWidth,j.innerHeight)}inflate(j){this.left-=j,this.top-=j,this.right+=j,this.bottom+=j}intersectsWith(j){return j.left<this.right&&this.left<j.right&&j.top<this.bottom&&this.top<j.bottom}getIntersectionWith(j){const h=Math.max(this.left,j.left),I=Math.max(this.top,j.top),xe=Math.min(this.right,j.right),ie=Math.min(this.bottom,j.bottom);return xe>=h&&ie>=I?new R(h,I,xe,ie):R.empty}}R.empty=new R(0,0,0,0)},29242:(ln,qe,w)=>{"use strict";w.d(qe,{J:()=>ne,Uh:()=>F,cm:()=>le,gq:()=>N,ob:()=>z,tA:()=>J});var r=w(54438),s=w(60177),v=w(15877),S=w(29160),M=w(85052),C=w(14264);const d=new r.nKC("recaptcha-language"),F=new r.nKC("recaptcha-base-url"),P=new r.nKC("recaptcha-nonce-tag"),G=new r.nKC("recaptcha-settings"),N=new r.nKC("recaptcha-v3-site-key"),x=new r.nKC("recaptcha-loader-options"),L={loadScript:function m(k,ue,Ie,{url:ke,lang:Ze,nonce:Ce}={}){window.ng2recaptchaloaded=()=>{Ie(grecaptcha)};const Nt=document.createElement("script");Nt.innerHTML="";const{url:Kt,nonce:me}=ue(new URL(ke||"https://www.google.com/recaptcha/api.js"));Kt.searchParams.set("render","explicit"===k?k:k.key),Kt.searchParams.set("onload","ng2recaptchaloaded"),Kt.searchParams.set("trustedtypes","true"),Ze&&Kt.searchParams.set("hl",Ze),Nt.src=Kt.href;const ee=me||Ce;ee&&Nt.setAttribute("nonce",ee),Nt.async=!0,Nt.defer=!0,document.head.appendChild(Nt)},newLoadScript:function E({v3SiteKey:k,onBeforeLoad:ue,onLoaded:Ie}){L.loadScript(k?{key:k}:"explicit",ue,Ie)}};let U=(()=>{var k;class ue{constructor(ke,Ze,Ce,Nt,Kt,me){this.platformId=ke,this.language=Ze,this.baseUrl=Ce,this.nonce=Nt,this.v3SiteKey=Kt,this.options=me;const ee=this.init();this.ready=ee?function ae(k){return k.asObservable().pipe((0,C.p)(ue=>null!==ue))}(ee):(0,v.of)()}init(){if(ue.ready)return ue.ready;if(!(0,s.UE)(this.platformId))return;const ke=new S.t(null);return ue.ready=ke,L.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:Ze=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(Ze);const Ce=new URL(this.baseUrl??Ze);return this.language&&Ce.searchParams.set("hl",this.language),{url:Ce,nonce:this.nonce}},onLoaded:Ze=>{let Ce=Ze;this.options?.onLoaded&&(Ce=this.options.onLoaded(Ze)),ke.next(Ce)}}),ke}}return(k=ue).ready=null,k.\u0275fac=function(ke){return new(ke||k)(r.KVO(r.Agw),r.KVO(d,8),r.KVO(F,8),r.KVO(P,8),r.KVO(N,8),r.KVO(x,8))},k.\u0275prov=r.jDH({token:k,factory:k.\u0275fac}),ue})(),Z=0,ne=(()=>{var k;class ue{constructor(ke,Ze,Ce,Nt){this.elementRef=ke,this.loader=Ze,this.zone=Ce,this.id="ngrecaptcha-"+Z++,this.errorMode="default",this.resolved=new r.bkB,this.error=new r.bkB,this.errored=new r.bkB,Nt&&(this.siteKey=Nt.siteKey,this.theme=Nt.theme,this.type=Nt.type,this.size=Nt.size,this.badge=Nt.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(ke=>{null!=ke&&ke.render instanceof Function&&(this.grecaptcha=ke,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(ke){this.error.emit(ke),this.errored.emit(ke)}captchaResponseCallback(ke){this.resolved.emit(ke)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const ke={badge:this.badge,callback:Ze=>{this.zone.run(()=>this.captchaResponseCallback(Ze))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(ke["error-callback"]=(...Ze)=>{this.zone.run(()=>this.onError(Ze))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,ke),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return(k=ue).\u0275fac=function(ke){return new(ke||k)(r.rXU(r.aKT),r.rXU(U),r.rXU(r.SKi),r.rXU(G,8))},k.\u0275cmp=r.VBU({type:k,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(ke,Ze){2&ke&&r.BMQ("id",Ze.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(ke,Ze){},encapsulation:2}),ue})(),q=(()=>{var k;class ue{}return(k=ue).\u0275fac=function(ke){return new(ke||k)},k.\u0275mod=r.$C({type:k}),k.\u0275inj=r.G2t({}),ue})(),le=(()=>{var k;class ue{}return(k=ue).\u0275fac=function(ke){return new(ke||k)},k.\u0275mod=r.$C({type:k}),k.\u0275inj=r.G2t({providers:[U],imports:[q]}),ue})(),z=(()=>{var k;class ue{constructor(ke,Ze,Ce){this.recaptchaLoader=Ze,this.zone=ke,this.siteKey=Ce,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new M.B,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new M.B,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(ke){const Ze=new M.B;return this.grecaptcha?this.executeActionWithSubject(ke,Ze):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([ke,Ze])),Ze.asObservable()}executeActionWithSubject(ke,Ze){const Ce=Nt=>{this.zone.run(()=>{Ze.error(Nt),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:ke,error:Nt})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:ke}).then(Nt=>{this.zone.run(()=>{Ze.next(Nt),Ze.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:ke,token:Nt})})},Ce)}catch(Nt){Ce(Nt)}})}init(){this.recaptchaLoader.ready.subscribe(ke=>{this.grecaptcha=ke,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([Ze,Ce])=>this.executeActionWithSubject(Ze,Ce)),this.actionBacklog=void 0)})}}return(k=ue).\u0275fac=function(ke){return new(ke||k)(r.KVO(r.SKi),r.KVO(U),r.KVO(N))},k.\u0275prov=r.jDH({token:k,factory:k.\u0275fac}),ue})(),J=(()=>{var k;class ue{}return(k=ue).\u0275fac=function(ke){return new(ke||k)},k.\u0275mod=r.$C({type:k}),k.\u0275inj=r.G2t({providers:[z,U]}),ue})()},11562:(ln,qe,w)=>{"use strict";w.d(qe,{YG:()=>h,bk:()=>j});var r=w(99158),s=w(54438),v=w(60177);const S=["dialogPopup"],M=["hueSlider"],C=["alphaSlider"];function d(I,xe){if(1&I&&s.nrm(0,"div"),2&I){const ie=s.XpG();s.ZvI("arrow arrow-",ie.cpUsePosition,""),s.xc7("left",ie.cpArrowPosition)("top",ie.arrowTop,"px")}}function F(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"div",28),s.bIt("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onColorChange(K))})("dragStart",function(){s.eBV(ie);const K=s.XpG();return s.Njj(K.onDragStart("saturation-lightness"))})("dragEnd",function(){s.eBV(ie);const K=s.XpG();return s.Njj(K.onDragEnd("saturation-lightness"))}),s.nrm(1,"div",16),s.k0s()}if(2&I){const ie=s.XpG();s.xc7("background-color",ie.hueSliderColor),s.Y8G("rgX",1)("rgY",1),s.R7$(),s.xc7("top",null==ie.slider?null:ie.slider.v,"px")("left",null==ie.slider?null:ie.slider.s,"px")}}function P(I,xe){1&I&&(s.qSk(),s.j41(0,"svg",29),s.nrm(1,"path",30)(2,"path",31),s.k0s())}function G(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"button",32),s.bIt("click",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAddPresetColor(K,se.selectedColor))}),s.EFF(1),s.k0s()}if(2&I){const ie=s.XpG();s.HbH(ie.cpAddColorButtonClass),s.Y8G("disabled",ie.cpPresetColors&&ie.cpPresetColors.length>=ie.cpMaxPresetColorsLength),s.R7$(),s.SpI(" ",ie.cpAddColorButtonText," ")}}function N(I,xe){1&I&&s.nrm(0,"div",33)}function x(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"input",39),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAlphaInput(K))}),s.k0s()}if(2&I){const ie=s.XpG(2);s.Y8G("rg",1)("value",null==ie.cmykText?null:ie.cmykText.a)}}function m(I,xe){1&I&&(s.j41(0,"div"),s.EFF(1,"A"),s.k0s())}function E(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"div",34)(1,"div",35)(2,"input",36),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onCyanInput(K))}),s.k0s(),s.j41(3,"input",36),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onMagentaInput(K))}),s.k0s(),s.j41(4,"input",36),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onYellowInput(K))}),s.k0s(),s.j41(5,"input",36),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onBlackInput(K))}),s.k0s(),s.DNE(6,x,1,2,"input",37),s.k0s(),s.j41(7,"div",35)(8,"div"),s.EFF(9,"C"),s.k0s(),s.j41(10,"div"),s.EFF(11,"M"),s.k0s(),s.j41(12,"div"),s.EFF(13,"Y"),s.k0s(),s.j41(14,"div"),s.EFF(15,"K"),s.k0s(),s.DNE(16,m,2,0,"div",38),s.k0s()()}if(2&I){const ie=s.XpG();s.xc7("display",3!==ie.format?"none":"block"),s.R7$(2),s.Y8G("rg",100)("value",null==ie.cmykText?null:ie.cmykText.c),s.R7$(),s.Y8G("rg",100)("value",null==ie.cmykText?null:ie.cmykText.m),s.R7$(),s.Y8G("rg",100)("value",null==ie.cmykText?null:ie.cmykText.y),s.R7$(),s.Y8G("rg",100)("value",null==ie.cmykText?null:ie.cmykText.k),s.R7$(),s.Y8G("ngIf","disabled"!==ie.cpAlphaChannel),s.R7$(10),s.Y8G("ngIf","disabled"!==ie.cpAlphaChannel)}}function L(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"input",39),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAlphaInput(K))}),s.k0s()}if(2&I){const ie=s.XpG(2);s.Y8G("rg",1)("value",null==ie.hslaText?null:ie.hslaText.a)}}function ae(I,xe){1&I&&(s.j41(0,"div"),s.EFF(1,"A"),s.k0s())}function U(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"div",40)(1,"div",35)(2,"input",41),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onHueInput(K))}),s.k0s(),s.j41(3,"input",36),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onSaturationInput(K))}),s.k0s(),s.j41(4,"input",36),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onLightnessInput(K))}),s.k0s(),s.DNE(5,L,1,2,"input",37),s.k0s(),s.j41(6,"div",35)(7,"div"),s.EFF(8,"H"),s.k0s(),s.j41(9,"div"),s.EFF(10,"S"),s.k0s(),s.j41(11,"div"),s.EFF(12,"L"),s.k0s(),s.DNE(13,ae,2,0,"div",38),s.k0s()()}if(2&I){const ie=s.XpG();s.xc7("display",2!==ie.format?"none":"block"),s.R7$(2),s.Y8G("rg",360)("value",null==ie.hslaText?null:ie.hslaText.h),s.R7$(),s.Y8G("rg",100)("value",null==ie.hslaText?null:ie.hslaText.s),s.R7$(),s.Y8G("rg",100)("value",null==ie.hslaText?null:ie.hslaText.l),s.R7$(),s.Y8G("ngIf","disabled"!==ie.cpAlphaChannel),s.R7$(8),s.Y8G("ngIf","disabled"!==ie.cpAlphaChannel)}}function Z(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"input",39),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAlphaInput(K))}),s.k0s()}if(2&I){const ie=s.XpG(2);s.Y8G("rg",1)("value",null==ie.rgbaText?null:ie.rgbaText.a)}}function ne(I,xe){1&I&&(s.j41(0,"div"),s.EFF(1,"A"),s.k0s())}function q(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"div",42)(1,"div",35)(2,"input",43),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onRedInput(K))}),s.k0s(),s.j41(3,"input",43),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onGreenInput(K))}),s.k0s(),s.j41(4,"input",43),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onBlueInput(K))}),s.k0s(),s.DNE(5,Z,1,2,"input",37),s.k0s(),s.j41(6,"div",35)(7,"div"),s.EFF(8,"R"),s.k0s(),s.j41(9,"div"),s.EFF(10,"G"),s.k0s(),s.j41(11,"div"),s.EFF(12,"B"),s.k0s(),s.DNE(13,ne,2,0,"div",38),s.k0s()()}if(2&I){const ie=s.XpG();s.xc7("display",1!==ie.format?"none":"block"),s.R7$(2),s.Y8G("rg",255)("value",null==ie.rgbaText?null:ie.rgbaText.r),s.R7$(),s.Y8G("rg",255)("value",null==ie.rgbaText?null:ie.rgbaText.g),s.R7$(),s.Y8G("rg",255)("value",null==ie.rgbaText?null:ie.rgbaText.b),s.R7$(),s.Y8G("ngIf","disabled"!==ie.cpAlphaChannel),s.R7$(8),s.Y8G("ngIf","disabled"!==ie.cpAlphaChannel)}}function le(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"input",39),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAlphaInput(K))}),s.k0s()}if(2&I){const ie=s.XpG(2);s.Y8G("rg",1)("value",ie.hexAlpha)}}function z(I,xe){1&I&&(s.j41(0,"div"),s.EFF(1,"A"),s.k0s())}function J(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"div",44)(1,"div",35)(2,"input",45),s.bIt("blur",function(){s.eBV(ie);const K=s.XpG();return s.Njj(K.onHexInput(null))})("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onHexInput(K))}),s.k0s(),s.DNE(3,le,1,2,"input",37),s.k0s(),s.j41(4,"div",35)(5,"div"),s.EFF(6,"Hex"),s.k0s(),s.DNE(7,z,2,0,"div",38),s.k0s()()}if(2&I){const ie=s.XpG();s.xc7("display",0!==ie.format?"none":"block"),s.AVh("hex-alpha","forced"===ie.cpAlphaChannel),s.R7$(2),s.Y8G("value",ie.hexText),s.R7$(),s.Y8G("ngIf","forced"===ie.cpAlphaChannel),s.R7$(4),s.Y8G("ngIf","forced"===ie.cpAlphaChannel)}}function he(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"input",39),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAlphaInput(K))}),s.k0s()}if(2&I){const ie=s.XpG(2);s.Y8G("rg",1)("value",null==ie.hslaText?null:ie.hslaText.a)}}function we(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"div",46)(1,"div",35)(2,"input",36),s.bIt("keyup.enter",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onAcceptColor(K))})("newValue",function(K){s.eBV(ie);const se=s.XpG();return s.Njj(se.onValueInput(K))}),s.k0s(),s.DNE(3,he,1,2,"input",37),s.k0s(),s.j41(4,"div",35)(5,"div"),s.EFF(6,"V"),s.k0s(),s.j41(7,"div"),s.EFF(8,"A"),s.k0s()()()}if(2&I){const ie=s.XpG();s.R7$(2),s.Y8G("rg",100)("value",null==ie.hslaText?null:ie.hslaText.l),s.R7$(),s.Y8G("ngIf","disabled"!==ie.cpAlphaChannel)}}function k(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"div",47)(1,"span",48),s.bIt("click",function(){s.eBV(ie);const K=s.XpG();return s.Njj(K.onFormatToggle(-1))}),s.k0s(),s.j41(2,"span",48),s.bIt("click",function(){s.eBV(ie);const K=s.XpG();return s.Njj(K.onFormatToggle(1))}),s.k0s()()}}function ue(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"span",55),s.bIt("click",function(K){s.eBV(ie);const se=s.XpG().$implicit,Le=s.XpG(3);return s.Njj(Le.onRemovePresetColor(K,se))}),s.k0s()}if(2&I){const ie=s.XpG(4);s.HbH(ie.cpRemoveColorButtonClass)}}function Ie(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"div",53),s.bIt("click",function(){const K=s.eBV(ie).$implicit,se=s.XpG(3);return s.Njj(se.setColorFromString(K))}),s.DNE(1,ue,1,3,"span",54),s.k0s()}if(2&I){const ie=xe.$implicit,D=s.XpG(3);s.xc7("background-color",ie),s.R7$(),s.Y8G("ngIf",D.cpAddColorButton)}}function ke(I,xe){if(1&I&&(s.j41(0,"div"),s.DNE(1,Ie,2,3,"div",52),s.k0s()),2&I){const ie=s.XpG(2);s.HbH(ie.cpPresetColorsClass),s.R7$(),s.Y8G("ngForOf",ie.cpPresetColors)}}function Ze(I,xe){if(1&I&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&I){const ie=s.XpG(2);s.HbH(ie.cpPresetEmptyMessageClass),s.R7$(),s.JRh(ie.cpPresetEmptyMessage)}}function Ce(I,xe){if(1&I&&(s.j41(0,"div",49),s.nrm(1,"hr"),s.j41(2,"div",50),s.EFF(3),s.k0s(),s.DNE(4,ke,2,4,"div",51)(5,Ze,2,4,"div",51),s.k0s()),2&I){const ie=s.XpG();s.R7$(3),s.JRh(ie.cpPresetLabel),s.R7$(),s.Y8G("ngIf",null==ie.cpPresetColors?null:ie.cpPresetColors.length),s.R7$(),s.Y8G("ngIf",!(null!=ie.cpPresetColors&&ie.cpPresetColors.length)&&ie.cpAddColorButton)}}function Nt(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"button",58),s.bIt("click",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onCancelColor(K))}),s.EFF(1),s.k0s()}if(2&I){const ie=s.XpG(2);s.HbH(ie.cpCancelButtonClass),s.R7$(),s.JRh(ie.cpCancelButtonText)}}function Kt(I,xe){if(1&I){const ie=s.RV6();s.j41(0,"button",58),s.bIt("click",function(K){s.eBV(ie);const se=s.XpG(2);return s.Njj(se.onAcceptColor(K))}),s.EFF(1),s.k0s()}if(2&I){const ie=s.XpG(2);s.HbH(ie.cpOKButtonClass),s.R7$(),s.JRh(ie.cpOKButtonText)}}function me(I,xe){if(1&I&&(s.j41(0,"div",56),s.DNE(1,Nt,2,4,"button",57)(2,Kt,2,4,"button",57),s.k0s()),2&I){const ie=s.XpG();s.R7$(),s.Y8G("ngIf",ie.cpCancelButton),s.R7$(),s.Y8G("ngIf",ie.cpOKButton)}}function ee(I,xe){1&I&&s.eu8(0)}function fe(I,xe){if(1&I&&(s.j41(0,"div",59),s.DNE(1,ee,1,0,"ng-container",60),s.k0s()),2&I){const ie=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",ie.cpExtraTemplate)}}var ye=function(I){return I[I.HEX=0]="HEX",I[I.RGBA=1]="RGBA",I[I.HSLA=2]="HSLA",I[I.CMYK=3]="CMYK",I}(ye||{});class Se{constructor(xe,ie,D,K){(0,r.A)(this,"r",void 0),(0,r.A)(this,"g",void 0),(0,r.A)(this,"b",void 0),(0,r.A)(this,"a",void 0),this.r=xe,this.g=ie,this.b=D,this.a=K}}class Be{constructor(xe,ie,D,K){(0,r.A)(this,"h",void 0),(0,r.A)(this,"s",void 0),(0,r.A)(this,"v",void 0),(0,r.A)(this,"a",void 0),this.h=xe,this.s=ie,this.v=D,this.a=K}}class yt{constructor(xe,ie,D,K){(0,r.A)(this,"h",void 0),(0,r.A)(this,"s",void 0),(0,r.A)(this,"l",void 0),(0,r.A)(this,"a",void 0),this.h=xe,this.s=ie,this.l=D,this.a=K}}class qt{constructor(xe,ie,D,K,se=1){(0,r.A)(this,"c",void 0),(0,r.A)(this,"m",void 0),(0,r.A)(this,"y",void 0),(0,r.A)(this,"k",void 0),(0,r.A)(this,"a",void 0),this.c=xe,this.m=ie,this.y=D,this.k=K,this.a=se}}let We=(()=>{var I;class xe{constructor(){(0,r.A)(this,"rg",void 0),(0,r.A)(this,"text",void 0),(0,r.A)(this,"newValue",new s.bkB)}inputChange(D){const K=D.target.value;if(void 0===this.rg)this.newValue.emit(K);else{const se=parseFloat(K);this.newValue.emit({v:se,rg:this.rg})}}}return I=xe,(0,r.A)(xe,"\u0275fac",function(D){return new(D||I)}),(0,r.A)(xe,"\u0275dir",s.FsC({type:I,selectors:[["","text",""]],hostBindings:function(D,K){1&D&&s.bIt("input",function(Le){return K.inputChange(Le)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}})),xe})(),Ve=(()=>{var I;class xe{mouseDown(D){this.start(D)}touchStart(D){this.start(D)}constructor(D){(0,r.A)(this,"elRef",void 0),(0,r.A)(this,"listenerMove",void 0),(0,r.A)(this,"listenerStop",void 0),(0,r.A)(this,"rgX",void 0),(0,r.A)(this,"rgY",void 0),(0,r.A)(this,"slider",void 0),(0,r.A)(this,"dragEnd",new s.bkB),(0,r.A)(this,"dragStart",new s.bkB),(0,r.A)(this,"newValue",new s.bkB),this.elRef=D,this.listenerMove=K=>this.move(K),this.listenerStop=()=>this.stop()}move(D){D.preventDefault(),this.setCursor(D)}start(D){this.setCursor(D),D.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(D){const K=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==D.pageX?D.pageX:D.touches[0].pageX)-K.left-window.pageXOffset}getY(D){const K=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==D.pageY?D.pageY:D.touches[0].pageY)-K.top-window.pageYOffset}setCursor(D){const K=this.elRef.nativeElement.offsetWidth,se=this.elRef.nativeElement.offsetHeight,Le=Math.max(0,Math.min(this.getX(D),K)),ct=Math.max(0,Math.min(this.getY(D),se));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:Le/K,v:1-ct/se,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:ct/se,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:Le/K,rgX:this.rgX})}}return I=xe,(0,r.A)(xe,"\u0275fac",function(D){return new(D||I)(s.rXU(s.aKT))}),(0,r.A)(xe,"\u0275dir",s.FsC({type:I,selectors:[["","slider",""]],hostBindings:function(D,K){1&D&&s.bIt("mousedown",function(Le){return K.mouseDown(Le)})("touchstart",function(Le){return K.touchStart(Le)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}})),xe})();class wt{constructor(xe,ie,D,K){(0,r.A)(this,"h",void 0),(0,r.A)(this,"s",void 0),(0,r.A)(this,"v",void 0),(0,r.A)(this,"a",void 0),this.h=xe,this.s=ie,this.v=D,this.a=K}}class Y{constructor(xe,ie,D,K){(0,r.A)(this,"h",void 0),(0,r.A)(this,"s",void 0),(0,r.A)(this,"v",void 0),(0,r.A)(this,"a",void 0),this.h=xe,this.s=ie,this.v=D,this.a=K}}let b=(()=>{var I;class xe{constructor(){(0,r.A)(this,"active",null)}setActive(D){this.active&&this.active!==D&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=D}hsva2hsla(D){const K=D.h,se=D.s,Le=D.v,ct=D.a;if(0===Le)return new yt(K,0,0,ct);if(0===se&&1===Le)return new yt(K,1,1,ct);{const ut=Le*(2-se)/2;return new yt(K,Le*se/(1-Math.abs(2*ut-1)),ut,ct)}}hsla2hsva(D){const K=Math.min(D.h,1),se=Math.min(D.s,1),Le=Math.min(D.l,1),ct=Math.min(D.a,1);if(0===Le)return new Be(K,0,0,ct);{const ut=Le+se*(1-Math.abs(2*Le-1))/2;return new Be(K,2*(ut-Le)/ut,ut,ct)}}hsvaToRgba(D){let K,se,Le;const ct=D.h,ut=D.s,en=D.v,Oe=D.a,Pt=Math.floor(6*ct),it=6*ct-Pt,Bt=en*(1-ut),pn=en*(1-it*ut),st=en*(1-(1-it)*ut);switch(Pt%6){case 0:K=en,se=st,Le=Bt;break;case 1:K=pn,se=en,Le=Bt;break;case 2:K=Bt,se=en,Le=st;break;case 3:K=Bt,se=pn,Le=en;break;case 4:K=st,se=Bt,Le=en;break;case 5:K=en,se=Bt,Le=pn;break;default:K=0,se=0,Le=0}return new Se(K,se,Le,Oe)}cmykToRgb(D){return new Se((1-D.c)*(1-D.k),(1-D.m)*(1-D.k),(1-D.y)*(1-D.k),D.a)}rgbaToCmyk(D){const K=1-Math.max(D.r,D.g,D.b);return 1===K?new qt(0,0,0,1,D.a):new qt((1-D.r-K)/(1-K),(1-D.g-K)/(1-K),(1-D.b-K)/(1-K),K,D.a)}rgbaToHsva(D){let K,se;const Le=Math.min(D.r,1),ct=Math.min(D.g,1),ut=Math.min(D.b,1),en=Math.min(D.a,1),Oe=Math.max(Le,ct,ut),Pt=Math.min(Le,ct,ut),it=Oe,Bt=Oe-Pt;if(se=0===Oe?0:Bt/Oe,Oe===Pt)K=0;else{switch(Oe){case Le:K=(ct-ut)/Bt+(ct<ut?6:0);break;case ct:K=(ut-Le)/Bt+2;break;case ut:K=(Le-ct)/Bt+4;break;default:K=0}K/=6}return new Be(K,se,it,en)}rgbaToHex(D,K){let se="#"+(16777216|D.r<<16|D.g<<8|D.b).toString(16).substr(1);return K&&(se+=(256|Math.round(255*D.a)).toString(16).substr(1)),se}normalizeCMYK(D){return new qt(D.c/100,D.m/100,D.y/100,D.k/100,D.a)}denormalizeCMYK(D){return new qt(Math.floor(100*D.c),Math.floor(100*D.m),Math.floor(100*D.y),Math.floor(100*D.k),D.a)}denormalizeRGBA(D){return new Se(Math.round(255*D.r),Math.round(255*D.g),Math.round(255*D.b),D.a)}stringToHsva(D="",K=!1){let se=null;D=(D||"").toLowerCase();const Le=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(ct){return new Se(parseInt(ct[2],10)/255,parseInt(ct[3],10)/255,parseInt(ct[4],10)/255,isNaN(parseFloat(ct[5]))?1:parseFloat(ct[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(ct){return new yt(parseInt(ct[2],10)/360,parseInt(ct[3],10)/100,parseInt(ct[4],10)/100,isNaN(parseFloat(ct[5]))?1:parseFloat(ct[5]))}}];Le.push(K?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(ct){return new Se(parseInt(ct[1],16)/255,parseInt(ct[2],16)/255,parseInt(ct[3],16)/255,parseInt(ct[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(ct){return new Se(parseInt(ct[1],16)/255,parseInt(ct[2],16)/255,parseInt(ct[3],16)/255,1)}}),Le.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(ct){return new Se(parseInt(ct[1]+ct[1],16)/255,parseInt(ct[2]+ct[2],16)/255,parseInt(ct[3]+ct[3],16)/255,1)}});for(const ct in Le)if(Le.hasOwnProperty(ct)){const ut=Le[ct],en=ut.re.exec(D),Oe=en&&ut.parse(en);if(Oe)return Oe instanceof Se?se=this.rgbaToHsva(Oe):Oe instanceof yt&&(se=this.hsla2hsva(Oe)),se}return se}outputFormat(D,K,se){switch("auto"===K&&(K=D.a<1?"rgba":"hex"),K){case"hsla":const Le=this.hsva2hsla(D),ct=new yt(Math.round(360*Le.h),Math.round(100*Le.s),Math.round(100*Le.l),Math.round(100*Le.a)/100);return D.a<1||"always"===se?"hsla("+ct.h+","+ct.s+"%,"+ct.l+"%,"+ct.a+")":"hsl("+ct.h+","+ct.s+"%,"+ct.l+"%)";case"rgba":const ut=this.denormalizeRGBA(this.hsvaToRgba(D));return D.a<1||"always"===se?"rgba("+ut.r+","+ut.g+","+ut.b+","+Math.round(100*ut.a)/100+")":"rgb("+ut.r+","+ut.g+","+ut.b+")";default:const en="always"===se||"forced"===se;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(D)),en)}}}return I=xe,(0,r.A)(xe,"\u0275fac",function(D){return new(D||I)}),(0,r.A)(xe,"\u0275prov",s.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})),xe})();const R=typeof window<"u"&&"ontouchstart"in window;let T=(()=>{var I;class xe{handleEsc(D){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(D)}handleEnter(D){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(D)}constructor(D,K,se,Le,ct,ut){(0,r.A)(this,"ngZone",void 0),(0,r.A)(this,"elRef",void 0),(0,r.A)(this,"cdRef",void 0),(0,r.A)(this,"document",void 0),(0,r.A)(this,"platformId",void 0),(0,r.A)(this,"service",void 0),(0,r.A)(this,"isIE10",!1),(0,r.A)(this,"cmyk",void 0),(0,r.A)(this,"hsva",void 0),(0,r.A)(this,"width",void 0),(0,r.A)(this,"height",void 0),(0,r.A)(this,"cmykColor",void 0),(0,r.A)(this,"outputColor",void 0),(0,r.A)(this,"initialColor",void 0),(0,r.A)(this,"fallbackColor",void 0),(0,r.A)(this,"listenerResize",void 0),(0,r.A)(this,"listenerMouseDown",void 0),(0,r.A)(this,"directiveInstance",void 0),(0,r.A)(this,"sliderH",void 0),(0,r.A)(this,"sliderDimMax",void 0),(0,r.A)(this,"directiveElementRef",void 0),(0,r.A)(this,"dialogArrowSize",10),(0,r.A)(this,"dialogArrowOffset",15),(0,r.A)(this,"dialogInputFields",[ye.HEX,ye.RGBA,ye.HSLA,ye.CMYK]),(0,r.A)(this,"useRootViewContainer",!1),(0,r.A)(this,"show",void 0),(0,r.A)(this,"hidden",void 0),(0,r.A)(this,"top",void 0),(0,r.A)(this,"left",void 0),(0,r.A)(this,"position",void 0),(0,r.A)(this,"format",void 0),(0,r.A)(this,"slider",void 0),(0,r.A)(this,"hexText",void 0),(0,r.A)(this,"hexAlpha",void 0),(0,r.A)(this,"cmykText",void 0),(0,r.A)(this,"hslaText",void 0),(0,r.A)(this,"rgbaText",void 0),(0,r.A)(this,"arrowTop",void 0),(0,r.A)(this,"selectedColor",void 0),(0,r.A)(this,"hueSliderColor",void 0),(0,r.A)(this,"alphaSliderColor",void 0),(0,r.A)(this,"cpWidth",void 0),(0,r.A)(this,"cpHeight",void 0),(0,r.A)(this,"cpColorMode",void 0),(0,r.A)(this,"cpCmykEnabled",void 0),(0,r.A)(this,"cpAlphaChannel",void 0),(0,r.A)(this,"cpOutputFormat",void 0),(0,r.A)(this,"cpDisableInput",void 0),(0,r.A)(this,"cpDialogDisplay",void 0),(0,r.A)(this,"cpIgnoredElements",void 0),(0,r.A)(this,"cpSaveClickOutside",void 0),(0,r.A)(this,"cpCloseClickOutside",void 0),(0,r.A)(this,"cpPosition",void 0),(0,r.A)(this,"cpUsePosition",void 0),(0,r.A)(this,"cpPositionOffset",void 0),(0,r.A)(this,"cpOKButton",void 0),(0,r.A)(this,"cpOKButtonText",void 0),(0,r.A)(this,"cpOKButtonClass",void 0),(0,r.A)(this,"cpCancelButton",void 0),(0,r.A)(this,"cpCancelButtonText",void 0),(0,r.A)(this,"cpCancelButtonClass",void 0),(0,r.A)(this,"cpEyeDropper",void 0),(0,r.A)(this,"eyeDropperSupported",void 0),(0,r.A)(this,"cpPresetLabel",void 0),(0,r.A)(this,"cpPresetColors",void 0),(0,r.A)(this,"cpPresetColorsClass",void 0),(0,r.A)(this,"cpMaxPresetColorsLength",void 0),(0,r.A)(this,"cpPresetEmptyMessage",void 0),(0,r.A)(this,"cpPresetEmptyMessageClass",void 0),(0,r.A)(this,"cpAddColorButton",void 0),(0,r.A)(this,"cpAddColorButtonText",void 0),(0,r.A)(this,"cpAddColorButtonClass",void 0),(0,r.A)(this,"cpRemoveColorButtonClass",void 0),(0,r.A)(this,"cpArrowPosition",void 0),(0,r.A)(this,"cpTriggerElement",void 0),(0,r.A)(this,"cpExtraTemplate",void 0),(0,r.A)(this,"dialogElement",void 0),(0,r.A)(this,"hueSlider",void 0),(0,r.A)(this,"alphaSlider",void 0),this.ngZone=D,this.elRef=K,this.cdRef=se,this.document=Le,this.platformId=ct,this.service=ut,this.eyeDropperSupported=(0,v.UE)(this.platformId)&&"EyeDropper"in this.document.defaultView}ngOnInit(){this.slider=new wt(0,0,0,0),this.sliderDimMax=new Y(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?ye.CMYK:"rgba"===this.cpOutputFormat?ye.RGBA:"hsla"===this.cpOutputFormat?ye.HSLA:ye.HEX,this.listenerMouseDown=se=>{this.onMouseDown(se)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new Y(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(D,K=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(D),this.setColorFromString(D,K),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(D,K,se,Le,ct,ut,en,Oe,Pt,it,Bt,pn,st,mt,Ut,Ne,zt,Zt,Cn,Zn,br,Mr,yn,St,kt,Mt,bt,sn,Yt,Qe,Lt,Mn,vt,ze,nn,Ye,At,Pn){this.setInitialColor(se),this.setColorMode(Oe),this.isIE10=10===function Tt(){let I="";typeof navigator<"u"&&(I=navigator.userAgent.toLowerCase());const xe=I.indexOf("msie ");return xe>0&&parseInt(I.substring(xe+5,I.indexOf(".",xe)),10)}(),this.directiveInstance=D,this.directiveElementRef=K,this.cpDisableInput=pn,this.cpCmykEnabled=Pt,this.cpAlphaChannel=it,this.cpOutputFormat=Bt,this.cpDialogDisplay=ut,this.cpIgnoredElements=st,this.cpSaveClickOutside=mt,this.cpCloseClickOutside=Ut,this.useRootViewContainer=Ne,this.width=this.cpWidth=parseInt(Le,10),this.height=this.cpHeight=parseInt(ct,10),this.cpPosition=zt,this.cpPositionOffset=parseInt(Zt,10),this.cpOKButton=Mt,this.cpOKButtonText=sn,this.cpOKButtonClass=bt,this.cpCancelButton=Yt,this.cpCancelButtonText=Lt,this.cpCancelButtonClass=Qe,this.cpEyeDropper=Ye,this.fallbackColor=en||"#fff",this.setPresetConfig(Zn,br),this.cpPresetColorsClass=Mr,this.cpMaxPresetColorsLength=yn,this.cpPresetEmptyMessage=St,this.cpPresetEmptyMessageClass=kt,this.cpAddColorButton=Mn,this.cpAddColorButtonText=ze,this.cpAddColorButtonClass=vt,this.cpRemoveColorButtonClass=nn,this.cpTriggerElement=At,this.cpExtraTemplate=Pn,Cn||(this.dialogArrowOffset=0),"inline"===ut&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===Bt&&"always"!==it&&"forced"!==it&&(this.cpAlphaChannel="disabled")}setColorMode(D){switch(D.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(D){this.initialColor=D}setPresetConfig(D,K){this.cpPresetLabel=D,this.cpPresetColors=K}setColorFromString(D,K=!0,se=!0){let Le;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(Le=this.service.stringToHsva(D,!0),!Le&&!this.hsva&&(Le=this.service.stringToHsva(D,!1))):Le=this.service.stringToHsva(D,!1),!Le&&!this.hsva&&(Le=this.service.stringToHsva(this.fallbackColor,!1)),Le&&(this.hsva=Le,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(K,se))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(D){this.directiveInstance.sliderDragEnd({slider:D,color:this.outputColor})}onDragStart(D){this.directiveInstance.sliderDragStart({slider:D,color:this.outputColor})}onMouseDown(D){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&D.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,D.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,D.target)&&0===this.cpIgnoredElements.filter(K=>K===D.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(D){D.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(D){this.hsva=null,D.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(K=>{this.setColorFromString(K.sRGBHex,!0)})}onFormatToggle(D){const K=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),se=((this.dialogInputFields.indexOf(this.format)+D)%K+K)%K;this.format=this.dialogInputFields[se]}onColorChange(D){this.hsva.s=D.s/D.rgX,this.hsva.v=D.v/D.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(D){this.hsva.h=D.v/D.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(D){this.hsva.v=D.v/D.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(D){this.hsva.a=D.v/D.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(D){if(null===D)this.updateColorPicker();else{D&&"#"!==D[0]&&(D="#"+D);let K=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(K=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const se=K.test(D);se&&(D.length<5&&(D="#"+D.substring(1).split("").map(Le=>Le+Le).join("")),"forced"===this.cpAlphaChannel&&(D+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(D,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:se,value:D,color:this.outputColor})}}onRedInput(D){const K=this.service.hsvaToRgba(this.hsva),se=!isNaN(D.v)&&D.v>=0&&D.v<=D.rg;se&&(K.r=D.v/D.rg,this.hsva=this.service.rgbaToHsva(K),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:se,value:K.r,color:this.outputColor})}onBlueInput(D){const K=this.service.hsvaToRgba(this.hsva),se=!isNaN(D.v)&&D.v>=0&&D.v<=D.rg;se&&(K.b=D.v/D.rg,this.hsva=this.service.rgbaToHsva(K),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:se,value:K.b,color:this.outputColor})}onGreenInput(D){const K=this.service.hsvaToRgba(this.hsva),se=!isNaN(D.v)&&D.v>=0&&D.v<=D.rg;se&&(K.g=D.v/D.rg,this.hsva=this.service.rgbaToHsva(K),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:se,value:K.g,color:this.outputColor})}onHueInput(D){const K=!isNaN(D.v)&&D.v>=0&&D.v<=D.rg;K&&(this.hsva.h=D.v/D.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:K,value:this.hsva.h,color:this.outputColor})}onValueInput(D){const K=!isNaN(D.v)&&D.v>=0&&D.v<=D.rg;K&&(this.hsva.v=D.v/D.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:K,value:this.hsva.v,color:this.outputColor})}onAlphaInput(D){const K=!isNaN(D.v)&&D.v>=0&&D.v<=D.rg;K&&(this.hsva.a=D.v/D.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:K,value:this.hsva.a,color:this.outputColor})}onLightnessInput(D){const K=this.service.hsva2hsla(this.hsva),se=!isNaN(D.v)&&D.v>=0&&D.v<=D.rg;se&&(K.l=D.v/D.rg,this.hsva=this.service.hsla2hsva(K),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:se,value:K.l,color:this.outputColor})}onSaturationInput(D){const K=this.service.hsva2hsla(this.hsva),se=!isNaN(D.v)&&D.v>=0&&D.v<=D.rg;se&&(K.s=D.v/D.rg,this.hsva=this.service.hsla2hsva(K),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:se,value:K.s,color:this.outputColor})}onCyanInput(D){!isNaN(D.v)&&D.v>=0&&D.v<=D.rg&&(this.cmyk.c=D.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(D){!isNaN(D.v)&&D.v>=0&&D.v<=D.rg&&(this.cmyk.m=D.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(D){!isNaN(D.v)&&D.v>=0&&D.v<=D.rg&&(this.cmyk.y=D.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(D){!isNaN(D.v)&&D.v>=0&&D.v<=D.rg&&(this.cmyk.k=D.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(D,K){D.stopPropagation(),this.cpPresetColors.filter(se=>se===K).length||(this.cpPresetColors=this.cpPresetColors.concat(K),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(D,K){D.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(se=>se!==K),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{R?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(R?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(D=!0,K=!0,se=!1){if(this.sliderDimMax){let Le,ct,ut;2===this.cpColorMode&&(this.hsva.s=0);const en=this.outputColor;if(ct=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(se?(ut=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(ut)):(ut=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(ut))),ut=this.service.denormalizeRGBA(ut),this.sliderH=this.hsva.h):ut=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),Le=this.service.denormalizeRGBA(this.service.hsvaToRgba(new Be(this.sliderH||this.hsva.h,1,1,1))),K&&(this.hslaText=new yt(Math.round(360*ct.h),Math.round(100*ct.s),Math.round(100*ct.l),Math.round(100*ct.a)/100),this.rgbaText=new Se(ut.r,ut.g,ut.b,Math.round(100*ut.a)/100),this.cpCmykEnabled&&(this.cmykText=new qt(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(ut,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==ye.RGBA&&this.format!==ye.CMYK&&this.format!==ye.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?ye.RGBA:ye.HEX),this.hueSliderColor="rgb("+Le.r+","+Le.g+","+Le.b+")",this.alphaSliderColor="rgb("+ut.r+","+ut.g+","+ut.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==ye.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const Oe=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${Oe})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new wt((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),D&&en!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let se,D="static",K="",Le=null,ct=null,ut=this.directiveElementRef.nativeElement.parentNode;const en=this.dialogElement.nativeElement.offsetHeight;for(;null!==ut&&"HTML"!==ut.tagName;){if(se=window.getComputedStyle(ut),D=se.getPropertyValue("position"),K=se.getPropertyValue("transform"),"static"!==D&&null===Le&&(Le=ut),K&&"none"!==K&&null===ct&&(ct=ut),"fixed"===D){Le=ct;break}ut=ut.parentNode}const Oe=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==D);if(this.useRootViewContainer||"fixed"===D&&(!Le||Le instanceof HTMLUnknownElement))this.top=Oe.top,this.left=Oe.left;else{null===Le&&(Le=ut);const Ne=this.createDialogBox(Le,"fixed"!==D);this.top=Oe.top-Ne.top,this.left=Oe.left-Ne.left}"fixed"===D&&(this.position="fixed");let Pt=this.cpPosition;const it=this.dialogElement.nativeElement.getBoundingClientRect();switch("auto"===this.cpPosition&&(Pt=function Ln(I,xe){let ie="right",D="bottom";const{height:K,width:se}=I,{top:Le,left:ct}=xe,ut=Le+xe.height,en=ct+xe.width,Oe=Le-K<0,Pt=ut+K>(window.innerHeight||document.documentElement.clientHeight),it=ct-se<0,Bt=en+se>(window.innerWidth||document.documentElement.clientWidth);return Pt&&(D="top"),Oe&&(D="bottom"),it&&(ie="right"),Bt&&(ie="left"),Oe&&Pt&&it&&Bt?["left","right","top","bottom"].reduce((mt,Ut)=>I[mt]>I[Ut]?mt:Ut):it&&Bt?Oe?"bottom":Pt||Le>ut?"top":"bottom":Oe&&Pt?it?"right":Bt||ct>en?"left":"right":`${D}-${ie}`}(it,this.cpTriggerElement.nativeElement.getBoundingClientRect())),this.arrowTop="top"===Pt?en-1:void 0,this.cpArrowPosition=void 0,Pt){case"top":this.top-=en+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*Oe.width-this.dialogArrowOffset;break;case"bottom":this.top+=Oe.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*Oe.width-this.dialogArrowOffset;break;case"top-left":case"left-top":this.top-=en-Oe.height+Oe.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"top-right":case"right-top":this.top-=en-Oe.height+Oe.height*this.cpPositionOffset/100,this.left+=Oe.width+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"left":case"bottom-left":case"left-bottom":this.top+=Oe.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2;break;default:this.top+=Oe.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=Oe.width+this.dialogArrowSize-2}const Bt=window.innerHeight,pn=window.innerWidth,st=this.elRef.nativeElement.getBoundingClientRect();this.top+it.height>Bt&&(this.top=Bt-it.height,this.cpArrowPosition=st.x/2-20),this.left+it.width>pn&&(this.left=pn-it.width,this.cpArrowPosition=st.x/2-20),this.cpUsePosition=Pt}}isDescendant(D,K){let se=K.parentNode;for(;null!==se;){if(se===D)return!0;se=se.parentNode}return!1}createDialogBox(D,K){const{top:se,left:Le}=D.getBoundingClientRect();return{top:se+(K?window.pageYOffset:0),left:Le+(K?window.pageXOffset:0),width:D.offsetWidth,height:D.offsetHeight}}}return I=xe,(0,r.A)(xe,"\u0275fac",function(D){return new(D||I)(s.rXU(s.SKi),s.rXU(s.aKT),s.rXU(s.gRc),s.rXU(v.qQ),s.rXU(s.Agw),s.rXU(b))}),(0,r.A)(xe,"\u0275cmp",s.VBU({type:I,selectors:[["color-picker"]],viewQuery:function(D,K){if(1&D&&(s.GBs(S,7),s.GBs(M,7),s.GBs(C,7)),2&D){let se;s.mGM(se=s.lsd())&&(K.dialogElement=se.first),s.mGM(se=s.lsd())&&(K.hueSlider=se.first),s.mGM(se=s.lsd())&&(K.alphaSlider=se.first)}},hostBindings:function(D,K){1&D&&s.bIt("keyup.esc",function(Le){return K.handleEsc(Le)},!1,s.EBC)("keyup.enter",function(Le){return K.handleEnter(Le)},!1,s.EBC)},decls:30,vars:51,consts:[["dialogPopup",""],["hueSlider",""],["valueSlider",""],["alphaSlider",""],[1,"color-picker",3,"click"],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"cursor"],[1,"value",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"alpha",3,"newValue","dragStart","dragEnd","slider","rgX"],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"newValue","dragStart","dragEnd","slider","rgX","rgY"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"click","disabled"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"keyup.enter","newValue","text","rg","value"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"keyup.enter","newValue","text","rg","value"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"keyup.enter","newValue","text","rg","value"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"keyup.enter","newValue","text","rg","value"],[1,"hex-text"],[3,"blur","keyup.enter","newValue","text","value"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(D,K){if(1&D){const se=s.RV6();s.j41(0,"div",4,0),s.bIt("click",function(ct){return s.eBV(se),s.Njj(ct.stopPropagation())}),s.DNE(2,d,1,7,"div",5)(3,F,2,8,"div",6),s.j41(4,"div",7)(5,"div",8),s.nrm(6,"div",9),s.j41(7,"div",10),s.bIt("click",function(){return s.eBV(se),s.Njj(K.eyeDropperSupported&&K.cpEyeDropper&&K.onEyeDropper())}),s.DNE(8,P,3,0,"svg",11),s.k0s(),s.DNE(9,G,2,5,"button",12),s.k0s(),s.j41(10,"div",13),s.DNE(11,N,1,0,"div",14),s.j41(12,"div",15,1),s.bIt("newValue",function(ct){return s.eBV(se),s.Njj(K.onHueChange(ct))})("dragStart",function(){return s.eBV(se),s.Njj(K.onDragStart("hue"))})("dragEnd",function(){return s.eBV(se),s.Njj(K.onDragEnd("hue"))}),s.nrm(14,"div",16),s.k0s(),s.j41(15,"div",17,2),s.bIt("newValue",function(ct){return s.eBV(se),s.Njj(K.onValueChange(ct))})("dragStart",function(){return s.eBV(se),s.Njj(K.onDragStart("value"))})("dragEnd",function(){return s.eBV(se),s.Njj(K.onDragEnd("value"))}),s.nrm(17,"div",16),s.k0s(),s.j41(18,"div",18,3),s.bIt("newValue",function(ct){return s.eBV(se),s.Njj(K.onAlphaChange(ct))})("dragStart",function(){return s.eBV(se),s.Njj(K.onDragStart("alpha"))})("dragEnd",function(){return s.eBV(se),s.Njj(K.onDragEnd("alpha"))}),s.nrm(20,"div",16),s.k0s()()(),s.DNE(21,E,17,12,"div",19)(22,U,14,10,"div",20)(23,q,14,10,"div",21)(24,J,8,7,"div",22)(25,we,9,3,"div",23)(26,k,3,0,"div",24)(27,Ce,6,3,"div",25)(28,me,3,2,"div",26)(29,fe,2,1,"div",27),s.k0s()}2&D&&(s.xc7("display",K.show?"block":"none")("visibility",K.hidden?"hidden":"visible")("top",K.top,"px")("left",K.left,"px")("position",K.position)("height",K.cpHeight,"px")("width",K.cpWidth,"px"),s.AVh("open",K.show),s.R7$(2),s.Y8G("ngIf","popup"===K.cpDialogDisplay),s.R7$(),s.Y8G("ngIf",1===(K.cpColorMode||1)),s.R7$(4),s.xc7("background-color",K.selectedColor)("cursor",K.eyeDropperSupported&&K.cpEyeDropper?"pointer":null),s.R7$(),s.Y8G("ngIf",K.eyeDropperSupported&&K.cpEyeDropper),s.R7$(),s.Y8G("ngIf",K.cpAddColorButton),s.R7$(2),s.Y8G("ngIf","disabled"===K.cpAlphaChannel),s.R7$(),s.xc7("display",1===(K.cpColorMode||1)?"block":"none"),s.Y8G("rgX",1),s.R7$(2),s.xc7("left",null==K.slider?null:K.slider.h,"px"),s.R7$(),s.xc7("display",2===(K.cpColorMode||1)?"block":"none"),s.Y8G("rgX",1),s.R7$(2),s.xc7("right",null==K.slider?null:K.slider.v,"px"),s.R7$(),s.xc7("display","disabled"===K.cpAlphaChannel?"none":"block")("background-color",K.alphaSliderColor),s.Y8G("rgX",1),s.R7$(2),s.xc7("left",null==K.slider?null:K.slider.a,"px"),s.R7$(),s.Y8G("ngIf",!K.cpDisableInput&&1===(K.cpColorMode||1)),s.R7$(),s.Y8G("ngIf",!K.cpDisableInput&&1===(K.cpColorMode||1)),s.R7$(),s.Y8G("ngIf",!K.cpDisableInput&&1===(K.cpColorMode||1)),s.R7$(),s.Y8G("ngIf",!K.cpDisableInput&&1===(K.cpColorMode||1)),s.R7$(),s.Y8G("ngIf",!K.cpDisableInput&&2===(K.cpColorMode||1)),s.R7$(),s.Y8G("ngIf",!K.cpDisableInput&&1===(K.cpColorMode||1)),s.R7$(),s.Y8G("ngIf",(null==K.cpPresetColors?null:K.cpPresetColors.length)||K.cpAddColorButton),s.R7$(),s.Y8G("ngIf",K.cpOKButton||K.cpCancelButton),s.R7$(),s.Y8G("ngIf",K.cpExtraTemplate))},dependencies:[v.Sq,v.bT,v.T3,We,Ve],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff}.color-picker *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;-webkit-flex:1;-ms-flex:1;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2})),xe})(),j=(()=>{var I;class xe{handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(D){this.inputChange(D)}constructor(D,K,se,Le,ct,ut){(0,r.A)(this,"injector",void 0),(0,r.A)(this,"cfr",void 0),(0,r.A)(this,"appRef",void 0),(0,r.A)(this,"vcRef",void 0),(0,r.A)(this,"elRef",void 0),(0,r.A)(this,"_service",void 0),(0,r.A)(this,"dialog",void 0),(0,r.A)(this,"dialogCreated",!1),(0,r.A)(this,"ignoreChanges",!1),(0,r.A)(this,"cmpRef",void 0),(0,r.A)(this,"viewAttachedToAppRef",!1),(0,r.A)(this,"colorPicker",void 0),(0,r.A)(this,"cpWidth","230px"),(0,r.A)(this,"cpHeight","auto"),(0,r.A)(this,"cpToggle",!1),(0,r.A)(this,"cpDisabled",!1),(0,r.A)(this,"cpIgnoredElements",[]),(0,r.A)(this,"cpFallbackColor",""),(0,r.A)(this,"cpColorMode","color"),(0,r.A)(this,"cpCmykEnabled",!1),(0,r.A)(this,"cpOutputFormat","auto"),(0,r.A)(this,"cpAlphaChannel","enabled"),(0,r.A)(this,"cpDisableInput",!1),(0,r.A)(this,"cpDialogDisplay","popup"),(0,r.A)(this,"cpSaveClickOutside",!0),(0,r.A)(this,"cpCloseClickOutside",!0),(0,r.A)(this,"cpUseRootViewContainer",!1),(0,r.A)(this,"cpPosition","auto"),(0,r.A)(this,"cpPositionOffset","0%"),(0,r.A)(this,"cpPositionRelativeToArrow",!1),(0,r.A)(this,"cpOKButton",!1),(0,r.A)(this,"cpOKButtonText","OK"),(0,r.A)(this,"cpOKButtonClass","cp-ok-button-class"),(0,r.A)(this,"cpCancelButton",!1),(0,r.A)(this,"cpCancelButtonText","Cancel"),(0,r.A)(this,"cpCancelButtonClass","cp-cancel-button-class"),(0,r.A)(this,"cpEyeDropper",!1),(0,r.A)(this,"cpPresetLabel","Preset colors"),(0,r.A)(this,"cpPresetColors",void 0),(0,r.A)(this,"cpPresetColorsClass","cp-preset-colors-class"),(0,r.A)(this,"cpMaxPresetColorsLength",6),(0,r.A)(this,"cpPresetEmptyMessage","No colors added"),(0,r.A)(this,"cpPresetEmptyMessageClass","preset-empty-message"),(0,r.A)(this,"cpAddColorButton",!1),(0,r.A)(this,"cpAddColorButtonText","Add color"),(0,r.A)(this,"cpAddColorButtonClass","cp-add-color-button-class"),(0,r.A)(this,"cpRemoveColorButtonClass","cp-remove-color-button-class"),(0,r.A)(this,"cpArrowPosition",0),(0,r.A)(this,"cpExtraTemplate",void 0),(0,r.A)(this,"cpInputChange",new s.bkB(!0)),(0,r.A)(this,"cpToggleChange",new s.bkB(!0)),(0,r.A)(this,"cpSliderChange",new s.bkB(!0)),(0,r.A)(this,"cpSliderDragEnd",new s.bkB(!0)),(0,r.A)(this,"cpSliderDragStart",new s.bkB(!0)),(0,r.A)(this,"colorPickerOpen",new s.bkB(!0)),(0,r.A)(this,"colorPickerClose",new s.bkB(!0)),(0,r.A)(this,"colorPickerCancel",new s.bkB(!0)),(0,r.A)(this,"colorPickerSelect",new s.bkB(!0)),(0,r.A)(this,"colorPickerChange",new s.bkB(!1)),(0,r.A)(this,"cpCmykColorChange",new s.bkB(!0)),(0,r.A)(this,"cpPresetColorsChange",new s.bkB(!0)),this.injector=D,this.cfr=K,this.appRef=se,this.vcRef=Le,this.elRef=ct,this._service=ut}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(D){D.cpToggle&&!this.cpDisabled&&(D.cpToggle.currentValue?this.openDialog():D.cpToggle.currentValue||this.closeDialog()),D.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(D.colorPicker.currentValue),this.dialog.setColorFromString(D.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(D.cpPresetLabel||D.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&(this.cmpRef.instance.cpAlphaChannel=this.cpAlphaChannel,this.dialog.openDialog(this.colorPicker));else{let D=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const Le=this.injector.get(this.appRef.componentTypes[0],s.zZn.NULL);Le!==s.zZn.NULL?D=Le.vcRef||Le.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const K=this.cfr.resolveComponentFactory(T);if(this.viewAttachedToAppRef)this.cmpRef=K.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const se=s.zZn.create({providers:[],parent:D.injector});this.cmpRef=D.createComponent(K,0,se,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==D&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(D){this.cpCmykColorChange.emit(D)}stateChanged(D){this.cpToggleChange.emit(D),D?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(D,K=!0){this.ignoreChanges=K,this.colorPickerChange.emit(D)}colorSelected(D){this.colorPickerSelect.emit(D)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const D=this.elRef.nativeElement,K=this.cpIgnoredElements.filter(se=>se===D);!this.cpDisabled&&!K.length&&(typeof document<"u"&&D===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(D){this.dialog?this.dialog.setColorFromString(D.target.value,!0):(this.colorPicker=D.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(D){this.cpInputChange.emit(D)}sliderChanged(D){this.cpSliderChange.emit(D)}sliderDragEnd(D){this.cpSliderDragEnd.emit(D)}sliderDragStart(D){this.cpSliderDragStart.emit(D)}presetColorsChanged(D){this.cpPresetColorsChange.emit(D)}}return I=xe,(0,r.A)(xe,"\u0275fac",function(D){return new(D||I)(s.rXU(s.zZn),s.rXU(s.OM3),s.rXU(s.o8S),s.rXU(s.c1b),s.rXU(s.aKT),s.rXU(b))}),(0,r.A)(xe,"\u0275dir",s.FsC({type:I,selectors:[["","colorPicker",""]],hostBindings:function(D,K){1&D&&s.bIt("click",function(){return K.handleClick()})("focus",function(){return K.handleFocus()})("input",function(Le){return K.handleInput(Le)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[s.OA$]})),xe})(),h=(()=>{var I;class xe{}return I=xe,(0,r.A)(xe,"\u0275fac",function(D){return new(D||I)}),(0,r.A)(xe,"\u0275mod",s.$C({type:I})),(0,r.A)(xe,"\u0275inj",s.G2t({imports:[v.MD]})),xe})()},47428:(ln,qe,w)=>{"use strict";w.d(qe,{HU:()=>he,p:()=>E});var r=w(28407),s=w(54438),v=w(60177);w(38645),w(14264),w(87145);const F=new s.nKC("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),P=new s.nKC("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:k}=(0,s.WQX)(v.qQ);if(!k)throw new Error("Window is not available");return k}}),N=new s.nKC("ngx-data-layer",{providedIn:"root",factory:()=>function G(k){return k?k.dataLayer=k.dataLayer||[]:null}((0,s.WQX)(P))}),m=new s.nKC("ngx-gtag-fn",{providedIn:"root",factory:()=>function x(k,ue){return k?k.gtag=k.gtag||function(){ue.push(arguments)}:null}((0,s.WQX)(P),(0,s.WQX)(N))});let E=(()=>{class k{constructor(Ie,ke,Ze){this.settings=Ie,this._document=ke,this._gtag=Ze}get document(){return this._document}throw(Ie){(this.settings.enableTracing||(0,s.naY)())&&console&&console.error&&console.error(Ie)}toKeyValue(Ie){return Ie.size>0?Array.from(Ie).reduce((ke,[Ze,Ce])=>Object.defineProperty(ke,Ze,{value:Ce,enumerable:!0}),{}):void 0}gtag(...Ie){try{this._gtag(...Ie.filter(ke=>void 0!==ke))}catch(ke){this.throw(ke)}}event(Ie,ke,Ze,Ce,Nt,Kt){try{const me=new Map;ke&&me.set("event_category",ke),Ze&&me.set("event_label",Ze),Ce&&me.set("value",Ce),void 0!==Nt&&me.set("interaction",Nt),Kt&&Object.entries(Kt).map(([fe,ye])=>me.set(fe,ye));const ee=this.toKeyValue(me);ee?this.gtag("event",Ie,ee):this.gtag("event",Ie)}catch(me){this.throw(me)}}pageView(Ie,ke,Ze,Ce){try{const Nt=new Map([["page_path",Ie]]);ke&&Nt.set("page_title",ke),(Ze||this.document)&&Nt.set("page_location",Ze||this.document.location.href),Ce&&Object.entries(Ce).map(([Kt,me])=>Nt.set(Kt,me)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(Nt))}catch(Nt){this.throw(Nt)}}appView(Ie,ke,Ze,Ce,Nt){try{const Kt=new Map([["screen_name",Ie],["app_name",ke]]);Ze&&Kt.set("app_id",Ze),Ce&&Kt.set("app_version",Ce),Nt&&Kt.set("app_installer_id",Nt),this.gtag("event","screen_view",this.toKeyValue(Kt))}catch(Kt){this.throw(Kt)}}set(...Ie){try{this._gtag("set",...Ie)}catch(ke){this.throw(ke)}}exception(Ie,ke){try{const Ze=new Map;Ie&&Ze.set("description",Ie),ke&&Ze.set("fatal",ke),this.toKeyValue(Ze)?this.gtag("event","exception",this.toKeyValue(Ze)):this.gtag("event","exception")}catch(Ze){this.throw(Ze)}}}return k.\u0275fac=function(Ie){return new(Ie||k)(s.KVO(F),s.KVO(v.qQ),s.KVO(m))},k.\u0275prov=s.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Z={provide:s.hnV,multi:!0,useFactory:function ne(k,ue,Ie){return(0,r.A)(function*(){if(!k.trackingCode)return void((0,s.naY)()||console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule."));if(!ue)return void((0,s.naY)()||console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface."));Ie||(0,s.naY)()||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),k.uri=k.uri||`https://www.googletagmanager.com/gtag/js?id=${k.trackingCode}`,k.initCommands=k?.initCommands??[],k.initCommands.find(Ce=>"config"===Ce.command)||k.initCommands.unshift({command:"config",values:[k.trackingCode]}),k.initCommands.find(Ce=>"js"===Ce.command)||k.initCommands.unshift({command:"js",values:[new Date]});for(const Ce of k.initCommands)ue(Ce.command,...Ce.values);const ke=Ie.createElement("script");ke.async=!0,ke.src=k.uri,k.nonce&&ke.setAttribute("nonce",k.nonce),Ie.getElementsByTagName("head")[0].appendChild(ke)})},deps:[F,m,v.qQ]};new s.nKC("ngx-google-analytics-routing-settings",{factory:()=>({})});let he=(()=>{class k{static forRoot(Ie,ke=[],Ze,Ce,Nt){return{ngModule:k,providers:[{provide:F,useValue:{trackingCode:Ie,initCommands:ke,uri:Ze,enableTracing:Ce,nonce:Nt}},Z]}}}return k.\u0275fac=function(Ie){return new(Ie||k)},k.\u0275mod=s.$C({type:k}),k.\u0275inj=s.G2t({}),k})()},35286:(ln,qe,w)=>{"use strict";w.d(qe,{GY:()=>Ie,Rl:()=>ye,i0:()=>Be,y2:()=>Ln});var r=w(28407),s=w(60177),v=w(54438),S=w(85052),M=w(76718),C=w(15877),d=w(43654),F=w(32914),P=w(99539),G=w(21082),N=w(49784),x=w(35160),m=w(36110),L=(w(37925),w(60830)),ae=w(40832),U=w(21626),Z=w(345);let z=(()=>{var We;class Ve{constructor(){this._buttonClick$=new S.B,this.copied$=this._buttonClick$.pipe((0,F.n)(()=>(0,M.h)((0,C.of)(!0),(0,d.O)(3e3).pipe((0,P.u)(!1)))),(0,G.F)(),(0,N.t)(1)),this.copiedText$=this.copied$.pipe((0,x.Z)(!1),(0,m.T)(Y=>Y?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(We=Ve).\u0275fac=function(Y){return new(Y||We)},We.\u0275cmp=v.VBU({type:We,selectors:[["markdown-clipboard"]],standalone:!0,features:[v.aNF],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(Y,b){1&Y&&(v.j41(0,"button",0),v.nI1(1,"async"),v.bIt("click",function(){return b.onCopyToClipboardClick()}),v.EFF(2),v.nI1(3,"async"),v.k0s()),2&Y&&(v.AVh("copied",v.bMT(1,3,b.copied$)),v.R7$(2),v.JRh(v.bMT(3,5,b.copiedText$)))},dependencies:[s.Jj],encapsulation:2,changeDetection:0}),Ve})();const J=new v.nKC("CLIPBOARD_OPTIONS"),ue=new v.nKC("MARKED_EXTENSIONS"),Ie=new v.nKC("MARKED_OPTIONS"),ee=new v.nKC("SECURITY_CONTEXT");let ye=(()=>{var We;class Ve{get options(){return this._options}set options(Y){this._options={...this.DEFAULT_MARKED_OPTIONS,...Y}}get renderer(){return this.options.renderer}set renderer(Y){this.options.renderer=Y}constructor(Y,b,R,T,V,j,h){this.clipboardOptions=Y,this.extensions=b,this.platform=T,this.securityContext=V,this.http=j,this.sanitizer=h,this.DEFAULT_MARKED_OPTIONS={renderer:new ae.A4},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new S.B,this.reload$=this._reload$.asObservable(),this.options=R}parse(Y,b=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:R,inline:T,emoji:V,mermaid:j,disableSanitizer:h}=b,I={...this.options,...b.markedOptions},xe=I.renderer||this.renderer||new ae.A4;this.extensions&&(this.renderer=this.extendsRendererForExtensions(xe)),j&&(this.renderer=this.extendsRendererForMermaid(xe));const ie=this.trimIndentation(Y),D=R?this.decodeHtml(ie):ie,K=V?this.parseEmoji(D):D,se=this.parseMarked(K,I,T);return(h?se:this.sanitizer.sanitize(this.securityContext,se))||""}render(Y,b=this.DEFAULT_RENDER_OPTIONS,R){const{clipboard:T,clipboardOptions:V,katex:j,katexOptions:h,mermaid:I,mermaidOptions:xe}=b;j&&this.renderKatex(Y,{...this.DEFAULT_KATEX_OPTIONS,...h}),I&&this.renderMermaid(Y,{...this.DEFAULT_MERMAID_OPTIONS,...xe}),T&&this.renderClipboard(Y,R,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...V}),this.highlight(Y)}reload(){this._reload$.next()}getSource(Y){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(Y,{responseType:"text"}).pipe((0,m.T)(b=>this.handleExtension(Y,b)))}highlight(Y){if(!(0,s.UE)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;Y||(Y=document);const b=Y.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(b,R=>R.classList.add("language-none")),Prism.highlightAllUnder(Y)}decodeHtml(Y){if(!(0,s.UE)(this.platform))return Y;const b=document.createElement("textarea");return b.innerHTML=Y,b.value}extendsRendererForExtensions(Y){const b=Y;return!0===b.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&ae.xI.use(...this.extensions),b.\u0275NgxMarkdownRendererExtendedForExtensions=!0),Y}extendsRendererForMermaid(Y){const b=Y;if(!0===b.\u0275NgxMarkdownRendererExtendedForMermaid)return Y;const R=Y.code;return Y.code=function(T,V,j){return"mermaid"===V?`<div class="mermaid">${T}</div>`:R.call(this,T,V,j)},b.\u0275NgxMarkdownRendererExtendedForMermaid=!0,Y}handleExtension(Y,b){const R=Y.lastIndexOf("://"),T=R>-1?Y.substring(R+4):Y,V=T.lastIndexOf("/"),j=V>-1?T.substring(V+1).split("?")[0]:"",h=j.lastIndexOf("."),I=h>-1?j.substring(h+1):"";return I&&"md"!==I?"```"+I+"\n"+b+"\n```":b}parseMarked(Y,b,R=!1){if(b.renderer){const T={...b.renderer};delete T.\u0275NgxMarkdownRendererExtendedForExtensions,delete T.\u0275NgxMarkdownRendererExtendedForMermaid,delete b.renderer,ae.xI.use({renderer:T})}return R?ae.xI.parseInline(Y,b):ae.xI.parse(Y,b)}parseEmoji(Y){if(!(0,s.UE)(this.platform))return Y;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(Y)}renderKatex(Y,b){if((0,s.UE)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(Y,b)}}renderClipboard(Y,b,R){if(!(0,s.UE)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!b)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:T,buttonTemplate:V}=R,j=Y.querySelectorAll("pre");for(let h=0;h<j.length;h++){const I=j.item(h),xe=document.createElement("div");xe.style.position="relative",I.parentNode.insertBefore(xe,I),xe.appendChild(I);const ie=document.createElement("div");let D,K;if(ie.style.position="absolute",ie.style.top=".5em",ie.style.right=".5em",ie.style.opacity="0",ie.style.transition="opacity 250ms ease-out",ie.style.zIndex="1",xe.insertAdjacentElement("beforeend",ie),I.onmouseover=()=>ie.style.opacity="1",I.onmouseout=()=>ie.style.opacity="0",T){const se=b.createComponent(T);D=se.hostView,se.changeDetectorRef.markForCheck()}else if(V)D=b.createEmbeddedView(V);else{const se=b.createComponent(z);D=se.hostView,se.changeDetectorRef.markForCheck()}D.rootNodes.forEach(se=>{se.onmouseover=()=>ie.style.opacity="1",ie.appendChild(se),K=new ClipboardJS(se,{text:()=>I.innerText})}),D.onDestroy(()=>K.destroy())}}renderMermaid(Y,b=this.DEFAULT_MERMAID_OPTIONS){if(!(0,s.UE)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const R=Y.querySelectorAll(".mermaid");0!==R.length&&(mermaid.initialize(b),mermaid.run({nodes:R}))}trimIndentation(Y){if(!Y)return"";let b;return Y.split("\n").map(R=>{let T=b;return R.length>0&&(T=isNaN(T)?R.search(/\S|$/):Math.min(R.search(/\S|$/),T)),isNaN(b)&&(b=T),T?R.substring(T):R}).join("\n")}}return(We=Ve).\u0275fac=function(Y){return new(Y||We)(v.KVO(J,8),v.KVO(ue,8),v.KVO(Ie,8),v.KVO(v.Agw),v.KVO(ee),v.KVO(U.Qq,8),v.KVO(Z.up))},We.\u0275prov=v.jDH({token:We,factory:We.\u0275fac}),Ve})(),Be=(()=>{var We;class Ve{constructor(Y,b,R,T,V){this.domSanitizer=Y,this.elementRef=b,this.markdownService=R,this.viewContainerRef=T,this.zone=V}transform(Y,b){var R=this;return(0,r.A)(function*(){if(null==Y)return"";if("string"!=typeof Y)return console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof Y}]`),Y;const T=yield R.markdownService.parse(Y,b);return R.zone.onStable.pipe((0,L.$)()).subscribe(()=>R.markdownService.render(R.elementRef.nativeElement,b,R.viewContainerRef)),R.domSanitizer.bypassSecurityTrustHtml(T)})()}}return(We=Ve).\u0275fac=function(Y){return new(Y||We)(v.rXU(Z.up,16),v.rXU(v.aKT,16),v.rXU(ye,16),v.rXU(v.c1b,16),v.rXU(v.SKi,16))},We.\u0275pipe=v.EJ8({name:"markdown",type:We,pure:!0,standalone:!0}),Ve})();function yt(We){return[ye,We?.loader??[],We?.clipboardOptions??[],We?.markedOptions??[],{provide:ue,useValue:We?.markedExtensions??[]},{provide:ee,useValue:We?.sanitize??v.WPN.HTML}]}let Ln=(()=>{var We;class Ve{static forRoot(Y){return{ngModule:Ve,providers:[yt(Y)]}}static forChild(){return{ngModule:Ve}}}return(We=Ve).\u0275fac=function(Y){return new(Y||We)},We.\u0275mod=v.$C({type:We}),We.\u0275inj=v.G2t({imports:[s.MD]}),Ve})();var Tt;!function(We){let Ve;var b;let wt,Y;(b=Ve=We.SecurityLevel||(We.SecurityLevel={})).Strict="strict",b.Loose="loose",b.Antiscript="antiscript",b.Sandbox="sandbox",function(b){b.Base="base",b.Forest="forest",b.Dark="dark",b.Default="default",b.Neutral="neutral"}(wt=We.Theme||(We.Theme={})),function(b){b[b.Debug=1]="Debug",b[b.Info=2]="Info",b[b.Warn=3]="Warn",b[b.Error=4]="Error",b[b.Fatal=5]="Fatal"}(Y=We.LogLevel||(We.LogLevel={}))}(Tt||(Tt={}))},74902:(ln,qe,w)=>{"use strict";var r;w.d(qe,{F:()=>S});var s=w(54438),v=w(5442);let S=(()=>{var M;class C{constructor(){this._papa=r||(r=w.t(v,2))}parse(F,P){return this._papa.parse(F,P)}unparse(F,P){return this._papa.unparse(F,P)}setLocalChunkSize(F){this._papa.LocalChunkSize=F}setRemoteChunkSize(F){this._papa.RemoteChunkSize=F}setDefaultDelimiter(F){this._papa.DefaultDelimiter=F}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}}return(M=C).\u0275fac=function(F){return new(F||M)},M.\u0275prov=s.jDH({token:M,factory:M.\u0275fac,providedIn:"root"}),C})()},27878:(ln,qe,w)=>{"use strict";w.d(qe,{CP:()=>P,TL:()=>G,wR:()=>N});var r=w(54438),s=w(85052),v=w(11756),S=w(2573),M=w(15152),C=function(x){return x[x.Queue=0]="Queue",x[x.Uploading=1]="Uploading",x[x.Done=2]="Done",x[x.Cancelled=3]="Cancelled",x}(C||{});function d(x){if(0===x)return"0 Byte";const L=Math.floor(Math.log(x)/Math.log(1024));return parseFloat((x/Math.pow(1024,L)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][L]}class F{constructor(m=Number.POSITIVE_INFINITY,E=["*"],L=Number.POSITIVE_INFINITY,ae=Number.POSITIVE_INFINITY){this.queue=[],this.serviceEvents=new r.bkB,this.uploadScheduler=new s.B,this.subs=[],this.contentTypes=E,this.maxUploads=L,this.maxFileSize=ae,this.uploadScheduler.pipe((0,v.Z)(U=>this.startUpload(U),m)).subscribe(U=>this.serviceEvents.emit(U))}handleFiles(m){const E=[].reduce.call(m,(L,ae,U)=>{const Z=L.length+this.queue.length+1;if(this.isContentTypeAllowed(ae.type)&&Z<=this.maxUploads&&this.isFileSizeAllowed(ae.size))L=L.concat(ae);else{const ne=this.makeUploadFile(ae,U);this.serviceEvents.emit({type:"rejected",file:ne})}return L},[]);this.queue.push(...E.map((L,ae)=>{const U=this.makeUploadFile(L,ae);return this.serviceEvents.emit({type:"addedToQueue",file:U}),U})),this.serviceEvents.emit({type:"allAddedToQueue"})}initInputEvents(m){return m.subscribe(E=>{switch(E.type){case"uploadFile":const L=this.queue.findIndex(q=>q===E.file);-1!==L&&E.file&&this.uploadScheduler.next({file:this.queue[L],event:E});break;case"uploadAll":this.queue.filter(q=>q.progress.status===C.Queue).forEach(q=>this.uploadScheduler.next({file:q,event:E}));break;case"cancel":const U=E.id||null;if(!U)return;this.subs.filter(q=>q.id===U).forEach(q=>{if(q.sub){q.sub.unsubscribe();const le=this.queue.findIndex(z=>z.id===U);-1!==le&&(this.queue[le].progress.status=C.Cancelled,this.serviceEvents.emit({type:"cancelled",file:this.queue[le]}))}});break;case"cancelAll":this.subs.forEach(q=>{q.sub&&q.sub.unsubscribe();const le=this.queue.find(z=>z.id===q.id);le&&(le.progress.status=C.Cancelled,this.serviceEvents.emit({type:"cancelled",file:le}))});break;case"remove":if(!E.id)return;const ne=this.queue.findIndex(q=>q.id===E.id);if(-1!==ne){const q=this.queue[ne];this.queue.splice(ne,1),this.serviceEvents.emit({type:"removed",file:q})}break;case"removeAll":this.queue.length&&(this.queue=[],this.serviceEvents.emit({type:"removedAll"}))}})}startUpload(m){return new S.c(E=>{const L=this.uploadFile(m.file,m.event).pipe((0,M.j)(()=>{E.closed||E.complete()})).subscribe(ae=>{E.next(ae)},ae=>{E.error(ae),E.complete()},()=>{E.complete()});this.subs.push({id:m.file.id,sub:L})})}uploadFile(m,E){return new S.c(L=>{const ae=E.url||"",U=E.method||"POST",Z=E.data||{},ne=E.headers||{},q=new XMLHttpRequest,le=(new Date).getTime();let z=m.progress.data&&m.progress.data.startTime||le,J=0,he=null;q.upload.addEventListener("progress",we=>{if(we.lengthComputable){const k=Math.round(100*we.loaded/we.total),ue=(new Date).getTime()-le;J=Math.round(we.loaded/ue*1e3),z=m.progress.data&&m.progress.data.startTime||(new Date).getTime(),he=Math.ceil((we.total-we.loaded)/J),m.progress={status:C.Uploading,data:{percentage:k,speed:J,speedHuman:`${d(J)}/s`,startTime:z,endTime:null,eta:he,etaHuman:this.secondsToHuman(he)}},L.next({type:"uploading",file:m})}},!1),q.upload.addEventListener("error",we=>{L.error(we),L.complete()}),q.onreadystatechange=()=>{if(q.readyState===XMLHttpRequest.DONE){const we=Math.round(m.size/((new Date).getTime()-z)*1e3);m.progress={status:C.Done,data:{percentage:100,speed:we,speedHuman:`${d(we)}/s`,startTime:z,endTime:(new Date).getTime(),eta:he,etaHuman:this.secondsToHuman(he||0)}},m.responseStatus=q.status;try{m.response=JSON.parse(q.response)}catch{m.response=q.response}m.responseHeaders=this.parseResponseHeaders(q.getAllResponseHeaders()),L.next({type:"done",file:m}),L.complete()}},q.open(U,ae,!0),q.withCredentials=!!E.withCredentials;try{const we=m.nativeFile,k=this.queue.findIndex(Ie=>Ie.nativeFile===we);let ue;this.queue[k].progress.status===C.Cancelled&&L.complete(),Object.keys(ne).forEach(Ie=>q.setRequestHeader(Ie,ne[Ie])),!1!==E.includeWebKitFormBoundary?(Object.keys(Z).forEach(Ie=>m.form.append(Ie,Z[Ie])),m.form.append(E.fieldName||"file",we,we.name),ue=m.form):ue=we,this.serviceEvents.emit({type:"start",file:m}),q.send(ue)}catch{L.complete()}return()=>{q.abort()}})}secondsToHuman(m){return new Date(1e3*m).toISOString().substr(11,8)}generateId(){return Math.random().toString(36).substring(7)}setContentTypes(m){this.contentTypes=typeof m<"u"&&m instanceof Array?void 0!==m.find(E=>"*"===E)?["*"]:m:["*"]}allContentTypesAllowed(){return void 0!==this.contentTypes.find(m=>"*"===m)}isContentTypeAllowed(m){return!!this.allContentTypesAllowed()||void 0!==this.contentTypes.find(E=>E===m)}isFileSizeAllowed(m){return!this.maxFileSize||m<=this.maxFileSize}makeUploadFile(m,E){return{fileIndex:E,id:this.generateId(),name:m.name,size:m.size,type:m.type,form:new FormData,progress:{status:C.Queue,data:{percentage:0,speed:0,speedHuman:`${d(0)}/s`,startTime:null,endTime:null,eta:null,etaHuman:null}},lastModifiedDate:new Date(m.lastModified),sub:void 0,nativeFile:m}}parseResponseHeaders(m){return m?m.split("\n").map(E=>E.split(/: */,2)).filter(E=>E[0]).reduce((E,L)=>(E[L[0]]=L[1],E),{}):{}}}let P=(()=>{var x;class m{constructor(L){this.elementRef=L,this.stopEvent=ae=>{ae.stopPropagation(),ae.preventDefault()},this.uploadOutput=new r.bkB}ngOnInit(){this._sub=[],this.upload=new F(this.options&&this.options.concurrency||Number.POSITIVE_INFINITY,this.options&&this.options.allowedContentTypes||["*"],this.options&&this.options.maxUploads||Number.POSITIVE_INFINITY,this.options&&this.options.maxFileSize||Number.POSITIVE_INFINITY),this.el=this.elementRef.nativeElement,this._sub.push(this.upload.serviceEvents.subscribe(ne=>{this.uploadOutput.emit(ne)})),this.uploadInput instanceof r.bkB&&this._sub.push(this.upload.initInputEvents(this.uploadInput)),this.el.addEventListener("drop",this.stopEvent,!1),this.el.addEventListener("dragenter",this.stopEvent,!1),this.el.addEventListener("dragover",this.stopEvent,!1)}ngOnDestroy(){this._sub&&this._sub.forEach(L=>L.unsubscribe())}onDrop(L){L.stopPropagation(),L.preventDefault(),this.uploadOutput.emit({type:"drop"}),this.upload.handleFiles(L.dataTransfer.files)}onDragOver(L){L&&this.uploadOutput.emit({type:"dragOver"})}onDragLeave(L){L&&this.uploadOutput.emit({type:"dragOut"})}}return(x=m).\u0275fac=function(L){return new(L||x)(r.rXU(r.aKT))},x.\u0275dir=r.FsC({type:x,selectors:[["","ngFileDrop",""]],hostBindings:function(L,ae){1&L&&r.bIt("drop",function(Z){return ae.onDrop(Z)})("dragover",function(Z){return ae.onDragOver(Z)})("dragleave",function(Z){return ae.onDragLeave(Z)})},inputs:{options:"options",uploadInput:"uploadInput"},outputs:{uploadOutput:"uploadOutput"}}),m})(),G=(()=>{var x;class m{constructor(L){this.elementRef=L,this.fileListener=()=>{this.el.files&&this.upload.handleFiles(this.el.files)},this.uploadOutput=new r.bkB}ngOnInit(){this._sub=[],this.upload=new F(this.options&&this.options.concurrency||Number.POSITIVE_INFINITY,this.options&&this.options.allowedContentTypes||["*"],this.options&&this.options.maxUploads||Number.POSITIVE_INFINITY,this.options&&this.options.maxFileSize||Number.POSITIVE_INFINITY),this.el=this.elementRef.nativeElement,this.el.addEventListener("change",this.fileListener,!1),this._sub.push(this.upload.serviceEvents.subscribe(ne=>{this.uploadOutput.emit(ne)})),this.uploadInput instanceof r.bkB&&this._sub.push(this.upload.initInputEvents(this.uploadInput))}ngOnDestroy(){this.el&&(this.el.removeEventListener("change",this.fileListener,!1),this._sub.forEach(L=>L.unsubscribe()))}}return(x=m).\u0275fac=function(L){return new(L||x)(r.rXU(r.aKT))},x.\u0275dir=r.FsC({type:x,selectors:[["","ngFileSelect",""]],inputs:{options:"options",uploadInput:"uploadInput"},outputs:{uploadOutput:"uploadOutput"}}),m})(),N=(()=>{var x;class m{}return(x=m).\u0275fac=function(L){return new(L||x)},x.\u0275mod=r.$C({type:x}),x.\u0275inj=r.G2t({}),m})()},40832:(ln,qe,w)=>{"use strict";w.d(qe,{A4:()=>ke,xI:()=>Se});var r=w(15114),s=w(21766),v=w(99158);let M={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function C(Y){M=Y}const d=/[&<>"']/,F=new RegExp(d.source,"g"),P=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,G=new RegExp(P.source,"g"),N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},x=Y=>N[Y];function m(Y,b){if(b){if(d.test(Y))return Y.replace(F,x)}else if(P.test(Y))return Y.replace(G,x);return Y}const E=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,ae=/(^|[^\[])\^/g;function U(Y,b){Y="string"==typeof Y?Y:Y.source,b=b||"";const R={replace:(T,V)=>(V=(V="object"==typeof V&&"source"in V?V.source:V).replace(ae,"$1"),Y=Y.replace(T,V),R),getRegex:()=>new RegExp(Y,b)};return R}function Z(Y){try{Y=encodeURI(Y).replace(/%25/g,"%")}catch{return null}return Y}const ne={exec:()=>null};function q(Y,b){const T=Y.replace(/\|/g,(j,h,I)=>{let xe=!1,ie=h;for(;--ie>=0&&"\\"===I[ie];)xe=!xe;return xe?"|":" |"}).split(/ \|/);let V=0;if(T[0].trim()||T.shift(),T.length>0&&!T[T.length-1].trim()&&T.pop(),b)if(T.length>b)T.splice(b);else for(;T.length<b;)T.push("");for(;V<T.length;V++)T[V]=T[V].trim().replace(/\\\|/g,"|");return T}function le(Y,b,R){const T=Y.length;if(0===T)return"";let V=0;for(;V<T;){const j=Y.charAt(T-V-1);if(j!==b||R){if(j===b||!R)break;V++}else V++}return Y.slice(0,T-V)}function J(Y,b,R,T){const V=b.href,j=b.title?m(b.title):null,h=Y[1].replace(/\\([\[\]])/g,"$1");if("!"!==Y[0].charAt(0)){T.state.inLink=!0;const I={type:"link",raw:R,href:V,title:j,text:h,tokens:T.inlineTokens(h)};return T.state.inLink=!1,I}return{type:"image",raw:R,href:V,title:j,text:m(h)}}class we{constructor(b){(0,v.A)(this,"options",void 0),(0,v.A)(this,"rules",void 0),(0,v.A)(this,"lexer",void 0),this.options=b||M}space(b){const R=this.rules.block.newline.exec(b);if(R&&R[0].length>0)return{type:"space",raw:R[0]}}code(b){const R=this.rules.block.code.exec(b);if(R){const T=R[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:R[0],codeBlockStyle:"indented",text:this.options.pedantic?T:le(T,"\n")}}}fences(b){const R=this.rules.block.fences.exec(b);if(R){const T=R[0],V=function he(Y,b){const R=Y.match(/^(\s+)(?:```)/);if(null===R)return b;const T=R[1];return b.split("\n").map(V=>{const j=V.match(/^\s+/);if(null===j)return V;const[h]=j;return h.length>=T.length?V.slice(T.length):V}).join("\n")}(T,R[3]||"");return{type:"code",raw:T,lang:R[2]?R[2].trim().replace(this.rules.inline._escapes,"$1"):R[2],text:V}}}heading(b){const R=this.rules.block.heading.exec(b);if(R){let T=R[2].trim();if(/#$/.test(T)){const V=le(T,"#");(this.options.pedantic||!V||/ $/.test(V))&&(T=V.trim())}return{type:"heading",raw:R[0],depth:R[1].length,text:T,tokens:this.lexer.inline(T)}}}hr(b){const R=this.rules.block.hr.exec(b);if(R)return{type:"hr",raw:R[0]}}blockquote(b){const R=this.rules.block.blockquote.exec(b);if(R){const T=le(R[0].replace(/^ *>[ \t]?/gm,""),"\n"),V=this.lexer.state.top;this.lexer.state.top=!0;const j=this.lexer.blockTokens(T);return this.lexer.state.top=V,{type:"blockquote",raw:R[0],tokens:j,text:T}}}list(b){let R=this.rules.block.list.exec(b);if(R){let T=R[1].trim();const V=T.length>1,j={type:"list",raw:"",ordered:V,start:V?+T.slice(0,-1):"",loose:!1,items:[]};T=V?`\\d{1,9}\\${T.slice(-1)}`:`\\${T}`,this.options.pedantic&&(T=V?T:"[*+-]");const h=new RegExp(`^( {0,3}${T})((?:[\t ][^\\n]*)?(?:\\n|$))`);let I="",xe="",ie=!1;for(;b;){let D=!1;if(!(R=h.exec(b))||this.rules.block.hr.test(b))break;I=R[0],b=b.substring(I.length);let K=R[2].split("\n",1)[0].replace(/^\t+/,Oe=>" ".repeat(3*Oe.length)),se=b.split("\n",1)[0],Le=0;this.options.pedantic?(Le=2,xe=K.trimStart()):(Le=R[2].search(/[^ ]/),Le=Le>4?1:Le,xe=K.slice(Le),Le+=R[1].length);let ct=!1;if(!K&&/^ *$/.test(se)&&(I+=se+"\n",b=b.substring(se.length+1),D=!0),!D){const Oe=new RegExp(`^ {0,${Math.min(3,Le-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Pt=new RegExp(`^ {0,${Math.min(3,Le-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),it=new RegExp(`^ {0,${Math.min(3,Le-1)}}(?:\`\`\`|~~~)`),Bt=new RegExp(`^ {0,${Math.min(3,Le-1)}}#`);for(;b;){const pn=b.split("\n",1)[0];if(se=pn,this.options.pedantic&&(se=se.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),it.test(se)||Bt.test(se)||Oe.test(se)||Pt.test(b))break;if(se.search(/[^ ]/)>=Le||!se.trim())xe+="\n"+se.slice(Le);else{if(ct||K.search(/[^ ]/)>=4||it.test(K)||Bt.test(K)||Pt.test(K))break;xe+="\n"+se}!ct&&!se.trim()&&(ct=!0),I+=pn+"\n",b=b.substring(pn.length+1),K=se.slice(Le)}}j.loose||(ie?j.loose=!0:/\n *\n *$/.test(I)&&(ie=!0));let en,ut=null;this.options.gfm&&(ut=/^\[[ xX]\] /.exec(xe),ut&&(en="[ ] "!==ut[0],xe=xe.replace(/^\[[ xX]\] +/,""))),j.items.push({type:"list_item",raw:I,task:!!ut,checked:en,loose:!1,text:xe,tokens:[]}),j.raw+=I}j.items[j.items.length-1].raw=I.trimEnd(),j.items[j.items.length-1].text=xe.trimEnd(),j.raw=j.raw.trimEnd();for(let D=0;D<j.items.length;D++)if(this.lexer.state.top=!1,j.items[D].tokens=this.lexer.blockTokens(j.items[D].text,[]),!j.loose){const K=j.items[D].tokens.filter(Le=>"space"===Le.type),se=K.length>0&&K.some(Le=>/\n.*\n/.test(Le.raw));j.loose=se}if(j.loose)for(let D=0;D<j.items.length;D++)j.items[D].loose=!0;return j}}html(b){const R=this.rules.block.html.exec(b);if(R)return{type:"html",block:!0,raw:R[0],pre:"pre"===R[1]||"script"===R[1]||"style"===R[1],text:R[0]}}def(b){const R=this.rules.block.def.exec(b);if(R){const T=R[1].toLowerCase().replace(/\s+/g," "),V=R[2]?R[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",j=R[3]?R[3].substring(1,R[3].length-1).replace(this.rules.inline._escapes,"$1"):R[3];return{type:"def",tag:T,raw:R[0],href:V,title:j}}}table(b){const R=this.rules.block.table.exec(b);if(R){if(!/[:|]/.test(R[2]))return;const T={type:"table",raw:R[0],header:q(R[1]).map(V=>({text:V,tokens:[]})),align:R[2].replace(/^\||\| *$/g,"").split("|"),rows:R[3]&&R[3].trim()?R[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(T.header.length===T.align.length){let j,h,I,xe,V=T.align.length;for(j=0;j<V;j++){const ie=T.align[j];ie&&(T.align[j]=/^ *-+: *$/.test(ie)?"right":/^ *:-+: *$/.test(ie)?"center":/^ *:-+ *$/.test(ie)?"left":null)}for(V=T.rows.length,j=0;j<V;j++)T.rows[j]=q(T.rows[j],T.header.length).map(ie=>({text:ie,tokens:[]}));for(V=T.header.length,h=0;h<V;h++)T.header[h].tokens=this.lexer.inline(T.header[h].text);for(V=T.rows.length,h=0;h<V;h++)for(xe=T.rows[h],I=0;I<xe.length;I++)xe[I].tokens=this.lexer.inline(xe[I].text);return T}}}lheading(b){const R=this.rules.block.lheading.exec(b);if(R)return{type:"heading",raw:R[0],depth:"="===R[2].charAt(0)?1:2,text:R[1],tokens:this.lexer.inline(R[1])}}paragraph(b){const R=this.rules.block.paragraph.exec(b);if(R){const T="\n"===R[1].charAt(R[1].length-1)?R[1].slice(0,-1):R[1];return{type:"paragraph",raw:R[0],text:T,tokens:this.lexer.inline(T)}}}text(b){const R=this.rules.block.text.exec(b);if(R)return{type:"text",raw:R[0],text:R[0],tokens:this.lexer.inline(R[0])}}escape(b){const R=this.rules.inline.escape.exec(b);if(R)return{type:"escape",raw:R[0],text:m(R[1])}}tag(b){const R=this.rules.inline.tag.exec(b);if(R)return!this.lexer.state.inLink&&/^<a /i.test(R[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(R[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(R[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(R[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:R[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:R[0]}}link(b){const R=this.rules.inline.link.exec(b);if(R){const T=R[2].trim();if(!this.options.pedantic&&/^</.test(T)){if(!/>$/.test(T))return;const h=le(T.slice(0,-1),"\\");if((T.length-h.length)%2==0)return}else{const h=function z(Y,b){if(-1===Y.indexOf(b[1]))return-1;let R=0;for(let T=0;T<Y.length;T++)if("\\"===Y[T])T++;else if(Y[T]===b[0])R++;else if(Y[T]===b[1]&&(R--,R<0))return T;return-1}(R[2],"()");if(h>-1){const xe=(0===R[0].indexOf("!")?5:4)+R[1].length+h;R[2]=R[2].substring(0,h),R[0]=R[0].substring(0,xe).trim(),R[3]=""}}let V=R[2],j="";if(this.options.pedantic){const h=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(V);h&&(V=h[1],j=h[3])}else j=R[3]?R[3].slice(1,-1):"";return V=V.trim(),/^</.test(V)&&(V=this.options.pedantic&&!/>$/.test(T)?V.slice(1):V.slice(1,-1)),J(R,{href:V&&V.replace(this.rules.inline._escapes,"$1"),title:j&&j.replace(this.rules.inline._escapes,"$1")},R[0],this.lexer)}}reflink(b,R){let T;if((T=this.rules.inline.reflink.exec(b))||(T=this.rules.inline.nolink.exec(b))){let V=(T[2]||T[1]).replace(/\s+/g," ");if(V=R[V.toLowerCase()],!V){const j=T[0].charAt(0);return{type:"text",raw:j,text:j}}return J(T,V,T[0],this.lexer)}}emStrong(b,R,T=""){let V=this.rules.inline.emStrong.lDelim.exec(b);if(!(!V||V[3]&&T.match(/[\p{L}\p{N}]/u))&&(!V[1]&&!V[2]||!T||this.rules.inline.punctuation.exec(T))){const h=[...V[0]].length-1;let I,xe,ie=h,D=0;const K="*"===V[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(K.lastIndex=0,R=R.slice(-1*b.length+h);null!=(V=K.exec(R));){if(I=V[1]||V[2]||V[3]||V[4]||V[5]||V[6],!I)continue;if(xe=[...I].length,V[3]||V[4]){ie+=xe;continue}if((V[5]||V[6])&&h%3&&!((h+xe)%3)){D+=xe;continue}if(ie-=xe,ie>0)continue;xe=Math.min(xe,xe+ie+D);const se=[...V[0]][0].length,Le=b.slice(0,h+V.index+se+xe);if(Math.min(h,xe)%2){const ut=Le.slice(1,-1);return{type:"em",raw:Le,text:ut,tokens:this.lexer.inlineTokens(ut)}}const ct=Le.slice(2,-2);return{type:"strong",raw:Le,text:ct,tokens:this.lexer.inlineTokens(ct)}}}}codespan(b){const R=this.rules.inline.code.exec(b);if(R){let T=R[2].replace(/\n/g," ");const V=/[^ ]/.test(T),j=/^ /.test(T)&&/ $/.test(T);return V&&j&&(T=T.substring(1,T.length-1)),T=m(T,!0),{type:"codespan",raw:R[0],text:T}}}br(b){const R=this.rules.inline.br.exec(b);if(R)return{type:"br",raw:R[0]}}del(b){const R=this.rules.inline.del.exec(b);if(R)return{type:"del",raw:R[0],text:R[2],tokens:this.lexer.inlineTokens(R[2])}}autolink(b){const R=this.rules.inline.autolink.exec(b);if(R){let T,V;return"@"===R[2]?(T=m(R[1]),V="mailto:"+T):(T=m(R[1]),V=T),{type:"link",raw:R[0],text:T,href:V,tokens:[{type:"text",raw:T,text:T}]}}}url(b){let R;if(R=this.rules.inline.url.exec(b)){let T,V;if("@"===R[2])T=m(R[0]),V="mailto:"+T;else{let j;do{j=R[0],R[0]=this.rules.inline._backpedal.exec(R[0])[0]}while(j!==R[0]);T=m(R[0]),V="www."===R[1]?"http://"+R[0]:R[0]}return{type:"link",raw:R[0],text:T,href:V,tokens:[{type:"text",raw:T,text:T}]}}}inlineText(b){const R=this.rules.inline.text.exec(b);if(R){let T;return T=this.lexer.state.inRawBlock?R[0]:m(R[0]),{type:"text",raw:R[0],text:T}}}}const k={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ne,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};k.def=U(k.def).replace("label",k._label).replace("title",k._title).getRegex(),k.bullet=/(?:[*+-]|\d{1,9}[.)])/,k.listItemStart=U(/^( *)(bull) */).replace("bull",k.bullet).getRegex(),k.list=U(k.list).replace(/bull/g,k.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+k.def.source+")").getRegex(),k._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",k._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,k.html=U(k.html,"i").replace("comment",k._comment).replace("tag",k._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),k.lheading=U(k.lheading).replace(/bull/g,k.bullet).getRegex(),k.paragraph=U(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.blockquote=U(k.blockquote).replace("paragraph",k.paragraph).getRegex(),k.normal={...k},k.gfm={...k.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},k.gfm.table=U(k.gfm.table).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.gfm.paragraph=U(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",k.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.pedantic={...k.normal,html:U("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",k._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ne,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:U(k.normal._paragraph).replace("hr",k.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",k.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const ue={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ne,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ne,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};ue.punctuation=U(ue.punctuation,"u").replace(/punctuation/g,ue._punctuation).getRegex(),ue.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,ue.anyPunctuation=/\\[punct]/g,ue._escapes=/\\([punct])/g,ue._comment=U(k._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ue.emStrong.lDelim=U(ue.emStrong.lDelim,"u").replace(/punct/g,ue._punctuation).getRegex(),ue.emStrong.rDelimAst=U(ue.emStrong.rDelimAst,"gu").replace(/punct/g,ue._punctuation).getRegex(),ue.emStrong.rDelimUnd=U(ue.emStrong.rDelimUnd,"gu").replace(/punct/g,ue._punctuation).getRegex(),ue.anyPunctuation=U(ue.anyPunctuation,"gu").replace(/punct/g,ue._punctuation).getRegex(),ue._escapes=U(ue._escapes,"gu").replace(/punct/g,ue._punctuation).getRegex(),ue._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ue._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ue.autolink=U(ue.autolink).replace("scheme",ue._scheme).replace("email",ue._email).getRegex(),ue._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ue.tag=U(ue.tag).replace("comment",ue._comment).replace("attribute",ue._attribute).getRegex(),ue._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ue._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ue._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ue.link=U(ue.link).replace("label",ue._label).replace("href",ue._href).replace("title",ue._title).getRegex(),ue.reflink=U(ue.reflink).replace("label",ue._label).replace("ref",k._label).getRegex(),ue.nolink=U(ue.nolink).replace("ref",k._label).getRegex(),ue.reflinkSearch=U(ue.reflinkSearch,"g").replace("reflink",ue.reflink).replace("nolink",ue.nolink).getRegex(),ue.normal={...ue},ue.pedantic={...ue.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:U(/^!?\[(label)\]\((.*?)\)/).replace("label",ue._label).getRegex(),reflink:U(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ue._label).getRegex()},ue.gfm={...ue.normal,escape:U(ue.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ue.gfm.url=U(ue.gfm.url,"i").replace("email",ue.gfm._extended_email).getRegex(),ue.breaks={...ue.gfm,br:U(ue.br).replace("{2,}","*").getRegex(),text:U(ue.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Ie{constructor(b){(0,v.A)(this,"tokens",void 0),(0,v.A)(this,"options",void 0),(0,v.A)(this,"state",void 0),(0,v.A)(this,"tokenizer",void 0),(0,v.A)(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=b||M,this.options.tokenizer=this.options.tokenizer||new we,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const R={block:k.normal,inline:ue.normal};this.options.pedantic?(R.block=k.pedantic,R.inline=ue.pedantic):this.options.gfm&&(R.block=k.gfm,R.inline=this.options.breaks?ue.breaks:ue.gfm),this.tokenizer.rules=R}static get rules(){return{block:k,inline:ue}}static lex(b,R){return new Ie(R).lex(b)}static lexInline(b,R){return new Ie(R).inlineTokens(b)}lex(b){let R;for(b=b.replace(/\r\n|\r/g,"\n"),this.blockTokens(b,this.tokens);R=this.inlineQueue.shift();)this.inlineTokens(R.src,R.tokens);return this.tokens}blockTokens(b,R=[]){let T,V,j,h;for(b=this.options.pedantic?b.replace(/\t/g,"    ").replace(/^ +$/gm,""):b.replace(/^( *)(\t+)/gm,(I,xe,ie)=>xe+"    ".repeat(ie.length));b;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(I=>!!(T=I.call({lexer:this},b,R))&&(b=b.substring(T.raw.length),R.push(T),!0)))){if(T=this.tokenizer.space(b)){b=b.substring(T.raw.length),1===T.raw.length&&R.length>0?R[R.length-1].raw+="\n":R.push(T);continue}if(T=this.tokenizer.code(b)){b=b.substring(T.raw.length),V=R[R.length-1],!V||"paragraph"!==V.type&&"text"!==V.type?R.push(T):(V.raw+="\n"+T.raw,V.text+="\n"+T.text,this.inlineQueue[this.inlineQueue.length-1].src=V.text);continue}if(T=this.tokenizer.fences(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.heading(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.hr(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.blockquote(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.list(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.html(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.def(b)){b=b.substring(T.raw.length),V=R[R.length-1],!V||"paragraph"!==V.type&&"text"!==V.type?this.tokens.links[T.tag]||(this.tokens.links[T.tag]={href:T.href,title:T.title}):(V.raw+="\n"+T.raw,V.text+="\n"+T.raw,this.inlineQueue[this.inlineQueue.length-1].src=V.text);continue}if(T=this.tokenizer.table(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.lheading(b)){b=b.substring(T.raw.length),R.push(T);continue}if(j=b,this.options.extensions&&this.options.extensions.startBlock){let I=1/0;const xe=b.slice(1);let ie;this.options.extensions.startBlock.forEach(D=>{ie=D.call({lexer:this},xe),"number"==typeof ie&&ie>=0&&(I=Math.min(I,ie))}),I<1/0&&I>=0&&(j=b.substring(0,I+1))}if(this.state.top&&(T=this.tokenizer.paragraph(j))){V=R[R.length-1],h&&"paragraph"===V.type?(V.raw+="\n"+T.raw,V.text+="\n"+T.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=V.text):R.push(T),h=j.length!==b.length,b=b.substring(T.raw.length);continue}if(T=this.tokenizer.text(b)){b=b.substring(T.raw.length),V=R[R.length-1],V&&"text"===V.type?(V.raw+="\n"+T.raw,V.text+="\n"+T.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=V.text):R.push(T);continue}if(b){const I="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(I);break}throw new Error(I)}}return this.state.top=!0,R}inline(b,R=[]){return this.inlineQueue.push({src:b,tokens:R}),R}inlineTokens(b,R=[]){let T,V,j,I,xe,ie,h=b;if(this.tokens.links){const D=Object.keys(this.tokens.links);if(D.length>0)for(;null!=(I=this.tokenizer.rules.inline.reflinkSearch.exec(h));)D.includes(I[0].slice(I[0].lastIndexOf("[")+1,-1))&&(h=h.slice(0,I.index)+"["+"a".repeat(I[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(I=this.tokenizer.rules.inline.blockSkip.exec(h));)h=h.slice(0,I.index)+"["+"a".repeat(I[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(I=this.tokenizer.rules.inline.anyPunctuation.exec(h));)h=h.slice(0,I.index)+"++"+h.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;b;)if(xe||(ie=""),xe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(D=>!!(T=D.call({lexer:this},b,R))&&(b=b.substring(T.raw.length),R.push(T),!0)))){if(T=this.tokenizer.escape(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.tag(b)){b=b.substring(T.raw.length),V=R[R.length-1],V&&"text"===T.type&&"text"===V.type?(V.raw+=T.raw,V.text+=T.text):R.push(T);continue}if(T=this.tokenizer.link(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.reflink(b,this.tokens.links)){b=b.substring(T.raw.length),V=R[R.length-1],V&&"text"===T.type&&"text"===V.type?(V.raw+=T.raw,V.text+=T.text):R.push(T);continue}if(T=this.tokenizer.emStrong(b,h,ie)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.codespan(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.br(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.del(b)){b=b.substring(T.raw.length),R.push(T);continue}if(T=this.tokenizer.autolink(b)){b=b.substring(T.raw.length),R.push(T);continue}if(!this.state.inLink&&(T=this.tokenizer.url(b))){b=b.substring(T.raw.length),R.push(T);continue}if(j=b,this.options.extensions&&this.options.extensions.startInline){let D=1/0;const K=b.slice(1);let se;this.options.extensions.startInline.forEach(Le=>{se=Le.call({lexer:this},K),"number"==typeof se&&se>=0&&(D=Math.min(D,se))}),D<1/0&&D>=0&&(j=b.substring(0,D+1))}if(T=this.tokenizer.inlineText(j)){b=b.substring(T.raw.length),"_"!==T.raw.slice(-1)&&(ie=T.raw.slice(-1)),xe=!0,V=R[R.length-1],V&&"text"===V.type?(V.raw+=T.raw,V.text+=T.text):R.push(T);continue}if(b){const D="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(D);break}throw new Error(D)}}return R}}class ke{constructor(b){(0,v.A)(this,"options",void 0),this.options=b||M}code(b,R,T){const V=(R||"").match(/^\S*/)?.[0];return b=b.replace(/\n$/,"")+"\n",V?'<pre><code class="language-'+m(V)+'">'+(T?b:m(b,!0))+"</code></pre>\n":"<pre><code>"+(T?b:m(b,!0))+"</code></pre>\n"}blockquote(b){return`<blockquote>\n${b}</blockquote>\n`}html(b,R){return b}heading(b,R,T){return`<h${R}>${b}</h${R}>\n`}hr(){return"<hr>\n"}list(b,R,T){const V=R?"ol":"ul";return"<"+V+(R&&1!==T?' start="'+T+'"':"")+">\n"+b+"</"+V+">\n"}listitem(b,R,T){return`<li>${b}</li>\n`}checkbox(b){return"<input "+(b?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(b){return`<p>${b}</p>\n`}table(b,R){return R&&(R=`<tbody>${R}</tbody>`),"<table>\n<thead>\n"+b+"</thead>\n"+R+"</table>\n"}tablerow(b){return`<tr>\n${b}</tr>\n`}tablecell(b,R){const T=R.header?"th":"td";return(R.align?`<${T} align="${R.align}">`:`<${T}>`)+b+`</${T}>\n`}strong(b){return`<strong>${b}</strong>`}em(b){return`<em>${b}</em>`}codespan(b){return`<code>${b}</code>`}br(){return"<br>"}del(b){return`<del>${b}</del>`}link(b,R,T){const V=Z(b);if(null===V)return T;let j='<a href="'+(b=V)+'"';return R&&(j+=' title="'+R+'"'),j+=">"+T+"</a>",j}image(b,R,T){const V=Z(b);if(null===V)return T;let j=`<img src="${b=V}" alt="${T}"`;return R&&(j+=` title="${R}"`),j+=">",j}text(b){return b}}class Ze{strong(b){return b}em(b){return b}codespan(b){return b}del(b){return b}html(b){return b}text(b){return b}link(b,R,T){return""+T}image(b,R,T){return""+T}br(){return""}}class Ce{constructor(b){(0,v.A)(this,"options",void 0),(0,v.A)(this,"renderer",void 0),(0,v.A)(this,"textRenderer",void 0),this.options=b||M,this.options.renderer=this.options.renderer||new ke,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ze}static parse(b,R){return new Ce(R).parse(b)}static parseInline(b,R){return new Ce(R).parseInline(b)}parse(b,R=!0){let T="";for(let V=0;V<b.length;V++){const j=b[V];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[j.type]){const h=j,I=this.options.extensions.renderers[h.type].call({parser:this},h);if(!1!==I||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)){T+=I||"";continue}}switch(j.type){case"space":continue;case"hr":T+=this.renderer.hr();continue;case"heading":{const h=j;T+=this.renderer.heading(this.parseInline(h.tokens),h.depth,this.parseInline(h.tokens,this.textRenderer).replace(E,(b,R)=>"colon"===(R=R.toLowerCase())?":":"#"===R.charAt(0)?"x"===R.charAt(1)?String.fromCharCode(parseInt(R.substring(2),16)):String.fromCharCode(+R.substring(1)):""));continue}case"code":T+=this.renderer.code(j.text,j.lang,!!j.escaped);continue;case"table":{const h=j;let I="",xe="";for(let D=0;D<h.header.length;D++)xe+=this.renderer.tablecell(this.parseInline(h.header[D].tokens),{header:!0,align:h.align[D]});I+=this.renderer.tablerow(xe);let ie="";for(let D=0;D<h.rows.length;D++){const K=h.rows[D];xe="";for(let se=0;se<K.length;se++)xe+=this.renderer.tablecell(this.parseInline(K[se].tokens),{header:!1,align:h.align[se]});ie+=this.renderer.tablerow(xe)}T+=this.renderer.table(I,ie);continue}case"blockquote":{const I=this.parse(j.tokens);T+=this.renderer.blockquote(I);continue}case"list":{const h=j,I=h.ordered,xe=h.start,ie=h.loose;let D="";for(let K=0;K<h.items.length;K++){const se=h.items[K],Le=se.checked,ct=se.task;let ut="";if(se.task){const en=this.renderer.checkbox(!!Le);ie?se.tokens.length>0&&"paragraph"===se.tokens[0].type?(se.tokens[0].text=en+" "+se.tokens[0].text,se.tokens[0].tokens&&se.tokens[0].tokens.length>0&&"text"===se.tokens[0].tokens[0].type&&(se.tokens[0].tokens[0].text=en+" "+se.tokens[0].tokens[0].text)):se.tokens.unshift({type:"text",text:en+" "}):ut+=en+" "}ut+=this.parse(se.tokens,ie),D+=this.renderer.listitem(ut,ct,!!Le)}T+=this.renderer.list(D,I,xe);continue}case"html":T+=this.renderer.html(j.text,j.block);continue;case"paragraph":T+=this.renderer.paragraph(this.parseInline(j.tokens));continue;case"text":{let h=j,I=h.tokens?this.parseInline(h.tokens):h.text;for(;V+1<b.length&&"text"===b[V+1].type;)h=b[++V],I+="\n"+(h.tokens?this.parseInline(h.tokens):h.text);T+=R?this.renderer.paragraph(I):I;continue}default:{const h='Token with "'+j.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return T}parseInline(b,R){R=R||this.renderer;let T="";for(let V=0;V<b.length;V++){const j=b[V];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[j.type]){const h=this.options.extensions.renderers[j.type].call({parser:this},j);if(!1!==h||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(j.type)){T+=h||"";continue}}switch(j.type){case"escape":case"text":T+=R.text(j.text);break;case"html":T+=R.html(j.text);break;case"link":T+=R.link(j.href,j.title,this.parseInline(j.tokens,R));break;case"image":T+=R.image(j.href,j.title,j.text);break;case"strong":T+=R.strong(this.parseInline(j.tokens,R));break;case"em":T+=R.em(this.parseInline(j.tokens,R));break;case"codespan":T+=R.codespan(j.text);break;case"br":T+=R.br();break;case"del":T+=R.del(this.parseInline(j.tokens,R));break;default:{const h='Token with "'+j.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return T}}class Nt{constructor(b){(0,v.A)(this,"options",void 0),this.options=b||M}preprocess(b){return b}postprocess(b){return b}}(0,v.A)(Nt,"passThroughHooks",new Set(["preprocess","postprocess"]));var Kt=new WeakSet;function ee(Y,b){return(R,T)=>{const V={...T},j={...this.defaults,...V};!0===this.defaults.async&&!1===V.async&&(j.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),j.async=!0);const h=(0,s.A)(Kt,this,fe).call(this,!!j.silent,!!j.async);if(typeof R>"u"||null===R)return h(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof R)return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(R)+", string expected"));if(j.hooks&&(j.hooks.options=j),j.async)return Promise.resolve(j.hooks?j.hooks.preprocess(R):R).then(I=>Y(I,j)).then(I=>j.walkTokens?Promise.all(this.walkTokens(I,j.walkTokens)).then(()=>I):I).then(I=>b(I,j)).then(I=>j.hooks?j.hooks.postprocess(I):I).catch(h);try{j.hooks&&(R=j.hooks.preprocess(R));const I=Y(R,j);j.walkTokens&&this.walkTokens(I,j.walkTokens);let xe=b(I,j);return j.hooks&&(xe=j.hooks.postprocess(xe)),xe}catch(I){return h(I)}}}function fe(Y,b){return R=>{if(R.message+="\nPlease report this to https://github.com/markedjs/marked.",Y){const T="<p>An error occurred:</p><pre>"+m(R.message+"",!0)+"</pre>";return b?Promise.resolve(T):T}if(b)return Promise.reject(R);throw R}}const ye=new class me{constructor(...b){(0,r.A)(this,Kt),(0,v.A)(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),(0,v.A)(this,"options",this.setOptions),(0,v.A)(this,"parse",(0,s.A)(Kt,this,ee).call(this,Ie.lex,Ce.parse)),(0,v.A)(this,"parseInline",(0,s.A)(Kt,this,ee).call(this,Ie.lexInline,Ce.parseInline)),(0,v.A)(this,"Parser",Ce),(0,v.A)(this,"Renderer",ke),(0,v.A)(this,"TextRenderer",Ze),(0,v.A)(this,"Lexer",Ie),(0,v.A)(this,"Tokenizer",we),(0,v.A)(this,"Hooks",Nt),this.use(...b)}walkTokens(b,R){let T=[];for(const V of b)switch(T=T.concat(R.call(this,V)),V.type){case"table":{const j=V;for(const h of j.header)T=T.concat(this.walkTokens(h.tokens,R));for(const h of j.rows)for(const I of h)T=T.concat(this.walkTokens(I.tokens,R));break}case"list":T=T.concat(this.walkTokens(V.items,R));break;default:{const j=V;this.defaults.extensions?.childTokens?.[j.type]?this.defaults.extensions.childTokens[j.type].forEach(h=>{T=T.concat(this.walkTokens(j[h],R))}):j.tokens&&(T=T.concat(this.walkTokens(j.tokens,R)))}}return T}use(...b){const R=this.defaults.extensions||{renderers:{},childTokens:{}};return b.forEach(T=>{const V={...T};if(V.async=this.defaults.async||V.async||!1,T.extensions&&(T.extensions.forEach(j=>{if(!j.name)throw new Error("extension name required");if("renderer"in j){const h=R.renderers[j.name];R.renderers[j.name]=h?function(...I){let xe=j.renderer.apply(this,I);return!1===xe&&(xe=h.apply(this,I)),xe}:j.renderer}if("tokenizer"in j){if(!j.level||"block"!==j.level&&"inline"!==j.level)throw new Error("extension level must be 'block' or 'inline'");const h=R[j.level];h?h.unshift(j.tokenizer):R[j.level]=[j.tokenizer],j.start&&("block"===j.level?R.startBlock?R.startBlock.push(j.start):R.startBlock=[j.start]:"inline"===j.level&&(R.startInline?R.startInline.push(j.start):R.startInline=[j.start]))}"childTokens"in j&&j.childTokens&&(R.childTokens[j.name]=j.childTokens)}),V.extensions=R),T.renderer){const j=this.defaults.renderer||new ke(this.defaults);for(const h in T.renderer){const I=T.renderer[h],ie=j[h];j[h]=(...D)=>{let K=I.apply(j,D);return!1===K&&(K=ie.apply(j,D)),K||""}}V.renderer=j}if(T.tokenizer){const j=this.defaults.tokenizer||new we(this.defaults);for(const h in T.tokenizer){const I=T.tokenizer[h],ie=j[h];j[h]=(...D)=>{let K=I.apply(j,D);return!1===K&&(K=ie.apply(j,D)),K}}V.tokenizer=j}if(T.hooks){const j=this.defaults.hooks||new Nt;for(const h in T.hooks){const I=T.hooks[h],ie=j[h];j[h]=Nt.passThroughHooks.has(h)?D=>{if(this.defaults.async)return Promise.resolve(I.call(j,D)).then(se=>ie.call(j,se));const K=I.call(j,D);return ie.call(j,K)}:(...D)=>{let K=I.apply(j,D);return!1===K&&(K=ie.apply(j,D)),K}}V.hooks=j}if(T.walkTokens){const j=this.defaults.walkTokens,h=T.walkTokens;V.walkTokens=function(I){let xe=[];return xe.push(h.call(this,I)),j&&(xe=xe.concat(j.call(this,I))),xe}}this.defaults={...this.defaults,...V}}),this}setOptions(b){return this.defaults={...this.defaults,...b},this}lexer(b,R){return Ie.lex(b,R??this.defaults)}parser(b,R){return Ce.parse(b,R??this.defaults)}};function Se(Y,b){return ye.parse(Y,b)}Se.options=Se.setOptions=function(Y){return ye.setOptions(Y),C(Se.defaults=ye.defaults),Se},Se.getDefaults=function S(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Se.defaults=M,Se.use=function(...Y){return ye.use(...Y),C(Se.defaults=ye.defaults),Se},Se.walkTokens=function(Y,b){return ye.walkTokens(Y,b)},Se.parseInline=ye.parseInline,Se.Parser=Ce,Se.parser=Ce.parse,Se.Renderer=ke,Se.TextRenderer=Ze,Se.Lexer=Ie,Se.lexer=Ie.lex,Se.Tokenizer=we,Se.Hooks=Nt,Se.parse=Se},93163:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>ee});var r=w(28407),s=w(15114),v=w(99158),S=w(90719);function M(R,T,V){(0,S.A)(R,T),T.set(R,V)}var C=w(21766);function d(R,T,V){return V((0,C.A)(R,T))}function F(R,T){return R.get((0,C.A)(R,T))}function P(R,T,V){return R.set((0,C.A)(R,T),V),V}var G=w(91677);class x extends Error{constructor(T){super(T),this.name="TimeoutError"}}class m extends Error{constructor(T){super(),this.name="AbortError",this.message=T}}const E=R=>void 0===globalThis.DOMException?new m(R):new DOMException(R),L=R=>{const T=void 0===R.reason?E("This operation was aborted."):R.reason;return T instanceof Error?T:E(T)};var Z=new WeakMap;class ne{constructor(){M(this,Z,[])}enqueue(T,V){const j={priority:(V={priority:0,...V}).priority,run:T};if(this.size&&F(Z,this)[this.size-1].priority>=V.priority)return void F(Z,this).push(j);const h=function U(R,T,V){let j=0,h=R.length;for(;h>0;){const I=Math.trunc(h/2);let xe=j+I;V(R[xe],T)<=0?(j=++xe,h-=I+1):h=I}return j}(F(Z,this),j,(I,xe)=>xe.priority-I.priority);F(Z,this).splice(h,0,j)}dequeue(){return F(Z,this).shift()?.run}filter(T){return F(Z,this).filter(V=>V.priority===T.priority).map(V=>V.run)}get size(){return F(Z,this).length}}var q=new WeakMap,le=new WeakMap,z=new WeakMap,J=new WeakMap,he=new WeakMap,we=new WeakMap,k=new WeakMap,ue=new WeakMap,Ie=new WeakMap,ke=new WeakMap,Ze=new WeakMap,Ce=new WeakMap,Nt=new WeakMap,Kt=new WeakMap,me=new WeakSet;class ee extends G{constructor(T){if(super(),(0,s.A)(this,me),M(this,q,void 0),M(this,le,void 0),M(this,z,0),M(this,J,void 0),M(this,he,void 0),M(this,we,0),M(this,k,void 0),M(this,ue,void 0),M(this,Ie,void 0),M(this,ke,void 0),M(this,Ze,0),M(this,Ce,void 0),M(this,Nt,void 0),M(this,Kt,void 0),(0,v.A)(this,"timeout",void 0),!("number"==typeof(T={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:ne,...T}).intervalCap&&T.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${T.intervalCap?.toString()??""}\` (${typeof T.intervalCap})`);if(void 0===T.interval||!(Number.isFinite(T.interval)&&T.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${T.interval?.toString()??""}\` (${typeof T.interval})`);P(q,this,T.carryoverConcurrencyCount),P(le,this,T.intervalCap===Number.POSITIVE_INFINITY||0===T.interval),P(J,this,T.intervalCap),P(he,this,T.interval),P(Ie,this,new T.queueClass),P(ke,this,T.queueClass),this.concurrency=T.concurrency,this.timeout=T.timeout,P(Kt,this,!0===T.throwOnTimeout),P(Nt,this,!1===T.autoStart)}get concurrency(){return F(Ce,this)}set concurrency(T){if(!("number"==typeof T&&T>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${T}\` (${typeof T})`);P(Ce,this,T),(0,C.A)(me,this,We).call(this)}add(T,V={}){var j=this;return(0,r.A)(function*(){return V={timeout:j.timeout,throwOnTimeout:F(Kt,j),...V},new Promise((h,I)=>{F(Ie,j).enqueue((0,r.A)(function*(){var xe,D;P(Ze,j,(xe=F(Ze,j),++xe)),P(z,j,(D=F(z,j),++D));try{V.signal?.throwIfAborted();let se=T({signal:V.signal});V.timeout&&(se=function ae(R,T){const{milliseconds:V,fallback:j,message:h,customTimers:I={setTimeout,clearTimeout}}=T;let xe;const D=new Promise((K,se)=>{if("number"!=typeof V||1!==Math.sign(V))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${V}\``);if(T.signal){const{signal:ct}=T;ct.aborted&&se(L(ct)),ct.addEventListener("abort",()=>{se(L(ct))})}if(V===Number.POSITIVE_INFINITY)return void R.then(K,se);const Le=new x;xe=I.setTimeout.call(void 0,()=>{if(j)try{K(j())}catch(ct){se(ct)}else"function"==typeof R.cancel&&R.cancel(),!1===h?K():h instanceof Error?se(h):(Le.message=h??`Promise timed out after ${V} milliseconds`,se(Le))},V),(0,r.A)(function*(){try{K(yield R)}catch(ct){se(ct)}})()}).finally(()=>{D.clear()});return D.clear=()=>{I.clearTimeout.call(void 0,xe),xe=void 0},D}(Promise.resolve(se),{milliseconds:V.timeout})),V.signal&&(se=Promise.race([se,(0,C.A)(me,j,Ve).call(j,V.signal)]));const Le=yield se;h(Le),j.emit("completed",Le)}catch(se){if(se instanceof x&&!V.throwOnTimeout)return void h();I(se),j.emit("error",se)}finally{(0,C.A)(me,j,Se).call(j)}}),V),j.emit("add"),(0,C.A)(me,j,qt).call(j)})})()}addAll(T,V){var j=this;return(0,r.A)(function*(){return Promise.all(T.map(function(){var h=(0,r.A)(function*(I){return j.add(I,V)});return function(I){return h.apply(this,arguments)}}()))})()}start(){return F(Nt,this)?(P(Nt,this,!1),(0,C.A)(me,this,We).call(this),this):this}pause(){P(Nt,this,!0)}clear(){P(Ie,this,new(F(ke,this)))}onEmpty(){var T=this;return(0,r.A)(function*(){0!==F(Ie,T).size&&(yield(0,C.A)(me,T,Y).call(T,"empty"))})()}onSizeLessThan(T){var V=this;return(0,r.A)(function*(){F(Ie,V).size<T||(yield(0,C.A)(me,V,Y).call(V,"next",()=>F(Ie,V).size<T))})()}onIdle(){var T=this;return(0,r.A)(function*(){0===F(Ze,T)&&0===F(Ie,T).size||(yield(0,C.A)(me,T,Y).call(T,"idle"))})()}get size(){return F(Ie,this).size}sizeBy(T){return F(Ie,this).filter(T).length}get pending(){return F(Ze,this)}get isPaused(){return F(Nt,this)}}function fe(R){return F(le,R)||F(z,R)<F(J,R)}function ye(R){return F(Ze,R)<F(Ce,R)}function Se(){var R;P(Ze,this,(R=F(Ze,this),--R)),(0,C.A)(me,this,qt).call(this),this.emit("next")}function Be(){(0,C.A)(me,this,Tt).call(this),(0,C.A)(me,this,Ln).call(this),P(ue,this,void 0)}function yt(R){const T=Date.now();if(void 0===F(k,R)){const V=F(we,R)-T;if(!(V<0))return void 0===F(ue,R)&&P(ue,R,setTimeout(()=>{(0,C.A)(me,R,Be).call(R)},V)),!0;P(z,R,F(q,R)?F(Ze,R):0)}return!1}function qt(){if(0===F(Ie,this).size)return F(k,this)&&clearInterval(F(k,this)),P(k,this,void 0),this.emit("empty"),0===F(Ze,this)&&this.emit("idle"),!1;if(!F(Nt,this)){const R=!d(me,this,yt);if(d(me,this,fe)&&d(me,this,ye)){const T=F(Ie,this).dequeue();return!!T&&(this.emit("active"),T(),R&&(0,C.A)(me,this,Ln).call(this),!0)}}return!1}function Ln(){F(le,this)||void 0!==F(k,this)||(P(k,this,setInterval(()=>{(0,C.A)(me,this,Tt).call(this)},F(he,this))),P(we,this,Date.now()+F(he,this)))}function Tt(){0===F(z,this)&&0===F(Ze,this)&&F(k,this)&&(clearInterval(F(k,this)),P(k,this,void 0)),P(z,this,F(q,this)?F(Ze,this):0),(0,C.A)(me,this,We).call(this)}function We(){for(;(0,C.A)(me,this,qt).call(this););}function Ve(R){return wt.apply(this,arguments)}function wt(){return(wt=(0,r.A)(function*(R){return new Promise((T,V)=>{R.addEventListener("abort",()=>{V(R.reason)},{once:!0})})})).apply(this,arguments)}function Y(R,T){return b.apply(this,arguments)}function b(){return(b=(0,r.A)(function*(R,T){return new Promise(V=>{const j=()=>{T&&!T()||(this.off(R,j),V())};this.on(R,j)})})).apply(this,arguments)}},70432:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>P});var r=w(28407),s=w(86179);const v=Object.prototype.toString,S=N=>"[object Error]"===v.call(N),M=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);class d extends Error{constructor(x){super(),x instanceof Error?(this.originalError=x,({message:x}=x)):(this.originalError=new Error(x),this.originalError.stack=this.stack),this.name="AbortError",this.message=x}}const F=(N,x,m)=>{const E=m.retries-(x-1);return N.attemptNumber=x,N.retriesLeft=E,N};function P(N,x){return G.apply(this,arguments)}function G(){return G=(0,r.A)(function*(N,x){return new Promise((m,E)=>{x={onFailedAttempt(){},retries:10,shouldRetry:()=>!0,...x};const L=s.operation(x),ae=()=>{L.stop(),E(x.signal?.reason)};x.signal&&!x.signal.aborted&&x.signal.addEventListener("abort",ae,{once:!0});const U=()=>{x.signal?.removeEventListener("abort",ae),L.stop()};L.attempt(function(){var Z=(0,r.A)(function*(ne){try{const q=yield N(ne);U(),m(q)}catch(q){try{if(!(q instanceof Error))throw new TypeError(`Non-error was thrown: "${q}". You should only throw errors.`);if(q instanceof d)throw q.originalError;if(q instanceof TypeError&&!function C(N){return!(!N||!S(N)||"TypeError"!==N.name||"string"!=typeof N.message)&&("Load failed"===N.message?void 0===N.stack:M.has(N.message))}(q))throw q;if(F(q,ne,x),(yield x.shouldRetry(q))||(L.stop(),E(q)),yield x.onFailedAttempt(q),!L.retry(q))throw L.mainError()}catch(le){F(le,ne,x),U(),E(le)}}});return function(ne){return Z.apply(this,arguments)}}())})}),G.apply(this,arguments)}},21766:(ln,qe,w)=>{"use strict";function r(s,v,S){if("function"==typeof s?s===v:s.has(v))return arguments.length<3?v:S;throw new TypeError("Private element is not present on this object")}w.d(qe,{A:()=>r})},28407:(ln,qe,w)=>{"use strict";function r(v,S,M,C,d,F,P){try{var G=v[F](P),N=G.value}catch(x){return void M(x)}G.done?S(N):Promise.resolve(N).then(C,d)}function s(v){return function(){var S=this,M=arguments;return new Promise(function(C,d){var F=v.apply(S,M);function P(N){r(F,C,d,P,G,"next",N)}function G(N){r(F,C,d,P,G,"throw",N)}P(void 0)})}}w.d(qe,{A:()=>s})},90719:(ln,qe,w)=>{"use strict";function r(s,v){if(v.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}w.d(qe,{A:()=>r})},15114:(ln,qe,w)=>{"use strict";w.d(qe,{A:()=>s});var r=w(90719);function s(v,S){(0,r.A)(v,S),S.add(v)}},99158:(ln,qe,w)=>{"use strict";function r(M){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(M)}function S(M,C,d){return(C=function v(M){var C=function s(M,C){if("object"!=r(M)||!M)return M;var d=M[Symbol.toPrimitive];if(void 0!==d){var F=d.call(M,C||"default");if("object"!=r(F))return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(M)}(M,"string");return"symbol"==r(C)?C:String(C)}(C))in M?Object.defineProperty(M,C,{value:d,enumerable:!0,configurable:!0,writable:!0}):M[C]=d,M}w.d(qe,{A:()=>S})},31635:(ln,qe,w)=>{"use strict";function x(fe,ye,Se,Be){return new(Se||(Se=Promise))(function(qt,Ln){function Tt(wt){try{Ve(Be.next(wt))}catch(Y){Ln(Y)}}function We(wt){try{Ve(Be.throw(wt))}catch(Y){Ln(Y)}}function Ve(wt){wt.done?qt(wt.value):function yt(qt){return qt instanceof Se?qt:new Se(function(Ln){Ln(qt)})}(wt.value).then(Tt,We)}Ve((Be=Be.apply(fe,ye||[])).next())})}function le(fe){return this instanceof le?(this.v=fe,this):new le(fe)}function z(fe,ye,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,Be=Se.apply(fe,ye||[]),qt=[];return yt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Tt("next"),Tt("throw"),Tt("return",function Ln(R){return function(T){return Promise.resolve(T).then(R,Y)}}),yt[Symbol.asyncIterator]=function(){return this},yt;function Tt(R,T){Be[R]&&(yt[R]=function(V){return new Promise(function(j,h){qt.push([R,V,j,h])>1||We(R,V)})},T&&(yt[R]=T(yt[R])))}function We(R,T){try{!function Ve(R){R.value instanceof le?Promise.resolve(R.value.v).then(wt,Y):b(qt[0][2],R)}(Be[R](T))}catch(V){b(qt[0][3],V)}}function wt(R){We("next",R)}function Y(R){We("throw",R)}function b(R,T){R(T),qt.shift(),qt.length&&We(qt[0][0],qt[0][1])}}function he(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,ye=fe[Symbol.asyncIterator];return ye?ye.call(fe):(fe=function ae(fe){var ye="function"==typeof Symbol&&Symbol.iterator,Se=ye&&fe[ye],Be=0;if(Se)return Se.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Be>=fe.length&&(fe=void 0),{value:fe&&fe[Be++],done:!fe}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Se={},Be("next"),Be("throw"),Be("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Be(qt){Se[qt]=fe[qt]&&function(Ln){return new Promise(function(Tt,We){!function yt(qt,Ln,Tt,We){Promise.resolve(We).then(function(Ve){qt({value:Ve,done:Tt})},Ln)}(Tt,We,(Ln=fe[qt](Ln)).done,Ln.value)})}}}w.d(qe,{AQ:()=>z,N3:()=>le,sH:()=>x,xN:()=>he}),"function"==typeof SuppressedError&&SuppressedError}}]);